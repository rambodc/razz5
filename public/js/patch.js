var CABLES;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ core)
});

// NAMESPACE OBJECT: ./src/core/utils.js
var utils_namespaceObject = {};
__webpack_require__.r(utils_namespaceObject);
__webpack_require__.d(utils_namespaceObject, {
  UTILS: () => (UTILS),
  ajax: () => (ajax),
  ajaxSync: () => (ajaxSync),
  basename: () => (basename),
  cacheBust: () => (cacheBust),
  clamp: () => (clamp),
  cleanJson: () => (cleanJson),
  copyArray: () => (copyArray),
  filename: () => (filename),
  generateUUID: () => (generateUUID),
  getShortOpName: () => (getShortOpName),
  keyCodeToName: () => (keyCodeToName),
  logErrorConsole: () => (logErrorConsole),
  logStack: () => (logStack),
  map: () => (map),
  prefixedHash: () => (prefixedHash),
  request: () => (request),
  shortId: () => (shortId),
  shuffleArray: () => (shuffleArray),
  simpleId: () => (simpleId),
  smoothStep: () => (smoothStep),
  smootherStep: () => (smootherStep),
  uuid: () => (uuid)
});

// NAMESPACE OBJECT: ./src/core/anim.js
var anim_namespaceObject = {};
__webpack_require__.r(anim_namespaceObject);
__webpack_require__.d(anim_namespaceObject, {
  ANIM: () => (ANIM),
  Anim: () => (Anim)
});

;// CONCATENATED MODULE: ./src/core/constants.js
const CONSTANTS = {
    "ANIM": {
        "EASINGS": [
            "linear",
            "absolute",
            "smoothstep",
            "smootherstep",
            "Cubic In",
            "Cubic Out",
            "Cubic In Out",
            "Expo In",
            "Expo Out",
            "Expo In Out",
            "Sin In",
            "Sin Out",
            "Sin In Out",
            "Quart In",
            "Quart Out",
            "Quart In Out",
            "Quint In",
            "Quint Out",
            "Quint In Out",
            "Back In",
            "Back Out",
            "Back In Out",
            "Elastic In",
            "Elastic Out",
            "Bounce In",
            "Bounce Out",
        ],
        "EASING_LINEAR": 0,
        "EASING_ABSOLUTE": 1,
        "EASING_SMOOTHSTEP": 2,
        "EASING_SMOOTHERSTEP": 3,
        "EASING_CUBICSPLINE": 4,

        "EASING_CUBIC_IN": 5,
        "EASING_CUBIC_OUT": 6,
        "EASING_CUBIC_INOUT": 7,

        "EASING_EXPO_IN": 8,
        "EASING_EXPO_OUT": 9,
        "EASING_EXPO_INOUT": 10,

        "EASING_SIN_IN": 11,
        "EASING_SIN_OUT": 12,
        "EASING_SIN_INOUT": 13,

        "EASING_BACK_IN": 14,
        "EASING_BACK_OUT": 15,
        "EASING_BACK_INOUT": 16,

        "EASING_ELASTIC_IN": 17,
        "EASING_ELASTIC_OUT": 18,

        "EASING_BOUNCE_IN": 19,
        "EASING_BOUNCE_OUT": 21,

        "EASING_QUART_IN": 22,
        "EASING_QUART_OUT": 23,
        "EASING_QUART_INOUT": 24,

        "EASING_QUINT_IN": 25,
        "EASING_QUINT_OUT": 26,
        "EASING_QUINT_INOUT": 27,
    },

    "OP": {
        "OP_PORT_TYPE_VALUE": 0,
        "OP_PORT_TYPE_NUMBER": 0,
        "OP_PORT_TYPE_FUNCTION": 1,
        "OP_PORT_TYPE_TRIGGER": 1,
        "OP_PORT_TYPE_OBJECT": 2,
        "OP_PORT_TYPE_TEXTURE": 2,
        "OP_PORT_TYPE_ARRAY": 3,
        "OP_PORT_TYPE_DYNAMIC": 4,
        "OP_PORT_TYPE_STRING": 5,

        "OP_VERSION_PREFIX": "_v",
    },

    "PORT": {
        "PORT_DIR_IN": 0,
        "PORT_DIR_OUT": 1,
    },

    "PACO": {
        "PACO_CLEAR": 0,
        "PACO_VALUECHANGE": 1,
        "PACO_OP_DELETE": 2,
        "PACO_UNLINK": 3,
        "PACO_LINK": 4,
        "PACO_LOAD": 5,
        "PACO_OP_CREATE": 6,
        "PACO_OP_ENABLE": 7,
        "PACO_OP_DISABLE": 8,
        "PACO_UIATTRIBS": 9,
        "PACO_VARIABLES": 10,
        "PACO_TRIGGERS": 11,
        "PACO_PORT_SETVARIABLE": 12,
        "PACO_PORT_SETANIMATED": 13,
        "PACO_PORT_ANIM_UPDATED": 14,
        "PACO_DESERIALIZE": 15,
        "PACO_OP_RELOAD": 16
    },
};

;// CONCATENATED MODULE: ./src/core/utils.js

/**
 * @namespace external:CABLES#Utils
 */



const UTILS = {};
/**
 * Merge two Float32Arrays.
 * @function float32Concat
 * @memberof Utils
 * @param {Float32Array} first Left-hand side array
 * @param {Float32Array} second Right-hand side array
 * @return {Float32Array}
 * @static
 */
UTILS.float32Concat = function (first, second)
{
    if (!(first instanceof Float32Array)) first = new Float32Array(first);
    if (!(second instanceof Float32Array)) second = new Float32Array(second);

    const result = new Float32Array(first.length + second.length);

    result.set(first);
    result.set(second, first.length);

    return result;
};

/**
 * get op shortname: only last part of fullname and without version
 * @function getShortOpName
 * @memberof CABLES
 * @param {string} fullname full op name
 * @static
 */
const getShortOpName = function (fullname)
{
    let name = fullname.split(".")[fullname.split(".").length - 1];

    if (name.contains(CONSTANTS.OP.OP_VERSION_PREFIX))
    {
        const n = name.split(CONSTANTS.OP.OP_VERSION_PREFIX)[1];
        name = name.substring(0, name.length - (CONSTANTS.OP.OP_VERSION_PREFIX + n).length);
    }
    return name;
};

/**
 * randomize order of an array
 * @function shuffleArray
 * @memberof Utils
 * @param {Array|Float32Array} array {Array} original
 * @return {Array|Float32Array} shuffled array
 * @static
 */
const shuffleArray = function (array)
{
    for (let i = array.length - 1; i > 0; i--)
    {
        const j = Math.floor(Math.seededRandom() * (i + 1));
        const temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
};


/**
 * generate a short "relativly unique" id
 * @function shortId
 * @memberof Utils
 * @return {String} generated ID
 * @static
 */

const _shortIds = {};
const _shortId = function ()
{
    let str = Math.random().toString(36).substr(2, 9);

    if (_shortIds.hasOwnProperty(str)) str = _shortId();
    _shortIds[str] = true;
    return str;
};
const shortId = _shortId;


/**
 * generate a UUID
 * @function uuid
 * @memberof Utils
 * @return {String} generated UUID
 * @static
 */
const _uuid = function ()
{
    let d = new Date().getTime();
    const uuid = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) =>
    {
        const r = (d + Math.random() * 16) % 16 | 0;
        d = Math.floor(d / 16);
        return (c == "x" ? r : (r & 0x3) | 0x8).toString(16);
    });
    return uuid;
};
const uuid = _uuid;
const generateUUID = _uuid;



function cleanJson(obj)
{
    for (const i in obj)
    {
        if (obj[i] && typeof objValue === "object" && obj[i].constructor === Object) obj[i] = cleanJson(obj[i]);

        if (obj[i] === null || obj[i] === undefined) delete obj[i];
        else if (Array.isArray(obj[i]) && obj[i].length == 0) delete obj[i];
    }

    return obj;
}


/**
 * @see http://stackoverflow.com/q/7616461/940217
 * @memberof Utils
 * @param str
 * @param prefix
 * @return {string}
 */
const _prefixedHash = function (str, prefix = "id")
{
    let hash = 0;
    if (Array.prototype.reduce)
    {
        hash = str.split("").reduce((a, b) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a; }, 0);
    }
    else
    {
        if (str.length > 0)
        {
            for (let i = 0; i < str.length; i++)
            {
                let character = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + character;
                hash &= hash; // Convert to 32bit integer
            }
        }
    }
    return prefix + "" + hash;
};
const prefixedHash = _prefixedHash;

/**
 * generate a simple ID
 * @function simpleId
 * @memberof Utils
 * @return {Number} new id
 * @static
 */
let simpleIdCounter = 0;
const simpleId = function ()
{
    simpleIdCounter++;
    return simpleIdCounter;
};

/**
 * smoothStep a value
 * @function smoothStep
 * @memberof Utils
 * @function
 * @param {Number} perc value value to be smoothed [0-1]
 * @return {Number} smoothed value
 * @static
 */
const smoothStep = function (perc)
{
    const x = Math.max(0, Math.min(1, (perc - 0) / (1 - 0)));
    perc = x * x * (3 - 2 * x); // smoothstep
    return perc;
};

/**
 * smootherstep a value
 * @function smootherStep
 * @memberof Utils
 * @param {Number} perc value to be smoothed [0-1]
 * @return {Number} smoothed value
 * @static
 */
const smootherStep = function (perc)
{
    const x = Math.max(0, Math.min(1, (perc - 0) / (1 - 0)));
    perc = x * x * x * (x * (x * 6 - 15) + 10); // smootherstep
    return perc;
};


/**
 * clamp number / make sure its between min/max
 * @function clamp
 * @memberof Utils
 * @param {Number} value value to be mapped
 * @param {Number} min minimum value
 * @param {Number} max maximum value
 * @static
 */
const clamp = function (value, min, max)
{
    return Math.min(Math.max(value, min), max);
};

/**
 * map a value in a range to a value in another range
 * @function map
 * @memberof Utils
 * @param {Number} x value to be mapped
 * @param {Number} _oldMin old range minimum value
 * @param {Number} _oldMax old range maximum value
 * @param {Number} _newMin new range minimum value
 * @param {Number} _newMax new range maximum value
 * @param {Number} _easing
 * @return {Number} mapped value
 * @static
 */
const map = function (x, _oldMin, _oldMax, _newMin, _newMax, _easing)
{
    if (x >= _oldMax) return _newMax;
    if (x <= _oldMin) return _newMin;

    let reverseInput = false;
    const oldMin = Math.min(_oldMin, _oldMax);
    const oldMax = Math.max(_oldMin, _oldMax);
    if (oldMin != _oldMin) reverseInput = true;

    let reverseOutput = false;
    const newMin = Math.min(_newMin, _newMax);
    const newMax = Math.max(_newMin, _newMax);
    if (newMin != _newMin) reverseOutput = true;

    let portion = 0;
    let r = 0;

    if (reverseInput) portion = ((oldMax - x) * (newMax - newMin)) / (oldMax - oldMin);
    else portion = ((x - oldMin) * (newMax - newMin)) / (oldMax - oldMin);

    if (reverseOutput) r = newMax - portion;
    else r = portion + newMin;

    if (!_easing) return r;
    if (_easing == 1)
    {
        // smoothstep
        x = Math.max(0, Math.min(1, (r - _newMin) / (_newMax - _newMin)));
        return _newMin + x * x * (3 - 2 * x) * (_newMax - _newMin);
    }
    if (_easing == 2)
    {
        // smootherstep
        x = Math.max(0, Math.min(1, (r - _newMin) / (_newMax - _newMin)));
        return _newMin + x * x * x * (x * (x * 6 - 15) + 10) * (_newMax - _newMin);
    }

    return r;
};

/**
 * @namespace Math
 */
/**
 * set random seed for seededRandom()
 * @memberof Math
 * @type Number
 * @static
 */
Math.randomSeed = 1;


Math.setRandomSeed = function (seed)
{
    // https://github.com/cables-gl/cables_docs/issues/622
    Math.randomSeed = seed * 50728129;
    if (seed != 0)
    {
        Math.randomSeed = Math.seededRandom() * 17624813;
        Math.randomSeed = Math.seededRandom() * 9737333;
    }
};


/**
 * generate a seeded random number
 * @function seededRandom
 * @memberof Math
 * @param {Number} max minimum possible random number
 * @param {Number} min maximum possible random number
 * @return {Number} random value
 * @static
 */
Math.seededRandom = function (max, min)
{
    if (Math.randomSeed === 0) Math.randomSeed = Math.random() * 999;
    max = max || 1;
    min = min || 0;

    Math.randomSeed = (Math.randomSeed * 9301 + 49297) % 233280;
    const rnd = Math.randomSeed / 233280.0;

    return min + rnd * (max - min);
};


// ----------------------------------------------------------------

/**
 * returns true if parameter is a number
 * @function isNumeric
 * @memberof Utils
 * @param {Any} n value The value to check.
 * @return {Boolean}
 * @static
 */
UTILS.isNumeric = function (n)
{
    return !isNaN(parseFloat(n)) && isFinite(n);
};

/**
 * returns true if parameter is array
 * @function isArray
 * @param {Any} v value Value to check
 * @memberof Utils
 * @return {Boolean}
 * @static
 */
UTILS.isArray = function (v)
{
    return Object.prototype.toString.call(v) === "[object Array]";
};

/**
 * @namespace String
 */

/**
 * append a linebreak to a string
 * @function endl
 * @memberof String
 * @return {String} string with newline break appended ('\n')
 */
String.prototype.endl = function ()
{
    return this + "\n";
};

/**
 * return true if string starts with prefix
 * @function startsWith
 * @memberof String
 * @param {String} prefix The prefix to check.
 * @return {Boolean}
 */
String.prototype.startsWith = function (prefix)
{
    if (!this || !prefix) return false;
    if (this.length >= prefix.length)
    {
        if (this.substring(0, prefix.length) == prefix) return true;
    }
    return false;
    // return this.indexOf(prefix) === 0;
};

/**
 * return true if string ends with suffix
 * @function endsWith
 * @memberof String
 * @param {String} suffix
 * @return {Boolean}
 */
String.prototype.endsWith = String.prototype.endsWith || function (suffix)
{
    return this.match(suffix + "$") == suffix;
};

/**
 * return true if string contains string
 * @function contains
 * @memberof String
 * @param {String} searchStr
 * @return {Boolean}
 */
String.prototype.contains = String.prototype.contains || function (searchStr)
{
    return this.indexOf(searchStr) > -1;
};



// ----------------------------------------------------------------

/**
 * append a unique/random parameter to a url, so the browser is forced to reload the file, even if its cached
 * @function cacheBust
 * @static
 * @memberof Utils
 * @param {String} url The url to append the cachebuster parameter to.
 * @return {String} url with cachebuster parameter
 */
const cacheBust = function (url = "")
{
    if (!url) return "";
    if (url.startsWith("data:")) return;
    if (url.contains("?")) url += "&";
    else url += "?";
    return url + "cache=" + CABLES.uuid();
};

/**
 * copy the content of an array
 * @function copyArray
 * @static
 * @memberof Utils
 * @param {Array} src sourceArray
 * @param {Array} dst optional
 * @return {Array} dst
 */
const copyArray = function (src, dst)
{
    if (!src) return null;
    dst = dst || [];
    dst.length = src.length;
    for (let i = 0; i < src.length; i++)
    {
        dst[i] = src[i];
    }

    return dst;
};


/**
 * return the filename part of a url without extension
 * @function basename
 * @static
 * @memberof Utils
 * @param {String} url
 * @return {String} just the filename
 */
const basename = function (url)
{
    let name = CABLES.filename(url);

    const parts2 = name.split(".");
    name = parts2[0];

    return name;
};

/**
 * output a stacktrace to the console
 * @function logStack
 * @static
 * @memberof Utils
 */
const logStack = function ()
{
    console.log("logstack", (new Error()).stack);
};

/**
 * return the filename part of a url
 * @function filename
 * @static
 * @memberof Utils
 * @param {String} url
 * @return {String} just the filename
 */
const filename = function (url)
{
    let name = "";
    if (!url) return "";

    if (url.startsWith("data:") && url.contains(":"))
    {
        const parts = url.split(",");
        return parts[0];
    }

    let parts = (url + "").split("/");
    if (parts.length > 0)
    {
        const str = parts[parts.length - 1];
        let parts2 = str.split("?");
        name = parts2[0];
    }

    return name || "";
};


const ajaxSync = function (url, cb, method, post, contenttype)
{
    request({
        "url": url,
        "cb": cb,
        "method": method,
        "data": post,
        "contenttype": contenttype,
        "sync": true,
    });
};

/**
 * make an ajax request
 * @static
 * @function ajax
 * @param url
 * @param cb
 * @param method
 * @param post
 * @param contenttype
 * @param jsonP
 * @param headers
 * @param options
 */
const ajax = function (url, cb, method, post, contenttype, jsonP, headers = {}, options = {})
{
    const requestOptions = {
        "url": url,
        "cb": cb,
        "method": method,
        "data": post,
        "contenttype": contenttype,
        "sync": false,
        "jsonP": jsonP,
        "headers": headers,
    };
    if (options && options.credentials) requestOptions.credentials = options.credentials;
    request(requestOptions);
};

const request = function (options)
{
    if (!options.hasOwnProperty("asynch")) options.asynch = true;

    let xhr;
    try
    {
        xhr = new XMLHttpRequest();
    }
    catch (e) {}

    xhr.onreadystatechange = function ()
    {
        if (xhr.readyState != 4) return;

        if (options.cb)
        {
            if (xhr.status == 200 || xhr.status == 0) options.cb(false, xhr.responseText, xhr);
            else options.cb(true, xhr.responseText, xhr);
        }
    };

    try
    {
        xhr.open(options.method ? options.method.toUpperCase() : "GET", options.url, !options.sync);
    }
    catch (e)
    {
        if (options.cb && e) options.cb(true, e.msg, xhr);
    }

    if (typeof options.headers === "object")
    {
        if (options.headers)
        {
            const keys = Object.keys(options.headers);
            for (let i = 0; i < keys.length; i++)
            {
                const name = keys[i];
                const value = options.headers[name];
                xhr.setRequestHeader(name, value);
            }
        }
    }

    if (options.credentials && options.credentials !== "omit")
    {
        xhr.withCredentials = true;
    }

    try
    {
        if (!options.post && !options.data)
        {
            xhr.send();
        }
        else
        {
            xhr.setRequestHeader(
                "Content-type",
                options.contenttype ? options.contenttype : "application/x-www-form-urlencoded",
            );
            xhr.send(options.data || options.post);
        }
    }
    catch (e)
    {
        if (options.cb) options.cb(true, e.msg, xhr);
    }
};


const keyCodeToName = function (keyCode)
{
    if (!keyCode && keyCode !== 0) return "Unidentified";
    const keys = {
        "8": "Backspace",
        "9": "Tab",
        "12": "Clear",
        "13": "Enter",
        "16": "Shift",
        "17": "Control",
        "18": "Alt",
        "19": "Pause",
        "20": "CapsLock",
        "27": "Escape",
        "32": "Space",
        "33": "PageUp",
        "34": "PageDown",
        "35": "End",
        "36": "Home",
        "37": "ArrowLeft",
        "38": "ArrowUp",
        "39": "ArrowRight",
        "40": "ArrowDown",
        "45": "Insert",
        "46": "Delete",
        "112": "F1",
        "113": "F2",
        "114": "F3",
        "115": "F4",
        "116": "F5",
        "117": "F6",
        "118": "F7",
        "119": "F8",
        "120": "F9",
        "121": "F10",
        "122": "F11",
        "123": "F12",
        "144": "NumLock",
        "145": "ScrollLock",
        "224": "Meta"
    };
    if (keys[keyCode])
    {
        return keys[keyCode];
    }
    else
    {
        return String.fromCharCode(keyCode);
    }
};
// ----------------------------------------------------------------

window.performance = window.performance || {
    "offset": Date.now(),
    "now": function now()
    {
        return Date.now() - this.offset;
    },
};


const logErrorConsole = function (initiator)
{
    CABLES.errorConsole = CABLES.errorConsole || { "log": [] };
    CABLES.errorConsole.log.push({ "initiator": initiator, "arguments": arguments });

    if (!CABLES.errorConsole.ele)
    {
        const ele = document.createElement("div");
        ele.id = "cablesErrorConsole";
        ele.style.width = "90%";
        ele.style.height = "300px";
        ele.style.zIndex = "9999999";
        ele.style.display = "inline-block";
        ele.style.position = "absolute";
        ele.style.padding = "10px";
        ele.style.fontFamily = "monospace";
        ele.style.color = "red";
        ele.style.backgroundColor = "#200";

        CABLES.errorConsole.ele = ele;
        document.body.appendChild(ele);
    }

    let logHtml = "ERROR<br/>for more info, open your browsers dev tools console (Ctrl+Shift+I or Command+Alt+I)<br/>";

    for (let l = 0; l < CABLES.errorConsole.log.length; l++)
    {
        logHtml += CABLES.errorConsole.log[l].initiator + " ";
        for (let i = 1; i < CABLES.errorConsole.log[l].arguments.length; i++)
        {
            if (i > 2)logHtml += ", ";
            let arg = CABLES.errorConsole.log[l].arguments[i];
            if (arg.constructor.name.indexOf("Error") > -1 || arg.constructor.name.indexOf("error") > -1)
            {
                let txt = "Uncaught ErrorEvent ";
                if (arg.message)txt += " message: " + arg.message;
                logHtml += txt;
            }
            else if (typeof arg == "string")
                logHtml += arg;
            else if (typeof arg == "number")
                logHtml += String(arg) + " ";
        }
        logHtml += "<br/>";
    }


    CABLES.errorConsole.ele.innerHTML = logHtml;
};




;// CONCATENATED MODULE: ../shared/client/src/logger.js
/* eslint-disable no-console */

class Logger
{
    constructor(initiator, options)
    {
        this.initiator = initiator;
        this._options = options;
    }

    stack(t)
    {
        console.info("[" + this.initiator + "] ", t);
        console.log((new Error()).stack);
    }

    groupCollapsed(t)
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 0 }, ...arguments)) || !CABLES.logSilent) console.log("[" + this.initiator + "]", ...arguments);

        console.groupCollapsed("[" + this.initiator + "] " + t);
    }

    table(t)
    {
        console.table(t);
    }

    groupEnd()
    {
        console.groupEnd();
    }

    error()
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 2 }, ...arguments)) || !CABLES.UI)
        {
            console.error("[" + this.initiator + "]", ...arguments);
        }

        if (!CABLES.UI && this._options && this._options.onError)
        {
            this._options.onError(this.initiator, ...arguments);
            // console.log("emitevent onerror...");
            // CABLES.patch.emitEvent("onError", this.initiator, ...arguments);
            // CABLES.logErrorConsole("[" + this.initiator + "]", ...arguments);
        }
    }

    errorGui()
    {
        if (CABLES.UI) CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 2 }, ...arguments);
    }

    warn()
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 1 }, ...arguments)) || !CABLES.logSilent)
            console.warn("[" + this.initiator + "]", ...arguments);
    }

    verbose()
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 0 }, ...arguments)) || !CABLES.logSilent)
            console.log("[" + this.initiator + "]", ...arguments);
    }

    info()
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 0 }, ...arguments)) || !CABLES.logSilent)
            console.info("[" + this.initiator + "]", ...arguments);
    }

    log()
    {
        if ((CABLES.UI && CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 0 }, ...arguments)) || !CABLES.logSilent)
            console.log("[" + this.initiator + "]", ...arguments);
    }

    logGui()
    {
        if (CABLES.UI) CABLES.UI.logFilter.filterLog({ "initiator": this.initiator, "level": 0 }, ...arguments);
    }

    userInteraction(text)
    {
        // this.log({ "initiator": "userinteraction", "text": text });
    }
}

;// CONCATENATED MODULE: ./src/core/anim_key.js


const Key = function (obj)
{
    this.time = 0.0;
    this.value = 0.0;
    // this.ui = null;
    this.onChange = null;
    this._easing = 0;
    // this.bezTangIn = 0;
    // this.bezTangOut = 0;
    // this.bezTime = 0.5;
    // this.bezValue = 0;
    // this.bezTimeIn = -0.5;
    // this.bezValueIn = 0;

    this.cb = null;
    this.cbTriggered = false;

    // const bezierAnim = null;
    // this._updateBezier = false;

    this.setEasing(CONSTANTS.ANIM.EASING_LINEAR);
    this.set(obj);
};

Key.cubicSpline = function (perc, key1, key2)
{
    let
        previousPoint = key1.value,
        previousTangent = key1.bezTangOut,
        nextPoint = key2.value,
        nextTangent = key2.bezTangIn;
    let t = perc;
    let t2 = t * t;
    let t3 = t2 * t;

    return (2 * t3 - 3 * t2 + 1) * previousPoint + (t3 - 2 * t2 + t) * previousTangent + (-2 * t3 + 3 * t2) * nextPoint + (t3 - t2) * nextTangent;
};

Key.easeCubicSpline = function (perc, key2)
{
    return Key.cubicSpline(perc, this, key2);
};


Key.linear = function (perc, key1, key2)
{
    return parseFloat(key1.value) + parseFloat(key2.value - key1.value) * perc;
};

Key.easeLinear = function (perc, key2)
{
    return Key.linear(perc, this, key2);
};

Key.easeAbsolute = function (perc, key2)
{
    return this.value;
};

const easeExpoIn = function (t)
{
    return (t = 2 ** (10 * (t - 1)));
};

Key.easeExpoIn = function (t, key2)
{
    t = easeExpoIn(t);
    return Key.linear(t, this, key2);
};

const easeExpoOut = function (t)
{
    t = -(2 ** (-10 * t)) + 1;
    return t;
};

Key.easeExpoOut = function (t, key2)
{
    t = easeExpoOut(t);
    return Key.linear(t, this, key2);
};

const easeExpoInOut = function (t)
{
    t *= 2;
    if (t < 1)
    {
        t = 0.5 * 2 ** (10 * (t - 1));
    }
    else
    {
        t--;
        t = 0.5 * (-(2 ** (-10 * t)) + 2);
    }
    return t;
};

Key.easeExpoInOut = function (t, key2)
{
    t = easeExpoInOut(t);
    return Key.linear(t, this, key2);
};

Key.easeSinIn = function (t, key2)
{
    t = -1 * Math.cos((t * Math.PI) / 2) + 1;
    return Key.linear(t, this, key2);
};

Key.easeSinOut = function (t, key2)
{
    t = Math.sin((t * Math.PI) / 2);
    return Key.linear(t, this, key2);
};

Key.easeSinInOut = function (t, key2)
{
    t = -0.5 * (Math.cos(Math.PI * t) - 1.0);
    return Key.linear(t, this, key2);
};

const easeCubicIn = function (t)
{
    t = t * t * t;
    return t;
};

Key.easeCubicIn = function (t, key2)
{
    t = easeCubicIn(t);
    return Key.linear(t, this, key2);
};


// b 0
// c 1/2 or 1
// d always 1
// easeOutCubic: function (x, t, b, c, d) {
//     return c*((t=t/d-1)*t*t + 1) + b;

Key.easeInQuint = function (t, key2)
{
    t = t * t * t * t * t;
    return Key.linear(t, this, key2);
};
Key.easeOutQuint = function (t, key2)
{
    t = (t -= 1) * t * t * t * t + 1;
    return Key.linear(t, this, key2);
};
Key.easeInOutQuint = function (t, key2)
{
    if ((t /= 0.5) < 1) t = 0.5 * t * t * t * t * t;
    else t = 0.5 * ((t -= 2) * t * t * t * t + 2);
    return Key.linear(t, this, key2);
};

Key.easeInQuart = function (t, key2)
{
    t = t * t * t * t;
    return Key.linear(t, this, key2);
};

Key.easeOutQuart = function (t, key2)
{
    // return -c * ((t=t/d-1)*t*t*t - 1) + b;
    t = -1 * ((t -= 1) * t * t * t - 1);
    return Key.linear(t, this, key2);
};

Key.easeInOutQuart = function (t, key2)
{
    if ((t /= 0.5) < 1) t = 0.5 * t * t * t * t;
    else t = -0.5 * ((t -= 2) * t * t * t - 2);
    return Key.linear(t, this, key2);
};

Key.bounce = function (t)
{
    if ((t /= 1) < 1 / 2.75) t = 7.5625 * t * t;
    else if (t < 2 / 2.75) t = 7.5625 * (t -= 1.5 / 2.75) * t + 0.75;
    else if (t < 2.5 / 2.75) t = 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375;
    else t = 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
    return t;
};

Key.easeInBounce = function (t, key2)
{
    return Key.linear(Key.bounce(t), this, key2);
    // return c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d);
};

Key.easeOutBounce = function (t, key2)
{
    return Key.linear(Key.bounce(t), this, key2);
};

Key.easeInElastic = function (t, key2)
{
    let s = 1.70158;
    let p = 0;
    let a = 1;

    const b = 0;
    const d = 1;
    const c = 1;

    if (t === 0) t = b;
    else if ((t /= d) == 1) t = b + c;
    else
    {
        if (!p) p = d * 0.3;
        if (a < Math.abs(c))
        {
            a = c;
            s = p / 4;
        }
        else s = (p / (2 * Math.PI)) * Math.asin(c / a);
        t = -(a * 2 ** (10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;
    }

    return Key.linear(t, this, key2);
};


Key.easeOutElastic = function (t, key2)
{
    let s = 1.70158;
    let p = 0;
    let a = 1;

    const b = 0;
    const d = 1;
    const c = 1;

    if (t === 0) t = b;
    else if ((t /= d) == 1) t = b + c;
    else
    {
        if (!p) p = d * 0.3;
        if (a < Math.abs(c))
        {
            a = c;
            s = p / 4;
        }
        else s = (p / (2 * Math.PI)) * Math.asin(c / a);
        t = a * 2 ** (-10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) + c + b;
    }

    return Key.linear(t, this, key2);
};

Key.easeInBack = function (t, key2)
{
    const s = 1.70158;
    t = t * t * ((s + 1) * t - s);

    return Key.linear(t, this, key2);
};

Key.easeOutBack = function (t, key2)
{
    const s = 1.70158;
    t = (t = t / 1 - 1) * t * ((s + 1) * t + s) + 1;

    return Key.linear(t, this, key2);
};

Key.easeInOutBack = function (t, key2)
{
    let s = 1.70158;
    const c = 1 / 2;
    if ((t /= 1 / 2) < 1) t = c * (t * t * (((s *= 1.525) + 1) * t - s));
    else t = c * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2);

    return Key.linear(t, this, key2);
};

const easeCubicOut = function (t)
{
    t--;
    t = t * t * t + 1;
    return t;
};

Key.easeCubicOut = function (t, key2)
{
    t = easeCubicOut(t);
    return Key.linear(t, this, key2);
};

const easeCubicInOut = function (t)
{
    t *= 2;
    if (t < 1) t = 0.5 * t * t * t;
    else
    {
        t -= 2;
        t = 0.5 * (t * t * t + 2);
    }
    return t;
};

Key.easeCubicInOut = function (t, key2)
{
    t = easeCubicInOut(t);
    return Key.linear(t, this, key2);
};

Key.easeSmoothStep = function (perc, key2)
{
    // var x = Math.max(0, Math.min(1, (perc-0)/(1-0)));
    const x = Math.max(0, Math.min(1, perc));
    perc = x * x * (3 - 2 * x); // smoothstep
    return Key.linear(perc, this, key2);
};

Key.easeSmootherStep = function (perc, key2)
{
    const x = Math.max(0, Math.min(1, (perc - 0) / (1 - 0)));
    perc = x * x * x * (x * (x * 6 - 15) + 10); // smootherstep
    return Key.linear(perc, this, key2);
};

Key.prototype.setEasing = function (e)
{
    this._easing = e;

    if (this._easing == CONSTANTS.ANIM.EASING_LINEAR) this.ease = Key.easeLinear;
    else if (this._easing == CONSTANTS.ANIM.EASING_ABSOLUTE) this.ease = Key.easeAbsolute;
    else if (this._easing == CONSTANTS.ANIM.EASING_SMOOTHSTEP) this.ease = Key.easeSmoothStep;
    else if (this._easing == CONSTANTS.ANIM.EASING_SMOOTHERSTEP) this.ease = Key.easeSmootherStep;
    else if (this._easing == CONSTANTS.ANIM.EASING_CUBIC_IN) this.ease = Key.easeCubicIn;
    else if (this._easing == CONSTANTS.ANIM.EASING_CUBIC_OUT) this.ease = Key.easeCubicOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_CUBIC_INOUT) this.ease = Key.easeCubicInOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_EXPO_IN) this.ease = Key.easeExpoIn;
    else if (this._easing == CONSTANTS.ANIM.EASING_EXPO_OUT) this.ease = Key.easeExpoOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_EXPO_INOUT) this.ease = Key.easeExpoInOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_SIN_IN) this.ease = Key.easeSinIn;
    else if (this._easing == CONSTANTS.ANIM.EASING_SIN_OUT) this.ease = Key.easeSinOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_SIN_INOUT) this.ease = Key.easeSinInOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_BACK_OUT) this.ease = Key.easeOutBack;
    else if (this._easing == CONSTANTS.ANIM.EASING_BACK_IN) this.ease = Key.easeInBack;
    else if (this._easing == CONSTANTS.ANIM.EASING_BACK_INOUT) this.ease = Key.easeInOutBack;
    else if (this._easing == CONSTANTS.ANIM.EASING_ELASTIC_IN) this.ease = Key.easeInElastic;
    else if (this._easing == CONSTANTS.ANIM.EASING_ELASTIC_OUT) this.ease = Key.easeOutElastic;
    else if (this._easing == CONSTANTS.ANIM.EASING_ELASTIC_INOUT) this.ease = Key.easeElasticInOut;
    else if (this._easing == CONSTANTS.ANIM.EASING_BOUNCE_IN) this.ease = Key.easeInBounce;
    else if (this._easing == CONSTANTS.ANIM.EASING_BOUNCE_OUT) this.ease = Key.easeOutBounce;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUART_OUT) this.ease = Key.easeOutQuart;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUART_IN) this.ease = Key.easeInQuart;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUART_INOUT) this.ease = Key.easeInOutQuart;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUINT_OUT) this.ease = Key.easeOutQuint;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUINT_IN) this.ease = Key.easeInQuint;
    else if (this._easing == CONSTANTS.ANIM.EASING_QUINT_INOUT) this.ease = Key.easeInOutQuint;
    else if (this._easing == CONSTANTS.ANIM.EASING_CUBICSPLINE)
    {
        // this._updateBezier = true;
        this.ease = Key.easeCubicSpline;
    }
    else
    {
        this._easing = CONSTANTS.ANIM.EASING_LINEAR;
        this.ease = Key.easeLinear;
    }
};

Key.prototype.trigger = function ()
{
    this.cb();
    this.cbTriggered = true;
};

Key.prototype.setValue = function (v)
{
    this.value = v;
    // this._updateBezier = true;
    if (this.onChange !== null) this.onChange();
};

Key.prototype.set = function (obj)
{
    if (obj)
    {
        if (obj.e) this.setEasing(obj.e);
        if (obj.cb)
        {
            this.cb = obj.cb;
            this.cbTriggered = false;
        }

        if (obj.b)
        {
            // this.bezTime = obj.b[0];
            // this.bezValue = obj.b[1];
            // this.bezTimeIn = obj.b[2];
            // this.bezValueIn = obj.b[3];
            // this._updateBezier = true;
        }

        if (obj.hasOwnProperty("t")) this.time = obj.t;
        if (obj.hasOwnProperty("time")) this.time = obj.time;
        if (obj.hasOwnProperty("v")) this.value = obj.v;
        else if (obj.hasOwnProperty("value")) this.value = obj.value;
    }
    if (this.onChange !== null) this.onChange();
};

Key.prototype.getSerialized = function ()
{
    const obj = {};
    obj.t = this.time;
    obj.v = this.value;
    obj.e = this._easing;
    // if (this._easing == CONSTANTS.ANIM.EASING_CUBICSPLINE) obj.b = [this.bezTime, this.bezValue, this.bezTimeIn, this.bezValueIn];

    return obj;
};

Key.prototype.getEasing = function ()
{
    return this._easing;
};



;// CONCATENATED MODULE: ./src/core/eventtarget.js


const EventTarget = function ()
{
    this._log = new Logger("eventtarget");
    this._eventCallbacks = {};
    this._logName = "";
    this._logEvents = false;
    this._listeners = {};

    this.addEventListener = this.on = function (which, cb, idPrefix)
    {
        const event =
        {
            "id": (idPrefix || "") + CABLES.simpleId(),
            "name": which,
            "cb": cb,
        };
        if (!this._eventCallbacks[which]) this._eventCallbacks[which] = [event];
        else this._eventCallbacks[which].push(event);

        this._listeners[event.id] = event;

        return event.id;
    };

    this.hasEventListener = function (which, cb)
    {
        if (which && !cb)
        {
            // check by id
            if (this._listeners[which]) return true;
            else return false;
        }
        else
        {
            this._log.warn("old eventtarget function haseventlistener!");
            if (which && cb)
            {
                if (this._eventCallbacks[which])
                {
                    const idx = this._eventCallbacks[which].indexOf(cb);
                    if (idx == -1) return false;
                    return true;
                }
            }
        }
    };

    this.hasListenerForEventName = function (eventName)
    {
        return this._eventCallbacks[eventName] && this._eventCallbacks[eventName].length > 0;
    };

    this.removeEventListener = this.off = function (which, cb)
    {
        if (which === null || which === undefined) return;

        if (!cb) // new style, remove by id, not by name/callback
        {
            const event = this._listeners[which];
            if (!event)
            {
                this._log.log("could not find event...", which, this);
                return;
            }

            let found = true;
            while (found)
            {
                found = false;
                let index = -1;
                for (let i = 0; i < this._eventCallbacks[event.name].length; i++)
                {
                    if (this._eventCallbacks[event.name][i].id.startsWith(which)) // this._eventCallbacks[event.name][i].id == which ||
                    {
                        found = true;
                        index = i;
                    }
                }

                if (index !== -1)
                {
                    this._eventCallbacks[event.name].splice(index, 1);
                    delete this._listeners[which];
                }
            }

            return;
        }

        this._log.info("[eventtaget] ", "old function signature: removeEventListener! use listener id");
        this._log.log((new Error()).stack);

        let index = null;
        for (let i = 0; i < this._eventCallbacks[which].length; i++)
            if (this._eventCallbacks[which][i].cb == cb)
                index = i;

        if (index !== null)
        {
            delete this._eventCallbacks[index];
        }
        else this._log.warn("removeEventListener not found " + which);
    };

    this.logEvents = function (enabled, name)
    {
        this._logEvents = enabled;
        this._logName = name;
    };

    this.emitEvent = function (which, param1, param2, param3, param4, param5, param6)
    {
        if (this._logEvents) this._log.log("[event] ", this._logName, which, this._eventCallbacks);

        if (this._eventCallbacks[which])
        {
            for (let i = 0; i < this._eventCallbacks[which].length; i++)
            {
                if (this._eventCallbacks[which][i])
                {
                    this._eventCallbacks[which][i].cb(param1, param2, param3, param4, param5, param6);
                }
            }
        }
        else
        {
            if (this._logEvents) this._log.log("[event] has no event callback", which, this._eventCallbacks);
        }
    };
};



;// CONCATENATED MODULE: ./src/core/anim.js





/**
 * Keyframed interpolated animation.
 *
 * Available Easings:
 * <code>
 * CONSTANTS.ANIM.EASING_LINEAR
 * CONSTANTS.ANIM.EASING_ABSOLUTE
 * CONSTANTS.ANIM.EASING_SMOOTHSTEP
 * CONSTANTS.ANIM.EASING_SMOOTHERSTEP
 * CONSTANTS.ANIM.EASING_CUBICSPLINE

 * CONSTANTS.ANIM.EASING_CUBIC_IN
 * CONSTANTS.ANIM.EASING_CUBIC_OUT
 * CONSTANTS.ANIM.EASING_CUBIC_INOUT

 * CONSTANTS.ANIM.EASING_EXPO_IN
 * CONSTANTS.ANIM.EASING_EXPO_OUT
 * CONSTANTS.ANIM.EASING_EXPO_INOUT

 * CONSTANTS.ANIM.EASING_SIN_IN
 * CONSTANTS.ANIM.EASING_SIN_OUT
 * CONSTANTS.ANIM.EASING_SIN_INOUT

 * CONSTANTS.ANIM.EASING_BACK_IN
 * CONSTANTS.ANIM.EASING_BACK_OUT
 * CONSTANTS.ANIM.EASING_BACK_INOUT

 * CONSTANTS.ANIM.EASING_ELASTIC_IN
 * CONSTANTS.ANIM.EASING_ELASTIC_OUT

 * CONSTANTS.ANIM.EASING_BOUNCE_IN
 * CONSTANTS.ANIM.EASING_BOUNCE_OUT

 * CONSTANTS.ANIM.EASING_QUART_IN
 * CONSTANTS.ANIM.EASING_QUART_OUT
 * CONSTANTS.ANIM.EASING_QUART_INOUT

 * CONSTANTS.ANIM.EASING_QUINT_IN
 * CONSTANTS.ANIM.EASING_QUINT_OUT
 * CONSTANTS.ANIM.EASING_QUINT_INOUT
 * </code>
 * @class
 * @param cfg
 * @example
 * var anim=new CABLES.Anim();
 * anim.setValue(0,0);  // set value 0 at 0 seconds
 * anim.setValue(10,1); // set value 1 at 10 seconds
 * anim.getValue(5);    // get value at 5 seconds - this returns 0.5
 */

const Anim = function (cfg)
{
    EventTarget.apply(this);

    cfg = cfg || {};
    this.keys = [];
    this.onChange = null;
    this.stayInTimeline = false;
    this.loop = false;
    this._log = new Logger("Anim");
    this._lastKeyIndex = 0;
    this._cachedIndex = 0;
    this.name = cfg.name || null;

    /**
     * @member defaultEasing
     * @memberof Anim
     * @instance
     * @type {Number}
     */
    this.defaultEasing = cfg.defaultEasing || CONSTANTS.ANIM.EASING_LINEAR;
    this.onLooped = null;

    this._timesLooped = 0;
    this._needsSort = false;
};

Anim.prototype.forceChangeCallback = function ()
{
    if (this.onChange !== null) this.onChange();
    this.emitEvent("onChange", this);
};

Anim.prototype.getLoop = function ()
{
    return this.loop;
};

Anim.prototype.setLoop = function (target)
{
    this.loop = target;
    this.emitEvent("onChange", this);
};

/**
 * returns true if animation has ended at @time
 * checks if last key time is < time
 * @param {Number} time
 * @returns {Boolean}
 * @memberof Anim
 * @instance
 * @function
 */
Anim.prototype.hasEnded = function (time)
{
    if (this.keys.length === 0) return true;
    if (this.keys[this._lastKeyIndex].time <= time) return true;
    return false;
};

Anim.prototype.isRising = function (time)
{
    if (this.hasEnded(time)) return false;
    const ki = this.getKeyIndex(time);
    if (this.keys[ki].value < this.keys[ki + 1].value) return true;
    return false;
};

/**
 * remove all keys from animation before time
 * @param {Number} time
 * @memberof Anim
 * @instance
 * @function
 */
Anim.prototype.clearBefore = function (time)
{
    const v = this.getValue(time);
    const ki = this.getKeyIndex(time);

    this.setValue(time, v);

    if (ki > 1) this.keys.splice(0, ki);
    this._updateLastIndex();
};
/**
 * remove all keys from animation
 * @param {Number} [time=0] set a new key at time with the old value at time
 * @memberof Anim
 * @instance
 * @function
 */
Anim.prototype.clear = function (time)
{
    let v = 0;
    if (time) v = this.getValue(time);
    this.keys.length = 0;
    this._updateLastIndex();
    if (time) this.setValue(time, v);
    if (this.onChange !== null) this.onChange();
    this.emitEvent("onChange", this);
};

Anim.prototype.sortKeys = function ()
{
    this.keys.sort((a, b) => { return parseFloat(a.time) - parseFloat(b.time); });
    this._updateLastIndex();
    this._needsSort = false;
    if (this.keys.length % 1000 == 0)console.log(this.name, this.keys.length);
};

Anim.prototype.getLength = function ()
{
    if (this.keys.length === 0) return 0;
    return this.keys[this.keys.length - 1].time;
};

Anim.prototype.getKeyIndex = function (time)
{
    let index = 0;
    let start = 0;
    if (this._cachedIndex && this.keys.length > this._cachedIndex && time >= this.keys[this._cachedIndex].time) start = this._cachedIndex;
    for (let i = start; i < this.keys.length; i++)
    {
        if (time >= this.keys[i].time) index = i;
        if (this.keys[i].time > time)
        {
            if (time != 0) this._cachedIndex = index;
            return index;
        }
    }

    return index;
};

/**
 * set value at time
 * @function setValue
 * @memberof Anim
 * @instance
 * @param {Number} time
 * @param {Number} value
 * @param {Function} cb callback
 */
Anim.prototype.setValue = function (time, value, cb)
{
    let found = null;

    if (this.keys.length == 0 || time <= this.keys[this.keys.length - 1].time)
        for (let i = 0; i < this.keys.length; i++)
            if (this.keys[i].time == time)
            {
                found = this.keys[i];
                this.keys[i].setValue(value);
                this.keys[i].cb = cb;
                break;
            }

    if (!found)
    {
        found = new Key(
            {
                "time": time,
                "value": value,
                "e": this.defaultEasing,
                "cb": cb,
            });
        this.keys.push(found);

        // if (this.keys.length % 1000 == 0)console.log(this.name, this.keys.length);
        this._updateLastIndex();
    }

    if (this.onChange) this.onChange();
    this.emitEvent("onChange", this);
    this._needsSort = true;
    return found;
};

Anim.prototype.setKeyEasing = function (index, e)
{
    if (this.keys[index])
    {
        this.keys[index].setEasing(e);
        this.emitEvent("onChange", this);
    }
};

Anim.prototype.getSerialized = function ()
{
    const obj = {};
    obj.keys = [];
    obj.loop = this.loop;

    for (let i = 0; i < this.keys.length; i++)
        obj.keys.push(this.keys[i].getSerialized());

    return obj;
};

Anim.prototype.getKey = function (time)
{
    const index = this.getKeyIndex(time);
    return this.keys[index];
};

Anim.prototype.getNextKey = function (time)
{
    let index = this.getKeyIndex(time) + 1;
    if (index >= this.keys.length) index = this.keys.length - 1;

    return this.keys[index];
};

Anim.prototype.isFinished = function (time)
{
    if (this.keys.length <= 0) return true;
    return time > this.keys[this.keys.length - 1].time;
};

Anim.prototype.isStarted = function (time)
{
    if (this.keys.length <= 0) return false;
    return time >= this.keys[0].time;
};

/**
 * get value at time
 * @function getValue
 * @memberof Anim
 * @instance
 * @param {Number} [time] time
 * @returns {Number} interpolated value at time
 */
Anim.prototype.getValue = function (time)
{
    if (this.keys.length === 0)
    {
        return 0;
    }
    if (this._needsSort) this.sortKeys();

    if (!this.loop && time > this.keys[this._lastKeyIndex].time)
    {
        if (this.keys[this._lastKeyIndex].cb && !this.keys[this._lastKeyIndex].cbTriggered) this.keys[this._lastKeyIndex].trigger();

        return this.keys[this._lastKeyIndex].value;
    }

    if (time < this.keys[0].time)
    {
        // if (this.name)console.log("A");

        return this.keys[0].value;
    }

    if (this.loop && time > this.keys[this._lastKeyIndex].time)
    {
        const currentLoop = time / this.keys[this._lastKeyIndex].time;
        if (currentLoop > this._timesLooped)
        {
            this._timesLooped++;
            if (this.onLooped) this.onLooped();
        }
        time = (time - this.keys[0].time) % (this.keys[this._lastKeyIndex].time - this.keys[0].time);
        time += this.keys[0].time;
    }

    const index = this.getKeyIndex(time);
    if (index >= this._lastKeyIndex)
    {
        if (this.keys[this._lastKeyIndex].cb && !this.keys[this._lastKeyIndex].cbTriggered) this.keys[this._lastKeyIndex].trigger();

        return this.keys[this._lastKeyIndex].value;
    }


    const index2 = index + 1;
    const key1 = this.keys[index];
    const key2 = this.keys[index2];

    if (key1.cb && !key1.cbTriggered) key1.trigger();

    if (!key2) return -1;

    const perc = (time - key1.time) / (key2.time - key1.time);

    if (!key1.ease) this.log._warn("has no ease", key1, key2);

    return key1.ease(perc, key2);
};

Anim.prototype._updateLastIndex = function ()
{
    this._lastKeyIndex = this.keys.length - 1;
};

Anim.prototype.addKey = function (k)
{
    if (k.time === undefined)
    {
        this.log.warn("key time undefined, ignoring!");
    }
    else
    {
        this.keys.push(k);
        if (this.onChange !== null) this.onChange();
        this.emitEvent("onChange", this);
    }
    this._updateLastIndex();
};

Anim.prototype.easingFromString = function (str)
{
    if (str == "linear") return CONSTANTS.ANIM.EASING_LINEAR;
    if (str == "absolute") return CONSTANTS.ANIM.EASING_ABSOLUTE;
    if (str == "smoothstep") return CONSTANTS.ANIM.EASING_SMOOTHSTEP;
    if (str == "smootherstep") return CONSTANTS.ANIM.EASING_SMOOTHERSTEP;

    if (str == "Cubic In") return CONSTANTS.ANIM.EASING_CUBIC_IN;
    if (str == "Cubic Out") return CONSTANTS.ANIM.EASING_CUBIC_OUT;
    if (str == "Cubic In Out") return CONSTANTS.ANIM.EASING_CUBIC_INOUT;

    if (str == "Expo In") return CONSTANTS.ANIM.EASING_EXPO_IN;
    if (str == "Expo Out") return CONSTANTS.ANIM.EASING_EXPO_OUT;
    if (str == "Expo In Out") return CONSTANTS.ANIM.EASING_EXPO_INOUT;

    if (str == "Sin In") return CONSTANTS.ANIM.EASING_SIN_IN;
    if (str == "Sin Out") return CONSTANTS.ANIM.EASING_SIN_OUT;
    if (str == "Sin In Out") return CONSTANTS.ANIM.EASING_SIN_INOUT;

    if (str == "Back In") return CONSTANTS.ANIM.EASING_BACK_IN;
    if (str == "Back Out") return CONSTANTS.ANIM.EASING_BACK_OUT;
    if (str == "Back In Out") return CONSTANTS.ANIM.EASING_BACK_INOUT;

    if (str == "Elastic In") return CONSTANTS.ANIM.EASING_ELASTIC_IN;
    if (str == "Elastic Out") return CONSTANTS.ANIM.EASING_ELASTIC_OUT;

    if (str == "Bounce In") return CONSTANTS.ANIM.EASING_BOUNCE_IN;
    if (str == "Bounce Out") return CONSTANTS.ANIM.EASING_BOUNCE_OUT;

    if (str == "Quart Out") return CONSTANTS.ANIM.EASING_QUART_OUT;
    if (str == "Quart In") return CONSTANTS.ANIM.EASING_QUART_IN;
    if (str == "Quart In Out") return CONSTANTS.ANIM.EASING_QUART_INOUT;

    if (str == "Quint Out") return CONSTANTS.ANIM.EASING_QUINT_OUT;
    if (str == "Quint In") return CONSTANTS.ANIM.EASING_QUINT_IN;
    if (str == "Quint In Out") return CONSTANTS.ANIM.EASING_QUINT_INOUT;
};

Anim.prototype.createPort = function (op, title, cb)
{
    const port = op.inDropDown(title, CONSTANTS.ANIM.EASINGS, "Cubic Out");

    // const port = op.addInPort(
    //     new Port(op, title, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
    //         "display": "dropdown",
    //         "values": CONSTANTS.ANIM.EASINGS,
    //     }),
    // );

    port.set("linear");
    port.defaultValue = "linear";

    port.onChange = function ()
    {
        this.defaultEasing = this.easingFromString(port.get());
        this.emitEvent("onChangeDefaultEasing", this);

        if (cb) cb();
    }.bind(this);

    return port;
};

// ------------------------------

Anim.slerpQuaternion = function (time, q, animx, animy, animz, animw)
{
    if (!Anim.slerpQuaternion.q1)
    {
        Anim.slerpQuaternion.q1 = quat.create();
        Anim.slerpQuaternion.q2 = quat.create();
    }

    const i1 = animx.getKeyIndex(time);
    let i2 = i1 + 1;
    if (i2 >= animx.keys.length) i2 = animx.keys.length - 1;

    if (i1 == i2)
    {
        quat.set(q, animx.keys[i1].value, animy.keys[i1].value, animz.keys[i1].value, animw.keys[i1].value);
    }
    else
    {
        const key1Time = animx.keys[i1].time;
        const key2Time = animx.keys[i2].time;
        const perc = (time - key1Time) / (key2Time - key1Time);

        quat.set(Anim.slerpQuaternion.q1, animx.keys[i1].value, animy.keys[i1].value, animz.keys[i1].value, animw.keys[i1].value);

        quat.set(Anim.slerpQuaternion.q2, animx.keys[i2].value, animy.keys[i2].value, animz.keys[i2].value, animw.keys[i2].value);

        quat.slerp(q, Anim.slerpQuaternion.q1, Anim.slerpQuaternion.q2, perc);
    }
    return q;
};

const ANIM = { "Key": Key };




;// CONCATENATED MODULE: ./src/core/core_link.js



/**
 * @namespace external:CABLES#Link
 * @param {Object} scene The patch object
 * @description a link is a connection between two ops/ports -> one input and one output port
 * @hideconstructor
 * @class
 */
const Link = function (scene)
{
    EventTarget.apply(this);

    this.id = CABLES.simpleId();
    this.portIn = null;
    this.portOut = null;
    this.scene = scene; // todo: make private and rename to patch
    this.activityCounter = 0;
    this.ignoreInSerialize = false;
};

Link.prototype.setValue = function (v)
{
    if (v === undefined) this._setValue();
    else this.portIn.set(v);
};

Link.prototype.activity = function ()
{
    this.activityCounter++;
    // if(Date.now()-this.lastTime>100)
    // {
    //     // this.lastTime=Date.now();
    //     // this.changesPerSecond=this.changesCounter*10;
    //     this.changesCounter=0;
    // }
};

Link.prototype._setValue = function ()
{
    if (!this.portOut)
    {
        this.remove();
        return;
    }
    const v = this.portOut.get();

    if (v == v) // NaN is the only JavaScript value that is treated as unequal to itself
    {
        if (this.portIn.type != CONSTANTS.OP.OP_PORT_TYPE_FUNCTION) this.activity();

        if (this.portIn.get() !== v)
        {
            this.portIn.set(v);
        }
        else
        {
            if (this.portIn.changeAlways) this.portIn.set(v);
            if (this.portOut.forceRefChange) this.portIn.forceChange();
        }
    }
};

/**
 * @function getOtherPort
 * @memberof Link
 * @instance
 * @param {Port} p port
 * @description returns the port of the link, which is not port
 */
Link.prototype.getOtherPort = function (p)
{
    if (p == this.portIn) return this.portOut;
    return this.portIn;
};

/**
 * @function remove
 * @memberof Link
 * @instance
 * @description unlink/remove this link from all ports
 */
Link.prototype.remove = function ()
{
    if (this.portIn) this.portIn.removeLink(this);
    if (this.portOut) this.portOut.removeLink(this);
    if (this.scene)
    {
        this.scene.emitEvent("onUnLink", this.portIn, this.portOut, this);
    }

    if (this.portIn && (this.portIn.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT || this.portIn.type == CONSTANTS.OP.OP_PORT_TYPE_ARRAY))
    {
        this.portIn.set(null);
        if (this.portIn.links.length > 0) this.portIn.set(this.portIn.links[0].getOtherPort(this.portIn).get());
    }

    if (this.portIn) this.portIn.op._checkLinksNeededToWork();
    if (this.portOut) this.portOut.op._checkLinksNeededToWork();

    this.portIn = null;
    this.portOut = null;
    this.scene = null;
};

/**
 * @function link
 * @memberof Link
 * @instance
 * @description link those two ports
 * @param {Port} p1 port1
 * @param {Port} p2 port2
 */
Link.prototype.link = function (p1, p2)
{
    if (!Link.canLink(p1, p2))
    {
        console.warn("[core_link] cannot link ports!", p1, p2);
        return false;
    }

    if (p1.direction == CONSTANTS.PORT.PORT_DIR_IN)
    {
        this.portIn = p1;
        this.portOut = p2;
    }
    else
    {
        this.portIn = p2;
        this.portOut = p1;
    }

    p1.addLink(this);
    p2.addLink(this);

    this.setValue();

    if (p1.onLink) p1.onLink(this);
    if (p2.onLink) p2.onLink(this);

    p1.op._checkLinksNeededToWork();
    p2.op._checkLinksNeededToWork();
};

Link.prototype.getSerialized = function ()
{
    const obj = {};

    obj.portIn = this.portIn.getName();
    obj.portOut = this.portOut.getName();
    obj.objIn = this.portIn.op.id;
    obj.objOut = this.portOut.op.id;

    return obj;
};

// --------------------------------------------

/**
 * @function canLinkText
 * @memberof Link
 * @instance
 * @description return a text message with human readable reason if ports can not be linked, or can be
 * @param {Port} p1 port1
 * @param {Port} p2 port2
 */
Link.canLinkText = function (p1, p2)
{
    if (p1.direction == p2.direction)
    {
        let txt = "(out)";
        if (p2.direction == CONSTANTS.PORT.PORT_DIR_IN) txt = "(in)";
        return "can not link: same direction " + txt;
    }
    if (p1.op == p2.op) return "can not link: same op";
    if (p1.type != CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC && p2.type != CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC)
    {
        if (p1.type != p2.type) return "can not link: different type";
    }

    if (CABLES.UI && p1.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT && p2.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT)
    {
        if (p1.uiAttribs.objType && p2.uiAttribs.objType)
            if (p1.uiAttribs.objType != p2.uiAttribs.objType)
                return "incompatible objects";
    }


    if (!p1) return "can not link: port 1 invalid";
    if (!p2) return "can not link: port 2 invalid";

    if (p1.direction == CONSTANTS.PORT.PORT_DIR_IN && p1.isAnimated()) return "can not link: is animated";
    if (p2.direction == CONSTANTS.PORT.PORT_DIR_IN && p2.isAnimated()) return "can not link: is animated";

    // if(p1.direction==CABLES.CONSTANTS.PORT.PORT_DIR_IN && p1.links.length>0)return 'input port already busy';
    // if(p2.direction==CABLES.CONSTANTS.PORT.PORT_DIR_IN && p2.links.length>0)return 'input port already busy';
    if (p1.isLinkedTo(p2)) return "ports already linked";

    if ((p1.canLink && !p1.canLink(p2)) || (p2.canLink && !p2.canLink(p1))) return "Incompatible";

    return "can link";
};

/**
 * @function canLink
 * @memberof Link
 * @instance
 * @description return true if ports can be linked
 * @param {Port} p1 port1
 * @param {Port} p2 port2
 * @returns {Boolean}
 */
Link.canLink = function (p1, p2)
{
    if (!p1) return false;
    if (!p2) return false;
    if (p1.direction == CONSTANTS.PORT.PORT_DIR_IN && p1.isAnimated()) return false;
    if (p2.direction == CONSTANTS.PORT.PORT_DIR_IN && p2.isAnimated()) return false;

    if (p1.isHidden() || p2.isHidden()) return false;

    if (p1.isLinkedTo(p2)) return false;

    if (p1.direction == p2.direction) return false;

    if (CABLES.UI && p1.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT && p2.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT)
    {
        if (p1.uiAttribs.objType && p2.uiAttribs.objType)
        {
            if (p1.uiAttribs.objType.indexOf("sg_") == 0 && p2.uiAttribs.objType.indexOf("sg_") == 0) return true;
            if (p1.uiAttribs.objType != p2.uiAttribs.objType)
                return false;
        }
    }

    if (p1.type != p2.type && (p1.type != CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC && p2.type != CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC)) return false;
    if (p1.type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC || p2.type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC) return true;

    if (p1.op == p2.op) return false;

    if (p1.canLink && !p1.canLink(p2)) return false;
    if (p2.canLink && !p2.canLink(p1)) return false;

    return true;
};



;// CONCATENATED MODULE: ./src/core/core_port.js







/**
 * data is coming into and out of ops through input and output ports
 * @namespace external:CABLES#Port
 * @class
 * @hideconstructor
 * @param ___op
 * @param name
 * @param type
 * @param uiAttribs
 * @example
 * const myPort=op.inString("String Port");
 */
const Port = function (___op, name, type, uiAttribs)
{
    EventTarget.apply(this);

    this.data = {}; // UNUSED, DEPRECATED, only left in for backwards compatibility with userops
    this._log = new Logger("core_port");
    /**
     * @type {Number}
     * @name direction
     * @instance
     * @memberof Port
     * @description direction of port (input(0) or output(1))
     */
    this.direction = CONSTANTS.PORT.PORT_DIR_IN;
    this.id = String(CABLES.simpleId());
    this._op = ___op;

    /**
     * @type {Array<Link>}
     * @name links
     * @instance
     * @memberof Port
     * @description links of port
     */
    this.links = [];
    this.value = 0.0;
    this.name = name;
    this.type = type || CONSTANTS.OP.OP_PORT_TYPE_VALUE;
    this.uiAttribs = uiAttribs || {};
    this.anim = null;
    this._oldAnimVal = -5711;
    this.defaultValue = null;


    this._uiActiveState = true;
    this.ignoreValueSerialize = false;
    this.onLinkChanged = null;
    this.crashed = false;

    this._valueBeforeLink = null;
    this._lastAnimFrame = -1;
    this._animated = false;

    this.onValueChanged = null;
    this.onTriggered = null;
    this.onUiActiveStateChange = null;
    this.changeAlways = false;
    this.forceRefChange = false;

    this._useVariableName = null;

    this.activityCounter = 0;
    this.apf = 0;
    this.activityCounterStartFrame = 0;

    this._tempLastUiValue = null;

    Object.defineProperty(this, "title", {
        get()
        {
            return this.uiAttribs.title || this.name;
        } });

    Object.defineProperty(this, "parent", {
        get()
        {
            this._log.stack("use port.op, not .parent");
            return this._op;
        } });

    Object.defineProperty(this, "op", {
        get()
        {
            return this._op;
        } });

    Object.defineProperty(this, "val", {
        get()
        {
            // this._log.warn("val getter deprecated!", this);
            // this._log.stack("val getter deprecated");
            return this.get();
        },
        set(v)
        {
            // this._log.warn("val setter deprecated!", this);
            // this._log.stack("val setter deprecated");
            this.setValue(v);
        }
    });
};


/**
 * copy over a uiattrib from an external connected port to another port
 * @function copyLinkedUiAttrib
 * @memberof Port
 * @param {string} which attrib name
 * @param {Port} port source port
 * @instance
 * @example

inArray.onLinkChanged=()=>
{
    if(inArray) inArray.copyLinkedUiAttrib("stride", outArray);
};

 */
Port.prototype.copyLinkedUiAttrib = function (which, port)
{
    if (!CABLES.UI) return;
    if (!this.isLinked()) return;

    const attr = {};
    attr[which] = this.links[0].getOtherPort(this).getUiAttrib(which);
    port.setUiAttribs(attr);
};


// TODO make extend class for ports, like for ops only for ui
Port.prototype.getValueForDisplay = function ()
{
    let str = this.value;

    if (typeof this.value === "string" || this.value instanceof String)
    {
        if (str.length > 1000)
        {
            str = str.substring(0, 999);
            str += "...";
        }
        if (this.uiAttribs && (this.uiAttribs.display == "boolnum"))
        {
            str += " - ";

            if (!this.value) str += "false";
            else str += "true";
        }

        str = str.replace(/[\u00A0-\u9999<>\&]/g, function (i)
        {
            return "&#" + i.charCodeAt(0) + ";";
        });


        if (str.length > 100) str = str.substring(0, 100);
    }
    else
    {
        str = this.value;
    }
    return str;
};

/**
 * change listener for input value ports, overwrite to react to changes
 * @function onChange
 * @memberof Port
 * @instance
 * @example
 * const myPort=op.inString("MyPort");
 * myPort.onChange=function()
 * {
 *   console.log("was changed to: ",myPort.get());
 * }
 *
 */
Port.prototype.onAnimToggle = function () {};
Port.prototype._onAnimToggle = function ()
{
    this.onAnimToggle();
};


/**
 * @function remove
 * @memberof Port
 * @instance
 * @description remove port
 */
Port.prototype.remove = function ()
{
    // this.setUiAttribs({ "hidePort": true });
    this.removeLinks();
    this._op.removePort(this);
};

/**
 * set ui attributes
 * @function setUiAttribs
 * @memberof Port
 * @instance
 * @param {Object} newAttribs
 * <pre>
 * title - overwrite title of port (by default this is portname)
 * greyout - port paramater will appear greyed out, can not be
 * hidePort - port will be hidden from op
 * hideParam - port params will be hidden from parameter panel
 * showIndex - only for dropdowns - show value index (e.g. `0 - normal` )
 * editorSyntax - set syntax highlighting theme for editor port
 * ignoreObjTypeErrors - do not auto check object types
 * </pre>
 * @example
 * myPort.setUiAttribs({greyout:true});
 */
Port.prototype.setUiAttribs = function (newAttribs)
{
    let changed = false;
    if (!this.uiAttribs) this.uiAttribs = {};

    for (const p in newAttribs)
    {
        if (newAttribs[p] === undefined)
        {
            // delete newAttribs[p];
            delete this.uiAttribs[p];
            continue;
        }
        if (this.uiAttribs[p] != newAttribs[p]) changed = true;
        this.uiAttribs[p] = newAttribs[p];

        if (p == "group" && this.indexPort) this.indexPort.setUiAttribs({ "group": newAttribs[p] });
    }

    if (newAttribs.hasOwnProperty("expose")) this._op.patch.emitEvent("subpatchExpose", this._op.uiAttribs.subPatch);

    if (changed) this.emitEvent("onUiAttrChange", newAttribs, this);
};

/**
 * get ui attributes
 * @function getUiAttribs
 * @memberof Port
 * @example
 * myPort.getUiAttribs();
 */
Port.prototype.getUiAttribs = function ()
{
    return this.uiAttribs;
};

/**
 * get ui attribute
 * @function getUiAttrib
 * @memberof Port
 * @instance
 * @param {String} attribName
 * <pre>
 * attribName - return value of the ui-attribute, or null on unknown attribute
 * </pre>
 * @example
 * myPort.setUiAttribs("values");
 */
Port.prototype.getUiAttrib = function (attribName)
{
    if (!this.uiAttribs || !this.uiAttribs.hasOwnProperty(attribName))
    {
        return null;
    }
    return this.uiAttribs[attribName];
};

/**
 * @function get
 * @memberof Port
 * @instance
 * @description get value of port
 */
Port.prototype.get = function ()
{
    if (this._animated && this._lastAnimFrame != this._op.patch.getFrameNum())
    {
        this._lastAnimFrame = this._op.patch.getFrameNum();

        let animval = this.anim.getValue(this._op.patch.timer.getTime());

        if (this.value != animval)
        {
            this.value = animval;
            this._oldAnimVal = this.value;
            this.forceChange();
        }
    }

    return this.value;
};

Port.prototype.setRef = function (v)
{
    this.forceRefChange = true;
    this.set(v);
};

/**
 * @function setValue
 * @memberof Port
 * @instance
 * @description set value of port / will send value to all linked ports (only for output ports)
 */
Port.prototype.set = Port.prototype.setValue = function (v)
{
    if (v === undefined) v = null;

    if (this._op.enabled && !this.crashed)
    {
        if (v !== this.value || this.changeAlways || this.type == CONSTANTS.OP.OP_PORT_TYPE_TEXTURE || this.type == CONSTANTS.OP.OP_PORT_TYPE_ARRAY)
        {
            if (this._animated)
            {
                this.anim.setValue(this._op.patch.timer.getTime(), v);
            }
            else
            {
                try
                {
                    this.value = v;
                    this.forceChange();
                }
                catch (ex)
                {
                    this.crashed = true;

                    this.setValue = function (_v) {};
                    this.onTriggered = function () {};

                    this._log.error("exception in ", this._op);
                    this._log.error(ex);

                    this._op.patch.emitEvent("exception", ex, this._op);
                }

                if (this._op && this._op.patch && this._op.patch.isEditorMode() && this.type == CONSTANTS.OP.OP_PORT_TYPE_TEXTURE) gui.texturePreview().updateTexturePort(this);
            }

            if (this.direction == CONSTANTS.PORT.PORT_DIR_OUT) for (let i = 0; i < this.links.length; ++i) this.links[i].setValue();
        }
    }
};

Port.prototype.updateAnim = function ()
{
    if (this._animated)
    {
        this.value = this.get();

        if (this._oldAnimVal != this.value || this.changeAlways)
        {
            this._oldAnimVal = this.value;
            this.forceChange();
        }
        this._oldAnimVal = this.value;
    }
};

Port.prototype.forceChange = function ()
{
    if (this.onValueChanged || this.onChange)
    {
        // very temporary: deprecated warning!!!!!!!!!
        // if(params.length>0) this._log.warn('TOM: port has onchange params!',this._op.objName,this.name);
    }
    this._activity();
    this.emitEvent("change", this.value, this);

    // try
    // {
    if (this.onChange) this.onChange(this, this.value);
    else if (this.onValueChanged) this.onValueChanged(this, this.value); // deprecated
    // }
    // catch (e)
    // {
    //     console.log(e);
    // }
};

/**
 * @function getTypeString
 * @memberof Port
 * @instance
 * @description get port type as string, e.g. "Function","Value"...
 * @return {String} type
 */
Port.prototype.getTypeString = function ()
{
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_VALUE) return "Number";
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_FUNCTION) return "Trigger";
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT) return "Object";
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC) return "Dynamic";
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_ARRAY) return "Array";
    if (this.type == CONSTANTS.OP.OP_PORT_TYPE_STRING) return "String";
    return "Unknown";
};

Port.prototype.deSerializeSettings = function (objPort)
{
    if (!objPort) return;
    if (objPort.animated) this.setAnimated(objPort.animated);
    if (objPort.useVariable) this.setVariableName(objPort.useVariable);
    if (objPort.title) this.setUiAttribs({ "title": objPort.title });
    if (objPort.expose) this.setUiAttribs({ "expose": true });
    if (objPort.order) this.setUiAttribs({ "order": objPort.order });

    if (objPort.multiPortManual) this.setUiAttribs({ "multiPortManual": objPort.multiPortManual });
    if (objPort.multiPortNum) this.setUiAttribs({ "multiPortNum": objPort.multiPortNum });

    if (objPort.anim)
    {
        if (!this.anim) this.anim = new Anim({ "name": "port " + this.name });
        this._op._hasAnimPort = true;
        this.anim.addEventListener("onChange", () =>
        {
            this._op.patch.emitEvent("portAnimUpdated", this._op, this, this.anim);
        });
        if (objPort.anim.loop) this.anim.loop = objPort.anim.loop;
        for (const ani in objPort.anim.keys)
        {
            this.anim.keys.push(new ANIM.Key(objPort.anim.keys[ani]));
        }
        this.anim.sortKeys();
    }
};


Port.prototype.setInitialValue = function (v)
{
    if (this.op.preservedPortLinks[this.name])
    {
        for (let i = 0; i < this.op.preservedPortLinks[this.name].length; i++)
        {
            const lobj = this.op.preservedPortLinks[this.name][i];
            this.op.patch._addLink(
                lobj.objIn,
                lobj.objOut,
                lobj.portIn,
                lobj.portOut);
        }
    }


    if (this.op.preservedPortValues && this.op.preservedPortValues.hasOwnProperty(this.name) && this.op.preservedPortValues[this.name] !== undefined)
    {
        this.set(this.op.preservedPortValues[this.name]);
    }
    else
    if (v !== undefined) this.set(v);
    if (v !== undefined) this.defaultValue = v;
};




Port.prototype.getSerialized = function ()
{
    let obj = { "name": this.getName() };


    if (!this.ignoreValueSerialize && this.links.length === 0)
    {
        if (this.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT && this.value && this.value.tex) {}
        else obj.value = this.value;
    }
    if (this._useVariableName) obj.useVariable = this._useVariableName;
    if (this._animated) obj.animated = true;
    if (this.anim) obj.anim = this.anim.getSerialized();
    if (this.uiAttribs.multiPortNum) obj.multiPortNum = this.uiAttribs.multiPortNum;
    if (this.uiAttribs.multiPortManual) obj.multiPortManual = this.uiAttribs.multiPortManual;

    if (this.uiAttribs.display == "file") obj.display = this.uiAttribs.display;
    if (this.uiAttribs.expose)
    {
        obj.expose = true;
        if (this.uiAttribs.hasOwnProperty("order")) obj.order = this.uiAttribs.order;
    }
    if (this.uiAttribs.title) obj.title = this.uiAttribs.title;
    if ((this.preserveLinks || this.direction == CONSTANTS.PORT.PORT_DIR_OUT) && this.links.length > 0)
    {
        obj.links = [];
        for (const i in this.links)
        {
            if (!this.links[i].ignoreInSerialize && (this.links[i].portIn && this.links[i].portOut)) obj.links.push(this.links[i].getSerialized());
        }
    }

    if (this.direction == CONSTANTS.PORT.PORT_DIR_IN && this.links.length > 0)
    {
        for (const i in this.links)
        {
            if (!this.links[i].portIn || !this.links[i].portOut) continue;

            const otherp = this.links[i].getOtherPort(this);
            // check if functions exist, are defined in core_extend_ops code in ui
            if (otherp.op.isInBlueprint2 && this.op.isInBlueprint2)
            {
                if (otherp.op.isInBlueprint2() && !this.op.isInBlueprint2())
                {
                    obj.links = obj.links || [];
                    obj.links.push(this.links[i].getSerialized());
                }
            }
        }
    }

    if (obj.links && obj.links.length == 0) delete obj.links;
    if (this.type === CONSTANTS.OP.OP_PORT_TYPE_FUNCTION) delete obj.value;
    if (this.type === CONSTANTS.OP.OP_PORT_TYPE_FUNCTION && this.links.length == 0) obj = null;
    if (obj && Object.keys(obj).length == 1 && obj.name)obj = null; // obj is null if there is no real information other than name

    // console.log(obj);
    cleanJson(obj);

    return obj;
};

Port.prototype.shouldLink = function ()
{
    return true;
};

/**
 * @function removeLinks
 * @memberof Port
 * @instance
 * @description remove all links from port
 */
Port.prototype.removeLinks = function ()
{
    let count = 0;
    while (this.links.length > 0)
    {
        count++;
        if (count > 5000)
        {
            this._log.warn("could not delete links... / infinite loop");
            this.links.length = 0;
            break;
        }
        this.links[0].remove();
    }
};

/**
 * @function removeLink
 * @memberof Port
 * @instance
 * @description remove all link from port
 * @param {CABLES.Link} link
 */
Port.prototype.removeLink = function (link)
{
    for (const i in this.links)
        if (this.links[i] == link)
            this.links.splice(i, 1);

    if (this.direction == CONSTANTS.PORT.PORT_DIR_IN)
    {
        if (this.type == CONSTANTS.OP.OP_PORT_TYPE_VALUE) this.setValue(this._valueBeforeLink || 0);
        else this.setValue(this._valueBeforeLink || null);
    }

    if (CABLES.UI && this._op.checkLinkTimeWarnings) this._op.checkLinkTimeWarnings();

    if (this.onLinkChanged) this.onLinkChanged();
    this.emitEvent("onLinkChanged");
    this.emitEvent("onLinkRemoved");
    this._op.emitEvent("onLinkChanged");
};

/**
 * @function getName
 * @memberof Port
 * @instance
 * @description return port name
 */
Port.prototype.getName = function ()
{
    return this.name;
};

/**
 * @function getTitle
 * @memberof Port
 * @instance
 * @description return port name or title
 */
Port.prototype.getTitle = function ()
{
    if (this.uiAttribs.title) return this.uiAttribs.title;
    return this.name;
};

Port.prototype.addLink = function (l)
{
    this._valueBeforeLink = this.value;
    this.links.push(l);
    if (CABLES.UI && this._op.checkLinkTimeWarnings) this._op.checkLinkTimeWarnings();

    if (this.onLinkChanged) this.onLinkChanged();
    this.emitEvent("onLinkChanged");
    this._op.emitEvent("onLinkChanged");
};

/**
 * @function getLinkTo
 * @memberof Port
 * @instance
 * @param {Port} p2 otherPort
 * @description return link, which is linked to otherPort
 */
Port.prototype.getLinkTo = function (p2)
{
    for (const i in this.links) if (this.links[i].portIn == p2 || this.links[i].portOut == p2) return this.links[i];
};

/**
 * @function removeLinkTo
 * @memberof Port
 * @instance
 * @param {Port} p2 otherPort
 * @description removes link, which is linked to otherPort
 */
Port.prototype.removeLinkTo = function (p2)
{
    for (const i in this.links)
    {
        if (this.links[i].portIn == p2 || this.links[i].portOut == p2)
        {
            this.links[i].remove();
            if (CABLES.UI && this._op.checkLinkTimeWarnings) this._op.checkLinkTimeWarnings();

            if (this.onLinkChanged) this.onLinkChanged();
            this.emitEvent("onLinkChanged");
            this.emitEvent("onLinkRemoved");
            return;
        }
    }
};

/**
 * @function isLinkedTo
 * @memberof Port
 * @instance
 * @param {Port} p2 otherPort
 * @description returns true if port is linked to otherPort
 */
Port.prototype.isLinkedTo = function (p2)
{
    for (const i in this.links) if (this.links[i].portIn == p2 || this.links[i].portOut == p2) return true;

    return false;
};

Port.prototype._activity = function ()
{
    this.activityCounter++;
};

/**
 * @function trigger
 * @memberof Port
 * @instance
 * @description trigger the linked port (usually invoked on an output function port)
 */
Port.prototype.trigger = function ()
{
    const linksLength = this.links.length;

    this._activity();
    if (linksLength === 0) return;
    if (!this._op.enabled) return;

    let portTriggered = null;
    try
    {
        for (let i = 0; i < linksLength; ++i)
        {
            if (this.links[i].portIn)
            {
                portTriggered = this.links[i].portIn;

                portTriggered.op.patch.pushTriggerStack(portTriggered);
                portTriggered._onTriggered();

                portTriggered.op.patch.popTriggerStack();
            }
            if (this.links[i]) this.links[i].activity();
        }
    }
    catch (ex)
    {
        portTriggered.op.enabled = false;

        if (this._op.patch.isEditorMode())
        {
            // this._op.patch.emitEvent("exception", ex, portTriggered.op);
            // this._op.patch.emitEvent("opcrash", portTriggered);
            // console.log("crash", portTriggered.op.objName);

            if (portTriggered.op.onError) portTriggered.op.onError(ex);
        }
        this._log.error("exception in port: " + portTriggered.op.name, portTriggered.op);
        this._log.error(ex);
    }
};

Port.prototype.call = function ()
{
    this._log.warn("call deprecated - use trigger() ");
    this.trigger();
};

Port.prototype.execute = function ()
{
    this._log.warn("### execute port: " + this.getName(), this.goals.length);
};

Port.prototype.setVariableName = function (n)
{
    this._useVariableName = n;


    this._op.patch.on("variableRename", (oldname, newname) =>
    {
        if (oldname != this._useVariableName) return;
        this._useVariableName = newname;
    });
};

Port.prototype.getVariableName = function ()
{
    return this._useVariableName;
};

Port.prototype.setVariable = function (v)
{
    this.setAnimated(false);
    const attr = { "useVariable": false };

    if (this._variableIn && this._varChangeListenerId)
    {
        this._variableIn.off(this._varChangeListenerId);
        this._variableIn = null;
    }

    if (v)
    {
        this._variableIn = this._op.patch.getVar(v);

        if (!this._variableIn)
        {
            this._log.warn("PORT VAR NOT FOUND!!!", v);
        }
        else
        {
            if (this.type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT)
            {
                this._varChangeListenerId = this._variableIn.on("change", () => { this.set(null); this.set(this._variableIn.getValue()); });
            }
            else
            {
                this._varChangeListenerId = this._variableIn.on("change", this.set.bind(this));
            }
            this.set(this._variableIn.getValue());
        }
        this._useVariableName = v;
        attr.useVariable = true;
        attr.variableName = this._useVariableName;
    }
    else
    {
        attr.variableName = this._useVariableName = null;
        attr.useVariable = false;
    }

    this.setUiAttribs(attr);
    this._op.patch.emitEvent("portSetVariable", this._op, this, v);
};

Port.prototype._handleNoTriggerOpAnimUpdates = function (a)
{
    let hasTriggerPort = false;
    for (let i = 0; i < this._op.portsIn.length; i++)
    {
        if (this._op.portsIn.type == CONSTANTS.OP.OP_PORT_TYPE_FUNCTION)
        {
            hasTriggerPort = true;
            break;
        }
    }

    if (!hasTriggerPort)
    {
        if (a) this._notriggerAnimUpdate = this._op.patch.on("onRenderFrame",
            () =>
            {
                this.updateAnim();
            });
        else this._op.patch.removeEventListener(this._notriggerAnimUpdate);
    }
};

Port.prototype.setAnimated = function (a)
{
    if (this._animated != a)
    {
        this._animated = a;
        this._op._hasAnimPort = true;

        if (this._animated && !this.anim)
        {
            this.anim = new Anim({ "name": "port " + this.name });
            this.anim.addEventListener("onChange", () =>
            {
                this._op.patch.emitEvent("portAnimUpdated", this._op, this, this.anim);
            });
        }
        this._onAnimToggle();
    }

    this._handleNoTriggerOpAnimUpdates(a);
    if (!a)
    {
        this.anim = null;
    }

    this.setUiAttribs({ "isAnimated": this._animated });
};

Port.prototype.toggleAnim = function ()
{
    this._animated = !this._animated;
    if (this._animated && !this.anim)
    {
        this.anim = new Anim({ "name": "port " + this.name });
        this.anim.addEventListener("onChange", () =>
        {
            this._op.patch.emitEvent("portAnimUpdated", this._op, this, this.anim);
        });
    }
    this.setAnimated(this._animated);
    this._onAnimToggle();
    this.setUiAttribs({ "isAnimated": this._animated });
};

/**
 * <pre>
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_VALUE = 0;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_FUNCTION = 1;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_OBJECT = 2;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_TEXTURE = 2;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_ARRAY = 3;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC = 4;
 * CABLES.CONSTANTS.OP.OP_PORT_TYPE_STRING = 5;
 * </pre>
 * @function getType
 * @memberof Port
 * @instance
 * @return {Number} type of port
 */
Port.prototype.getType = function ()
{
    return this.type;
};

/**
 * @function isLinked
 * @memberof Port
 * @instance
 * @return {Boolean} true if port is linked
 */
Port.prototype.isLinked = function ()
{
    return this.links.length > 0 || this._animated || this._useVariableName != null;
};

Port.prototype.isBoundToVar = function ()
{
    const b = this._useVariableName != null;
    this.uiAttribs.boundToVar = b;
    return b;
};
/**
 * @function isAnimated
 * @memberof Port
 * @instance
 * @return {Boolean} true if port is animated
 */
Port.prototype.isAnimated = function ()
{
    return this._animated;
};

/**
 * @function isHidden
 * @memberof Port
 * @instance
 * @return {Boolean} true if port is hidden
 */
Port.prototype.isHidden = function ()
{
    return this.uiAttribs.hidePort;
};

/**
 * @function onTriggered
 * @memberof Port
 * @instance
 * @param {function} a onTriggeredCallback
 * @description set callback, which will be executed when port was triggered (usually output port)
 */
Port.prototype._onTriggered = function (a)
{
    this._activity();
    this._op.updateAnims();
    if (this._op.enabled && this.onTriggered) this.onTriggered(a);

    if (this._op.enabled) this.emitEvent("trigger");
};

Port.prototype._onSetProfiling = function (v)
{
    this._op.patch.profiler.add("port", this);
    this.setValue(v);
    this._op.patch.profiler.add("port", null);
};

Port.prototype._onTriggeredProfiling = function ()
{
    if (this._op.enabled && this.onTriggered)
    {
        this._op.patch.profiler.add("port", this);
        this.onTriggered();
        this._op.patch.profiler.add("port", null);
    }
};



Port.prototype.getUiActiveState = function ()
{
    return this._uiActiveState;
};

Port.prototype.setUiActiveState = function (onoff)
{
    this._uiActiveState = onoff;
    if (this.onUiActiveStateChange) this.onUiActiveStateChange();
};

/**
 * @deprecated
 * @param {function} cb
 */
Port.prototype.onValueChange = function (cb)
{
    this.onChange = cb;
};

/**
 * @deprecated
 */
Port.prototype.hidePort = function () {};


/**
 * Returns the port type string, e.g. "value" based on the port type number
 * @function portTypeNumberToString
 * @instance
 * @memberof Port
 * @param {Number} type - The port type number
 * @returns {String} - The port type as string
 */
Port.portTypeNumberToString = function (type)
{
    if (type == CONSTANTS.OP.OP_PORT_TYPE_VALUE) return "value";
    if (type == CONSTANTS.OP.OP_PORT_TYPE_FUNCTION) return "function";
    if (type == CONSTANTS.OP.OP_PORT_TYPE_OBJECT) return "object";
    if (type == CONSTANTS.OP.OP_PORT_TYPE_ARRAY) return "array";
    if (type == CONSTANTS.OP.OP_PORT_TYPE_STRING) return "string";
    if (type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC) return "dynamic";
    return "unknown";
};



;// CONCATENATED MODULE: ./src/core/core_port_switch.js




class SwitchPort extends Port
{
    constructor(__parent, name, type, uiAttribs, indexPort)
    {
        super(__parent, name, type, uiAttribs);

        this.get = () =>
        {
            let s = super.get();

            if (CABLES.UI)
            {
                if (
                    s === "" ||
                    s === null ||
                    s === undefined ||
                    (uiAttribs.values && uiAttribs.values.indexOf(String(s)) === -1)
                )
                {
                    this.op.setUiError("invalidswitch", "Invalid Value [" + this.name + "]: \"" + s + "\"", 1);
                }
                else this.op.setUiError("invalidswitch", null);
            }

            if (s === null || s === undefined)s = "";

            return s;
        };

        this.indexPort = indexPort;
        this.indexPort.set = (value) =>
        {
            const values = uiAttribs.values;

            if (!values)
            {
                // console.log("switch port has no values", this);
                return;
            }

            let intValue = Math.floor(value);

            intValue = Math.min(intValue, values.length - 1);
            intValue = Math.max(intValue, 0);

            this.indexPort.setValue(intValue);
            this.set(values[intValue]);

            if (this.op.patch.isEditorMode() && performance.now() - (this.lastTime || 0) > 100 && window.gui && gui.patchView.isCurrentOp(this.op))
            {
                gui.opParams.show(this.op);
                this.lastTime = performance.now();
            }
        };
    }

    setUiAttribs(attribs)
    {
        const hidePort = attribs.hidePort;
        attribs.hidePort = true;
        super.setUiAttribs(attribs);
        if (typeof hidePort !== "undefined")
        {
            this.indexPort.setUiAttribs({ hidePort });
        }
    }
}



;// CONCATENATED MODULE: ./src/core/core_port_select.js




class ValueSelectPort extends SwitchPort
{
    setUiAttribs(newAttribs)
    {
        // never unhide valuePort when indexPort is linked
        if (this.indexPort.isLinked())
        {
            for (const p in newAttribs)
            {
                if (p == "greyout" && !newAttribs[p]) newAttribs[p] = "true";
            }
        }
        super.setUiAttribs(newAttribs);
    }
}





;// CONCATENATED MODULE: ./src/core/core_port_multi.js



const MIN_NUM_PORTS = 2;

class MultiPort extends Port
{
    constructor(__parent, name, type, dir, uiAttribs, uiAttribsPorts)
    {
        super(__parent, name, CONSTANTS.OP.OP_PORT_TYPE_ARRAY, uiAttribs);

        this.setUiAttribs({ "multiPort": true, "group": this.name, "order": -1 });
        this.ports = [];
        this.direction = dir;
        this._uiAttribsPorts = uiAttribsPorts;

        // console.log("uiattribs", uiAttribs);

        const updateArray = () =>
        {
            const arr = [];

            let ll = 1;
            if (this.uiAttribs.multiPortManual)ll = 0;

            for (let i = 0; i < this.ports.length - ll; i++)
                arr[i] = this.ports[i];

            this.setRef(arr);
        };

        const updateUi = () =>
        {
            let grey = !this.uiAttribs.multiPortManual || undefined;

            if (this.direction == CONSTANTS.PORT.PORT_DIR_OUT)grey = false;

            for (let i = 0; i < this.ports.length; i++)
            {
                let lp; // undefined to remove/not set it
                // let opacity;// undefined to remove/not set it
                // let grey;// undefined to remove/not set it
                let addPort = false;
                let title;
                let o = {};


                // console.log("this.op.preservedPortTitles", this.op.preservedPortTitles, this.op.preservedPortTitles[po.name], po.name);
                if (this.op.preservedPortTitles && this.op.preservedPortTitles[this.ports[i].name]) title = this.op.preservedPortTitles[this.ports[i].name];


                // if (!this.uiAttribs.multiPortManual)grey = true;
                if (i == 0) lp = this.ports.length;

                if (!this.uiAttribs.multiPortManual)
                    if (i == this.ports.length - 1)
                    {
                        title = "add port";
                        addPort = true;
                        grey = true;
                    }

                for (const attin in this._uiAttribsPorts)
                {
                    o[attin] = this._uiAttribsPorts[attin];
                }

                o.addPort = addPort;
                o.longPort = lp;
                o.title = title;
                o.greyout = grey;
                o.group = this.name;

                this.ports[i].setUiAttribs(o);
            }
        };

        this.removeInvalidPorts = () =>
        {
            for (let i = 0; i < this.ports.length; i++)
            {
                if (!this.ports[i]) this.ports.splice(i, 1);
            }

            if (!this.uiAttribs.multiPortManual)
            {
                if (this.ports.length > MIN_NUM_PORTS)

                    for (let i = this.ports.length - 1; i > 1; i--)
                    {
                        if (!this.ports[i].isLinked()) this.uiAttribs.multiPortNum = i;
                        else break;
                    }
            }

            updateArray();
        };

        this.countPorts = () =>
        {
            if (CABLES.UI && !gui.isRemoteClient && gui.patchView && gui.patchView.patchRenderer && gui.patchView.patchRenderer.isDraggingPort())
            {
                clearTimeout(this.retryTo);
                this.retryTo = setTimeout(this.countPorts.bind(this));
                return;
            }
            this.retryTo = null;

            let redo = false;
            this.removeListeners();
            this.removeInvalidPorts();

            for (let i = 0; i < this.ports.length; i++)
            {
                if (this.ports[i] && this.ports[i].links.length > 1)
                {
                    const po = this.ports[i + 1];
                    const otherPort = this.ports[i].links[0].getOtherPort(this.ports[i]);

                    if (!po || !otherPort)
                    {
                        this._log.warn("no port found?");
                    }
                    else
                    {
                        this.ports[i].links[0].remove();
                        this.op.patch.link(this.op, po.name, otherPort.op, otherPort.name);
                        redo = true;
                    }
                    break;
                }
            }

            if (!this.uiAttribs.multiPortManual)
            {
                let foundHole = true;
                while (foundHole)
                {
                    // console.log("search holes...");
                    foundHole = false;

                    for (let i = this.ports.length - 1; i > 1; i--)
                    {
                        if (this.ports[i] && this.ports[i].links.length > 0 && this.ports[i - 1].links.length == 0)
                        {
                            // console.log("found hole!");

                            // found hole
                            const otherPort = this.ports[i].links[0].getOtherPort(this.ports[i]);
                            this.ports[i].links[0].remove();

                            const po = this.ports[i - 1];

                            if (po && this.ports[i])
                            {
                                // console.log("move ", this.ports[i].name, "to", po.name);
                                this.op.patch.link(this.op, po.name, otherPort.op, otherPort.name);
                                foundHole = true;
                                redo = true;
                                break;
                            }
                        }
                    }


                    // this.checkNum();
                }

                // this.removeInvalidPorts();
            }


            if (!this.uiAttribs.multiPortManual) // if auto
            {
                while (this.ports.length > MIN_NUM_PORTS && !this.ports[this.ports.length - 1].isLinked() && !this.ports[this.ports.length - 2].isLinked())
                {
                    let i = this.ports.length - 1;
                    if (!this.ports[i].isLinked() && this.ports[i - 1] && !this.ports[i - 1].isLinked())
                    {
                        this.ports[i].setUiAttribs({ "removed": true });
                        this.ports[i].remove();
                        // this.ports[i] = null;
                        this.ports.splice(i, 1);
                    }
                }
            }

            this.removeInvalidPorts();

            if (!this.uiAttribs.multiPortManual && this.ports.length > 0 && this.ports[this.ports.length - 1].isLinked()) this.newPort();

            updateArray();
            updateUi();

            if (redo) this.countPorts();
            else this.addListeners();
        };

        this.removeListeners = () =>
        {
            for (let i = 0; i < this.ports.length; i++)
            {
                const po = this.ports[i];
                po.multiPortChangeListener = po.off(po.multiPortChangeListener);
                po.multiLinkChangeListener = po.off(po.multiLinkChangeListener);
            }
        };

        this.addListeners = () =>
        {
            for (let i = 0; i < this.ports.length; i++)
            {
                const po = this.ports[i];
                const idx = i;

                if (po.multiPortChangeListener)po.multiPortChangeListener = po.off(po.multiPortChangeListener);
                po.multiPortChangeListener = po.on("change", updateArray.bind(this));


                if (po.multiPortTriggerListener)po.multiPortTriggerListener = po.off(po.multiPortTriggerListener);
                po.multiPortTriggerListener = po.on("trigger", () => { this._onTriggered(idx); });


                // if (po.multiPortTriggerListener)po.multiPortTriggerListener = po.off(po.multiPortTriggerListener);
                // po.multiPortTriggerListener = po.on("trigger", this.trigger());

                if (po.multiLinkChangeListener)po.multiLinkChangeListener = po.off(po.multiLinkChangeListener);
                po.multiLinkChangeListener = po.on("onLinkChanged", () =>
                {
                    this.countPorts();
                    this.emitEvent("onLinkChanged");
                });

                if (po.multiLinkRemoveListener)po.multiLinkRemoveListener = po.off(po.multiLinkRemoveListener);
                po.multiLinkRemoveListener = po.on("onLinkRemoved", () =>
                {
                    // this.removeInvalidPorts();
                    // this.checkNum();
                    // this.countPorts();
                    updateUi();
                    this.emitEvent("onLinkChanged");
                    // this.countPorts.bind(this);
                });
            }
        };

        this.newPort = () =>
        {
            const attrs = {};
            // if (type == CABLES.OP_PORT_TYPE_STRING) attrs.type = "string";
            attrs.type = type;
            const po = new Port(this.op, name + "_" + this.ports.length, type, attrs);

            po.direction = dir;
            this.ports.push(po);
            // console.log("CONSTANTS.PORT_DIR_OUT", CONSTANTS.PORT.PORT_DIR_OUT, this.direction);
            if (this.direction == CONSTANTS.PORT.PORT_DIR_OUT) this.op.addOutPort(po);
            else this.op.addInPort(po);

            if (type == CONSTANTS.OP.OP_PORT_TYPE_NUMBER) po.setInitialValue(0);
            else if (type == CONSTANTS.OP.OP_PORT_TYPE_STRING) po.setInitialValue("");

            this.addListeners();

            updateUi();
            updateArray();
            this.emitEvent("onLinkChanged");
            // console.log("this.op.preservedPortTitles", this.op.preservedPortTitles, this.op.preservedPortTitles[po.name], po.name);
            if (this.op.preservedPortTitles && this.op.preservedPortTitles[po.name]) po.setUiAttribs({ "title": this.op.preservedPortTitles[po.name] });

            return po;
        };

        this.initPorts = () =>
        {
            for (let i = 0; i < MIN_NUM_PORTS; i++) this.newPort();
            updateArray();
            updateUi();
        };

        this.checkNum = () =>
        {
            this.uiAttribs.multiPortNum = Math.max(MIN_NUM_PORTS, this.uiAttribs.multiPortNum);

            while (this.ports.length < this.uiAttribs.multiPortNum) this.newPort();
            while (this.ports.length > this.uiAttribs.multiPortNum) if (this.ports[this.ports.length - 1]) this.ports.pop().remove();

            this.removeInvalidPorts();
        };

        this.incDec = (incDir) =>
        {
            this.uiAttribs.multiPortNum = this.uiAttribs.multiPortNum || MIN_NUM_PORTS;
            // console.log("this.uiAttribs.multiPortNum", this.uiAttribs.multiPortNum, this.uiAttribs.multiPortNum + incDir);
            this.setUiAttribs({ "multiPortNum": this.uiAttribs.multiPortNum + incDir });
            this.checkNum();

            updateUi();
        };

        this.toggleManual = () =>
        {
            this.setUiAttribs({ "multiPortManual": !this.uiAttribs.multiPortManual });
            this.op.refreshParams();
        };

        this.on("onUiAttrChange", (attribs) =>
        {
            if (attribs.hasOwnProperty("multiPortManual"))
            {
                updateUi();
                this.removeInvalidPorts();
                this.checkNum();
                this.countPorts();
                updateUi();
            }
        });


        this.on("onUiAttrChange", this.checkNum.bind(this));
        this.checkNum();
        this.countPorts();
        this.removeInvalidPorts();
        updateUi();
    }
}





;// CONCATENATED MODULE: ./src/core/core_op.js









/**
 * op the class of all operators
 * @namespace external:CABLES#Op
 * @hideconstructor
 */

/**
 * @type {Object}
 * @name attachments
 * @instance
 * @memberof Op
 * @description access file attachments as String values
 * @example
 * // set shader source to attached files (files are called shader.vert / shader.frag)
 * shader.setSource(attachments.shader_vert,attachments.shader_frag);
 */

const Ops = {};

const Op = function ()
{
    EventTarget.apply(this);

    this._log = new Logger("core_op");
    this.data = {}; // UNUSED, DEPRECATED, only left in for backwards compatibility with userops
    this.storage = {}; // op-specific data to be included in export
    this.__objName = "";
    this.portsOut = [];
    this.portsIn = [];
    this.portsInData = []; // original loaded patch data
    this.opId = ""; // unique op id
    this.uiAttribs = {};
    this.enabled = true;
    this.patch = arguments[0];
    this._name = arguments[1];
    this.preservedPortTitles = {};
    this.preservedPortValues = {};
    this.preservedPortLinks = {};

    this._linkTimeRules = {
        "needsLinkedToWork": [],
        "needsParentOp": null
    };

    this.shouldWork = {};
    this.hasUiErrors = false;
    this._uiErrors = {};
    this._hasAnimPort = false;

    if (arguments[1])
    {
        this._shortOpName = CABLES.getShortOpName(arguments[1]);
        this.getTitle();
    }

    this.id = arguments[2] || shortId(); // instance id
    this.onAddPort = null;
    this.onCreate = null;
    this.onResize = null;
    this.onLoaded = null;
    this.onDelete = null;
    this.onError = null;

    this._instances = null;

    /**
     * overwrite this to prerender shader and meshes / will be called by op `loadingStatus`
     * @function preRender
     * @memberof Op
     * @instance
     */
    this.preRender = null;

    /**
     * overwrite this to initialize your op
     * @function init
     * @memberof Op
     * @instance
     */
    this.init = null;

    Object.defineProperty(this, "name", {
        get() { return this.getTitle(); },
        set(v)
        {
            this.setTitle(v);
        }
    });

    Object.defineProperty(this, "_objName", { set(on)
    {
        this.__objName = on; this._log = new Logger("op " + on);
    } });

    Object.defineProperty(this, "objName", { get() { return this.__objName; } });
    Object.defineProperty(this, "shortName", { get() { return this._shortOpName; } });

    if (this.initUi) this.initUi();
};

{
    Op.prototype.clearUiAttrib = function (name)
    {
        const obj = {};
        // obj.name = null;
        this.uiAttrib(obj);
    };

    Op.prototype.require = function (name)
    {
        if (CABLES.platform && CABLES.StandaloneElectron && !CABLES.platform.frontendOptions.isStandalone)
            this.setUiError("notstandalone", "This op will only work in cables standalone version", 3);

        return null;
    };


    Op.prototype.checkMainloopExists = function ()
    {
        if (!CABLES.UI) return;
        if (!this.patch.cgl.mainloopOp) this.setUiError("nomainloop", "patch should have a mainloop to use this op");
        else this.setUiError("nomainloop", null);
    };

    Op.prototype.getTitle = function ()
    {
        if (!this.uiAttribs) return "nouiattribs" + this._name;

        // if ((this.uiAttribs.title === undefined || this.uiAttribs.title === "") && this.objName.indexOf("Ops.Ui.") == -1)
        //     this.uiAttribs.title = this._shortOpName;

        return this.uiAttribs.title || this._shortOpName;
    };

    Op.prototype.setTitle = function (title)
    {
        // this._log.log("settitle", title);
        // this._log.log(
        //     (new Error()).stack
        // );

        if (title != this.getTitle()) this.uiAttr({ "title": title });
    };

    Op.prototype.setStorage = function (newAttribs)
    {
        if (!newAttribs) return;
        this.storage = this.storage || {};

        let changed = false;
        for (const p in newAttribs)
        {
            if (this.storage[p] != newAttribs[p]) changed = true;
            this.storage[p] = newAttribs[p];
        }

        if (changed) this.emitEvent("onStorageChange", newAttribs);
    };

    Op.prototype.isSubPatchOp = function ()
    {
        if (this.storage) return (this.storage.subPatchVer || 0);
    };

    const _setUiAttrib = function (newAttribs)
    {
        if (!newAttribs) return;

        if (newAttribs.error || newAttribs.warning || newAttribs.hint)
        {
            this._log.warn("old ui error/warning attribute in " + this._name + ", use op.setUiError !", newAttribs);
        }


        if (typeof newAttribs != "object") this._log.error("op.uiAttrib attribs are not of type object");
        if (!this.uiAttribs) this.uiAttribs = {};

        let changed = false;
        let emitMove = false;
        if (
            CABLES.UI &&
            newAttribs.hasOwnProperty("translate") &&
            (
                !this.uiAttribs.translate ||
                this.uiAttribs.translate.x != newAttribs.translate.x ||
                this.uiAttribs.translate.y != newAttribs.translate.y
            )) emitMove = true;


        if (newAttribs.hasOwnProperty("title") && newAttribs.title != this.uiAttribs.title)
        {
            // const doEmitEvent = newAttribs.title != this.getTitle();
            this.uiAttribs.title = newAttribs.title;
            // if (doEmitEvent) this.emitEvent("onTitleChange", newAttribs.title);
            changed = true;
            // this.setTitle(newAttribs.title);
        }

        if (newAttribs.hasOwnProperty("disabled")) this.setEnabled(!newAttribs.disabled);

        for (const p in newAttribs)
        {
            if (this.uiAttribs[p] != newAttribs[p]) changed = true;
            this.uiAttribs[p] = newAttribs[p];
        }


        if (this.uiAttribs.hasOwnProperty("selected") && this.uiAttribs.selected == false) delete this.uiAttribs.selected;


        if (changed)
        {
            this.emitEvent("onUiAttribsChange", newAttribs);
            this.patch.emitEvent("onUiAttribsChange", this, newAttribs);
        }


        if (emitMove) this.emitEvent("move");
    };
    /**
     * setUiAttrib
     * possible values:
     * <pre>
     * warning - warning message - showing up in op parameter panel
     * error - error message - showing up in op parameter panel
     * extendTitle - op title extension, e.g. [ + ]
     * </pre>
     * @function setUiAttrib
     * @param {Object} newAttribs, e.g. {"attrib":value}
     * @memberof Op
     * @instance
     * @example
     * op.setUiAttrib({"extendTitle":str});
     */
    Op.prototype.setUiAttribs = Op.prototype.setUiAttrib = Op.prototype.uiAttr = _setUiAttrib;

    Op.prototype.getName = function ()
    {
        if (this.uiAttribs.name) return this.uiAttribs.name;
        return this._name;
    };

    Op.prototype.addOutPort = function (p)
    {
        p.direction = CONSTANTS.PORT.PORT_DIR_OUT;
        p._op = this;
        this.portsOut.push(p);
        this.emitEvent("onPortAdd", p);
        return p;
    };

    Op.prototype.hasDynamicPort = function ()
    {
        let i = 0;
        for (i = 0; i < this.portsIn.length; i++)
        {
            if (this.portsIn[i].type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC) return true;
            if (this.portsIn[i].getName() == "dyn") return true;
        }
        for (i = 0; i < this.portsOut.length; i++)
        {
            if (this.portsOut[i].type == CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC) return true;
            if (this.portsOut[i].getName() == "dyn") return true;
        }

        return false;
    };

    Op.prototype.addInPort = function (p)
    {
        if (!(p instanceof Port)) throw new Error("parameter is not a port!");

        p.direction = CONSTANTS.PORT.PORT_DIR_IN;
        p._op = this;

        this.portsIn.push(p);
        this.emitEvent("onPortAdd", p);

        return p;
    };

    /**
     * create a trigger input port
     * @function inTrigger
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     *
     */
    Op.prototype.inFunction = Op.prototype.inTrigger = function (name, v)
    {
        const p = this.addInPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_FUNCTION));
        if (v !== undefined) p.set(v);
        return p;
    };

    /**
     * create multiple UI trigger buttons
     * @function inTriggerButton
     * @memberof Op
     * @instance
     * @param {String} name
     * @param {Array} names
     * @return {Port} created port
     */
    Op.prototype.inFunctionButton = Op.prototype.inTriggerButton = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_FUNCTION, {
                "display": "button"
            })
        );
        if (v !== undefined) p.set(v);
        return p;
    };

    Op.prototype.inFunctionButton = Op.prototype.inUiTriggerButtons = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_FUNCTION, {
                "display": "buttons"
            })
        );
        if (v !== undefined) p.set(v);
        return p;
    };



    /**
     * create a number value input port
     * @function inFloat
     * @memberof Op
     * @instance
     * @param {String} name
     * @param {Number} value
     * @return {Port} created port
     */
    Op.prototype.inValueFloat = Op.prototype.inValue = Op.prototype.inFloat = function (name, v)
    {
        const p = this.addInPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE));

        p.setInitialValue(v);

        return p;
    };

    /**
     * create a boolean input port, displayed as a checkbox
     * @function inBool
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {Boolean} value
     * @return {Port} created port
     */
    Op.prototype.inValueBool = Op.prototype.inBool = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_NUMBER, {
                "display": "bool"
            })
        );

        if (v === true)v = 1;
        if (v === false)v = 0;
        p.setInitialValue(v);

        return p;
    };


    Op.prototype.inMultiPort = function (name, type)
    {
        const p = new MultiPort(
            this,
            name,
            type,
            CONSTANTS.PORT.PORT_DIR_IN,
            {
                "addPort": true,
                "hidePort": true
            }
        );
        p.ignoreValueSerialize = true;

        this.addInPort(p);
        p.initPorts();

        return p;
    };

    Op.prototype.outMultiPort = function (name, type, uiAttribsPort = {})
    {
        const p = new MultiPort(
            this,
            name,
            type,
            CONSTANTS.PORT.PORT_DIR_OUT,
            {
                "display": "multiport",
                "hidePort": true
            },
            uiAttribsPort
        );
        p.ignoreValueSerialize = true;

        this.addOutPort(p);
        p.initPorts();

        return p;
    };



    Op.prototype.inValueString = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "type": "string"
            })
        );
        p.value = "";

        p.setInitialValue(v);
        return p;
    };

    /**
     * create a String value input port
     * @function inString
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {String} value default value
     * @return {Port} created port
     */
    Op.prototype.inString = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "type": "string"
            })
        );
        v = v || "";
        // p.value = v;

        p.setInitialValue(v);
        return p;
    };

    /**
     * create a String value input port displayed as TextArea
     * @function inValueText
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {String} value default value
     * @return {Port} created port
     */
    Op.prototype.inValueText = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "type": "string",
                "display": "text"
            })
        );
        p.value = "";

        p.setInitialValue(v);
        // if (v !== undefined)
        // {
        //     p.set(v);
        //     p.defaultValue = v;
        // }
        return p;
    };

    Op.prototype.inTextarea = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "type": "string",
                "display": "text"
            })
        );
        p.value = "";
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    /**
     * create a String value input port displayed as editor
     * @function inStringEditor
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {String} value default value
     * @return {Port} created port
     */
    // new string
    Op.prototype.inStringEditor = function (name, v, syntax, hideFormatButton = true)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "type": "string",
                "display": "editor",
                "editShortcut": true,
                "editorSyntax": syntax,
                "hideFormatButton": hideFormatButton
            }));

        p.value = "";
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    // old
    Op.prototype.inValueEditor = function (name, v, syntax, hideFormatButton = true)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_NUMBER, {
                "type": "string",
                "display": "editor",
                "editorSyntax": syntax,
                "hideFormatButton": hideFormatButton
            })
        );
        p.value = "";
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    /**
     * create a string select box
     * @function inDropDown
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {Array} values
     * @param {String} value default value
     * @return {Port} created port
     */
    Op.prototype.inValueSelect = Op.prototype.inDropDown = function (name, values, v, noindex)
    {
        let p = null;
        if (!noindex)
        {
            const indexPort = new Port(this, name + " index", CONSTANTS.OP.OP_PORT_TYPE_NUMBER, {
                "increment": "integer",
                "hideParam": true
            });
            const n = this.addInPort(indexPort);

            if (values) for (let i = 0; i < values.length; i++) values[i] = String(values[i]);

            const valuePort = new ValueSelectPort(
                this,
                name,
                CONSTANTS.OP.OP_PORT_TYPE_NUMBER,
                {
                    "display": "dropdown",
                    "hidePort": true,
                    "type": "string",
                    "values": values
                },
                n
            );

            valuePort.indexPort = indexPort;

            valuePort.on("change", (val, thePort) =>
            {
                if (!thePort.indexPort.isLinked() && thePort.uiAttribs.values)
                {
                    const idx = thePort.uiAttribs.values.indexOf(val);
                    if (idx > -1) thePort.indexPort.set(idx);
                }
            });

            indexPort.onLinkChanged = function ()
            {
                valuePort.setUiAttribs({ "greyout": indexPort.isLinked() });
            };

            p = this.addInPort(valuePort);

            if (v !== undefined)
            {
                p.set(v);
                const index = values.findIndex((item) => { return item == v; });
                n.setValue(index);
                p.defaultValue = v;
                n.defaultValue = index;
            }
        }
        else
        {
            const valuePort = new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "display": "dropdown",
                "hidePort": true,
                "type": "string",
                values
            });

            p = this.addInPort(valuePort);
        }

        return p;
    };

    /**
     * create a string switch box
     * @function inSwitch
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {Array} values
     * @param {String} value default value
     * @return {Port} created port
     */
    Op.prototype.inSwitch = function (name, values, v, noindex)
    {
        let p = null;
        if (!noindex)
        {
            if (!v)v = values[0];
            const indexPort = new Port(this, name + " index", CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "increment": "integer",
                "values": values,
                "hideParam": true
            });
            const n = this.addInPort(indexPort);

            if (values) for (let i = 0; i < values.length; i++) values[i] = String(values[i]);

            const switchPort = new SwitchPort(
                this,
                name,
                CONSTANTS.OP.OP_PORT_TYPE_STRING,
                {
                    "display": "switch",
                    "hidePort": true,
                    "type": "string",
                    "values": values
                },
                n
            );

            switchPort.indexPort = indexPort;

            switchPort.on("change", (val, thePort) =>
            {
                if (!thePort.indexPort.isLinked() && thePort.uiAttribs.values)
                {
                    const idx = thePort.uiAttribs.values.indexOf(val);
                    if (idx > -1) thePort.indexPort.set(idx);
                }
            });

            indexPort.onLinkChanged = function ()
            {
                switchPort.setUiAttribs({ "greyout": indexPort.isLinked() });
            };
            p = this.addInPort(switchPort);

            if (v !== undefined)
            {
                p.set(v);
                const index = values.findIndex((item) => { return item == v; });
                n.setValue(index);
                p.defaultValue = v;
                n.defaultValue = index;
            }
        }
        else
        {
            const switchPort = new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "display": "switch",
                "hidePort": true,
                "type": "string",
                "values": values
            });
            p = this.addInPort(switchPort);
        }

        return p;
    };

    /**
     * create a integer input port
     * @function inInt
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {number} value default value
     * @return {Port} created port
     */
    Op.prototype.inValueInt = Op.prototype.inInt = function (name, v)
    {
        // old
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "increment": "integer"
            })
        );
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    /**
     * create a file/URL input port
     * @function inURL
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.inFile = function (name, filter, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "display": "file",
                "type": "string",
                "filter": filter
            })
        );
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    Op.prototype.inUrl = function (name, filter, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "display": "file",
                "type": "string",
                "filter": filter
            })
        );
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    /**
     * create a texture input port
     * @function inTexture
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.inTexture = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_OBJECT, {
                "display": "texture",
                "objType": "texture",
                "preview": true
            })
        );
        p.ignoreValueSerialize = true;
        if (v !== undefined) p.set(v);
        return p;
    };


    /**
     * create a object input port
     * @function inObject
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.inObject = function (name, v, objType)
    {
        const p = this.addInPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_OBJECT, { "objType": objType }));
        p.ignoreValueSerialize = true;

        if (v !== undefined) p.set(v);
        return p;
    };

    Op.prototype.inGradient = function (name, v)
    {
        const p = this.addInPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "display": "gradient"
                // "hidePort": true
            })
        );
        if (v !== undefined) p.set(v);
        return p;
    };


    Op.prototype.getPortVisibleIndex = function (p)
    {
        let ports = this.portsIn;
        if (p.direction == CONSTANTS.PORT_DIR_OUT)ports = this.portsOut;

        let index = 0;
        for (let i = 0; i < ports.length; i++)
        {
            if (ports[i].uiAttribs.hidePort) continue;
            index++;
            if (ports[i] == p) return index;
        }
    };

    /**
     * create a array input port
     * @function inArray
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.inArray = function (name, v, stride)
    {
        if (!stride && CABLES.UTILS.isNumeric(v))stride = v;

        const p = this.addInPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_ARRAY, { "stride": stride }));

        if (v !== undefined && (Array.isArray(v) || v == null)) p.set(v);

        // if (v !== undefined) p.set(v);
        return p;
    };

    /**
     * create a value slider input port
     * @function inFloatSlider
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {number} defaultvalue
     * @param {number} min
     * @param {number} max
     * @return {Port} created port
     */
    Op.prototype.inValueSlider = Op.prototype.inFloatSlider = function (name, v, min, max)
    {
        const uiattribs = { "display": "range" };

        if (min != undefined && max != undefined)
        {
            uiattribs.min = min;
            uiattribs.max = max;
        }

        const p = this.addInPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, uiattribs));
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    /**
     * create output trigger port
     * @function outTrigger
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outFunction = Op.prototype.outTrigger = function (name, v)
    {
        // old
        const p = this.addOutPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_FUNCTION));
        if (v !== undefined) p.set(v);
        return p;
    };

    /**
     * create output value port
     * @function outNumber
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {number} default value
     * @return {Port} created port
     */
    Op.prototype.outValue = Op.prototype.outNumber = function (name, v)
    {
        // old
        const p = this.addOutPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE));
        if (v !== undefined) p.set(v);
        return p;
    };

    /**
     * deprecated create output boolean port
     * @deprecated
     * @function outBool
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outValueBool = Op.prototype.outBool = function (name, v)
    {
        // old: use outBoolNum
        const p = this.addOutPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "display": "bool"
            })
        );
        if (v !== undefined) p.set(v);
        else p.set(0);
        return p;
    };

    /**
     * create output boolean port,value will be converted to 0 or 1
     * @function outBoolNum
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outBoolNum = function (name, v)
    {
        const p = this.addOutPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "display": "boolnum"
            })
        );

        p.set = function (b)
        {
            this.setValue(b ? 1 : 0);
            // this._log.log("bool set", b, this.get());
        }.bind(p);

        if (v !== undefined) p.set(v);
        else p.set(0);
        return p;
    };

    /**
     * create output string port
     * @function outString
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outValueString = function (name, v)
    {
        const p = this.addOutPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_VALUE, {
                "type": "string"
            })
        );
        if (v !== undefined) p.set(v);
        return p;
    };
    Op.prototype.outString = function (name, v)
    {
        const p = this.addOutPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_STRING, {
                "type": "string"
            })
        );
        if (v !== undefined) p.set(v);
        else p.set("");
        return p;
    };

    /**
     * create output object port
     * @function outObject
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outObject = function (name, v, objType)
    {
        const p = this.addOutPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_OBJECT, { "objType": objType || null }));
        p.set(v || null);
        p.ignoreValueSerialize = true;
        return p;
    };

    /**
     * create output array port
     * @function outArray
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outArray = function (name, v, stride)
    {
        if (!stride && CABLES.UTILS.isNumeric(v))stride = v;
        const p = this.addOutPort(new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_ARRAY, { "stride": stride }));
        if (v !== undefined && (Array.isArray(v) || v == null)) p.set(v);

        p.ignoreValueSerialize = true;
        return p;
    };

    /**
     * create output texture port
     * @function outTexture
     * @instance
     * @memberof Op
     * @param {String} name
     * @return {Port} created port
     */
    Op.prototype.outTexture = function (name, v)
    {
        const p = this.addOutPort(
            new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_OBJECT, {
                "preview": true,
                "objType": "texture",
                "display": "texture"
            })
        );
        if (v !== undefined) p.set(v || CGL.Texture.getEmptyTexture(this.patch.cgl));

        p.ignoreValueSerialize = true;
        return p;
    };

    Op.prototype.inDynamic = function (name, filter, options, v)
    {
        const p = new Port(this, name, CONSTANTS.OP.OP_PORT_TYPE_DYNAMIC, options);

        p.shouldLink = function (p1, p2)
        {
            if (filter && UTILS.isArray(filter))
            {
                for (let i = 0; i < filter.length; i++)
                {
                    if (p1 == this && p2.type === filter[i]) return true;
                    if (p2 == this && p1.type === filter[i]) return true;
                }
                return false; // types do not match
            }
            return true; // no filter set
        };

        this.addInPort(p);
        if (v !== undefined)
        {
            p.set(v);
            p.defaultValue = v;
        }
        return p;
    };

    Op.prototype.removeLinks = function ()
    {
        for (let i = 0; i < this.portsIn.length; i++) this.portsIn[i].removeLinks();
        for (let i = 0; i < this.portsOut.length; i++) this.portsOut[i].removeLinks();
    };

    Op.prototype.getSerialized = function ()
    {
        const opObj = {};

        if (this.opId) opObj.opId = this.opId;
        if (this.patch.storeObjNames) opObj.objName = this.objName;

        opObj.id = this.id;
        opObj.uiAttribs = JSON.parse(JSON.stringify(this.uiAttribs)) || {};

        if (this.storage && Object.keys(this.storage).length > 0) opObj.storage = JSON.parse(JSON.stringify(this.storage));
        if (this.uiAttribs.hasOwnProperty("working") && this.uiAttribs.working == true) delete this.uiAttribs.working;
        if (opObj.uiAttribs.hasOwnProperty("uierrors")) delete opObj.uiAttribs.uierrors;

        if (opObj.uiAttribs.title === "") delete opObj.uiAttribs.title;
        if (opObj.uiAttribs.color === null) delete opObj.uiAttribs.color;
        if (opObj.uiAttribs.comment === null) delete opObj.uiAttribs.comment;

        if (opObj.uiAttribs.title == this._shortOpName ||
            (this.uiAttribs.title || "").toLowerCase() == this._shortOpName.toLowerCase()) delete opObj.uiAttribs.title;

        opObj.portsIn = [];
        opObj.portsOut = [];

        for (let i = 0; i < this.portsIn.length; i++)
        {
            const s = this.portsIn[i].getSerialized();
            if (s) opObj.portsIn.push(s);
        }

        for (let i = 0; i < this.portsOut.length; i++)
        {
            const s = this.portsOut[i].getSerialized();
            if (s) opObj.portsOut.push(s);
        }

        if (opObj.portsIn.length == 0) delete opObj.portsIn;
        if (opObj.portsOut.length == 0) delete opObj.portsOut;
        cleanJson(opObj);

        return opObj;
    };

    Op.prototype.getFirstOutPortByType = function (type)
    {
        for (const ipo in this.portsOut) if (this.portsOut[ipo].type == type) return this.portsOut[ipo];
    };

    Op.prototype.getFirstInPortByType = function (type)
    {
        for (const ipo in this.portsIn) if (this.portsIn[ipo].type == type) return this.portsIn[ipo];
    };

    /**
     * return port by the name portName
     * @function getPort
     * @instance
     * @memberof Op
     * @param {String} portName
     * @return {Port}
     */
    Op.prototype.getPort = Op.prototype.getPortByName = function (name, lowerCase)
    {
        if (lowerCase)
        {
            for (let ipi = 0; ipi < this.portsIn.length; ipi++)
                if (this.portsIn[ipi].getName().toLowerCase() == name || this.portsIn[ipi].id.toLowerCase() == name)
                    return this.portsIn[ipi];

            for (let ipo = 0; ipo < this.portsOut.length; ipo++)
                if (this.portsOut[ipo].getName().toLowerCase() == name || this.portsOut[ipo].id.toLowerCase() == name)
                    return this.portsOut[ipo];
        }
        else
        {
            for (let ipi = 0; ipi < this.portsIn.length; ipi++)
                if (this.portsIn[ipi].getName() == name || this.portsIn[ipi].id == name)
                    return this.portsIn[ipi];

            for (let ipo = 0; ipo < this.portsOut.length; ipo++)
                if (this.portsOut[ipo].getName() == name || this.portsOut[ipo].id == name)
                    return this.portsOut[ipo];
        }
    };


    /**
     * return port by the name id
     * @function getPortById
     * @instance
     * @memberof Op
     * @param {String} id
     * @return {Port}
     */
    Op.prototype.getPortById = function (id)
    {
        for (let ipi = 0; ipi < this.portsIn.length; ipi++) if (this.portsIn[ipi].id == id) return this.portsIn[ipi];
        for (let ipo = 0; ipo < this.portsOut.length; ipo++) if (this.portsOut[ipo].id == id) return this.portsOut[ipo];
    };

    Op.prototype.updateAnims = function ()
    {
        if (this._hasAnimPort)
            for (let i = 0; i < this.portsIn.length; i++) this.portsIn[i].updateAnim();
    };

    Op.prototype.log = function ()
    {
        this._log.log(...arguments);
    };

    Op.prototype.error = Op.prototype.logError = function ()
    {
        // if (!this)
        // {
        //     this._log.error("no this...!!!");
        //     debugger;
        //     return;
        // }
        // const initiator = "op " + this.objName;
        // if (CABLES.UI && !CABLES.UI.logFilter.filterLog({ "initiator": initiator, "opInstId": this.id, "level": 2 }, ...arguments)) return;

        // // if (this.patch.silent) return;
        // const args = ["[op " + CABLES.getShortOpName(this.objName) + "]"];
        // args.push.apply(args, arguments);
        // Function.prototype.apply.apply(this._log.error, [console, args]);// eslint-disable-line
        // if (window.gui) window.gui.emitEvent("opLogEvent", this.objName, "error", arguments);
        this._log.error(...arguments);
    };

    Op.prototype.warn = Op.prototype.logWarn = function ()
    {
        this._log.warn(...arguments);

        // const initiator = "op " + this.objName;
        // if (CABLES.UI && !CABLES.UI.logFilter.filterLog({ "initiator": initiator, "opInstId": this.id, "level": 1 }, ...arguments)) return;

        // // if (this.patch.silent) return;
        // const args = ["[op " + CABLES.getShortOpName(this.objName) + "]"];
        // args.push.apply(args, arguments);
        // Function.prototype.apply.apply(this._log.warn, [console, args]);// eslint-disable-line
    };

    Op.prototype.verbose = Op.prototype.logVerbose = function ()
    {
        // const initiator = "op " + CABLES.getShortOpName(this.objName);
        // if (CABLES.UI && !CABLES.UI.logFilter.filterLog({ "initiator": initiator, "opInstId": this.id, "level": 0 }, ...arguments)) return;

        // if (!CABLES.UI && this.patch.silent) return;

        // const args = ["[" + initiator + "]"];
        // args.push.apply(args, arguments);
        // Function.prototype.apply.apply(this._log.info, [console, args]);// eslint-disable-line
        this._log.verbose(...arguments);
    };


    Op.prototype.profile = function (enable)
    {
        for (let ipi = 0; ipi < this.portsIn.length; ipi++)
        {
            this.portsIn[ipi]._onTriggered = this.portsIn[ipi]._onTriggeredProfiling;
            this.portsIn[ipi].set = this.portsIn[ipi]._onSetProfiling;
        }
    };

    Op.prototype.findParent = function (objName)
    {
        for (let ipi = 0; ipi < this.portsIn.length; ipi++)
        {
            if (this.portsIn[ipi].isLinked())
            {
                if (this.portsIn[ipi].links[0].portOut.parent.objName == objName)
                    return this.portsIn[ipi].links[0].portOut.parent;

                let found = null;
                found = this.portsIn[ipi].links[0].portOut.parent.findParent(objName);
                if (found) return found;
            }
        }
        return null;
    };


    // todo: check instancing stuff?
    Op.prototype.cleanUp = function ()
    {
        if (this._instances)
        {
            for (let i = 0; i < this._instances.length; i++)
            {
                if (this._instances[i].onDelete) this._instances[i].onDelete();
            }


            this._instances.length = 0;
        }
        for (let i = 0; i < this.portsIn.length; i++)
        {
            this.portsIn[i].setAnimated(false);
        }

        if (this.onAnimFrame) this.patch.removeOnAnimFrame(this);
    };

    // todo: check instancing stuff?
    Op.prototype.instanced = function (triggerPort)
    {
        return false;
        // this._log.log("instanced", this.patch.instancing.numCycles());
        // if (this.patch.instancing.numCycles() === 0) return false;


        // let i = 0;
        // let ipi = 0;
        // if (!this._instances || this._instances.length != this.patch.instancing.numCycles())
        // {
        //     if (!this._instances) this._instances = [];
        //     this._.log("creating instances of ", this.objName, this.patch.instancing.numCycles(), this._instances.length);
        //     this._instances.length = this.patch.instancing.numCycles();

        //     for (i = 0; i < this._instances.length; i++)
        //     {
        //         this._instances[i] = this.patch.createOp(this.objName, true);
        //         this._instances[i].instanced = function ()
        //         {
        //             return false;
        //         };
        //         this._instances[i].uiAttr(this.uiAttribs);

        //         for (let ipo = 0; ipo < this.portsOut.length; ipo++)
        //         {
        //             if (this.portsOut[ipo].type == CONSTANTS.OP.OP_PORT_TYPE_FUNCTION)
        //             {
        //                 this._instances[i].getPortByName(this.portsOut[ipo].name).trigger = this.portsOut[ipo].trigger.bind(this.portsOut[ipo]);
        //             }
        //         }
        //     }

        //     for (ipi = 0; ipi < this.portsIn.length; ipi++)
        //     {
        //         this.portsIn[ipi].onChange = null;
        //         this.portsIn[ipi].onValueChanged = null;
        //     }
        // }

        // const theTriggerPort = null;
        // for (ipi = 0; ipi < this.portsIn.length; ipi++)
        // {
        //     if (
        //         this.portsIn[ipi].type == CONSTANTS.OP.OP_PORT_TYPE_VALUE ||
        //         this.portsIn[ipi].type == CONSTANTS.OP.OP_PORT_TYPE_ARRAY
        //     )
        //     {
        //         this._instances[this.patch.instancing.index()].portsIn[ipi].set(this.portsIn[ipi].get());
        //     }
        //     if (this.portsIn[ipi].type == CONSTANTS.OP.OP_PORT_TYPE_FUNCTION)
        //     {
        //         // if(this._instances[ this.patch.instancing.index() ].portsIn[ipi].name==triggerPort.name)
        //         // theTriggerPort=this._instances[ this.patch.instancing.index() ].portsIn[ipi];
        //     }
        // }

        // if (theTriggerPort) theTriggerPort.onTriggered();

        // for (ipi = 0; ipi < this.portsOut.length; ipi++)
        // {
        //     if (this.portsOut[ipi].type == CONSTANTS.OP.OP_PORT_TYPE_VALUE)
        //     {
        //         this.portsOut[ipi].set(this._instances[this.patch.instancing.index()].portsOut[ipi].get());
        //     }
        // }

        // return true;
    };

    // todo: check instancing stuff?
    Op.prototype.initInstancable = function ()
    {
        //         if(this.isInstanced)
        //         {
        //             this._log.log('cancel instancing');
        //             return;
        //         }
        //         this._instances=[];
        //         for(var ipi=0;ipi<this.portsIn.length;ipi++)
        //         {
        //             if(this.portsIn[ipi].type==CONSTANTS.OP.OP_PORT_TYPE_VALUE)
        //             {
        //
        //             }
        //             if(this.portsIn[ipi].type==CONSTANTS.OP.OP_PORT_TYPE_FUNCTION)
        //             {
        //                 // var piIndex=ipi;
        //                 this.portsIn[ipi].onTriggered=function(piIndex)
        //                 {
        //
        //                     var i=0;
        // // this._log.log('trigger',this._instances.length);
        //
        //                 }.bind(this,ipi );
        //
        //             }
        // };
        // this._instances=null;
    };

    Op.prototype.setValues = function (obj)
    {
        for (const i in obj)
        {
            const port = this.getPortByName(i);
            if (port) port.set(obj[i]);
            else this._log.warn("op.setValues: port not found:", i);
        }
    };

    /**
     * return true if op has this error message id
     * @function hasUiError
     * @instance
     * @memberof Op
     * @param {id} error id
     * @returns {Boolean} - has id
     */
    Op.prototype.hasUiError = function (id)
    {
        return this._uiErrors.hasOwnProperty(id) && this._uiErrors[id];
    };

    /**
     * show op error message - set message to null to remove error message
     * @function setUiError
     * @instance
     * @memberof Op
     * @param {id} error id
     * @param {txt} text message
     * @param {level} level
     */
    Op.prototype.setUiError = function (id, txt, level)
    {
        // overwritten in ui: core_extend_op
    };

    // todo: remove
    Op.prototype.setError = function (id, txt)
    {
        this._log.warn("old error message op.error() - use op.setUiError()");
    };


    /**
     * enable/disable op
     * @function
     * @instance
     * @memberof Op
     * @param {boolean}
     */
    Op.prototype.setEnabled = function (b)
    {
        this.enabled = b;
        this.emitEvent("onEnabledChange", b);
    };

    /**
     * organize ports into a group
     * @function
     * @instance
     * @memberof Op
     * @param {String} name
     * @param {Array} ports
     */
    Op.prototype.setPortGroup = function (name, ports)
    {
        for (let i = 0; i < ports.length; i++)
        {
            if (ports[i])
                if (ports[i].setUiAttribs) ports[i].setUiAttribs({ "group": name });
                else
                {
                    this._log.error("setPortGroup: invalid port!");
                }
        }
    };

    /**
     * visually indicate ports that they are coordinate inputs
     * @function
     * @instance
     * @memberof Op
     * @param {Port} portX
     * @param {Port} portY
     * @param {Port} portZ
     */
    Op.prototype.setUiAxisPorts = function (px, py, pz)
    {
        if (px) px.setUiAttribs({ "axis": "X" });
        if (py) py.setUiAttribs({ "axis": "Y" });
        if (pz) pz.setUiAttribs({ "axis": "Z" });
    };

    /**
     * remove port from op
     * @function removePort
     * @instance
     * @memberof Op
     * @param {Port} port to remove
     */
    Op.prototype.removePort = function (port)
    {
        for (let ipi = 0; ipi < this.portsIn.length; ipi++)
        {
            if (this.portsIn[ipi] == port)
            {
                this.portsIn.splice(ipi, 1);
                this.emitEvent("onUiAttribsChange", {});
                this.emitEvent("onPortRemoved", {});
                return;
            }
        }
        for (let ipi = 0; ipi < this.portsOut.length; ipi++)
        {
            if (this.portsOut[ipi] == port)
            {
                this.portsOut.splice(ipi, 1);
                this.emitEvent("onUiAttribsChange", {});
                this.emitEvent("onPortRemoved", {});
                return;
            }
        }
    };

    Op.prototype._checkLinksNeededToWork = function () {};

    /**
     * show a warning of this op is not a child of parentOpName
     * @function
     * @instance
     * @memberof Op
     * @param {String} parentOpName
     */
    Op.prototype.toWorkNeedsParent = function (parentOpName)
    {
        this._linkTimeRules.needsParentOp = parentOpName;
    };

    // /**
    //  * show a warning of this op is a child of parentOpName
    //  * @function
    //  * @instance
    //  * @memberof Op
    //  * @param {String} parentOpName
    //  */
    Op.prototype.toWorkShouldNotBeChild = function (parentOpName, type)
    {
        if (!this.patch.isEditorMode()) return;
        this._linkTimeRules.forbiddenParent = parentOpName;
        if (type != undefined) this._linkTimeRules.forbiddenParentType = type;
    };


    /**
     * show a small X to indicate op is not working when given ports are not linked
     * @function
     * @instance
     * @memberof Op
     * @param {Port} port1
     * @param {Port} port2
     * @param {Port} port3
     */
    Op.prototype.toWorkPortsNeedToBeLinked = function ()
    {
        if (!this.patch.isEditorMode()) return;
        for (let i = 0; i < arguments.length; i++)
            if (this._linkTimeRules.needsLinkedToWork.indexOf(arguments[i]) == -1) this._linkTimeRules.needsLinkedToWork.push(arguments[i]);
    };
    Op.prototype.toWorkPortsNeedToBeLinkedReset = function ()
    {
        if (!this.patch.isEditorMode()) return;
        this._linkTimeRules.needsLinkedToWork.length = 0;
        if (this.checkLinkTimeWarnings) this.checkLinkTimeWarnings();
    };

    Op.prototype.initVarPorts = function ()
    {
        for (let i = 0; i < this.portsIn.length; i++)
        {
            if (this.portsIn[i].getVariableName()) this.portsIn[i].setVariable(this.portsIn[i].getVariableName());
        }
    };

    /**
     * refresh op parameters, if current op is selected
     * @function
     * @instance
     * @memberof Op
     */
    Op.prototype.refreshParams = function ()
    {
        if (this.patch && this.patch.isEditorMode() && this.isCurrentUiOp())
        {
            gui.opParams.show(this);
        }
    };

    /**
     * Returns true if op is selected and parameter are shown in the editor, can only return true if in editor/ui
     * @function isCurrentUiOp
     * @instance
     * @memberof Op
     * @returns {Boolean} - is current ui op
     */
    Op.prototype.isCurrentUiOp = function ()
    {
        if (this.patch.isEditorMode()) return gui.patchView.isCurrentOp(this);
    };

    /**
     * Implement to render 2d canvas based graphics from in an op
     * @function renderVizLayer
     * @instance
     * @memberof Op
     * @param {ctx} context of canvas 2d
     * @param {Object} layer info
     * @param {number} layer.x x position on canvas
     * @param {number} layer.y y position on canvas
     * @param {number} layer.width width of canvas
     * @param {number} layer.height height of canvas
     * @param {number} layer.scale current scaling of patchfield view
     */
    Op.prototype.renderVizLayer = null; // optionaly defined in op instance
}



;// CONCATENATED MODULE: ./src/core/loadingstatus.js




/**
 * LoadingStatus class, manages asynchronous loading jobs
 *
 * @namespace external:CABLES#LoadingStatus
 * @hideconstructor
 * @class
 * @param patch
 */
const LoadingStatus = function (patch)
{
    EventTarget.apply(this);

    this._log = new Logger("LoadingStatus");
    this._loadingAssets = {};
    this._cbFinished = [];
    this._assetTasks = [];
    this._percent = 0;
    this._count = 0;
    this._countFinished = 0;
    this._order = 0;
    this._startTime = 0;
    this._patch = patch;
    this._wasFinishedPrinted = false;
    this._loadingAssetTaskCb = false;
};

LoadingStatus.prototype.setOnFinishedLoading = function (cb)
{
    this._cbFinished.push(cb);
};

LoadingStatus.prototype.getNumAssets = function ()
{
    return this._countFinished;
};

LoadingStatus.prototype.getProgress = function ()
{
    return this._percent;
};

LoadingStatus.prototype.checkStatus = function ()
{
    this._countFinished = 0;
    this._count = 0;

    for (const i in this._loadingAssets)
    {
        this._count++;
        if (!this._loadingAssets[i].finished)
        {
            this._countFinished++;
        }
    }

    this._percent = (this._count - this._countFinished) / this._count;

    if (this._countFinished === 0)
    {
        for (let j = 0; j < this._cbFinished.length; j++)
        {
            if (this._cbFinished[j])
            {
                const cb = this._cbFinished[j];
                setTimeout(() => { cb(this._patch); this.emitEvent("finishedAll"); }, 100);
            }
        }

        if (!this._wasFinishedPrinted)
        {
            this._wasFinishedPrinted = true;
            this.print();
        }
        this.emitEvent("finishedAll");
    }
};

LoadingStatus.prototype.getList = function ()
{
    let arr = [];
    for (const i in this._loadingAssets)
    {
        arr.push(this._loadingAssets[i]);
    }

    return arr;
};


LoadingStatus.prototype.getListJobs = function ()
{
    let arr = [];
    for (const i in this._loadingAssets)
    {
        if (!this._loadingAssets[i].finished)arr.push(this._loadingAssets[i].name);
    }

    return arr;
};

LoadingStatus.prototype.print = function ()
{
    if (this._patch.config.silent) return;

    const rows = [];

    for (const i in this._loadingAssets)
    {
        rows.push([
            this._loadingAssets[i].order,
            this._loadingAssets[i].type,
            this._loadingAssets[i].name,
            (this._loadingAssets[i].timeEnd - this._loadingAssets[i].timeStart) / 1000 + "s",
        ]);
    }

    this._log.groupCollapsed("finished loading " + this._order + " assets in " + (Date.now() - this._startTime) / 1000 + "s");
    this._log.table(rows);
    this._log.groupEnd();
};

LoadingStatus.prototype.finished = function (id)
{
    const l = this._loadingAssets[id];
    if (l)
    {
        if (l.finished) this._log.warn("loading job was already finished", l);

        if (l.op) l.op.setUiAttribs({ "loading": false });
        l.finished = true;
        l.timeEnd = Date.now();
    }

    this.checkStatus();
    this.emitEvent("finishedTask");
    return null;
};

LoadingStatus.prototype._startAssetTasks = function ()
{
    for (let i = 0; i < this._assetTasks.length; i++) this._assetTasks[i]();
    this._assetTasks.length = 0;
};

/**
 * delay an asset loading task, mainly to wait for ui to be finished loading and showing, and only then start loading assets
 * @function addAssetLoadingTask
 * @instance
 * @memberof LoadingStatus
 * @param {function} cb callback
 */
LoadingStatus.prototype.addAssetLoadingTask = function (cb)
{
    if (this._patch.isEditorMode() && !CABLES.UI.loaded)
    {
        this._assetTasks.push(cb);

        if (!this._loadingAssetTaskCb)window.gui.addEventListener("uiloaded", this._startAssetTasks.bind(this));
        this._loadingAssetTaskCb = true;
    }
    else
    {
        cb();
    }
    this.emitEvent("addAssetTask");
};

LoadingStatus.prototype.existByName = function (name)
{
    for (let i in this._loadingAssets)
    {
        if (this._loadingAssets[i].name == name && !this._loadingAssets[i].finished)
            return true;
    }
};

LoadingStatus.prototype.start = function (type, name, op)
{
    if (this._startTime == 0) this._startTime = Date.now();
    const id = generateUUID();

    name = name || "unknown";
    if (name.length > 100)name = name.substring(0, 100);


    if (op)op.setUiAttribs({ "loading": true });

    this._loadingAssets[id] = {
        "id": id,
        "op": op,
        "type": type,
        "name": name,
        "finished": false,
        "timeStart": Date.now(),
        "order": this._order,
    };
    this._order++;

    this.emitEvent("startTask");

    return id;
};



;// CONCATENATED MODULE: ./src/core/timer.js


/** @namespace CABLES */

const internalNow = function ()
{
    return window.performance.now();
};



/**
 * current time in milliseconds
 * @memberof CABLES
 * @function now
 * @static
 */
const now = function ()
{
    return internalNow();
};

// ----------------------------

/**
 * Measuring time
 * @namespace external:CABLES#Timer
 * @hideconstructor
 * @class
 */
const Timer = function ()
{
    EventTarget.apply(this);

    this._timeStart = internalNow();
    this._timeOffset = 0;

    this._currentTime = 0;
    this._lastTime = 0;
    this._paused = true;
    this._delay = 0;
    this.overwriteTime = -1;
};


Timer.prototype._internalNow = function ()
{
    if (this._ts) return this._ts;
    return internalNow();
};

Timer.prototype._getTime = function ()
{
    this._lastTime = (this._internalNow() - this._timeStart) / 1000;
    return this._lastTime + this._timeOffset;
};

Timer.prototype.setDelay = function (d)
{
    this._delay = d;
    this.emitEvent("timeChange");
};

/**
 * @function
 * @memberof Timer
 * @instance
 * @description returns true if timer is playing
 * @return {Boolean} value
 */
Timer.prototype.isPlaying = function ()
{
    return !this._paused;
};

/**
 * @function
 * @memberof Timer
 * @instance
 * @param ts
 * @description update timer
 * @return {Number} time
 */
Timer.prototype.update = function (ts)
{
    if (ts) this._ts = ts;
    if (this._paused) return;
    this._currentTime = this._getTime();

    return this._currentTime;
};

/**
 * @function
 * @memberof Timer
 * @instance
 * @return {Number} time in milliseconds
 */
Timer.prototype.getMillis = function ()
{
    return this.get() * 1000;
};

/**
 * @function
 * @memberof Timer
 * @instance
 * @return {Number} value time in seconds
 */
Timer.prototype.get = Timer.prototype.getTime = function ()
{
    if (this.overwriteTime >= 0) return this.overwriteTime - this._delay;
    return this._currentTime - this._delay;
};

/**
 * toggle between play/pause state
 * @function
 * @memberof Timer
 * @instance
 */
Timer.prototype.togglePlay = function ()
{
    if (this._paused) this.play();
    else this.pause();
};

/**
 * set current time
 * @function
 * @memberof Timer
 * @instance
 * @param {Number} t
 */
Timer.prototype.setTime = function (t)
{
    if (isNaN(t) || t < 0) t = 0;
    this._timeStart = this._internalNow();
    this._timeOffset = t;
    this._currentTime = t;
    this.emitEvent("timeChange");
};

Timer.prototype.setOffset = function (val)
{
    if (this._currentTime + val < 0)
    {
        this._timeStart = this._internalNow();
        this._timeOffset = 0;
        this._currentTime = 0;
    }
    else
    {
        this._timeOffset += val;
        this._currentTime = this._lastTime + this._timeOffset;
    }
    this.emitEvent("timeChange");
};

/**
 * (re)starts the timer
 * @function
 * @memberof Timer
 * @instance
 */
Timer.prototype.play = function ()
{
    this._timeStart = this._internalNow();
    this._paused = false;
    this.emitEvent("playPause");
};

/**
 * pauses the timer
 * @function
 * @memberof Timer
 * @instance
 */
Timer.prototype.pause = function ()
{
    this._timeOffset = this._currentTime;
    this._paused = true;
    this.emitEvent("playPause");
};



;// CONCATENATED MODULE: ./src/core/core_profiler.js


class Profiler
{
    constructor(patch)
    {
        this.startFrame = patch.getFrameNum();
        this.items = {};
        this.currentId = null;
        this.currentStart = 0;
        this._patch = patch;
    }

    getItems()
    {
        return this.items;
    }

    clear()
    {
        if (this.paused) return;
        this.items = {};
    }

    togglePause()
    {
        this.paused = !this.paused;
        if (!this.paused)
        {
            this.items = {};
            this.currentStart = performance.now();
        }
    }

    add(type, object)
    {
        if (this.paused) return;

        if (this.currentId !== null)
        {
            if (!object || object.id != this.currentId)
            {
                if (this.items[this.currentId])
                {
                    this.items[this.currentId].timeUsed += performance.now() - this.currentStart;

                    if (!this.items[this.currentId].peakTime || now() - this.items[this.currentId].peakTime > 5000)
                    {
                        this.items[this.currentId].peak = 0;
                        this.items[this.currentId].peakTime = now();
                    }
                    this.items[this.currentId].peak = Math.max(this.items[this.currentId].peak, performance.now() - this.currentStart);
                }
            }
        }

        if (object !== null)
        {
            if (!this.items[object.id])
            {
                this.items[object.id] = {
                    "numTriggers": 0,
                    "timeUsed": 0,
                };
            }

            if (this.items[object.id].lastFrame != this._patch.getFrameNum()) this.items[object.id].numTriggers = 0;

            this.items[object.id].lastFrame = this._patch.getFrameNum();
            this.items[object.id].numTriggers++;
            this.items[object.id].opid = object.op.id;
            this.items[object.id].title = object.op.name + "." + object.name;
            this.items[object.id].subPatch = object.op.uiAttribs.subPatch;

            this.currentId = object.id;
            this.currentStart = performance.now();
        }
        else
        {
            this.currentId = null;
        }
    }

    print()
    {
        console.log("--------");
        for (const i in this.items)
        {
            console.log(this.items[i].title + ": " + this.items[i].numTriggers + " / " + this.items[i].timeUsed);
        }
    }
}



;// CONCATENATED MODULE: ./src/core/cgl/constants.js
const SHADER = {
    // default attributes
    "SHADERVAR_VERTEX_POSITION": "vPosition",
    "SHADERVAR_VERTEX_NUMBER": "attrVertIndex",
    "SHADERVAR_VERTEX_NORMAL": "attrVertNormal",
    "SHADERVAR_VERTEX_TEXCOORD": "attrTexCoord",
    "SHADERVAR_INSTANCE_MMATRIX": "instMat",
    "SHADERVAR_VERTEX_COLOR": "attrVertColor",

    "SHADERVAR_INSTANCE_INDEX": "instanceIndex",

    // default uniforms
    "SHADERVAR_UNI_PROJMAT": "projMatrix",
    "SHADERVAR_UNI_VIEWMAT": "viewMatrix",
    "SHADERVAR_UNI_MODELMAT": "modelMatrix",
    "SHADERVAR_UNI_NORMALMAT": "normalMatrix",
    "SHADERVAR_UNI_INVVIEWMAT": "inverseViewMatrix",
    "SHADERVAR_UNI_INVPROJMAT": "invProjMatrix",
    "SHADERVAR_UNI_MATERIALID": "materialId",
    "SHADERVAR_UNI_OBJECTID": "objectId",

    "SHADERVAR_UNI_VIEWPOS": "camPos",
};


const BLEND_MODES = {
    "BLEND_NONE": 0,
    "BLEND_NORMAL": 1,
    "BLEND_ADD": 2,
    "BLEND_SUB": 3,
    "BLEND_MUL": 4,
};





const RAD2DEG = 180.0 / Math.PI;
const DEG2RAD = Math.PI / 180.0;

const constants_CONSTANTS = {
    "MATH": {
        "DEG2RAD": DEG2RAD,
        "RAD2DEG": RAD2DEG,
    },
    "SHADER": SHADER,
    "BLEND_MODES": BLEND_MODES,
};




;// CONCATENATED MODULE: ./src/core/cg/cg_uniform.js



class CgUniform
{
    constructor(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName)
    {
        this._log = new Logger("cg_uniform");
        this._type = __type;
        this._name = __name;
        this._shader = __shader;
        this._value = 0.00001;
        this._oldValue = null;
        this._port = null;
        this._structName = _structName;
        this._structUniformName = _structUniformName;
        this._propertyName = _propertyName;

        this._shader._addUniform(this);
        this.needsUpdate = true;
        this.shaderType = null;
        this.comment = null;

        if (__type == "f")
        {
            this.set = this.setValue = this.setValueF.bind(this);
            this.updateValue = this.updateValueF.bind(this);
        }
        else if (__type == "f[]")
        {
            this.set = this.setValue = this.setValueArrayF.bind(this);
            this.updateValue = this.updateValueArrayF.bind(this);
        }
        else if (__type == "2f[]")
        {
            this.set = this.setValue = this.setValueArray2F.bind(this);
            this.updateValue = this.updateValueArray2F.bind(this);
        }
        else if (__type == "3f[]")
        {
            this.set = this.setValue = this.setValueArray3F.bind(this);
            this.updateValue = this.updateValueArray3F.bind(this);
        }
        else if (__type == "4f[]")
        {
            this.set = this.setValue = this.setValueArray4F.bind(this);
            this.updateValue = this.updateValueArray4F.bind(this);
        }
        else if (__type == "i")
        {
            this.set = this.setValue = this.setValueI.bind(this);
            this.updateValue = this.updateValueI.bind(this);
        }
        else if (__type == "2i")
        {
            this.set = this.setValue = this.setValue2I.bind(this);
            this.updateValue = this.updateValue2I.bind(this);
        }
        else if (__type == "3i")
        {
            this.set = this.setValue = this.setValue3I.bind(this);
            this.updateValue = this.updateValue3I.bind(this);
        }
        else if (__type == "4i")
        {
            this.set = this.setValue = this.setValue4I.bind(this);
            this.updateValue = this.updateValue4I.bind(this);
        }
        else if (__type == "b")
        {
            this.set = this.setValue = this.setValueBool.bind(this);
            this.updateValue = this.updateValueBool.bind(this);
        }
        else if (__type == "4f")
        {
            this.set = this.setValue = this.setValue4F.bind(this);
            this.updateValue = this.updateValue4F.bind(this);
        }
        else if (__type == "3f")
        {
            this.set = this.setValue = this.setValue3F.bind(this);
            this.updateValue = this.updateValue3F.bind(this);
        }
        else if (__type == "2f")
        {
            this.set = this.setValue = this.setValue2F.bind(this);
            this.updateValue = this.updateValue2F.bind(this);
        }
        else if (__type == "t")
        {
            this.set = this.setValue = this.setValueT.bind(this);
            this.updateValue = this.updateValueT.bind(this);
        }
        else if (__type == "sampler")
        {
            if (this.setValueAny)
            {
                this.set = this.setValue = this.setValueAny.bind(this);
                this.updateValue = this.updateValueAny.bind(this);
            }
        }
        else if (__type == "tc")
        {
            this.set = this.setValue = this.setValueT.bind(this);
            this.updateValue = this.updateValueT.bind(this);
        }
        else if (__type == "t[]")
        {
            this.set = this.setValue = this.setValueArrayT.bind(this);
            this.updateValue = this.updateValueArrayT.bind(this);
        }
        else if (__type == "m4" || __type == "m4[]")
        {
            this.set = this.setValue = this.setValueM4.bind(this);
            this.updateValue = this.updateValueM4.bind(this);
        }
        else
        {
            // console.error("unknown");
            this._log.error("Unknown uniform type " + __type);
        }

        if (typeof _value == "object" && _value instanceof Port)
        {
            this._port = _value;
            this._value = this._port.get();


            if (_port2 && _port3 && _port4)
            {
                if (!(_port2 instanceof Port) || !(_port3 instanceof Port) || !(_port4 instanceof Port))
                {
                    this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ", this._name);
                }

                this._value = [0, 0, 0, 0];
                this._port2 = _port2;
                this._port3 = _port3;
                this._port4 = _port4;

                this._port.on("change", this.updateFromPort4f.bind(this));
                this._port2.on("change", this.updateFromPort4f.bind(this));
                this._port3.on("change", this.updateFromPort4f.bind(this));
                this._port4.on("change", this.updateFromPort4f.bind(this));

                // this._port.onChange = this._port2.onChange = this._port3.onChange = this._port4.onChange = this.updateFromPort4f.bind(this);
                this.updateFromPort4f();
            }
            else if (_port2 && _port3)
            {
                if (!(_port2 instanceof Port) || !(_port3 instanceof Port))
                {
                    this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ", this._name);
                }

                this._value = [0, 0, 0];
                this._port2 = _port2;
                this._port3 = _port3;
                // this._port.onChange = this._port2.onChange = this._port3.onChange = this.updateFromPort3f.bind(this);
                this._port.on("change", this.updateFromPort3f.bind(this));
                this._port2.on("change", this.updateFromPort3f.bind(this));
                this._port3.on("change", this.updateFromPort3f.bind(this));

                this.updateFromPort3f();
            }
            else if (_port2)
            {
                if (!(_port2 instanceof Port))
                {
                    this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ", this._name);
                }

                this._value = [0, 0];
                this._port2 = _port2;
                // this._port.onChange = this._port2.onChange = this.updateFromPort2f.bind(this);
                this._port.on("change", this.updateFromPort2f.bind(this));
                this._port2.on("change", this.updateFromPort2f.bind(this));

                this.updateFromPort2f();
            }
            else
            {
                // this._port.on = this.updateFromPort.bind(this);
                this._port.on("change", this.updateFromPort.bind(this));
            }
        }
        else this._value = _value;

        this.setValue(this._value);
        this.needsUpdate = true;
    }


    getType()
    {
        return this._type;
    }

    getName()
    {
        return this._name;
    }

    getValue()
    {
        return this._value;
    }

    getShaderType()
    {
        return this.shaderType;
    }

    isStructMember()
    {
        return !!this._structName;
    }


    updateFromPort4f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this._value[2] = this._port3.get();
        this._value[3] = this._port4.get();
        this.setValue(this._value);
    }

    updateFromPort3f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this._value[2] = this._port3.get();
        this.setValue(this._value);
    }

    updateFromPort2f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this.setValue(this._value);
    }

    updateFromPort()
    {
        this.setValue(this._port.get());
    }
}

/* harmony default export */ const cg_uniform = (CgUniform);

;// CONCATENATED MODULE: ./src/core/cgl/cgl_shader_uniform.js




/**
 * Shader uniforms
 *
 * types:
 * <pre>
 * f    - float
 * 2f   - vec2
 * 3f   - vec3
 * 4f   - vec4
 * i    - integer
 * t    - texture
 * m4   - mat4, 4x4 float matrix
 * f[]  - array of floats
 * 2f[] - array of float vec2
 * 3f[] - array of float vec3
 * 4f[] - array of float vec4
 * </pre>
 *
 * @namespace external:CGL
 * @class
 * @param {Shader} shader
 * @param {String} [type=f]
 * @param {String} name
 * @param {Number|Port} value  can be a Number,Matrix or Port
 * @example
 * // bind float uniform called myfloat and initialize with value 1.0
 * const unir=new CGL.Uniform(shader,'f','myfloat',1.0);
 * unir.setValue(1.0);
 *
 * // bind float uniform called myfloat and automatically set it to input port value
 * const myPort=op.inFloat("input");
 * const pv=new CGL.Uniform(shader,'f','myfloat',myPort);
 *
 */


// export const Uniform(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName)

class Uniform extends cg_uniform
{
    constructor(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName)
    {
        super(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName);
        this._loc = -1;
        this._cgl = __shader._cgl;
    }

    get name()
    {
        return this._name;
    }

    copy(newShader)
    {
        const uni = new Uniform(newShader, this._type, this._name, this._value, this._port2, this._port3, this._port4, this._structUniformName, this._structName, this._propertyName);
        uni.shaderType = this.shaderType;
        return uni;
    }

    /**
     * returns type as glsl type string. e.g. 'f' returns 'float'
     * @function getGlslTypeString
     * @memberof Uniform
     * @instance
     * @return {string} type as string
     */
    getGlslTypeString()
    {
        return Uniform.glslTypeString(this._type);
    }

    _isValidLoc()
    {
        return this._loc != -1;// && this._loc != null;
    }

    resetLoc()
    {
        this._loc = -1;
        this.needsUpdate = true;
    }

    bindTextures() {}

    getLoc()
    {
        return this._loc;
    }

    updateFromPort4f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this._value[2] = this._port3.get();
        this._value[3] = this._port4.get();
        this.setValue(this._value);
    }

    updateFromPort3f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this._value[2] = this._port3.get();
        this.setValue(this._value);
    }

    updateFromPort2f()
    {
        this._value[0] = this._port.get();
        this._value[1] = this._port2.get();
        this.setValue(this._value);
    }

    updateFromPort()
    {
        this.setValue(this._port.get());
    }

    updateValueF()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        this._shader.getCgl().gl.uniform1f(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueF(v)
    {
        if (v != this._value)
        {
            this.needsUpdate = true;
            this._value = v;
        }
    }

    updateValueI()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        this._shader.getCgl().gl.uniform1i(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    updateValue2I()
    {
        if (!this._value) return;

        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        this._shader.getCgl().gl.uniform2i(this._loc, this._value[0], this._value[1]);

        this.needsUpdate = false;
        this._cgl.profileData.profileUniformCount++;
    }

    updateValue3I()
    {
        if (!this._value) return;
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        this._shader.getCgl().gl.uniform3i(this._loc, this._value[0], this._value[1], this._value[2]);
        this.needsUpdate = false;
        this._cgl.profileData.profileUniformCount++;
    }

    updateValue4I()
    {
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }
        this._shader.getCgl().gl.uniform4i(this._loc, this._value[0], this._value[1], this._value[2], this._value[3]);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueI(v)
    {
        if (v != this._value)
        {
            this.needsUpdate = true;
            this._value = v;
        }
    }

    setValue2I(v)
    {
        if (!v) return;
        if (!this._oldValue)
        {
            this._oldValue = [v[0] - 1, 1];
            this.needsUpdate = true;
        }
        else if (v[0] != this._oldValue[0] || v[1] != this._oldValue[1])
        {
            this._oldValue[0] = v[0];
            this._oldValue[1] = v[1];
            this.needsUpdate = true;
        }

        this._value = v;
    }

    setValue3I(v)
    {
        if (!v) return;
        if (!this._oldValue)
        {
            this._oldValue = [v[0] - 1, 1, 2];
            this.needsUpdate = true;
        }
        else if (v[0] != this._oldValue[0] || v[1] != this._oldValue[1] || v[2] != this._oldValue[2])
        {
            this._oldValue[0] = v[0];
            this._oldValue[1] = v[1];
            this._oldValue[2] = v[2];
            this.needsUpdate = true;
        }

        this._value = v;
    }

    setValue4I(v)
    {
        this.needsUpdate = true;
        this._value = v || vec4.create();
    }

    updateValueBool()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;
        this._shader.getCgl().gl.uniform1i(this._loc, this._value ? 1 : 0);

        this._cgl.profileData.profileUniformCount++;
    }

    setValueBool(v)
    {
        if (v != this._value)
        {
            this.needsUpdate = true;
            this._value = v;
        }
    }

    setValueArray4F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValueArray4F()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        if (!this._value) return;
        this._shader.getCgl().gl.uniform4fv(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueArray3F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValueArray3F()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        if (!this._value) return;
        this._shader.getCgl().gl.uniform3fv(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueArray2F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValueArray2F()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        if (!this._value) return;
        this._shader.getCgl().gl.uniform2fv(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueArrayF(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValueArrayF()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        if (!this._value) return;
        this._shader.getCgl().gl.uniform1fv(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueArrayT(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }


    updateValue3F()
    {
        if (!this._value) return;
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        this._shader.getCgl().gl.uniform3f(this._loc, this._value[0], this._value[1], this._value[2]);
        this.needsUpdate = false;
        this._cgl.profileData.profileUniformCount++;
    }

    setValue3F(v)
    {
        if (!v) return;
        if (!this._oldValue)
        {
            this._oldValue = [v[0] - 1, 1, 2];
            this.needsUpdate = true;
        }
        else if (v[0] != this._oldValue[0] || v[1] != this._oldValue[1] || v[2] != this._oldValue[2])
        {
            this._oldValue[0] = v[0];
            this._oldValue[1] = v[1];
            this._oldValue[2] = v[2];
            this.needsUpdate = true;
        }

        this._value = v;
    }

    updateValue2F()
    {
        if (!this._value) return;

        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        this._shader.getCgl().gl.uniform2f(this._loc, this._value[0], this._value[1]);
        this.needsUpdate = false;
        this._cgl.profileData.profileUniformCount++;
    }

    setValue2F(v)
    {
        if (!v) return;
        if (!this._oldValue)
        {
            this._oldValue = [v[0] - 1, 1];
            this.needsUpdate = true;
        }
        else if (v[0] != this._oldValue[0] || v[1] != this._oldValue[1])
        {
            this._oldValue[0] = v[0];
            this._oldValue[1] = v[1];
            this.needsUpdate = true;
        }
        this._value = v;
    }

    updateValue4F()
    {
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        if (!this._value)
        {
            this._log.warn("no value for uniform", this._name, this);
            this._value = [0, 0, 0, 0];
        }

        this.needsUpdate = false;
        this._shader.getCgl().gl.uniform4f(this._loc, this._value[0], this._value[1], this._value[2], this._value[3]);
        this._cgl.profileData.profileUniformCount++;
    }

    setValue4F(v)
    {
        if (typeof this.value == "number") this.value = vec4.create(); // this should not be needed, but somehow it crashes with some shadermods

        if (!v) return;
        if (!this._oldValue)
        {
            this._oldValue = [v[0] - 1, 1, 2, 3];
            this.needsUpdate = true;
        }
        else if (v[0] != this._oldValue[0] || v[1] != this._oldValue[1] || v[2] != this._oldValue[2] || v[3] != this._oldValue[3])
        {
            this._oldValue[0] = v[0];
            this._oldValue[1] = v[1];
            this._oldValue[2] = v[2];
            this.needsUpdate = true;
        }

        this._value = v;
    }

    updateValueM4()
    {
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }
        if (!this._value || this._value.length % 16 != 0) return console.log("this.name", this._name, this._value);

        this._shader.getCgl().gl.uniformMatrix4fv(this._loc, false, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    setValueM4(v)
    {
        this.needsUpdate = true;
        this._value = v || mat4.create();
    }

    updateValueArrayT()
    {
        if (!this._isValidLoc()) this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
        else this.needsUpdate = false;

        if (!this._value) return;
        this._shader.getCgl().gl.uniform1iv(this._loc, this._value);
        this._cgl.profileData.profileUniformCount++;
    }

    updateValueT()
    {
        if (!this._isValidLoc())
        {
            this._loc = this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(), this._name);
            this._cgl.profileData.profileShaderGetUniform++;
            this._cgl.profileData.profileShaderGetUniformName = this._name;
        }

        this._cgl.profileData.profileUniformCount++;
        this._shader.getCgl().gl.uniform1i(this._loc, this._value);
        this.needsUpdate = false;
    }

    setValueT(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }
}


Uniform.glslTypeString = (t) =>
{
    if (t == "f") return "float";
    if (t == "b") return "bool";
    if (t == "i") return "int";
    if (t == "2i") return "ivec2";
    if (t == "2f") return "vec2";
    if (t == "3f") return "vec3";
    if (t == "4f") return "vec4";
    if (t == "m4") return "mat4";

    if (t == "t") return "sampler2D";
    if (t == "tc") return "samplerCube";

    if (t == "3f[]") return null; // ignore this for now...
    if (t == "m4[]") return null; // ignore this for now...
    if (t == "f[]") return null; // ignore this for now...

    console.warn("[CGL UNIFORM] unknown glsl type string ", t);
};


/**
 * @function setValue
 * @memberof Uniform
 * @instance
 * @param {Number|Array|Matrix|Texture} value
 */



;// CONCATENATED MODULE: ./src/core/cg/cg_texture.js
const DEFAULT_TEXTURE_SIZE = 8;

class CgTexture
{
    constructor(options = {})
    {
        this.id = CABLES.uuid();
        this.width = 0;
        this.height = 0;
        this.name = "unknown";

        options = options || {};
        this.pixelFormat = options.pixelFormat || CgTexture.PFORMATSTR_RGBA8UB;

        this.name = options.name || "unknown";

        if (!options.width) options.width = DEFAULT_TEXTURE_SIZE;
        if (!options.height) options.height = DEFAULT_TEXTURE_SIZE;
    }
}


CgTexture.getDefaultTextureData = (name, size, options = {}) =>
{
    if (name == "empty")
    {
        return new Uint8Array(size * size * 4).fill(0);
    }
    else
    if (name == "color")
    {
        const data = new Uint8Array(size * size * 4);
        let r = options.r || 1;
        let g = options.g || 1;
        let b = options.b || 1;

        for (let x = 0; x < size * size; x++)
        {
            data[x * 4 + 0] = r;
            data[x * 4 + 1] = g;
            data[x * 4 + 2] = b;
            data[x * 4 + 3] = 255;
        }
        return data;
    }
    else
    if (name == "randomUInt")
    {
        const data = new Uint8Array(size * size * 4);

        for (let x = 0; x < size * size; x++)
        {
            data[x * 4 + 0] = Math.random() * 255;
            data[x * 4 + 1] = Math.random() * 255;
            data[x * 4 + 2] = Math.random() * 255;
            data[x * 4 + 3] = 255;
        }
        return data;
    }
    else
    if (name == "random" || name == "randomFloat")
    {
        const data = new Float32Array(size * size * 4);

        for (let x = 0; x < size * size; x++)
        {
            data[x * 4 + 0] = (Math.random() - 0.5) * 2.0;
            data[x * 4 + 1] = (Math.random() - 0.5) * 2.0;
            data[x * 4 + 2] = (Math.random() - 0.5) * 2.0;
            data[x * 4 + 3] = 1;
        }
        return data;
    }
    else
    if (name == "stripes")
    {
        const arr = [];

        let r = options.r;
        let g = options.g;
        let b = options.b;

        if (r === undefined)r = 1;
        if (g === undefined)g = 1;
        if (b === undefined)b = 1;

        for (let y = 0; y < size; y++)
        {
            for (let x = 0; x < size; x++)
            {
                if ((x + y) % 64 < 32)
                {
                    arr.push((200 + (y / size) * 25 + (x / size) * 25) * r);
                    arr.push((200 + (y / size) * 25 + (x / size) * 25) * g);
                    arr.push((200 + (y / size) * 25 + (x / size) * 25) * b);
                }
                else
                {
                    arr.push((40 + (y / size) * 25 + (x / size) * 25) * r);
                    arr.push((40 + (y / size) * 25 + (x / size) * 25) * g);
                    arr.push((40 + (y / size) * 25 + (x / size) * 25) * b);
                }
                arr.push(255);
            }
        }

        return new Uint8Array(arr);
    }
    else
    {
        console.warn("unknown default texture", name);
        return CgTexture.getDefaultTextureData("stripes", size, { "r": 1, "g": 0, "b": 0 });
    }
};



CgTexture.FILTER_NEAREST = 0;
CgTexture.FILTER_LINEAR = 1;
CgTexture.FILTER_MIPMAP = 2;

CgTexture.WRAP_REPEAT = 0;
CgTexture.WRAP_MIRRORED_REPEAT = 1;
CgTexture.WRAP_CLAMP_TO_EDGE = 2;

CgTexture.TYPE_DEFAULT = 0;
CgTexture.TYPE_DEPTH = 1;
CgTexture.TYPE_FLOAT = 2;


CgTexture.PFORMATSTR_RGB565 = "RGB 5/6/5bit ubyte";

CgTexture.PFORMATSTR_R8UB = "R 8bit ubyte";
CgTexture.PFORMATSTR_RG8UB = "RG 8bit ubyte";
CgTexture.PFORMATSTR_RGB8UB = "RGB 8bit ubyte";
CgTexture.PFORMATSTR_RGBA8UB = "RGBA 8bit ubyte";

CgTexture.PFORMATSTR_SRGBA8 = "SRGBA 8bit ubyte";

CgTexture.PFORMATSTR_R11FG11FB10F = "RGB 11/11/10bit float";

CgTexture.PFORMATSTR_R16F = "R 16bit float";
CgTexture.PFORMATSTR_RG16F = "RG 16bit float";
CgTexture.PFORMATSTR_RGB16F = "RGB 16bit float";
CgTexture.PFORMATSTR_RGBA16F = "RGBA 16bit float";


CgTexture.PFORMATSTR_R32F = "R 32bit float";
CgTexture.PFORMATSTR_RG32F = "RG 32bit float";
CgTexture.PFORMATSTR_RGB32F = "RGB 32bit float";
CgTexture.PFORMATSTR_RGBA32F = "RGBA 32bit float";

CgTexture.PFORMATSTR_DEPTH = "DEPTH";


CgTexture.PIXELFORMATS = [

    CgTexture.PFORMATSTR_RGB565,

    CgTexture.PFORMATSTR_R8UB,
    CgTexture.PFORMATSTR_RG8UB,
    CgTexture.PFORMATSTR_RGB8UB,
    CgTexture.PFORMATSTR_RGBA8UB,

    CgTexture.PFORMATSTR_SRGBA8,

    CgTexture.PFORMATSTR_R11FG11FB10F,
    CgTexture.PFORMATSTR_R16F,
    CgTexture.PFORMATSTR_RG16F,
    CgTexture.PFORMATSTR_RGBA16F,

    CgTexture.PFORMATSTR_R32F,
    CgTexture.PFORMATSTR_RGBA32F

];

;// CONCATENATED MODULE: ./src/core/cgl/cgl_texture.js




const cgl_texture_DEFAULT_TEXTURE_SIZE = 8;

/**
 * A Texture
 * @namespace external:CGL
 * @class
 * @param {Context} __cgl cgl
 * @param {Object} options
 * @hideconstructor
 * @example
 * // generate a 256x256 pixel texture of random colors
 * const size=256;
 * const data = new Uint8Array(size*size*4);
 *
 * for(var x=0;x<size*size*4;x++) data[ x*4+3]=255;
 *
 * const tex=new CGL.Texture(cgl);
 * tex.initFromData(data,size,size,CGL.Texture.FILTER_NEAREST,CGL.Texture.WRAP_REPEAT);
 */
class Texture extends CgTexture
{
    constructor(__cgl, options = {})
    {
        super(options);
        if (!__cgl) throw new Error("no cgl");
        this._log = new Logger("cgl_texture");
        this._cgl = __cgl;
        this.tex = this._cgl.gl.createTexture();
        this.loading = false;
        this.flip = true;
        this.flipped = false;
        this.shadowMap = false;
        this.deleted = false;
        this.image = null;
        this.anisotropic = 0;
        this.filter = Texture.FILTER_NEAREST;
        this.wrap = Texture.WRAP_CLAMP_TO_EDGE;
        this.texTarget = this._cgl.gl.TEXTURE_2D;
        if (options && options.type) this.texTarget = options.type;
        this.textureType = Texture.TYPE_DEFAULT;
        this.unpackAlpha = true;
        this._fromData = true;

        this._glDataType = -1;
        this._glInternalFormat = -1;
        this._glDataFormat = -1;


        if (options)
        {
            if (options.isDepthTexture) this.textureType = Texture.TYPE_DEPTH;
            if (options.isFloatingPointTexture === true) this.textureType = Texture.TYPE_FLOAT;

            if ("textureType" in options) this.textureType = options.textureType;
            if ("filter" in options) this.filter = options.filter;
            if ("wrap" in options) this.wrap = options.wrap;
            if ("unpackAlpha" in options) this.unpackAlpha = options.unpackAlpha;
            if ("flip" in options) this.flip = options.flip;
            if ("shadowMap" in options) this.shadowMap = options.shadowMap;
            if ("anisotropic" in options) this.anisotropic = options.anisotropic;
        }
        else
        {
            options = {};
        }

        if (!options.pixelFormat && options.isFloatingPointTexture) this.pixelFormat = Texture.PFORMATSTR_RGBA32F;

        if (this.textureType == Texture.TYPE_DEPTH) this.pixelFormat = Texture.PFORMATSTR_DEPTH;

        this._cgl.profileData.profileTextureNew++;


        this.setFormat(Texture.setUpGlPixelFormat(this._cgl, this.pixelFormat));
        this._cgl.profileData.addHeavyEvent("texture created", this.name, options.width + "x" + options.height);

        this.setSize(options.width, options.height);
        this.getInfoOneLine();
    }



    isFloatingPoint()
    {
        return Texture.isPixelFormatFloat(this.pixelFormat);
    }

    /**
     * returns true if otherTexture has same options (width/height/filter/wrap etc)
     * @function compareSettings
     * @memberof Texture
     * @instance
     * @param {Texture} tex otherTexture
     * @returns {Boolean}
     */
    compareSettings(tex)
    {
    // if (!tex) { this._log.warn("compare: no tex"); return false; }
    // if (tex.width != this.width) this._log.warn("tex.width not equal", tex.width, this.width);
    // if (tex.height != this.height) this._log.warn("tex.height not equal", tex.height, this.height);
    // if (tex.filter != this.filter) this._log.warn("tex.filter not equal");
    // if (tex.wrap != this.wrap) this._log.warn("tex.wrap not equal");
    // if (tex.textureType != this.textureType) this._log.warn("tex.textureType not equal");
    // if (tex.unpackAlpha != this.unpackAlpha) this._log.warn("tex.unpackAlpha not equal");
    // if (tex.anisotropic != this.anisotropic) this._log.warn("tex.anisotropic not equal");
    // if (tex.shadowMap != this.shadowMap) this._log.warn("tex.shadowMap not equal");
    // if (tex.texTarget != this.texTarget) this._log.warn("tex.texTarget not equal");
    // if (tex.flip != this.flip) this._log.warn("tex.flip not equal");

        if (!tex) return false;
        return (
            tex.width == this.width &&
            tex.height == this.height &&
            tex.filter == this.filter &&
            tex.wrap == this.wrap &&
            tex.textureType == this.textureType &&
            tex.unpackAlpha == this.unpackAlpha &&
            tex.anisotropic == this.anisotropic &&
            tex.shadowMap == this.shadowMap &&
            tex.texTarget == this.texTarget &&
            tex.flip == this.flip
        );
    }

    /**
     * returns a new texture with the same settings (does not copy texture itself)
     * @function clone
     * @memberof Texture
     * @instance
     * @returns {Texture}
     */
    clone()
    {
        const newTex = new Texture(this._cgl, {
            "name": this.name,
            "filter": this.filter,
            "anisotropic": this.anisotropic,
            "wrap": this.wrap,
            "textureType": this.textureType,
            "pixelFormat": this.pixelFormat,
            "unpackAlpha": this.unpackAlpha,
            "flip": this.flip,
            "width": this.width,
            "height": this.height,
        });

        this._cgl.profileData.addHeavyEvent("texture created", this.name, this.width + "x" + this.height);

        if (!this.compareSettings(newTex))
        {
            this._log.error("Cloned texture settings do not compare!");
            this._log.error(this);
            this._log.error(newTex);
        }

        return newTex;
    }


    setFormat(o)
    {
        this.pixelFormat = o.pixelFormat;
        this._glDataFormat = o.glDataFormat;
        this._glInternalFormat = o.glInternalFormat;
        this._glDataType = o.glDataType;
    }



    /**
     * set pixel size of texture
     * @function setSize
     * @memberof Texture
     * @instance
     * @param {Number} w width
     * @param {Number} h height
     */
    setSize(w, h)
    {
        if (this._cgl.aborted) return;
        if (w != w || w <= 0 || !w) w = cgl_texture_DEFAULT_TEXTURE_SIZE;
        if (h != h || h <= 0 || !h) h = cgl_texture_DEFAULT_TEXTURE_SIZE;

        if (w > this._cgl.maxTexSize || h > this._cgl.maxTexSize) this._log.error("texture size too big! " + w + "x" + h + " / max: " + this._cgl.maxTexSize);

        w = Math.min(w, this._cgl.maxTexSize);
        h = Math.min(h, this._cgl.maxTexSize);

        w = Math.floor(w);
        h = Math.floor(h);
        if (this.width == w && this.height == h) return;

        w = this._cgl.checkTextureSize(w);
        h = this._cgl.checkTextureSize(h);

        this.width = w;
        this.height = h;
        this.deleted = false;

        this.setFormat(Texture.setUpGlPixelFormat(this._cgl, this.pixelFormat));

        this.shortInfoString = this.getInfoOneLine();// w + "x" + h + "";

        this._cgl.gl.bindTexture(this.texTarget, this.tex);
        this._cgl.profileData.profileTextureResize++;

        const uarr = null;

        this._cgl.gl.texImage2D(this.texTarget, 0, this._glInternalFormat, w, h, 0, this._glDataFormat, this._glDataType, uarr);

        this._setFilter();

        this.updateMipMap();

        this._cgl.gl.bindTexture(this.texTarget, null);
    }


    /**
     * @function initFromData
     * @memberof Texture
     * @instance
     * @description create texturem from rgb data
     * @param {Array<Number>} data rgb color array [r,g,b,a,r,g,b,a,...]
     * @param {Number} w width
     * @param {Number} h height
     * @param {Number} filter
     * @param {Number} wrap
     */
    initFromData(data, w, h, filter, wrap)
    {
        this.filter = filter;
        this.wrap = wrap;
        if (filter == undefined) this.filter = Texture.FILTER_LINEAR;
        if (wrap == undefined) this.wrap = Texture.WRAP_CLAMP_TO_EDGE;
        this.width = w;
        this.height = h;
        this._fromData = true;
        this.deleted = false;

        if (this.height > this._cgl.maxTexSize || this.width > this._cgl.maxTexSize)
        {
            const t = CGL.Texture.getTempTexture(this._cgl);
            this.width = t.width;
            this.height = t.height;
            this.tex = t.tex;
            this._log.warn("[cgl_texture] texture size too big!", this.width, this.height, this._cgl.maxTexSize);
            return;
        }

        if (this.flip) this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_FLIP_Y_WEBGL, this.flip);

        this._cgl.gl.bindTexture(this.texTarget, this.tex);

        this.setFormat(Texture.setUpGlPixelFormat(this._cgl, this.pixelFormat));

        this._cgl.gl.texImage2D(this.texTarget, 0, this._glInternalFormat, w, h, 0, this._glDataFormat, this._glDataType, data);

        this._setFilter();
        this.updateMipMap();

        if (this.flip) this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_FLIP_Y_WEBGL, false);
        this._cgl.gl.bindTexture(this.texTarget, null);
    }

    updateMipMap()
    {
        if ((this._cgl.glVersion == 2 || this.isPowerOfTwo()) && this.filter == Texture.FILTER_MIPMAP)
        {
            this._cgl.gl.generateMipmap(this.texTarget);
            this._cgl.profileData.profileGenMipMap++;
        }
    }

    /**
     * set texture data from an image/canvas object
     * @function initTexture
     * @memberof Texture
     * @instance
     * @param {Object} img image
     * @param {Number} filter
     */
    initTexture(img, filter)
    {
        this._cgl.printError("before initTexture");
        this._cgl.checkFrameStarted("texture inittexture");
        this._fromData = false;

        this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.unpackAlpha);
        if (img.width || img.videoWidth) this.width = img.videoWidth || img.width;
        if (img.height || img.videoHeight) this.height = img.videoHeight || img.height;

        if (filter !== undefined) this.filter = filter; // todo: can we remove this filter param?

        if (img.height > this._cgl.maxTexSize || img.width > this._cgl.maxTexSize)
        {
            const t = CGL.Texture.getTempTexture(this._cgl);
            this.width = t.width;
            this.height = t.height;
            this.tex = t.tex;
            this._log.warn("[cgl_texture] texture size too big!", img.width, img.height, this._cgl.maxTexSize);
            return;
        }

        this._cgl.gl.bindTexture(this.texTarget, this.tex);

        this.deleted = false;
        this.flipped = !this.flip;
        if (this.flipped) this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_FLIP_Y_WEBGL, this.flipped);


        this.setFormat(Texture.setUpGlPixelFormat(this._cgl, this.pixelFormat));

        this._cgl.gl.texImage2D(this.texTarget, 0, this._glInternalFormat, this._glDataFormat, this._glDataType, img);

        this._setFilter();
        this.updateMipMap();

        this._cgl.gl.bindTexture(this.texTarget, null);
        this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);
        if (this.flipped) this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_FLIP_Y_WEBGL, false);

        this.getInfoOneLine();
        this._cgl.printError("initTexture");
    }

    /**
     * delete texture. use this when texture is no longer needed
     * @function delete
     * @memberof Texture
     * @instance
     */
    dispose()
    {
        this.delete();
    }

    delete()
    {
        if (this.loading)
        {
        // cant delete texture when still loading
        // setTimeout(this.delete.bind(this), 50);
            return;
        }

        this.deleted = true;
        this.width = 0;
        this.height = 0;
        this._cgl.profileData.profileTextureDelete++;
        this._cgl.gl.deleteTexture(this.tex);
        this.image = null;

        this.tex = null;
    }

    /**
     * @function isPowerOfTwo
     * @memberof Texture
     * @instance
     * @description return true if texture width and height are both power of two
     * @return {Boolean}
     */
    isPowerOfTwo()
    {
        return Texture.isPowerOfTwo(this.width) && Texture.isPowerOfTwo(this.height);
    }

    printInfo()
    {
        console.log(this.getInfo());
    }

    getInfoReadable()
    {
        const info = this.getInfo();
        let html = "";

        info.name = info.name.substr(0, info.name.indexOf("?rnd="));

        for (const i in info)
        {
            html += "* " + i + ":  **" + info[i] + "**\n";
        }

        return html;
    }

    getInfoOneLine()
    {
        let txt = "" + this.width + "x" + this.height;
        txt += " ";
        // if (this.textureType === CGL.Texture.TYPE_FLOAT) txt += " 32bit"; else txt += " 8bit";
        // if (this.textureType === CGL.Texture.TYPE_FLOAT) txt += " 32bit"; else txt += " 8bit";
        txt += this.pixelFormat;

        if (this.filter === CGL.Texture.FILTER_NEAREST) txt += " nearest";
        if (this.filter === CGL.Texture.FILTER_LINEAR) txt += " linear";
        if (this.filter === CGL.Texture.FILTER_MIPMAP) txt += " mipmap";

        if (this.wrap === CGL.Texture.WRAP_CLAMP_TO_EDGE) txt += " clamp";
        if (this.wrap === CGL.Texture.WRAP_REPEAT) txt += " repeat";
        if (this.wrap === CGL.Texture.WRAP_MIRRORED_REPEAT) txt += " repeatmir";

        this.shortInfoString = txt;

        return txt;
    }

    getInfoOneLineShort()
    {
        let txt = "" + this.width + "x" + this.height;
        // if (this.textureType === CGL.Texture.TYPE_FLOAT) txt += " 32bit"; else txt += " 8bit";
        txt += " ";
        txt += this.pixelFormat;

        this.shortInfoString = txt;

        return txt;
    }


    getInfo()
    {
        return Texture.getTexInfo(this);
    }


    _setFilter()
    {
        this._cgl.printError("before _setFilter");

        if (!this._fromData)
        {
            this._cgl.gl.pixelStorei(this._cgl.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.unpackAlpha);
        }

        if (this.shadowMap)
        {
            this._cgl.gl.texParameteri(this._cgl.gl.TEXTURE_2D, this._cgl.gl.TEXTURE_COMPARE_MODE, this._cgl.gl.COMPARE_REF_TO_TEXTURE);
            this._cgl.gl.texParameteri(this._cgl.gl.TEXTURE_2D, this._cgl.gl.TEXTURE_COMPARE_FUNC, this._cgl.gl.LEQUAL);
        }

        if (this.textureType == Texture.TYPE_FLOAT && this.filter == Texture.FILTER_MIPMAP)
        {
            this.filter = Texture.FILTER_LINEAR;
            this._log.stack("texture: HDR and mipmap filtering at the same time is not possible");
        }

        if (this._cgl.glVersion == 1 && !this.isPowerOfTwo())
        {
            this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MAG_FILTER, this._cgl.gl.NEAREST);
            this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MIN_FILTER, this._cgl.gl.NEAREST);

            this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_S, this._cgl.gl.CLAMP_TO_EDGE);
            this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_T, this._cgl.gl.CLAMP_TO_EDGE);

            this.filter = Texture.FILTER_NEAREST;
            this.wrap = Texture.WRAP_CLAMP_TO_EDGE;
        }
        else
        {
            if (this.wrap == Texture.WRAP_CLAMP_TO_EDGE)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_S, this._cgl.gl.CLAMP_TO_EDGE);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_T, this._cgl.gl.CLAMP_TO_EDGE);
            }
            else if (this.wrap == Texture.WRAP_REPEAT)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_S, this._cgl.gl.REPEAT);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_T, this._cgl.gl.REPEAT);
            }
            else if (this.wrap == Texture.WRAP_MIRRORED_REPEAT)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_S, this._cgl.gl.MIRRORED_REPEAT);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_WRAP_T, this._cgl.gl.MIRRORED_REPEAT);
            }

            if (this.filter == Texture.FILTER_NEAREST)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MAG_FILTER, this._cgl.gl.NEAREST);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MIN_FILTER, this._cgl.gl.NEAREST);
            }
            else if (this.filter == Texture.FILTER_LINEAR)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MIN_FILTER, this._cgl.gl.LINEAR);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MAG_FILTER, this._cgl.gl.LINEAR);
            }
            else if (this.filter == Texture.FILTER_MIPMAP)
            {
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MAG_FILTER, this._cgl.gl.LINEAR);
                this._cgl.gl.texParameteri(this.texTarget, this._cgl.gl.TEXTURE_MIN_FILTER, this._cgl.gl.LINEAR_MIPMAP_LINEAR);
            }
            else
            {
                this._log.log("unknown texture filter!", this.filter);
                throw new Error("unknown texture filter!" + this.filter);
            }

            if (this.anisotropic)
            {
                const ext = this._cgl.enableExtension("EXT_texture_filter_anisotropic");



                if (this._cgl.maxAnisotropic)
                {
                    const aniso = Math.min(this._cgl.maxAnisotropic, this.anisotropic);
                    this._cgl.gl.texParameterf(this._cgl.gl.TEXTURE_2D, ext.TEXTURE_MAX_ANISOTROPY_EXT, aniso);
                }
            }
        }
        this.getInfoOneLine();
        this._cgl.printError("_setFilter");
    }
}


























/**
 * @function load
 * @static
 * @memberof Texture
 * @description load an image from an url
 * @param {Context} cgl
 * @param {String} url
 * @param {Function} finishedCallback
 * @param {Object} settings
 * @return {Texture}
 */
Texture.load = function (cgl, url, finishedCallback, settings)
{
    if (!url) return finishedCallback({ "error": true });
    let loadingId = null;
    if (!cgl.patch.loading.existByName(url)) loadingId = cgl.patch.loading.start("cgl.texture", url);

    const texture = new Texture(cgl);
    texture.name = url;

    texture.image = new Image();
    texture.image.crossOrigin = "anonymous";
    texture.loading = true;

    if (settings && settings.hasOwnProperty("filter")) texture.filter = settings.filter;
    if (settings && settings.hasOwnProperty("flip")) texture.flip = settings.flip;
    if (settings && settings.hasOwnProperty("wrap")) texture.wrap = settings.wrap;
    if (settings && settings.hasOwnProperty("anisotropic")) texture.anisotropic = settings.anisotropic;
    if (settings && settings.hasOwnProperty("unpackAlpha")) texture.unpackAlpha = settings.unpackAlpha;
    if (settings && settings.hasOwnProperty("pixelFormat")) texture.pixelFormat = settings.pixelFormat;

    texture.image.onabort = texture.image.onerror = (e) =>
    {
        console.warn("[cgl.texture.load] error loading texture", url, e);
        texture.loading = false;
        if (loadingId) cgl.patch.loading.finished(loadingId);
        const error = { "error": true };
        if (finishedCallback) finishedCallback(error, texture);
    };

    texture.image.onload = function (e)
    {
        cgl.addNextFrameOnceCallback(() =>
        {
            texture.initTexture(texture.image);
            if (loadingId) cgl.patch.loading.finished(loadingId);
            texture.loading = false;

            if (finishedCallback) finishedCallback(null, texture);
        });
    };
    texture.image.src = url;

    return texture;
};






/**
 * @static
 * @function getTempTexture
 * @memberof Texture
 * @description returns the default temporary texture (grey diagonal stipes)
 * @param {Context} cgl
 * @return {Texture}
 */
Texture.getTempTexture = function (cgl)
{
    if (!cgl) console.error("[getTempTexture] no cgl!");
    if (!cgl.tempTexture) cgl.tempTexture = Texture.getTemporaryTexture(cgl, 256, Texture.FILTER_LINEAR, Texture.REPEAT);
    return cgl.tempTexture;
};

/**
 * @static
 * @function getErrorTexture
 * @memberof Texture
 * @description returns the default temporary texture (grey diagonal stipes)
 * @param {Context} cgl
 * @return {Texture}
 */
Texture.getErrorTexture = function (cgl)
{
    if (!cgl) console.error("[getTempTexture] no cgl!");
    if (!cgl.errorTexture) cgl.errorTexture = Texture.getTemporaryTexture(cgl, 256, Texture.FILTER_LINEAR, Texture.REPEAT, 1, 0.2, 0.2);
    return cgl.errorTexture;
};


/**
 * @function getEmptyTexture
 * @memberof Texture
 * @instance
 * @param cgl
 * @param fp
 * @description returns a reference to a small empty (transparent) texture
 * @return {Texture}
 */
Texture.getEmptyTexture = function (cgl, fp)
{
    if (fp) return Texture.getEmptyTextureFloat(cgl);
    if (!cgl) console.error("[getEmptyTexture] no cgl!");
    if (cgl.tempTextureEmpty) return cgl.tempTextureEmpty;

    let size = 8;

    cgl.tempTextureEmpty = new Texture(cgl, { "name": "emptyTexture" });
    const data = Texture.getDefaultTextureData("empty", size);

    cgl.tempTextureEmpty.initFromData(data, size, size, Texture.FILTER_NEAREST, Texture.WRAP_REPEAT);

    return cgl.tempTextureEmpty;
};

/**
 * @function getEmptyTextureFloat
 * @memberof Texture
 * @instance
 * @param cgl
 * @description returns a reference to a small empty (transparent) 32bit texture
 * @return {Texture}
 */
Texture.getEmptyTextureFloat = function (cgl)
{
    if (!cgl) console.error("[getEmptyTextureFloat] no cgl!");
    if (cgl.tempTextureEmptyFloat) return cgl.tempTextureEmptyFloat;

    cgl.tempTextureEmptyFloat = new Texture(cgl, { "name": "emptyTexture", "isFloatingPointTexture": true });
    const data = new Float32Array(8 * 8 * 4).fill(1);
    for (let i = 0; i < 8 * 8 * 4; i += 4) data[i + 3] = 0;

    cgl.tempTextureEmptyFloat.initFromData(data, 8, 8, Texture.FILTER_NEAREST, Texture.WRAP_REPEAT);

    return cgl.tempTextureEmptyFloat;
};


/**
 * @function getRandomTexture
 * @memberof Texture
 * @static
 * @param cgl
 * @description returns a reference to a random texture
 * @return {Texture}
 */
Texture.getRandomTexture = function (cgl)
{
    if (!cgl) console.error("[getRandomTexture] no cgl!");
    if (cgl.randomTexture) return cgl.randomTexture;

    const size = 256;
    const data = Texture.getDefaultTextureData("randomUInt", size);

    cgl.randomTexture = new Texture(cgl);
    cgl.randomTexture.initFromData(data, size, size, Texture.FILTER_NEAREST, Texture.WRAP_REPEAT);

    return cgl.randomTexture;
};

/**
 * @function getRandomFloatTexture
 * @memberof Texture
 * @static
 * @param cgl
 * @description returns a reference to a texture containing random numbers between -1 and 1
 * @return {Texture}
 */
Texture.getRandomFloatTexture = function (cgl)
{
    if (!cgl) console.error("[getRandomTexture] no cgl!");
    if (cgl.getRandomFloatTexture) return cgl.getRandomFloatTexture;

    const size = 256;
    const data = Texture.getDefaultTextureData("randomFloat", size);

    cgl.getRandomFloatTexture = new Texture(cgl, { "isFloatingPointTexture": true });
    cgl.getRandomFloatTexture.initFromData(data, size, size, Texture.FILTER_NEAREST, Texture.WRAP_REPEAT);

    return cgl.getRandomFloatTexture;
};

/**
 * @function getBlackTexture
 * @memberof Texture
 * @static
 * @param cgl
 * @description returns a reference to a black texture
 * @return {Texture}
 */
Texture.getBlackTexture = function (cgl)
{
    if (!cgl) this._log.error("[getBlackTexture] no cgl!");
    if (cgl.blackTexture) return cgl.blackTexture;

    const size = 8;
    const data = Texture.getDefaultTextureData("color", size, { "r": 0, "g": 0, "b": 0 });

    cgl.blackTexture = new Texture(cgl);
    cgl.blackTexture.initFromData(data, size, size, Texture.FILTER_NEAREST, Texture.WRAP_REPEAT);

    return cgl.blackTexture;
};


/**
 * @function getEmptyCubemapTexture
 * @memberof Texture
 * @static
 * @param cgl
 * @description returns an empty cubemap texture with rgba = [0, 0, 0, 0]
 * @return {Texture}
 */
Texture.getEmptyCubemapTexture = function (cgl)
{
    const faces = [
        cgl.gl.TEXTURE_CUBE_MAP_POSITIVE_X,
        cgl.gl.TEXTURE_CUBE_MAP_NEGATIVE_X,
        cgl.gl.TEXTURE_CUBE_MAP_POSITIVE_Y,
        cgl.gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,
        cgl.gl.TEXTURE_CUBE_MAP_POSITIVE_Z,
        cgl.gl.TEXTURE_CUBE_MAP_NEGATIVE_Z
    ];

    const tex = cgl.gl.createTexture();
    const target = cgl.gl.TEXTURE_CUBE_MAP;
    const filter = Texture.FILTER_NEAREST;
    const wrap = Texture.WRAP_CLAMP_TO_EDGE;
    const width = 8;
    const height = 8;

    cgl.profileData.profileTextureNew++;


    cgl.gl.bindTexture(target, tex);
    cgl.profileData.profileTextureResize++;

    for (let i = 0; i < 6; i += 1)
    {
        const data = new Uint8Array(8 * 8 * 4);

        cgl.gl.texImage2D(faces[i], 0, cgl.gl.RGBA, 8, 8, 0, cgl.gl.RGBA, cgl.gl.UNSIGNED_BYTE, data);
        cgl.gl.texParameteri(target, cgl.gl.TEXTURE_MAG_FILTER, cgl.gl.NEAREST);
        cgl.gl.texParameteri(target, cgl.gl.TEXTURE_MIN_FILTER, cgl.gl.NEAREST);

        cgl.gl.texParameteri(target, cgl.gl.TEXTURE_WRAP_S, cgl.gl.CLAMP_TO_EDGE);
        cgl.gl.texParameteri(target, cgl.gl.TEXTURE_WRAP_T, cgl.gl.CLAMP_TO_EDGE);
    }


    cgl.gl.bindTexture(target, null);

    return {
        "id": CABLES.uuid(),
        "tex": tex,
        "cubemap": tex,
        "width": width,
        "height": height,
        "filter": filter,
        "wrap": wrap,
        "unpackAlpha": true,
        "flip": true,
        "_fromData": true,
        "name": "emptyCubemapTexture",
        "anisotropic": 0,
    };
};


Texture.getTempGradientTexture = function (cgl) // deprecated...
{
    if (!cgl) console.error("[getTempGradientTexture] no cgl!");
    return Texture.getTempTexture(cgl);
};

Texture.getTemporaryTexture = function (cgl, size, filter, wrap, r, g, b)
{
    const data = Texture.getDefaultTextureData("stripes", 256, { "r": r, "g": g, "b": b });
    const temptex = new Texture(cgl);
    temptex.initFromData(data, size, size, filter, wrap);
    return temptex;
};

/**
 * @static
 * @function createFromImage
 * @memberof Texture
 * @description create texturem from image data (e.g. image or canvas)
 * @param {Context} cgl
 * @param {Object} img image
 * @param {Object} options
 */
Texture.createFromImage = function (cgl, img, options)
{
    options = options || {};
    const texture = new Texture(cgl, options);
    texture.flip = false;
    texture.image = img;
    texture.width = img.videoWidth || img.width || 8;
    texture.height = img.videoHeight || img.height || 8;
    if (options.hasOwnProperty("wrap"))texture.wrap = options.wrap;

    texture.initTexture(img, options.filter);

    return texture;
};

// deprecated!
Texture.fromImage = function (cgl, img, filter, wrap)
{
    console.error("deprecated texture from image...");

    const texture = new Texture(cgl);
    texture.flip = false;
    if (filter) texture.filter = filter;
    if (wrap) texture.wrap = wrap;
    texture.image = img;
    texture.initTexture(img);
    return texture;
};

/**
 * @static
 * @function isPowerOfTwo
 * @memberof Texture
 * @description returns true if x is power of two
 * @param {Number} x
 * @return {Boolean}
 */
Texture.isPowerOfTwo = function (x)
{
    return x == 1 || x == 2 || x == 4 || x == 8 || x == 16 || x == 32 || x == 64 || x == 128 || x == 256 || x == 512 || x == 1024 || x == 2048 || x == 4096 || x == 8192 || x == 16384;
};

Texture.getTexInfo = function (tex)
{
    const obj = {};

    obj.name = tex.name;
    obj["power of two"] = tex.isPowerOfTwo();
    obj.size = tex.width + " x " + tex.height;

    let targetString = tex.texTarget;
    if (tex.texTarget == tex._cgl.gl.TEXTURE_2D) targetString = "TEXTURE_2D";
    obj.target = targetString;

    obj.unpackAlpha = tex.unpackAlpha;

    if (tex.cubemap)obj.cubemap = true;

    if (tex.textureType == Texture.TYPE_FLOAT) obj.textureType = "TYPE_FLOAT";
    if (tex.textureType == Texture.TYPE_HALF_FLOAT) obj.textureType = "TYPE_HALF_FLOAT";
    else if (tex.textureType == Texture.TYPE_DEPTH) obj.textureType = "TYPE_DEPTH";
    else if (tex.textureType == Texture.TYPE_DEFAULT) obj.textureType = "TYPE_DEFAULT";
    else obj.textureType = "UNKNOWN " + this.textureType;

    if (tex.wrap == Texture.WRAP_CLAMP_TO_EDGE) obj.wrap = "CLAMP_TO_EDGE";
    else if (tex.wrap == Texture.WRAP_REPEAT) obj.wrap = "WRAP_REPEAT";
    else if (tex.wrap == Texture.WRAP_MIRRORED_REPEAT) obj.wrap = "WRAP_MIRRORED_REPEAT";
    else obj.wrap = "UNKNOWN";

    if (tex.filter == Texture.FILTER_NEAREST) obj.filter = "FILTER_NEAREST";
    else if (tex.filter == Texture.FILTER_LINEAR) obj.filter = "FILTER_LINEAR";
    else if (tex.filter == Texture.FILTER_MIPMAP) obj.filter = "FILTER_MIPMAP";
    else obj.filter = "UNKNOWN";

    obj.pixelFormat = tex.pixelFormat || "unknown";

    return obj;
};

Texture.setUpGlPixelFormat = function (cgl, pixelFormatStr)
{
    const o = {};

    if (!pixelFormatStr)
    {
        cgl._log.error("no pixelformatstr!");
        cgl._log.log(new Error());
        pixelFormatStr = Texture.PFORMATSTR_RGBA8UB;
    }

    o.pixelFormatBase = pixelFormatStr;
    o.pixelFormat = pixelFormatStr;
    o.glDataType = cgl.gl.UNSIGNED_BYTE;
    o.glInternalFormat = cgl.gl.RGBA8;
    o.glDataFormat = cgl.gl.RGBA;

    let floatDatatype = cgl.gl.FLOAT;

    if (cgl.glUseHalfFloatTex)
    {
        if (pixelFormatStr == Texture.PFORMATSTR_RGBA32F) pixelFormatStr = Texture.PFORMATSTR_RGBA16F;
        if (pixelFormatStr == Texture.PFORMATSTR_RG32F) pixelFormatStr = Texture.PFORMATSTR_RG16F;
        if (pixelFormatStr == Texture.PFORMATSTR_R32F) pixelFormatStr = Texture.PFORMATSTR_R16F;
    }

    if (pixelFormatStr.contains("16bit"))
    {
        if (cgl.glVersion == 2)
        {
            // cgl.enableExtension("OES_texture_half_float");
            const hasExt = cgl.enableExtension("EXT_color_buffer_half_float");

            if (!hasExt)
            {
                console.warn("no 16bit extension, fallback to 32bit", pixelFormatStr);
                // fallback to 32 bit?
                if (pixelFormatStr == Texture.PFORMATSTR_RGBA16F) pixelFormatStr = Texture.PFORMATSTR_RGBA32F;
                if (pixelFormatStr == Texture.PFORMATSTR_RGB16F) pixelFormatStr = Texture.PFORMATSTR_RGB32F;
                if (pixelFormatStr == Texture.PFORMATSTR_RG16F) pixelFormatStr = Texture.PFORMATSTR_RG32F;
                if (pixelFormatStr == Texture.PFORMATSTR_R16F) pixelFormatStr = Texture.PFORMATSTR_R32F;
            }
            else
            {
                floatDatatype = cgl.gl.HALF_FLOAT;
            }
        }
    }

    if (cgl.glVersion == 1)
    {
        o.glInternalFormat = cgl.gl.RGBA;

        if (pixelFormatStr == Texture.PFORMATSTR_RGBA16F || pixelFormatStr == Texture.PFORMATSTR_RG16F || pixelFormatStr == Texture.PFORMATSTR_R16F)
        {
            const ext = cgl.enableExtension("OES_texture_half_float");
            if (!ext) throw new Error("no half float texture extension");

            floatDatatype = ext.HALF_FLOAT_OES;
        }
    }


    if (pixelFormatStr == Texture.PFORMATSTR_RGBA8UB)
    {
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RGB565)
    {
        o.glInternalFormat = cgl.gl.RGB565;
        o.glDataFormat = cgl.gl.RGB;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_R8UB)
    {
        o.glInternalFormat = cgl.gl.R8;
        o.glDataFormat = cgl.gl.RED;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RG8UB)
    {
        o.glInternalFormat = cgl.gl.RG8;
        o.glDataFormat = cgl.gl.RG;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RGB8UB)
    {
        o.glInternalFormat = cgl.gl.RGB8;
        o.glDataFormat = cgl.gl.RGB;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_SRGBA8)
    {
        o.glInternalFormat = cgl.gl.SRGB8_ALPHA8;
    }

    else if (pixelFormatStr == Texture.PFORMATSTR_R32F)
    {
        o.glInternalFormat = cgl.gl.R32F;
        o.glDataFormat = cgl.gl.RED;
        o.glDataType = floatDatatype;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_R16F)
    {
        o.glInternalFormat = cgl.gl.R16F;
        o.glDataType = floatDatatype;
        o.glDataFormat = cgl.gl.RED;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RG16F)
    {
        o.glInternalFormat = cgl.gl.RG16F;
        o.glDataType = floatDatatype;
        o.glDataFormat = cgl.gl.RG;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RGBA16F)
    {
        if (cgl.glVersion == 1) o.glInternalFormat = cgl.gl.RGBA;
        else o.glInternalFormat = cgl.gl.RGBA16F;
        o.glDataType = floatDatatype;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_R11FG11FB10F)
    {
        o.glInternalFormat = cgl.gl.R11F_G11F_B10F;
        o.glDataType = floatDatatype;
        o.glDataFormat = cgl.gl.RGB;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_RGBA32F)
    {
        if (cgl.glVersion == 1) o.glInternalFormat = cgl.gl.RGBA;
        else o.glInternalFormat = cgl.gl.RGBA32F;
        o.glDataType = floatDatatype;
    }
    else if (pixelFormatStr == Texture.PFORMATSTR_DEPTH)
    {
        if (cgl.glVersion == 1)
        {
            o.glInternalFormat = cgl.gl.DEPTH_COMPONENT;
            o.glDataType = cgl.gl.UNSIGNED_SHORT;
            o.glDataFormat = cgl.gl.DEPTH_COMPONENT;
        }
        else
        {
            o.glInternalFormat = cgl.gl.DEPTH_COMPONENT32F;
            o.glDataType = cgl.gl.FLOAT;
            o.glDataFormat = cgl.gl.DEPTH_COMPONENT;
        }
    }
    else
    {
        console.log("unknown pixelformat ", pixelFormatStr);
    }

    /// //////

    if (pixelFormatStr.contains("32bit") || pixelFormatStr == Texture.PFORMATSTR_R11FG11FB10F)
    {
        if (cgl.glVersion == 2) cgl.enableExtension("EXT_color_buffer_float");
        if (cgl.glVersion == 2) cgl.enableExtension("EXT_float_blend");

        cgl.enableExtension("OES_texture_float_linear"); // yes, i am sure, this is a webgl 1 and 2 ext
    }


    o.numColorChannels = Texture.getPixelFormatNumChannels(pixelFormatStr);


    if (!o.glDataType || !o.glInternalFormat || !o.glDataFormat) console.log("pixelformat wrong ?!", pixelFormatStr, o.glDataType, o.glInternalFormat, o.glDataFormat, this);

    return o;
};



Texture.getPixelFormatNumChannels =
    (pxlFrmtStr) =>
    {
        if (pxlFrmtStr.startsWith("RGBA")) return 4;
        if (pxlFrmtStr.startsWith("RGB")) return 3;
        if (pxlFrmtStr.startsWith("RG")) return 2;
        return 1;
    };

Texture.isPixelFormatFloat =
    (pxlFrmtStr) =>
    {
        return (pxlFrmtStr || "").contains("float");
    };

Texture.isPixelFormatHalfFloat =
    (pxlFrmtStr) =>
    {
        return (pxlFrmtStr || "").contains("float") && (pxlFrmtStr || "").contains("16bit");
    };






;// CONCATENATED MODULE: ./src/core/cg/cg_boundingbox.js


/**
 * bounding box
 *
 * @namespace external:CGL
 * @param {Geometry} geometry or bounding box
 */
class BoundingBox
{
    constructor(geom)
    {
        this._init();
        this._first = true;
        this._wireMesh = null;

        if (geom) this.apply(geom);
    }

    _init()
    {
        this._max = [-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE];
        this._min = [Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE];
        this._center = [0, 0, 0];
        this._size = [0, 0, 0];
        this._maxAxis = 0.0;
        this._first = true;
    }

    /**
     * get biggest number of maxX,maxY,maxZ
     * @type {Number}
     */
    get maxAxis() { return this._maxAxis || 1; }

    /**
     * size of bounding box
     * @type {vec3}
     */
    get size() { return this._size; }

    /**
     * center of bounding box
     * @type {vec3}
     */
    get center() { return this._center; }

    /**
     * center x
     * @type {Number}
     */
    get x() { return this._center[0]; }

    /**
     * center y
     * @type {Number}
     */
    get y() { return this._center[1]; }

    /**
     * center z
     * @type {Number}
     */
    get z() { return this._center[2]; }


    /**
     * minimum x
     * @type {Number}
     */
    get minX() { return this._min[0]; }

    /**
     * minimum y
     * @type {Number}
     */
    get minY() { return this._min[1]; }

    /**
     * minimum z
     * @type {Number}
     */
    get minZ() { return this._min[2]; }

    /**
     * maximum x
     * @type {Number}
     */
    get maxX() { return this._max[0]; }

    /**
     * maximum y
     * @type {Number}
     */
    get maxY() { return this._max[1]; }

    /**
     * maximum z
     * @type {Number}
     */
    get maxZ() { return this._max[2]; }


    apply(geom, mat)
    {
        if (!geom)
        {
            // console.warn("[boundingbox] no geom/vertices", geom);
            return;
        }

        if (geom instanceof BoundingBox)
        {
            const bb = geom;

            this.applyPos(bb.maxX, bb.maxY, bb.maxZ);
            this.applyPos(bb.minX, bb.minY, bb.minZ);
        }
        else
        {
            for (let i = 0; i < geom.vertices.length; i += 3)
                // if (geom.vertices[i] == geom.vertices[i] || geom.vertices[i] != null)
                // {
            // if(mat)
            // {
                this.applyPos(geom.vertices[i], geom.vertices[i + 1], geom.vertices[i + 2]);
            // }
            // else
            // {
            //     this.applyPos(geom.vertices[i + 0],geom.vertices[i + 1],geom.vertices[i + 2]);
            // }
                // }
        }
        this.calcCenterSize();
    }

    /**
     * returns a copy of the bounding box
     * @function copy
     * @memberof BoundingBox
     * @instance
     */
    copy()
    {
        return new BoundingBox(this);
    }

    get changed()
    {
        return !(this._max[0] == -Number.MAX_VALUE && this._max[1] == -Number.MAX_VALUE && this._max[2] == -Number.MAX_VALUE);
    }

    applyPos(x, y, z)
    {
        if (x == Number.MAX_VALUE || x == -Number.MAX_VALUE ||
            y == Number.MAX_VALUE || y == -Number.MAX_VALUE ||
            z == Number.MAX_VALUE || z == -Number.MAX_VALUE) return;

        if (!CABLES.UTILS.isNumeric(x) || !CABLES.UTILS.isNumeric(y) || !CABLES.UTILS.isNumeric(z)) return;

        if (this._first)
        {
            this._max[0] = x;
            this._max[1] = y;
            this._max[2] = z;

            this._min[0] = x;
            this._min[1] = y;
            this._min[2] = z;
            this._first = false;
            return;
        }

        this._max[0] = Math.max(this._max[0], x);
        this._max[1] = Math.max(this._max[1], y);
        this._max[2] = Math.max(this._max[2], z);

        this._min[0] = Math.min(this._min[0], x);
        this._min[1] = Math.min(this._min[1], y);
        this._min[2] = Math.min(this._min[2], z);
    }

    calcCenterSize()
    {
        if (this._first) return;
        // this._size[0]=Math.abs(this._min[0])+Math.abs(this._max[0]);
        // this._size[1]=Math.abs(this._min[1])+Math.abs(this._max[1]);
        // this._size[2]=Math.abs(this._min[2])+Math.abs(this._max[2]);
        this._size[0] = this._max[0] - this._min[0];
        this._size[1] = this._max[1] - this._min[1];
        this._size[2] = this._max[2] - this._min[2];

        this._center[0] = (this._min[0] + this._max[0]) / 2;
        this._center[1] = (this._min[1] + this._max[1]) / 2;
        this._center[2] = (this._min[2] + this._max[2]) / 2;

        this._maxAxis = Math.max(this._size[2], Math.max(this._size[0], this._size[1]));
    }

    mulMat4(m)
    {
        if (this._first)
        {
            this._max[0] = 0;
            this._max[1] = 0;
            this._max[2] = 0;

            this._min[0] = 0;
            this._min[1] = 0;
            this._min[2] = 0;
            this._first = false;
        }
        vec3.transformMat4(this._max, this._max, m);
        vec3.transformMat4(this._min, this._min, m);
        this.calcCenterSize();
    }

    render(cgl, shader, op)
    {
        if (!this._wireMesh) this._wireMesh = new CGL.WireCube(cgl);

        cgl.pushModelMatrix();
        mat4.translate(cgl.mMatrix, cgl.mMatrix, this._center);

        if (CABLES.UI && op)
        {
            CABLES.UI.OverlayMeshes.drawCube(op, this._size[0] / 2, this._size[1] / 2, this._size[2] / 2);
        }

        cgl.popModelMatrix();
    }
}

;// CONCATENATED MODULE: ./src/core/cg/cg_geom.js
// import { vec2, vec3 } from "gl-matrix";




/**
 * a geometry contains all information about a mesh, vertices, texturecoordinates etc. etc.
 * @namespace external:CGL#Geometry
 * @param {String} name
 * @class
 * @example
 * // create a triangle with all attributes
 * const geom=new Geometry("triangle"),
 *
 * geom.vertices = [
 *      0.0,           sizeH.get(),  0.0,
 *     -sizeW.get(),  -sizeH.get(),  0.0,
 *      sizeW.get(),  -sizeH.get(),  0.0 ];
 *
 * geom.vertexNormals = [
 *      0.0,  0.0,  1.0,
 *      0.0,  0.0,  1.0,
 *      0.0,  0.0,  1.0 ];
 *
 * geom.tangents = [
 *     1,0,0,
 *     1,0,0,
 *     1,0,0 ];
 *
 * geom.biTangents = [
 *     0,1,0,
 *     0,1,0,
 *     0,1,0 ];
 *
 * geom.texCoords = [
 *      0.5,  0.0,
 *      1.0,  1.0,
 *      0.0,  1.0, ];
 *
 * geom.verticesIndices = [
 *     0, 1, 2 ];
 *
 */
const Geometry = function (name)
{
    this.name = name || "unknown";
    this._log = new Logger("cgl_geometry");

    this.faceVertCount = 3;
    this.glPrimitive = null;
    this._attributes = {};

    this._vertices = [];
    this.verticesIndices = [];

    this.isGeometry = true;

    this.morphTargets = [];

    Object.defineProperty(this, "vertices", {
        get()
        {
            return this._vertices;
        },
        set(v)
        {
            this.setVertices(v);
        },
    });

    Object.defineProperty(this, "texCoords", {
        get()
        {
            const att = this.getAttribute("texCoords");
            if (!att) return [];
            return att.data;
        },
        set(v)
        {
            this.setAttribute("texCoords", v, 2);
        },
    });

    Object.defineProperty(this, "vertexNormals", {
        get()
        {
            const att = this.getAttribute("vertexNormals");
            if (!att) return [];
            return att.data;
        },
        set(v)
        {
            this.setAttribute("vertexNormals", v, 3);
        },
    });

    Object.defineProperty(this, "tangents", {
        get()
        {
            const att = this.getAttribute("tangents");
            if (!att) return [];
            return att.data;
        },
        set(v)
        {
            this.setAttribute("tangents", v, 3);
        },
    });

    Object.defineProperty(this, "biTangents", {
        get()
        {
            const att = this.getAttribute("biTangents");
            if (!att) return [];
            return att.data;
        },
        set(v)
        {
            this.setAttribute("biTangents", v, 3);
        },
    });

    Object.defineProperty(this, "vertexColors", {
        get()
        {
            const att = this.getAttribute("vertexColors");
            if (!att) return [];
            return att.data;
        },
        set(v)
        {
            this.setAttribute("vertexColors", v, 4);
        },
    });
};

/**
 * @function clear
 * @memberof Geometry
 * @instance
 * @description clear all buffers/set them to length 0
 */
Geometry.prototype.clear = function ()
{
    this._vertices = new Float32Array([]);
    this.verticesIndices = [];
    this.texCoords = new Float32Array([]);
    this.vertexNormals = new Float32Array([]);
    this.tangents = [];
    this.biTangents = [];
    this._attributes = {};
};



/**
 * @function getAttributes
   @memberof Geometry
 * @instance
 * @return {Array<Object>} returns array of attribute objects
 */
Geometry.prototype.getAttributes = function ()
{
    return this._attributes;
};

/**
 * @function getAttribute
 * @memberof Geometry
 * @instance
 * @param {String} name
 * @return {Object}
 */
Geometry.prototype.getAttribute = function (name)
{
    for (const i in this._attributes)
    {
        if (this._attributes[i].name == name) return this._attributes[i];
    }
    return null;
};

/**
 * @function setAttribute
 * @description create an attribute
 * @memberof Geometry
 * @instance
 * @param {String} name
 * @param {Array} arr
 * @param {Number} itemSize
 */
Geometry.prototype.setAttribute = function (name, arr, itemSize)
{
    let attrType = "";
    if (!itemSize || itemSize > 4)
    {
        console.log("itemsize wrong?", itemSize, name);
        this._log.stack("itemsize");

        itemSize = 3;
    }

    if (itemSize == 1) attrType = "float";
    else if (itemSize == 2) attrType = "vec2";
    else if (itemSize == 3) attrType = "vec3";
    else if (itemSize == 4) attrType = "vec4";


    const attr = {
        "name": name,
        "data": arr,
        "itemSize": itemSize,
        "type": attrType,
    };

    this._attributes[name] = attr;
};

Geometry.prototype.copyAttribute = function (name, newgeom)
{
    const attr = this.getAttribute(name);
    newgeom.setAttribute(name, new Float32Array(attr.data), attr.itemSize);
};


/**
 * @function setVertices
 * @memberof Geometry
 * @instance
 * @description set vertices
 * @param {Array|Float32Array} arr [x,y,z,x,y,z,...]
 */
Geometry.prototype.setVertices = function (arr)
{
    if (arr instanceof Float32Array) this._vertices = arr;
    else this._vertices = new Float32Array(arr);
};

/**
 * @function setTexCoords
 * @memberof Geometry
 * @instance
 * @description set texcoords
 * @param {Array|Float32Array} arr [u,v,u,v,...]
 */
Geometry.prototype.setTexCoords = function (arr)
{
    if (arr instanceof Float32Array) this.texCoords = arr;
    else this.texCoords = new Float32Array(arr);
};

// Geometry.prototype.testIndices = function ()
// {
//     var foundError = false;
//     for (var i = 0; i < this.verticesIndices.length; i++)
//     {
//         if (this.verticesIndices[i * 3 + 0] >= this._vertices.length / 3 || this.verticesIndices[i * 3 + 1] >= this._vertices.length / 3 || this.verticesIndices[i * 3 + 2] >= this._vertices.length / 3)
//         {
//             foundError = true;
//             console.log("index error!");
//         }
//     }
// };

// deprecated
Geometry.prototype.calcNormals = function (smooth)
{
    const options = { "smooth": smooth };
    this.calculateNormals(options);
};

/**
 * @function flipNormals
 * @memberof Geometry
 * @param x
 * @param y
 * @param z
 * @description flip normals
 */
Geometry.prototype.flipNormals = function (x, y, z)
{
    let vec = vec3.create();

    if (x == undefined)x = 1;
    if (y == undefined)y = 1;
    if (z == undefined)z = 1;


    for (let i = 0; i < this.vertexNormals.length; i += 3)
    {
        vec3.set(vec,
            this.vertexNormals[i + 0],
            this.vertexNormals[i + 1],
            this.vertexNormals[i + 2]);

        vec[0] *= -x;
        vec[1] *= -y;
        vec[2] *= -z;

        vec3.normalize(vec, vec);

        this.vertexNormals[i + 0] = vec[0];
        this.vertexNormals[i + 1] = vec[1];
        this.vertexNormals[i + 2] = vec[2];
    }
};

Geometry.prototype.getNumTriangles = function ()
{
    if (this.verticesIndices && this.verticesIndices.length) return this.verticesIndices.length / 3;
    return this.vertices.length / 3;
};


/**
 * @function flipVertDir
 * @memberof Geometry
 * @description flip order of vertices in geom faces
 */
Geometry.prototype.flipVertDir = function ()
{
    const newInd = [];
    newInd.length = this.verticesIndices.length;
    for (let i = 0; i < this.verticesIndices.length; i += 3)
    {
        newInd[i] = this.verticesIndices[i + 2];
        newInd[i + 1] = this.verticesIndices[i + 1];
        newInd[i + 2] = this.verticesIndices[i];
    }
    this.verticesIndices = newInd;
};


Geometry.prototype.setPointVertices = function (verts)
{
    if (verts.length % 3 !== 0)
    {
        this._log.error("SetPointVertices: Array must be multiple of three.");
        return;
    }

    if (!(verts instanceof Float32Array)) this.vertices = new Float32Array(verts);
    else this.vertices = verts;

    if (!(this.texCoords instanceof Float32Array)) this.texCoords = new Float32Array((verts.length / 3) * 2);

    // this.texCoords.length=verts.length/3*2;
    this.verticesIndices.length = verts.length / 3;
    // this.verticesIndices=[];

    for (let i = 0; i < verts.length / 3; i++)
    {
        this.verticesIndices[i] = i;
        this.texCoords[i * 2] = 0;
        this.texCoords[i * 2 + 1] = 0;
    }
};

/**
 * merge a different geometry into the this geometry
 * @function merge
 * @param {Geometry} geom
 * @memberof Geometry
 * @instance
 */
Geometry.prototype.merge = function (geom)
{
    if (!geom) return;

    if (this.isIndexed() != geom.isIndexed())
    {
        if (this.isIndexed())
        {
            this.unIndex(false, true);
        }
        if (geom.isIndexed())
        {
            const g = geom.copy();
            g.unIndex(false, true);
            geom = g;
        }
    }

    const oldIndizesLength = this.verticesIndices.length;
    const vertLength = this._vertices.length / 3;

    this.verticesIndices.length += geom.verticesIndices.length;
    for (let i = 0; i < geom.verticesIndices.length; i++)
        this.verticesIndices[oldIndizesLength + i] = geom.verticesIndices[i] + vertLength;

    this.vertices = UTILS.float32Concat(this._vertices, geom.vertices);
    this.texCoords = UTILS.float32Concat(this.texCoords, geom.texCoords);
    this.vertexNormals = UTILS.float32Concat(this.vertexNormals, geom.vertexNormals);
    this.tangents = UTILS.float32Concat(this.tangents, geom.tangents);
    this.biTangents = UTILS.float32Concat(this.biTangents, geom.biTangents);
};

/**
 *   a copy of the geometry
 * @function copy
 * @memberof Geometry
 * @instance
 */
Geometry.prototype.copy = function ()
{
    const geom = new Geometry(this.name + " copy");
    geom.faceVertCount = this.faceVertCount;
    geom.glPrimitive = this.glPrimitive;

    geom.setVertices(this._vertices.slice(0));

    if (this.verticesIndices)
    {
        geom.verticesIndices.length = this.verticesIndices.length;
        for (let i = 0; i < this.verticesIndices.length; i++) geom.verticesIndices[i] = this.verticesIndices[i];
    }

    for (let i in this._attributes) this.copyAttribute(i, geom);

    geom.morphTargets.length = this.morphTargets.length;
    for (let i = 0; i < this.morphTargets.length; i++) geom.morphTargets[i] = this.morphTargets[i];

    return geom;
};

/**
 * Calculaten normals
 * @function calculateNormals
 * @memberof Geometry
 * @param options
 * @instance
 */
Geometry.prototype.calculateNormals = function (options)
{
    // todo: should check angle of normals to get edges    https://community.khronos.org/t/calculating-accurate-vertex-normals/28152
    options = options || {};
    if (options.smooth === false) this.unIndex();

    const u = vec3.create();
    const v = vec3.create();
    const n = vec3.create();

    function calcNormal(triangle)
    {
        vec3.subtract(u, triangle[0], triangle[1]);
        vec3.subtract(v, triangle[0], triangle[2]);
        vec3.cross(n, u, v);
        vec3.normalize(n, n);

        if (options && options.forceZUp)
        {
            if (n[2] < 0)
            {
                n[0] *= -1;
                n[1] *= -1;
                n[2] *= -1;
            }
        }
        return n;
    }

    this.getVertexVec = function (which)
    {
        const vec = [0, 0, 0];
        vec[0] = this.vertices[which * 3 + 0];
        vec[1] = this.vertices[which * 3 + 1];
        vec[2] = this.vertices[which * 3 + 2];
        return vec;
    };

    if (!(this.vertexNormals instanceof Float32Array) || this.vertexNormals.length != this.vertices.length) this.vertexNormals = new Float32Array(this.vertices.length);

    for (let i = 0; i < this.vertices.length; i++)
    {
        this.vertexNormals[i] = 0;
    }

    if (!this.isIndexed())
    {
        const norms = [];
        for (let i = 0; i < this.vertices.length; i += 9)
        {
            const triangle = [[this.vertices[i + 0], this.vertices[i + 1], this.vertices[i + 2]], [this.vertices[i + 3], this.vertices[i + 4], this.vertices[i + 5]], [this.vertices[i + 6], this.vertices[i + 7], this.vertices[i + 8]]];
            const nn = calcNormal(triangle);
            norms.push(nn[0], nn[1], nn[2], nn[0], nn[1], nn[2], nn[0], nn[1], nn[2]);
        }
        this.vertexNormals = norms;
    }
    else
    {
        const faceNormals = [];

        faceNormals.length = Math.floor(this.verticesIndices.length / 3);

        for (let i = 0; i < this.verticesIndices.length; i += 3)
        {
            const triangle = [this.getVertexVec(this.verticesIndices[i + 0]), this.getVertexVec(this.verticesIndices[i + 1]), this.getVertexVec(this.verticesIndices[i + 2])];

            faceNormals[i / 3] = calcNormal(triangle);

            this.vertexNormals[this.verticesIndices[i + 0] * 3 + 0] += faceNormals[i / 3][0];
            this.vertexNormals[this.verticesIndices[i + 0] * 3 + 1] += faceNormals[i / 3][1];
            this.vertexNormals[this.verticesIndices[i + 0] * 3 + 2] += faceNormals[i / 3][2];

            this.vertexNormals[this.verticesIndices[i + 1] * 3 + 0] += faceNormals[i / 3][0];
            this.vertexNormals[this.verticesIndices[i + 1] * 3 + 1] += faceNormals[i / 3][1];
            this.vertexNormals[this.verticesIndices[i + 1] * 3 + 2] += faceNormals[i / 3][2];

            this.vertexNormals[this.verticesIndices[i + 2] * 3 + 0] += faceNormals[i / 3][0];
            this.vertexNormals[this.verticesIndices[i + 2] * 3 + 1] += faceNormals[i / 3][1];
            this.vertexNormals[this.verticesIndices[i + 2] * 3 + 2] += faceNormals[i / 3][2];
        }


        for (let i = 0; i < this.verticesIndices.length; i += 3) // faces
        {
            for (let k = 0; k < 3; k++) // triangles
            {
                const vv = [this.vertexNormals[this.verticesIndices[i + k] * 3 + 0], this.vertexNormals[this.verticesIndices[i + k] * 3 + 1], this.vertexNormals[this.verticesIndices[i + k] * 3 + 2]];
                vec3.normalize(vv, vv);
                this.vertexNormals[this.verticesIndices[i + k] * 3 + 0] = vv[0];
                this.vertexNormals[this.verticesIndices[i + k] * 3 + 1] = vv[1];
                this.vertexNormals[this.verticesIndices[i + k] * 3 + 2] = vv[2];
            }
        }
    }
};

/**
 * Calculates tangents & bitangents with the help of uv-coordinates. Adapted from
 * Lengyel, Eric. Computing Tangent Space Basis Vectors for an Arbitrary Mesh.
 * Terathon Software 3D Graphics Library.
 * https://fenix.tecnico.ulisboa.pt/downloadFile/845043405449073/Tangent%20Space%20Calculation.pdf
 *
 * @function calcTangentsBitangents
 * @memberof Geometry
 * @instance
 */
Geometry.prototype.calcTangentsBitangents = function ()
{
    if (!this.vertices.length)
    {
        // this._log.error("Cannot calculate tangents/bitangents without vertices.");
        return;
    }
    if (!this.vertexNormals.length)
    {
        // this._log.error("Cannot calculate tangents/bitangents without normals.");
        return;
    }
    if (!this.texCoords.length)
    {
        // console.warn("No texcoords. Replacing with default values [0, 0].");
        const texCoordLength = (this.vertices.length / 3) * 2;
        this.texCoords = new Float32Array(texCoordLength);
        for (let i = 0; i < texCoordLength; i += 1) this.texCoords[i] = 0;
    }
    if (!this.verticesIndices || !this.verticesIndices.length)
    {
        // this._log.error("Cannot calculate tangents/bitangents without vertex indices.");
        return;
    }
    // this code assumes that we have three indices per triangle
    if (this.verticesIndices.length % 3 !== 0)
    {
        this._log.error("Vertex indices mismatch!");
        return;
    }

    const triangleCount = this.verticesIndices.length / 3;
    const vertexCount = this.vertices.length / 3;

    this.tangents = new Float32Array(this.vertexNormals.length);
    this.biTangents = new Float32Array(this.vertexNormals.length);

    // temporary buffers
    const tempVertices = [];
    tempVertices.length = vertexCount * 2;
    const v1 = vec3.create();
    const v2 = vec3.create();
    const v3 = vec3.create();

    const w1 = vec2.create();
    const w2 = vec2.create();
    const w3 = vec2.create();

    const sdir = vec3.create();
    const tdir = vec3.create();

    // for details on calculation, see article referenced above
    for (let tri = 0; tri < triangleCount; tri += 1)
    {
        // indices of the three vertices for a triangle
        const i1 = this.verticesIndices[tri * 3];
        const i2 = this.verticesIndices[tri * 3 + 1];
        const i3 = this.verticesIndices[tri * 3 + 2];

        // vertex position as vec3
        vec3.set(v1, this.vertices[i1 * 3], this.vertices[i1 * 3 + 1], this.vertices[i1 * 3 + 2]);
        vec3.set(v2, this.vertices[i2 * 3], this.vertices[i2 * 3 + 1], this.vertices[i2 * 3 + 2]);
        vec3.set(v3, this.vertices[i3 * 3], this.vertices[i3 * 3 + 1], this.vertices[i3 * 3 + 2]);

        // texture coordinate as vec2
        vec2.set(w1, this.texCoords[i1 * 2], this.texCoords[i1 * 2 + 1]);
        vec2.set(w2, this.texCoords[i2 * 2], this.texCoords[i2 * 2 + 1]);
        vec2.set(w3, this.texCoords[i3 * 2], this.texCoords[i3 * 2 + 1]);

        const x1 = v2[0] - v1[0];
        const x2 = v3[0] - v1[0];
        const y1 = v2[1] - v1[1];
        const y2 = v3[1] - v1[1];
        const z1 = v2[2] - v1[2];
        const z2 = v3[2] - v1[2];

        const s1 = w2[0] - w1[0];
        const s2 = w3[0] - w1[0];
        const t1 = w2[1] - w1[1];
        const t2 = w3[1] - w1[1];

        const r = 1.0 / (s1 * t2 - s2 * t1);

        vec3.set(sdir, (t2 * x1 - t1 * x2) * r, (t2 * y1 - t1 * y2) * r, (t2 * z1 - t1 * z2) * r);
        vec3.set(tdir, (s1 * x2 - s2 * x1) * r, (s1 * y2 - s2 * y1) * r, (s1 * z2 - s2 * z1) * r);

        tempVertices[i1] = sdir;
        tempVertices[i2] = sdir;
        tempVertices[i3] = sdir;

        tempVertices[i1 + vertexCount] = tdir;
        tempVertices[i2 + vertexCount] = tdir;
        tempVertices[i3 + vertexCount] = tdir;
    }

    const normal = vec3.create();
    const tempVert = vec3.create();
    const tan = vec3.create();
    const bitan = vec3.create();
    const temp1 = vec3.create();
    const temp2 = vec3.create();
    const crossPd = vec3.create();
    const normalized = vec3.create();

    for (let vert = 0; vert < vertexCount; vert += 1)
    {
        // NOTE: some meshes don't have index 0 - n in their indexbuffer, if this is the case, skip calculation of this vertex
        if (!tempVertices[vert]) continue;

        vec3.set(normal, this.vertexNormals[vert * 3], this.vertexNormals[vert * 3 + 1], this.vertexNormals[vert * 3 + 2]);
        vec3.set(tempVert, tempVertices[vert][0], tempVertices[vert][1], tempVertices[vert][2]);

        // Gram-Schmidt orthagonalize
        const _dp = vec3.dot(normal, tempVert);
        vec3.scale(temp1, normal, _dp);
        vec3.subtract(temp2, tempVert, temp1);

        vec3.normalize(normalized, temp2);
        vec3.cross(crossPd, normal, tempVert);

        // const intermDot = vec3.dot(crossPd, tempVertices[vert + vertexCount]);
        const w = 1.0;// intermDot < 0.0 ? -1.0 : 1.0;

        vec3.scale(tan, normalized, 1 / w);
        vec3.cross(bitan, normal, tan);

        this.tangents[vert * 3 + 0] = tan[0];
        this.tangents[vert * 3 + 1] = tan[1];
        this.tangents[vert * 3 + 2] = tan[2];
        this.biTangents[vert * 3 + 0] = bitan[0];
        this.biTangents[vert * 3 + 1] = bitan[1];
        this.biTangents[vert * 3 + 2] = bitan[2];
    }
};

Geometry.prototype.isIndexed = function ()
{
    if (this._vertices.length == 0) return true;
    return this.verticesIndices.length != 0;
};

/**
 * @function unIndex
 * @memberof Geometry
 * @instance
 * @description remove all vertex indizes, vertices array will contain 3*XYZ for every triangle
 * @param {boolean} reIndex
 * @param {boolean} dontCalcNormals
 */
Geometry.prototype.unIndex = function (reIndex, dontCalcNormals)
{
    const newVerts = [];
    const newIndizes = [];
    let count = 0;

    for (let j in this._attributes)
    {
        const attr = this._attributes[j];
        let na = [];

        for (let i = 0; i < this.verticesIndices.length; i += 3)
        {
            for (let s = 0; s < 3; s++)
            {
                if (attr.itemSize == 3)
                    na.push(
                        attr.data[this.verticesIndices[i + s] * 3 + 0],
                        attr.data[this.verticesIndices[i + s] * 3 + 1],
                        attr.data[this.verticesIndices[i + s] * 3 + 2]);
                else if (attr.itemSize == 4)
                    na.push(
                        attr.data[this.verticesIndices[i + s] * 4 + 0],
                        attr.data[this.verticesIndices[i + s] * 4 + 1],
                        attr.data[this.verticesIndices[i + s] * 4 + 2],
                        attr.data[this.verticesIndices[i + s] * 4 + 3]);
                else if (attr.itemSize == 2)
                    na.push(
                        attr.data[this.verticesIndices[i + s] * 2 + 0],
                        attr.data[this.verticesIndices[i + s] * 2 + 1]);
                else if (attr.itemSize == 1)
                    na.push(
                        attr.data[this.verticesIndices[i + s]]);
                else console.log("unknown attr", attr);
            }
        }
        this.setAttribute(attr.name, na, attr.itemSize);
    }

    for (let i = 0; i < this.verticesIndices.length; i += 3)
    {
        newVerts.push(
            this.vertices[this.verticesIndices[i + 0] * 3 + 0],
            this.vertices[this.verticesIndices[i + 0] * 3 + 1],
            this.vertices[this.verticesIndices[i + 0] * 3 + 2]);

        newIndizes.push(count);
        count++;

        newVerts.push(
            this.vertices[this.verticesIndices[i + 1] * 3 + 0],
            this.vertices[this.verticesIndices[i + 1] * 3 + 1],
            this.vertices[this.verticesIndices[i + 1] * 3 + 2]);

        newIndizes.push(count);
        count++;

        newVerts.push(
            this.vertices[this.verticesIndices[i + 2] * 3 + 0],
            this.vertices[this.verticesIndices[i + 2] * 3 + 1],
            this.vertices[this.verticesIndices[i + 2] * 3 + 2]);

        newIndizes.push(count);
        count++;
    }

    this.vertices = newVerts;

    this.verticesIndices = [];
    if (reIndex) this.verticesIndices = newIndizes;

    if (!dontCalcNormals) this.calculateNormals();
};

Geometry.prototype.calcBarycentric = function ()
{
    let barycentrics = [];
    barycentrics.length = this.vertices.length;
    for (let i = 0; i < this.vertices.length; i++) barycentrics[i] = 0;

    let count = 0;
    for (let i = 0; i < this.vertices.length; i += 3)
    {
        barycentrics[i + count] = 1;
        count++;
        if (count == 3) count = 0;
    }

    this.setAttribute("attrBarycentric", barycentrics, 3);
};

Geometry.prototype.getBounds = function ()
{
    return new BoundingBox(this);
};

Geometry.prototype.center = function (x, y, z)
{
    if (x === undefined)
    {
        x = true;
        y = true;
        z = true;
    }

    let i = 0;
    const bounds = this.getBounds();
    const offset = [bounds.minX + (bounds.maxX - bounds.minX) / 2, bounds.minY + (bounds.maxY - bounds.minY) / 2, bounds.minZ + (bounds.maxZ - bounds.minZ) / 2];

    for (i = 0; i < this.vertices.length; i += 3)
    {
        if (this.vertices[i + 0] == this.vertices[i + 0])
        {
            if (x) this.vertices[i + 0] -= offset[0];
            if (y) this.vertices[i + 1] -= offset[1];
            if (z) this.vertices[i + 2] -= offset[2];
        }
    }

    return offset;
};

Geometry.prototype.mapTexCoords2d = function ()
{
    const bounds = this.getBounds();
    const num = this.vertices.length / 3;

    this.texCoords = new Float32Array(num * 2);

    for (let i = 0; i < num; i++)
    {
        const vertX = this.vertices[i * 3 + 0];
        const vertY = this.vertices[i * 3 + 1];
        this.texCoords[i * 2 + 0] = vertX / (bounds.maxX - bounds.minX) + 0.5;
        this.texCoords[i * 2 + 1] = 1.0 - vertY / (bounds.maxY - bounds.minY) + 0.5;
    }
};


Geometry.prototype.getInfoOneLine = function ()
{
    let txt = "";
    if (this.faceVertCount == 3 && this.verticesIndices)txt += this.verticesIndices.length / 3;
    else txt += 0;

    txt += " tris ";

    if (this.vertices)txt += this.vertices.length / 3;
    else txt += 0;

    txt += " verts";

    return txt;
};

Geometry.prototype.getInfo = function ()
{
    const info = {};

    if (this.faceVertCount == 3 && this.verticesIndices)info.numFaces = this.verticesIndices.length / 3;
    else info.numFaces = 0;

    if (this.verticesIndices && this.verticesIndices.length)info.indices = this.verticesIndices.length;

    if (this.vertices)info.numVerts = this.vertices.length / 3;
    else info.numVerts = 0;

    if (this.vertexNormals) info.numNormals = this.vertexNormals.length / 3;
    else info.numNormals = 0;

    if (this.texCoords) info.numTexCoords = this.texCoords.length / 2;
    else info.numTexCoords = 0;

    if (this.tangents) info.numTangents = this.tangents.length / 3;
    else info.numTangents = 0;

    if (this.biTangents) info.numBiTangents = this.biTangents.length / 3;
    else info.numBiTangents = 0;

    if (this.biTangents) info.numBiTangents = this.biTangents.length / 3;
    else info.numBiTangents = 0;

    if (this.vertexColors) info.numVertexColors = this.vertexColors.length / 4;
    else info.numVertexColors = 0;

    if (this.getAttributes()) info.numAttribs = Object.keys(this.getAttributes()).length;
    else info.numAttribs = 0;

    info.isIndexed = this.isIndexed();

    return info;
};

// -----------------

// TODO : rewritwe circle op
Geometry.buildFromFaces = function (arr, name, optimize)
{
    const vertices = [];
    const verticesIndices = [];

    for (let i = 0; i < arr.length; i += 3)
    {
        const a = arr[i + 0];
        const b = arr[i + 1];
        const c = arr[i + 2];
        const face = [-1, -1, -1];

        if (optimize)
            for (let iv = 0; iv < vertices.length; iv += 3)
            {
                if (vertices[iv + 0] == a[0] && vertices[iv + 1] == a[1] && vertices[iv + 2] == a[2]) face[0] = iv / 3;
                if (vertices[iv + 0] == b[0] && vertices[iv + 1] == b[1] && vertices[iv + 2] == b[2]) face[1] = iv / 3;
                if (vertices[iv + 0] == c[0] && vertices[iv + 1] == c[1] && vertices[iv + 2] == c[2]) face[2] = iv / 3;
            }

        if (face[0] == -1)
        {
            vertices.push(a[0], a[1], a[2]);
            face[0] = (vertices.length - 1) / 3;
        }

        if (face[1] == -1)
        {
            vertices.push(b[0], b[1], b[2]);
            face[1] = (vertices.length - 1) / 3;
        }

        if (face[2] == -1)
        {
            vertices.push(c[0], c[1], c[2]);
            face[2] = (vertices.length - 1) / 3;
        }

        verticesIndices.push(parseInt(face[0], 10));
        verticesIndices.push(parseInt(face[1], 10));
        verticesIndices.push(parseInt(face[2], 10));
    }

    const geom = new Geometry(name);
    geom.name = name;
    geom.vertices = vertices;
    geom.verticesIndices = verticesIndices;

    return geom;
};




;// CONCATENATED MODULE: ./src/core/cgl/cgl_mesh.js




const MESH = {};
MESH.lastMesh = null;

/**
 * webgl renderable 3d object
 * @class
 * @namespace external:CGL
 * @hideconstructor
 * @param {Context} _cgl cgl
 * @param {Geometry} __geom geometry
 * @param {Number} _options glPrimitive
 * @example
 * const cgl=this._cgl
 * const mesh=new CGL.Mesh(cgl, geometry);
 *
 * function render()
 * {
 *   mesh.render(cgl.getShader());
 * }
 */
const Mesh = function (_cgl, __geom, _options)
{
    this._cgl = _cgl;

    let options = _options || {};
    if (CABLES.UTILS.isNumeric(options))options = { "glPrimitive": _options }; // old constructor fallback...
    this._log = new Logger("cgl_mesh");
    this._bufVertexAttrib = null;
    this._bufVerticesIndizes = this._cgl.gl.createBuffer();
    this._indexType = this._cgl.gl.UNSIGNED_SHORT;
    this._attributes = [];
    this._attribLocs = {};
    this._geom = null;
    this._lastShader = null;
    this._numInstances = 0;
    this._glPrimitive = options.glPrimitive;

    this.opId = options.opId || "";
    this._preWireframeGeom = null;
    this.addVertexNumbers = false;
    this._name = "unknown";

    this.feedBackAttributes = [];
    this.setGeom(__geom);

    this._feedBacks = [];
    this._feedBacksChanged = false;
    this._transformFeedBackLoc = -1;
    this._lastAttrUpdate = 0;

    this.memFreed = false;

    this._cgl.profileData.addHeavyEvent("mesh constructed", this._name);

    this._queryExt = null;

    Object.defineProperty(this, "numInstances", {
        get()
        {
            return this._numInstances;
        },
        set(v)
        {
            this.setNumInstances(v);
        },
    });
};

Mesh.prototype.freeMem = function ()
{
    this.memFreed = true;

    for (let i = 0; i < this._attributes.length; i++)
    {
        this._attributes[i].floatArray = null;
    }
};

/**
 * @function updateVertices
 * @memberof Mesh
 * @instance
 * @description update vertices only from a geometry
 * @param {Geometry} geom
 */
Mesh.prototype.updateVertices = function (geom)
{
    this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_POSITION, geom.vertices, 3);
    this._numVerts = geom.vertices.length / 3;
};

Mesh.prototype.setAttributePointer = function (attrName, name, stride, offset)
{
    for (let i = 0; i < this._attributes.length; i++)
    {
        if (this._attributes[i].name == attrName)
        {
            if (!this._attributes[i].pointer) this._attributes[i].pointer = [];

            this._attributes[i].pointer.push(
                {
                    "loc": -1,
                    "name": name,
                    "stride": stride,
                    "offset": offset,
                    "instanced": attrName == constants_CONSTANTS.SHADER.SHADERVAR_INSTANCE_MMATRIX,
                }
            );
        }
    }
};

Mesh.prototype.getAttribute = function (name)
{
    for (let i = 0; i < this._attributes.length; i++) if (this._attributes[i].name == name) return this._attributes[i];
};

Mesh.prototype.setAttributeRange = function (attr, array, start, end)
{
    if (!attr) return;
    if (!start && !end) return;

    if (!attr.name)
    {
        this._log.stack("no attrname?!");
    }

    this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER, attr.buffer);
    this._cgl.profileData.profileMeshAttributes += (end - start) || 0;

    this._cgl.profileData.profileSingleMeshAttribute[this._name] = this._cgl.profileData.profileSingleMeshAttribute[this._name] || 0;
    this._cgl.profileData.profileSingleMeshAttribute[this._name] += (end - start) || 0;

    if (attr.numItems < array.length / attr.itemSize)
    {
        this._resizeAttr(array, attr);
    }

    if (end > array.length)
    {
        if (CABLES.platform.isDevEnv())
            this._log.log(this._cgl.canvas.id + " " + attr.name + " buffersubdata out of bounds ?", array.length, end, start, attr);
        // end = array.length - 1;
        return;
    }

    if (this._cgl.glVersion == 1) this._cgl.gl.bufferSubData(this._cgl.gl.ARRAY_BUFFER, 0, array); // probably slow/ maybe create and array with only changed size ??
    else this._cgl.gl.bufferSubData(this._cgl.gl.ARRAY_BUFFER, start * 4, array, start, (end - start));
};

Mesh.prototype._resizeAttr = function (array, attr)
{
    if (attr.buffer)
        this._cgl.gl.deleteBuffer(attr.buffer);

    attr.buffer = this._cgl.gl.createBuffer();
    this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER, attr.buffer);
    this._bufferArray(array, attr);
    attr.numItems = array.length / attr.itemSize;// numItems;
};


Mesh.prototype._bufferArray = function (array, attr)
{
    let floatArray = attr.floatArray || null;
    if (!array) return;


    if (this._cgl.debugOneFrame)
    {
        console.log("_bufferArray", array.length, attr.name); // eslint-disable-line
    }

    if (!(array instanceof Float32Array))
    {
        if (attr && floatArray && floatArray.length == array.length)
        {
            floatArray.set(array);
            // floatArray = floatArray;
        }
        else
        {
            floatArray = new Float32Array(array);

            if (this._cgl.debugOneFrame)
            {
                console.log("_bufferArray create new float32array", array.length, attr.name); // eslint-disable-line
            }

            if (array.length > 10000)
            {
                this._cgl.profileData.profileNonTypedAttrib++;
                this._cgl.profileData.profileNonTypedAttribNames = "(" + this._name + ":" + attr.name + ")";
            }
        }
    }
    else floatArray = array;

    attr.arrayLength = floatArray.length;
    attr.floatArray = null;// floatArray;

    this._cgl.gl.bufferData(this._cgl.gl.ARRAY_BUFFER, floatArray, this._cgl.gl.DYNAMIC_DRAW);
};

/**
 * @function setAttribute
 * @description update attribute
 * @memberof Mesh
 * @instance
 * @param {String} attribute name
 * @param {Array} data
 * @param {Number} itemSize
 * @param {Object} options
 */
Mesh.prototype.addAttribute = Mesh.prototype.updateAttribute = Mesh.prototype.setAttribute = function (name, array, itemSize, options)
{
    if (!array)
    {
        this._log.error("mesh addAttribute - no array given! " + name);
        throw new Error();
    }
    let cb = null;
    let instanced = false;
    let i = 0;
    const numItems = array.length / itemSize;

    this._cgl.profileData.profileMeshAttributes += numItems || 0;

    if (typeof options == "function")
    {
        cb = options;
    }

    if (typeof options == "object")
    {
        if (options.cb) cb = options.cb;
        if (options.instanced) instanced = options.instanced;
    }

    if (name == constants_CONSTANTS.SHADER.SHADERVAR_INSTANCE_MMATRIX) instanced = true;


    for (i = 0; i < this._attributes.length; i++)
    {
        const attr = this._attributes[i];
        if (attr.name == name)
        {
            if (attr.numItems === numItems)
            {
            }
            else
            {
                // this._log.log("wrong buffer size", this._geom.name, attr.name, attr.numItems, numItems);
                this._resizeAttr(array, attr);
            }

            this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER, attr.buffer);
            this._bufferArray(array, attr);

            return attr;
        }
    }

    // create new buffer...

    const buffer = this._cgl.gl.createBuffer();

    this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER, buffer);
    // this._cgl.gl.bufferData(this._cgl.gl.ARRAY_BUFFER, floatArray, this._cgl.gl.DYNAMIC_DRAW);

    let type = this._cgl.gl.FLOAT;
    if (options && options.type) type = options.type;
    const attr = {
        "buffer": buffer,
        "name": name,
        "cb": cb,
        "itemSize": itemSize,
        "numItems": numItems,
        "startItem": 0,
        "instanced": instanced,
        "type": type
    };

    this._bufferArray(array, attr);

    if (name == constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_POSITION) this._bufVertexAttrib = attr;
    this._attributes.push(attr);
    this._attribLocs = {};

    return attr;
};

Mesh.prototype.getAttributes = function ()
{
    return this._attributes;
};

/**
 * @function updateTexCoords
 * @description update texture coordinates only from a geometry
 * @memberof Mesh
 * @instance
 * @param {Geometry} geom
 */
Mesh.prototype.updateTexCoords = function (geom)
{
    if (geom.texCoords && geom.texCoords.length > 0)
    {
        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_TEXCOORD, geom.texCoords, 2);
    }
    else
    {
        const tcBuff = new Float32Array(Math.round((geom.vertices.length / 3) * 2));
        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_TEXCOORD, tcBuff, 2);
    }
};


/**
 * @function updateNormals
 * @description update normals only from a geometry
 * @memberof Mesh
 * @instance
 * @param {Geometry} geom
 */
Mesh.prototype.updateNormals = function (geom)
{
    if (geom.vertexNormals && geom.vertexNormals.length > 0)
    {
        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_NORMAL, geom.vertexNormals, 3);
    }
    else
    {
        const tcBuff = new Float32Array(Math.round((geom.vertices.length)));
        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_NORMAL, tcBuff, 3);
    }
};


Mesh.prototype._setVertexNumbers = function (arr)
{
    if (!this._verticesNumbers || this._verticesNumbers.length != this._numVerts || arr)
    {
        if (arr) this._verticesNumbers = arr;
        else
        {
            this._verticesNumbers = new Float32Array(this._numVerts);
            for (let i = 0; i < this._numVerts; i++) this._verticesNumbers[i] = i;
        }

        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_NUMBER, this._verticesNumbers, 1, (attr, geom, shader) =>
        {
            if (!shader.uniformNumVertices) shader.uniformNumVertices = new Uniform(shader, "f", "numVertices", this._numVerts);
            shader.uniformNumVertices.setValue(this._numVerts);

            // console.log("this._numVerts", this._numVerts, attr, shader.uniformNumVertices);
        });
    }
};

/**
 * @function setVertexIndices
 * @description update vertex indices / faces
 * @memberof Mesh
 * @instance
 * @param {array} vertIndices
 */
Mesh.prototype.setVertexIndices = function (vertIndices)
{
    if (!this._bufVerticesIndizes)
    {
        this._log.warn("no bufVerticesIndizes: " + this._name);
        return;
    }
    if (vertIndices.length > 0)
    {
        if (vertIndices instanceof Float32Array) this._log.warn("vertIndices float32Array: " + this._name);

        for (let i = 0; i < vertIndices.length; i++)
        {
            if (vertIndices[i] >= this._numVerts)
            {
                this._log.warn("invalid index in " + this._name, i, vertIndices[i]);
                return;
            }
        }

        this._cgl.gl.bindBuffer(this._cgl.gl.ELEMENT_ARRAY_BUFFER, this._bufVerticesIndizes);

        // todo cache this ?
        // if(!this.vertIndicesTyped || this.vertIndicesTyped.length!=this._geom.verticesIndices.length)

        if (vertIndices.length > 65535)
        {
            this.vertIndicesTyped = new Uint32Array(vertIndices);
            this._indexType = this._cgl.gl.UNSIGNED_INT;
        }
        else
        if (vertIndices instanceof Uint32Array)
        {
            this.vertIndicesTyped = vertIndices;
            this._indexType = this._cgl.gl.UNSIGNED_INT;
        }
        else
        if (!(vertIndices instanceof Uint16Array))
        {
            this.vertIndicesTyped = new Uint16Array(vertIndices);
            this._indexType = this._cgl.gl.UNSIGNED_SHORT;
        }
        else this.vertIndicesTyped = vertIndices;

        this._cgl.gl.bufferData(this._cgl.gl.ELEMENT_ARRAY_BUFFER, this.vertIndicesTyped, this._cgl.gl.DYNAMIC_DRAW);
        this._bufVerticesIndizes.itemSize = 1;
        this._bufVerticesIndizes.numItems = vertIndices.length;
    }
    else this._bufVerticesIndizes.numItems = 0;
};

/**
 * @function setGeom
 * @memberof Mesh
 * @instance
 * @description set geometry for mesh
 * @param {Geometry} geom
 * @param {boolean} removeRef
 */
Mesh.prototype.setGeom = function (geom, removeRef)
{
    this._geom = geom;
    if (geom.glPrimitive != null) this._glPrimitive = geom.glPrimitive;
    if (this._geom && this._geom.name) this._name = "mesh " + this._geom.name;

    MESH.lastMesh = null;
    this._cgl.profileData.profileMeshSetGeom++;

    this._disposeAttributes();

    this.updateVertices(this._geom);
    this.setVertexIndices(this._geom.verticesIndices);

    if (this.addVertexNumbers) this._setVertexNumbers();

    const geomAttribs = this._geom.getAttributes();

    const attribAssoc = {
        "texCoords": constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_TEXCOORD,
        "vertexNormals": constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_NORMAL,
        "vertexColors": constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_COLOR,
        "tangents": "attrTangent",
        "biTangents": "attrBiTangent",
    };

    for (const index in geomAttribs)
        if (geomAttribs[index].data && geomAttribs[index].data.length)
            this.setAttribute(attribAssoc[index] || index, geomAttribs[index].data, geomAttribs[index].itemSize);


    if (removeRef)
    {
        this._geom = null;
    }
};

Mesh.prototype._preBind = function (shader)
{
    for (let i = 0; i < this._attributes.length; i++)
        if (this._attributes[i].cb)
            this._attributes[i].cb(this._attributes[i], this._geom, shader);
};

Mesh.prototype._checkAttrLengths = function ()
{
    if (this.memFreed) return;
    // check length
    for (let i = 0; i < this._attributes.length; i++)
    {
        if (this._attributes[i].arrayLength / this._attributes[i].itemSize < this._attributes[0].arrayLength / this._attributes[0].itemSize)
        {
            let name = "unknown";
            if (this._geom)name = this._geom.name;
            // this._log.warn(
            //     name + ": " + this._attributes[i].name +
            //     " wrong attr length. is:", this._attributes[i].arrayLength / this._attributes[i].itemSize,
            //     " should be:", this._attributes[0].arrayLength / this._attributes[0].itemSize,
            // );
        }
    }
};

Mesh.prototype._bind = function (shader)
{
    if (!shader.isValid()) return;

    let attrLocs = [];
    if (this._attribLocs[shader.id]) attrLocs = this._attribLocs[shader.id];
    else this._attribLocs[shader.id] = attrLocs;

    this._lastShader = shader;
    if (shader.lastCompile > this._lastAttrUpdate || attrLocs.length != this._attributes.length)
    {
        this._lastAttrUpdate = shader.lastCompile;
        for (let i = 0; i < this._attributes.length; i++) attrLocs[i] = -1;
    }

    for (let i = 0; i < this._attributes.length; i++)
    {
        const attribute = this._attributes[i];
        if (attrLocs[i] == -1)
        {
            if (attribute._attrLocationLastShaderTime != shader.lastCompile)
            {
                attribute._attrLocationLastShaderTime = shader.lastCompile;
                attrLocs[i] = this._cgl.glGetAttribLocation(shader.getProgram(), attribute.name);
                // this._log.log('attribloc',attribute.name,attrLocs[i]);
                this._cgl.profileData.profileAttrLoc++;
            }
        }

        if (attrLocs[i] != -1)
        {
            this._cgl.gl.enableVertexAttribArray(attrLocs[i]);
            this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER, attribute.buffer);

            if (attribute.instanced)
            {
                // todo: easier way to fill mat4 attribs...
                if (attribute.itemSize <= 4)
                {
                    if (!attribute.itemSize || attribute.itemSize == 0) this._log.warn("instanced attrib itemsize error", this._geom.name, attribute);

                    this._cgl.gl.vertexAttribPointer(attrLocs[i], attribute.itemSize, attribute.type, false, attribute.itemSize * 4, 0);
                    this._cgl.gl.vertexAttribDivisor(attrLocs[i], 1);
                }
                else if (attribute.itemSize == 16)
                {
                    const stride = 16 * 4;

                    this._cgl.gl.vertexAttribPointer(attrLocs[i], 4, attribute.type, false, stride, 0);
                    this._cgl.gl.enableVertexAttribArray(attrLocs[i] + 1);
                    this._cgl.gl.vertexAttribPointer(attrLocs[i] + 1, 4, attribute.type, false, stride, 4 * 4 * 1);
                    this._cgl.gl.enableVertexAttribArray(attrLocs[i] + 2);
                    this._cgl.gl.vertexAttribPointer(attrLocs[i] + 2, 4, attribute.type, false, stride, 4 * 4 * 2);
                    this._cgl.gl.enableVertexAttribArray(attrLocs[i] + 3);
                    this._cgl.gl.vertexAttribPointer(attrLocs[i] + 3, 4, attribute.type, false, stride, 4 * 4 * 3);

                    this._cgl.gl.vertexAttribDivisor(attrLocs[i], 1);
                    this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 1, 1);
                    this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 2, 1);
                    this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 3, 1);
                }
                else
                {
                    this._log.warn("unknown instance attrib size", attribute.name);
                }
            }
            else
            {
                if (!attribute.itemSize || attribute.itemSize == 0) this._log.warn("attrib itemsize error", this._name, attribute);
                this._cgl.gl.vertexAttribPointer(attrLocs[i], attribute.itemSize, attribute.type, false, attribute.itemSize * 4, 0);

                if (attribute.pointer)
                {
                    for (let ip = 0; ip < attribute.pointer.length; ip++)
                    {
                        const pointer = attribute.pointer[ip];

                        if (pointer.loc == -1)
                            pointer.loc = this._cgl.glGetAttribLocation(shader.getProgram(), pointer.name);

                        this._cgl.profileData.profileAttrLoc++;

                        this._cgl.gl.enableVertexAttribArray(pointer.loc);
                        this._cgl.gl.vertexAttribPointer(pointer.loc, attribute.itemSize, attribute.type, false, pointer.stride, pointer.offset);
                    }
                }
                if (this.bindFeedback) this.bindFeedback(attribute);
            }
        }
    }

    if (this._bufVerticesIndizes && this._bufVerticesIndizes.numItems !== 0) this._cgl.gl.bindBuffer(this._cgl.gl.ELEMENT_ARRAY_BUFFER, this._bufVerticesIndizes);
};

Mesh.prototype.unBind = function ()
{
    const shader = this._lastShader;
    this._lastShader = null;
    if (!shader) return;

    let attrLocs = [];
    if (this._attribLocs[shader.id]) attrLocs = this._attribLocs[shader.id];
    else this._attribLocs[shader.id] = attrLocs;

    MESH.lastMesh = null;

    for (let i = 0; i < this._attributes.length; i++)
    {
        if (this._attributes[i].instanced)
        {
            // todo: easier way to fill mat4 attribs...
            if (this._attributes[i].itemSize <= 4)
            {
                if (attrLocs[i] != -1) this._cgl.gl.vertexAttribDivisor(attrLocs[i], 0);
                if (attrLocs[i] >= 0) this._cgl.gl.disableVertexAttribArray(attrLocs[i]);
            }
            else
            {
                this._cgl.gl.vertexAttribDivisor(attrLocs[i], 0);
                this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 1, 0);
                this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 2, 0);
                this._cgl.gl.vertexAttribDivisor(attrLocs[i] + 3, 0);
                this._cgl.gl.disableVertexAttribArray(attrLocs[i] + 1);
                this._cgl.gl.disableVertexAttribArray(attrLocs[i] + 2);
                this._cgl.gl.disableVertexAttribArray(attrLocs[i] + 3);
            }
        }

        if (attrLocs[i] != -1) this._cgl.gl.disableVertexAttribArray(attrLocs[i]);
    }
};

Mesh.prototype.meshChanged = function ()
{
    return this._cgl.lastMesh && this._cgl.lastMesh != this;
};

Mesh.prototype.printDebug = function (shader)
{
    console.log("--attributes");
    for (let i = 0; i < this._attributes.length; i++)
    {
        console.log("attribute " + i + " " + this._attributes[i].name);
    }
};

Mesh.prototype.setNumVertices = function (num)
{
    this._bufVertexAttrib.numItems = num;
};

Mesh.prototype.getNumVertices = function ()
{
    return this._bufVertexAttrib.numItems;
};


/**
 * @function render
 * @memberof Mesh
 * @instance
 * @description draw mesh to screen
 * @param {Shader} shader
 */
Mesh.prototype.render = function (shader)
{
    // TODO: enable/disablevertex only if the mesh has changed... think drawing 10000x the same mesh

    if (!shader || !shader.isValid() || this._cgl.aborted) return;

    this._checkAttrLengths();

    if (this._geom)
    {
        if (this._preWireframeGeom && !shader.wireframe && !this._geom.isIndexed())
        {
            this.setGeom(this._preWireframeGeom);
            this._preWireframeGeom = null;
            // console.log("remove prewireframe geom");
        }

        if (shader.wireframe)
        {
            let changed = false;

            if (this._geom.isIndexed())
            {
                if (!this._preWireframeGeom)
                {
                    this._preWireframeGeom = this._geom;
                    this._geom = this._geom.copy();
                }

                this._geom.unIndex();
                changed = true;
            }

            if (!this._geom.getAttribute("attrBarycentric"))
            {
                if (!this._preWireframeGeom)
                {
                    this._preWireframeGeom = this._geom;
                    this._geom = this._geom.copy();
                }
                changed = true;

                this._geom.calcBarycentric();
            }
            if (changed) this.setGeom(this._geom);
        }
        // if (shader.wireframe)
        // console.log(shader.wireframe, this._geom.isIndexed());
    }

    let needsBind = false;
    if (MESH.lastMesh != this)
    {
        if (MESH.lastMesh) MESH.lastMesh.unBind();
        needsBind = true;
    }


    // var needsBind=false;
    // {
    //     needsBind=true;
    // }
    if (needsBind) this._preBind(shader);

    if (!shader.bind()) return;

    // if(needsBind)
    this._bind(shader);
    if (this.addVertexNumbers) this._setVertexNumbers();

    MESH.lastMesh = this;

    let prim = this._cgl.gl.TRIANGLES;
    if (this._glPrimitive !== undefined) prim = this._glPrimitive;
    if (shader.glPrimitive !== null) prim = shader.glPrimitive;

    let elementDiv = 1;
    let doQuery = this._cgl.profileData.doProfileGlQuery;
    let queryStarted = false;
    if (doQuery)
    {
        let id = this._name + " - " + shader.getName() + " #" + shader.id;
        if (this._numInstances) id += " instanced " + this._numInstances + "x";

        let queryProfilerData = this._cgl.profileData.glQueryData[id];

        if (!queryProfilerData) queryProfilerData = { "id": id, "num": 0 };

        if (shader.opId)queryProfilerData.shaderOp = shader.opId;
        if (this.opId)queryProfilerData.meshOp = this.opId;

        this._cgl.profileData.glQueryData[id] = queryProfilerData;

        if (!this._queryExt && this._queryExt !== false) this._queryExt = this._cgl.enableExtension("EXT_disjoint_timer_query_webgl2") || false;
        if (this._queryExt)
        {
            if (queryProfilerData._drawQuery)
            {
                const available = this._cgl.gl.getQueryParameter(queryProfilerData._drawQuery, this._cgl.gl.QUERY_RESULT_AVAILABLE);
                if (available)
                {
                    const elapsedNanos = this._cgl.gl.getQueryParameter(queryProfilerData._drawQuery, this._cgl.gl.QUERY_RESULT);
                    const currentTimeGPU = elapsedNanos / 1000000;

                    queryProfilerData._times = queryProfilerData._times || 0;
                    queryProfilerData._times += currentTimeGPU;
                    queryProfilerData._numcount++;
                    queryProfilerData.when = performance.now();
                    queryProfilerData._drawQuery = null;
                    queryProfilerData.queryStarted = false;
                }
            }

            if (!queryProfilerData.queryStarted)
            {
                queryProfilerData._drawQuery = this._cgl.gl.createQuery();
                this._cgl.gl.beginQuery(this._queryExt.TIME_ELAPSED_EXT, queryProfilerData._drawQuery);
                queryStarted = queryProfilerData.queryStarted = true;
            }
        }
    }


    if (this.hasFeedbacks && this.hasFeedbacks()) this.drawFeedbacks(shader, prim);
    else if (!this._bufVerticesIndizes || this._bufVerticesIndizes.numItems === 0)
    {
        // for (let i = 0; i < this._attributes.length; i++)
        // {
        //     if (this._attributes[i].arrayLength / this._attributes[i].itemSize != this._bufVertexAttrib.floatArray.length / 3)
        //     {
        //         this._log.warn("attrib buffer length wrong! ", this._attributes[i].name, this._attributes[i].arrayLength / this._attributes[i].itemSize, this._bufVertexAttrib.floatArray.length / 3, this._attributes[i].itemSize);
        //         // this._log.log(this);
        //         // debugger;
        //         return;
        //     }
        // }


        if (prim == this._cgl.gl.TRIANGLES)elementDiv = 3;
        if (this._numInstances === 0) this._cgl.gl.drawArrays(prim, this._bufVertexAttrib.startItem, this._bufVertexAttrib.numItems - this._bufVertexAttrib.startItem);
        else this._cgl.gl.drawArraysInstanced(prim, this._bufVertexAttrib.startItem, this._bufVertexAttrib.numItems, this._numInstances);
    }
    else
    {
        if (prim == this._cgl.gl.TRIANGLES)elementDiv = 3;
        if (this._numInstances === 0)
        {
            // console.log("la", this._bufVerticesIndizes.numItems);

            this._cgl.gl.drawElements(prim, this._bufVerticesIndizes.numItems, this._indexType, 0);
        }
        else
        {
            this._cgl.gl.drawElementsInstanced(prim, this._bufVerticesIndizes.numItems, this._indexType, 0, this._numInstances);
        }
    }

    if (this._cgl.debugOneFrame && this._cgl.gl.getError() != this._cgl.gl.NO_ERROR)
    {
        this._log.error("mesh draw gl error");
        this._log.error("mesh", this);
        this._log.error("shader", shader);

        const attribNames = [];
        for (let i = 0; i < this._cgl.gl.getProgramParameter(shader.getProgram(), this._cgl.gl.ACTIVE_ATTRIBUTES); i++)
        {
            const name = this._cgl.gl.getActiveAttrib(shader.getProgram(), i).name;
            this._log.error("attrib ", name);
        }
    }

    this._cgl.profileData.profileMeshNumElements += (this._bufVertexAttrib.numItems / elementDiv) * (this._numInstances || 1);
    this._cgl.profileData.profileMeshDraw++;

    if (doQuery && queryStarted)
    {
        this._cgl.gl.endQuery(this._queryExt.TIME_ELAPSED_EXT);
    }

    this._cgl.printError("mesh render " + this._name);

    this.unBind();
};

Mesh.prototype.setNumInstances = function (n)
{
    n = Math.max(0, n);
    if (this._numInstances != n)
    {
        this._numInstances = n;
        const indexArr = new Float32Array(n);
        for (let i = 0; i < n; i++) indexArr[i] = i;
        this.setAttribute(constants_CONSTANTS.SHADER.SHADERVAR_INSTANCE_INDEX, indexArr, 1, { "instanced": true });
    }
};

Mesh.prototype._disposeAttributes = function ()
{
    if (!this._attributes) return;

    for (let i = 0; i < this._attributes.length; i++)
    {
        if (this._attributes[i].buffer)
        {
            this._cgl.gl.deleteBuffer(this._attributes[i].buffer);
            this._attributes[i].buffer = null;
        }
    }
    this._attributes.length = 0;
};

Mesh.prototype.dispose = function ()
{
    if (this._bufVertexAttrib && this._bufVertexAttrib.buffer) this._cgl.gl.deleteBuffer(this._bufVertexAttrib.buffer);
    if (this._bufVerticesIndizes) this._cgl.gl.deleteBuffer(this._bufVerticesIndizes);
    this._bufVerticesIndizes = null;

    this._disposeAttributes();
};





;// CONCATENATED MODULE: ./src/core/cgl/cgl_simplerect.js




const MESHES = {};

MESHES.getSimpleRect = function (cgl, name, size = 1.0)
{
    const geom = new Geometry(name);



    geom.vertices = [1.0 * size, 1.0 * size, 0.0, -1.0 * size, 1.0 * size, 0.0, 1.0 * size, -1.0 * size, 0.0, -1.0 * size, -1.0 * size, 0.0];
    geom.texCoords = [1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0];
    geom.verticesIndices = [0, 1, 2, 2, 1, 3];
    geom.vertexNormals = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];

    return cgl.createMesh(geom);
    // return new Mesh(cgl, geom);
};


MESHES.getSimpleCube = function (cgl, name)
{
    const geom = new Geometry(name);
    geom.vertices = [-1, -1, 1, 1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, -1, 1, -1, 1, 1, -1, 1, 1, 1, -1, 1, 1, -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1, 1, 1, 1, 1, 1, 1, -1, -1, -1, -1, -1, -1, 1, -1, 1, 1, -1, 1, -1];
    geom.setTexCoords([0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0,]);
    geom.verticesIndices = [0, 1, 2, 0, 2, 3, 4, 5, 6, 4, 6, 7, 8, 9, 10, 8, 10, 11, 12, 13, 14, 12, 14, 15, 16, 17, 18, 16, 18, 19, 20, 21, 22, 20, 22, 23];
    geom.vertexNormals = new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, 0.0]);
    geom.tangents = new Float32Array([0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1]);
    geom.biTangents = new Float32Array([-1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, -1, 0, 0, -1]);

    return new Mesh(cgl, geom);
};




;// CONCATENATED MODULE: ./src/core/cgl/cgl_textureeffect.js




const TextureEffect = function (cgl, options)
{
    this._cgl = cgl;
    this._log = new Logger("cgl_TextureEffect");

    if (!cgl.TextureEffectMesh) this.createMesh();

    this._textureSource = null;
    this._options = options;
    this.name = options.name || "unknown";

    // TODO: do we still need the options ?
    // var opts=options ||
    //     {
    //         isFloatingPointTexture:false,
    //         filter:CGL.Texture.FILTER_LINEAR
    //     };
    // if(options && options.fp)opts.isFloatingPointTexture=true;

    this.imgCompVer = 0;
    this.aspectRatio = 1;
    this._textureTarget = null; // new CGL.Texture(this._cgl,opts);
    this._frameBuf = this._cgl.gl.createFramebuffer();
    this._frameBuf2 = this._cgl.gl.createFramebuffer();
    this._renderbuffer = this._cgl.gl.createRenderbuffer();
    this._renderbuffer2 = this._cgl.gl.createRenderbuffer();
    this.switched = false;
    this.depth = false;
};

TextureEffect.prototype.dispose = function ()
{
    if (this._renderbuffer) this._cgl.gl.deleteRenderbuffer(this._renderbuffer);
    if (this._frameBuf) this._cgl.gl.deleteFramebuffer(this._frameBuf);
    if (this._renderbuffer2) this._cgl.gl.deleteRenderbuffer(this._renderbuffer2);
    if (this._frameBuf2) this._cgl.gl.deleteFramebuffer(this._frameBuf2);
};

TextureEffect.prototype.getWidth = function ()
{
    return this._textureSource.width;
};

TextureEffect.prototype.getHeight = function ()
{
    return this._textureSource.height;
};

TextureEffect.prototype.setSourceTexture = function (tex)
{
    if (tex === null)
    {
        this._textureSource = new Texture(this._cgl);
        this._textureSource.setSize(16, 16);
    }
    else
    {
        this._textureSource = tex;
    }

    if (!this._textureSource.compareSettings(this._textureTarget))
    {
        if (this._textureTarget) this._textureTarget.delete();

        this._textureTarget = this._textureSource.clone();

        this._cgl.profileData.profileEffectBuffercreate++;

        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuf);

        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, this._renderbuffer);

        // if(tex.textureType==CGL.Texture.TYPE_FLOAT) this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER,this._cgl.gl.RGBA32F, this._textureSource.width,this._textureSource.height);
        // else this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER,this._cgl.gl.RGBA8, this._textureSource.width,this._textureSource.height);

        if (this.depth) this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER, this._cgl.gl.DEPTH_COMPONENT16, this._textureSource.width, this._textureSource.height);
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.TEXTURE_2D, this._textureTarget.tex, 0);
        if (this.depth) this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.RENDERBUFFER, this._renderbuffer);

        // this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.TEXTURE_2D, this._textureTarget.tex, 0);

        this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, null);
        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, null);
        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);

        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuf2);

        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, this._renderbuffer2);

        // if(tex.textureType==CGL.Texture.TYPE_FLOAT) this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER,this._cgl.gl.RGBA32F, this._textureSource.width,this._textureSource.height);
        // else this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER,this._cgl.gl.RGBA8, this._textureSource.width,this._textureSource.height);

        if (this.depth) this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER, this._cgl.gl.DEPTH_COMPONENT16, this._textureSource.width, this._textureSource.height);
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.TEXTURE_2D, this._textureSource.tex, 0);

        if (this.depth) this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.RENDERBUFFER, this._renderbuffer2);

        // this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.TEXTURE_2D, this._textureSource.tex, 0);

        this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, null);
        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, null);
        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);
    }

    this.aspectRatio = this._textureSource.width / this._textureSource.height;
};
TextureEffect.prototype.continueEffect = function ()
{
    this._cgl.pushDepthTest(false);
    this._cgl.pushModelMatrix();
    this._cgl.pushPMatrix();
    // todo why two pushs?



    this._cgl.pushViewPort(0, 0, this.getCurrentTargetTexture().width, this.getCurrentTargetTexture().height);



    mat4.perspective(this._cgl.pMatrix, 45, this.getCurrentTargetTexture().width / this.getCurrentTargetTexture().height, 0.1, 1100.0); // todo: why?

    this._cgl.pushPMatrix();
    mat4.identity(this._cgl.pMatrix);

    this._cgl.pushViewMatrix();
    mat4.identity(this._cgl.vMatrix);

    this._cgl.pushModelMatrix();
    mat4.identity(this._cgl.mMatrix);
};


TextureEffect.prototype.startEffect = function (bgTex)
{
    if (!this._textureTarget)
    {
        this._log.warn("effect has no target");
        return;
    }

    this.switched = false;

    this.continueEffect();

    if (bgTex)
    {
        this._bgTex = bgTex;
    }
    this._countEffects = 0;
};

TextureEffect.prototype.endEffect = function ()
{
    this._cgl.popDepthTest();
    this._cgl.popModelMatrix();

    this._cgl.popPMatrix();
    this._cgl.popModelMatrix();
    this._cgl.popViewMatrix();

    this._cgl.popPMatrix();
    this._cgl.popViewPort();
};

TextureEffect.prototype.bind = function ()
{
    if (this._textureSource === null)
    {
        this._log.warn("no base texture set!");
        return;
    }

    if (!this.switched)
    {
        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuf);
        this._cgl.pushGlFrameBuffer(this._frameBuf);
    }
    else
    {
        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuf2);
        this._cgl.pushGlFrameBuffer(this._frameBuf2);
    }
};

TextureEffect.prototype.finish = function ()
{
    if (this._textureSource === null)
    {
        this._log.warn("no base texture set!");
        return;
    }

    this._cgl.TextureEffectMesh.render(this._cgl.getShader());

    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.popGlFrameBuffer());

    this._cgl.profileData.profileTextureEffect++;

    if (this._textureTarget.filter == Texture.FILTER_MIPMAP)
    {
        if (!this.switched)
        {
            this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, this._textureTarget.tex);
            this._textureTarget.updateMipMap();
        }
        else
        {
            this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, this._textureSource.tex);
            this._textureSource.updateMipMap();
        }

        this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, null);
    }

    this.switched = !this.switched;
    this._countEffects++;
};

TextureEffect.prototype.getCurrentTargetTexture = function ()
{
    if (this.switched) return this._textureSource;
    return this._textureTarget;
};

TextureEffect.prototype.getCurrentSourceTexture = function ()
{
    if (this._countEffects == 0 && this._bgTex) return this._bgTex;

    if (this.switched) return this._textureTarget;
    return this._textureSource;
};

TextureEffect.prototype.delete = function ()
{
    if (this._textureTarget) this._textureTarget.delete();
    if (this._textureSource) this._textureSource.delete();
    this._cgl.gl.deleteRenderbuffer(this._renderbuffer);
    this._cgl.gl.deleteFramebuffer(this._frameBuf);
};

TextureEffect.prototype.createMesh = function ()
{
    this._cgl.TextureEffectMesh = MESHES.getSimpleRect(this._cgl, "texEffectRect");
};

// ---------------------------------------------------------------------------------

TextureEffect.checkOpNotInTextureEffect = function (op)
{
    if (!op.patch.cgl) return true;
    if (op.uiAttribs.error && !op.patch.cgl.currentTextureEffect)
    {
        op.setUiError("textureeffect", null);
        return true;
    }
    if (!op.patch.cgl.currentTextureEffect) return true;

    if (op.patch.cgl.currentTextureEffect && !op.uiAttribs.error)
    {
        op.setUiError("textureeffect", "This op can not be a child of a ImageCompose/texture effect! imagecompose should only have textureeffect childs.", 0);
        return false;
    }

    if (op.patch.cgl.currentTextureEffect) return false;
    return true;
};

TextureEffect.checkOpInEffect = function (op, minver)
{
    minver = minver || 0;

    if (op.patch.cgl.currentTextureEffect)
    {
        if (op.uiAttribs.uierrors && op.patch.cgl.currentTextureEffect.imgCompVer >= minver)
        {
            op.setUiError("texeffect", null);
            return true;
        }

        if (minver && op.patch.cgl.currentTextureEffect.imgCompVer < minver)
        {
            op.setUiError("texeffect", "This op must be a child of an ImageCompose op with version >=" + minver + " <span class=\"button-small\" onclick=\"gui.patchView.downGradeOp('" + op.id + "','" + op.name + "')\">Downgrade</span> to previous version", 1);
        }
    }

    if (op.patch.cgl.currentTextureEffect) return true;

    if (!op.patch.cgl.currentTextureEffect && (!op.uiAttribs.uierrors || op.uiAttribs.uierrors.length == 0))
    {
        op.setUiError("texeffect", "This op must be a child of an ImageCompose op! More infos <a href=\"https://docs.cables.gl/image_composition/image_composition.html\" target=\"_blank\">here</a>. ", 1);
        return false;
    }

    if (!op.patch.cgl.currentTextureEffect) return false;
    return true;
};

TextureEffect.getBlendCode = function (ver)
{
    let src = "".endl()
        + "vec3 _blend(vec3 base,vec3 blend)".endl()
        + "{".endl()
        + "   vec3 colNew=blend;".endl()
        + "   #ifdef BM_MULTIPLY".endl()
        + "       colNew=base*blend;".endl()
        + "   #endif".endl()
        + "   #ifdef BM_MULTIPLY_INV".endl()
        + "       colNew=base* vec3(1.0)-blend;".endl()
        + "   #endif".endl()
        + "   #ifdef BM_AVERAGE".endl()
        + "       colNew=((base + blend) / 2.0);".endl()
        + "   #endif".endl()
        + "   #ifdef BM_ADD".endl()
        + "       colNew=min(base + blend, vec3(1.0));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_SUBTRACT_ONE".endl()
        + "       colNew=max(base + blend - vec3(1.0), vec3(0.0));".endl()
        + "   #endif".endl()

        + "   #ifdef BM_SUBTRACT".endl()
        + "       colNew=base - blend;".endl()
        + "   #endif".endl()

        + "   #ifdef BM_DIFFERENCE".endl()
        + "       colNew=abs(base - blend);".endl()
        + "   #endif".endl()
        + "   #ifdef BM_NEGATION".endl()
        + "       colNew=(vec3(1.0) - abs(vec3(1.0) - base - blend));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_EXCLUSION".endl()
        + "       colNew=(base + blend - 2.0 * base * blend);".endl()
        + "   #endif".endl()
        + "   #ifdef BM_LIGHTEN".endl()
        + "       colNew=max(blend, base);".endl()
        + "   #endif".endl()
        + "   #ifdef BM_DARKEN".endl()
        + "       colNew=min(blend, base);".endl()
        + "   #endif".endl()
        + "   #ifdef BM_OVERLAY".endl()
        + "      #define BlendOverlayf(base, blend)  (base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))"
            // .endl()+'       #define BlendOverlay(base, blend)       Blend(base, blend, BlendOverlayf)'
            //    .endl()+'      colNew=Blend(base, blend, BlendOverlayf);'
            .endl()
        + "      colNew=vec3(BlendOverlayf(base.r, blend.r),BlendOverlayf(base.g, blend.g),BlendOverlayf(base.b, blend.b));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_SCREEN".endl()
        + "      #define BlendScreenf(base, blend)       (1.0 - ((1.0 - base) * (1.0 - blend)))"
            // .endl()+'       #define BlendScreen(base, blend)        Blend(base, blend, BlendScreenf)'
            // .endl()+'      colNew=Blend(base, blend, BlendScreenf);'
            .endl()
        + "      colNew=vec3(BlendScreenf(base.r, blend.r),BlendScreenf(base.g, blend.g),BlendScreenf(base.b, blend.b));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_SOFTLIGHT".endl()
        + "      #define BlendSoftLightf(base, blend)    ((blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend)))"
            // .endl()+'       #define BlendSoftLight(base, blend)     Blend(base, blend, BlendSoftLightf)'
            //    .endl()+'      colNew=Blend(base, blend, BlendSoftLightf);'
            .endl()
        + "      colNew=vec3(BlendSoftLightf(base.r, blend.r),BlendSoftLightf(base.g, blend.g),BlendSoftLightf(base.b, blend.b));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_HARDLIGHT".endl()
        + "      #define BlendOverlayf(base, blend)  (base < 0.5 ? (2.0 * base * blend) : (1.0 - 2.0 * (1.0 - base) * (1.0 - blend)))"
            // .endl()+'       #define BlendOverlay(base, blend)       Blend(base, blend, BlendOverlayf)'
            // .endl()+'      colNew=Blend(blend, base, BlendOverlayf);'
            .endl()
        + "      colNew=vec3(BlendOverlayf(base.r, blend.r),BlendOverlayf(base.g, blend.g),BlendOverlayf(base.b, blend.b));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_COLORDODGE".endl()
        + "      #define BlendColorDodgef(base, blend)   ((blend == 1.0) ? blend : min(base / (1.0 - blend), 1.0))"
            // .endl()+'      colNew=Blend(base, blend, BlendColorDodgef);'
            .endl()
        + "      colNew=vec3(BlendColorDodgef(base.r, blend.r),BlendColorDodgef(base.g, blend.g),BlendColorDodgef(base.b, blend.b));".endl()
        + "   #endif".endl()
        + "   #ifdef BM_COLORBURN".endl()
        + "      #define BlendColorBurnf(base, blend)    ((blend == 0.0) ? blend : max((1.0 - ((1.0 - base) / blend)), 0.0))"
            // .endl()+'      colNew=Blend(base, blend, BlendColorBurnf);'
            .endl()
        + "      colNew=vec3(BlendColorBurnf(base.r, blend.r),BlendColorBurnf(base.g, blend.g),BlendColorBurnf(base.b, blend.b));".endl()
        + "   #endif".endl()










        + "   return colNew;".endl()
        + "}".endl();

    if (!ver)
        src += "vec4 cgl_blend(vec4 oldColor,vec4 newColor,float amount)".endl()
                + "{".endl()
                    + "vec4 col=vec4( _blend(oldColor.rgb,newColor.rgb) ,1.0);".endl()
                    + "col=vec4( mix( col.rgb, oldColor.rgb ,1.0-oldColor.a*amount),1.0);".endl()
                    + "return col;".endl()
                + "}".endl();

    if (ver >= 3)
        src += "vec4 cgl_blendPixel(vec4 base,vec4 col,float amount)".endl() +
                "{".endl() +

                "#ifdef BM_MATH_ADD".endl() +
                "   return vec4(base.rgb+col.rgb*amount,1.0);".endl() +
                "#endif".endl() +

                "#ifdef BM_MATH_SUB".endl() +
                "   return vec4(base.rgb-col.rgb*amount,1.0);".endl() +
                "#endif".endl() +

                "#ifdef BM_MATH_MUL".endl() +
                "   return vec4(base.rgb*col.rgb*amount,1.0);".endl() +
                "#endif".endl() +

                "#ifdef BM_MATH_DIV".endl() +
                "   return vec4(base.rgb/col.rgb*amount,1.0);".endl() +
                "#endif".endl() +


                    "#ifndef BM_MATH".endl() +
                        "vec3 colNew=_blend(base.rgb,col.rgb);".endl() +

                        "float newA=clamp(base.a+(col.a*amount),0.,1.);".endl() +

                        "#ifdef BM_ALPHAMASKED".endl() +
                            "newA=base.a;".endl() +
                        "#endif".endl() +

                        "return vec4(".endl() +
                            "mix(colNew,base.rgb,1.0-(amount*col.a)),".endl() +
                            "newA);".endl() +

                    "#endif".endl() +
    "}".endl();

    return src;
};

TextureEffect.onChangeBlendSelect = function (shader, blendName, maskAlpha = false)
{
    blendName = String(blendName);
    shader.toggleDefine("BM_NORMAL", blendName == "normal");
    shader.toggleDefine("BM_MULTIPLY", blendName == "multiply");
    shader.toggleDefine("BM_MULTIPLY_INV", blendName == "multiply invert");
    shader.toggleDefine("BM_AVERAGE", blendName == "average");
    shader.toggleDefine("BM_ADD", blendName == "add");
    shader.toggleDefine("BM_SUBTRACT_ONE", blendName == "subtract one");
    shader.toggleDefine("BM_SUBTRACT", blendName == "subtract");
    shader.toggleDefine("BM_DIFFERENCE", blendName == "difference");
    shader.toggleDefine("BM_NEGATION", blendName == "negation");
    shader.toggleDefine("BM_EXCLUSION", blendName == "exclusion");
    shader.toggleDefine("BM_LIGHTEN", blendName == "lighten");
    shader.toggleDefine("BM_DARKEN", blendName == "darken");
    shader.toggleDefine("BM_OVERLAY", blendName == "overlay");
    shader.toggleDefine("BM_SCREEN", blendName == "screen");
    shader.toggleDefine("BM_SOFTLIGHT", blendName == "softlight");
    shader.toggleDefine("BM_HARDLIGHT", blendName == "hardlight");
    shader.toggleDefine("BM_COLORDODGE", blendName == "color dodge");
    shader.toggleDefine("BM_COLORBURN", blendName == "color burn");

    shader.toggleDefine("BM_MATH_ADD", blendName == "Math Add");
    shader.toggleDefine("BM_MATH_SUB", blendName == "Math Subtract");
    shader.toggleDefine("BM_MATH_MUL", blendName == "Math Multiply");
    shader.toggleDefine("BM_MATH_DIV", blendName == "Math Divide");

    shader.toggleDefine("BM_MATH", blendName.indexOf("Math ") == 0);


    shader.toggleDefine("BM_ALPHAMASKED", maskAlpha);
};

TextureEffect.AddBlendSelect = function (op, name, defaultMode)
{
    const p = op.inValueSelect(name || "Blend Mode", [
        "normal", "lighten", "darken", "multiply", "multiply invert", "average", "add", "subtract", "difference", "negation", "exclusion", "overlay", "screen", "color dodge", "color burn", "softlight", "hardlight", "subtract one",
        "Math Add",
        "Math Subtract",
        "Math Multiply",
        "Math Divide",

    ], defaultMode || "normal");
    return p;
};

TextureEffect.AddBlendAlphaMask = function (op, name, defaultMode)
{
    const p = op.inSwitch(name || "Alpha Mask", ["Off", "On"], defaultMode || "Off");
    return p;
};

TextureEffect.setupBlending = function (op, shader, blendPort, amountPort, alphaMaskPort)
{
    const onChange = () =>
    {
        let maskAlpha = false;
        if (alphaMaskPort) maskAlpha = alphaMaskPort.get() == "On";
        TextureEffect.onChangeBlendSelect(shader, blendPort.get(), maskAlpha);

        let str = blendPort.get();
        if (str == "normal") str = null;
        else if (str == "multiply") str = "mul";
        else if (str == "multiply invert") str = "mulinv";
        else if (str == "lighten") str = "light";
        else if (str == "darken") str = "darken";
        else if (str == "average") str = "avg";
        else if (str == "subtract one") str = "sub one";
        else if (str == "subtract") str = "sub";
        else if (str == "difference") str = "diff";
        else if (str == "negation") str = "neg";
        else if (str == "exclusion") str = "exc";
        else if (str == "overlay") str = "ovl";
        else if (str == "color dodge") str = "dodge";
        else if (str == "color burn") str = "burn";
        else if (str == "softlight") str = "soft";
        else if (str == "hardlight") str = "hard";
        else if (str == "Math Add") str = "+";
        else if (str == "Math Subtract") str = "-";
        else if (str == "Math Multiply") str = "*";
        else if (str == "Math Divide") str = "/";

        op.setUiAttrib({ "extendTitle": str });
    };
    op.setPortGroup("Blending", [blendPort, amountPort, alphaMaskPort]);

    let maskAlpha = false;

    blendPort.onChange = onChange;
    if (alphaMaskPort)
    {
        alphaMaskPort.onChange = onChange;
        maskAlpha = alphaMaskPort.get() == "On";
    }

    TextureEffect.onChangeBlendSelect(shader, blendPort.get(), maskAlpha);
};



;// CONCATENATED MODULE: ./src/core/cgl/cgl_shader_lib.js




const ShaderLibMods = {
    "CGL.BLENDMODES": function ()
    {
        this.name = "blendmodes";
        this.srcHeadFrag = TextureEffect.getBlendCode();
    },
    "CGL.BLENDMODES3": function ()
    {
        this.name = "blendmodes3";
        this.srcHeadFrag = TextureEffect.getBlendCode(3);
    },

    "CGL.LUMINANCE": function ()
    {
        this.name = "luminance";
        this.srcHeadFrag = "".endl()
            + "float cgl_luminance(vec3 c)".endl()
            + "{".endl()
            + "    return dot(vec3(0.2126,0.7152,0.0722),c);".endl()
            + "}".endl();
    },


    // quite good random numbers, but somehow don't work in ANGLE
    "CGL.RANDOM_OLD": function ()
    {
        this.name = "randomNumber";
        this.srcHeadFrag = "".endl()
            + "float cgl_random(vec2 co)".endl()
            + "{".endl()
            + "    return fract(sin(dot(co.xy ,vec2(12.9898,4.1414))) * 432758.5453);".endl()
            + "}".endl()
            + "vec3 cgl_random3(vec2 co)".endl()
            + "{".endl()
            + "    return vec3( cgl_random(co),cgl_random(co+0.5711),cgl_random(co+1.5711));".endl()
            + "}";
    },


    // low quality generative ranodm numbers
    "CGL.RANDOM_LOW": function ()
    {
        this.name = "randomNumber";
        this.srcHeadFrag = "".endl()
            + "float cgl_random(vec2 co)".endl()
            + "{".endl()
            + "    return fract(sin(dot(co.xy ,vec2(12.9898,4.1414))) * 358.5453);".endl()
            + "}".endl()
            + "vec3 cgl_random3(vec2 co)".endl()
            + "{".endl()
            + "    return vec3( cgl_random(co),cgl_random(co+0.5711),cgl_random(co+1.5711));".endl()
            + "}";
    },

    // texture based random numbers
    "CGL.RANDOM_TEX": function ()
    {
        this.name = "randomNumbertex";
        this.srcHeadFrag = "".endl()
            + "UNI sampler2D CGLRNDTEX;".endl()
            + "float cgl_random(vec2 co)".endl()
            + "{".endl()
            + "    return texture(CGLRNDTEX,co*5711.0).r;".endl()
            + "}".endl()
            + "vec3 cgl_random3(vec2 co)".endl()
            + "{".endl()
            + "    return texture(CGLRNDTEX,co*5711.0).rgb;".endl()
            + "}";

        this.initUniforms = function (shader)
        {
            return [new Uniform(shader, "t", "CGLRNDTEX", 7)];
        };

        this.onBind = function (cgl, shader)
        {
            Texture.getRandomTexture(cgl);
            cgl.setTexture(7, Texture.getRandomTexture(cgl).tex);
        };
    },
};



;// CONCATENATED MODULE: ./src/core/cgl/cgl_utils.js
/** @namespace CGL */

/**
 * multiply to get radians from degree, e.g. `360 * CGL.DEG2RAD`
 * @const {Number}
 * @memberof CGL
 * @static
 */
const cgl_utils_DEG2RAD = Math.PI / 180.0;

/**
 * to get degrees from radians, e.g. `3.14 * CGL.RAD2DEG`
 * @const {number}
 * @memberof CGL
 */
const cgl_utils_RAD2DEG = 180.0 / Math.PI;

const onLoadingAssetsFinished = null; // deprecated / remove later

/**
 * get normalized mouse wheel delta (including browser specific adjustment)
 * @function getWheelDelta
 * @static
 * @memberof CGL
 * @param {MouseEvent} event
 * @return {Number} normalized delta
 */
const isWindows = window.navigator.userAgent.contains("Windows");
const getWheelDelta_ = function (event)
{
    let normalized;
    if (event.wheelDelta)
    {
        // chrome
        normalized = (event.wheelDelta % 120) - 0 == -0 ? event.wheelDelta / 120 : event.wheelDelta / 30;
        normalized *= -1.5;
        if (isWindows) normalized *= 2;
    }
    else
    {
        // firefox
        let d = event.deltaY;
        if (event.shiftKey) d = event.deltaX;
        const rawAmmount = d || event.detail;
        normalized = -(rawAmmount % 3 ? rawAmmount * 10 : rawAmmount / 3);
        normalized *= -3;
    }

    if (normalized > 20) normalized = 20;
    if (normalized < -20) normalized = -20;

    return normalized;
};

const getWheelSpeed = getWheelDelta_;
const getWheelDelta = getWheelDelta_;

// from https://github.com/lodash/lodash/blob/master/escape.js

const htmlEscapes = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    "\"": "&quot;",
    "'": "&#39;",
};

/** Used to match HTML entities and HTML characters. */
const reUnescapedHtml = /[&<>"']/g;
const reHasUnescapedHtml = RegExp(reUnescapedHtml.source);

/*  eslint-disable */
const escapeHTML = function(string)
{
    return string && reHasUnescapedHtml.test(string) ?
        string.replace(reUnescapedHtml, function(chr) { return htmlEscapes[chr]; })
        : string || "";
}
/* eslint-enable */

;// CONCATENATED MODULE: ./src/core/cg/cg_shader.js



class CgShader extends EventTarget
{
    constructor()
    {
        super();
        this.id = simpleId();
        this._isValid = true;
        this._defines = [];
    }

    /**
     * easily enable/disable a define without a value
     * @function toggleDefine
     * @memberof Shader
     * @instance
     * @param {name} name
     * @param {any} enabled value or port
     */
    toggleDefine(name, enabled)
    {
        if (enabled && typeof (enabled) == "object" && enabled.addEventListener) // port
        {
            if (enabled.changeListener)enabled.removeEventListener(enabled.changeListener);

            enabled.onToggleDefine = (v) =>
            {
                this.toggleDefine(name, v);
            };

            enabled.changeListener = enabled.on("change", enabled.onToggleDefine);
            enabled = enabled.get();
        }

        if (enabled) this.define(name);
        else this.removeDefine(name);
    }

    /**
     * add a define to a shader, e.g.  #define DO_THIS_THAT 1
     * @function define
     * @memberof Shader
     * @instance
     * @param {String} name
     * @param {Any} value (can be empty)
     */
    define(name, value)
    {
        if (value === null || value === undefined) value = "";

        if (typeof (value) == "object") // port
        {
            value.removeEventListener("change", value.onDefineChange);
            value.onDefineChange = (v) =>
            {
                this.define(name, v);
            };
            value.on("change", value.onDefineChange);

            value = value.get();
        }


        for (let i = 0; i < this._defines.length; i++)
        {
            if (this._defines[i][0] == name && this._defines[i][1] == value) return;
            if (this._defines[i][0] == name)
            {
                this._defines[i][1] = value;
                this.setWhyCompile("define " + name + " " + value);

                this._needsRecompile = true;
                return;
            }
        }
        this.setWhyCompile("define " + name + " " + value);
        this._needsRecompile = true;
        this._defines.push([name, value]);
    }

    getDefines()
    {
        return this._defines;
    }

    getDefine(name)
    {
        for (let i = 0; i < this._defines.length; i++)
            if (this._defines[i][0] == name) return this._defines[i][1];
        return null;
    }

    /**
     * return true if shader has define
     * @function hasDefine
     * @memberof Shader
     * @instance
     * @param {String} name
     * @return {Boolean}
     */
    hasDefine(name)
    {
        for (let i = 0; i < this._defines.length; i++)
            if (this._defines[i][0] == name) return true;
    }

    /**
     * remove a define from a shader
     * @param {name} name
     * @function removeDefine
     * @memberof Shader
     * @instance
     */
    removeDefine(name)
    {
        for (let i = 0; i < this._defines.length; i++)
        {
            if (this._defines[i][0] == name)
            {
                this._defines.splice(i, 1);
                this._needsRecompile = true;

                this.setWhyCompile("define removed:" + name);

                return;
            }
        }
    }
}



;// CONCATENATED MODULE: ./src/core/cgl/cgl_shader_default_glsl.vert
/* harmony default export */ const cgl_shader_default_glsl = ("{{MODULES_HEAD}}\nIN vec3 vPosition; //!@\nIN vec2 attrTexCoord;\nIN vec3 attrVertNormal;\nIN vec3 attrTangent,attrBiTangent;\n\nIN float attrVertIndex;\n\nOUT vec2 texCoord;\nOUT vec3 norm;\nUNI mat4 projMatrix;\nUNI mat4 viewMatrix;\nUNI mat4 modelMatrix;\n\nvoid main()\n{\n    texCoord=attrTexCoord;\n    norm=attrVertNormal;\n    vec4 pos=vec4(vPosition,  1.0);\n    vec3 tangent=attrTangent;\n    vec3 bitangent=attrBiTangent;\n    mat4 mMatrix=modelMatrix;\n    gl_PointSize=10.0;\n\n    {{MODULE_VERTEX_POSITION}}\n\n    mat4 modelViewMatrix=viewMatrix*mMatrix;\n    {{MODULE_VERTEX_MODELVIEW}}\n\n    gl_Position = projMatrix * modelViewMatrix * pos;\n}\n");
;// CONCATENATED MODULE: ./src/core/cgl/cgl_shader.js









// ---------------------------------------------------------------------------


/*

proposal default shader variable names:

attrVertex - currently: vPosition
attrVertexIndex - currently: attrVertIndex
attrTexCoord
attrInstMat - currently: instMat
attrVertColor
attrTangent
attrBiTangent

uProjMatrix - currently: projMatrix
uModelMatrix - currently: modelMatrix
uNormalMatrix - currently: normalMatrix
uCamPosition - currently: camPos

*/


// ---------------------------------------------------------------------------

let materialIdCounter = 0;




function getDefaultVertexShader()
{
    return cgl_shader_default_glsl;
}


function getDefaultFragmentShader(r, g, b)
{
    if (r == undefined)
    {
        r = 0.5;
        g = 0.5;
        b = 0.5;
    }
    return ""
        .endl() + "IN vec2 texCoord;"
        .endl() + "{{MODULES_HEAD}}"
        .endl() + "void main()"
        .endl() + "{"
        .endl() + "    vec4 col=vec4(" + r + "," + g + "," + b + ",1.0);"
        .endl() + "    {{MODULE_COLOR}}"
        .endl() + "    outColor = col;"
        .endl() + "}";
};


/**
 * @class
 * @namespace external:CGL
 * @hideconstructor
 * @param _cgl
 * @param _name
 * @param _op
 * @example
 * var shader=new CGL.Shader(cgl,'MinimalMaterial');
 * shader.setSource(attachments.shader_vert,attachments.shader_frag);
 */
class Shader extends CgShader
{
    constructor (_cgl, _name, _op)
    {
        super();
        if (!_cgl) throw new Error("shader constructed without cgl " + _name);

        this._log = new Logger("cgl_shader");
        this._cgl = _cgl;

        if (!_name) this._log.stack("no shader name given");
        this._name = _name || "unknown";

        if (_op) this.opId = _op.id;
        this.glslVersion = 0;
        if (_cgl.glVersion > 1) this.glslVersion = 300;

        this._materialId = ++materialIdCounter;

        this._program = null;
        this._uniforms = [];
        this._drawBuffers = [true];

        this._needsRecompile = true;
        this._compileReason = "initial";

        this.ignoreMissingUniforms = false;
        this._projMatrixUniform = null;
        this._mvMatrixUniform = null;
        this._mMatrixUniform = null;
        this._vMatrixUniform = null;
        this._camPosUniform = null;
        this._normalMatrixUniform = null;
        this._inverseViewMatrixUniform = null;
        this._fromUserInteraction = false;

        this._attrVertexPos = -1;
        this.precision = _cgl.patch.config.glslPrecision || "highp";

        this._pMatrixState = -1;
        this._vMatrixState = -1;

        this._countMissingUniforms = 0;
        this._modGroupCount = 0; // not needed anymore...
        this._feedBackNames = [];
        this._attributes = [];

        this.glPrimitive = null;
        this.offScreenPass = false;
        this._extensions = [];
        this.srcVert = getDefaultVertexShader();
        this.srcFrag = getDefaultFragmentShader();
        this.lastCompile = 0;

        this._moduleNames = [];
        this._modules = [];
        this._moduleNumId = 0;

        this._libs = [];
        this._structNames = [];
        this._structUniformNames = [];
        this._textureStackUni = [];
        this._textureStackTex = [];
        this._textureStackType = [];
        this._textureStackTexCgl = [];

        this._tempNormalMatrix = mat4.create();
        this._tempCamPosMatrix = mat4.create();
        this._tempInverseViewMatrix = mat4.create();
        this._tempInverseProjMatrix = mat4.create();

        this.setModules(["MODULE_VERTEX_POSITION", "MODULE_COLOR", "MODULE_BEGIN_FRAG", "MODULE_VERTEX_MODELVIEW"]);
    };







    isValid()
    {
        return this._isValid;
    };

    getCgl()
    {
        return this._cgl;
    };

    getName()
    {
        return this._name;
    };

    /**
     * enable an extension for the shader
     * @function enableExtension
     * @memberof Shader
     * @instance
     * @param name extension name
     */
    enableExtension(name)
    {
        this.setWhyCompile("enable extension " + name);
        this._needsRecompile = true;
        this._extensions.push(name);
    };

    getAttrVertexPos()
    {
        return this._attrVertexPos;
    };

    hasTextureUniforms()
    {
        for (let i = 0; i < this._uniforms.length; i++)
            if (this._uniforms[i].getType() == "t") return true;
        return false;
    };

    setWhyCompile(why)
    {
        this._compileReason = why;
    };

    /**
     * copy all uniform values from another shader
     * @function copyUniforms
     * @memberof Shader
     * @instance
     * @param origShader uniform values will be copied from this shader
     */
    copyUniformValues(origShader)
    {
        // console.log(origShader._uniforms);
        for (let i = 0; i < origShader._uniforms.length; i++)
        {
            if (!this._uniforms[i])
            {
                this._log.log("unknown uniform?!");
                continue;
            }

            // this._log.log(origShader._uniforms[i].getName());
            // this.getUniform(origShader._uniforms[i].)
            // this._uniforms[i].set(origShader._uniforms[i].getValue());


            // if (origShader._uniforms[i].getName().contains("pathPoints"))
            //     console.log("copyUniformValues", origShader._uniforms[i].getName(), origShader._uniforms[i].getValue());

            this.getUniform(origShader._uniforms[i].getName()).set(origShader._uniforms[i].getValue());
        }

        this.popTextures();
        for (let i = 0; i < origShader._textureStackUni.length; i++)
        {
            this._textureStackUni[i] = origShader._textureStackUni[i];
            this._textureStackTex[i] = origShader._textureStackTex[i];
            this._textureStackType[i] = origShader._textureStackType[i];
            this._textureStackTexCgl[i] = origShader._textureStackTexCgl[i];
        }

        // this._textureStackUni = [];
        // this._textureStackTex = [];
        // this._textureStackType = [];
        // this._textureStackTexCgl = [];
    };

    /**
     * copy current shader
     * @function copy
     * @memberof Shader
     * @instance
     * @returns newShader
     */
    copy()
    {
        const shader = new Shader(this._cgl, this._name + " copy");
        shader.setSource(this.srcVert, this.srcFrag);

        shader._modules = JSON.parse(JSON.stringify(this._modules));
        shader._defines = JSON.parse(JSON.stringify(this._defines));

        shader._modGroupCount = this._modGroupCount;
        shader._moduleNames = this._moduleNames;
        shader.glPrimitive = this.glPrimitive;
        shader.offScreenPass = this.offScreenPass;
        shader._extensions = this._extensions;
        shader.wireframe = this.wireframe;
        shader._attributes = this._attributes;

        for (let i = 0; i < this._uniforms.length; i++)
        {
            const u = this._uniforms[i].copy(shader);
            u.resetLoc();
        }

        this.setWhyCompile("copy");
        shader._needsRecompile = true;
        return shader;
    };


    /**
     * set shader source code
     * @function setSource
     * @memberof Shader
     * @instance
     * @param {String} srcVert
     * @param {String} srcFrag
     * @param {Bool} fromUserInteraction
     */
    setSource(srcVert, srcFrag, fromUserInteraction)
    {
        this._fromUserInteraction = fromUserInteraction;
        this.srcVert = srcVert;
        this.srcFrag = srcFrag;
        this.setWhyCompile("Source changed");
        this._needsRecompile = true;
        this._isValid = true;
    };

    _addLibs(src)
    {
        for (const id in ShaderLibMods)
        {
            if (src.contains(id))
            {
                const lib = new ShaderLibMods[id]();
                src = src.replace("{{" + id + "}}", lib.srcHeadFrag);
                this._libs.push(lib);
                if (lib.initUniforms)lib.initUniforms(this);
            }
        }

        return src;
    };

    createStructUniforms()
    {
        // * create structs
        let structStrFrag = "";
        let structStrVert = ""; // TODO: not used yet

        this._structNames = [];
        // * reset the arrays holding the value each recompile so we don't skip structs
        // * key value mapping so the same struct can be added twice (two times the same modifier)
        this._injectedStringsFrag = {};
        this._injectedStringsVert = {};

        this._structUniformNamesIndicesFrag = [];
        this._structUniformNamesIndicesVert = [];

        for (let i = 0; i < this._uniforms.length; i++)
        {
            // * only add uniforms to struct that are a member of a struct
            if (this._uniforms[i].isStructMember())
            {
                const injectionString = "{{INJECTION_POINT_STRUCT_" + this._uniforms[i]._structName + "}}";

                // * check if struct is not already part of shader
                if (!this._structNames.includes(this._uniforms[i]._structName))
                {
                    // * create struct definition with placeholder string to inject
                    const structDefinition = "struct "
                        + this._uniforms[i]._structName + " {".endl()
                        + injectionString
                        + "};".endl().endl();

                    if (this._uniforms[i].getShaderType() === "both" || this._uniforms[i].getShaderType() === "frag")
                        structStrFrag = structStrFrag.concat(structDefinition);

                    if (this._uniforms[i].getShaderType() === "both" || this._uniforms[i].getShaderType() === "vert")
                        structStrVert = structStrVert.concat(structDefinition);

                    this._structNames.push(this._uniforms[i]._structName);
                    this._injectedStringsFrag[this._uniforms[i]._structName] = [];
                    this._injectedStringsVert[this._uniforms[i]._structName] = [];
                }

                // * create member & comment
                let comment = "";
                if (this._uniforms[i].comment) comment = " // " + this._uniforms[i].comment;

                let stringToInsert = "";
                if (this._uniforms[i].getGlslTypeString() == undefined)stringToInsert += "//";
                stringToInsert += "  " + this._uniforms[i].getGlslTypeString()
                        + " " + this._uniforms[i]._propertyName + ";"
                        + comment;

                if (this._uniforms[i].getShaderType() === "both")
                {
                    // * inject member before {injectionString}
                    if (
                        !this._injectedStringsFrag[this._uniforms[i]._structName].contains(stringToInsert)
                    && !this._injectedStringsVert[this._uniforms[i]._structName].contains(stringToInsert))
                    {
                        const insertionIndexFrag = structStrFrag.lastIndexOf(injectionString);
                        const insertionIndexVert = structStrVert.lastIndexOf(injectionString);

                        structStrFrag =
                            structStrFrag.slice(0, insertionIndexFrag)
                            + stringToInsert + structStrFrag.slice(insertionIndexFrag - 1);

                        structStrVert =
                            structStrVert.slice(0, insertionIndexVert)
                            + stringToInsert + structStrVert.slice(insertionIndexVert - 1);

                        this._injectedStringsFrag[this._uniforms[i]._structName].push(stringToInsert);
                        this._injectedStringsVert[this._uniforms[i]._structName].push(stringToInsert);
                    }

                    if (!this._structUniformNamesIndicesFrag.includes(i)) this._structUniformNamesIndicesFrag.push(i);
                    if (!this._structUniformNamesIndicesVert.includes(i)) this._structUniformNamesIndicesVert.push(i);
                }
                else if (this._uniforms[i].getShaderType() === "frag")
                {
                    // * inject member before {injectionString}
                    if (!this._injectedStringsFrag[this._uniforms[i]._structName].includes(stringToInsert)) //
                    {
                        const insertionIndexFrag = structStrFrag.lastIndexOf(injectionString);

                        structStrFrag =
                            structStrFrag.slice(0, insertionIndexFrag)
                            + stringToInsert + structStrFrag.slice(insertionIndexFrag - 1);

                        this._injectedStringsFrag[this._uniforms[i]._structName].push(stringToInsert);
                    }

                    if (!this._structUniformNamesIndicesFrag.includes(i)) this._structUniformNamesIndicesFrag.push(i);
                }
                else if (this._uniforms[i].getShaderType() === "vert")
                {
                    // * inject member before {injectionString}
                    if (!this._injectedStringsVert[this._uniforms[i]._structName].includes(stringToInsert))
                    {
                        const insertionIndexVert = structStrVert.lastIndexOf(injectionString);

                        structStrVert =
                            structStrVert.slice(0, insertionIndexVert)
                            + stringToInsert + structStrVert.slice(insertionIndexVert - 1);

                        this._injectedStringsVert[this._uniforms[i]._structName].push(stringToInsert);
                    }

                    if (!this._structUniformNamesIndicesVert.includes(i)) this._structUniformNamesIndicesVert.push(i);
                }
            }
        }

        // * dedupe injected uni declarations
        this._uniDeclarationsFrag = [];
        this._uniDeclarationsVert = [];

        // * remove struct injection points and add uniform in fragment
        for (let i = 0; i < this._structUniformNamesIndicesFrag.length; i += 1)
        {
            const index = this._structUniformNamesIndicesFrag[i];
            const uniDeclarationString = "UNI " + this._uniforms[index]._structName + " " + this._uniforms[index]._structUniformName + ";".endl();

            if (!this._uniDeclarationsFrag.includes(uniDeclarationString))
            {
                const injectionString = "{{INJECTION_POINT_STRUCT_" + this._uniforms[index]._structName + "}}";

                structStrFrag = structStrFrag.replace(injectionString, "");
                structStrFrag += uniDeclarationString;

                this._uniDeclarationsFrag.push(uniDeclarationString);
            }
        }

        // * remove struct injection points and add uniform in vertex
        for (let i = 0; i < this._structUniformNamesIndicesVert.length; i += 1)
        {
            const index = this._structUniformNamesIndicesVert[i];
            const uniDeclarationString = "UNI " + this._uniforms[index]._structName + " " + this._uniforms[index]._structUniformName + ";".endl();

            if (!this._uniDeclarationsVert.includes(uniDeclarationString))
            {
                const injectionString = "{{INJECTION_POINT_STRUCT_" + this._uniforms[index]._structName + "}}";

                structStrVert = structStrVert.replace(injectionString, "");
                structStrVert += uniDeclarationString;
                this._uniDeclarationsVert.push(uniDeclarationString);
            }
        }

        return [structStrVert, structStrFrag];
    };

    _getAttrSrc(attr, firstLevel)
    {
        const r = {};
        if (attr.name && attr.type)
        {
            r.srcHeadVert = "";
            if (!firstLevel) r.srcHeadVert += "#ifndef ATTRIB_" + attr.name.endl();
            r.srcHeadVert += "#define ATTRIB_" + attr.name.endl();
            r.srcHeadVert += "IN " + attr.type + " " + attr.name + ";".endl();
            if (!firstLevel) r.srcHeadVert += "#endif".endl();

            if (attr.nameFrag)
            {
                r.srcHeadVert += "";
                if (!firstLevel) r.srcHeadVert += "#ifndef ATTRIB_" + attr.nameFrag.endl();
                r.srcHeadVert += "#define ATTRIB_" + attr.nameFrag.endl();
                r.srcHeadVert += "OUT " + attr.type + " " + attr.nameFrag + ";".endl();
                if (!firstLevel) r.srcHeadVert += "#endif".endl();

                r.srcVert = "".endl() + attr.nameFrag + "=" + attr.name + ";";

                r.srcHeadFrag = "";
                if (!firstLevel) r.srcHeadFrag += "#ifndef ATTRIB_" + attr.nameFrag.endl();
                r.srcHeadFrag += "#define ATTRIB_" + attr.nameFrag.endl();
                r.srcHeadFrag += "IN " + attr.type + " " + attr.nameFrag + ";".endl();
                if (!firstLevel) r.srcHeadFrag += "#endif".endl();
            }
        }
        return r;
    };

    compile()
    {
        if (this._cgl.aborted) return;
        const startTime = performance.now();



        this._cgl.profileData.profileShaderCompiles++;
        this._cgl.profileData.profileShaderCompileName = this._name + " [" + this._compileReason + "]";

        let extensionString = "";
        if (this._extensions)
            for (let i = 0; i < this._extensions.length; i++)
                extensionString += "#extension " + this._extensions[i] + " : enable".endl();

        let definesStr = "";
        if (this._defines.length) definesStr = "\n// cgl generated".endl();
        for (let i = 0; i < this._defines.length; i++)
            definesStr += "#define " + this._defines[i][0] + " " + this._defines[i][1] + "".endl();

        const structStrings = this.createStructUniforms();
        this._cgl.profileData.addHeavyEvent("shader compile", this._name + " [" + this._compileReason + "]");
        this._compileReason = "";



        if (this._uniforms)
        {
            // * we create an array of the uniform names to check our indices & an array to save them
            const uniNames = this._uniforms.map((uni) => { return uni._name; });
            const indicesToRemove = [];

            // * we go through our uniforms and check if the same name is contained somewhere further in the array
            // * if so, we add the current index to be removed later
            for (let i = 0; i < this._uniforms.length; i++)
            {
                const uni = this._uniforms[i];
                const nextIndex = uniNames.indexOf(uni._name, i + 1);
                if (nextIndex > -1) indicesToRemove.push(i);
            }

            // * after that, we go through the uniforms backwards (so we keep the order) and remove the indices
            // * also, we reset the locations of all the other valid uniforms
            for (let j = this._uniforms.length - 1; j >= 0; j -= 1)
            {
                if (indicesToRemove.includes(j)) this._uniforms.splice(j, 1);
                else this._uniforms[j].resetLoc();
            }
        }

        this._cgl.printError("uniform resets");

        if (this.hasTextureUniforms()) definesStr += "#define HAS_TEXTURES".endl();

        let vs = "";
        let fs = "";

        if (!this.srcFrag)
        {
            this._log.warn("[cgl shader] has no fragment source!", this._name, this);
            this.srcVert = getDefaultVertexShader();
            this.srcFrag = getDefaultFragmentShader();
            // return;
        }

        if (this.glslVersion == 300)
        {
            vs = "#version 300 es"
                .endl() + "// "
                .endl() + "// vertex shader " + this._name
                .endl() + "// "
                .endl() + "precision " + this.precision + " float;"
                .endl() + "precision " + this.precision + " sampler2D;"
                .endl() + ""
                .endl() + "#define WEBGL2"
                .endl() + "#define texture2D texture"
                .endl() + "#define UNI uniform"
                .endl() + "#define IN in"
                .endl() + "#define OUT out"
                .endl();

            fs = "#version 300 es"
                .endl() + "// "
                .endl() + "// fragment shader " + this._name
                .endl() + "// "
                .endl() + "precision " + this.precision + " float;"
                .endl() + "precision " + this.precision + " sampler2D;"
                .endl() + ""
                .endl() + "#define WEBGL2"
                .endl() + "#define texture2D texture"
                .endl() + "#define IN in"
                .endl() + "#define OUT out"
                .endl() + "#define UNI uniform"
                .endl() + "{{DRAWBUFFER}}"

                .endl();
        }
        else
        {
            fs = ""
                .endl() + "// "
                .endl() + "// fragment shader " + this._name
                .endl() + "// "
                .endl() + "#define WEBGL1"
                .endl() + "#define texture texture2D"
                .endl() + "#define outColor gl_FragColor"
                .endl() + "#define IN varying"
                .endl() + "#define UNI uniform"
                .endl();

            vs = ""
                .endl() + "// "
                .endl() + "// vertex shader " + this._name
                .endl() + "// "
                .endl() + "#define WEBGL1"
                .endl() + "#define texture texture2D"
                .endl() + "#define OUT varying"
                .endl() + "#define IN attribute"
                .endl() + "#define UNI uniform"
                .endl();
        }

        let uniformsStrVert = "\n// cgl generated".endl();
        let uniformsStrFrag = "\n// cgl generated".endl();


        fs += "\n// active mods: --------------- ";
        vs += "\n// active mods: --------------- ";

        let foundModsFrag = false;
        let foundModsVert = false;
        for (let i = 0; i < this._moduleNames.length; i++)
        {
            for (let j = 0; j < this._modules.length; j++)
            {
                if (this._modules[j].name == this._moduleNames[i])
                {
                    if (this._modules[j].srcBodyFrag || this._modules[j].srcHeadFrag)
                    {
                        foundModsFrag = true;
                        fs += "\n// " + i + "." + j + ". " + this._modules[j].title + " (" + this._modules[j].name + ")";
                    }
                    if (this._modules[j].srcBodyVert || this._modules[j].srcHeadVert)
                    {
                        vs += "\n// " + i + "." + j + ". " + this._modules[j].title + " (" + this._modules[j].name + ")";
                        foundModsVert = true;
                    }
                }
            }
        }
        if (!foundModsVert)fs += "\n// no mods used...";
        if (!foundModsFrag)fs += "\n// no mods used...";
        fs += "\n";
        vs += "\n";

        for (let i = 0; i < this._uniforms.length; i++)
        {
            if (this._uniforms[i].shaderType && !this._uniforms[i].isStructMember())
            {
                let uniStr = "";
                if (!this._uniforms[i].getGlslTypeString())uniStr += "// ";
                uniStr += "UNI " + this._uniforms[i].getGlslTypeString() + " " + this._uniforms[i].getName();
                let comment = "";
                if (this._uniforms[i].comment) comment = " // " + this._uniforms[i].comment;

                if (this._uniforms[i].shaderType == "vert" || this._uniforms[i].shaderType == "both")
                    if (!this.srcVert.contains(uniStr) && !this.srcVert.contains("uniform " + this._uniforms[i].getGlslTypeString() + " " + this._uniforms[i].getName()))
                        uniformsStrVert += uniStr + ";" + comment.endl();

                if (this._uniforms[i].shaderType == "frag" || this._uniforms[i].shaderType == "both")
                    if (!this.srcFrag.contains(uniStr) && !this.srcFrag.contains("uniform " + this._uniforms[i].getGlslTypeString() + " " + this._uniforms[i].getName()))
                        uniformsStrFrag += uniStr + ";" + comment.endl();
            }
        }


        let countUniFrag = 0;
        let countUniVert = 0;
        for (let i = 0; i < this._uniforms.length; i++)
        {
            if (this._uniforms[i].shaderType && !this._uniforms[i].isStructMember())
            {
                if (this._uniforms[i].shaderType == "vert" || this._uniforms[i].shaderType == "both") countUniVert++;
                if (this._uniforms[i].shaderType == "frag" || this._uniforms[i].shaderType == "both") countUniFrag++;
            }
        }
        if (countUniFrag >= this._cgl.maxUniformsFrag) this._log.warn("[cgl_shader] num uniforms frag: " + countUniFrag + " / " + this._cgl.maxUniformsFrag);
        if (countUniVert >= this._cgl.maxUniformsVert) this._log.warn("[cgl_shader] num uniforms vert: " + countUniVert + " / " + this._cgl.maxUniformsVert);


        if (!fs.contains("precision")) fs = "precision " + this.precision + " float;".endl() + fs;
        if (!vs.contains("precision")) vs = "precision " + this.precision + " float;".endl() + vs;
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
        {
            fs += "#define MOBILE".endl();
            vs += "#define MOBILE".endl();
        }
        vs = extensionString + vs + definesStr + structStrings[0] + uniformsStrVert + "\n// -- \n" + this.srcVert;
        fs = extensionString + fs + definesStr + structStrings[1] + uniformsStrFrag + "\n// -- \n" + this.srcFrag;


        let srcHeadVert = "";
        let srcHeadFrag = "";

        this._modules.sort(function (a, b)
        {
            return a.group - b.group;
        });

        this._modules.sort(function (a, b)
        {
            return a.priority || 0 - b.priority || 0;
        });


        let addedAttribs = false;

        for (let i = 0; i < this._moduleNames.length; i++)
        {
            let srcVert = "";
            let srcFrag = "";

            if (!addedAttribs)
            {
                addedAttribs = true;

                for (let k = 0; k < this._attributes.length; k++)
                {
                    const r = this._getAttrSrc(this._attributes[k], true);
                    if (r.srcHeadVert)srcHeadVert += r.srcHeadVert;
                    if (r.srcVert)srcVert += r.srcVert;
                    if (r.srcHeadFrag)srcHeadFrag += r.srcHeadFrag;
                }
            }

            for (let j = 0; j < this._modules.length; j++)
            {
                const mod = this._modules[j];
                if (mod.name == this._moduleNames[i])
                {
                    srcHeadVert += "\n//---- MOD: group:" + mod.group + ": idx:" + j + " - prfx:" + mod.prefix + " - " + mod.title + " ------\n";
                    srcHeadFrag += "\n//---- MOD: group:" + mod.group + ": idx:" + j + " - prfx:" + mod.prefix + " - " + mod.title + " ------\n";

                    srcVert += "\n\n//---- MOD: " + mod.title + " / " + mod.priority + " ------\n";
                    srcFrag += "\n\n//---- MOD: " + mod.title + " / " + mod.priority + " ------\n";

                    if (mod.attributes)
                        for (let k = 0; k < mod.attributes.length; k++)
                        {
                            const r = this._getAttrSrc(mod.attributes[k], false);
                            if (r.srcHeadVert)srcHeadVert += r.srcHeadVert;
                            if (r.srcVert)srcVert += r.srcVert;
                            if (r.srcHeadFrag)srcHeadFrag += r.srcHeadFrag;
                        }

                    srcHeadVert += mod.srcHeadVert || "";
                    srcHeadFrag += mod.srcHeadFrag || "";
                    srcVert += mod.srcBodyVert || "";
                    srcFrag += mod.srcBodyFrag || "";

                    srcHeadVert += "\n//---- end mod ------\n";
                    srcHeadFrag += "\n//---- end mod ------\n";

                    srcVert += "\n//---- end mod ------\n";
                    srcFrag += "\n//---- end mod ------\n";

                    srcVert = srcVert.replace(/{{mod}}/g, mod.prefix);
                    srcFrag = srcFrag.replace(/{{mod}}/g, mod.prefix);
                    srcHeadVert = srcHeadVert.replace(/{{mod}}/g, mod.prefix);
                    srcHeadFrag = srcHeadFrag.replace(/{{mod}}/g, mod.prefix);

                    srcVert = srcVert.replace(/MOD_/g, mod.prefix);
                    srcFrag = srcFrag.replace(/MOD_/g, mod.prefix);
                    srcHeadVert = srcHeadVert.replace(/MOD_/g, mod.prefix);
                    srcHeadFrag = srcHeadFrag.replace(/MOD_/g, mod.prefix);
                }
            }


            vs = vs.replace("{{" + this._moduleNames[i] + "}}", srcVert);
            fs = fs.replace("{{" + this._moduleNames[i] + "}}", srcFrag);
        }
        vs = vs.replace("{{MODULES_HEAD}}", srcHeadVert);
        fs = fs.replace("{{MODULES_HEAD}}", srcHeadFrag);


        vs = this._addLibs(vs);
        fs = this._addLibs(fs);


        // SETUP draw buffers / multi texture render targets

        let drawBufferStr = "";
        for (let i = 0; i < 16; i++)
            if (fs.contains("outColor" + i)) this._drawBuffers[i] = true;

        if (this._drawBuffers.length == 1)
        {
            drawBufferStr = "out vec4 outColor;".endl();
            drawBufferStr += "#define gl_FragColor outColor".endl();
        }
        else
        {
            drawBufferStr += "#define MULTI_COLORTARGETS".endl();
            drawBufferStr += "vec4 outColor;".endl();

            let count = 0;
            for (let i = 0; i < this._drawBuffers.length; i++)
            {
                if (count == 0) drawBufferStr += "#define gl_FragColor outColor" + i + "".endl();
                drawBufferStr += "layout(location = " + i + ") out vec4 outColor" + i + ";".endl();
                count++;
            }
        }

        fs = fs.replace("{{DRAWBUFFER}}", drawBufferStr);
        // //////


        if (!this._program)
        {
            this._program = this._createProgram(vs, fs);
        }
        else
        {
            // this.vshader=createShader(vs, gl.VERTEX_SHADER, this.vshader );
            // this.fshader=createShader(fs, gl.FRAGMENT_SHADER, this.fshader );
            // linkProgram(program);
            this._program = this._createProgram(vs, fs);

            this._projMatrixUniform = null;

            for (let i = 0; i < this._uniforms.length; i++) this._uniforms[i].resetLoc();
        }

        this.finalShaderFrag = fs;
        this.finalShaderVert = vs;


        MESH.lastMesh = null;
        MESH.lastShader = null;

        this._countMissingUniforms = 0;
        this._needsRecompile = false;
        this.lastCompile = now();

        // this._cgl.printError("shader compile");

        this._cgl.profileData.shaderCompileTime += performance.now() - startTime;
    };

    hasChanged()
    {
        return this._needsRecompile;
    }


    bind()
    {
        if (!this._isValid || this._cgl.aborted) return;

        MESH.lastShader = this;

        if (!this._program || this._needsRecompile) this.compile();
        if (!this._isValid) return;

        if (!this._projMatrixUniform && !this.ignoreMissingUniforms)
        {
            this._countMissingUniforms++;
            // if (this._countMissingUniforms == 10)console.log("stopping getlocation of missing uniforms...", this._name);
            if (this._countMissingUniforms < 10)
            {
                this._projMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_PROJMAT);
                this._attrVertexPos = this._cgl.glGetAttribLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_VERTEX_POSITION);
                this._mvMatrixUniform = this._cgl.gl.getUniformLocation(this._program, "mvMatrix");
                this._vMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_VIEWMAT);
                this._mMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_MODELMAT);
                this._camPosUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_VIEWPOS);
                this._normalMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_NORMALMAT);
                this._inverseViewMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_INVVIEWMAT);
                this._inverseProjMatrixUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_INVPROJMAT);
                this._materialIdUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_MATERIALID);
                this._objectIdUniform = this._cgl.gl.getUniformLocation(this._program, constants_CONSTANTS.SHADER.SHADERVAR_UNI_OBJECTID);

                for (let i = 0; i < this._uniforms.length; i++) this._uniforms[i].needsUpdate = true;
            }
        }


        if (this._cgl.currentProgram != this._program)
        {
            this._cgl.profileData.profileShaderBinds++;
            this._cgl.gl.useProgram(this._program);
            this._cgl.currentProgram = this._program;
        }

        for (let i = 0; i < this._uniforms.length; i++)
            if (this._uniforms[i].needsUpdate) this._uniforms[i].updateValue();

        if (this._pMatrixState != this._cgl.getProjectionMatrixStateCount())
        {
            this._pMatrixState = this._cgl.getProjectionMatrixStateCount();
            this._cgl.gl.uniformMatrix4fv(this._projMatrixUniform, false, this._cgl.pMatrix);
            this._cgl.profileData.profileMVPMatrixCount++;
        }

        if (this._objectIdUniform)
            this._cgl.gl.uniform1f(this._objectIdUniform, ++this._cgl.frameStore.objectIdCounter);

        if (this._materialIdUniform)
            this._cgl.gl.uniform1f(this._materialIdUniform, this._materialId);

        if (this._vMatrixUniform)
        {
            if (this._vMatrixState != this._cgl.getViewMatrixStateCount())
            {
                this._cgl.gl.uniformMatrix4fv(this._vMatrixUniform, false, this._cgl.vMatrix);
                this._cgl.profileData.profileMVPMatrixCount++;
                this._vMatrixState = this._cgl.getViewMatrixStateCount();

                if (this._inverseViewMatrixUniform)
                {
                    mat4.invert(this._tempInverseViewMatrix, this._cgl.vMatrix);
                    this._cgl.gl.uniformMatrix4fv(this._inverseViewMatrixUniform, false, this._tempInverseViewMatrix);
                    this._cgl.profileData.profileMVPMatrixCount++;
                }
                if (this._inverseProjMatrixUniform)
                {
                    mat4.invert(this._tempInverseProjMatrix, this._cgl.pMatrix);
                    this._cgl.gl.uniformMatrix4fv(this._inverseProjMatrixUniform, false, this._tempInverseProjMatrix);
                    this._cgl.profileData.profileMVPMatrixCount++;
                }
            }
            this._cgl.gl.uniformMatrix4fv(this._mMatrixUniform, false, this._cgl.mMatrix);
            this._cgl.profileData.profileMVPMatrixCount++;

            if (this._camPosUniform)
            {
                mat4.invert(this._tempCamPosMatrix, this._cgl.vMatrix);
                this._cgl.gl.uniform3f(this._camPosUniform, this._tempCamPosMatrix[12], this._tempCamPosMatrix[13], this._tempCamPosMatrix[14]);
                this._cgl.profileData.profileMVPMatrixCount++;
            }
        }
        else
        {
            // mvmatrix deprecated....
            const tempmv = mat4.create();

            mat4.mul(tempmv, this._cgl.vMatrix, this._cgl.mMatrix);
            this._cgl.gl.uniformMatrix4fv(this._mvMatrixUniform, false, tempmv);
            this._cgl.profileData.profileMVPMatrixCount++;
        }

        if (this._normalMatrixUniform)
        {
            // mat4.mul(this._tempNormalMatrix, this._cgl.vMatrix, this._cgl.mMatrix);
            mat4.invert(this._tempNormalMatrix, this._cgl.mMatrix);
            mat4.transpose(this._tempNormalMatrix, this._tempNormalMatrix);

            this._cgl.gl.uniformMatrix4fv(this._normalMatrixUniform, false, this._tempNormalMatrix);
            this._cgl.profileData.profileMVPMatrixCount++;
        }

        for (let i = 0; i < this._libs.length; i++)
        {
            if (this._libs[i].onBind) this._libs[i].onBind.bind(this._libs[i])(this._cgl, this);
        }

        this._bindTextures();

        return this._isValid;
    };

    unBind()
    {
    };

    /**
     * remove a module from shader
     * @function removeModule
     * @memberof Shader
     * @instance
     * @param {shaderModule} mod the module to be removed
     */
    removeModule(mod)
    {
        for (let i = 0; i < this._modules.length; i++)
        {
            if (mod && mod.id)
            {
                if (this._modules[i].id == mod.id || !this._modules[i])
                {
                    let found = true;
                    while (found)
                    {
                        found = false;
                        for (let j = 0; j < this._uniforms.length; j++)
                        {
                            if (this._uniforms[j].getName().startsWith(mod.prefix))
                            {
                                this._uniforms.splice(j, 1);
                                found = true;
                                continue;
                            }
                        }
                    }

                    this._needsRecompile = true;
                    this.setWhyCompile("remove module " + mod.title);
                    this._modules.splice(i, 1);
                    break;
                }
            }
        }
    };


    getNumModules()
    {
        return this._modules.length;
    };


    getCurrentModules() { return this._modules; };


    /**
     * add a module
     * @function addModule
     * @memberof Shader
     * @instance
     * @param {shaderModule} mod the module to be added
     * @param {shaderModule} [sibling] sibling module, new module will share the same group
     */
    addModule(mod, sibling)
    {
        if (this.hasModule(mod.id)) return;
        if (!mod.id) mod.id = CABLES.simpleId();
        if (!mod.numId) mod.numId = this._moduleNumId;
        if (!mod.num)mod.num = this._modules.length;
        if (sibling && !sibling.group) sibling.group = simpleId();

        if (!mod.group)
            if (sibling) mod.group = sibling.group;
            else mod.group = simpleId();

        mod.prefix = "mod" + mod.group + "_";
        this._modules.push(mod);

        this._needsRecompile = true;
        this.setWhyCompile("add module " + mod.title);
        this._moduleNumId++;

        return mod;
    };

    hasModule(modId)
    {
        for (let i = 0; i < this._modules.length; i++)
        {
            if (this._modules[i].id == modId) return true;
        }
        return false;
    };

    setModules(names)
    {
        this._moduleNames = names;
    };

    dispose()
    {
        this._cgl.gl.deleteProgram(this._program);
    };

    needsRecompile()
    {
        return this._needsRecompile;
    };

    setDrawBuffers(arr)
    {
        console.log("useless drawbuffers...?!");
        // if (this._drawBuffers.length !== arr.length)
        // {
        //     this._drawBuffers = arr;
        //     this._needsRecompile = true;
        //     this.setWhyCompile("setDrawBuffers");
        //     return;
        // }
        // for (let i = 0; i < arr.length; i++)
        // {
        //     if (arr[i] !== this._drawBuffers[i])
        //     {
        //         this._drawBuffers = arr;
        //         this._needsRecompile = true;
        //         this.setWhyCompile("setDrawBuffers");
        //         return;
        //     }
        // }
    };

    getUniforms()
    {
        return this._uniforms;
    };

    getUniform(name)
    {
        for (let i = 0; i < this._uniforms.length; i++)
            if (this._uniforms[i].getName() == name)
                return this._uniforms[i];
        return null;
    };

    removeAllUniforms()
    {
        this._uniforms = [];
        // for (let i = 0; i < this._uniforms.length; i++)
        //     this.removeUniform(this._uniforms[i].name);
    };

    removeUniform(name)
    {
        for (let i = 0; i < this._uniforms.length; i++)
        {
            if (this._uniforms[i].getName() == name)
            {
                this._uniforms.splice(i, 1);
            }
        }
        this._needsRecompile = true;
        this.setWhyCompile("remove uniform " + name);
    };


    _addUniform(uni)
    {
        this._uniforms.push(uni);
        this.setWhyCompile("add uniform " + name);
        this._needsRecompile = true;
    };

    /**
     * add a uniform to the fragment shader
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniformFrag
     * @returns {CGL.Uniform}
     */
    addUniformFrag(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new CGL.Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "frag";
        return uni;
    };

    /**
     * add a uniform to the vertex shader
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniformVert
     * @returns {CGL.Uniform}
     */
    addUniformVert(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new CGL.Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "vert";
        return uni;
    };
    /**
     * add a uniform to both shaders
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniformBoth
     * @returns {CGL.Uniform}
     */
    addUniformBoth(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new CGL.Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "both";
        return uni;
    };

    /**
     * add a struct & its uniforms to the fragment shader
     * @param {String} structName name of the struct, i.e.: LightStruct
     * @param {String} uniformName name of the struct uniform in the shader, i.e.: lightUni
     * @param {Array} members array of objects containing the struct members. see example for structure

     * @memberof Shader
     * @instance
     * @function addUniformStructFrag
     * @returns {Object}
     * @example
     * const shader = new CGL.Shader(cgl, 'MinimalMaterial');
     * shader.setSource(attachments.shader_vert, attachments.shader_frag);
     * shader.addUniformStructFrag("Light", "uniformLight", [
     * { "type": "3f", "name": "position", "v1": null },
     * { "type": "4f", "name": "color", "v1": inR, v2: inG, v3: inB, v4: inAlpha }
     * ]);
     */
    addUniformStructFrag(structName, uniformName, members)
    {
        const uniforms = {};

        if (!members) return uniforms;

        for (let i = 0; i < members.length; i += 1)
        {
            const member = members[i];
            if (!this.hasUniform(uniformName + "." + member.name))
            {
                const uni = new CGL.Uniform(this, member.type, uniformName + "." + member.name, member.v1, member.v2, member.v3, member.v4, uniformName, structName, member.name);
                uni.shaderType = "frag";
                uniforms[uniformName + "." + member.name] = uni;
            }
        }

        return uniforms;
    };

    /**
     * add a struct & its uniforms to the vertex shader
     * @param {String} structName name of the struct, i.e.: LightStruct
     * @param {String} uniformName name of the struct uniform in the shader, i.e.: lightUni
     * @param {Array} members array of objects containing the struct members. see example for structure

     * @memberof Shader
     * @instance
     * @function addUniformStructVert
     * @returns {CGL.Uniform}
     * @example
     * const shader = new CGL.Shader(cgl, 'MinimalMaterial');
     * shader.setSource(attachments.shader_vert, attachments.shader_frag);
     * shader.addUniformStructVert("Light", "uniformLight", [
     * { "type": "3f", "name": "position", "v1": null },
     * { "type": "4f", "name": "color", "v1": inR, v2: inG, v3: inB, v4: inAlpha }
     * ]);
     */
    addUniformStructVert(structName, uniformName, members)
    {
        const uniforms = {};

        if (!members) return uniforms;

        for (let i = 0; i < members.length; i += 1)
        {
            const member = members[i];
            if (!this.hasUniform(uniformName + "." + member.name))
            {
                const uni = new CGL.Uniform(this, member.type, uniformName + "." + member.name, member.v1, member.v2, member.v3, member.v4, uniformName, structName, member.name);
                uni.shaderType = "vert";
                uniforms[uniformName + "." + member.name] = uni;
            }
        }

        return uniforms;
    };

    /**
     * add a struct & its uniforms to the both shaders. PLEASE NOTE: it is not possible to add the same struct to both shaders when it contains ANY integer members.
     * @param {String} structName name of the struct, i.e.: LightStruct
     * @param {String} uniformName name of the struct uniform in the shader, i.e.: lightUni
     * @param {Array} members array of objects containing the struct members. see example for structure

     * @memberof Shader
     * @instance
     * @function addUniformStructBoth
     * @returns {Object}
     * @example
     * const shader = new CGL.Shader(cgl, 'MinimalMaterial');
     * shader.setSource(attachments.shader_vert, attachments.shader_frag);
     * shader.addUniformStructBoth("Light", "uniformLight", [
     * { "type": "3f", "name": "position", "v1": null },
     * { "type": "4f", "name": "color", "v1": inR, v2: inG, v3: inB, v4: inAlpha }
     * ]);
     */
    addUniformStructBoth(structName, uniformName, members)
    {
        const uniforms = {};

        if (!members) return uniforms;

        for (let i = 0; i < members.length; i += 1)
        {
            const member = members[i];
            if ((member.type === "2i" || member.type === "i" || member.type === "3i"))
                this._log.error("Adding an integer struct member to both shaders can potentially error. Please use different structs for each shader. Error occured in struct:", structName, " with member:", member.name, " of type:", member.type, ".");
            if (!this.hasUniform(uniformName + "." + member.name))
            {
                const uni = new CGL.Uniform(this, member.type, uniformName + "." + member.name, member.v1, member.v2, member.v3, member.v4, uniformName, structName, member.name);
                uni.shaderType = "both";
                uniforms[uniformName + "." + member.name] = uni;
            }
        }

        return uniforms;
    };

    hasUniform(name)
    {
        for (let i = 0; i < this._uniforms.length; i++)
        {
            if (this._uniforms[i].getName() == name) return true;
        }
        return false;
    };

    _createProgram(vstr, fstr)
    {
        this._cgl.printError("before _createprogram");

        const program = this._cgl.gl.createProgram();

        this.vshader = Shader.createShader(this._cgl, vstr, this._cgl.gl.VERTEX_SHADER, this);
        this.fshader = Shader.createShader(this._cgl, fstr, this._cgl.gl.FRAGMENT_SHADER, this);


        if (this.vshader && this.fshader)
        {
            this._cgl.gl.attachShader(program, this.vshader);
            this._cgl.gl.attachShader(program, this.fshader);

            this._linkProgram(program, vstr, fstr);
        }
        else
        {
            this._isValid = false;
            this._cgl.printError("shader _createProgram");
            this._log.error("could not link shaderprogram");
            return null;
        }

        this._cgl.printError("shader _createProgram");
        return program;
    };

    hasErrors()
    {
        return this._hasErrors;
    };

    _linkProgram(program, vstr, fstr)
    {
        this._cgl.printError("before _linkprogram");

        if (this._feedBackNames.length > 0)
        {
            this._cgl.gl.transformFeedbackVaryings(program, this._feedBackNames, this._cgl.gl.SEPARATE_ATTRIBS);
            // INTERLEAVED_ATTRIBS
            // SEPARATE_ATTRIBS
        }

        this._cgl.gl.linkProgram(program);
        this._cgl.printError("gl.linkprogram");
        this._isValid = true;

        this._hasErrors = false;

        if (this._cgl.patch.config.glValidateShader !== false)
        {
            this._cgl.gl.validateProgram(program);

            if (!this._cgl.gl.getProgramParameter(program, this._cgl.gl.VALIDATE_STATUS))
            {
                // validation failed
                console.log("shaderprogram validation failed...");
                console.log(this._name + " programinfo: ", this._cgl.gl.getProgramInfoLog(program));
            }

            if (!this._cgl.gl.getProgramParameter(program, this._cgl.gl.LINK_STATUS))
            {
                this._hasErrors = true;

                const infoLogFrag = this._cgl.gl.getShaderInfoLog(this.fshader);
                const infoLogVert = this._cgl.gl.getShaderInfoLog(this.vshader);

                if (infoLogFrag) this._log.warn(this._cgl.gl.getShaderInfoLog(this.fshader));
                if (infoLogVert) this._log.warn(this._cgl.gl.getShaderInfoLog(this.vshader));

                this._log.error(this._name + " shader linking fail...");

                console.log(this._name + " programinfo: ", this._cgl.gl.getProgramInfoLog(program));
                console.log(this);
                this._isValid = false;

                this._name = "errorshader";
                this.setSource(Shader.getDefaultVertexShader(), Shader.getErrorFragmentShader());
                this._cgl.printError("shader link err");
            }
        }
    };

    getProgram()
    {
        return this._program;
    };

    setFeedbackNames(names)
    {
        this.setWhyCompile("setFeedbackNames");
        this._needsRecompile = true;
        this._feedBackNames = names;
    };

    // getDefaultVertexShader()
    // {
    //     return defaultShaderSrcVert;
    // }

    // getDefaultFragmentShader()
    // {
    //     return this.getDefaultFragmentShader()
    // }


    /**
      * adds attribute definition to shader header without colliding with other shader modules...
     * when attrFrag is defined, vertex shader will output this attribute to the fragment shader
     * @function
     * @memberof Shader
     * @instance
     * @param {Object} attr {type:x,name:x,[nameFrag:x]}
     * @return {Object}
     */
    addAttribute = function (attr)
    {
        for (let i = 0; i < this._attributes.length; i++)
        {
            if (this._attributes[i].name == attr.name && this._attributes[i].nameFrag == attr.nameFrag) return;
        }
        this._attributes.push(attr);
        this._needsRecompile = true;
        this.setWhyCompile("addAttribute");
    };

    bindTextures()
    {
        this._bindTextures();
    }
    _bindTextures()
    {
        if (this._textureStackTex.length > this._cgl.maxTextureUnits)
        {
            this._log.warn("[shader._bindTextures] too many textures bound", this._textureStackTex.length + "/" + this._cgl.maxTextureUnits);
        }

        // for (let i = this._textureStackTex.length + 1; i < this._cgl.maxTextureUnits; i++) this._cgl.setTexture(i, null);

        for (let i = 0; i < this._textureStackTex.length; i++)
        {
            // console.log(this._textureStackTex.length, i);
            if (!this._textureStackTex[i] && !this._textureStackTexCgl[i])
            {
                this._log.warn("no texture for pushtexture", this._name);
            }
            else
            {
                let t = this._textureStackTex[i];
                if (this._textureStackTexCgl[i])
                {
                    t = this._textureStackTexCgl[i].tex || CGL.Texture.getEmptyTexture(this._cgl).tex;
                }

                let bindOk = true;

                if (!this._textureStackUni[i])
                {
                    // throw(new Error('no uniform given to texturestack'));
                    this._log.warn("no uniform for pushtexture", this._name);
                    bindOk = this._cgl.setTexture(i, t, this._textureStackType[i]);
                }
                else
                {
                    this._textureStackUni[i].setValue(i);
                    bindOk = this._cgl.setTexture(i, t, this._textureStackType[i]);

                    // console.log(bindOk, i, t, this._textureStackType[i]);
                }
                if (!bindOk) console.warn("tex bind failed", this.getName(), this._textureStackUni[i]);
            }
        }
    };

    setUniformTexture = function (uni, tex)
    {
        tex = tex || CGL.Texture.getTempTexture(this._cgl);
        for (let i = 0; i < this._textureStackUni.length; i++)
            if (this._textureStackUni[i] == uni)
            {
                const old = this._textureStackTex[i] || this._textureStackTexCgl[i];
                if (tex.hasOwnProperty("tex"))
                {
                    this._textureStackTexCgl[i] = tex;
                    this._textureStackTex[i] = null;
                }
                else
                {
                    this._textureStackTexCgl[i] = null;
                    this._textureStackTex[i] = tex;
                }

                // this._textureStackTex[i] = tex;
                // this._cgl.setTexture(i, tex, this._textureStackType[i]);
                return old;
            }
        return null;
    };

    /**
     * push a texture on the stack. those textures will be bound when binding the shader. texture slots are automatically set
     * @param {uniform} uniform texture uniform
     * @param {texture} t texture
     * @param {type} type texture type, can be ignored when TEXTURE_2D
     * @function pushTexture
     * @memberof Shader
     * @instance
     */
    pushTexture = function (uniform, t, type)
    {
        if (!uniform)
        {
            console.log("no uniform given to texturestack", uniform);
            return;
        }
        if (!t)
        {
            console.log("no tex...");
            return;
        }
        if (!t.hasOwnProperty("tex") && !(t instanceof WebGLTexture))
        {
            this._log.warn(new Error("invalid texture").stack);

            this._log.warn("[cgl_shader] invalid texture...", t);
            return;
        }

        this._textureStackUni.push(uniform);

        if (t.hasOwnProperty("tex"))
        {
            this._textureStackTexCgl.push(t);
            this._textureStackTex.push(null);
        }
        else
        {
            this._textureStackTexCgl.push(null);
            this._textureStackTex.push(t);
        }

        this._textureStackType.push(type);
    };

    /**
     * pop last texture
     * @function popTexture
     * @memberof Shader
     * @instance
     */
    popTexture = function ()
    {
        this._textureStackUni.pop();
        this._textureStackTex.pop();
        this._textureStackTexCgl.pop();
        this._textureStackType.pop();
    };

    /**
     * pop all textures
     * @function popTextures
     * @memberof Shader
     * @instance
     */
    popTextures = function ()
    {
        this._textureStackTex.length =
        this._textureStackTexCgl.length =
        this._textureStackType.length =
        this._textureStackUni.length = 0;
    };

    getMaterialId()
    {
        return this._materialId;
    };

    getInfo()
    {
        const info = {};
        info.name = this._name;
        // info.modules = JSON.parse(JSON.stringify(this._modules));
        // info.defines = JSON.parse(JSON.stringify(this._defines));
        info.defines = this.getDefines();
        info.hasErrors = this.hasErrors();

        return info;
    };


    getDefaultFragmentShader=function(r,g,b,a)
    {
        return getDefaultFragmentShader(r,g,b,a);
    }

    getDefaultVertexShader=function()
    {
        return getDefaultVertexShader();
    }


}

























// --------------------------

Shader.getDefaultVertexShader=getDefaultVertexShader;
Shader.getDefaultFragmentShader=getDefaultFragmentShader;


Shader.getErrorFragmentShader = function ()
{
    return ""
        .endl() + "void main()"
        .endl() + "{"
        .endl() + "   float g=mod((gl_FragCoord.y+gl_FragCoord.x),50.0)/50.0;"
        .endl() + "   g= step(0.1,g);"
        .endl() + "   outColor = vec4( g+0.5, 0.0, 0.0, 1.0);"
        .endl() + "}";
};

Shader.createShader = function (cgl, str, type, cglShader)
{
    if (cgl.aborted) return;

    // cgl.printError("[Shader.createShader] ", cglShader._name);

    function getBadLines(infoLog)
    {
        const basLines = [];
        const lines = infoLog.split("\n");
        for (const i in lines)
        {
            const divide = lines[i].split(":");
            if (parseInt(divide[2], 10)) basLines.push(parseInt(divide[2], 10));
        }
        return basLines;
    }


    const shader = cgl.gl.createShader(type);
    cgl.gl.shaderSource(shader, str);
    cgl.gl.compileShader(shader);

    if (!cgl.gl.getShaderParameter(shader, cgl.gl.COMPILE_STATUS))
    {
        let infoLog = cgl.gl.getShaderInfoLog(shader);
        if (!infoLog)
        {
            console.warn("empty shader info log", this._name);
            return;
        }


        const badLines = getBadLines(infoLog);
        let htmlWarning = "<pre style=\"margin-bottom:0px;\"><code class=\"shaderErrorCode language-glsl\" style=\"padding-bottom:0px;max-height: initial;max-width: initial;\">";
        const lines = str.match(/^.*((\r\n|\n|\r)|$)/gm);

        if (!cgl.aborted && infoLog)
        {
            if (type == cgl.gl.VERTEX_SHADER) console.log("VERTEX_SHADER");
            if (type == cgl.gl.FRAGMENT_SHADER) console.log("FRAGMENT_SHADER");

            for (const i in lines)
            {
                const j = parseInt(i, 10) + 1;
                const line = j + ": " + lines[i];

                let isBadLine = false;
                for (const bj in badLines)
                    if (badLines[bj] == j) isBadLine = true;

                if (isBadLine)
                {
                    htmlWarning += "</code></pre>";
                    htmlWarning += "<pre style=\"margin:0\"><code class=\"language-glsl\" style=\"background-color:#660000;padding-top:0px;padding-bottom:0px\">";

                    cglShader._log.log("bad line: `" + line + "`");
                }
                htmlWarning += escapeHTML(line);

                if (isBadLine)
                {
                    htmlWarning += "</code></pre>";
                    htmlWarning += "<pre style=\"margin:0\"><code class=\"language-glsl\" style=\";padding-top:0px;padding-bottom:0px\">";
                }
            }
        }

        infoLog = infoLog.replace(/\n/g, "<br/>");
        if (cgl.patch.isEditorMode())console.log("Shader error ", cglShader._name, infoLog, this);

        htmlWarning = infoLog + "<br/>" + htmlWarning + "<br/><br/>";
        htmlWarning += "</code></pre>";

        if (this._fromUserInteraction)
        {
            // console.log("todo show modal?");
            // cgl.patch.emitEvent("criticalError", { "title": "Shader error " + cglShader._name, "text": htmlWarning, "exception": { "message": infoLog } });
        }

        cglShader.setSource(Shader.getDefaultVertexShader(), Shader.getErrorFragmentShader());
    }
    else
    {
        // console.log(name+' shader compiled...');
    }
    // cgl.printError("shader create2");
    return shader;
};













;// CONCATENATED MODULE: ./src/core/cgl/cgl_profiledata.js
class ProfileData
{
    constructor(cgl)
    {
        this._cgl = cgl;
        this._lastTime = 0;
        this.pause = false;
        this.profileUniformCount = 0;
        this.profileShaderBinds = 0;
        this.profileUniformCount = 0;
        this.profileShaderCompiles = 0;
        this.profileVideosPlaying = 0;
        this.profileMVPMatrixCount = 0;
        this.profileEffectBuffercreate = 0;
        this.profileShaderGetUniform = 0;
        this.profileFrameBuffercreate = 0;
        this.profileMeshSetGeom = 0;
        this.profileTextureNew = 0;
        this.profileGenMipMap = 0;
        this.profileOnAnimFrameOps = 0;

        this.profileFencedPixelRead = 0;
        this.profileMainloopMs = 0;
        this.profileMeshDraw = 0;
        this.profileTextureEffect = 0;
        this.profileTexPreviews = 0;
        this.shaderCompileTime = 0;
        this.profileMeshNumElements = 0;
        this.profileMeshAttributes = 0;
        this.profileSingleMeshAttribute = [];
        this.heavyEvents = [];

        this.doProfileGlQuery = false;
        this.glQueryData = {};
    }

    clear()
    {
        this.profileSingleMeshAttribute = {};
        this.profileMeshAttributes = 0;
        this.profileUniformCount = 0;
        this.profileShaderGetUniform = 0;
        this.profileShaderCompiles = 0;
        this.profileShaderBinds = 0;
        this.profileTextureResize = 0;
        this.profileFrameBuffercreate = 0;
        this.profileEffectBuffercreate = 0;
        this.profileTextureDelete = 0;
        this.profileMeshSetGeom = 0;
        this.profileVideosPlaying = 0;
        this.profileMVPMatrixCount = 0;
        this.profileNonTypedAttrib = 0;
        this.profileNonTypedAttribNames = "";
        this.profileTextureNew = 0;
        this.profileGenMipMap = 0;
        this.profileFramebuffer = 0;
        this.profileMeshDraw = 0;
        this.profileTextureEffect = 0;
        this.profileTexPreviews = 0;
        this.profileMeshNumElements = 0;
        this.profileFencedPixelRead = 0;
    }

    clearGlQuery()
    {
        for (let i in this.glQueryData)
        {
            if (!this.glQueryData[i].lastClear || performance.now() - this.glQueryData[i].lastClear > 1000)
            {
                this.glQueryData[i].time = this.glQueryData[i]._times / this.glQueryData[i]._numcount;
                this.glQueryData[i].num = this.glQueryData[i]._numcount;

                this.glQueryData[i]._times = 0;
                this.glQueryData[i]._numcount = 0;
                this.glQueryData[i].lastClear = performance.now();
            }
        }
    }

    addHeavyEvent(event, name, info)
    {
        const e = { "event": event, "name": name, "info": info, "date": performance.now() };
        this.heavyEvents.push(e);
        this._cgl.emitEvent("heavyEvent", e);
    }
}




;// CONCATENATED MODULE: ../shared/client/src/helper.js
/**
 * Shared helper methods for cables uis
 */
class Helper
{
    constructor()
    {
        this._simpleIdCounter = 0;
    }


    /**
     * generate a random v4 uuid
     *
     * @return {string}
     */
    uuid()
    {
        let d = new Date().getTime();
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) =>
        {
            const r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c === "x" ? r : (r & 0x3) | 0x8).toString(16);
        });
    }

    /**
     * checks value for !isNan and isFinite
     *
     * @param n
     * @return {boolean}
     */
    isNumeric(n)
    {
        return !isNaN(parseFloat(n)) && isFinite(n);
    }

    /**
     * generate a simple ID using an internal counter
     *
     * @return {Number} new id
     * @static
     */
    simpleId()
    {
        this._simpleIdCounter++;
        return this._simpleIdCounter;
    }

    deletePropertyByPath(obj, path)
    {
        if (!obj || !path)
        {
            return;
        }

        if (typeof path === "string")
        {
            path = path.split(".");
        }

        for (let i = 0; i < path.length - 1; i++)
        {
            obj = obj[path[i]];

            if (typeof obj === "undefined")
            {
                return;
            }
        }

        delete obj[path.pop()];
    }
}
/* harmony default export */ const helper = (new Helper());

;// CONCATENATED MODULE: ../shared/client/src/eventtarget.js



/**
 * add eventlistener functionality to classes
 */
class Events
{
    constructor()
    {
        this._log = new Logger("eventtarget");
        this._eventCallbacks = {};
        this._logName = "";
        this._logEvents = false;
        this._listeners = {};

        this.on = this.addEventListener;
        this.off = this.removeEventListener;
    }

    /**
     * add event listener
     * @param which event name
     * @param cb callback
     * @param {string} idPrefix prefix for id, default empty
     * @return {string} event id
     */
    addEventListener(which, cb, idPrefix = "")
    {
        const event =
            {
                "id": (idPrefix || "") + helper.simpleId(),
                "name": which,
                "cb": cb,
            };
        if (!this._eventCallbacks[which]) this._eventCallbacks[which] = [event];
        else this._eventCallbacks[which].push(event);

        this._listeners[event.id] = event;

        return event.id;
    }

    /**
     * check event listener registration
     * @param id event id
     * @param cb callback - deprecated
     * @return {boolean}
     */
    hasEventListener(id, cb = null)
    {
        if (id && !cb)
        {
            // check by id
            return !!this._listeners[id];
        }
        else
        {
            this._log.warn("old eventtarget function haseventlistener!");
            if (id && cb)
            {
                if (this._eventCallbacks[id])
                {
                    const idx = this._eventCallbacks[id].indexOf(cb);
                    return idx !== -1;
                }
            }
        }
    }

    /**
     * check event listener by name
     * @param eventName event name
     * @return {boolean}
     */
    hasListenerForEventName(eventName)
    {
        return this._eventCallbacks[eventName] && this._eventCallbacks[eventName].length > 0;
    }

    /**
     * rempve event listener registration
     * @param id event id
     * @param cb callback - deprecated
     * @return
     */
    removeEventListener(id, cb = null)
    {
        if (id === null || id === undefined) return;

        if (!cb) // new style, remove by id, not by name/callback
        {
            const event = this._listeners[id];
            if (!event)
            {
                this._log.log("could not find event...", id, this);
                return;
            }

            let found = true;
            while (found)
            {
                found = false;
                let index = -1;
                for (let i = 0; i < this._eventCallbacks[event.name].length; i++)
                {
                    if (this._eventCallbacks[event.name][i].id.indexOf(id) === 0) // this._eventCallbacks[event.name][i].id == which ||
                    {
                        found = true;
                        index = i;
                    }
                }

                if (index !== -1)
                {
                    this._eventCallbacks[event.name].splice(index, 1);
                    delete this._listeners[id];
                }
            }

            return;
        }

        this._log.info("[eventtaget] ", "old function signature: removeEventListener! use listener id");
        this._log.log((new Error()).stack);

        let index = null;
        for (let i = 0; i < this._eventCallbacks[id].length; i++)
            if (this._eventCallbacks[id][i].cb === cb)
                index = i;

        if (index !== null)
        {
            delete this._eventCallbacks[index];
        }
        else this._log.warn("removeEventListener not found " + id);
    }

    /**
     * enable/disable logging of events for the class
     *
     * @param {boolean} enabled
     * @param {string} logName
     */
    logEvents(enabled, logName)
    {
        this._logEvents = enabled;
        this._logName = logName;
    }

    /**
     * emit event
     *
     * @param {string} which event name
     * @param {*} param1
     * @param {*} param2
     * @param {*} param3
     * @param {*} param4
     * @param {*} param5
     * @param {*} param6
     */
    emitEvent(which, param1 = null, param2 = null, param3 = null, param4 = null, param5 = null, param6 = null)
    {
        if (this._logEvents) this._log.log("[event] ", this._logName, which, this._eventCallbacks);

        if (this._eventCallbacks[which])
        {
            for (let i = 0; i < this._eventCallbacks[which].length; i++)
            {
                if (this._eventCallbacks[which][i])
                {
                    this._eventCallbacks[which][i].cb(param1, param2, param3, param4, param5, param6);
                }
            }
        }
        else
        {
            if (this._logEvents) this._log.log("[event] has no event callback", which, this._eventCallbacks);
        }
    }
}


;// CONCATENATED MODULE: ./src/core/cg/cg_canvas.js
class CgCanvas
{
    constructor(options)
    {
        if (!options)
        {
            console.error("CgCanvas no options");
        }
        else
        {
            this._canvasEle = options.canvasEle;
        }

        if (!options.cg)console.error("CgCanvas options has no cg");
        if (!options.canvasEle)console.error("CgCanvas options has no canvasEle");

        this._cg = options.cg;
        this.pixelDensity = 1;
        this.canvasWidth = this.canvasEle.clientWidth;
        this.canvasHeight = this.canvasEle.clientHeight;

        this._oldWidthRp = -1;
        this._oldHeightRp = -1;

        this.setSize(this.canvasWidth, this.canvasHeight);
    }

    get canvasEle() { return this._canvasEle; }


    setSize(w, h, ignorestyle)
    {
        if (this._oldWidthRp != w * this.pixelDensity || this._oldHeightRp != h * this.pixelDensity)
        {
            this._oldWidthRp = this.canvasEle.width = w * this.pixelDensity;
            this._oldHeightRp = this.canvasEle.height = h * this.pixelDensity;

            if (!ignorestyle)
            {
                this.canvasEle.style.width = w + "px";
                this.canvasEle.style.height = h + "px";
            }

            this.updateSize();

            this._cg.emitEvent("resize");
        }
    }

    updateSize()
    {
        this.canvasEle.width = this.canvasWidth = this.canvasEle.clientWidth * this.pixelDensity;
        this.canvasEle.height = this.canvasHeight = this.canvasEle.clientHeight * this.pixelDensity;
    }

    dispose()
    {
        this._canvasEle.remove();
        this._canvasEle = null;
    }
}



;// CONCATENATED MODULE: ./src/core/cg/cg_matrixstack.js

const MatrixStack = function ()
{
    this._arr = [mat4.create()];
    this._index = 0;
    this.stateCounter = 0;
};

MatrixStack.prototype.push = function (m)
{
    this._index++;
    this.stateCounter++;

    if (this._index == this._arr.length)
    {
        const copy = mat4.create();
        this._arr.push(copy);
    }

    mat4.copy(this._arr[this._index], m || this._arr[this._index - 1]);

    return this._arr[this._index];
};

MatrixStack.prototype.pop = function ()
{
    this.stateCounter++;

    this._index--;
    if (this._index < 0) this._index = 0;

    return this._arr[this._index];
};

MatrixStack.prototype.length = function ()
{
    return this._index;
};



;// CONCATENATED MODULE: ./src/core/cg/cg_state.js





// const CGState ()
class CGState extends Events
{
    constructor(_patch)
    {
        super();
        this.frameStore = this.frameStore || {};
        // this.canvas = null;

        this.fpsCounter = new CABLES.CG.FpsCounter();
        this._identView = vec3.create();
        this._ident = vec3.create();
        vec3.set(this._identView, 0, 0, -2);
        vec3.set(this._ident, 0, 0, 0);

        this.patch = _patch;
        this.autoReSize = true;

        this.DEPTH_COMPARE_FUNC_NEVER = 0;
        this.DEPTH_COMPARE_FUNC_LESS = 1;
        this.DEPTH_COMPARE_FUNC_EQUAL = 2;
        this.DEPTH_COMPARE_FUNC_LESSEQUAL = 3;
        this.DEPTH_COMPARE_FUNC_GREATER = 4;
        this.DEPTH_COMPARE_FUNC_NOTEQUAL = 5;
        this.DEPTH_COMPARE_FUNC_GREATEREQUAL = 6;
        this.DEPTH_COMPARE_FUNC_ALWAYS = 7;


        /**
         * Current projection matrix
         * @memberof Context
         * @instance
         * @type {mat4}
         */
        this.pMatrix = mat4.create();

        /**
         * Current model matrix
         * @memberof Context
         * @instance
         * @type {mat4}
         */
        this.mMatrix = mat4.create();

        /**
         * Current view matrix
         * @memberof Context
         * @instance
         * @type {mat4}
         */
        this.vMatrix = mat4.create();
        this._textureslots = [];

        this._pMatrixStack = new MatrixStack();
        this._mMatrixStack = new MatrixStack();
        this._vMatrixStack = new MatrixStack();

        this.canvasScale = 1;

        mat4.identity(this.mMatrix);
        mat4.identity(this.vMatrix);


        window.matchMedia("screen and (min-resolution: 2dppx)")
            .addEventListener("change", (e) =>
            {
                this.emitEvent("resize");
            });
    }

    get canvasWidth()
    {
        return this.cgCanvas.canvasWidth;
    }

    get canvasHeight()
    {
        return this.cgCanvas.canvasHeight;
    }

    set pixelDensity(p)
    {
        if (this.cgCanvas.pixelDensity != p)
        {
            this.cgCanvas.pixelDensity = p;
            this.cgCanvas.updateSize();
            this.emitEvent("resize");
        }
    }

    get pixelDensity()
    {
        return this.cgCanvas.pixelDensity;
    }


    getGApiName()
    {
        return ["WebGL", "WebGPU"][this.gApi];
    }

    get canvas()
    {
        return this.cgCanvas.canvasEle;
    }



    setCanvas(canvEle)
    {
        if (this.cgCanvas && canvEle == this.cgCanvas.canvasEle) return;
        if (typeof canvEle === "string") canvEle = document.getElementById(canvEle);

        this.cgCanvas = new CgCanvas({ "canvasEle": canvEle, "cg": this });

        canvEle.parentElement.classList.add("cablesContainer");
        if (this._setCanvas) this._setCanvas(canvEle);

        this.updateSize();
    }

    updateSize()
    {
        this.cgCanvas.updateSize();
    }

    setSize(w, h, ignorestyle)
    {
        this.cgCanvas.setSize(w, h, ignorestyle);
    }

    _resizeToWindowSize()
    {
        if (this.autoReSize)
        {
            this.setSize(window.innerWidth, window.innerHeight);
            this.updateSize();
        }
    }

    _resizeToParentSize()
    {
        if (this.autoReSize)
        {
            const p = this.canvas.parentElement;
            if (!p)
            {
                this._log.error("cables: can not resize to container element");
                return;
            }

            this.setSize(p.clientWidth, p.clientHeight);
            this.updateSize();
        }
    }

    setAutoResize(parent)
    {
        window.removeEventListener("resize", this._resizeToWindowSize.bind(this));
        window.removeEventListener("resize", this._resizeToParentSize.bind(this));

        if (parent == "window")
        {
            window.addEventListener("resize", this._resizeToWindowSize.bind(this));
            window.addEventListener("orientationchange", this._resizeToWindowSize.bind(this));
            this._resizeToWindowSize();
        }
        if (parent == "parent")
        {
            window.addEventListener("resize", this._resizeToParentSize.bind(this));
            this._resizeToParentSize();
        }
    }

    /**
     * push a matrix to the projection matrix stack
     * @function pushPMatrix
     * @memberof Context
     * @instance
     */
    pushPMatrix()
    {
        this.pMatrix = this._pMatrixStack.push(this.pMatrix);
    }

    /**
      * pop projection matrix stack
      * @function popPMatrix
      * @memberof Context
      * @instance
      * @returns {mat4} current projectionmatrix
      */
    popPMatrix()
    {
        this.pMatrix = this._pMatrixStack.pop();
        return this.pMatrix;
    }

    getProjectionMatrixStateCount()
    {
        return this._pMatrixStack.stateCounter;
    }

    /**
      * push a matrix to the model matrix stack
      * @function pushModelMatrix
      * @memberof Context
      * @instance
      * @example
      * // see source code of translate op:
      * cgl.pushModelMatrix();
      * mat4.translate(cgl.mMatrix,cgl.mMatrix, vec);
      * trigger.trigger();
      * cgl.popModelMatrix();
      */
    pushModelMatrix()
    {
        this.mMatrix = this._mMatrixStack.push(this.mMatrix);
    }

    /**
      * pop model matrix stack
      * @function popModelMatrix
      * @memberof Context
      * @instance
      * @returns {mat4} current modelmatrix
      */
    popModelMatrix()
    {
        // todo: DEPRECATE
        // if (this._mMatrixStack.length === 0) throw "Invalid modelview popMatrix!";
        this.mMatrix = this._mMatrixStack.pop();
        return this.mMatrix;
    }

    /**
      * get model matrix
      * @function modelMatrix
      * @memberof Context
      * @instance
      * @returns {mat4} current modelmatrix
      */
    modelMatrix()
    {
        return this.mMatrix;
    }


    /**
     * push a matrix to the view matrix stack
     * @function pushviewMatrix
     * @memberof Context
     * @instance
     */
    pushViewMatrix()
    {
        this.vMatrix = this._vMatrixStack.push(this.vMatrix);
    }

    /**
      * pop view matrix stack
      * @function popViewMatrix
      * @memberof Context
      * @instance
      * @returns {mat4} current viewmatrix
      * @function
      */
    popViewMatrix()
    {
        this.vMatrix = this._vMatrixStack.pop();
    }

    getViewMatrixStateCount()
    {
        return this._vMatrixStack.stateCounter;
    }

    _startMatrixStacks(identTranslate, identTranslateView)
    {
        identTranslate = identTranslate || this._ident;
        identTranslateView = identTranslateView || this._identView;

        mat4.perspective(this.pMatrix, 45, this.canvasWidth / this.canvasHeight, 0.1, 1000.0);

        mat4.identity(this.mMatrix);
        mat4.identity(this.vMatrix);
        mat4.translate(this.mMatrix, this.mMatrix, identTranslate);
        mat4.translate(this.vMatrix, this.vMatrix, identTranslateView);

        this.pushPMatrix();
        this.pushModelMatrix();
        this.pushViewMatrix();
    }

    _endMatrixStacks()
    {
        this.popViewMatrix();
        this.popModelMatrix();
        this.popPMatrix();
    }

    dispose()
    {
        this.aborted = true;
        if (this.cgCanvas) this.cgCanvas.dispose();
        if (this._dispose) this._dispose();
    }

    shouldDrawHelpers()
    {
        return false;
    }
}





;// CONCATENATED MODULE: ./src/core/cg/sg_fpscounter.js


class FpsCounter extends Events
{
    constructor()
    {
        super();
        this._timeStartFrame = 0;
        this._timeStartSecond = 0;
        this._fpsCounter = 0;
        this._msCounter = 0;
        this._frameCount = 0;

        this.stats = { "ms": 0, "fps": 0 };
    }

    get frameCount()
    {
        return this._frameCount;
    }

    startFrame()
    {
        this._timeStartFrame = CABLES.now();
    }

    endFrame()
    {
        this._frameCount++;
        this._fpsCounter++;

        const timeFrame = CABLES.now() - this._timeStartFrame;
        this._msCounter += timeFrame;

        if (CABLES.now() - this._timeStartSecond > 1000)
        {
            this.endSecond();
        }
    }

    endSecond()
    {
        this.stats.fps = this._fpsCounter;
        this.stats.ms = Math.round(this._msCounter / this._fpsCounter * 100) / 100;

        this.emitEvent("performance", this.stats);

        // reset
        this._fpsCounter = 0;
        this._msCounter = 0;
        this._timeStartSecond = CABLES.now();
    }
}

;// CONCATENATED MODULE: ./src/core/cg/cg_constants.js





const CG = {

    "GAPI_WEBGL": 0,
    "GAPI_WEBGPU": 1,

    "DEPTH_COMPARE_NEVER": 0,
    "DEPTH_COMPARE_LESS": 1,
    "DEPTH_COMPARE_EQUAL": 2,
    "DEPTH_COMPARE_LESSEQUAL": 3,
    "DEPTH_COMPARE_GREATER": 4,
    "DEPTH_COMPARE_NOTEQUAL": 5,
    "DEPTH_COMPARE_GREATEREQUAL": 6,
    "DEPTH_COMPARE_ALWAYS": 7,

    "CULL_NONE": 0,
    "CULL_BACK": 1,
    "CULL_FRONT": 2,
    "CULL_BOTH": 3,


    "Geometry": Geometry,
    "BoundingBox": BoundingBox,
    "FpsCounter": FpsCounter,

    "CgCanvas": CgCanvas
};




;// CONCATENATED MODULE: ./src/core/cgl/cgl_state.js








/**
 * cables gl context/state manager
 * @class
 * @namespace external:CGL
 * @hideconstructor
 */
// const Context(_patch)
class Context extends CGState
{
    constructor(_patch)
    {
        super(_patch);
        // EventTarget.apply(this);
        // CGState.apply(this);

        this.gApi = CG.GAPI_WEBGL;
        this.aborted = false;

        this.pushMvMatrix = this.pushModelMatrix; // deprecated and wrong... still used??
        this.popMvMatrix = this.popmMatrix = this.popModelMatrix;// deprecated and wrong... still used??

        this.profileData = new ProfileData(this);
        this._log = new Logger("cgl_context", { "onError": _patch.config.onError });
        this._viewPort = [0, 0, 0, 0];
        this.glVersion = 0;
        this.glUseHalfFloatTex = false;
        this.clearCanvasTransparent = true;
        this.clearCanvasDepth = true;
        this.debugOneFrame = false;
        this.checkGlErrors = false; // true is slow // false should be default...
        this.maxTextureUnits = 0;
        this.maxVaryingVectors = 0;
        this.currentProgram = null;
        this._hadStackError = false;
        this.glSlowRenderer = false;
        this._isSafariCrap = false;

        this.temporaryTexture = null;
        this.frameStore = {};
        this._onetimeCallbacks = [];
        this.gl = null;

        this._cursor = "auto";
        this._currentCursor = "";

        this._viewPortStack = [];
        this._glFrameBufferStack = [];
        this._frameBufferStack = [];
        this._shaderStack = [];
        this._stackDepthTest = [];
        this.mainloopOp = null;

        this._simpleShader = new Shader(this, "simpleshader");
        this._simpleShader.setModules(["MODULE_VERTEX_POSITION", "MODULE_COLOR", "MODULE_BEGIN_FRAG", "MODULE_VERTEX_MODELVIEW"]);
        this._simpleShader.setSource(Shader.getDefaultVertexShader(), Shader.getDefaultFragmentShader());

        this._currentShader = this._simpleShader;


        this._oldCanvasWidth = -1;
        this._oldCanvasHeight = -1;
        this._enabledExtensions = {};
    }

    // set pixelDensity(p)
    // {
    //     this._pixelDensity = p;
    // }

    // get pixelDensity()
    // {
    //     return this._pixelDensity;
    // }



    get viewPort()
    {
        if (this._viewPortStack.length > 3)
        {
            const l = this._viewPortStack.length;

            return [
                this._viewPortStack[l - 4],
                this._viewPortStack[l - 3],
                this._viewPortStack[l - 2],
                this._viewPortStack[l - 1]
            ];
        }
        else
        {
            // workaround pre viewport stack times / or+and initial value...

            return this._viewPort;
        }
    }



    get mvMatrix() // deprecate
    {
        return this.mMatrix;
    }

    set mvMatrix(m) // deprecate
    {
        this.mMatrix = m;
    }


    _setCanvas(canv)
    {
        if (!canv)
        {
            this._log.stack("_setCanvas undef");
        }

        if (!this.patch.config.canvas) this.patch.config.canvas = {};
        if (!this.patch.config.canvas.hasOwnProperty("preserveDrawingBuffer")) this.patch.config.canvas.preserveDrawingBuffer = false;
        if (!this.patch.config.canvas.hasOwnProperty("premultipliedAlpha")) this.patch.config.canvas.premultipliedAlpha = false;
        if (!this.patch.config.canvas.hasOwnProperty("alpha")) this.patch.config.canvas.alpha = false;

        this.patch.config.canvas.stencil = true;

        if (this.patch.config.hasOwnProperty("clearCanvasColor")) this.clearCanvasTransparent = this.patch.config.clearCanvasColor;
        if (this.patch.config.hasOwnProperty("clearCanvasDepth")) this.clearCanvasDepth = this.patch.config.clearCanvasDepth;

        // safari stuff..........
        if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent) && (navigator.userAgent.match(/iPhone/i)))
        {
            this._isSafariCrap = true;
            this.glUseHalfFloatTex = true;
        }

        if (!this.patch.config.canvas.forceWebGl1) this.gl = canv.getContext("webgl2", this.patch.config.canvas);


        if (!this.gl || this.gl.isContextLost())
        {
            this.aborted = true;
            this._log.error("NO_WEBGL", "sorry, could not initialize WebGL. Please check if your Browser supports WebGL or try to restart your browser.");
            return;
        }

        if (this.gl.getParameter(this.gl.VERSION) != "WebGL 1.0")
        {
            this.glVersion = 2;
        }
        else
        {
            this.gl = canv.getContext("webgl", this.patch.config.canvas) || canv.getContext("experimental-webgl", this.patch.config.canvas);
            this.glVersion = 1;

            // safari
            // if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent) && (navigator.userAgent.match(/iPhone/i)))
            // {
            //     this.glUseHalfFloatTex = true;
            // }

            // ios
            if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream)
            {
                if (!this.patch.config.canvas.hasOwnProperty("powerPreference")) this.patch.config.canvas.powerPreference = "high-performance";
            }

            this.enableExtension("OES_standard_derivatives");
            // this.enableExtension("GL_OES_standard_derivatives");
            const instancingExt = this.enableExtension("ANGLE_instanced_arrays") || this.gl;
            if (instancingExt.vertexAttribDivisorANGLE)
            {
                this.gl.vertexAttribDivisor = instancingExt.vertexAttribDivisorANGLE.bind(instancingExt);
                this.gl.drawElementsInstanced = instancingExt.drawElementsInstancedANGLE.bind(instancingExt);
            }
        }

        const dbgRenderInfo = this.enableExtension("WEBGL_debug_renderer_info");
        if (dbgRenderInfo)
        {
            this.glRenderer = this.gl.getParameter(dbgRenderInfo.UNMASKED_RENDERER_WEBGL);
            if (this.glRenderer === "Google SwiftShader") this.glSlowRenderer = true;
        }

        this.canvas.addEventListener("webglcontextlost", (event) =>
        {
            if (this.aborted) return this._log.warn("[cgl_state] aborted context lost... can be ignored...");
            this._log.error("canvas lost...", event);
            this.emitEvent("webglcontextlost");
            this.aborted = true;
        });


        this.maxAnisotropic = 0;
        if (this.enableExtension("EXT_texture_filter_anisotropic"))
            this.maxAnisotropic = this.gl.getParameter(this.enableExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT);


        this.maxVaryingVectors = this.gl.getParameter(this.gl.MAX_VARYING_VECTORS);
        this.maxTextureUnits = this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);
        this.maxTexSize = this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE);
        this.maxUniformsFrag = this.gl.getParameter(this.gl.MAX_FRAGMENT_UNIFORM_VECTORS);
        this.maxUniformsVert = this.gl.getParameter(this.gl.MAX_VERTEX_UNIFORM_VECTORS);
        this.maxSamples = 0;
        if (this.gl.MAX_SAMPLES) this.maxSamples = this.gl.getParameter(this.gl.MAX_SAMPLES);

        if (this.glVersion == 1)
        {
            this.enableExtension("OES_standard_derivatives");
            const instancingExt = this.enableExtension("ANGLE_instanced_arrays") || this.gl;

            if (instancingExt.vertexAttribDivisorANGLE)
            {
                this.gl.vertexAttribDivisor = instancingExt.vertexAttribDivisorANGLE.bind(instancingExt);
                this.gl.drawElementsInstanced = instancingExt.drawElementsInstancedANGLE.bind(instancingExt);
            }
        }

        this.DEPTH_FUNCS = [
            this.gl.NEVER,
            this.gl.ALWAYS,
            this.gl.LESS,
            this.gl.LEQUAL,
            this.gl.GREATER,
            this.gl.GEQUAL,
            this.gl.EQUAL,
            this.gl.NOTEQUAL
        ];
        this.CULL_MODES = [
            null,
            this.gl.BACK,
            this.gl.FRONT,
            this.gl.FRONT_AND_BACK
        ];
    }

    getInfo()
    {
        return {
            "glVersion": this.glVersion,
            "glRenderer": this.glRenderer,
            "glUseHalfFloatTex": this.glUseHalfFloatTex,
            "maxVaryingVectors": this.maxVaryingVectors,
            "maxTextureUnits": this.maxTextureUnits,
            "maxTexSize": this.maxTexSize,
            "maxUniformsFrag": this.maxUniformsFrag,
            "maxUniformsVert": this.maxUniformsVert,
            "maxSamples": this.maxSamples
        };
    }





    /**
     * @function popViewPort
     * @memberof Context
     * @instance
     * @description pop viewPort stack
     */


    popViewPort()
    {
        this._viewPortStack.pop();
        this._viewPortStack.pop();
        this._viewPortStack.pop();
        this._viewPortStack.pop();

        if (this._viewPortStack.length == 0)
        {
            this.setViewPort(0, 0, this.canvasWidth, this.canvasHeight);
            // this.gl.viewport(this._viewPort[0], this._viewPort[1], this._viewPort[2], this._viewPort[3]);
            // this.setViewPort(this._viewPort[0], this._viewPort[1], this._viewPort[2], this._viewPort[3]);
        }
        else
        {
            // this.viewPort = [this._viewPortStack[this._viewPort.length - 4], this._viewPortStack[this._viewPort.length - 3], this._viewPortStack[this._viewPort.length - 2], this._viewPortStack[this._viewPort.length - 1]];
            // this.gl.viewport(this._viewPortStack[this._viewPort.length - 4], this._viewPortStack[this._viewPort.length - 3], this._viewPortStack[this._viewPort.length - 2], this._viewPortStack[this._viewPort.length - 1]);
            this.setViewPort(this._viewPortStack[this._viewPort.length - 4], this._viewPortStack[this._viewPort.length - 3], this._viewPortStack[this._viewPort.length - 2], this._viewPortStack[this._viewPort.length - 1]);
        }
    }

    /**
     * @function pushViewPort
     * @memberof Context
     * @instance
     * @description push a new viewport onto stack
     * @param {Number} x
     * @param {Number} y
     * @param {Number} w
     * @param {Number} h
     */

    pushViewPort(x, y, w, h)
    {
        this._viewPortStack.push(x, y, w, h);
        this.setViewPort(x, y, w, h);
    }


    // old
    getViewPort()
    {
        return this._viewPort;
    }

    // old
    resetViewPort()
    {
        this.gl.viewport(this._viewPort[0], this._viewPort[1], this._viewPort[2], this._viewPort[3]);
    }

    // old
    setViewPort(x, y, w, h)
    {
        this._viewPort[0] = Math.round(x);
        this._viewPort[1] = Math.round(y);
        this._viewPort[2] = Math.round(w);
        this._viewPort[3] = Math.round(h);
        this.gl.viewport(this._viewPort[0], this._viewPort[1], this._viewPort[2], this._viewPort[3]);
    }


    screenShot(cb, doScreenshotClearAlpha, mimeType, quality)
    {
        if (doScreenshotClearAlpha)
        {
            this.gl.clearColor(1, 1, 1, 1);
            this.gl.colorMask(false, false, false, true);
            this.gl.clear(this.gl.COLOR_BUFFER_BIT);
            this.gl.colorMask(true, true, true, true);
        }

        if (this.canvas && this.canvas.toBlob)
        {
            this.canvas.toBlob((blob) =>
            {
                if (cb) cb(blob);
                else this._log.log("no screenshot callback...");
            }, mimeType, quality);
        }
    }

    endFrame()
    {
        if (this.patch.isEditorMode()) CABLES.GL_MARKER.drawMarkerLayer(this);

        this.setPreviousShader();

        if (this._vMatrixStack.length() > 0) this.logStackError("view matrix stack length !=0 at end of rendering...");
        if (this._mMatrixStack.length() > 0) this.logStackError("mvmatrix stack length !=0 at end of rendering...");
        if (this._pMatrixStack.length() > 0) this.logStackError("pmatrix stack length !=0 at end of rendering...");
        if (this._glFrameBufferStack.length > 0) this.logStackError("glFrameBuffer stack length !=0 at end of rendering...");
        if (this._stackDepthTest.length > 0) this.logStackError("depthtest stack length !=0 at end of rendering...");
        if (this._stackDepthWrite.length > 0) this.logStackError("depthwrite stack length !=0 at end of rendering...");
        if (this._stackDepthFunc.length > 0) this.logStackError("depthfunc stack length !=0 at end of rendering...");
        if (this._stackBlend.length > 0) this.logStackError("blend stack length !=0 at end of rendering...");
        if (this._stackBlendMode.length > 0) this.logStackError("blendMode stack length !=0 at end of rendering...");
        if (this._shaderStack.length > 0) this.logStackError("this._shaderStack length !=0 at end of rendering...");
        if (this._stackCullFace.length > 0) this.logStackError("this._stackCullFace length !=0 at end of rendering...");
        if (this._stackCullFaceFacing.length > 0) this.logStackError("this._stackCullFaceFacing length !=0 at end of rendering...");
        if (this._viewPortStack.length > 0) this.logStackError("viewport stack length !=0 at end of rendering...");

        this._frameStarted = false;

        if (this._oldCanvasWidth != this.canvasWidth || this._oldCanvasHeight != this.canvasHeight)
        {
            this._oldCanvasWidth = this.canvasWidth;
            this._oldCanvasHeight = this.canvasHeight;
            this.emitEvent("resize");
        }

        if (this._cursor != this._currentCursor)
        {
            this._currentCursor = this.canvas.style.cursor = this._cursor;
        }

        this.emitEvent("endframe");

        this.fpsCounter.endFrame();
    }

    logStackError(str)
    {
        if (!this._hadStackError)
        {
            this._hadStackError = true;
            this._log.warn("[" + this.canvas.id + "]: ", str);
        }
    }

    // shader stack
    getShader()
    {
        if (this._currentShader) if (!this.frameStore || ((this.frameStore.renderOffscreen === true) == this._currentShader.offScreenPass) === true) return this._currentShader;

        for (let i = this._shaderStack.length - 1; i >= 0; i--) if (this._shaderStack[i]) if (this.frameStore.renderOffscreen == this._shaderStack[i].offScreenPass) return this._shaderStack[i];
    }

    getDefaultShader()
    {
        return this._simpleShader;
    }

    /**
     * push a shader to the shader stack
     * @function pushShader
     * @memberof Context
     * @instance
     * @param {Object} shader
     * @function
     */

    pushShader(shader)
    {
        if (this.frameStore.forceShaderMods)
        {
            for (let i = 0; i < this.frameStore.forceShaderMods.length; i++)
            {
                // if (!currentShader.forcedMod && currentShader != this.frameStore.forceShaderMods[i])
                // {
                //     currentShader.forcedMod = this.frameStore.forceShaderMods[i];
                shader = this.frameStore.forceShaderMods[i].bind(shader, false);
                // }
                // return currentShader;
                // if (this.frameStore.forceShaderMods[i].currentShader() && shader != this.frameStore.forceShaderMods[i].currentShader().shader)
            }
        }

        this._shaderStack.push(shader);
        this._currentShader = shader;
    }


    /**
     * pop current used shader from shader stack
     * @function popShader
     * @memberof Context
     * @instance
     * @function
     */
    setPreviousShader()
    {
        if (this.frameStore.forceShaderMods)
        {
            for (let i = 0; i < this.frameStore.forceShaderMods.length; i++)
            {
                // const a =
                this.frameStore.forceShaderMods[i].unbind(false);
                // if (a) return;
                // this.popShader();
            }
        }

        if (this._shaderStack.length === 0) throw new Error("Invalid shader stack pop!");
        this._shaderStack.pop();
        this._currentShader = this._shaderStack[this._shaderStack.length - 1];
    }

    /**
     * push a framebuffer to the framebuffer stack
     * @function pushGlFrameBuffer
     * @memberof Context
     * @instance
     * @param {Object} fb framebuffer
     * @function
     */
    pushGlFrameBuffer(fb)
    {
        this._glFrameBufferStack.push(fb);
    }

    /**
     * pop framebuffer stack
     * @function popGlFrameBuffer
     * @memberof Context
     * @instance
     * @returns {Object} current framebuffer or null
     */
    popGlFrameBuffer()
    {
        if (this._glFrameBufferStack.length == 0) return null;
        this._glFrameBufferStack.pop();
        return this._glFrameBufferStack[this._glFrameBufferStack.length - 1];
    }

    /**
     * get current framebuffer
     * @function getCurrentFrameBuffer
     * @memberof Context
     * @instance
     * @returns {Object} current framebuffer or null
     */
    getCurrentGlFrameBuffer()
    {
        if (this._glFrameBufferStack.length === 0) return null;
        return this._glFrameBufferStack[this._glFrameBufferStack.length - 1];
    }

    /**
     * push a framebuffer to the framebuffer stack
     * @function pushGlFrameBuffer
     * @memberof Context
     * @instance
     * @param {Framebuffer} fb framebuffer
     */
    pushFrameBuffer(fb)
    {
        this._frameBufferStack.push(fb);
    }

    /**
     * pop framebuffer stack
     * @function popFrameBuffer
     * @memberof Context
     * @instance
     * @returns {Framebuffer} current framebuffer or null
     */
    popFrameBuffer()
    {
        if (this._frameBufferStack.length == 0) return null;
        this._frameBufferStack.pop();
        return this._frameBufferStack[this._frameBufferStack.length - 1];
    }

    /**
     * get current framebuffer
     * @function getCurrentFrameBuffer
     * @memberof Context
     * @instance
     * @returns {Framebuffer} current framebuffer or null
     */
    getCurrentFrameBuffer()
    {
        if (this._frameBufferStack.length === 0) return null;
        return this._frameBufferStack[this._frameBufferStack.length - 1];
    }


    renderStart(cgl, identTranslate, identTranslateView)
    {
        this.fpsCounter.startFrame();
        this.pushDepthTest(true);
        this.pushDepthWrite(true);
        this.pushDepthFunc(cgl.gl.LEQUAL);
        this.pushCullFaceFacing(cgl.gl.BACK);
        this.pushCullFace(false);

        // if (this.clearCanvasTransparent)
        // {
        //     cgl.gl.clearColor(0, 0, 0, 0);
        //     cgl.gl.clear(cgl.gl.COLOR_BUFFER_BIT);
        // }
        // if (this.clearCanvasDepth) cgl.gl.clear(cgl.gl.DEPTH_BUFFER_BIT);

        cgl.setViewPort(0, 0, cgl.canvasWidth, cgl.canvasHeight);

        this._startMatrixStacks(identTranslate, identTranslateView);

        cgl.pushBlendMode(constants_CONSTANTS.BLEND_MODES.BLEND_NORMAL, false);

        for (let i = 0; i < this._textureslots.length; i++) this._textureslots[i] = null;

        this.pushShader(this._simpleShader);

        this._frameStarted = true;

        if (this._onetimeCallbacks.length > 0)
        {
            for (let i = 0; i < this._onetimeCallbacks.length; i++) this._onetimeCallbacks[i]();
            this._onetimeCallbacks.length = 0;
        }

        for (let i = 0; i < this._textureslots.length; i++)
        {
            this.gl.activeTexture(this.gl.TEXTURE0 + i);
            this.gl.bindTexture(this.gl.TEXTURE_2D, null);
            this._textureslots[i] = null;
        }

        this.emitEvent("beginFrame");
    }

    renderEnd(cgl)
    {
        this._endMatrixStacks();

        this.popDepthTest();
        this.popDepthWrite();
        this.popDepthFunc();
        this.popCullFaceFacing();
        this.popCullFace();
        this.popBlend();
        this.popBlendMode();

        cgl.endFrame();

        this.emitEvent("endFrame");
    }

    getTexture(slot)
    {
        return this._textureslots[slot];
    }

    hasFrameStarted()
    {
        return this._frameStarted;
    }

    /**
     * log warning to console if the rendering of one frame has not been started / handy to check for async problems
     * @function checkFrameStarted
     * @memberof Context
     * @param string
     * @instance
     */
    checkFrameStarted(string)
    {
        if (!this._frameStarted)
        {
            this._log.warn("frame not started " + string);
            this.patch.printTriggerStack();
        }
    }


    setTexture(slot, t, type)
    {
        this.checkFrameStarted("cgl setTexture");

        if (t === null) t = CGL.Texture.getEmptyTexture(this).tex;

        if (this._textureslots[slot] != t)
        {
            this.gl.activeTexture(this.gl.TEXTURE0 + slot);
            this.gl.bindTexture(type || this.gl.TEXTURE_2D, t);
            this._textureslots[slot] = t;
        }


        return true;
    }

    fullScreen()
    {
        if (this.canvas.requestFullscreen) this.canvas.requestFullscreen();
        else if (this.canvas.mozRequestFullScreen) this.canvas.mozRequestFullScreen();
        else if (this.canvas.webkitRequestFullscreen) this.canvas.webkitRequestFullscreen();
        else if (this.canvas.msRequestFullscreen) this.canvas.msRequestFullscreen();
    }


    printError(str)
    {
        if (!this.checkGlErrors) return;
        let found = false;
        let error = this.gl.getError();

        if (error != this.gl.NO_ERROR)
        {
            let errStr = "";
            if (error == this.gl.OUT_OF_MEMORY) errStr = "OUT_OF_MEMORY";
            if (error == this.gl.INVALID_ENUM) errStr = "INVALID_ENUM";
            if (error == this.gl.INVALID_OPERATION) errStr = "INVALID_OPERATION";
            if (error == this.gl.INVALID_FRAMEBUFFER_OPERATION) errStr = "INVALID_FRAMEBUFFER_OPERATION";
            if (error == this.gl.INVALID_VALUE) errStr = "INVALID_VALUE";
            if (error == this.gl.CONTEXT_LOST_WEBGL)
            {
                this.aborted = true;
                errStr = "CONTEXT_LOST_WEBGL";
            }
            if (error == this.gl.NO_ERROR) errStr = "NO_ERROR";

            found = true;


            this._log.warn("gl error [" + this.canvas.id + "]: ", str, error, errStr);

            if (this.canvas.id.contains("glGuiCanvas"))
                if (!this._loggedGlError)
                {
                    this.patch.printTriggerStack();
                    this._log.stack("glerror");
                    this._loggedGlError = true;
                }
        }
        error = this.gl.getError();

        return found;
    }

    saveScreenshot(filename, cb, pw, ph, noclearalpha)
    {
        this.patch.renderOneFrame();

        let w = this.canvas.clientWidth * this.pixelDensity;
        let h = this.canvas.clientHeight * this.pixelDensity;

        if (pw)
        {
            this.canvas.width = pw;
            w = pw;
        }
        if (ph)
        {
            this.canvas.height = ph;
            h = ph;
        }

        function padLeft(nr, n, str)
        {
            return Array(n - String(nr).length + 1).join(str || "0") + nr;
        }

        const d = new Date();

        const dateStr = "".concat(String(d.getFullYear()) + String(d.getMonth() + 1) + String(d.getDate()), "_").concat(padLeft(d.getHours(), 2)).concat(padLeft(d.getMinutes(), 2)).concat(padLeft(d.getSeconds(), 2));

        if (!filename) filename = "cables_" + dateStr + ".png";
        else filename += ".png";

        this.patch.cgl.screenShot(function (blob)
        {
            this.canvas.width = w;
            this.canvas.height = h;

            if (blob)
            {
                const anchor = document.createElement("a");

                anchor.download = filename;
                anchor.href = URL.createObjectURL(blob);

                setTimeout(function ()
                {
                    anchor.click();
                    if (cb) cb(blob);
                }, 100);
            }
            else
            {
                this._log.log("screenshot: no blob");
            }
        }.bind(this), noclearalpha);
    }

    _dispose()
    {
        this._simpleShader.dispose();
        this.gl = null;
    }
}


Context.prototype.popShader = Context.prototype.setPreviousShader;
Context.prototype.setShader = Context.prototype.pushShader;

/**
 * execute the callback next frame, once
 * @function addNextFrameOnceCallback
 * @memberof Context
 * @instance
 * @param {function} cb
 */
Context.prototype.addNextFrameOnceCallback = function (cb)
{
    if (cb && this._onetimeCallbacks.indexOf(cb) == -1) this._onetimeCallbacks.push(cb);
};

// state depthtest

/**
 * push depth testing enabled state
 * @function pushDepthTest
 * @param {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype._stackDepthTest = [];
Context.prototype.pushDepthTest = function (b)
{
    this._stackDepthTest.push(b);
    if (!b) this.gl.disable(this.gl.DEPTH_TEST);
    else this.gl.enable(this.gl.DEPTH_TEST);
};
/**
 * current state of depth testing
 * @function stateCullFace
 * @returns {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype.stateDepthTest = function ()
{
    return this._stackDepthTest[this._stackDepthTest.length - 1];
};

/**
 * pop depth testing state
 * @function popCullFace
 * @memberof Context
 * @instance
 */
Context.prototype.popDepthTest = function ()
{
    this._stackDepthTest.pop();

    if (!this._stackDepthTest[this._stackDepthTest.length - 1]) this.gl.disable(this.gl.DEPTH_TEST);
    else this.gl.enable(this.gl.DEPTH_TEST);
};

// --------------------------------------
// state depthwrite

/**
 * push depth write enabled state
 * @function pushDepthTest
 * @param {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype._stackDepthWrite = [];
Context.prototype.pushDepthWrite = function (b)
{
    b = b || false;
    this._stackDepthWrite.push(b);
    this.gl.depthMask(b);
};

/**
 * current state of depth writing
 * @function stateDepthWrite
 * @returns {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype.stateDepthWrite = function ()
{
    return this._stackDepthWrite[this._stackDepthWrite.length - 1];
};

/**
 * pop depth writing state
 * @function popDepthWrite
 * @memberof Context
 * @instance
 */
Context.prototype.popDepthWrite = function ()
{
    this._stackDepthWrite.pop();
    this.gl.depthMask(this._stackDepthWrite[this._stackDepthWrite.length - 1] || false);
};


// --------------------------------------
// state CullFace

Context.prototype._stackCullFace = [];

/**
 * push face culling face enabled state
 * @function pushCullFace
 * @param {Boolean} b enabled
 * @memberof Context
 * @instance
 */
Context.prototype.pushCullFace = function (b)
{
    this._stackCullFace.push(b);

    if (b) this.gl.enable(this.gl.CULL_FACE);
    else this.gl.disable(this.gl.CULL_FACE);
};

/**
 * current state of face culling
 * @function stateCullFace
 * @returns {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype.stateCullFace = function ()
{
    return this._stackCullFace[this._stackCullFace.length - 1];
};

/**
 * pop face culling enabled state
 * @function popCullFace
 * @memberof Context
 * @instance
 */
Context.prototype.popCullFace = function ()
{
    this._stackCullFace.pop();

    if (this._stackCullFace[this._stackCullFace.length - 1]) this.gl.enable(this.gl.CULL_FACE);
    else this.gl.disable(this.gl.CULL_FACE);
};


// --------------------------------------
// state CullFace Facing


/**
 * push face culling face side
 * @function pushCullFaceFacing
 * @param {Number} cgl.gl.FRONT_AND_BACK, cgl.gl.BACK or cgl.gl.FRONT
 * @memberof Context
 * @instance
 */
Context.prototype._stackCullFaceFacing = [];
Context.prototype.pushCullFaceFacing = function (b)
{
    this._stackCullFaceFacing.push(b);
    this.gl.cullFace(this._stackCullFaceFacing[this._stackCullFaceFacing.length - 1]);
};

/**
 * current state of face culling side
 * @function stateCullFaceFacing
 * @returns {Boolean} enabled
 * @memberof Context
 * @instance
 */
Context.prototype.stateCullFaceFacing = function ()
{
    return this._stackCullFaceFacing[this._stackCullFaceFacing.length - 1];
};

/**
 * pop face culling face side
 * @function popCullFaceFacing
 * @memberof Context
 * @instance
 */
Context.prototype.popCullFaceFacing = function ()
{
    this._stackCullFaceFacing.pop();
    if (this._stackCullFaceFacing.length > 0) this.gl.cullFace(this._stackCullFaceFacing[this._stackCullFaceFacing.length - 1]);
};


// --------------------------------------
// state depthfunc

Context.prototype._stackDepthFunc = [];

/**
 * enable / disable depth testing
 * like `gl.depthFunc(boolean);`
 * @function pushDepthFunc
 * @memberof Context
 * @instance
 * @param {Boolean} f depthtesting
 */
Context.prototype.pushDepthFunc = function (f)
{
    this._stackDepthFunc.push(f);
    this.gl.depthFunc(f);
};

/**
 * current state of blend
 * @function stateDepthFunc
 * @memberof Context
 * @instance
 * @returns {Boolean} depth testing enabled/disabled
 */
Context.prototype.stateDepthFunc = function ()
{
    if (this._stackDepthFunc.length > 0) return this._stackDepthFunc[this._stackDepthFunc.length - 1];
    return false;
};

/**
 * pop depth testing and set the previous state
 * @function popDepthFunc
 * @memberof Context
 * @instance
 */
Context.prototype.popDepthFunc = function ()
{
    this._stackDepthFunc.pop();
    if (this._stackDepthFunc.length > 0) this.gl.depthFunc(this._stackDepthFunc[this._stackDepthFunc.length - 1]);
};

// --------------------------------------
// state blending

Context.prototype._stackBlend = [];

/**
 * enable / disable blend
 * like gl.enable(gl.BLEND); / gl.disable(gl.BLEND);
 * @function pushBlend
 * @memberof Context
 * @instance
 * @param {boolean} b blending
 */
Context.prototype.pushBlend = function (b)
{
    this._stackBlend.push(b);
    if (!b) this.gl.disable(this.gl.BLEND);
    else this.gl.enable(this.gl.BLEND);
};

/**
 * pop blend state and set the previous state
 * @function popBlend
 * @memberof Context
 * @instance
 */
Context.prototype.popBlend = function ()
{
    this._stackBlend.pop();

    if (!this._stackBlend[this._stackBlend.length - 1]) this.gl.disable(this.gl.BLEND);
    else this.gl.enable(this.gl.BLEND);
};

/**
 * current state of blend
 * @function stateBlend
 * @returns {boolean} blending enabled/disabled
 * @memberof Context
 * @instance
 */
Context.prototype.stateBlend = function ()
{
    return this._stackBlend[this._stackBlend.length - 1];
};

const BLENDS = {
    "BLEND_NONE": 0,
    "BLEND_NORMAL": 1,
    "BLEND_ADD": 2,
    "BLEND_SUB": 3,
    "BLEND_MUL": 4,
};

Context.prototype._stackBlendMode = [];
Context.prototype._stackBlendModePremul = [];

/**
 * push and switch to predefined blendmode (CONSTANTS.BLEND_MODES.BLEND_NONE,CONSTANTS.BLEND_MODES.BLEND_NORMAL,CONSTANTS.BLEND_MODES.BLEND_ADD,CONSTANTS.BLEND_MODES.BLEND_SUB,CONSTANTS.BLEND_MODES.BLEND_MUL)
 * @function pushBlendMode
 * @memberof Context
 * @instance
 * @param {Number} blendMode
 * @param {Boolean} premul premultiplied mode
 */
Context.prototype.pushBlendMode = function (blendMode, premul)
{
    this._stackBlendMode.push(blendMode);
    this._stackBlendModePremul.push(premul);

    const n = this._stackBlendMode.length - 1;

    this.pushBlend(this._stackBlendMode[n] !== constants_CONSTANTS.BLEND_MODES.BLEND_NONE);
    this._setBlendMode(this._stackBlendMode[n], this._stackBlendModePremul[n]);
};

/**
 * pop predefined blendmode / switch back to previous blendmode
 * @function popBlendMode
 * @memberof Context
 * @instance
 */
Context.prototype.popBlendMode = function ()
{
    this._stackBlendMode.pop();
    this._stackBlendModePremul.pop();

    const n = this._stackBlendMode.length - 1;

    this.popBlend(this._stackBlendMode[n] !== constants_CONSTANTS.BLEND_MODES.BLEND_NONE);

    if (n >= 0) this._setBlendMode(this._stackBlendMode[n], this._stackBlendModePremul[n]);
};


// --------------------------------------
// state stencil

Context.prototype._stackStencil = [];

/**
 * enable / disable stencil testing

* @function pushStencil
 * @memberof Context
 * @instance
 * @param {Boolean} b enable
 */
Context.prototype.pushStencil = function (b)
{
    this._stackStencil.push(b);
    if (!b) this.gl.disable(this.gl.STENCIL_TEST);
    else this.gl.enable(this.gl.STENCIL_TEST);
};

/**
 * pop stencil test state and set the previous state
 * @function popStencil
 * @memberof Context
 * @instance
 */
Context.prototype.popStencil = function ()
{
    this._stackStencil.pop();

    if (!this._stackStencil[this._stackStencil.length - 1]) this.gl.disable(this.gl.STENCIL_TEST);
    else this.gl.enable(this.gl.STENCIL_TEST);
};

// --------------------------------------


Context.prototype.glGetAttribLocation = function (prog, name)
{
    const l = this.gl.getAttribLocation(prog, name);
    // if (l == -1)
    // {
    //     this._log.warn("get attr loc -1 ", name);
    // }
    return l;
};


/**
 * should an op now draw helpermeshes
 * @function shouldDrawHelpers
 * @memberof Context
 * @param op
 * @instance
 */
Context.prototype.shouldDrawHelpers = function (op)
{
    if (this.frameStore.shadowPass) return false;
    if (!op.patch.isEditorMode()) return false;

    // const fb = this.getCurrentFrameBuffer();
    // if (fb && fb.getWidth)
    // {
    //     const fbshould = this.canvasWidth / this.canvasHeight == fb.getWidth() / fb.getHeight();
    //     if (!fbshould) return false;
    // }

    return gui.shouldDrawOverlay;// || (CABLES.UI.renderHelperCurrent && op.isCurrentUiOp());
};

Context.prototype._setBlendMode = function (blendMode, premul)
{
    const gl = this.gl;

    if (blendMode == constants_CONSTANTS.BLEND_MODES.BLEND_NONE)
    {
        // this.gl.disable(this.gl.BLEND);
    }
    else if (blendMode == constants_CONSTANTS.BLEND_MODES.BLEND_ADD)
    {
        if (premul)
        {
            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
            gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);
        }
        else
        {
            gl.blendEquation(gl.FUNC_ADD);
            gl.blendFunc(gl.SRC_ALPHA, gl.ONE);
        }
    }
    else if (blendMode == constants_CONSTANTS.BLEND_MODES.BLEND_SUB)
    {
        if (premul)
        {
            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
            gl.blendFuncSeparate(gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);
        }
        else
        {
            gl.blendEquation(gl.FUNC_ADD);
            gl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);
        }
    }
    else if (blendMode == constants_CONSTANTS.BLEND_MODES.BLEND_MUL)
    {
        if (premul)
        {
            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
            gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);
        }
        else
        {
            gl.blendEquation(gl.FUNC_ADD);
            gl.blendFunc(gl.ZERO, gl.SRC_COLOR);
        }
    }
    else if (blendMode == constants_CONSTANTS.BLEND_MODES.BLEND_NORMAL)
    {
        if (premul)
        {
            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
            gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
        }
        else
        {
            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
            gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);
        }
    }
    else
    {
        this._log.log("setblendmode: unknown blendmode");
    }
};

Context.prototype.createMesh = function (geom, options)
{
    if (CABLES.UTILS.isNumeric(options))options = { "glPrimitive": options }; // old constructor fallback...
    return new CGL.Mesh(this, geom, options);
};


/**
 * set cursor
 * @function setCursor
 * @memberof Context
 * @instance
 * @param {String} str css cursor string
 */
Context.prototype.setCursor = function (str)
{
    this._cursor = str;
};

/**
 * enable a webgl extension
 * @function enableExtension
 * @memberof Context
 * @instance
 * @param {String} name extension name
 * @returns {Object} extension object or null
 */
Context.prototype.enableExtension = function (name)
{
    if (!this.gl) return null;

    if (this._enabledExtensions.hasOwnProperty(name))
        return this._enabledExtensions[name];

    const o = this.gl.getExtension(name);
    this._enabledExtensions[name] = o;

    if (!o)
        this._log.warn("[cgl_state] extension not available " + name);
    // else
        // this._log.log("enabled extension", name);

    return o;
};

Context.prototype.checkTextureSize = function (x)
{
    x = x || 1;
    x = Math.floor(x);
    x = Math.min(x, this.maxTexSize);
    x = Math.max(x, 1);
    return x;
};





;// CONCATENATED MODULE: ./src/core/core_variable.js


/**
 * @type {Object}
 * @name PatchVariable
 * @param {String} name
 * @param {String|Number} value
 * @memberof Patch
 * @constructor
 */
class PatchVariable extends Events
{
    constructor(name, val, type)
    {
        super();
        this._name = name;
        this.type = type;
        this.setValue(val);
    }

    /**
     * keeping this for backwards compatibility in older
     * exports before using eventtarget
     *
     * @param cb
     */
    addListener(cb)
    {
        this.on("change", cb, "var");
    }

    /**
     * @function Variable.getValue
     * @memberof PatchVariable
     * @returns {String|Number|Boolean}
     */
    getValue()
    {
        return this._v;
    }

    /**
     * @function getName
     * @memberof PatchVariable
     * @instance
     * @returns {String|Number|Boolean}
     * @function
     */
    getName()
    {
        return this._name;
    }

    /**
     * @function setValue
     * @memberof PatchVariable
     * @instance
     * @param v
     * @returns {String|Number|Boolean}
     * @function
     */
    setValue(v)
    {
        this._v = v;
        this.emitEvent("change", v, this);
    }
}

/* harmony default export */ const core_variable = (PatchVariable);

;// CONCATENATED MODULE: ./src/core/core_patch.js












/**
 * Patch class, contains all operators,values,links etc. manages loading and running of the whole patch
 *
 * see {@link PatchConfig}
 *
 * @namespace external:CABLES#Patch
 * @hideconstructor
 * @param {PatchConfig} cfg The configuration object.
 * @class
 * @example
 * CABLES.patch=new CABLES.Patch(
 * {
 *     patch:pStr,
 *     glCanvasId:'glcanvas',
 *     glCanvasResizeToWindow:true,
 *     canvas:{powerPreference:"high-performance"},
 *     prefixAssetPath:'/assets/',
 *     prefixJsPath:'/js/',
 *     onError:function(e){console.log(e);}
 *     glslPrecision:'highp'
 * });
 */

const Patch = function (cfg)
{
    EventTarget.apply(this);

    this._log = new Logger("core_patch", { "onError": cfg.onError });
    this.ops = [];
    this.settings = {};
    this.config = cfg ||
        {
            "glCanvasResizeToWindow": false,
            "prefixAssetPath": "",
            "prefixJsPath": "",
            "silent": true,
            "onError": null,
            "onFinishedLoading": null,
            "onFirstFrameRendered": null,
            "onPatchLoaded": null,
            "fpsLimit": 0
        };
    this.timer = new Timer();
    this.freeTimer = new Timer();
    this.animFrameOps = [];
    this.animFrameCallbacks = [];
    this.gui = false;
    CABLES.logSilent = this.silent = true;
    this.profiler = null;
    this.aborted = false;
    this._crashedOps = [];
    this._renderOneFrame = false;
    this._animReq = null;
    this._opIdCache = {};
    this._triggerStack = [];
    this.storeObjNames = false; // remove after may release

    this.loading = new LoadingStatus(this);

    this._volumeListeners = [];
    this._paused = false;
    this._frameNum = 0;
    // this.instancing = new Instancing();
    this.onOneFrameRendered = null;
    this.namedTriggers = {};

    this._origData = null;
    this._frameNext = 0;
    this._frameInterval = 0;
    this._lastFrameTime = 0;
    this._frameWasdelayed = true;
    this.frameStore = {};
    this.deSerialized = false;
    this.reqAnimTimeStamp = 0;

    this.cgCanvas = null;

    if (!(function () { return !this; }())) console.log("not in strict mode: core patch");

    this._isLocal = document.location.href.indexOf("file:") === 0;

    if (this.config.hasOwnProperty("silent")) this.silent = CABLES.logSilent = this.config.silent;
    if (!this.config.hasOwnProperty("doRequestAnimation")) this.config.doRequestAnimation = true;

    if (!this.config.prefixAssetPath) this.config.prefixAssetPath = "";
    if (!this.config.prefixJsPath) this.config.prefixJsPath = "";
    if (!this.config.masterVolume) this.config.masterVolume = 1.0;

    this._variables = {};
    this._variableListeners = [];
    this.vars = {};
    if (cfg && cfg.vars) this.vars = cfg.vars; // vars is old!

    this.cgl = new Context(this);
    this.cgp = null;

    this._subpatchOpCache = {};

    this.cgl.setCanvas(this.config.glCanvasId || this.config.glCanvas || "glcanvas");
    if (this.config.glCanvasResizeToWindow === true) this.cgl.setAutoResize("window");
    if (this.config.glCanvasResizeToParent === true) this.cgl.setAutoResize("parent");
    this.loading.setOnFinishedLoading(this.config.onFinishedLoading);

    if (this.cgl.aborted) this.aborted = true;
    if (this.cgl.silent) this.silent = true;

    this.freeTimer.play();
    this.exec();

    if (!this.aborted)
    {
        if (this.config.patch)
        {
            this.deSerialize(this.config.patch);
        }
        else if (this.config.patchFile)
        {
            ajax(
                this.config.patchFile,
                (err, _data) =>
                {
                    try
                    {
                        const data = JSON.parse(_data);
                        if (err)
                        {
                            const txt = "";
                            this._log.error("err", err);
                            this._log.error("data", data);
                            this._log.error("data", data.msg);
                            return;
                        }
                        this.deSerialize(data);
                    }
                    catch (e)
                    {
                        this._log.error("could not load/parse patch ", e);
                    }
                }
            );
        }
        this.timer.play();
    }

    console.log("made with https://cables.gl"); // eslint-disable-line
};

Patch.prototype.isPlaying = function ()
{
    return !this._paused;
};

Patch.prototype.isRenderingOneFrame = function ()
{
    return this._renderOneFrame;
};


Patch.prototype.renderOneFrame = function ()
{
    this._paused = true;
    this._renderOneFrame = true;
    this.exec();
    this._renderOneFrame = false;
};

/**
 * current number of frames per second
 * @function getFPS
 * @memberof Patch
 * @instance
 * @return {Number} fps
 */
Patch.prototype.getFPS = function ()
{
    this._log.error("deprecated getfps");
    return 0;
};

/**
 * returns true if patch is opened in editor/gui mode
 * @function isEditorMode
 * @memberof Patch
 * @instance
 * @return {Boolean} editor mode
 */
Patch.prototype.isEditorMode = function ()
{
    return this.config.editorMode === true;
};

/**
 * pauses patch execution
 * @function pause
 * @memberof Patch
 * @instance
 */
Patch.prototype.pause = function ()
{
    cancelAnimationFrame(this._animReq);
    this.emitEvent("pause");
    this._animReq = null;
    this._paused = true;
    this.freeTimer.pause();
};

/**
 * resumes patch execution
 * @function resume
 * @memberof Patch
 * @instance
 */
Patch.prototype.resume = function ()
{
    if (this._paused)
    {
        cancelAnimationFrame(this._animReq);
        this._paused = false;
        this.freeTimer.play();
        this.emitEvent("resume");
        this.exec();
    }
};

/**
 * set volume [0-1]
 * @function setVolume
 * @param {Number} v volume
 * @memberof Patch
 * @instance
 */
Patch.prototype.setVolume = function (v)
{
    this.config.masterVolume = v;
    for (let i = 0; i < this._volumeListeners.length; i++) this._volumeListeners[i].onMasterVolumeChanged(v);
};


/**
 * get asset path
 * @function getAssetPath
 * @memberof Patch
 * @param patchId
 * @instance
 */
Patch.prototype.getAssetPath = function (patchId = null)
{
    if (this.config.hasOwnProperty("assetPath"))
    {
        return this.config.assetPath;
    }
    else if (this.isEditorMode())
    {
        let id = patchId || gui.project()._id;
        return "/assets/" + id + "/";
    }
    else if (document.location.href.indexOf("cables.gl") > 0 || document.location.href.indexOf("cables.local") > 0)
    {
        const parts = document.location.pathname.split("/");
        let id = patchId || parts[parts.length - 1];
        return "/assets/" + id + "/";
    }
    else
    {
        return "assets/";
    }
};

/**
 * get js path
 * @function getJsPath
 * @memberof Patch
 * @instance
 */
Patch.prototype.getJsPath = function ()
{
    if (this.config.hasOwnProperty("jsPath"))
    {
        return this.config.jsPath;
    }
    else
    {
        return "js/";
    }
};

/**
 * get url/filepath for a filename
 * this uses prefixAssetpath in exported patches
 * @function getFilePath
 * @memberof Patch
 * @instance
 * @param {String} filename
 * @return {String} url
 */
Patch.prototype.getFilePath = function (filename)
{
    if (!filename) return filename;
    filename = String(filename);
    if (filename.indexOf("https:") === 0 || filename.indexOf("http:") === 0) return filename;
    if (filename.indexOf("data:") === 0) return filename;
    if (filename.indexOf("file:") === 0) return filename;
    filename = filename.replace("//", "/");
    if (filename.startsWith(this.config.prefixAssetPath)) filename = filename.replace(this.config.prefixAssetPath, "");
    return this.config.prefixAssetPath + filename + (this.config.suffixAssetPath || "");
};

Patch.prototype.clear = function ()
{
    this.emitEvent("patchClearStart");
    this.cgl.TextureEffectMesh = null;
    this.animFrameOps.length = 0;
    this.timer = new Timer();
    while (this.ops.length > 0) this.deleteOp(this.ops[0].id);

    this._opIdCache = {};
    this.emitEvent("patchClearEnd");
};

Patch.getOpClass = function (objName)
{
    const parts = objName.split(".");
    let opObj = null;

    try
    {
        if (parts.length == 2) opObj = window[parts[0]][parts[1]];
        else if (parts.length == 3) opObj = window[parts[0]][parts[1]][parts[2]];
        else if (parts.length == 4) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]];
        else if (parts.length == 5) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]];
        else if (parts.length == 6) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]];
        else if (parts.length == 7) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]];
        else if (parts.length == 8) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]];
        else if (parts.length == 9) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]][parts[8]];
        else if (parts.length == 10) opObj = window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]][parts[8]][parts[9]];
        return opObj;
    }
    catch (e)
    {
        return null;
    }
};

Patch.prototype.createOp = function (identifier, id, opName = null)
{
    let op = null;
    let objName = "";

    try
    {
        if (!identifier)
        {
            console.error("createop identifier false", identifier);
            console.log((new Error()).stack);
            return;
        }
        if (identifier.indexOf("Ops.") === -1)
        {
            // this should be a uuid, not a namespace
            // creating ops by id should be the default way from now on!
            const opId = identifier;



            if (CABLES.OPS[opId])
            {
                objName = CABLES.OPS[opId].objName;
                op = new CABLES.OPS[opId].f(this, objName, id, opId);
                op.opId = opId;
            }
            else
            {
                if (opName)
                {
                    identifier = opName;
                    this._log.warn("could not find op by id: " + opId);
                }
                else
                {
                    throw new Error("could not find op by id: " + opId, { "cause": "opId:" + opId });
                }
            }
        }

        if (!op)
        {
            // fallback: create by objname!
            objName = identifier;
            const parts = identifier.split(".");
            const opObj = Patch.getOpClass(objName);

            if (!opObj)
            {
                this.emitEvent("criticalError", { "title": "unknown op" + objName, "text": "unknown op: " + objName });

                this._log.error("unknown op: " + objName);
                throw new Error("unknown op: " + objName);
            }
            else
            {
                if (parts.length == 2) op = new window[parts[0]][parts[1]](this, objName, id);
                else if (parts.length == 3) op = new window[parts[0]][parts[1]][parts[2]](this, objName, id);
                else if (parts.length == 4) op = new window[parts[0]][parts[1]][parts[2]][parts[3]](this, objName, id);
                else if (parts.length == 5) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]](this, objName, id);
                else if (parts.length == 6) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]](this, objName, id);
                else if (parts.length == 7) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]](this, objName, id);
                else if (parts.length == 8) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]](this, objName, id);
                else if (parts.length == 9) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]][parts[8]](this, objName, id);
                else if (parts.length == 10) op = new window[parts[0]][parts[1]][parts[2]][parts[3]][parts[4]][parts[5]][parts[6]][parts[7]][parts[8]][parts[9]](this, objName, id);
                else console.log("parts.length", parts.length);
            }

            if (op)
            {
                op.opId = null;
                for (const i in CABLES.OPS)
                {
                    if (CABLES.OPS[i].objName == objName) op.opId = i;
                }
            }
        }
    }
    catch (e)
    {
        this._crashedOps.push(objName);

        this._log.error(e);
        this._log.error("[instancing error] " + objName, e);

        if (!this.isEditorMode())
        {
            this._log.error("INSTANCE_ERR", "Instancing Error: " + objName, e);
            // throw new Error("instancing error 1" + objName);
        }
    }

    if (op)
    {
        op._objName = objName;
        op.patch = this;
    }
    else
    {
        this._log.log("no op was created!?", identifier, id);
    }
    return op;
};

/**
 * create a new op in patch
 * @function addOp
 * @memberof Patch
 * @instance
 * @param {string} opIdentifier uuid or name, e.g. Ops.Math.Sum
 * @param {Object} uiAttribs Attributes
 * @param {string} id
 * @param {boolean} fromDeserialize
 * @param {string} opName e.g. Ops.Math.Sum
 * @example
 * // add invisible op
 * patch.addOp('Ops.Math.Sum', { showUiAttribs: false });
 */
Patch.prototype.addOp = function (opIdentifier, uiAttribs, id, fromDeserialize, opName)
{
    const op = this.createOp(opIdentifier, id, opName);

    if (op)
    {
        uiAttribs = uiAttribs || {};
        if (uiAttribs.hasOwnProperty("errors")) delete uiAttribs.errors;
        if (uiAttribs.hasOwnProperty("error")) delete uiAttribs.error;
        uiAttribs.subPatch = uiAttribs.subPatch || 0;

        op.setUiAttribs(uiAttribs);
        if (op.onCreate) op.onCreate();

        if (op.hasOwnProperty("onAnimFrame")) this.addOnAnimFrame(op);
        if (op.hasOwnProperty("onMasterVolumeChanged")) this._volumeListeners.push(op);

        if (this._opIdCache[op.id])
        {
            this._log.warn("opid with id " + op.id + " already exists in patch!");
            this.deleteOp(op.id); // strange with subpatch ops: why is this needed, somehow ops get added twice ???.....
            // return;
        }

        this.ops.push(op);
        this._opIdCache[op.id] = op;

        if (this._subPatchCacheAdd) this._subPatchCacheAdd(uiAttribs.subPatch, op);
        this.emitEvent("onOpAdd", op, fromDeserialize);

        if (op.init) op.init();

        op.emitEvent("init", fromDeserialize);
    }
    else
    {
        this._log.error("addop: op could not be created: ", opIdentifier);
    }

    return op;
};

Patch.prototype.addOnAnimFrame = function (op)
{
    for (let i = 0; i < this.animFrameOps.length; i++) if (this.animFrameOps[i] == op) { return; }

    this.animFrameOps.push(op);
};

Patch.prototype.removeOnAnimFrame = function (op)
{
    for (let i = 0; i < this.animFrameOps.length; i++)
    {
        if (this.animFrameOps[i] == op)
        {
            this.animFrameOps.splice(i, 1);
            return;
        }
    }
};

Patch.prototype.addOnAnimFrameCallback = function (cb)
{
    this.animFrameCallbacks.push(cb);
};

Patch.prototype.removeOnAnimCallback = function (cb)
{
    for (let i = 0; i < this.animFrameCallbacks.length; i++)
    {
        if (this.animFrameCallbacks[i] == cb)
        {
            this.animFrameCallbacks.splice(i, 1);
            return;
        }
    }
};

Patch.prototype.deleteOp = function (opid, tryRelink, reloadingOp)
{
    let found = false;
    for (const i in this.ops)
    {
        if (this.ops[i].id == opid)
        {
            const op = this.ops[i];
            let reLinkP1 = null;
            let reLinkP2 = null;

            if (op)
            {
                found = true;
                if (tryRelink)
                {
                    if (op.portsIn.length > 0 && op.portsIn[0].isLinked() && (op.portsOut.length > 0 && op.portsOut[0].isLinked()))
                    {
                        if (op.portsIn[0].getType() == op.portsOut[0].getType() && op.portsIn[0].links[0])
                        {
                            reLinkP1 = op.portsIn[0].links[0].getOtherPort(op.portsIn[0]);
                            reLinkP2 = op.portsOut[0].links[0].getOtherPort(op.portsOut[0]);
                        }
                    }
                }

                const opToDelete = this.ops[i];
                opToDelete.removeLinks();

                if (this.onDelete)
                {
                    // todo: remove
                    this._log.warn("deprecated this.onDelete", this.onDelete);
                    this.onDelete(opToDelete);
                }

                this.ops.splice(i, 1);
                opToDelete.emitEvent("delete", opToDelete);
                this.emitEvent("onOpDelete", opToDelete, reloadingOp);

                if (this.clearSubPatchCache) this.clearSubPatchCache(opToDelete.uiAttribs.subPatch);

                if (opToDelete.onDelete) opToDelete.onDelete(reloadingOp);
                opToDelete.cleanUp();

                if (reLinkP1 !== null && reLinkP2 !== null)
                {
                    this.link(reLinkP1.op, reLinkP1.getName(), reLinkP2.op, reLinkP2.getName());
                }

                delete this._opIdCache[opid];
                break;
            }
        }
    }

    if (!found) this._log.warn("core patch deleteop: not found...", opid);
};

Patch.prototype.getFrameNum = function ()
{
    return this._frameNum;
};

Patch.prototype.emitOnAnimFrameEvent = function (time, delta)
{
    time = time || this.timer.getTime();

    for (let i = 0; i < this.animFrameCallbacks.length; ++i)
        if (this.animFrameCallbacks[i])
            this.animFrameCallbacks[i](time, this._frameNum, delta);

    for (let i = 0; i < this.animFrameOps.length; ++i)
        if (this.animFrameOps[i].onAnimFrame)
            this.animFrameOps[i].onAnimFrame(time, this._frameNum, delta);
};

Patch.prototype.renderFrame = function (timestamp)
{
    this.timer.update(this.reqAnimTimeStamp);
    this.freeTimer.update(this.reqAnimTimeStamp);
    const time = this.timer.getTime();
    const startTime = performance.now();
    this.cgl.frameStartTime = this.timer.getTime();

    const delta = timestamp - this.reqAnimTimeStamp || timestamp;

    this.emitOnAnimFrameEvent(null, delta);

    this.cgl.profileData.profileFrameDelta = delta;
    this.reqAnimTimeStamp = timestamp;
    this.cgl.profileData.profileOnAnimFrameOps = performance.now() - startTime;

    this.emitEvent("onRenderFrame", time);

    this._frameNum++;
    if (this._frameNum == 1)
    {
        if (this.config.onFirstFrameRendered) this.config.onFirstFrameRendered();
    }
};

Patch.prototype.exec = function (timestamp)
{
    if (!this._renderOneFrame && (this._paused || this.aborted)) return;
    this.emitEvent("reqAnimFrame");
    cancelAnimationFrame(this._animReq);

    this.config.fpsLimit = this.config.fpsLimit || 0;
    if (this.config.fpsLimit)
    {
        this._frameInterval = 1000 / this.config.fpsLimit;
    }

    const now = CABLES.now();
    const frameDelta = now - this._frameNext;

    if (this.isEditorMode())
    {
        if (!this._renderOneFrame)
        {
            if (now - this._lastFrameTime >= 500 && this._lastFrameTime !== 0 && !this._frameWasdelayed)
            {
                this._lastFrameTime = 0;
                setTimeout(this.exec.bind(this), 500);
                this.emitEvent("renderDelayStart");
                this._frameWasdelayed = true;
                return;
            }
        }
    }

    if (this._renderOneFrame || this.config.fpsLimit === 0 || frameDelta > this._frameInterval || this._frameWasdelayed)
    {
        this.renderFrame(timestamp);

        if (this._frameInterval) this._frameNext = now - (frameDelta % this._frameInterval);
    }

    if (this._frameWasdelayed)
    {
        this.emitEvent("renderDelayEnd");
        this._frameWasdelayed = false;
    }

    if (this._renderOneFrame)
    {
        if (this.onOneFrameRendered) this.onOneFrameRendered(); // todo remove everywhere and use propper event...
        this.emitEvent("renderedOneFrame");
        this._renderOneFrame = false;
    }


    if (this.config.doRequestAnimation) this._animReq = this.cgl.canvas.ownerDocument.defaultView.requestAnimationFrame(this.exec.bind(this));
};

/**
 * link two ops/ports
 * @function link
 * @memberof Patch
 * @instance
 * @param {Op} op1
 * @param {String} port1Name
 * @param {Op} op2
 * @param {String} port2Name
 * @param {boolean} lowerCase
 * @param {boolean} fromDeserialize
 */
Patch.prototype.link = function (op1, port1Name, op2, port2Name, lowerCase, fromDeserialize)
{
    if (!op1) return this._log.warn("link: op1 is null ");
    if (!op2) return this._log.warn("link: op2 is null");

    const port1 = op1.getPort(port1Name, lowerCase);
    const port2 = op2.getPort(port2Name, lowerCase);

    if (!port1) return op1._log.warn("port1 not found! " + port1Name + " (" + op1.objName + ")");
    if (!port2) return op1._log.warn("port2 not found! " + port2Name + " of " + op2.name + "(" + op2.objName + ")", op2);

    if (!port1.shouldLink(port1, port2) || !port2.shouldLink(port1, port2)) return false;

    if (Link.canLink(port1, port2))
    {
        const link = new Link(this);
        link.link(port1, port2);

        this.emitEvent("onLink", port1, port2, link, fromDeserialize);
        return link;
    }
};

Patch.prototype.serialize = function (options)
{
    const obj = {};

    options = options || {};
    obj.ops = [];
    obj.settings = this.settings;
    for (const i in this.ops)
    {
        const op = this.ops[i];
        if (op && op.getSerialized)obj.ops.push(op.getSerialized());
    }

    cleanJson(obj);

    if (options.asObject) return obj;
    return JSON.stringify(obj);
};

Patch.prototype.getOpsByRefId = function (refId)
{
    const perf = CABLES.UI.uiProfiler.start("[corepatchetend] getOpsByRefId");
    const refOps = [];
    const ops = gui.corePatch().ops;
    for (let i = 0; i < ops.length; i++)
        if (ops[i].storage && ops[i].storage.ref == refId) refOps.push(ops[i]);
    perf.finish();
    return refOps;
};

Patch.prototype.getOpById = function (opid)
{
    return this._opIdCache[opid];
};

Patch.prototype.getOpsByName = function (name)
{
    // TODO: is this still needed ? unclear behaviour....
    const arr = [];
    for (const i in this.ops)
        if (this.ops[i].name == name) arr.push(this.ops[i]);
    return arr;
};

Patch.prototype.getOpsByObjName = function (name)
{
    const arr = [];
    for (const i in this.ops)
        if (this.ops[i].objName == name) arr.push(this.ops[i]);
    return arr;
};

Patch.prototype.getOpsByOpId = function (opid)
{
    const arr = [];
    for (const i in this.ops)
        if (this.ops[i].opId == opid) arr.push(this.ops[i]);
    return arr;
};

Patch.prototype.loadLib = function (which)
{
    ajaxSync(
        "/ui/libs/" + which + ".js",
        (err, res) =>
        {
            const se = document.createElement("script");
            se.type = "text/javascript";
            se.text = res;
            document.getElementsByTagName("head")[0].appendChild(se);
        },
        "GET",
    );
};

Patch.prototype.getSubPatchOpsByName = function (patchId, objName)
{
    const arr = [];
    for (const i in this.ops)
        if (this.ops[i].uiAttribs && this.ops[i].uiAttribs.subPatch == patchId && this.ops[i].objName == objName)
            arr.push(this.ops[i]);

    return arr;
};

Patch.prototype.getSubPatchOp =
Patch.prototype.getFirstSubPatchOpByName = function (patchId, objName)
{
    for (const i in this.ops)
        if (this.ops[i].uiAttribs && this.ops[i].uiAttribs.subPatch == patchId && this.ops[i].objName == objName)
            return this.ops[i];

    return false;
};

Patch.prototype._addLink = function (opinid, opoutid, inName, outName)
{
    return this.link(this.getOpById(opinid), inName, this.getOpById(opoutid), outName, false, true);
};

Patch.prototype.deSerialize = function (obj, options)
{
    options = options || { "genIds": false, "createRef": false };
    if (this.aborted) return;
    const newOps = [];
    const loadingId = this.loading.start("core", "deserialize");

    this.namespace = obj.namespace || "";
    this.name = obj.name || "";

    if (typeof obj === "string") obj = JSON.parse(obj);

    this.settings = obj.settings;

    this.emitEvent("patchLoadStart");

    obj.ops = obj.ops || [];

    if (window.logStartup)logStartup("add " + obj.ops.length + " ops... ");

    const addedOps = [];

    // add ops...
    for (let iop = 0; iop < obj.ops.length; iop++)
    {
        const start = CABLES.now();
        const opData = obj.ops[iop];
        let op = null;

        try
        {
            if (opData.opId) op = this.addOp(opData.opId, opData.uiAttribs, opData.id, true, opData.objName);
            else op = this.addOp(opData.objName, opData.uiAttribs, opData.id, true);
        }
        catch (e)
        {
            this._log.error("[instancing error] op data:", opData, e);
            // throw new Error("could not create op by id: <b>" + (opData.objName || opData.opId) + "</b> (" + opData.id + ")");
        }

        if (op)
        {
            addedOps.push(op);
            if (options.genIds) op.id = shortId();
            op.portsInData = opData.portsIn;
            op._origData = JSON.parse(JSON.stringify(opData));
            op.storage = opData.storage;
            // if (opData.hasOwnProperty("disabled"))op.setEnabled(!opData.disabled);

            for (const ipi in opData.portsIn)
            {
                const objPort = opData.portsIn[ipi];
                if (objPort && objPort.hasOwnProperty("name"))
                {
                    const port = op.getPort(objPort.name);

                    if (port && (port.uiAttribs.display == "bool" || port.uiAttribs.type == "bool") && !isNaN(objPort.value)) objPort.value = objPort.value == true ? 1 : 0;
                    if (port && objPort.value !== undefined && port.type != CONSTANTS.OP.OP_PORT_TYPE_TEXTURE) port.set(objPort.value);

                    if (port)
                    {
                        port.deSerializeSettings(objPort);
                    }
                    else
                    {
                        // if (port.uiAttribs.hasOwnProperty("title"))
                        // {
                        //     op.preservedPortTitles = op.preservedPortTitles || {};
                        //     op.preservedPortTitles[port.name] = port.uiAttribs.title;
                        // }
                        op.preservedPortValues = op.preservedPortValues || {};
                        op.preservedPortValues[objPort.name] = objPort.value;
                    }
                }
            }

            for (const ipo in opData.portsOut)
            {
                const objPort = opData.portsOut[ipo];
                if (objPort && objPort.hasOwnProperty("name"))
                {
                    const port2 = op.getPort(objPort.name);

                    if (port2)
                    {
                        port2.deSerializeSettings(objPort);

                        if (port2.uiAttribs.hasOwnProperty("title"))
                        {
                            op.preservedPortTitles = op.preservedPortTitles || {};
                            op.preservedPortTitles[port2.name] = port2.uiAttribs.title;
                        }


                        if (port2.type != CONSTANTS.OP.OP_PORT_TYPE_TEXTURE && objPort.hasOwnProperty("value"))
                            port2.set(obj.ops[iop].portsOut[ipo].value);

                        if (objPort.expose) port2.setUiAttribs({ "expose": true });
                    }
                }
            }
            newOps.push(op);
        }

        const timeused = Math.round(100 * (CABLES.now() - start)) / 100;
        if (!this.silent && timeused > 5) console.log("long op init ", obj.ops[iop].objName, timeused);
    }
    if (window.logStartup)logStartup("add ops done");

    for (const i in this.ops)
    {
        if (this.ops[i].onLoadedValueSet)
        {
            this.ops[i].onLoadedValueSet(this.ops[i]._origData);
            this.ops[i].onLoadedValueSet = null;
            this.ops[i]._origData = null;
        }
        this.ops[i].emitEvent("loadedValueSet");
    }

    if (window.logStartup)logStartup("creating links");

    if (options.opsCreated)options.opsCreated(addedOps);
    // create links...
    if (obj.ops)
    {
        for (let iop = 0; iop < obj.ops.length; iop++)
        {
            if (obj.ops[iop].portsIn)
            {
                for (let ipi2 = 0; ipi2 < obj.ops[iop].portsIn.length; ipi2++)
                {
                    if (obj.ops[iop].portsIn[ipi2] && obj.ops[iop].portsIn[ipi2].links)
                    {
                        for (let ili = 0; ili < obj.ops[iop].portsIn[ipi2].links.length; ili++)
                        {
                            const l = this._addLink(
                                obj.ops[iop].portsIn[ipi2].links[ili].objIn,
                                obj.ops[iop].portsIn[ipi2].links[ili].objOut,
                                obj.ops[iop].portsIn[ipi2].links[ili].portIn,
                                obj.ops[iop].portsIn[ipi2].links[ili].portOut);

                            // const took = performance.now - startTime;
                            // if (took > 100)console.log(obj().ops[iop].portsIn[ipi2].links[ili].objIn, obj.ops[iop].portsIn[ipi2].links[ili].objOut, took);
                        }
                    }
                }
            }
            if (obj.ops[iop].portsOut)
                for (let ipi2 = 0; ipi2 < obj.ops[iop].portsOut.length; ipi2++)
                    if (obj.ops[iop].portsOut[ipi2] && obj.ops[iop].portsOut[ipi2].links)
                    {
                        for (let ili = 0; ili < obj.ops[iop].portsOut[ipi2].links.length; ili++)
                        {
                            if (obj.ops[iop].portsOut[ipi2].links[ili])
                            {
                                if (obj.ops[iop].portsOut[ipi2].links[ili].subOpRef)
                                {
                                    // lost link
                                    const outOp = this.getOpById(obj.ops[iop].portsOut[ipi2].links[ili].objOut);
                                    let dstOp = null;
                                    let theSubPatch = 0;

                                    for (let i = 0; i < this.ops.length; i++)
                                    {
                                        if (
                                            this.ops[i].storage &&
                                            this.ops[i].storage.ref == obj.ops[iop].portsOut[ipi2].links[ili].subOpRef &&
                                            outOp.uiAttribs.subPatch == this.ops[i].uiAttribs.subPatch
                                        )
                                        {
                                            theSubPatch = this.ops[i].patchId.get();
                                            break;
                                        }
                                    }

                                    for (let i = 0; i < this.ops.length; i++)
                                    {
                                        if (
                                            this.ops[i].storage &&
                                            this.ops[i].storage.ref == obj.ops[iop].portsOut[ipi2].links[ili].refOp &&
                                            this.ops[i].uiAttribs.subPatch == theSubPatch)
                                        {
                                            dstOp = this.ops[i];
                                            break;
                                        }
                                    }

                                    if (!dstOp) this._log.warn("could not find op for lost link");
                                    else
                                    {
                                        const l = this._addLink(
                                            dstOp.id,
                                            obj.ops[iop].portsOut[ipi2].links[ili].objOut,

                                            obj.ops[iop].portsOut[ipi2].links[ili].portIn,
                                            obj.ops[iop].portsOut[ipi2].links[ili].portOut);
                                    }
                                }
                                else
                                {
                                    const l = this._addLink(obj.ops[iop].portsOut[ipi2].links[ili].objIn, obj.ops[iop].portsOut[ipi2].links[ili].objOut, obj.ops[iop].portsOut[ipi2].links[ili].portIn, obj.ops[iop].portsOut[ipi2].links[ili].portOut);

                                    if (!l)
                                    {
                                        const op1 = this.getOpById(obj.ops[iop].portsOut[ipi2].links[ili].objIn);
                                        const op2 = this.getOpById(obj.ops[iop].portsOut[ipi2].links[ili].objOut);

                                        if (!op1)console.log("could not find link op1");
                                        if (!op2)console.log("could not find link op2");

                                        const p1Name = obj.ops[iop].portsOut[ipi2].links[ili].portIn;

                                        if (op1 && !op1.getPort(p1Name))
                                        {
                                            // console.log("PRESERVE port 1 not found", p1Name);

                                            op1.preservedPortLinks[p1Name] = op1.preservedPortLinks[p1Name] || [];
                                            op1.preservedPortLinks[p1Name].push(obj.ops[iop].portsOut[ipi2].links[ili]);
                                        }

                                        const p2Name = obj.ops[iop].portsOut[ipi2].links[ili].portOut;
                                        if (op2 && !op2.getPort(p2Name))
                                        {
                                            // console.log("PRESERVE port 2 not found", obj.ops[iop].portsOut[ipi2].links[ili].portOut);
                                            op2.preservedPortLinks[p1Name] = op2.preservedPortLinks[p1Name] || [];
                                            op2.preservedPortLinks[p1Name].push(obj.ops[iop].portsOut[ipi2].links[ili]);
                                        }
                                    }
                                }
                            }
                        }
                    }
        }
    }

    if (window.logStartup)logStartup("calling ops onloaded");

    for (const i in this.ops)
    {
        if (this.ops[i].onLoaded)
        {
            // TODO: deprecate!!!
            this.ops[i].onLoaded();
            this.ops[i].onLoaded = null;
        }
    }

    if (window.logStartup)logStartup("initializing ops...");
    for (const i in this.ops)
    {
        if (this.ops[i].init)
        {
            try
            {
                this.ops[i].init();
                this.ops[i].init = null;
            }
            catch (e)
            {
                console.error("op.init crash", e);
            }
        }
    }

    if (window.logStartup)logStartup("initializing vars...");

    if (this.config.variables)
        for (const varName in this.config.variables)
            this.setVarValue(varName, this.config.variables[varName]);

    if (window.logStartup)logStartup("initializing var ports");

    for (const i in this.ops)
    {
        this.ops[i].initVarPorts();
        delete this.ops[i].uiAttribs.pasted;
    }

    setTimeout(() => { this.loading.finished(loadingId); }, 100);

    if (this.config.onPatchLoaded) this.config.onPatchLoaded(this);

    this.deSerialized = true;
    this.emitEvent("patchLoadEnd", newOps, obj, options.genIds);
};

Patch.prototype.profile = function (enable)
{
    this.profiler = new Profiler(this);
    for (const i in this.ops)
    {
        this.ops[i].profile(enable);
    }
};

// ----------------------

/**
 * set variable value
 * @function setVariable
 * @memberof Patch
 * @instance
 * @param {String} name of variable
 * @param {Number|String|Boolean} val value
 */
Patch.prototype.setVariable = function (name, val)
{
    // if (this._variables.hasOwnProperty(name))
    if (this._variables[name] !== undefined)
    {
        this._variables[name].setValue(val);
    }
    else
    {
        this._log.warn("variable " + name + " not found!");
    }
};

Patch.prototype._sortVars = function ()
{
    if (!this.isEditorMode()) return;
    const ordered = {};
    Object.keys(this._variables).sort(
        (a, b) =>
        { return a.localeCompare(b, "en", { "sensitivity": "base" }); }
    ).forEach((key) =>
    {
        ordered[key] = this._variables[key];
    });
    this._variables = ordered;
};

/**
 * has variable
 * @function hasVariable
 * @memberof Patch
 * @instance
 * @param {String} name of variable
 */
Patch.prototype.hasVar = function (name)
{
    return this._variables[name] !== undefined;

    // return this._variables.hasOwnProperty(name);
};

// used internally
Patch.prototype.setVarValue = function (name, val, type)
{
    if (this.hasVar(name))
    {
        this._variables[name].setValue(val);
    }
    else
    {
        this._variables[name] = new core_variable(name, val, type);
        this._sortVars();
        this.emitEvent("variablesChanged");
    }
    return this._variables[name];
};
// old?
Patch.prototype.getVarValue = function (name, val)
{
    if (this._variables.hasOwnProperty(name)) return this._variables[name].getValue();
};

/**
 * @function getVar
 * @memberof Patch
 * @instance
 * @param {String} name
 * @return {Variable} variable
 */
Patch.prototype.getVar = function (name)
{
    if (this._variables.hasOwnProperty(name)) return this._variables[name];
};


Patch.prototype.deleteVar = function (name)
{
    for (let i = 0; i < this.ops.length; i++)
        for (let j = 0; j < this.ops[i].portsIn.length; j++)
            if (this.ops[i].portsIn[j].getVariableName() == name)
                this.ops[i].portsIn[j].setVariable(null);

    delete this._variables[name];
    this.emitEvent("variableDeleted", name);
    this.emitEvent("variablesChanged");
};

/**
 * @function getVars
 * @memberof Patch
 * @instance
 * @param t
 * @return {Array<Variable>} variables
 * @function
 */
Patch.prototype.getVars = function (t)
{
    if (t === undefined) return this._variables;

    const vars = [];
    if (t == CABLES.OP_PORT_TYPE_STRING) t = "string";
    if (t == CABLES.OP_PORT_TYPE_VALUE) t = "number";
    if (t == CABLES.OP_PORT_TYPE_ARRAY) t = "array";
    if (t == CABLES.OP_PORT_TYPE_OBJECT) t = "object";

    for (const i in this._variables)
    {
        if (!this._variables[i].type || this._variables[i].type == t) vars.push(this._variables[i]);
    }
    return vars;
};


/**
 * @function preRenderOps
 * @memberof Patch
 * @instance
 * @description invoke pre rendering of ops
 * @function
 */
Patch.prototype.preRenderOps = function ()
{
    this._log.log("prerendering...");

    for (let i = 0; i < this.ops.length; i++)
    {
        if (this.ops[i].preRender)
        {
            this.ops[i].preRender();
            this._log.log("prerender " + this.ops[i].objName);
        }
    }
};

/**
 * @function dispose
 * @memberof Patch
 * @instance
 * @description stop, dispose and cleanup patch
 */
Patch.prototype.dispose = function ()
{
    this.pause();
    this.clear();
    this.cgl.dispose();
};

Patch.prototype.pushTriggerStack = function (p)
{
    this._triggerStack.push(p);
};

Patch.prototype.popTriggerStack = function ()
{
    this._triggerStack.pop();
};

Patch.prototype.printTriggerStack = function ()
{
    if (this._triggerStack.length == 0)
    {
        // console.log("stack length", this._triggerStack.length); // eslint-disable-line
        return;
    }
    console.groupCollapsed( // eslint-disable-line
        "trigger port stack " + this._triggerStack[this._triggerStack.length - 1].op.objName + "." + this._triggerStack[this._triggerStack.length - 1].name,
    );

    const rows = [];
    for (let i = 0; i < this._triggerStack.length; i++)
    {
        rows.push(i + ". " + this._triggerStack[i].op.objName + " " + this._triggerStack[i].name);
    }

    console.table(rows); // eslint-disable-line
    console.groupEnd(); // eslint-disable-line
};

/**
 * returns document object of the patch could be != global document object when opening canvas ina popout window
 * @function getDocument
 * @memberof Patch
 * @instance
 * @return {Object} document
 */
Patch.prototype.getDocument = function ()
{
    return this.cgl.canvas.ownerDocument;
};

Patch.replaceOpIds = function (json, options)
{
    const opids = {};
    for (const i in json.ops)
    {
        opids[json.ops[i].id] = json.ops[i];
    }

    for (const j in json.ops)
    {
        for (const k in json.ops[j].portsOut)
        {
            const links = json.ops[j].portsOut[k].links;
            if (links)
            {
                let l = links.length;

                while (l--)
                {
                    if (links[l] && (!opids[links[l].objIn] || !opids[links[l].objOut]))
                    {
                        if (!options.doNotUnlinkLostLinks)
                        {
                            links.splice(l, 1);
                        }
                        else
                        {
                            if (options.fixLostLinks)
                            {
                                // console.log("lost link...?", links[l]);
                                const op = gui.corePatch().getOpById(links[l].objIn);
                                if (!op) console.log("op not found!");
                                else
                                {
                                    const outerOp = gui.patchView.getSubPatchOuterOp(op.uiAttribs.subPatch);
                                    if (outerOp)
                                    {
                                        op.storage = op.storage || {};
                                        op.storage.ref = op.storage.ref || CABLES.shortId();
                                        links[l].refOp = op.storage.ref;
                                        links[l].subOpRef = outerOp.storage.ref;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }



    for (const i in json.ops)
    {
        const op = json.ops[i];
        const oldId = op.id;
        let newId = CABLES.shortId();

        if (options.prefixHash) newId = prefixedHash(options.prefixHash + oldId);

        else if (options.prefixId) newId = options.prefixId + oldId;
        else if (options.refAsId) // when saving json
        {
            if (op.storage && op.storage.ref)
            {
                newId = op.storage.ref;
                delete op.storage.ref;
            }
            else
            {
                op.storage = op.storage || {};
                op.storage.ref = newId = CABLES.shortId();
            }
        }

        const newID = op.id = newId;

        if (options.oldIdAsRef) // when loading json
        {
            op.storage = op.storage || {};
            op.storage.ref = oldId;
        }

        for (const j in json.ops)
        {
            if (json.ops[j].portsIn)
                for (const k in json.ops[j].portsIn)
                {
                    if (json.ops[j].portsIn[k].links)
                    {
                        let l = json.ops[j].portsIn[k].links.length;

                        while (l--) if (json.ops[j].portsIn[k].links[l] === null) json.ops[j].portsIn[k].links.splice(l, 1);

                        for (l in json.ops[j].portsIn[k].links)
                        {
                            if (json.ops[j].portsIn[k].links[l].objIn === oldId) json.ops[j].portsIn[k].links[l].objIn = newID;
                            if (json.ops[j].portsIn[k].links[l].objOut === oldId) json.ops[j].portsIn[k].links[l].objOut = newID;
                        }
                    }
                }

            if (json.ops[j].portsOut)
                for (const k in json.ops[j].portsOut)
                {
                    if (json.ops[j].portsOut[k].links)
                    {
                        let l = json.ops[j].portsOut[k].links.length;

                        while (l--) if (json.ops[j].portsOut[k].links[l] === null) json.ops[j].portsOut[k].links.splice(l, 1);

                        for (l in json.ops[j].portsOut[k].links)
                        {
                            if (json.ops[j].portsOut[k].links[l].objIn === oldId) json.ops[j].portsOut[k].links[l].objIn = newID;
                            if (json.ops[j].portsOut[k].links[l].objOut === oldId) json.ops[j].portsOut[k].links[l].objOut = newID;
                        }
                    }
                }
        }
    }

    // set correct subpatch
    const subpatchIds = [];
    const fixedSubPatches = [];

    for (let i = 0; i < json.ops.length; i++)
    {
        // if (CABLES.Op.isSubPatchOpName(json.ops[i].objName))
        if (json.ops[i].storage && json.ops[i].storage.subPatchVer)
        {
            for (const k in json.ops[i].portsIn)
            {
                if (json.ops[i].portsIn[k].name === "patchId")
                {
                    let newId = shortId();

                    if (options.prefixHash) newId = prefixedHash(options.prefixHash + json.ops[i].portsIn[k].value);

                    const oldSubPatchId = json.ops[i].portsIn[k].value;
                    const newSubPatchId = json.ops[i].portsIn[k].value = newId;

                    subpatchIds.push(newSubPatchId);

                    for (let j = 0; j < json.ops.length; j++)
                    {
                        // op has no uiAttribs in export, we don't care about subpatches in export though
                        if (json.ops[j].uiAttribs)
                        {
                            if (json.ops[j].uiAttribs.subPatch === oldSubPatchId)
                            {
                                json.ops[j].uiAttribs.subPatch = newSubPatchId;
                                fixedSubPatches.push(json.ops[j].id);
                            }
                        }
                    }
                }
            }
        }
    }

    for (const kk in json.ops)
    {
        let found = false;
        for (let j = 0; j < fixedSubPatches.length; j++)
        {
            if (json.ops[kk].id === fixedSubPatches[j])
            {
                found = true;
                break;
            }
        }
        // op has no uiAttribs in export, we don't care about subpatches in export though
        if (!found && json.ops[kk].uiAttribs && options.parentSubPatchId != null)
            json.ops[kk].uiAttribs.subPatch = options.parentSubPatchId;
    }

    return json;
};

/**
 * remove an eventlistener
 * @instance
 * @function addEventListener
 * @param {String} name of event
 * @param {function} callback
 */

/**
 * remove an eventlistener
 * @instance
 * @function removeEventListener
 * @param {String} name of event
 * @param {function} callback
 */

/**
 * op added to patch event
 * @event onOpAdd
 *
 * @memberof Patch
 * @type {Object}
 * @property {Op} op new op
 */

/**
 * op deleted from patch
 * @event onOpDelete
 * @memberof Patch
 * @type {Object}
 * @property {Op} op that will be deleted
 */

/**
 * link event - two ports will be linked
 * @event onLink
 * @memberof Patch
 * @type {Object}
 * @property {Port} port1
 * @property {Port} port2
 */

/**
 * unlink event - a link was deleted
 * @event onUnLink
 * @memberof Patch
 * @type {Object}
 */

/**
 * variables has been changed / a variable has been added to the patch
 * @event variablesChanged
 * @memberof Patch
 * @type {Object}
 * @property {Port} port1
 * @property {Port} port2
 */

/**
 * configuration object for loading a patch
 * @typedef {Object} PatchConfig
 * @hideconstructor
 * @property {String} [prefixAssetPath=''] prefix for path to assets
 * @property {String} [assetPath=''] path to assets
 * @property {String} [jsPath=''] path to javascript files
 * @property {String} [glCanvasId='glcanvas'] dom element id of canvas element
 * @property {Function} [onError=null] called when an error occurs
 * @property {Function} [onFinishedLoading=null] called when patch finished loading all assets
 * @property {Function} [onFirstFrameRendered=null] called when patch rendered it's first frame
 * @property {Boolean} [glCanvasResizeToWindow=false] resize canvas automatically to window size
 * @property {Boolean} [doRequestAnimation=true] do requestAnimationFrame set to false if you want to trigger exec() from outside (only do if you know what you are doing)
 * @property {Boolean} [clearCanvasColor=true] clear canvas in transparent color every frame
 * @property {Boolean} [clearCanvasDepth=true] clear depth every frame
 * @property {Boolean} [glValidateShader=true] enable/disable validation of shaders *
 * @property {Boolean} [silent=false]
 * @property {Number} [fpsLimit=0] 0 for maximum possible frames per second
 * @property {String} [glslPrecision='mediump'] default precision for glsl shader
 *
 */

/* harmony default export */ const core_patch = (Patch);

;// CONCATENATED MODULE: ./src/core/embedding.js



const EMBED = {};

/**
 * add patch into html element (will create canvas and set size to fill containerElement)
 * @name CABLES.EMBED#addPatch
 * @param {object|string} _element containerElement dom element or id of element
 * @param {object} options patch options
 * @function
 */
EMBED.addPatch = function (_element, options)
{
    let el = _element;
    let id = generateUUID();
    if (typeof _element == "string")
    {
        id = _element;
        el = document.getElementById(id);

        if (!el)
        {
            console.error(id + " Polyshape Container Element not found!");
            return;
        }
    }

    const canvEl = document.createElement("canvas");
    canvEl.id = "glcanvas_" + id;
    canvEl.width = el.clientWidth;
    canvEl.height = el.clientHeight;

    window.addEventListener(
        "resize",
        function ()
        {
            this.setAttribute("width", el.clientWidth);
            this.height = el.clientHeight;
        }.bind(canvEl),
    );

    el.appendChild(canvEl);

    options = options || {};
    options.glCanvasId = canvEl.id;

    if (!options.onError)
    {
        options.onError = function (err)
        {
            console.error(err);
        };
    }

    CABLES.patch = new core_patch(options);
    return canvEl;
};



;// CONCATENATED MODULE: ./src/core/webaudio.js
/** @namespace WEBAUDIO */



const WEBAUDIO = {};

WEBAUDIO.toneJsInitialized = false;

/*
 * External JSDoc definitions
 */

/**
 * Part of the Web Audio API, the AudioBuffer interface represents a short audio asset residing in memory.
 * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/AudioBuffer}
 */

/**
 * Part of the Web Audio API, the AudioNode interface is a generic interface for representing an audio processing module.
 * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/AudioNode}
 */

/**
 * The AudioContext interface represents an audio-processing graph built from audio modules linked together
 * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/AudioContext}
 */

/**
 * Checks if a global audio context has been created and creates
 * it if necessary. This audio context can be used for native Web Audio as well as Tone.js ops.
 * Associates the audio context with Tone.js if it is being used
 * @param {CABLES.Op} op - The operator which needs the Audio Context
 */
WEBAUDIO.createAudioContext = function (op)
{
    window.AudioContext = window.AudioContext || window.webkitAudioContext;
    if (window.AudioContext)
    {
        if (!window.audioContext)
        {
            window.audioContext = new AudioContext();
        }
        // check if tone.js lib is being used
        if (window.Tone && !WEBAUDIO.toneJsInitialized)
        {
            // set current audio context in tone.js
            Tone.setContext(window.audioContext);
            WEBAUDIO.toneJsInitialized = true;
        }
    }
    else
    {
        if (op.patch.config.onError)op.logError("NO_WEBAUDIO", "Web Audio is not supported in this browser.");
        return;
    }
    return window.audioContext;
};

/**
 * Returns the audio context.
 * Before `createAudioContext` must have been called at least once.
 * It most cases you should use `createAudioContext`, which just returns the audio context
 * when it has been created already.
 */
WEBAUDIO.getAudioContext = function ()
{
    return window.audioContext;
};

/**
 * Creates an audio in port for the op with name `portName`
 * When disconnected it will disconnect the previous connected audio node
 * from the op's audio node.
 * @param {CABLES.Op} op - The operator to create the audio port in
 * @param {string} portName - The name of the port
 * @param {AudioNode} audioNode - The audionode incoming connections should connect to
 * @param {number} [inputChannelIndex=0] - If the audio node has multiple inputs, this is the index of the input channel to connect to
 * @returns {CABLES.Port|undefined} - The newly created audio in port or `undefined` if there was an error
 */
WEBAUDIO.createAudioInPort = function (op, portName, audioNode, inputChannelIndex)
{
    if (!op || !portName || !audioNode)
    {
        const msg = "ERROR: createAudioInPort needs three parameters, op, portName and audioNode";
        op.log(msg);
        throw new Error(msg);
        // return;
    }
    if (!inputChannelIndex)
    {
        inputChannelIndex = 0;
    }
    op.webAudio = op.webAudio || {};
    op.webAudio.audioInPorts = op.webAudio.audioInPorts || [];
    const port = op.inObject(portName);
    port.webAudio = {};
    port.webAudio.previousAudioInNode = null;
    port.webAudio.audioNode = audioNode;

    op.webAudio.audioInPorts[portName] = port;

    port.onChange = function ()
    {
        const audioInNode = port.get();
        // when port disconnected, disconnect audio nodes
        if (!audioInNode)
        {
            if (port.webAudio.previousAudioInNode)
            {
                try
                {
                    if (port.webAudio.previousAudioInNode.disconnect) port.webAudio.previousAudioInNode.disconnect(port.webAudio.audioNode, 0, inputChannelIndex);
                    op.setUiError("audioCtx", null);
                }
                catch (e)
                {
                    try
                    {
                        port.webAudio.previousAudioInNode.disconnect(port.webAudio.audioNode);
                    }
                    catch (er)
                    {
                        op.log(
                            "Disconnecting audio node with in/out port index, as well as without in/out-port-index did not work ",
                            e,
                        );
                        if (e.printStackTrace)
                        {
                            e.printStackTrace();
                        }
                        throw e;
                    }
                }
            }
        }
        else
        {
            try
            {
                if (audioInNode.connect)
                {
                    audioInNode.connect(port.webAudio.audioNode, 0, inputChannelIndex);
                    op.setUiError("audioCtx", null);
                }
                else op.setUiError("audioCtx", "The passed input is not an audio context. Please make sure you connect an audio context to the input.", 2);
            }
            catch (e)
            {
                op.log("Error: Failed to connect web audio node!", e);
                op.log("port.webAudio.audioNode", port.webAudio.audioNode);
                op.log("audioInNode: ", audioInNode);
                op.log("inputChannelIndex:", inputChannelIndex);
                op.log("audioInNode.connect: ", audioInNode.connect);
                throw e;
            }
        }
        port.webAudio.previousAudioInNode = audioInNode;
    };
    // TODO: Maybe add subtype to audio-node-object?
    return port;
};

/**
 * Sometimes it is necessary to replace a node of a port, if so all
 * connections to this node must be disconnected and connections to the new
 * node must be made.
 * Can be used for both Audio ports as well as AudioParam ports
 * if used with an AudioParam pass e.g. `synth.frequency` as newNode
 * @param {CABLES.Port} port - The port where the audio node needs to be replaced
 * @param oldNode
 * @param newNode
 */
WEBAUDIO.replaceNodeInPort = function (port, oldNode, newNode)
{
    const connectedNode = port.webAudio.previousAudioInNode;
    // check if connected
    if (connectedNode && connectedNode.disconnect)
    {
        try
        {
            connectedNode.disconnect(oldNode);
        }
        catch (e)
        {
            if (e.printStackTrace)
            {
                e.printStackTrace();
            }
            throw new Error("replaceNodeInPort: Could not disconnect old audio node. " + e.name + " " + e.message);
        }
        port.webAudio.audioNode = newNode;
        try
        {
            connectedNode.connect(newNode);
        }
        catch (e)
        {
            if (e.printStackTrace)
            {
                e.printStackTrace();
            }
            throw new Error("replaceNodeInPort: Could not connect to new node. " + e.name + " " + e.message);
        }
    }
};

/**
 * Creates an audio out port which takes care of (dis-)connecting on its own
 * @param {CABLES.op} op - The op to create an audio out port for
 * @param {string} portName - The name of the port to be created
 * @param {AudioNode} audioNode - The audio node to link to the port
 * @returns {(CABLES.Port|undefined)} - The newly created audio out port or `undefined` if there was an error
 */
WEBAUDIO.createAudioOutPort = function (op, portName, audioNode)
{
    if (!op || !portName || !audioNode)
    {
        const msg = "ERROR: createAudioOutPort needs three parameters, op, portName and audioNode";
        op.log(msg);
        throw new Error(msg);
    }

    const port = op.outObject(portName);
    // TODO: Maybe add subtype to audio-node-object?
    port.set(audioNode);
    return port;
};

/**
 * Creates an audio param in port for the op with name portName.
 * The port accepts other audio nodes as signals as well as values (numbers)
 * When the port is disconnected it will disconnect the previous connected audio node
 * from the op's audio node and restore the number value set before.
 * @param {CABLES.Op} op - The operator to create an audio param input port for
 * @param {string} portName - The name of the port to create
 * @param audioNode
 * @param options
 * @param defaultValue
 * @returns {(CABLES.Port|undefined)} - The newly created port, which takes care of (dis-)connecting on its own, or `undefined` if there was an error
 */
WEBAUDIO.createAudioParamInPort = function (op, portName, audioNode, options, defaultValue)
{
    if (!op || !portName || !audioNode)
    {
        op.log("ERROR: createAudioParamInPort needs three parameters, op, portName and audioNode");
        if (op && op.name) op.log("opname: ", op.name);
        op.log("portName", portName);
        op.log("audioNode: ", audioNode);
        return;
    }
    op.webAudio = op.webAudio || {};
    op.webAudio.audioInPorts = op.webAudio.audioInPorts || [];
    // var port = op.inObject(portName);
    const port = op.inDynamic(
        portName,
        [CONSTANTS.OP.OP_PORT_TYPE_VALUE, CONSTANTS.OP.OP_PORT_TYPE_OBJECT],
        options,
        defaultValue,
    );
    port.webAudio = {};
    port.webAudio.previousAudioInNode = null;
    port.webAudio.audioNode = audioNode;

    op.webAudio.audioInPorts[portName] = port;

    // port.onLinkChanged = function() {
    //   op.log("onLinkChanged");
    //   if(port.isLinked()) {
    //
    //       if(port.links[0].portOut.type === CABLES.CONSTANTS.OP.OP_PORT_TYPE_) { // value
    //
    //       } else if(port.links[0].portOut.type === CABLES.CONSTANTS.OP.OP_PORT_TYPE_OBJECT) { // object
    //
    //       }
    //   } else { // unlinked
    //
    //   }
    // };

    port.onChange = function ()
    {
        const audioInNode = port.get();
        const node = port.webAudio.audioNode;
        const audioCtx = WEBAUDIO.getAudioContext();

        if (audioInNode != undefined)
        {
            if (typeof audioInNode === "object" && audioInNode.connect)
            {
                try
                {
                    audioInNode.connect(node);
                }
                catch (e)
                {
                    op.log("Could not connect audio node: ", e);
                    if (e.printStackTrace)
                    {
                        e.printStackTrace();
                    }
                    throw e;
                }
                port.webAudio.previousAudioInNode = audioInNode;
            }
            else
            {
                // tone.js audio param
                if (node._param && node._param.minValue && node._param.maxValue)
                {
                    if (audioInNode >= node._param.minValue && audioInNode <= node._param.maxValue)
                    {
                        try
                        {
                            if (node.setValueAtTime)
                            {
                                node.setValueAtTime(audioInNode, audioCtx.currentTime);
                            }
                            else
                            {
                                node.value = audioInNode;
                            }
                        }
                        catch (e)
                        {
                            op.log("Possible AudioParam problem with tone.js op: ", e);
                            if (e.printStackTrace)
                            {
                                e.printStackTrace();
                            }
                            throw e;
                        }
                    }
                    else
                    {
                        op.log("Warning: The value for an audio parameter is out of range!");
                    }
                } // native Web Audio param
                else if (node.minValue && node.maxValue)
                {
                    if (audioInNode >= node.minValue && audioInNode <= node.maxValue)
                    {
                        try
                        {
                            if (node.setValueAtTime)
                            {
                                node.setValueAtTime(audioInNode, audioCtx.currentTime);
                            }
                            else
                            {
                                node.value = audioInNode;
                            }
                        }
                        catch (e)
                        {
                            op.log(
                                "AudioParam has minValue / maxValue defined, and value is in range, but setting the value failed! ",
                                e,
                            );
                            if (e.printStackTrace)
                            {
                                e.printStackTrace();
                            }
                            throw e;
                        }
                    }
                    else
                    {
                        op.log("Warning: The value for an audio parameter is out of range!");
                    }
                } // no min-max values, try anyway
                else
                {
                    try
                    {
                        if (node.setValueAtTime)
                        {
                            node.setValueAtTime(audioInNode, audioCtx.currentTime);
                        }
                        else
                        {
                            node.value = audioInNode;
                        }
                    }
                    catch (e)
                    {
                        op.log("Possible AudioParam problem (without minValue / maxValue): ", e);
                        if (e.printStackTrace)
                        {
                            e.printStackTrace();
                        }
                        throw e;
                    }
                }

                if (port.webAudio.previousAudioInNode && port.webAudio.previousAudioInNode.disconnect)
                {
                    try
                    {
                        port.webAudio.previousAudioInNode.disconnect(node);
                    }
                    catch (e)
                    {
                        op.log("Could not disconnect previous audio node: ", e);
                        throw e;
                    }
                    port.webAudio.previousAudioInNode = undefined;
                }
            }
        }
        else
        {
            // disconnected
            if (port.webAudio.previousAudioInNode)
            {
            }
        }
    };
    return port;
};


/**
 * Loads an audio file and updates the loading indicators when cables is run in the editor.
 * @param {CABLES.Patch} patch - The cables patch, when called from inside an op this is `op.patch`
 * @param {string} url - The url of the audio file to load
 * @param {function} onFinished - The callback to be called when the loading is finished, passes the AudioBuffer
 * @param {function} onError - The callback when there was an error loading the file, the rror message is passed
 * @param loadingTask
 * @see {@link https://developer.mozilla.org/de/docs/Web/API/AudioContext/decodeAudioData}
 */
WEBAUDIO.loadAudioFile = function (patch, url, onFinished, onError, loadingTask)
{
    const audioContext = WEBAUDIO.createAudioContext();

    if (!audioContext) onError(new Error("No Audiocontext"));

    let loadingId = null;
    if (loadingTask || loadingTask === undefined)
    {
        loadingId = patch.loading.start("audio", url);
        if (patch.isEditorMode()) gui.jobs().start({ "id": "loadaudio" + loadingId, "title": " loading audio (" + url + ")" });
    }
    const request = new XMLHttpRequest();

    if (!url) return;

    request.open("GET", url, true);
    request.responseType = "arraybuffer";

    request.onload = function ()
    {
        patch.loading.finished(loadingId);
        if (patch.isEditorMode()) gui.jobs().finish("loadaudio" + loadingId);

        audioContext.decodeAudioData(request.response, onFinished, onError).catch((e) =>
        {
            onError(e);
        });
    };
    request.send();
};

/**
 * Checks if the passed time is a valid time to be used in any of the Tone.js ops.
 * @param {(string|number)} t - The time to check
 * @returns {boolean} - True if time is valid, false if not
 */
WEBAUDIO.isValidToneTime = function (t)
{
    try
    {
        const time = new Tone.Time(t);
    }
    catch (e)
    {
        return false;
    }
    return true;
};

/**
 * Checks if the passed note is a valid note to be used with Tone.js
 * @param {string} note - The note to be checked, e.g. `"C4"`
 * @returns {boolean} - True if the note is a valid note, false otherwise
 */
WEBAUDIO.isValidToneNote = function (note)
{
    try
    {
        Tone.Frequency(note);
    }
    catch (e)
    {
        return false;
    }
    return true;
};



;// CONCATENATED MODULE: ./src/core/sessionvar.js
// todo: old... remove this from ops...

/**
 * todo: old... remove this from ops...
 *
 * @class
 */
const Variable = function ()
{
    let value = null;
    const changedCallbacks = [];

    this.onChanged = function (f)
    {
        changedCallbacks.push(f);
    };

    this.getValue = function ()
    {
        return value;
    };

    this.setValue = function (v)
    {
        value = v;
        this.emitChanged();
    };

    this.emitChanged = function ()
    {
        for (let i = 0; i < changedCallbacks.length; i++)
        {
            changedCallbacks[i]();
        }
    };
};



;// CONCATENATED MODULE: ./src/core/cgp/cgp_uniform.js



class cgp_uniform_Uniform extends cg_uniform
{
    constructor(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName)
    {
        super(__shader, __type, __name, _value, _port2, _port3, _port4, _structUniformName, _structName, _propertyName);
        this._cgp = __shader._cgp;

        if (this.getType() == "t" && !_value) this._value = this._cgp.getEmptyTexture();

        this.gpuBuffer = null;
    }


    updateValueF() { }

    updateValueArrayF() {}

    setValueArrayF(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    setValueF(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValue2F() { }

    setValue2F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValue3F() { }

    setValue3F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValue4F() { }

    setValue4F(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    setValueT(v)
    {
        if (this._value != v)
            this._shader.needsPipelineUpdate = "texture changed"; // todo really needed ? change binding instead?

        this.needsUpdate = true;
        this._value = v;
    }

    updateValueM4(v) {}

    setValueM4(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    setValueAny(v)
    {
        this.needsUpdate = true;
        this._value = v;
    }

    updateValueAny() {}

    updateValueT() {}


    setGpuBuffer(b)
    {
        this.gpuBuffer = b;
    }

    copyToBuffer(buff, pos = 0)
    {
        if (this._type == "f")
        {
            buff[pos] = this._value;
        }
        else if (this._type == "t")
        {
        }
        else if (this._type == "4f")
        {
            buff[pos] = this._value[0];
            buff[pos + 1] = this._value[1];
            buff[pos + 2] = this._value[2];
            buff[pos + 3] = this._value[3];
        }
        else if (this._type == "f[]")
        {
            for (let i = 0; i < this._value.length; i++)
                buff[pos + i] = this._value[i];
        }
        else if (this._type == "m4")
        {
            for (let i = 0; i < 16; i++)
                buff[pos + i] = this._value[i];
        }
        else
        {
            this._log.warn("uniform copy to buffer unknown", this._type);
        }
    }

    getSizeBytes()
    {
        const bytesPerFloat = 4;
        const bytesPerInt = 4;
        if (this._type == "t") return 4;
        if (this._type == "sampler") return 4;
        if (this._type == "f") return 1 * bytesPerFloat;
        if (this._type == "2f") return 2 * bytesPerFloat;
        if (this._type == "3f") return 3 * bytesPerFloat;
        if (this._type == "4f") return 4 * bytesPerFloat;
        if (this._type == "f[]") return this._value.length * bytesPerFloat;

        if (this._type == "m4") return 4 * 4 * bytesPerFloat;

        if (this._type == "i") return 1 * bytesPerInt;
        if (this._type == "2i") return 2 * bytesPerInt;

        this._log.warn("unknown type getSizeBytes", this._type);
        return 4;
    }
}

;// CONCATENATED MODULE: ./src/core/cg/preproc.js
function preproc(str, vars)
{
    const lines = str.split("\n");
    const outLines = [];
    let stack = [];

    for (let i = 0; i < lines.length; i++)
    {
        let line = lines[i].trim();
        let parts = line.split(" ");

        if (line.startsWith("#ifdef "))
        {
            const s = vars[parts[1]];
            stack.push({ "state": s });
            continue;
        }
        if (line.startsWith("#ifndef "))
        {
            const s = vars[parts[1]];
            stack.push({ "state": !s });
            continue;
        }
        if (line.startsWith("#endif"))
        {
            stack.pop();
            continue;
        }
        const state = stack[stack.length - 1];

        if (line.startsWith("#else"))
        {
            state.state = !state.state;
            continue;
        }

        if (!state || state.state)
        {
            outLines.push(lines[i]);
        }
    }

    return outLines.join("\n");
}

;// CONCATENATED MODULE: ./src/core/cgp/cgp_gpubuffer.js


class GPUBuffer extends EventTarget
{
    constructor(cgp, name, data = null, options = {})
    {
        super();

        this.id = CABLES.shortId();

        this._name = name;
        this.floatArr = null;
        this._gpuBuffer = null;

        this.setData([0, 0, 0, 0]);
        this.needsUpdate = true;
        this._length = 0;

        if (options.buffCfg)
        {
            this._buffCfg = options.buffCfg;
        }

        if (data)
            this.setData(data);

        if (options.length) this.setLength(options.length);

        this.updateGpuBuffer(cgp);
    }

    setData(d)
    {
        // console.log((new Error()).stack);

        this.floatArr = new Float32Array(d);
        this.setLength(this.floatArr.length);

        // console.log(this.name, this.floatArr);
        this.needsUpdate = true;
    }

    setLength(s)
    {
        this._length = s;
        if (!this.floatArr || s != this.floatArr.length)
        {
            this.floatArr = new Float32Array(this._length);
            this.needsUpdate = true;
        }
    }

    updateGpuBuffer(cgp)
    {
        if (cgp) this._cgp = cgp;
        if (!this._cgp || !this._cgp.device)
        {
            console.log("no cgp...", this._name, this._cgp);
            return;
        }

        this._cgp.pushErrorScope("updateGpuBuffer");
        if (!this._gpuBuffer)
        {
            this._buffCfg = this._buffCfg || {};
            this._buffCfg.label = "gpuBuffer-" + this._name;
            if (!this._buffCfg.hasOwnProperty("size") && this.floatArr) this._buffCfg.size = this.floatArr.length * 4;
            this._buffCfg.usage = this._buffCfg.usage || (GPUBufferUsage.COPY_DST | GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC);

            this._gpuBuffer = this._cgp.device.createBuffer(this._buffCfg);
        }

        if (this.floatArr)
            this._cgp.device.queue.writeBuffer(
                this._gpuBuffer,
                0,
                this.floatArr.buffer,
                this.floatArr.byteOffset,
                this.floatArr.byteLength
            );

        // this._gpuBuffer.unmap();

        this._cgp.popErrorScope();

        this.needsUpdate = false;
    }

    get gpuBuffer()
    {
        if (!this._gpuBuffer || this.needsUpdate) this.updateGpuBuffer();

        return this._gpuBuffer;
    }

    get length()
    {
        return this._length;
    }

    getSizeBytes()
    {
        return this.floatArr.length * 4;
    }

    dispose()
    {
        // setTimeout(() =>
        // {
        //     if (this._gpuBuffer) this._gpuBuffer.destroy();
        // }, 100);
    }
}

;// CONCATENATED MODULE: ./src/core/cgp/cgp_binding.js



class Binding
{
    /**
     * Description
     * @param {any} cgp
     * @param {any} idx
     * @param {string} name
     * @param {any} options={}
     */
    constructor(cgp, idx, name, options = {})
    {
        this.idx = idx;
        this._name = name;
        this._cgp = cgp;
        this._log = new Logger("cgp_binding");
        this.uniforms = [];
        // this.cGpuBuffer = null;
        this.cGpuBuffers = [];

        this.shader = null;

        if (typeof options != "object") this._log.error("binding options is not an object");


        this.bindingInstances = [];
        this.stageStr = options.stage;
        this.bindingType = options.bindingType || "uniform"; // "uniform", "storage", "read-only-storage",

        this.stage = GPUShaderStage.VERTEX;
        if (this.stageStr == "frag") this.stage = GPUShaderStage.FRAGMENT;

        if (options.shader) this.shader = options.shader;

        this._buffer = null;
        this.isValid = true;
        this.changed = 0;

        if (options.shader)
        {
            if (this.stageStr == "frag") options.shader.bindingsFrag.push(this);
            if (this.stageStr == "vert") options.shader.bindingsVert.push(this);
        }

        this._cgp.on("deviceChange", () =>
        {
            // this.reInit();
        });
    }

    addUniform(uni)
    {
        this.uniforms.push(uni);
    }

    getSizeBytes()
    {
        let size = 0;
        for (let i = 0; i < this.uniforms.length; i++)
        {
            // console.log("UNIFORM!!!", i, this.uniforms[i], this.uniforms[i].getSizeBytes());
            // console.log("getSizeBytes", this.uniforms[i], this.uniforms[i].getSizeBytes);
            size += this.uniforms[i].getSizeBytes();
        }
        // if (this.uniforms.length == 0)console.log("NO UNIFORMS!!!");
        return size;
    }

    getBindingGroupLayoutEntry()
    {
        let label = "layout " + this._name + " [";
        for (let i = 0; i < this.uniforms.length; i++)
            label += this.uniforms[i].getName() + ",";

        label += "]";

        const o = {
            "label": label,
            "binding": this.idx,
            "visibility": this.stage,
            "size": this.getSizeBytes()
        };

        if (this.uniforms.length == 1 && this.uniforms[0].getType() == "t")
        {
            o.texture = {};
        }
        else if (this.uniforms.length == 1 && this.uniforms[0].getType() == "sampler")
        {
            o.sampler = {};
        }
        else
        {
            o.buffer = {};
            o.buffer.type = this.bindingType;
        }

        return o;
    }

    getBindingGroupEntry(gpuDevice, inst)
    {
        this.isValid = false;

        const o = {
            "label": this._name + " binding",
            "binding": this.idx,
            "size": this.getSizeBytes(),
            "visibility": this.stage,
        };

        if (this.uniforms.length == 1 && this.uniforms[0].getType() == "t")
        {
            if (this.uniforms[0].getValue() && this.uniforms[0].getValue().gpuTexture) o.resource = this.uniforms[0].getValue().gpuTexture.createView();
            else o.resource = this._cgp.getEmptyTexture().createView();// CABLES.emptyCglTexture.createView();
        }
        else if (this.uniforms.length == 1 && this.uniforms[0].getType() == "sampler")
        {
            const sampler = this.uniforms[0]._cgp.device.createSampler({
                "addressModeU": "repeat",
                "addressModeV": "repeat",
                "magFilter": "linear",
                "minFilter": "linear",
                "mipmapFilter": "linear",
            });
            o.resource = sampler;
        }
        else
        {
            let buffCfg = {
                "label": this._name,
                "size": this.getSizeBytes(),
                "usage": GPUBufferUsage.COPY_DST | GPUBufferUsage.UNIFORM,
            };

            if (this.bindingType == "read-only-storage" || this.bindingType == "storage") buffCfg.usage = GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST;

            if (this.cGpuBuffers[inst]) this.cGpuBuffers[inst].dispose();
            this.cGpuBuffers[inst] = new GPUBuffer(this._cgp, "buff", null, { "buffCfg": buffCfg });

            if (this.uniforms[0].gpuBuffer) this.cGpuBuffers[inst] = this.uniforms[0].gpuBuffer;

            o.resource = {
                "buffer": this.cGpuBuffers[inst].gpuBuffer,
                "minBindingSize": this.getSizeBytes(),
                "hasDynamicOffset": 0
            };
        }

        this.isValid = true;
        this.bindingInstances[inst] = o;

        return o;
    }



    update(cgp, inst)
    {
        let b = this.bindingInstances[inst];
        if (!b) b = this.getBindingGroupEntry(cgp.device, inst);

        if (this.uniforms.length == 1 && this.uniforms[0].gpuBuffer)
        {
            if (this.uniforms[0].gpuBuffer != this.cGpuBuffers[inst])
            {
                console.log("changed?!");
                this.shader._needsRecompile = true; // TODO this should actually just rebuild the bindinggroup i guess ?
            }

            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("extern uni bind", [this.uniforms[0].getName(), this.cGpuBuffers[inst].floatArr]);
            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();
        }
        else
        if (this.uniforms.length == 1 && this.uniforms[0].getType() == "t")
        {
            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("uni texture");
            if (this.uniforms[0].getValue())
                if (this.uniforms[0].getValue().gpuTexture)
                {
                    this.bindingInstances[inst] = this.getBindingGroupEntry(this.uniforms[0]._cgp.device, inst);
                }
                else
                {
                    b.resource = CABLES.errorTexture.createView();
                }

            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();
        }
        else if (this.uniforms.length == 1 && this.uniforms[0].getType() == "sampler")
        {
            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("uni sampler");
            b.resource = this.uniforms[0].getValue();
            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();
        }
        else
        {
            let info = ["stage " + this.stageStr + " / inst " + inst];

            // console.log("B",this.);


            // update uniform values to buffer
            const s = this.getSizeBytes() / 4;
            this.cGpuBuffers[inst].setLength(s);

            let off = 0;
            for (let i = 0; i < this.uniforms.length; i++)
            {
                info.push(this.uniforms[i].getName() + " " + this.uniforms[i].getValue());
                this.uniforms[i].copyToBuffer(this.cGpuBuffers[inst].floatArr, off); // todo: check if uniform changed?
                off += this.uniforms[i].getSizeBytes() / 4;
            }
            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("uni buff", info);


            // console.log("upodate", inst);

            this.cGpuBuffers[inst].updateGpuBuffer();
            // todo: only if changed...
            // cgp.device.queue.writeBuffer(
            //     b.resource.buffer,
            //     0,
            //     this._buffer.buffer,
            //     this._buffer.byteOffset,
            //     this._buffer.byteLength
            // );

            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();
        }
    }
}

;// CONCATENATED MODULE: ./src/core/cgp/cgp_shader.js






class cgp_shader_Shader extends CgShader
{
    constructor(_cgp, _name, options = {})
    {
        super();
        if (!_cgp) throw new Error("shader constructed without cgp " + _name);
        this._log = new Logger("cgp_shader");
        this._cgp = _cgp;
        this._name = _name;
        this._uniforms = [];
        this.compute = options.compute || false;

        if (!_name) this._log.stack("no shader name given");
        this._name = _name || "unknown";
        this._compileReason = "";
        this.gpuShaderModule = null;
        this._needsRecompile = true;

        this.defaultBindingVert = new Binding(_cgp, 0, "defaultVert", { "stage": "vert", "bindingType": "uniform" });
        this.defaultBindingFrag = new Binding(_cgp, 1, "defaultFrag", { "stage": "frag", "bindingType": "uniform" });
        this.defaultBindingComp = new Binding(_cgp, 1, "defaultComp", { "bindingType": "uniform" });
        this.bindingsFrag = [this.defaultBindingFrag];
        this.bindingsVert = [this.defaultBindingVert];
        this.bindingsComp = [this.defaultBindingComp];

        if (!this.compute)
        {
            this.uniModelMatrix = this.addUniformVert("m4", "modelMatrix");
            this.uniViewMatrix = this.addUniformVert("m4", "viewMatrix");
            this.uniProjMatrix = this.addUniformVert("m4", "projMatrix");
            this.uniNormalMatrix = this.addUniformVert("m4", "normalMatrix");
            this.uniModelViewMatrix = this.addUniformVert("m4", "modelViewMatrix");
            this._tempNormalMatrix = mat4.create();
            this._tempModelViewMatrix = mat4.create();
        }

        this.bindingCounter = 0;
        this.bindCountlastFrame = -1;

        this._src = "";

        this._cgp.on("deviceChange", () =>
        {
            this.gpuShaderModule = null;
            this._needsRecompile = "device changed";
        });
    }

    incBindingCounter()
    {
        if (this.bindCountlastFrame != this._cgp.frame) this.bindingCounter = 0;
        else this.bindingCounter++;
        this.bindCountlastFrame = this._cgp.frame;
    }

    reInit()
    {

    }

    get isValid()
    {
        return this._isValid;
    }

    get uniforms()
    {
        return this._uniforms;
    }

    getName()
    {
        return this._name;
    }

    setWhyCompile(why)
    {
        this._compileReason = why;
    }

    setSource(src)
    {
        this._src = src;
        this.setWhyCompile("Source changed");
        this._needsRecompile = true;
    }

    compile()
    {
        this._isValid = true;
        this._cgp.pushErrorScope("cgp_shader " + this._name);

        const defs = {};
        for (let i = 0; i < this._defines.length; i++)
            defs[this._defines[i][0]] = this._defines[i][1] || true;

        const src = preproc(this._src, defs);

        this.gpuShaderModule = this._cgp.device.createShaderModule({ "code": src, "label": this._name });
        this._cgp.popErrorScope(this.error.bind(this));
        this._needsRecompile = false;

        this.emitEvent("compiled");
    }

    error(e)
    {
        this._isValid = false;
    }

    bind()
    {
        if (!this.compute)
        {
            this.uniModelMatrix.setValue(this._cgp.mMatrix);
            this.uniViewMatrix.setValue(this._cgp.vMatrix);
            this.uniProjMatrix.setValue(this._cgp.pMatrix);

            // mat4.invert(this._tempNormalMatrix, this._cgp.mMatrix);
            // mat4.transpose(this._tempNormalMatrix, this._tempNormalMatrix);
            mat4.mul(this._tempModelViewMatrix, this._cgp.vMatrix, this._cgp.mMatrix);



            // mat4.set(this._tempNormalMatrix, this._tempModelViewMatrix);
            mat4.invert(this._tempNormalMatrix, this._tempModelViewMatrix);
            mat4.transpose(this._tempNormalMatrix, this._tempNormalMatrix);


            // cpu billboarding?
            // this._tempModelViewMatrix[0 * 4 + 0] = 1.0;
            // this._tempModelViewMatrix[0 * 4 + 1] = 0.0;
            // this._tempModelViewMatrix[0 * 4 + 2] = 0.0;

            // // #ifndef BILLBOARDING_CYLINDRIC
            // this._tempModelViewMatrix[1 * 4 + 0] = 0.0;
            // this._tempModelViewMatrix[1 * 4 + 1] = 1.0;
            // this._tempModelViewMatrix[1 * 4 + 2] = 0.0;
            // // #endif

            // this._tempModelViewMatrix[2 * 4 + 0] = 0.0;
            // this._tempModelViewMatrix[2 * 4 + 1] = 0.0;
            // this._tempModelViewMatrix[2 * 4 + 2] = 1.0;

            this.uniModelViewMatrix.setValue(this._tempModelViewMatrix);
            this.uniNormalMatrix.setValue(this._tempNormalMatrix);
        }

        if (this._needsRecompile) this.compile();
    }

    /**
     * add a uniform to the fragment shader
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniformFrag
     * @returns {Uniform}
     */
    addUniformFrag(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new cgp_uniform_Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "frag";

        this.defaultBindingFrag.addUniform(uni);
        this.needsPipelineUpdate = "add frag uniform";

        return uni;
    }

    /**
     * add a uniform to the vertex shader
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniformVert
     * @returns {Uniform}
     */
    addUniformVert(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new cgp_uniform_Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "vert";

        this.defaultBindingVert.addUniform(uni);
        this.needsPipelineUpdate = "add ver uniform";

        return uni;
    }

    /**
     * add a uniform to all shader programs
     * @param {String} type ['f','t', etc]
     * @param {String} name
     * @param {any} valueOrPort value or port
     * @param p2
     * @param p3
     * @param p4
     * @memberof Shader
     * @instance
     * @function addUniform
     * @returns {Uniform}
     */
    addUniform(type, name, valueOrPort, p2, p3, p4)
    {
        const uni = new cgp_uniform_Uniform(this, type, name, valueOrPort, p2, p3, p4);
        uni.shaderType = "both";
        return uni;
    }

    _addUniform(uni)
    {
        this._uniforms.push(uni);
        this.setWhyCompile("add uniform " + name);
        this._needsRecompile = true;
    }

    getUniform(name)
    {
        for (let i = 0; i < this._uniforms.length; i++)
        {
            if (this._uniforms[i].getName() == name) return this._uniforms[i];
        }
    }
}

;// CONCATENATED MODULE: ./src/core/cgp/cgl_shader_default.wgsl
/* harmony default export */ const cgl_shader_default = ("struct VSUniforms\n{\n    modelMatrix: mat4x4<f32>,\n    viewMatrix: mat4x4<f32>,\n    projMatrix: mat4x4<f32>,\n};\n\nstruct FSUniforms\n{\n    color:vec4<f32>\n};\n\n@group(0) @binding(0) var<uniform> vsUniforms: VSUniforms;\n@group(0) @binding(1) var<uniform> fsUniforms: FSUniforms;\n\nstruct MyVSInput\n{\n    @location(0) position: vec3<f32>,\n    @location(1) normal: vec3<f32>,\n    @location(2) texcoord: vec2<f32>,\n};\n\nstruct MyVSOutput\n{\n    @builtin(position) position: vec4<f32>,\n    @location(0) normal: vec3<f32>,\n    @location(1) texcoord: vec2<f32>,\n};\n\n@vertex\nfn myVSMain(v: MyVSInput) -> MyVSOutput\n{\n    var vsOut: MyVSOutput;\n    var pos =vec4<f32>(v.position, 1.0);\n\n    var mvMatrix=vsUniforms.viewMatrix * vsUniforms.modelMatrix;\n    vsOut.position = vsUniforms.projMatrix * mvMatrix * pos;\n\n    vsOut.normal = v.normal;\n    vsOut.texcoord = v.texcoord;\n    return vsOut;\n}\n\n@fragment\nfn myFSMain(v: MyVSOutput) -> @location(0) vec4<f32>\n{\n    return fsUniforms.color+vec4<f32>(.5,.5,.5,1.0);\n}\n\n");
;// CONCATENATED MODULE: ./src/core/cgp/cgp_texture.js



class cgp_texture_Texture extends CgTexture
{
    constructor(_cgp, options = {})
    {
        super(options);
        if (!_cgp) throw new Error("no cgp");
        this._log = new Logger("cgp_texture");
        this._cgp = _cgp;
        // this.id = CABLES.uuid();
        this.gpuTexture = null;
        this.gpuTextureDescriptor = null;

        options = options || {};

        this.name = options.name || "unknown";

        this._cgp.on("deviceChange", () =>
        {
            // this.reInit();
        });
    }

    /**
     * set texture data from an image/canvas object
     * @function initTexture
     * @memberof Texture
     * @instance
     * @param {Object} img image
     * @param {Number} filter
     */
    initTexture(img, filter)
    {
        this.width = img.width;
        this.height = img.height;

        const textureType = "rgba8unorm";

        this._cgp.pushErrorScope("inittexture", { "logger": this._log });

        this.gpuTextureDescriptor = {

            "size": { "width": img.width, "height": img.height },
            "format": textureType,
            "usage": GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT
        };

        this.gpuTexture = this._cgp.device.createTexture(this.gpuTextureDescriptor);
        this._cgp.device.queue.copyExternalImageToTexture({ "source": img }, { "texture": this.gpuTexture }, this.gpuTextureDescriptor.size);

        this._cgp.popErrorScope();

        return this.gpuTexture;
    }

    dispose()
    {
        console.log("todo dispose");
    }

    getInfo()
    {
        const tex = this;
        const obj = {};

        obj.name = tex.name;
        obj.size = tex.width + " x " + tex.height;

        obj.textureType = tex.textureType;

        return obj;
    }

    createView()
    {
        if (!this.gpuTexture)
        {
            console.log("no gputexture...");
            return null;
        }
        return this.gpuTexture.createView();
    }

    /**
     * @function initFromData
     * @memberof Texture
     * @instance
     * @description create texturem from rgb data
     * @param {Array<Number>} data rgb color array [r,g,b,a,r,g,b,a,...]
     * @param {Number} w width
     * @param {Number} h height
     * @param {Number} filter
     * @param {Number} wrap
     */
    initFromData(data, w, h, filter, wrap)
    {
        if (!w || !h) this._log.error("texture size is 0");
        this.width = w;
        this.height = h;
        this.gpuTexture = this._cgp.device.createTexture(
            {
                "size": [w, h],
                "format": "rgba8unorm",
                "usage": GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT,
            });

        this._cgp.device.queue.writeTexture(
            { "texture": this.gpuTexture },
            data,
            { "bytesPerRow": w * 4 },
            { "width": w, "height": h });
    }
}


/**
 * @function load
 * @static
 * @memberof Texture
 * @description load an image from an url
 * @param {Context} cgp
 * @param {String} url
 * @param {Function} onFinished
 * @param {Object} settings
 * @return {Texture}
 */
cgp_texture_Texture.load = function (cgp, url, onFinished, settings)
{
    fetch(url).then((response) =>
    {
        const texture = new cgp_texture_Texture(cgp, { "name": url });

        response.blob().then((blob) =>
        {
            createImageBitmap(blob).then((imgBitmap) =>
            {
                texture.initTexture(imgBitmap);
                if (onFinished)onFinished(texture);
                else console.log("Texture.load no onFinished callback");
            }).catch((err) =>
            {
                if (onFinished)onFinished(cgp.getErrorTexture());
            });
        });
    });
};

;// CONCATENATED MODULE: ./src/core/cgp/cgp_state.js








// https://github.com/greggman/webgpu-utils
// https://developer.chrome.com/blog/from-webgl-to-webgpu/
// https://gpuweb.github.io/gpuweb/explainer/


/**
 * cables webgpu context/state manager
 * @class
 * @namespace external:CGP
 * @hideconstructor
 */
// const Context = function (_patch)
class WebGpuContext extends CGState
{
    constructor(_patch)
    {
        super();

        this.patch = _patch;

        this.lastErrorMsg = "";

        this._log = new Logger("WebGpuContext");
        this.gApi = CG.GAPI_WEBGPU;
        this._viewport = [0, 0, 256, 256];
        this._shaderStack = [];
        this._simpleShader = null;
        this.frame = 0;
        this.catchErrors = false;

        this._stackCullFaceFacing = [];
        this._stackDepthTest = [];
        this._stackCullFace = [];
        this._stackDepthFunc = [];
        this._stackDepthWrite = [];
        this._stackErrorScope = [];
        this._stackBlend = [];
        this._stackErrorScopeLogs = [];

        this._defaultBlend = {
            "color": {
                "operation": "add",
                "srcFactor": "one",
                "dstFactor": "zero",
            },
            "alpha": {
                "operation": "add",
                "srcFactor": "one",
                "dstFactor": "zero",
            },
        };

        this.DEPTH_FUNCS = [
            "never",
            "always",
            "less",
            "less-equal",
            "greater",
            "greater-equal",
            "equal",
            "not-equal"
        ];

        this.CULL_MODES = [
            "none",
            "back",
            "front",
            "none" // both does not exist in webgpu
        ];
    }


    /// ////////////////////

    // getViewPort()
    // {
    //     return [0, 0, this.canvasWidth, this.canvasHeight];
    // }

    renderStart(cgp, identTranslate, identTranslateView)
    {
        this.frame++;
        this.pushErrorScope("cgpstate internal", "internal");
        this.pushErrorScope("cgpstate out-of-memory", "out-of-memory");

        if (!this._simpleShader)
        {
            this._simpleShader = new cgp_shader_Shader(this, "simple default shader");
            this._simpleShader.setSource(cgl_shader_default);
            this._simpleShader.addUniformFrag("4f", "color", 1, 1, 0, 1);
        }

        this.fpsCounter.startFrame();

        this._startMatrixStacks(identTranslate, identTranslateView);
        this.setViewPort(0, 0, this.canvasWidth, this.canvasHeight);

        this.pushShader(this._simpleShader);
        this.pushDepthTest(true);
        this.pushDepthWrite(true);
        this.pushDepthFunc("less-equal");


        this.pushBlend(this._defaultBlend);

        this.emitEvent("beginFrame");
    }

    renderEnd()
    {
        this._endMatrixStacks();

        this.popShader();
        this.popDepthFunc();
        this.popDepthWrite();
        this.popDepthTest();

        this.popErrorScope();
        this.popErrorScope();

        if (this._stackErrorScope.length > 0)console.log("scope stack length invalid...");

        this.emitEvent("endFrame");
        this.fpsCounter.endFrame();
    }


    setViewPort(x, y, w, h)
    {
        this._viewport = [x, y, w, h];
    }

    /**
     * @function getViewPort
     * @memberof Context
     * @instance
     * @description get current gl viewport
     * @returns {Array} array [x,y,w,h]
     */
    getViewPort()
    {
        return this._viewPort;
    }

    createMesh(geom, glPrimitive)
    {
        return new CGP.Mesh(this, geom, glPrimitive);
    }

    /**
     * push a shader to the shader stack
     * @function pushShader
     * @memberof Context
     * @instance
     * @param {Object} shader
     * @function
    */
    pushShader(shader)
    {
        this._shaderStack.push(shader);
        // currentShader = shader;
    }

    /**
     * pop current used shader from shader stack
     * @function popShader
     * @memberof Context
     * @instance
     * @function
     */
    popShader()
    {
        if (this._shaderStack.length === 0) throw new Error("Invalid shader stack pop!");
        this._shaderStack.pop();
        // currentShader = this._shaderStack[this._shaderStack.length - 1];
    }

    getShader()
    {
        return this._shaderStack[this._shaderStack.length - 1];
        // if (currentShader) if (!this.frameStore || ((this.frameStore.renderOffscreen === true) == currentShader.offScreenPass) === true) return currentShader;
        // for (let i = this._shaderStack.length - 1; i >= 0; i--) if (this._shaderStack[i]) if (this.frameStore.renderOffscreen == this._shaderStack[i].offScreenPass) return this._shaderStack[i];
    }


    setDevice(device)
    {
        this.device = device;


        if (this._emptyTexture) this._emptyTexture = this._emptyTexture.dispose();
        if (this._defaultTexture) this._defaultTexture = this._defaultTexture.dispose();
        if (this._errorTexture) this._errorTexture = this._errorTexture.dispose();

        this.emitEvent("deviceChange");
    }



    pushErrorScope(name, options = {})
    {
        if (this.catchErrors)
        {
            this._stackErrorScope.push(name);
            this._stackErrorScopeLogs.push(options.logger || null);
            this.device.pushErrorScope(options.scope || "validation");
        }
    }

    popErrorScope(cb)
    {
        if (this.catchErrors)
        {
            const name = this._stackErrorScope.pop();
            const logger = this._stackErrorScopeLogs.pop();
            this.device.popErrorScope().then((error) =>
            {
                if (error)
                {
                    if (this.lastErrorMsg == error.message)
                    {
                        // this._log.warn("last error once more...");
                    }
                    else
                    {
                        (logger || this._log).error(error.constructor.name, "in", name);
                        (logger || this._log).error(error.message);
                    }
                    this.lastErrorMsg = error.message;

                    if (cb)cb(error);
                }
            });
        }
    }

    /**
     * push depth testing enabled state
     * @function pushDepthTest
     * @param {Boolean} b enabled
     * @memberof Context
     * @instance
     */
    pushDepthTest(b)
    {
        this._stackDepthTest.push(b);
    }

    /**
     * current state of depth testing
     * @function stateDepthTest
     * @returns {Boolean} enabled
     * @memberof Context
     * @instance
     */
    stateDepthTest()
    {
        return this._stackDepthTest[this._stackDepthTest.length - 1];
    }

    /**
     * pop depth testing state
     * @function popDepthTest
     * @memberof Context
     * @instance
     */
    popDepthTest()
    {
        this._stackDepthTest.pop();
    }

    // --------------------------------------
    // state depthwrite

    /**
     * push depth write enabled state
     * @function pushDepthWrite
     * @param {Boolean} b enabled
     * @memberof Context
     * @instance
     */
    pushDepthWrite(b)
    {
        b = b || false;
        this._stackDepthWrite.push(b);
    }

    /**
     * current state of depth writing
     * @function stateCullFace
     * @returns {Boolean} enabled
     * @memberof Context
     * @instance
     */
    stateDepthWrite()
    {
        return this._stackDepthWrite[this._stackDepthWrite.length - 1];
    }

    /**
     * pop depth writing state
     * @function popCullFace
     * @memberof Context
     * @instance
     */
    popDepthWrite()
    {
        this._stackDepthWrite.pop();
    }


    // --------------------------------------
    // state depthfunc


    /**
     * @function pushDepthFunc
     * @memberof Context
     * @instance
     * @param {string} f depth compare func
     */
    pushDepthFunc(f)
    {
        this._stackDepthFunc.push(f);
    }

    /**
     * @function stateDepthFunc
     * @memberof Context
     * @instance
     * @returns {string}
     */
    stateDepthFunc()
    {
        if (this._stackDepthFunc.length > 0) return this._stackDepthFunc[this._stackDepthFunc.length - 1];
        return false;
    }

    /**
     * pop depth compare func
     * @function popDepthFunc
     * @memberof Context
     * @instance
     */
    popDepthFunc()
    {
        this._stackDepthFunc.pop();
    }



    // --------------------------------------
    // state CullFace

    /**
     * push face culling face enabled state
     * @function pushCullFace
     * @param {Boolean} b enabled
     * @memberof Context
     * @instance
     */
    pushCullFace(b)
    {
        this._stackCullFace.push(b);
    }

    /**
     * current state of face culling
     * @function stateCullFace
     * @returns {Boolean} enabled
     * @memberof Context
     * @instance
     */
    stateCullFace()
    {
        return this._stackCullFace[this._stackCullFace.length - 1];
    }

    /**
 * pop face culling enabled state
 * @function popCullFace
 * @memberof Context
 * @instance
 */
    popCullFace()
    {
        this._stackCullFace.pop();
    }


    // --------------------------------------
    // state CullFace Facing


    /**
     * push face culling face side
     * @function pushCullFaceFacing
     * @memberof Context
     * @param b
     * @instance
     */
    pushCullFaceFacing(b)
    {
        this._stackCullFaceFacing.push(b);
    }

    /**
     * current state of face culling side
     * @function stateCullFaceFacing
     * @returns {Boolean} enabled
     * @memberof Context
     * @instance
     */
    stateCullFaceFacing()
    {
        return this._stackCullFaceFacing[this._stackCullFaceFacing.length - 1];
    }

    /**
     * pop face culling face side
     * @function popCullFaceFacing
     * @memberof Context
     * @instance
     */
    popCullFaceFacing()
    {
        this._stackCullFaceFacing.pop();
    }

    pushBlend(b)
    {
        this._stackBlend.push(b);
    }


    popBlend()
    {
        this._stackBlend.pop();
    }

    stateBlend()
    {
        return this._stackBlend[this._stackBlend.length - 1];
    }

    getEmptyTexture()
    {
        if (this._emptyTexture) return this._emptyTexture;
        const size = 8;
        this._emptyTexture = new cgp_texture_Texture(this, {});
        this._emptyTexture.initFromData(CgTexture.getDefaultTextureData("empty", size), size, size);
        return this._emptyTexture;
    }

    getErrorTexture()
    {
        if (this._errorTexture) return this._errorTexture;
        const size = 256;
        this._errorTexture = new cgp_texture_Texture(this, {});
        this._errorTexture.initFromData(CgTexture.getDefaultTextureData("stripes", size, { "r": 1, "g": 0, "b": 0 }), size, size);
        return this._errorTexture;
    }

    getDefaultTexture()
    {
        if (this._defaultTexture) return this._defaultTexture;
        const size = 256;
        this._defaultTexture = new cgp_texture_Texture(this, {});
        this._defaultTexture.initFromData(CgTexture.getDefaultTextureData("stripes", size), size, size);
        return this._defaultTexture;
    }
}


;// CONCATENATED MODULE: ./src/core/cgp/cgp_pipeline.js



class Pipeline
{
    constructor(_cgp, name)
    {
        if (!_cgp) throw new Error("Pipeline constructed without cgp " + name);
        this._name = name;
        this._cgp = _cgp;
        this._isValid = true;
        this._log = new Logger("pipeline");

        this._pipeCfg = null;
        this._renderPipeline = null;

        this._bindGroups = [];

        this._shaderListeners = [];
        this.shaderNeedsPipelineUpdate = false;

        this._old = {};

        this.DEPTH_COMPARE_FUNCS_STRINGS = ["never", "less", "equal", "lessequal", "greater", "notequal", "greaterequal", "always"];

        this._cgp.on("deviceChange", () =>
        {
            this._renderPipeline = null;
        });
    }

    get isValid() { return this._isValid; }

    setName(name)
    {
        this._name = name;
    }

    setShaderListener(oldShader, newShader)
    {
        for (let i = 0; i < this._shaderListeners.length; i++) oldShader.off(this._shaderListeners[i]);

        this._shaderListeners.push(
            newShader.on("compiled", () =>
            {
                // console.log("pipe update shader compileeeeeee");
                // this.needsRebuildReason = "shader changed";
                this.shaderNeedsPipelineUpdate = "shader compiled";
            }));
    }


    getInfo()
    {
        // console.log(this.bindingGroupLayoutEntries);

        const arr = [
            "name: " + this._name,
            "bindgroups: " + this._bindGroups.length

        ];

        if (this.bindingGroupLayoutEntries)arr.push("layouts: " + this.bindingGroupLayoutEntries.length);

        // if (this.bindingGroupLayoutEntries)
        //     for (let i = 0; i < this.bindingGroupLayoutEntries.length; i++)
        //     {
        //         // const lines = JSON.stringify(this.bindingGroupLayoutEntries, 4, true).split(",");
        //         arr.push(...lines);
        //     }

        return arr;
    }

    setPipeline(shader, mesh)
    {
        if (!mesh || !shader)
        {
            console.log("pipeline unknown shader/mesh");
            return;
        }

        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("setPipeline", this.getInfo());

        let needsRebuildReason = "";
        if (!this._renderPipeline) needsRebuildReason = "no renderpipeline";
        if (!this._pipeCfg)needsRebuildReason = "no pipecfg";
        if (this._old.mesh != mesh)needsRebuildReason = "no mesh";
        if (this._old.shader != shader)
        {
            this.setShaderListener(this._old.shader, shader);
            needsRebuildReason = "shader changed";
        }
        if (mesh.needsPipelineUpdate)needsRebuildReason = "mesh needs update";
        if (this.shaderNeedsPipelineUpdate)needsRebuildReason = "shader needs update: " + this.shaderNeedsPipelineUpdate;

        if (this._pipeCfg)
        {
            if (this._pipeCfg.depthStencil.depthWriteEnabled != this._cgp.stateDepthWrite())
            {
                needsRebuildReason = "depth changed";
                this._pipeCfg.depthStencil.depthWriteEnabled = this._cgp.stateDepthWrite();
            }

            if (this._pipeCfg.fragment.targets[0].blend != this._cgp.stateBlend())
            {
                needsRebuildReason = "blend changed";
                this._pipeCfg.fragment.targets[0].blend = this._cgp.stateBlend();
            }

            // "fragment": {
            //     "module": shader.gpuShaderModule,
            //     "entryPoint": "myFSMain",
            //     "targets": [
            //         {
            //             "format": this._cgp.presentationFormat,
            //             "blend":
            //         },


            if (this._cgp.stateDepthTest() === false)
            {
                if (this._pipeCfg.depthStencil.depthCompare != "never")
                {
                    this._pipeCfg.depthStencil.depthCompare = "never";
                    needsRebuildReason = "depth compare changed";
                }
            }
            else
            if (this._pipeCfg.depthStencil.depthCompare != this._cgp.stateDepthFunc())
            {
                needsRebuildReason = "depth state ";
                this._pipeCfg.depthStencil.depthCompare = this._cgp.stateDepththis._cgp.stateDepthFunc();
            }

            // console.log(this._pipeCfg.primitive.cullMode, this._cgp.stateCullFaceFacing());
            if (this._pipeCfg.primitive.cullMode != this._cgp.stateCullFaceFacing())
            {
                needsRebuildReason = "cullmode change";
                this._pipeCfg.primitive.cullMode = this._cgp.stateCullFaceFacing();
            }
        }

        this._cgp.currentPipeDebug =
        {
            "cfg": this._pipeCfg,
            "bindingGroupEntries": this.bindingGroupEntries,
            "bindingGroupLayoutEntries": this.bindingGroupLayoutEntries
        };


        if (needsRebuildReason != "")
        {
            console.log("rebuild pipe", needsRebuildReason);
            this._cgp.pushErrorScope("createPipeline", { "logger": this._log });

            this._bindGroups = [];

            this._pipeCfg = this.getPipelineObject(shader, mesh);
            this._old.device = this._cgp.device;
            this._old.shader = shader;
            this._old.mesh = mesh;
            this._renderPipeline = this._cgp.device.createRenderPipeline(this._pipeCfg);

            this._cgp.popErrorScope();
        }


        if (this._renderPipeline && this._isValid)
        {
            this._cgp.pushErrorScope("setpipeline", { "logger": this._log });


            this._cgp.passEncoder.setPipeline(this._renderPipeline);

            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("updateUniforms");

            shader.incBindingCounter();

            if (!this._bindGroups[shader.bindingCounter])
            {
                const bindingGroupEntries = [];

                for (let i = 0; i < shader.bindingsVert.length; i++)
                {
                    if (shader.bindingsVert[i].getSizeBytes() > 0)
                    {
                        bindingGroupEntries.push(shader.bindingsVert[i].getBindingGroupEntry(this._cgp.device, shader.bindingCounter));
                    }
                    else console.log("shader defaultBindingVert size 0");
                }
                for (let i = 0; i < shader.bindingsFrag.length; i++)
                {
                    if (shader.bindingsFrag[i].getSizeBytes() > 0)
                    {
                        bindingGroupEntries.push(shader.bindingsFrag[i].getBindingGroupEntry(this._cgp.device, shader.bindingCounter));
                    }
                    else console.log("shader defaultBindingFrag size 0");
                }

                const bg = {
                    "label": "label2",
                    "layout": this.bindGroupLayout,
                    "entries": bindingGroupEntries
                };

                this._bindGroups[shader.bindingCounter] = this._cgp.device.createBindGroup(bg);
            }

            this._bindUniforms(shader, shader.bindingCounter);

            if (this._bindGroups[shader.bindingCounter]) this._cgp.passEncoder.setBindGroup(0, this._bindGroups[shader.bindingCounter]);


            // shader.bindingCounter++;

            if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();

            this._cgp.popErrorScope();
        }
        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();


        this.shaderNeedsPipelineUpdate = false;
    }

    getPipelineObject(shader, mesh)
    {
        this.bindingGroupLayoutEntries = [];

        for (let i = 0; i < shader.bindingsVert.length; i++)
        {
            if (shader.bindingsVert[i].getSizeBytes() > 0)
            {
                this.bindingGroupLayoutEntries.push(shader.bindingsVert[i].getBindingGroupLayoutEntry());
            }
            else console.log("shader defaultBindingVert size 0");
        }

        for (let i = 0; i < shader.bindingsFrag.length; i++)
        {
            if (shader.bindingsFrag[i].getSizeBytes() > 0)
            {
                this.bindingGroupLayoutEntries.push(shader.bindingsFrag[i].getBindingGroupLayoutEntry());
            }
            else console.log("shader defaultBindingFrag size 0");
        }
        // //////////

        this.bindGroupLayout = this._cgp.device.createBindGroupLayout(
            {
                "label": "bg layout " + this._name,
                "entries": this.bindingGroupLayoutEntries,
            });

        const pipelineLayout = this._cgp.device.createPipelineLayout({
            "label": "pipe layout " + this._name,
            "bindGroupLayouts": [this.bindGroupLayout]
        });


        let buffers = [
            // position
            {
                "arrayStride": 3 * 4, // 3 floats, 4 bytes each
                "attributes": [
                    { "shaderLocation": 0, "offset": 0, "format": "float32x3" },
                ],
            },
            // texcoords
            {
                "arrayStride": 2 * 4, // 2 floats, 4 bytes each
                "attributes": [
                    { "shaderLocation": 2, "offset": 0, "format": "float32x2", },
                ],
            },
            // normals
            {
                "arrayStride": 3 * 4, // 3 floats, 4 bytes each
                "attributes": [
                    { "shaderLocation": 1, "offset": 0, "format": "float32x3" },
                ],
            }];



        const pipeCfg = {
            // "layout": "auto",
            "label": this._name,
            "layout": pipelineLayout,
            "vertex": {
                "module": shader.gpuShaderModule,
                "entryPoint": "myVSMain",
                "buffers": buffers

            },
            "fragment": {
                "module": shader.gpuShaderModule,
                "entryPoint": "myFSMain",
                "targets": [
                    {
                        "format": this._cgp.presentationFormat,
                        "blend": this._cgp.stateBlend()
                    },
                ],
            },
            "primitive": {
                "topology": "triangle-list",
                "cullMode": this._cgp.stateCullFaceFacing(), // back/none/front

                // "point-list",
                // "line-list",
                // "line-strip",
                // "triangle-list",
                // "triangle-strip"
            },
            "depthStencil": {
                "depthWriteEnabled": this._cgp.stateDepthTest(),
                "depthCompare": this._cgp.stateDepthFunc(),
                "format": "depth24plus",
            },

        };

        return pipeCfg;
    }


    _bindUniforms(shader, inst)
    {
        // this._cgp.pushErrorScope("pipeline bind uniforms", { "logger": this._log });

        shader.bind();

        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("bind uniforms vert", ["num:" + shader.bindingsVert.length]);
        for (let i = 0; i < shader.bindingsVert.length; i++) shader.bindingsVert[i].update(this._cgp, inst);
        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();

        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("bind uniforms frag", ["num:" + shader.bindingsFrag.length]);
        for (let i = 0; i < shader.bindingsFrag.length; i++) shader.bindingsFrag[i].update(this._cgp, inst);
        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();



        // shader.defaultBindingVert.update(this._cgp);

        // this._cgp.popErrorScope((e) =>
        // {
        //     this._isValid = false;
        // });
    }
}

;// CONCATENATED MODULE: ./src/core/cgp/cgp_mesh.js



class cgp_mesh_Mesh
{
    constructor(_cgp, __geom)
    {
        this._log = new Logger("cgl_mesh");
        this._cgp = _cgp;
        this._geom = null;
        this.numIndex = 0;
        this.instances = 1;

        this._pipe = new Pipeline(this._cgp, "new mesh");
        this._numNonIndexed = 0;
        this._positionBuffer = null;
        this._bufVerticesIndizes = null;
        this._attributes = [];
        this._needsPipelineUpdate = false;

        if (__geom) this.setGeom(__geom);
    }

    _createBuffer(device, data, usage)
    {
        let bo = {
            "size": data.byteLength,
            "usage": usage,
            "mappedAtCreation": true,
        };
        // ifbo.stepMode = "instance";
        const buffer = device.createBuffer(bo);
        const dst = new data.constructor(buffer.getMappedRange());
        dst.set(data);
        buffer.unmap();
        return buffer;
    }

    /**
     * @function setGeom
     * @memberof Mesh
     * @instance
     * @description set geometry for mesh
     * @param {Geometry} geom geometry
     * @param {boolean} removeRef
     */
    setGeom(geom, removeRef)
    {
        this._needsPipelineUpdate = true;
        this._geom = geom;
        this._disposeAttributes();

        this._positionBuffer = this._createBuffer(this._cgp.device, new Float32Array(geom.vertices), GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST);

        let vi = geom.verticesIndices;
        if (!geom.isIndexed()) vi = Array.from(Array(geom.vertices.length / 3).keys());
        this._numIndices = vi.length;
        this._indicesBuffer = this._createBuffer(this._cgp.device, new Uint32Array(vi), GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST);

        if (geom.texCoords && geom.texCoords.length) this.setAttribute("texCoords", geom.texCoords, 2);
        if (geom.vertexNormals && geom.vertexNormals.length) this.setAttribute("normals", geom.vertexNormals, 3);

        this.setAttribute("normals", geom.vertexNormals, 3);
    }


    _disposeAttributes()
    {
        this._needsPipelineUpdate = true;
        for (let i = 0; i < this._attributes.length; i++)
        {
            this._attributes[i].buffer.destroy();
        }
        this._attributes.length = 0;
    }

    dispose()
    {
        this._disposeAttributes();
    }

    /**
     * @function setAttribute
     * @description update attribute
     * @memberof Mesh
     * @instance
     * @param {String} name attribute name
     * @param {Array} array data
     * @param {Number} itemSize
     * @param {Object} options
     */
    setAttribute(name, array, itemSize, options = {})
    {
        if (!array)
        {
            this._log.error("mesh addAttribute - no array given! " + name);
            throw new Error();
        }

        let instanced = false;
        if (options.instanced) instanced = options.instanced;

        const buffer = this._createBuffer(this._cgp.device, new Float32Array(array), GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST);

        const attr = {
            "buffer": buffer,
            "name": name,
            "instanced": instanced,
        };
        this._attributes.push(attr);

        return attr;
    }


    render()
    {
        if (!this._positionBuffer) return;
        if (this.instances <= 0) return;

        const shader = this._cgp.getShader();
        if (shader)shader.bind();

        if (!this._cgp.getShader() || !this._cgp.getShader().isValid)
        {
            // this.status = "shader invalid";
            return;
        }

        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.push("mesh", ["geom " + this._geom.name, "shader " + this._cgp.getShader().getName()]);

        this._pipe.setName("mesh " + this._geom.name + " " + this._cgp.getShader().getName());
        this._pipe.setPipeline(this._cgp.getShader(), this);


        if (this._pipe.isValid)
        {
            this._cgp.passEncoder.setVertexBuffer(0, this._positionBuffer);
            for (let i = 0; i < this._attributes.length; i++)
            {
                this._cgp.passEncoder.setVertexBuffer(i + 1, this._attributes[i].buffer);
            }

            this._cgp.passEncoder.setIndexBuffer(this._indicesBuffer, "uint32");

            if (this._numNonIndexed)
                this._cgp.passEncoder.draw(this._numIndices, this.instances);
            else
                this._cgp.passEncoder.drawIndexed(this._numIndices, this.instances);
        }

        if (this._cgp.frameStore.branchProfiler) this._cgp.frameStore.branchStack.pop();

        // if (shader)shader.unbind();
    }
}

;// CONCATENATED MODULE: ./src/core/cgp/index.js










const cgp_CGP = {
    "Context": WebGpuContext,
    "Shader": cgp_shader_Shader,
    "Mesh": cgp_mesh_Mesh,
    "Pipeline": Pipeline,
    "Texture": cgp_texture_Texture,
    "Binding": Binding,
    "Uniform": cgp_uniform_Uniform,
    "MESHES": MESHES,
    "GPUBuffer": GPUBuffer
};

window.CABLES = window.CABLES || {};
window.CABLES.CGP = cgp_CGP;
window.CGP = cgp_CGP;




;// CONCATENATED MODULE: ./src/core/cgl/cgl_framebuffer.js



// todo: convert to prototyped...

/**
 * a framebuffer
 * @constructor
 * @class
 * @constructs Framebuffer
 * @param {Context} _cgl cgl
 * @param {Number} _w width
 * @param {Number} _h height
 * @param {Object} options
 */
const Framebuffer = function (_cgl, _w, _h, options)
{
    const cgl = _cgl;
    this._log = new Logger("Framebuffer");
    this.valid = true;

    let depthTextureExt = cgl.gl.DEPTH_TEXTURE;
    if (!depthTextureExt) depthTextureExt = cgl.enableExtension("WEBGL_depth_texture");
    if (!depthTextureExt) depthTextureExt = cgl.enableExtension("WEBKIT_WEBGL_depth_texture");
    if (!depthTextureExt) depthTextureExt = cgl.enableExtension("MOZ_WEBGL_depth_texture");

    if (!depthTextureExt)
    {
        this._log.error("NO_DEPTH_TEXTURE", "no depth texture support");
        return;
    }

    let width = _w || 512;
    let height = _h || 512;

    options = options || {
        "isFloatingPointTexture": false,
    };

    if (!options.hasOwnProperty("clear")) options.clear = true;
    if (!options.hasOwnProperty("filter")) options.filter = Texture.FILTER_LINEAR;

    const texture = new Texture(cgl, {
        "isFloatingPointTexture": options.isFloatingPointTexture,
        "filter": options.filter,
        "wrap": options.wrap || Texture.CLAMP_TO_EDGE
    });

    let textureDepth = null;
    if (depthTextureExt)
    {
        textureDepth = new Texture(cgl, {
            "isDepthTexture": true,
        });
    }
    this._options = options;

    const frameBuf = cgl.gl.createFramebuffer();
    const depthBuffer = cgl.gl.createRenderbuffer();

    this.getWidth = function ()
    {
        return width;
    };
    this.getHeight = function ()
    {
        return height;
    };

    /**
     * get native gl framebuffer
     * @function getGlFrameBuffer
     * @memberof Framebuffer
     * @returns {Object} framebuffer
     */
    this.getGlFrameBuffer = function ()
    {
        return frameBuf;
    };

    /**
     * get depth renderbuffer
     * @function getDepthRenderBuffer
     * @memberof Framebuffer
     * @returns {Object} renderbuffer
     */
    this.getDepthRenderBuffer = function ()
    {
        return depthBuffer;
    };

    /**
     * get color texture
     * @function getTextureColor
     * @memberof Framebuffer
     * @returns {Texture} rgba texture
     */
    this.getTextureColor = function ()
    {
        return texture;
    };

    /**
     * get depth texture
     * @function getTextureDepth
     * @memberof Framebuffer
     * @returns {Texture} depth texture
     */
    this.getTextureDepth = function ()
    {
        return textureDepth;
    };

    this.setFilter = function (f)
    {
        texture.filter = f;
        texture.setSize(width, height);
    };

    this.setSize = function (w, h)
    {
        if (w < 2) w = 2;
        if (h < 2) h = 2;

        width = Math.ceil(w);
        height = Math.ceil(h);

        cgl.profileData.profileFrameBuffercreate++;

        cgl.gl.bindFramebuffer(cgl.gl.FRAMEBUFFER, frameBuf);
        cgl.gl.bindRenderbuffer(cgl.gl.RENDERBUFFER, depthBuffer);

        texture.setSize(width, height);
        if (textureDepth) textureDepth.setSize(width, height);

        // if(depthTextureExt) cgl.gl.renderbufferStorage(cgl.gl.RENDERBUFFER, cgl.gl.DEPTH_COMPONENT16, width,height);
        if (depthTextureExt) cgl.gl.renderbufferStorage(cgl.gl.RENDERBUFFER, cgl.gl.DEPTH_COMPONENT16, width, height);

        cgl.gl.framebufferTexture2D(cgl.gl.FRAMEBUFFER, cgl.gl.COLOR_ATTACHMENT0, cgl.gl.TEXTURE_2D, texture.tex, 0);

        if (depthTextureExt)
        {
            cgl.gl.framebufferRenderbuffer(cgl.gl.FRAMEBUFFER, cgl.gl.DEPTH_ATTACHMENT, cgl.gl.RENDERBUFFER, depthBuffer);
            cgl.gl.framebufferTexture2D(
                cgl.gl.FRAMEBUFFER,
                cgl.gl.DEPTH_ATTACHMENT, // safari needs DEPTH_ATTACHMENT NOT DEPTH_ATTACHMENT16
                // cgl.gl.DEPTH_COMPONENT16,
                cgl.gl.TEXTURE_2D,
                textureDepth.tex,
                0,
            );
        }

        if (!cgl.gl.isFramebuffer(frameBuf)) throw new Error("Invalid framebuffer");
        const status = cgl.gl.checkFramebufferStatus(cgl.gl.FRAMEBUFFER);

        switch (status)
        {
        case cgl.gl.FRAMEBUFFER_COMPLETE:
            break;
        case cgl.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_ATTACHMENT...", width, height, texture.tex, depthBuffer);
            this.valid = false;
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");
        case cgl.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");
            this.valid = false;
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");
        case cgl.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");
            this.valid = false;
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");
        case cgl.gl.FRAMEBUFFER_UNSUPPORTED:
            this._log.warn("FRAMEBUFFER_UNSUPPORTED");
            this.valid = false;
            this._log.warn(width, height, options);

            throw new Error("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");
        case 0x8CDB:
            this._log.warn("Incomplete: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER from ext. Or Safari/iOS undefined behaviour.");
            this.valid = false;
            break;
        default:
            this._log.warn("incomplete framebuffer", status);
            this.valid = false;
            throw new Error("Incomplete framebuffer: " + status);
        }

        cgl.gl.bindTexture(cgl.gl.TEXTURE_2D, null);
        cgl.gl.bindRenderbuffer(cgl.gl.RENDERBUFFER, null);
        cgl.gl.bindFramebuffer(cgl.gl.FRAMEBUFFER, null);
    };

    this.renderStart = function ()
    {
        cgl.pushModelMatrix();
        cgl.gl.bindFramebuffer(cgl.gl.FRAMEBUFFER, frameBuf);
        cgl.pushGlFrameBuffer(frameBuf);
        cgl.pushFrameBuffer(this);

        cgl.pushPMatrix();
        cgl.gl.viewport(0, 0, width, height);

        if (this._options.clear)
        {
            cgl.gl.clearColor(0, 0, 0, 0);
            cgl.gl.clear(cgl.gl.COLOR_BUFFER_BIT | cgl.gl.DEPTH_BUFFER_BIT);
        }
    };

    this.renderEnd = function ()
    {
        cgl.popPMatrix();
        cgl.gl.bindFramebuffer(cgl.gl.FRAMEBUFFER, cgl.popGlFrameBuffer());
        cgl.popFrameBuffer();

        cgl.popModelMatrix();
        cgl.resetViewPort();
    };


    this.delete = function ()
    {
        texture.delete();
        this.valid = false;
        if (textureDepth) textureDepth.delete();
        cgl.gl.deleteRenderbuffer(depthBuffer);
        cgl.gl.deleteFramebuffer(frameBuf);
    };

    this.dispose = this.delete;

    this.setSize(width, height);
};



;// CONCATENATED MODULE: ./src/core/cgl/cgl_framebuffer2.js
// * see framebuffer1






const Framebuffer2 = function (cgl, w, h, options)
{
    this._log = new Logger("cgl_framebuffer2");
    if (cgl.glVersion == 1) return this._log.error("framebuffer2 used on webgl1");
    this.Framebuffer2DrawTargetsDefault = null;
    this.Framebuffer2BlittingFramebuffer = null;
    this.Framebuffer2FinalFramebuffer = null;
    this._cgl = cgl;

    this._cgl.printError("before framebuffer2 constructor");

    this._width = 0;
    this._height = 0;
    this.valid = true;

    this._depthRenderbuffer = null;
    this._frameBuffer = null;
    this._textureFrameBuffer = null;
    this._colorRenderbuffers = [];
    this._drawTargetArray = [];
    this._disposed = false;

    if (!this.Framebuffer2BlittingFramebuffer) this.Framebuffer2BlittingFramebuffer = cgl.gl.createFramebuffer();
    if (!this.Framebuffer2FinalFramebuffer) this.Framebuffer2FinalFramebuffer = cgl.gl.createFramebuffer();

    if (!this.Framebuffer2DrawTargetsDefault) this.Framebuffer2DrawTargetsDefault = [cgl.gl.COLOR_ATTACHMENT0];

    this._options = options || {
        "isFloatingPointTexture": false,
    };

    // this._cgl.printError("fb2 before");

    this.name = this._options.name || "unknown";

    this._cgl.profileData.addHeavyEvent("framebuffer create", this.name);

    if (!this._options.hasOwnProperty("numRenderBuffers")) this._options.numRenderBuffers = 1;
    if (!this._options.hasOwnProperty("depth")) this._options.depth = true;
    if (!this._options.hasOwnProperty("clear")) this._options.clear = true;
    if (!this._options.hasOwnProperty("multisampling"))
    {
        this._options.multisampling = false;
        this._options.multisamplingSamples = 0;
    }

    if (this._options.multisamplingSamples)
    {
        if (this._cgl.glSlowRenderer) this._options.multisamplingSamples = 0;
        if (!this._cgl.gl.MAX_SAMPLES) this._options.multisamplingSamples = 0;
        else this._options.multisamplingSamples = Math.min(this._cgl.maxSamples, this._options.multisamplingSamples);
    }

    if (!this._options.hasOwnProperty("filter")) this._options.filter = Texture.FILTER_LINEAR;
    if (!this._options.hasOwnProperty("wrap")) this._options.wrap = Texture.WRAP_REPEAT;

    this._numRenderBuffers = this._options.numRenderBuffers;
    this._colorTextures = [];

    this.clearColors = [];
    for (let i = 0; i < this._numRenderBuffers; i++) this.clearColors.push([0, 0, 0, 1]);


    if (!options.pixelFormat)
    {
        if (options.isFloatingPointTexture) this._options.pixelFormat = Texture.PFORMATSTR_RGBA32F;
        else this._options.pixelFormat = Texture.PFORMATSTR_RGBA8UB;
    }

    for (let i = 0; i < this._numRenderBuffers; i++)
    {
        this._colorTextures[i] = new Texture(cgl, {
            "name": "fb2 " + this.name + " " + i,
            "isFloatingPointTexture": this._options.isFloatingPointTexture,
            "anisotropic": this._options.anisotropic || 0,
            "pixelFormat": this._options.pixelFormat,
            "filter": this._options.filter,
            "wrap": this._options.wrap,
        });
    }



    let fil = Texture.FILTER_NEAREST;
    if (this._options.shadowMap) fil = Texture.FILTER_LINEAR;

    const defaultTexSize = 512;

    if (this._options.depth)
    {
        this._textureDepth = new Texture(cgl,
            {
                "name": "fb2 depth " + this.name,
                "isDepthTexture": true,
                "filter": fil,
                "shadowMap": this._options.shadowMap || false,
                "width": w || defaultTexSize,
                "height": h || defaultTexSize,
            });
    }

    if (cgl.aborted) return;

    this.setSize(w || defaultTexSize, h || defaultTexSize);

    this._cgl.printError("framebuffer2 constructor");
};

Framebuffer2.prototype.getWidth = function ()
{
    return this._width;
};
Framebuffer2.prototype.getHeight = function ()
{
    return this._height;
};

Framebuffer2.prototype.getGlFrameBuffer = function ()
{
    return this._frameBuffer;
};

Framebuffer2.prototype.getDepthRenderBuffer = function ()
{
    return this._depthRenderbuffer;
};

Framebuffer2.prototype.getTextureColor = function ()
{
    return this._colorTextures[0];
};

Framebuffer2.prototype.getTextureColorNum = function (i)
{
    return this._colorTextures[i];
};

Framebuffer2.prototype.getTextureDepth = function ()
{
    return this._textureDepth;
};

Framebuffer2.prototype.setFilter = function (f)
{
    for (let i = 0; i < this._numRenderBuffers; i++)
    {
        this._colorTextures[i].filter = f;
        this._colorTextures[i].setSize(this._width, this._height);
    }
};

Framebuffer2.prototype.delete = Framebuffer2.prototype.dispose = function ()
{
    this._disposed = true;
    let i = 0;
    for (i = 0; i < this._numRenderBuffers; i++) this._colorTextures[i].delete();
    // this._texture.delete();
    if (this._textureDepth) this._textureDepth.delete();
    for (i = 0; i < this._numRenderBuffers; i++) this._cgl.gl.deleteRenderbuffer(this._colorRenderbuffers[i]);
    this._cgl.gl.deleteRenderbuffer(this._depthRenderbuffer);
    this._cgl.gl.deleteFramebuffer(this._frameBuffer);
    this._cgl.gl.deleteFramebuffer(this._textureFrameBuffer);
};

Framebuffer2.prototype.setSize = function (w, h)
{
    if (this._disposed) return this._log.warn("disposed framebuffer setsize...");
    this._cgl.profileData.addHeavyEvent("framebuffer resize", this.name);

    let i = 0;

    this._width = this._cgl.checkTextureSize(w);
    this._height = this._cgl.checkTextureSize(h);

    this._cgl.profileData.profileFrameBuffercreate++;

    if (this._frameBuffer)
    {
        for (i = 0; i < this._numRenderBuffers; i++) this._cgl.gl.deleteRenderbuffer(this._colorRenderbuffers[i]);
        // this._cgl.gl.deleteRenderbuffer(this._colorRenderbuffer);
        this._cgl.gl.deleteRenderbuffer(this._depthRenderbuffer);
        this._cgl.gl.deleteFramebuffer(this._frameBuffer);
        this._cgl.gl.deleteFramebuffer(this._textureFrameBuffer);
    }

    this._frameBuffer = this._cgl.gl.createFramebuffer();
    this._textureFrameBuffer = this._cgl.gl.createFramebuffer();

    const depth = this._options.depth;

    for (i = 0; i < this._numRenderBuffers; i++)
    {
        this._colorTextures[i].setSize(this._width, this._height);
    }

    for (i = 0; i < this._numRenderBuffers; i++)
    {
        const renderBuffer = this._cgl.gl.createRenderbuffer();

        // color renderbuffer

        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuffer);
        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, renderBuffer);

        const info = Texture.setUpGlPixelFormat(this._cgl, this._options.pixelFormat);
        let internFormat = info.glInternalFormat;

        // if (this._options.isFloatingPointTexture)
        // {
        if (CGL.Texture.isPixelFormatHalfFloat(info.pixelFormat))
        {
            if (!this._cgl.enableExtension("OES_texture_float_linear"))
            {
                this._options.filter = Texture.FILTER_NEAREST;
                this.setFilter(this._options.filter);
            }
        }
        else if (CGL.Texture.isPixelFormatFloat(info.pixelFormat))
        {
            if (!this._cgl.enableExtension("OES_texture_float_linear"))
            {
                this._log.warn("no linear pixelformat,using nearest");
                this._options.filter = Texture.FILTER_NEAREST;
                this.setFilter(this._options.filter);
            }
        }
        // else if (info.pixelFormat == Texture.PFORMATSTR_RGBA32F || info.pixelFormat == Texture.PFORMATSTR_R11FG11FB10F
        // else if (info.pixelFormat == Texture.PFORMATSTR_RGBA32F || info.pixelFormat == Texture.PFORMATSTR_R11FG11FB10F
        // else if (info.pixelFormat == Texture.PFORMATSTR_RG16F)
        // {
        //     const extcb = this._cgl.enableExtension("EXT_color_buffer_float");

        //     if (!this._cgl.enableExtension("OES_texture_float_linear"))
        //     {
        //         console.log("no linear pixelformat,switching to nearest");
        //         this._options.filter = Texture.FILTER_NEAREST;
        //         this.setFilter(this._options.filter);
        //     }
        // }
        // }

        if (this._options.multisampling && this._options.multisamplingSamples)
        {
            this._cgl.gl.renderbufferStorageMultisample(this._cgl.gl.RENDERBUFFER, this._options.multisamplingSamples, internFormat, this._width, this._height);
        }
        else
        {
            this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER, internFormat, this._width, this._height);
        }



        this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0 + i, this._cgl.gl.RENDERBUFFER, renderBuffer);
        this._colorRenderbuffers[i] = renderBuffer;
    }

    // this._cgl.gl.bindFramebuffer(this._cgl.gl.DRAW_FRAMEBUFFER, this._textureFrameBuffer);
    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._textureFrameBuffer);

    for (i = 0; i < this._numRenderBuffers; i++)
    {
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0 + i, this._cgl.gl.TEXTURE_2D, this._colorTextures[i].tex, 0);
    }

    if (this._options.depth)
    {
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.TEXTURE_2D, this._textureDepth.tex, 0);
    }

    // depth renderbuffer

    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuffer);


    let depthType = this._cgl.gl.DEPTH_COMPONENT32F;

    if (this._cgl.glSlowRenderer) depthType = this._cgl.gl.DEPTH_COMPONENT16;
    if (depth)
    {
        this._textureDepth.setSize(this._width, this._height);
        this._depthRenderbuffer = this._cgl.gl.createRenderbuffer();

        this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, this._depthRenderbuffer);
        if (this._options.isFloatingPointTexture)
        {
            if (this._options.multisampling) this._cgl.gl.renderbufferStorageMultisample(this._cgl.gl.RENDERBUFFER, this._options.multisamplingSamples, depthType, this._width, this._height);
            else this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER, depthType, this._width, this._height);
        }
        else if (this._options.multisampling)
        {
            this._cgl.gl.renderbufferStorageMultisample(this._cgl.gl.RENDERBUFFER, this._options.multisamplingSamples, depthType, this._width, this._height);
            // this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER,depthType, this._width, this._height);
        }
        else
        {
            this._cgl.gl.renderbufferStorage(this._cgl.gl.RENDERBUFFER, depthType, this._width, this._height);
        }

        this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.RENDERBUFFER, this._depthRenderbuffer);
    }

    // this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);
    // this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._textureFrameBuffer);

    this._drawTargetArray.length = 0;
    for (i = 0; i < this._numRenderBuffers; i++) this._drawTargetArray.push(this._cgl.gl.COLOR_ATTACHMENT0 + i);

    // this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);


    if (!this._cgl.gl.isFramebuffer(this._textureFrameBuffer)) this._log.warn("invalid framebuffer");// throw new Error("Invalid framebuffer");
    const status = this._cgl.gl.checkFramebufferStatus(this._cgl.gl.FRAMEBUFFER);

    if (status != this._cgl.gl.FRAMEBUFFER_COMPLETE)
    {
        this._log.error("framebuffer incomplete: " + this.name, this);
        this._log.log("options", this._options);
        this._log.log("options pixelformat", this._options.pixelFormat);

        switch (status)
        {
        case this._cgl.gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_ATTACHMENT...", this);
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");
        case this._cgl.gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");
        case this._cgl.gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:
            this._log.warn("FRAMEBUFFER_INCOMPLETE_DIMENSIONS");
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");
        case this._cgl.gl.FRAMEBUFFER_UNSUPPORTED:
            this._log.warn("FRAMEBUFFER_UNSUPPORTED");
            throw new Error("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");
        default:
            this.valid = false;
            this._log.error("incomplete framebuffer", status, this._frameBuffer);
            this._cgl.printError();

            this._frameBuffer = null;
            // debugger;
            throw new Error("Incomplete framebuffer: " + status);

        // throw("Incomplete framebuffer: " + status);
        }
    }

    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);
    this._cgl.gl.bindRenderbuffer(this._cgl.gl.RENDERBUFFER, null);

    // this._cgl.printError("fb setsize");
};

Framebuffer2.prototype.renderStart = function ()
{
    if (this._disposed) return this._log.warn("disposed framebuffer renderStart...");
    this._cgl.checkFrameStarted("fb2 renderstart");
    this._cgl.pushModelMatrix(); // needed ??

    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuffer);
    this._cgl.pushGlFrameBuffer(this._frameBuffer);
    this._cgl.pushFrameBuffer(this);

    this._cgl.pushPMatrix();
    this._cgl.pushViewPort(0, 0, this._width, this._height);

    this._cgl.gl.drawBuffers(this._drawTargetArray);

    if (this._options.clear)
    {
        this._cgl.gl.clearColor(0, 0, 0, 0);
        this._cgl.gl.clear(this._cgl.gl.COLOR_BUFFER_BIT | this._cgl.gl.DEPTH_BUFFER_BIT);
    }
};

Framebuffer2.prototype.clear = function ()
{
    if (this._numRenderBuffers <= 1)
    {
        this._cgl.gl.bindFramebuffer(this._cgl.gl.READ_FRAMEBUFFER, this._frameBuffer);
        this._cgl.gl.bindFramebuffer(this._cgl.gl.DRAW_FRAMEBUFFER, this._textureFrameBuffer);
    }
    else this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._frameBuffer);

    this._cgl.gl.drawBuffers(this._drawTargetArray);

    for (let i = 0; i < this._numRenderBuffers; i++)
    {
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0 + i, this._cgl.gl.TEXTURE_2D, this._colorTextures[i].tex, 0);
        this._cgl.gl.clearBufferfv(this._cgl.gl.COLOR, i, this.clearColors[i]);
    }
    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);
};

Framebuffer2.prototype.renderEnd = function ()
{
    if (this._disposed) return this._log.warn("disposed framebuffer renderEnd...");
    this._cgl.popPMatrix();

    this._cgl.profileData.profileFramebuffer++;


    if (this._numRenderBuffers <= 1)
    {
        this._cgl.gl.bindFramebuffer(this._cgl.gl.READ_FRAMEBUFFER, this._frameBuffer);
        this._cgl.gl.bindFramebuffer(this._cgl.gl.DRAW_FRAMEBUFFER, this._textureFrameBuffer);

        this._cgl.gl.clearBufferfv(this._cgl.gl.COLOR, 0, [0.0, 0.0, 0.0, 1.0]);
        this._cgl.gl.blitFramebuffer(0, 0, this._width, this._height, 0, 0, this._width, this._height, this._cgl.gl.COLOR_BUFFER_BIT | this._cgl.gl.DEPTH_BUFFER_BIT, this._cgl.gl.NEAREST);
    }
    else
    {
        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this.Framebuffer2BlittingFramebuffer);
        this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.RENDERBUFFER, this._depthRenderbuffer);

        this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this.Framebuffer2FinalFramebuffer);
        this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.DEPTH_ATTACHMENT, this._cgl.gl.TEXTURE_2D, this._textureDepth.tex, 0);

        for (let i = 0; i < this._numRenderBuffers; i++)
        {
            this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this.Framebuffer2BlittingFramebuffer);
            this._cgl.gl.framebufferRenderbuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.RENDERBUFFER, this._colorRenderbuffers[i]);


            this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this.Framebuffer2FinalFramebuffer);
            this._cgl.gl.framebufferTexture2D(this._cgl.gl.FRAMEBUFFER, this._cgl.gl.COLOR_ATTACHMENT0, this._cgl.gl.TEXTURE_2D, this._colorTextures[i].tex, 0);

            this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, null);

            this._cgl.gl.bindFramebuffer(this._cgl.gl.READ_FRAMEBUFFER, this.Framebuffer2BlittingFramebuffer);
            this._cgl.gl.bindFramebuffer(this._cgl.gl.DRAW_FRAMEBUFFER, this.Framebuffer2FinalFramebuffer);

            // this._cgl.gl.clearBufferfv(this._cgl.gl.COLOR, i, [0.0, 0.0, 0.0, 1.0]);



            let flags = this._cgl.gl.COLOR_BUFFER_BIT;
            if (i == 0) flags |= this._cgl.gl.DEPTH_BUFFER_BIT;

            this._cgl.gl.blitFramebuffer(0, 0, this._width, this._height, 0, 0, this._width, this._height, flags, this._cgl.gl.NEAREST);
        }
    }

    this._cgl.gl.bindFramebuffer(this._cgl.gl.FRAMEBUFFER, this._cgl.popGlFrameBuffer());
    this._cgl.popFrameBuffer();

    this._cgl.popModelMatrix();
    // this._cgl.resetViewPort();
    this._cgl.popViewPort();


    if (this._colorTextures[0].filter == Texture.FILTER_MIPMAP)
    {
        for (let i = 0; i < this._numRenderBuffers; i++)
        {
            this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, this._colorTextures[i].tex);
            this._colorTextures[i].updateMipMap();
            this._cgl.gl.bindTexture(this._cgl.gl.TEXTURE_2D, null);
        }
    }
};



/// ///////

;// CONCATENATED MODULE: ./src/core/cgl/cgl_marker.js
const Marker = function (_cgl) // deprecated...
{
    this.draw = function (cgl, _size, depthTest) {};
};

const WirePoint = function (cgl) // deprecated...
{
    this.render = function (_cgl, _size) {};
};

const WireCube = function (cgl) // deprecated...
{
    this.render = function (_cgl, sizeX, sizeY, sizeZ) {};
};

;// CONCATENATED MODULE: ./src/core/cgl/cgl_unicolorshader.js


class UniColorShader
{
    constructor(_cgl)
    {
        this.shader = new CGL.Shader(_cgl, "markermaterial");

        const frag = ""
            .endl() + "void main()"
            .endl() + "{"
            .endl() + "    outColor = vec4(color.rgb,1.0);"
            .endl() + "}";


        const vert = ""
            .endl() + "IN vec3 vPosition;"
            .endl() + "UNI mat4 projMatrix;"
            .endl() + "UNI mat4 mvMatrix;"

            .endl() + "void main()"
            .endl() + "{"
            .endl() + "   gl_Position = projMatrix * mvMatrix * vec4(vPosition,1.0);"
            .endl() + "}";

        this.shader.setSource(vert, frag);
        this.coloruni = this.shader.addUniformFrag("4f", "color", [1, 0.777, 1, 1]);
    }

    setColor(r, g, b, a)
    {
        this.coloruni.set(r, g, b, a);
    }
}

;// CONCATENATED MODULE: ./src/core/cgl/index.js






















const cgl_CGL = {
    "Framebuffer": Framebuffer,
    "Framebuffer2": Framebuffer2,
    "Geometry": Geometry,
    "BoundingBox": BoundingBox,
    "Marker": Marker,
    "WirePoint": WirePoint,
    "WireCube": WireCube,
    "MatrixStack": MatrixStack,
    "Mesh": Mesh,
    "MESH": MESH,
    "ShaderLibMods": ShaderLibMods,
    "Shader": Shader,
    "Uniform": Uniform,
    "MESHES": MESHES,
    "Context": Context,
    "Texture": Texture,
    "TextureEffect": TextureEffect,
    "isWindows": isWindows,
    "getWheelSpeed": getWheelSpeed,
    "getWheelDelta": getWheelDelta,
    "onLoadingAssetsFinished": onLoadingAssetsFinished,
    "ProfileData": ProfileData,
    "UniColorShader": UniColorShader,
    ...constants_CONSTANTS.BLEND_MODES,
    ...constants_CONSTANTS.SHADER,
    ...constants_CONSTANTS.MATH,
    ...constants_CONSTANTS.BLEND_MODES,
};

window.CGL = cgl_CGL;





;// CONCATENATED MODULE: ./src/core/index.js

















window.CABLES = window.CABLES || {};

CABLES.CGL = cgl_CGL;
CABLES.CG = CG;
CABLES.CGP = cgp_CGP;
CABLES.EMBED = EMBED;
CABLES.Link = Link;
CABLES.Port = Port;
CABLES.Op = Op;
CABLES.Profiler = Profiler;
CABLES.Patch = core_patch;
CABLES.Timer = Timer;
CABLES.WEBAUDIO = WEBAUDIO;
CABLES.Variable = Variable;
CABLES.LoadingStatus = LoadingStatus;
CABLES.now = now;
CABLES.internalNow = internalNow;



CABLES = Object.assign(CABLES,
    utils_namespaceObject,
    anim_namespaceObject,
    CONSTANTS.PORT,
    CONSTANTS.PACO,
    CONSTANTS.ANIM,
    CONSTANTS.OP
);

/* harmony default export */ const core = (CABLES);

if (!(function () { return !this; }())) console.warn("not in strict mode: index core"); // eslint-disable-line

CABLES = __webpack_exports__["default"];
/******/ })()
;


var CABLES = CABLES || {}; CABLES.build = {"timestamp":1730812544076,"created":"2024-11-05T13:15:44.076Z","git":{"branch":"master","commit":"de2d1ed35b0f543548036c248fac723014a39801","date":"1730280145","message":"fix"}};
(()=>{"use strict";var t={d:(n,a)=>{for(var r in a)t.o(a,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:a[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{ARRAY_TYPE:()=>f,EPSILON:()=>M,RANDOM:()=>l,equals:()=>d,setMatrixArrayType:()=>v,toRadian:()=>m});var a={};t.r(a),t.d(a,{LDU:()=>j,add:()=>z,adjoint:()=>S,clone:()=>y,copy:()=>p,create:()=>x,determinant:()=>R,equals:()=>Y,exactEquals:()=>Q,frob:()=>V,fromRotation:()=>D,fromScaling:()=>F,fromValues:()=>w,identity:()=>q,invert:()=>P,mul:()=>_,multiply:()=>T,multiplyScalar:()=>X,multiplyScalarAndAdd:()=>Z,rotate:()=>I,scale:()=>E,set:()=>g,str:()=>L,sub:()=>B,subtract:()=>O,transpose:()=>A});var r={};t.r(r),t.d(r,{add:()=>it,clone:()=>k,copy:()=>U,create:()=>N,determinant:()=>J,equals:()=>ft,exactEquals:()=>Mt,frob:()=>ot,fromRotation:()=>at,fromScaling:()=>rt,fromTranslation:()=>ut,fromValues:()=>C,identity:()=>W,invert:()=>H,mul:()=>lt,multiply:()=>K,multiplyScalar:()=>ct,multiplyScalarAndAdd:()=>st,rotate:()=>$,scale:()=>tt,set:()=>G,str:()=>et,sub:()=>vt,subtract:()=>ht,translate:()=>nt});var u={};t.r(u),t.d(u,{add:()=>Yt,adjoint:()=>At,clone:()=>dt,copy:()=>xt,create:()=>bt,determinant:()=>Pt,equals:()=>Nt,exactEquals:()=>Bt,frob:()=>Qt,fromMat2d:()=>Lt,fromMat4:()=>mt,fromQuat:()=>Vt,fromRotation:()=>Dt,fromScaling:()=>Ft,fromTranslation:()=>Et,fromValues:()=>yt,identity:()=>qt,invert:()=>gt,mul:()=>kt,multiply:()=>St,multiplyScalar:()=>Zt,multiplyScalarAndAdd:()=>_t,normalFromMat4:()=>jt,projection:()=>zt,rotate:()=>Tt,scale:()=>It,set:()=>pt,str:()=>Ot,sub:()=>Ut,subtract:()=>Xt,translate:()=>Rt,transpose:()=>wt});var e={};t.r(e),t.d(e,{add:()=>Ln,adjoint:()=>nn,clone:()=>Ct,copy:()=>Gt,create:()=>Wt,determinant:()=>an,equals:()=>Qn,exactEquals:()=>On,frob:()=>Fn,fromQuat:()=>An,fromQuat2:()=>xn,fromRotation:()=>ln,fromRotationTranslation:()=>dn,fromRotationTranslationScale:()=>wn,fromRotationTranslationScaleOrigin:()=>gn,fromScaling:()=>fn,fromTranslation:()=>Mn,fromValues:()=>Ht,fromXRotation:()=>vn,fromYRotation:()=>bn,fromZRotation:()=>mn,frustum:()=>Pn,getRotation:()=>qn,getScaling:()=>pn,getTranslation:()=>yn,identity:()=>Kt,invert:()=>tn,lookAt:()=>In,mul:()=>Yn,multiply:()=>rn,multiplyScalar:()=>jn,multiplyScalarAndAdd:()=>zn,ortho:()=>Tn,perspective:()=>Sn,perspectiveFromFieldOfView:()=>Rn,rotate:()=>on,rotateX:()=>hn,rotateY:()=>cn,rotateZ:()=>sn,scale:()=>en,set:()=>Jt,str:()=>Dn,sub:()=>Xn,subtract:()=>Vn,targetTo:()=>En,translate:()=>un,transpose:()=>$t});var o={};t.r(o),t.d(o,{add:()=>Wn,angle:()=>wa,bezier:()=>va,ceil:()=>Jn,clone:()=>_n,copy:()=>kn,create:()=>Zn,cross:()=>Ma,dist:()=>Da,distance:()=>ua,div:()=>Ea,divide:()=>Hn,dot:()=>sa,equals:()=>Sa,exactEquals:()=>Pa,floor:()=>Kn,forEach:()=>ja,fromValues:()=>Nn,hermite:()=>la,inverse:()=>ha,len:()=>La,length:()=>Bn,lerp:()=>fa,max:()=>ta,min:()=>$n,mul:()=>Ia,multiply:()=>Gn,negate:()=>ia,normalize:()=>ca,random:()=>ba,rotateX:()=>ya,rotateY:()=>pa,rotateZ:()=>qa,round:()=>na,scale:()=>aa,scaleAndAdd:()=>ra,set:()=>Un,sqrDist:()=>Fa,sqrLen:()=>Va,squaredDistance:()=>ea,squaredLength:()=>oa,str:()=>Aa,sub:()=>Ta,subtract:()=>Cn,transformMat3:()=>da,transformMat4:()=>ma,transformQuat:()=>xa,zero:()=>ga});var i={};t.r(i),t.d(i,{add:()=>Za,ceil:()=>ka,clone:()=>Oa,copy:()=>Ya,create:()=>za,cross:()=>or,dist:()=>xr,distance:()=>Ka,div:()=>dr,divide:()=>Na,dot:()=>er,equals:()=>vr,exactEquals:()=>lr,floor:()=>Ua,forEach:()=>wr,fromValues:()=>Qa,inverse:()=>rr,len:()=>pr,length:()=>tr,lerp:()=>ir,max:()=>Ca,min:()=>Wa,mul:()=>mr,multiply:()=>Ba,negate:()=>ar,normalize:()=>ur,random:()=>hr,round:()=>Ga,scale:()=>Ha,scaleAndAdd:()=>Ja,set:()=>Xa,sqrDist:()=>yr,sqrLen:()=>qr,squaredDistance:()=>$a,squaredLength:()=>nr,str:()=>fr,sub:()=>br,subtract:()=>_a,transformMat4:()=>cr,transformQuat:()=>sr,zero:()=>Mr});var h={};t.r(h),t.d(h,{add:()=>$r,calculateW:()=>Fr,clone:()=>Gr,conjugate:()=>Yr,copy:()=>Jr,create:()=>gr,dot:()=>au,equals:()=>su,exactEquals:()=>cu,exp:()=>Lr,fromEuler:()=>Zr,fromMat3:()=>Xr,fromValues:()=>Hr,getAngle:()=>Rr,getAxisAngle:()=>Sr,identity:()=>Ar,invert:()=>Qr,len:()=>eu,length:()=>uu,lerp:()=>ru,ln:()=>Vr,mul:()=>tu,multiply:()=>Tr,normalize:()=>hu,pow:()=>jr,random:()=>Or,rotateX:()=>Ir,rotateY:()=>Er,rotateZ:()=>Dr,rotationTo:()=>Mu,scale:()=>nu,set:()=>Kr,setAxes:()=>lu,setAxisAngle:()=>Pr,slerp:()=>zr,sqlerp:()=>fu,sqrLen:()=>iu,squaredLength:()=>ou,str:()=>_r});var c={};t.r(c),t.d(c,{add:()=>Ou,clone:()=>bu,conjugate:()=>Nu,copy:()=>wu,create:()=>vu,dot:()=>Zu,equals:()=>Ku,exactEquals:()=>Ju,fromMat4:()=>qu,fromRotation:()=>pu,fromRotationTranslation:()=>xu,fromRotationTranslationValues:()=>du,fromTranslation:()=>yu,fromValues:()=>mu,getDual:()=>Su,getReal:()=>Pu,getTranslation:()=>Iu,identity:()=>gu,invert:()=>Bu,len:()=>Uu,length:()=>ku,lerp:()=>_u,mul:()=>Yu,multiply:()=>Qu,normalize:()=>Gu,rotateAroundAxis:()=>zu,rotateByQuatAppend:()=>Vu,rotateByQuatPrepend:()=>ju,rotateX:()=>Du,rotateY:()=>Fu,rotateZ:()=>Lu,scale:()=>Xu,set:()=>Au,setDual:()=>Tu,setReal:()=>Ru,sqrLen:()=>Cu,squaredLength:()=>Wu,str:()=>Hu,translate:()=>Eu});var s={};t.r(s),t.d(s,{add:()=>ue,angle:()=>De,ceil:()=>he,clone:()=>te,copy:()=>ae,create:()=>$u,cross:()=>ge,dist:()=>Xe,distance:()=>be,div:()=>Ye,divide:()=>ie,dot:()=>we,equals:()=>je,exactEquals:()=>Ve,floor:()=>ce,forEach:()=>Be,fromValues:()=>ne,inverse:()=>pe,len:()=>ze,length:()=>de,lerp:()=>Ae,max:()=>Me,min:()=>se,mul:()=>Qe,multiply:()=>oe,negate:()=>ye,normalize:()=>qe,random:()=>Pe,rotate:()=>Ee,round:()=>fe,scale:()=>le,scaleAndAdd:()=>ve,set:()=>re,sqrDist:()=>Ze,sqrLen:()=>_e,squaredDistance:()=>me,squaredLength:()=>xe,str:()=>Le,sub:()=>Oe,subtract:()=>ee,transformMat2:()=>Se,transformMat2d:()=>Re,transformMat3:()=>Te,transformMat4:()=>Ie,zero:()=>Fe});var M=1e-6,f="undefined"!=typeof Float32Array?Float32Array:Array,l=Math.random;function v(t){f=t}var b=Math.PI/180;function m(t){return t*b}function d(t,n){return Math.abs(t-n)<=M*Math.max(1,Math.abs(t),Math.abs(n))}function x(){var t=new f(4);return f!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function y(t){var n=new f(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function p(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function q(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function w(t,n,a,r){var u=new f(4);return u[0]=t,u[1]=n,u[2]=a,u[3]=r,u}function g(t,n,a,r,u){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t}function A(t,n){if(t===n){var a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function P(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=a*e-u*r;return o?(o=1/o,t[0]=e*o,t[1]=-r*o,t[2]=-u*o,t[3]=a*o,t):null}function S(t,n){var a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function R(t){return t[0]*t[3]-t[2]*t[1]}function T(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=a[0],h=a[1],c=a[2],s=a[3];return t[0]=r*i+e*h,t[1]=u*i+o*h,t[2]=r*c+e*s,t[3]=u*c+o*s,t}function I(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(a),h=Math.cos(a);return t[0]=r*h+e*i,t[1]=u*h+o*i,t[2]=r*-i+e*h,t[3]=u*-i+o*h,t}function E(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=a[0],h=a[1];return t[0]=r*i,t[1]=u*i,t[2]=e*h,t[3]=o*h,t}function D(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t}function F(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function L(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function V(t){return Math.hypot(t[0],t[1],t[2],t[3])}function j(t,n,a,r){return t[2]=r[2]/r[0],a[0]=r[0],a[1]=r[1],a[3]=r[3]-t[2]*a[1],[t,n,a]}function z(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function O(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function Q(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function Y(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=n[0],i=n[1],h=n[2],c=n[3];return Math.abs(a-o)<=M*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(r-i)<=M*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-h)<=M*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(e-c)<=M*Math.max(1,Math.abs(e),Math.abs(c))}function X(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function Z(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,n=arguments.length;n--;)t+=arguments[n]*arguments[n];return Math.sqrt(t)});var _=T,B=O;function N(){var t=new f(6);return f!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function k(t){var n=new f(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function U(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function W(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function C(t,n,a,r,u,e){var o=new f(6);return o[0]=t,o[1]=n,o[2]=a,o[3]=r,o[4]=u,o[5]=e,o}function G(t,n,a,r,u,e,o){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t[4]=e,t[5]=o,t}function H(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=a*e-r*u;return h?(h=1/h,t[0]=e*h,t[1]=-r*h,t[2]=-u*h,t[3]=a*h,t[4]=(u*i-e*o)*h,t[5]=(r*o-a*i)*h,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function K(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=a[0],s=a[1],M=a[2],f=a[3],l=a[4],v=a[5];return t[0]=r*c+e*s,t[1]=u*c+o*s,t[2]=r*M+e*f,t[3]=u*M+o*f,t[4]=r*l+e*v+i,t[5]=u*l+o*v+h,t}function $(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=Math.sin(a),s=Math.cos(a);return t[0]=r*s+e*c,t[1]=u*s+o*c,t[2]=r*-c+e*s,t[3]=u*-c+o*s,t[4]=i,t[5]=h,t}function tt(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=a[0],s=a[1];return t[0]=r*c,t[1]=u*c,t[2]=e*s,t[3]=o*s,t[4]=i,t[5]=h,t}function nt(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=a[0],s=a[1];return t[0]=r,t[1]=u,t[2]=e,t[3]=o,t[4]=r*c+e*s+i,t[5]=u*c+o*s+h,t}function at(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t[4]=0,t[5]=0,t}function rt(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function ut(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function et(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ot(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function it(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t}function ht(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t}function ct(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t}function st(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t}function Mt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function ft(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=t[4],i=t[5],h=n[0],c=n[1],s=n[2],f=n[3],l=n[4],v=n[5];return Math.abs(a-h)<=M*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(r-c)<=M*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(u-s)<=M*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(e-f)<=M*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(o-l)<=M*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-v)<=M*Math.max(1,Math.abs(i),Math.abs(v))}var lt=K,vt=ht;function bt(){var t=new f(9);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function mt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function dt(t){var n=new f(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function xt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function yt(t,n,a,r,u,e,o,i,h){var c=new f(9);return c[0]=t,c[1]=n,c[2]=a,c[3]=r,c[4]=u,c[5]=e,c[6]=o,c[7]=i,c[8]=h,c}function pt(t,n,a,r,u,e,o,i,h,c){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t[4]=e,t[5]=o,t[6]=i,t[7]=h,t[8]=c,t}function qt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function wt(t,n){if(t===n){var a=n[1],r=n[2],u=n[5];t[1]=n[3],t[2]=n[6],t[3]=a,t[5]=n[7],t[6]=r,t[7]=u}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function gt(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=n[6],c=n[7],s=n[8],M=s*o-i*c,f=-s*e+i*h,l=c*e-o*h,v=a*M+r*f+u*l;return v?(v=1/v,t[0]=M*v,t[1]=(-s*r+u*c)*v,t[2]=(i*r-u*o)*v,t[3]=f*v,t[4]=(s*a-u*h)*v,t[5]=(-i*a+u*e)*v,t[6]=l*v,t[7]=(-c*a+r*h)*v,t[8]=(o*a-r*e)*v,t):null}function At(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=n[6],c=n[7],s=n[8];return t[0]=o*s-i*c,t[1]=u*c-r*s,t[2]=r*i-u*o,t[3]=i*h-e*s,t[4]=a*s-u*h,t[5]=u*e-a*i,t[6]=e*c-o*h,t[7]=r*h-a*c,t[8]=a*o-r*e,t}function Pt(t){var n=t[0],a=t[1],r=t[2],u=t[3],e=t[4],o=t[5],i=t[6],h=t[7],c=t[8];return n*(c*e-o*h)+a*(-c*u+o*i)+r*(h*u-e*i)}function St(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=n[8],f=a[0],l=a[1],v=a[2],b=a[3],m=a[4],d=a[5],x=a[6],y=a[7],p=a[8];return t[0]=f*r+l*o+v*c,t[1]=f*u+l*i+v*s,t[2]=f*e+l*h+v*M,t[3]=b*r+m*o+d*c,t[4]=b*u+m*i+d*s,t[5]=b*e+m*h+d*M,t[6]=x*r+y*o+p*c,t[7]=x*u+y*i+p*s,t[8]=x*e+y*h+p*M,t}function Rt(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=n[8],f=a[0],l=a[1];return t[0]=r,t[1]=u,t[2]=e,t[3]=o,t[4]=i,t[5]=h,t[6]=f*r+l*o+c,t[7]=f*u+l*i+s,t[8]=f*e+l*h+M,t}function Tt(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=n[8],f=Math.sin(a),l=Math.cos(a);return t[0]=l*r+f*o,t[1]=l*u+f*i,t[2]=l*e+f*h,t[3]=l*o-f*r,t[4]=l*i-f*u,t[5]=l*h-f*e,t[6]=c,t[7]=s,t[8]=M,t}function It(t,n,a){var r=a[0],u=a[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=u*n[3],t[4]=u*n[4],t[5]=u*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function Et(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function Dt(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ft(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Lt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function Vt(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=a+a,i=r+r,h=u+u,c=a*o,s=r*o,M=r*i,f=u*o,l=u*i,v=u*h,b=e*o,m=e*i,d=e*h;return t[0]=1-M-v,t[3]=s-d,t[6]=f+m,t[1]=s+d,t[4]=1-c-v,t[7]=l-b,t[2]=f-m,t[5]=l+b,t[8]=1-c-M,t}function jt(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=n[6],c=n[7],s=n[8],M=n[9],f=n[10],l=n[11],v=n[12],b=n[13],m=n[14],d=n[15],x=a*i-r*o,y=a*h-u*o,p=a*c-e*o,q=r*h-u*i,w=r*c-e*i,g=u*c-e*h,A=s*b-M*v,P=s*m-f*v,S=s*d-l*v,R=M*m-f*b,T=M*d-l*b,I=f*d-l*m,E=x*I-y*T+p*R+q*S-w*P+g*A;return E?(E=1/E,t[0]=(i*I-h*T+c*R)*E,t[1]=(h*S-o*I-c*P)*E,t[2]=(o*T-i*S+c*A)*E,t[3]=(u*T-r*I-e*R)*E,t[4]=(a*I-u*S+e*P)*E,t[5]=(r*S-a*T-e*A)*E,t[6]=(b*g-m*w+d*q)*E,t[7]=(m*p-v*g-d*y)*E,t[8]=(v*w-b*p+d*x)*E,t):null}function zt(t,n,a){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ot(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Qt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Yt(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t}function Xt(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t}function Zt(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t}function _t(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t[6]=n[6]+a[6]*r,t[7]=n[7]+a[7]*r,t[8]=n[8]+a[8]*r,t}function Bt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Nt(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=t[4],i=t[5],h=t[6],c=t[7],s=t[8],f=n[0],l=n[1],v=n[2],b=n[3],m=n[4],d=n[5],x=n[6],y=n[7],p=n[8];return Math.abs(a-f)<=M*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(r-l)<=M*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(u-v)<=M*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(e-b)<=M*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(o-m)<=M*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(i-d)<=M*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(h-x)<=M*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(c-y)<=M*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(s-p)<=M*Math.max(1,Math.abs(s),Math.abs(p))}var kt=St,Ut=Xt;function Wt(){var t=new f(16);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Ct(t){var n=new f(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Gt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Ht(t,n,a,r,u,e,o,i,h,c,s,M,l,v,b,m){var d=new f(16);return d[0]=t,d[1]=n,d[2]=a,d[3]=r,d[4]=u,d[5]=e,d[6]=o,d[7]=i,d[8]=h,d[9]=c,d[10]=s,d[11]=M,d[12]=l,d[13]=v,d[14]=b,d[15]=m,d}function Jt(t,n,a,r,u,e,o,i,h,c,s,M,f,l,v,b,m){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t[4]=e,t[5]=o,t[6]=i,t[7]=h,t[8]=c,t[9]=s,t[10]=M,t[11]=f,t[12]=l,t[13]=v,t[14]=b,t[15]=m,t}function Kt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function $t(t,n){if(t===n){var a=n[1],r=n[2],u=n[3],e=n[6],o=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=a,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=e,t[11]=n[14],t[12]=u,t[13]=o,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function tn(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=n[6],c=n[7],s=n[8],M=n[9],f=n[10],l=n[11],v=n[12],b=n[13],m=n[14],d=n[15],x=a*i-r*o,y=a*h-u*o,p=a*c-e*o,q=r*h-u*i,w=r*c-e*i,g=u*c-e*h,A=s*b-M*v,P=s*m-f*v,S=s*d-l*v,R=M*m-f*b,T=M*d-l*b,I=f*d-l*m,E=x*I-y*T+p*R+q*S-w*P+g*A;return E?(E=1/E,t[0]=(i*I-h*T+c*R)*E,t[1]=(u*T-r*I-e*R)*E,t[2]=(b*g-m*w+d*q)*E,t[3]=(f*w-M*g-l*q)*E,t[4]=(h*S-o*I-c*P)*E,t[5]=(a*I-u*S+e*P)*E,t[6]=(m*p-v*g-d*y)*E,t[7]=(s*g-f*p+l*y)*E,t[8]=(o*T-i*S+c*A)*E,t[9]=(r*S-a*T-e*A)*E,t[10]=(v*w-b*p+d*x)*E,t[11]=(M*p-s*w-l*x)*E,t[12]=(i*P-o*R-h*A)*E,t[13]=(a*R-r*P+u*A)*E,t[14]=(b*y-v*q-m*x)*E,t[15]=(s*q-M*y+f*x)*E,t):null}function nn(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=n[4],i=n[5],h=n[6],c=n[7],s=n[8],M=n[9],f=n[10],l=n[11],v=n[12],b=n[13],m=n[14],d=n[15];return t[0]=i*(f*d-l*m)-M*(h*d-c*m)+b*(h*l-c*f),t[1]=-(r*(f*d-l*m)-M*(u*d-e*m)+b*(u*l-e*f)),t[2]=r*(h*d-c*m)-i*(u*d-e*m)+b*(u*c-e*h),t[3]=-(r*(h*l-c*f)-i*(u*l-e*f)+M*(u*c-e*h)),t[4]=-(o*(f*d-l*m)-s*(h*d-c*m)+v*(h*l-c*f)),t[5]=a*(f*d-l*m)-s*(u*d-e*m)+v*(u*l-e*f),t[6]=-(a*(h*d-c*m)-o*(u*d-e*m)+v*(u*c-e*h)),t[7]=a*(h*l-c*f)-o*(u*l-e*f)+s*(u*c-e*h),t[8]=o*(M*d-l*b)-s*(i*d-c*b)+v*(i*l-c*M),t[9]=-(a*(M*d-l*b)-s*(r*d-e*b)+v*(r*l-e*M)),t[10]=a*(i*d-c*b)-o*(r*d-e*b)+v*(r*c-e*i),t[11]=-(a*(i*l-c*M)-o*(r*l-e*M)+s*(r*c-e*i)),t[12]=-(o*(M*m-f*b)-s*(i*m-h*b)+v*(i*f-h*M)),t[13]=a*(M*m-f*b)-s*(r*m-u*b)+v*(r*f-u*M),t[14]=-(a*(i*m-h*b)-o*(r*m-u*b)+v*(r*h-u*i)),t[15]=a*(i*f-h*M)-o*(r*f-u*M)+s*(r*h-u*i),t}function an(t){var n=t[0],a=t[1],r=t[2],u=t[3],e=t[4],o=t[5],i=t[6],h=t[7],c=t[8],s=t[9],M=t[10],f=t[11],l=t[12],v=t[13],b=t[14],m=t[15];return(n*o-a*e)*(M*m-f*b)-(n*i-r*e)*(s*m-f*v)+(n*h-u*e)*(s*b-M*v)+(a*i-r*o)*(c*m-f*l)-(a*h-u*o)*(c*b-M*l)+(r*h-u*i)*(c*v-s*l)}function rn(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=n[8],f=n[9],l=n[10],v=n[11],b=n[12],m=n[13],d=n[14],x=n[15],y=a[0],p=a[1],q=a[2],w=a[3];return t[0]=y*r+p*i+q*M+w*b,t[1]=y*u+p*h+q*f+w*m,t[2]=y*e+p*c+q*l+w*d,t[3]=y*o+p*s+q*v+w*x,y=a[4],p=a[5],q=a[6],w=a[7],t[4]=y*r+p*i+q*M+w*b,t[5]=y*u+p*h+q*f+w*m,t[6]=y*e+p*c+q*l+w*d,t[7]=y*o+p*s+q*v+w*x,y=a[8],p=a[9],q=a[10],w=a[11],t[8]=y*r+p*i+q*M+w*b,t[9]=y*u+p*h+q*f+w*m,t[10]=y*e+p*c+q*l+w*d,t[11]=y*o+p*s+q*v+w*x,y=a[12],p=a[13],q=a[14],w=a[15],t[12]=y*r+p*i+q*M+w*b,t[13]=y*u+p*h+q*f+w*m,t[14]=y*e+p*c+q*l+w*d,t[15]=y*o+p*s+q*v+w*x,t}function un(t,n,a){var r,u,e,o,i,h,c,s,M,f,l,v,b=a[0],m=a[1],d=a[2];return n===t?(t[12]=n[0]*b+n[4]*m+n[8]*d+n[12],t[13]=n[1]*b+n[5]*m+n[9]*d+n[13],t[14]=n[2]*b+n[6]*m+n[10]*d+n[14],t[15]=n[3]*b+n[7]*m+n[11]*d+n[15]):(r=n[0],u=n[1],e=n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=n[8],f=n[9],l=n[10],v=n[11],t[0]=r,t[1]=u,t[2]=e,t[3]=o,t[4]=i,t[5]=h,t[6]=c,t[7]=s,t[8]=M,t[9]=f,t[10]=l,t[11]=v,t[12]=r*b+i*m+M*d+n[12],t[13]=u*b+h*m+f*d+n[13],t[14]=e*b+c*m+l*d+n[14],t[15]=o*b+s*m+v*d+n[15]),t}function en(t,n,a){var r=a[0],u=a[1],e=a[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*u,t[5]=n[5]*u,t[6]=n[6]*u,t[7]=n[7]*u,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function on(t,n,a,r){var u,e,o,i,h,c,s,f,l,v,b,m,d,x,y,p,q,w,g,A,P,S,R,T,I=r[0],E=r[1],D=r[2],F=Math.hypot(I,E,D);return F<M?null:(I*=F=1/F,E*=F,D*=F,u=Math.sin(a),o=1-(e=Math.cos(a)),i=n[0],h=n[1],c=n[2],s=n[3],f=n[4],l=n[5],v=n[6],b=n[7],m=n[8],d=n[9],x=n[10],y=n[11],p=I*I*o+e,q=E*I*o+D*u,w=D*I*o-E*u,g=I*E*o-D*u,A=E*E*o+e,P=D*E*o+I*u,S=I*D*o+E*u,R=E*D*o-I*u,T=D*D*o+e,t[0]=i*p+f*q+m*w,t[1]=h*p+l*q+d*w,t[2]=c*p+v*q+x*w,t[3]=s*p+b*q+y*w,t[4]=i*g+f*A+m*P,t[5]=h*g+l*A+d*P,t[6]=c*g+v*A+x*P,t[7]=s*g+b*A+y*P,t[8]=i*S+f*R+m*T,t[9]=h*S+l*R+d*T,t[10]=c*S+v*R+x*T,t[11]=s*S+b*R+y*T,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function hn(t,n,a){var r=Math.sin(a),u=Math.cos(a),e=n[4],o=n[5],i=n[6],h=n[7],c=n[8],s=n[9],M=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=e*u+c*r,t[5]=o*u+s*r,t[6]=i*u+M*r,t[7]=h*u+f*r,t[8]=c*u-e*r,t[9]=s*u-o*r,t[10]=M*u-i*r,t[11]=f*u-h*r,t}function cn(t,n,a){var r=Math.sin(a),u=Math.cos(a),e=n[0],o=n[1],i=n[2],h=n[3],c=n[8],s=n[9],M=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*u-c*r,t[1]=o*u-s*r,t[2]=i*u-M*r,t[3]=h*u-f*r,t[8]=e*r+c*u,t[9]=o*r+s*u,t[10]=i*r+M*u,t[11]=h*r+f*u,t}function sn(t,n,a){var r=Math.sin(a),u=Math.cos(a),e=n[0],o=n[1],i=n[2],h=n[3],c=n[4],s=n[5],M=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=e*u+c*r,t[1]=o*u+s*r,t[2]=i*u+M*r,t[3]=h*u+f*r,t[4]=c*u-e*r,t[5]=s*u-o*r,t[6]=M*u-i*r,t[7]=f*u-h*r,t}function Mn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function fn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ln(t,n,a){var r,u,e,o=a[0],i=a[1],h=a[2],c=Math.hypot(o,i,h);return c<M?null:(o*=c=1/c,i*=c,h*=c,r=Math.sin(n),e=1-(u=Math.cos(n)),t[0]=o*o*e+u,t[1]=i*o*e+h*r,t[2]=h*o*e-i*r,t[3]=0,t[4]=o*i*e-h*r,t[5]=i*i*e+u,t[6]=h*i*e+o*r,t[7]=0,t[8]=o*h*e+i*r,t[9]=i*h*e-o*r,t[10]=h*h*e+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function vn(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bn(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mn(t,n){var a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dn(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=r+r,h=u+u,c=e+e,s=r*i,M=r*h,f=r*c,l=u*h,v=u*c,b=e*c,m=o*i,d=o*h,x=o*c;return t[0]=1-(l+b),t[1]=M+x,t[2]=f-d,t[3]=0,t[4]=M-x,t[5]=1-(s+b),t[6]=v+m,t[7]=0,t[8]=f+d,t[9]=v-m,t[10]=1-(s+l),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function xn(t,n){var a=new f(3),r=-n[0],u=-n[1],e=-n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=r*r+u*u+e*e+o*o;return M>0?(a[0]=2*(i*o+s*r+h*e-c*u)/M,a[1]=2*(h*o+s*u+c*r-i*e)/M,a[2]=2*(c*o+s*e+i*u-h*r)/M):(a[0]=2*(i*o+s*r+h*e-c*u),a[1]=2*(h*o+s*u+c*r-i*e),a[2]=2*(c*o+s*e+i*u-h*r)),dn(t,n,a),t}function yn(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function pn(t,n){var a=n[0],r=n[1],u=n[2],e=n[4],o=n[5],i=n[6],h=n[8],c=n[9],s=n[10];return t[0]=Math.hypot(a,r,u),t[1]=Math.hypot(e,o,i),t[2]=Math.hypot(h,c,s),t}function qn(t,n){var a=new f(3);pn(a,n);var r=1/a[0],u=1/a[1],e=1/a[2],o=n[0]*r,i=n[1]*u,h=n[2]*e,c=n[4]*r,s=n[5]*u,M=n[6]*e,l=n[8]*r,v=n[9]*u,b=n[10]*e,m=o+s+b,d=0;return m>0?(d=2*Math.sqrt(m+1),t[3]=.25*d,t[0]=(M-v)/d,t[1]=(l-h)/d,t[2]=(i-c)/d):o>s&&o>b?(d=2*Math.sqrt(1+o-s-b),t[3]=(M-v)/d,t[0]=.25*d,t[1]=(i+c)/d,t[2]=(l+h)/d):s>b?(d=2*Math.sqrt(1+s-o-b),t[3]=(l-h)/d,t[0]=(i+c)/d,t[1]=.25*d,t[2]=(M+v)/d):(d=2*Math.sqrt(1+b-o-s),t[3]=(i-c)/d,t[0]=(l+h)/d,t[1]=(M+v)/d,t[2]=.25*d),t}function wn(t,n,a,r){var u=n[0],e=n[1],o=n[2],i=n[3],h=u+u,c=e+e,s=o+o,M=u*h,f=u*c,l=u*s,v=e*c,b=e*s,m=o*s,d=i*h,x=i*c,y=i*s,p=r[0],q=r[1],w=r[2];return t[0]=(1-(v+m))*p,t[1]=(f+y)*p,t[2]=(l-x)*p,t[3]=0,t[4]=(f-y)*q,t[5]=(1-(M+m))*q,t[6]=(b+d)*q,t[7]=0,t[8]=(l+x)*w,t[9]=(b-d)*w,t[10]=(1-(M+v))*w,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function gn(t,n,a,r,u){var e=n[0],o=n[1],i=n[2],h=n[3],c=e+e,s=o+o,M=i+i,f=e*c,l=e*s,v=e*M,b=o*s,m=o*M,d=i*M,x=h*c,y=h*s,p=h*M,q=r[0],w=r[1],g=r[2],A=u[0],P=u[1],S=u[2],R=(1-(b+d))*q,T=(l+p)*q,I=(v-y)*q,E=(l-p)*w,D=(1-(f+d))*w,F=(m+x)*w,L=(v+y)*g,V=(m-x)*g,j=(1-(f+b))*g;return t[0]=R,t[1]=T,t[2]=I,t[3]=0,t[4]=E,t[5]=D,t[6]=F,t[7]=0,t[8]=L,t[9]=V,t[10]=j,t[11]=0,t[12]=a[0]+A-(R*A+E*P+L*S),t[13]=a[1]+P-(T*A+D*P+V*S),t[14]=a[2]+S-(I*A+F*P+j*S),t[15]=1,t}function An(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=a+a,i=r+r,h=u+u,c=a*o,s=r*o,M=r*i,f=u*o,l=u*i,v=u*h,b=e*o,m=e*i,d=e*h;return t[0]=1-M-v,t[1]=s+d,t[2]=f-m,t[3]=0,t[4]=s-d,t[5]=1-c-v,t[6]=l+b,t[7]=0,t[8]=f+m,t[9]=l-b,t[10]=1-c-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pn(t,n,a,r,u,e,o){var i=1/(a-n),h=1/(u-r),c=1/(e-o);return t[0]=2*e*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*e*h,t[6]=0,t[7]=0,t[8]=(a+n)*i,t[9]=(u+r)*h,t[10]=(o+e)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*e*2*c,t[15]=0,t}function Sn(t,n,a,r,u){var e,o=1/Math.tan(n/2);return t[0]=o/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=u&&u!==1/0?(e=1/(r-u),t[10]=(u+r)*e,t[14]=2*u*r*e):(t[10]=-1,t[14]=-2*r),t}function Rn(t,n,a,r){var u=Math.tan(n.upDegrees*Math.PI/180),e=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),h=2/(o+i),c=2/(u+e);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-i)*h*.5,t[9]=(u-e)*c*.5,t[10]=r/(a-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*a/(a-r),t[15]=0,t}function Tn(t,n,a,r,u,e,o){var i=1/(n-a),h=1/(r-u),c=1/(e-o);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+a)*i,t[13]=(u+r)*h,t[14]=(o+e)*c,t[15]=1,t}function In(t,n,a,r){var u,e,o,i,h,c,s,f,l,v,b=n[0],m=n[1],d=n[2],x=r[0],y=r[1],p=r[2],q=a[0],w=a[1],g=a[2];return Math.abs(b-q)<M&&Math.abs(m-w)<M&&Math.abs(d-g)<M?Kt(t):(s=b-q,f=m-w,l=d-g,u=y*(l*=v=1/Math.hypot(s,f,l))-p*(f*=v),e=p*(s*=v)-x*l,o=x*f-y*s,(v=Math.hypot(u,e,o))?(u*=v=1/v,e*=v,o*=v):(u=0,e=0,o=0),i=f*o-l*e,h=l*u-s*o,c=s*e-f*u,(v=Math.hypot(i,h,c))?(i*=v=1/v,h*=v,c*=v):(i=0,h=0,c=0),t[0]=u,t[1]=i,t[2]=s,t[3]=0,t[4]=e,t[5]=h,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=l,t[11]=0,t[12]=-(u*b+e*m+o*d),t[13]=-(i*b+h*m+c*d),t[14]=-(s*b+f*m+l*d),t[15]=1,t)}function En(t,n,a,r){var u=n[0],e=n[1],o=n[2],i=r[0],h=r[1],c=r[2],s=u-a[0],M=e-a[1],f=o-a[2],l=s*s+M*M+f*f;l>0&&(s*=l=1/Math.sqrt(l),M*=l,f*=l);var v=h*f-c*M,b=c*s-i*f,m=i*M-h*s;return(l=v*v+b*b+m*m)>0&&(v*=l=1/Math.sqrt(l),b*=l,m*=l),t[0]=v,t[1]=b,t[2]=m,t[3]=0,t[4]=M*m-f*b,t[5]=f*v-s*m,t[6]=s*b-M*v,t[7]=0,t[8]=s,t[9]=M,t[10]=f,t[11]=0,t[12]=u,t[13]=e,t[14]=o,t[15]=1,t}function Dn(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Fn(t){return Math.hypot(t[0],t[1],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ln(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t[9]=n[9]+a[9],t[10]=n[10]+a[10],t[11]=n[11]+a[11],t[12]=n[12]+a[12],t[13]=n[13]+a[13],t[14]=n[14]+a[14],t[15]=n[15]+a[15],t}function Vn(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t[9]=n[9]-a[9],t[10]=n[10]-a[10],t[11]=n[11]-a[11],t[12]=n[12]-a[12],t[13]=n[13]-a[13],t[14]=n[14]-a[14],t[15]=n[15]-a[15],t}function jn(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12]*a,t[13]=n[13]*a,t[14]=n[14]*a,t[15]=n[15]*a,t}function zn(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t[6]=n[6]+a[6]*r,t[7]=n[7]+a[7]*r,t[8]=n[8]+a[8]*r,t[9]=n[9]+a[9]*r,t[10]=n[10]+a[10]*r,t[11]=n[11]+a[11]*r,t[12]=n[12]+a[12]*r,t[13]=n[13]+a[13]*r,t[14]=n[14]+a[14]*r,t[15]=n[15]+a[15]*r,t}function On(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function Qn(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=t[4],i=t[5],h=t[6],c=t[7],s=t[8],f=t[9],l=t[10],v=t[11],b=t[12],m=t[13],d=t[14],x=t[15],y=n[0],p=n[1],q=n[2],w=n[3],g=n[4],A=n[5],P=n[6],S=n[7],R=n[8],T=n[9],I=n[10],E=n[11],D=n[12],F=n[13],L=n[14],V=n[15];return Math.abs(a-y)<=M*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(r-p)<=M*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(u-q)<=M*Math.max(1,Math.abs(u),Math.abs(q))&&Math.abs(e-w)<=M*Math.max(1,Math.abs(e),Math.abs(w))&&Math.abs(o-g)<=M*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(i-A)<=M*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(h-P)<=M*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(c-S)<=M*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(s-R)<=M*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(f-T)<=M*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(l-I)<=M*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(v-E)<=M*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(b-D)<=M*Math.max(1,Math.abs(b),Math.abs(D))&&Math.abs(m-F)<=M*Math.max(1,Math.abs(m),Math.abs(F))&&Math.abs(d-L)<=M*Math.max(1,Math.abs(d),Math.abs(L))&&Math.abs(x-V)<=M*Math.max(1,Math.abs(x),Math.abs(V))}var Yn=rn,Xn=Vn;function Zn(){var t=new f(3);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function _n(t){var n=new f(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function Bn(t){var n=t[0],a=t[1],r=t[2];return Math.hypot(n,a,r)}function Nn(t,n,a){var r=new f(3);return r[0]=t,r[1]=n,r[2]=a,r}function kn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Un(t,n,a,r){return t[0]=n,t[1]=a,t[2]=r,t}function Wn(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function Cn(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function Gn(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function Hn(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function Jn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function Kn(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function $n(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function ta(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t}function na(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function aa(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function ra(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t}function ua(t,n){var a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return Math.hypot(a,r,u)}function ea(t,n){var a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return a*a+r*r+u*u}function oa(t){var n=t[0],a=t[1],r=t[2];return n*n+a*a+r*r}function ia(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function ha(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function ca(t,n){var a=n[0],r=n[1],u=n[2],e=a*a+r*r+u*u;return e>0&&(e=1/Math.sqrt(e)),t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function sa(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ma(t,n,a){var r=n[0],u=n[1],e=n[2],o=a[0],i=a[1],h=a[2];return t[0]=u*h-e*i,t[1]=e*o-r*h,t[2]=r*i-u*o,t}function fa(t,n,a,r){var u=n[0],e=n[1],o=n[2];return t[0]=u+r*(a[0]-u),t[1]=e+r*(a[1]-e),t[2]=o+r*(a[2]-o),t}function la(t,n,a,r,u,e){var o=e*e,i=o*(2*e-3)+1,h=o*(e-2)+e,c=o*(e-1),s=o*(3-2*e);return t[0]=n[0]*i+a[0]*h+r[0]*c+u[0]*s,t[1]=n[1]*i+a[1]*h+r[1]*c+u[1]*s,t[2]=n[2]*i+a[2]*h+r[2]*c+u[2]*s,t}function va(t,n,a,r,u,e){var o=1-e,i=o*o,h=e*e,c=i*o,s=3*e*i,M=3*h*o,f=h*e;return t[0]=n[0]*c+a[0]*s+r[0]*M+u[0]*f,t[1]=n[1]*c+a[1]*s+r[1]*M+u[1]*f,t[2]=n[2]*c+a[2]*s+r[2]*M+u[2]*f,t}function ba(t,n){n=n||1;var a=2*l()*Math.PI,r=2*l()-1,u=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(a)*u,t[1]=Math.sin(a)*u,t[2]=r*n,t}function ma(t,n,a){var r=n[0],u=n[1],e=n[2],o=a[3]*r+a[7]*u+a[11]*e+a[15];return o=o||1,t[0]=(a[0]*r+a[4]*u+a[8]*e+a[12])/o,t[1]=(a[1]*r+a[5]*u+a[9]*e+a[13])/o,t[2]=(a[2]*r+a[6]*u+a[10]*e+a[14])/o,t}function da(t,n,a){var r=n[0],u=n[1],e=n[2];return t[0]=r*a[0]+u*a[3]+e*a[6],t[1]=r*a[1]+u*a[4]+e*a[7],t[2]=r*a[2]+u*a[5]+e*a[8],t}function xa(t,n,a){var r=a[0],u=a[1],e=a[2],o=a[3],i=n[0],h=n[1],c=n[2],s=u*c-e*h,M=e*i-r*c,f=r*h-u*i,l=u*f-e*M,v=e*s-r*f,b=r*M-u*s,m=2*o;return s*=m,M*=m,f*=m,l*=2,v*=2,b*=2,t[0]=i+s+l,t[1]=h+M+v,t[2]=c+f+b,t}function ya(t,n,a,r){var u=[],e=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],e[0]=u[0],e[1]=u[1]*Math.cos(r)-u[2]*Math.sin(r),e[2]=u[1]*Math.sin(r)+u[2]*Math.cos(r),t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t}function pa(t,n,a,r){var u=[],e=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],e[0]=u[2]*Math.sin(r)+u[0]*Math.cos(r),e[1]=u[1],e[2]=u[2]*Math.cos(r)-u[0]*Math.sin(r),t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t}function qa(t,n,a,r){var u=[],e=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],e[0]=u[0]*Math.cos(r)-u[1]*Math.sin(r),e[1]=u[0]*Math.sin(r)+u[1]*Math.cos(r),e[2]=u[2],t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t}function wa(t,n){var a=Nn(t[0],t[1],t[2]),r=Nn(n[0],n[1],n[2]);ca(a,a),ca(r,r);var u=sa(a,r);return u>1?0:u<-1?Math.PI:Math.acos(u)}function ga(t){return t[0]=0,t[1]=0,t[2]=0,t}function Aa(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Pa(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Sa(t,n){var a=t[0],r=t[1],u=t[2],e=n[0],o=n[1],i=n[2];return Math.abs(a-e)<=M*Math.max(1,Math.abs(a),Math.abs(e))&&Math.abs(r-o)<=M*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-i)<=M*Math.max(1,Math.abs(u),Math.abs(i))}var Ra,Ta=Cn,Ia=Gn,Ea=Hn,Da=ua,Fa=ea,La=Bn,Va=oa,ja=(Ra=Zn(),function(t,n,a,r,u,e){var o,i;for(n||(n=3),a||(a=0),i=r?Math.min(r*n+a,t.length):t.length,o=a;o<i;o+=n)Ra[0]=t[o],Ra[1]=t[o+1],Ra[2]=t[o+2],u(Ra,Ra,e),t[o]=Ra[0],t[o+1]=Ra[1],t[o+2]=Ra[2];return t});function za(){var t=new f(4);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Oa(t){var n=new f(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Qa(t,n,a,r){var u=new f(4);return u[0]=t,u[1]=n,u[2]=a,u[3]=r,u}function Ya(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function Xa(t,n,a,r,u){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t}function Za(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function _a(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function Ba(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function Na(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function ka(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Ua(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function Wa(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t}function Ca(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t}function Ga(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function Ha(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function Ja(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t}function Ka(t,n){var a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],e=n[3]-t[3];return Math.hypot(a,r,u,e)}function $a(t,n){var a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],e=n[3]-t[3];return a*a+r*r+u*u+e*e}function tr(t){var n=t[0],a=t[1],r=t[2],u=t[3];return Math.hypot(n,a,r,u)}function nr(t){var n=t[0],a=t[1],r=t[2],u=t[3];return n*n+a*a+r*r+u*u}function ar(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function rr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function ur(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=a*a+r*r+u*u+e*e;return o>0&&(o=1/Math.sqrt(o)),t[0]=a*o,t[1]=r*o,t[2]=u*o,t[3]=e*o,t}function er(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function or(t,n,a,r){var u=a[0]*r[1]-a[1]*r[0],e=a[0]*r[2]-a[2]*r[0],o=a[0]*r[3]-a[3]*r[0],i=a[1]*r[2]-a[2]*r[1],h=a[1]*r[3]-a[3]*r[1],c=a[2]*r[3]-a[3]*r[2],s=n[0],M=n[1],f=n[2],l=n[3];return t[0]=M*c-f*h+l*i,t[1]=-s*c+f*o-l*e,t[2]=s*h-M*o+l*u,t[3]=-s*i+M*e-f*u,t}function ir(t,n,a,r){var u=n[0],e=n[1],o=n[2],i=n[3];return t[0]=u+r*(a[0]-u),t[1]=e+r*(a[1]-e),t[2]=o+r*(a[2]-o),t[3]=i+r*(a[3]-i),t}function hr(t,n){var a,r,u,e,o,i;n=n||1;do{o=(a=2*l()-1)*a+(r=2*l()-1)*r}while(o>=1);do{i=(u=2*l()-1)*u+(e=2*l()-1)*e}while(i>=1);var h=Math.sqrt((1-o)/i);return t[0]=n*a,t[1]=n*r,t[2]=n*u*h,t[3]=n*e*h,t}function cr(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3];return t[0]=a[0]*r+a[4]*u+a[8]*e+a[12]*o,t[1]=a[1]*r+a[5]*u+a[9]*e+a[13]*o,t[2]=a[2]*r+a[6]*u+a[10]*e+a[14]*o,t[3]=a[3]*r+a[7]*u+a[11]*e+a[15]*o,t}function sr(t,n,a){var r=n[0],u=n[1],e=n[2],o=a[0],i=a[1],h=a[2],c=a[3],s=c*r+i*e-h*u,M=c*u+h*r-o*e,f=c*e+o*u-i*r,l=-o*r-i*u-h*e;return t[0]=s*c+l*-o+M*-h-f*-i,t[1]=M*c+l*-i+f*-o-s*-h,t[2]=f*c+l*-h+s*-i-M*-o,t[3]=n[3],t}function Mr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function fr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function lr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function vr(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=n[0],i=n[1],h=n[2],c=n[3];return Math.abs(a-o)<=M*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(r-i)<=M*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-h)<=M*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(e-c)<=M*Math.max(1,Math.abs(e),Math.abs(c))}var br=_a,mr=Ba,dr=Na,xr=Ka,yr=$a,pr=tr,qr=nr,wr=function(){var t=za();return function(n,a,r,u,e,o){var i,h;for(a||(a=4),r||(r=0),h=u?Math.min(u*a+r,n.length):n.length,i=r;i<h;i+=a)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],e(t,t,o),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}();function gr(){var t=new f(4);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ar(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Pr(t,n,a){a*=.5;var r=Math.sin(a);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(a),t}function Sr(t,n){var a=2*Math.acos(n[3]),r=Math.sin(a/2);return r>M?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),a}function Rr(t,n){var a=au(t,n);return Math.acos(2*a*a-1)}function Tr(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=a[0],h=a[1],c=a[2],s=a[3];return t[0]=r*s+o*i+u*c-e*h,t[1]=u*s+o*h+e*i-r*c,t[2]=e*s+o*c+r*h-u*i,t[3]=o*s-r*i-u*h-e*c,t}function Ir(t,n,a){a*=.5;var r=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(a),h=Math.cos(a);return t[0]=r*h+o*i,t[1]=u*h+e*i,t[2]=e*h-u*i,t[3]=o*h-r*i,t}function Er(t,n,a){a*=.5;var r=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(a),h=Math.cos(a);return t[0]=r*h-e*i,t[1]=u*h+o*i,t[2]=e*h+r*i,t[3]=o*h-u*i,t}function Dr(t,n,a){a*=.5;var r=n[0],u=n[1],e=n[2],o=n[3],i=Math.sin(a),h=Math.cos(a);return t[0]=r*h+u*i,t[1]=u*h-r*i,t[2]=e*h+o*i,t[3]=o*h-e*i,t}function Fr(t,n){var a=n[0],r=n[1],u=n[2];return t[0]=a,t[1]=r,t[2]=u,t[3]=Math.sqrt(Math.abs(1-a*a-r*r-u*u)),t}function Lr(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=Math.sqrt(a*a+r*r+u*u),i=Math.exp(e),h=o>0?i*Math.sin(o)/o:0;return t[0]=a*h,t[1]=r*h,t[2]=u*h,t[3]=i*Math.cos(o),t}function Vr(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=Math.sqrt(a*a+r*r+u*u),i=o>0?Math.atan2(o,e)/o:0;return t[0]=a*i,t[1]=r*i,t[2]=u*i,t[3]=.5*Math.log(a*a+r*r+u*u+e*e),t}function jr(t,n,a){return Vr(t,n),nu(t,t,a),Lr(t,t),t}function zr(t,n,a,r){var u,e,o,i,h,c=n[0],s=n[1],f=n[2],l=n[3],v=a[0],b=a[1],m=a[2],d=a[3];return(e=c*v+s*b+f*m+l*d)<0&&(e=-e,v=-v,b=-b,m=-m,d=-d),1-e>M?(u=Math.acos(e),o=Math.sin(u),i=Math.sin((1-r)*u)/o,h=Math.sin(r*u)/o):(i=1-r,h=r),t[0]=i*c+h*v,t[1]=i*s+h*b,t[2]=i*f+h*m,t[3]=i*l+h*d,t}function Or(t){var n=l(),a=l(),r=l(),u=Math.sqrt(1-n),e=Math.sqrt(n);return t[0]=u*Math.sin(2*Math.PI*a),t[1]=u*Math.cos(2*Math.PI*a),t[2]=e*Math.sin(2*Math.PI*r),t[3]=e*Math.cos(2*Math.PI*r),t}function Qr(t,n){var a=n[0],r=n[1],u=n[2],e=n[3],o=a*a+r*r+u*u+e*e,i=o?1/o:0;return t[0]=-a*i,t[1]=-r*i,t[2]=-u*i,t[3]=e*i,t}function Yr(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Xr(t,n){var a,r=n[0]+n[4]+n[8];if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(n[5]-n[7])*a,t[1]=(n[6]-n[2])*a,t[2]=(n[1]-n[3])*a;else{var u=0;n[4]>n[0]&&(u=1),n[8]>n[3*u+u]&&(u=2);var e=(u+1)%3,o=(u+2)%3;a=Math.sqrt(n[3*u+u]-n[3*e+e]-n[3*o+o]+1),t[u]=.5*a,a=.5/a,t[3]=(n[3*e+o]-n[3*o+e])*a,t[e]=(n[3*e+u]+n[3*u+e])*a,t[o]=(n[3*o+u]+n[3*u+o])*a}return t}function Zr(t,n,a,r){var u=.5*Math.PI/180;n*=u,a*=u,r*=u;var e=Math.sin(n),o=Math.cos(n),i=Math.sin(a),h=Math.cos(a),c=Math.sin(r),s=Math.cos(r);return t[0]=e*h*s-o*i*c,t[1]=o*i*s+e*h*c,t[2]=o*h*c-e*i*s,t[3]=o*h*s+e*i*c,t}function _r(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Br,Nr,kr,Ur,Wr,Cr,Gr=Oa,Hr=Qa,Jr=Ya,Kr=Xa,$r=Za,tu=Tr,nu=Ha,au=er,ru=ir,uu=tr,eu=uu,ou=nr,iu=ou,hu=ur,cu=lr,su=vr,Mu=(Br=Zn(),Nr=Nn(1,0,0),kr=Nn(0,1,0),function(t,n,a){var r=sa(n,a);return r<-.999999?(Ma(Br,Nr,n),La(Br)<1e-6&&Ma(Br,kr,n),ca(Br,Br),Pr(t,Br,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(Ma(Br,n,a),t[0]=Br[0],t[1]=Br[1],t[2]=Br[2],t[3]=1+r,hu(t,t))}),fu=(Ur=gr(),Wr=gr(),function(t,n,a,r,u,e){return zr(Ur,n,u,e),zr(Wr,a,r,e),zr(t,Ur,Wr,2*e*(1-e)),t}),lu=(Cr=bt(),function(t,n,a,r){return Cr[0]=a[0],Cr[3]=a[1],Cr[6]=a[2],Cr[1]=r[0],Cr[4]=r[1],Cr[7]=r[2],Cr[2]=-n[0],Cr[5]=-n[1],Cr[8]=-n[2],hu(t,Xr(t,Cr))});function vu(){var t=new f(8);return f!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function bu(t){var n=new f(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function mu(t,n,a,r,u,e,o,i){var h=new f(8);return h[0]=t,h[1]=n,h[2]=a,h[3]=r,h[4]=u,h[5]=e,h[6]=o,h[7]=i,h}function du(t,n,a,r,u,e,o){var i=new f(8);i[0]=t,i[1]=n,i[2]=a,i[3]=r;var h=.5*u,c=.5*e,s=.5*o;return i[4]=h*r+c*a-s*n,i[5]=c*r+s*t-h*a,i[6]=s*r+h*n-c*t,i[7]=-h*t-c*n-s*a,i}function xu(t,n,a){var r=.5*a[0],u=.5*a[1],e=.5*a[2],o=n[0],i=n[1],h=n[2],c=n[3];return t[0]=o,t[1]=i,t[2]=h,t[3]=c,t[4]=r*c+u*h-e*i,t[5]=u*c+e*o-r*h,t[6]=e*c+r*i-u*o,t[7]=-r*o-u*i-e*h,t}function yu(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function pu(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function qu(t,n){var a=gr();qn(a,n);var r=new f(3);return yn(r,n),xu(t,a,r),t}function wu(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function gu(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Au(t,n,a,r,u,e,o,i,h){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t[4]=e,t[5]=o,t[6]=i,t[7]=h,t}var Pu=Jr;function Su(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}var Ru=Jr;function Tu(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function Iu(t,n){var a=n[4],r=n[5],u=n[6],e=n[7],o=-n[0],i=-n[1],h=-n[2],c=n[3];return t[0]=2*(a*c+e*o+r*h-u*i),t[1]=2*(r*c+e*i+u*o-a*h),t[2]=2*(u*c+e*h+a*i-r*o),t}function Eu(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=.5*a[0],h=.5*a[1],c=.5*a[2],s=n[4],M=n[5],f=n[6],l=n[7];return t[0]=r,t[1]=u,t[2]=e,t[3]=o,t[4]=o*i+u*c-e*h+s,t[5]=o*h+e*i-r*c+M,t[6]=o*c+r*h-u*i+f,t[7]=-r*i-u*h-e*c+l,t}function Du(t,n,a){var r=-n[0],u=-n[1],e=-n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=i*o+s*r+h*e-c*u,f=h*o+s*u+c*r-i*e,l=c*o+s*e+i*u-h*r,v=s*o-i*r-h*u-c*e;return Ir(t,n,a),r=t[0],u=t[1],e=t[2],o=t[3],t[4]=M*o+v*r+f*e-l*u,t[5]=f*o+v*u+l*r-M*e,t[6]=l*o+v*e+M*u-f*r,t[7]=v*o-M*r-f*u-l*e,t}function Fu(t,n,a){var r=-n[0],u=-n[1],e=-n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=i*o+s*r+h*e-c*u,f=h*o+s*u+c*r-i*e,l=c*o+s*e+i*u-h*r,v=s*o-i*r-h*u-c*e;return Er(t,n,a),r=t[0],u=t[1],e=t[2],o=t[3],t[4]=M*o+v*r+f*e-l*u,t[5]=f*o+v*u+l*r-M*e,t[6]=l*o+v*e+M*u-f*r,t[7]=v*o-M*r-f*u-l*e,t}function Lu(t,n,a){var r=-n[0],u=-n[1],e=-n[2],o=n[3],i=n[4],h=n[5],c=n[6],s=n[7],M=i*o+s*r+h*e-c*u,f=h*o+s*u+c*r-i*e,l=c*o+s*e+i*u-h*r,v=s*o-i*r-h*u-c*e;return Dr(t,n,a),r=t[0],u=t[1],e=t[2],o=t[3],t[4]=M*o+v*r+f*e-l*u,t[5]=f*o+v*u+l*r-M*e,t[6]=l*o+v*e+M*u-f*r,t[7]=v*o-M*r-f*u-l*e,t}function Vu(t,n,a){var r=a[0],u=a[1],e=a[2],o=a[3],i=n[0],h=n[1],c=n[2],s=n[3];return t[0]=i*o+s*r+h*e-c*u,t[1]=h*o+s*u+c*r-i*e,t[2]=c*o+s*e+i*u-h*r,t[3]=s*o-i*r-h*u-c*e,i=n[4],h=n[5],c=n[6],s=n[7],t[4]=i*o+s*r+h*e-c*u,t[5]=h*o+s*u+c*r-i*e,t[6]=c*o+s*e+i*u-h*r,t[7]=s*o-i*r-h*u-c*e,t}function ju(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=a[0],h=a[1],c=a[2],s=a[3];return t[0]=r*s+o*i+u*c-e*h,t[1]=u*s+o*h+e*i-r*c,t[2]=e*s+o*c+r*h-u*i,t[3]=o*s-r*i-u*h-e*c,i=a[4],h=a[5],c=a[6],s=a[7],t[4]=r*s+o*i+u*c-e*h,t[5]=u*s+o*h+e*i-r*c,t[6]=e*s+o*c+r*h-u*i,t[7]=o*s-r*i-u*h-e*c,t}function zu(t,n,a,r){if(Math.abs(r)<M)return wu(t,n);var u=Math.hypot(a[0],a[1],a[2]);r*=.5;var e=Math.sin(r),o=e*a[0]/u,i=e*a[1]/u,h=e*a[2]/u,c=Math.cos(r),s=n[0],f=n[1],l=n[2],v=n[3];t[0]=s*c+v*o+f*h-l*i,t[1]=f*c+v*i+l*o-s*h,t[2]=l*c+v*h+s*i-f*o,t[3]=v*c-s*o-f*i-l*h;var b=n[4],m=n[5],d=n[6],x=n[7];return t[4]=b*c+x*o+m*h-d*i,t[5]=m*c+x*i+d*o-b*h,t[6]=d*c+x*h+b*i-m*o,t[7]=x*c-b*o-m*i-d*h,t}function Ou(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t}function Qu(t,n,a){var r=n[0],u=n[1],e=n[2],o=n[3],i=a[4],h=a[5],c=a[6],s=a[7],M=n[4],f=n[5],l=n[6],v=n[7],b=a[0],m=a[1],d=a[2],x=a[3];return t[0]=r*x+o*b+u*d-e*m,t[1]=u*x+o*m+e*b-r*d,t[2]=e*x+o*d+r*m-u*b,t[3]=o*x-r*b-u*m-e*d,t[4]=r*s+o*i+u*c-e*h+M*x+v*b+f*d-l*m,t[5]=u*s+o*h+e*i-r*c+f*x+v*m+l*b-M*d,t[6]=e*s+o*c+r*h-u*i+l*x+v*d+M*m-f*b,t[7]=o*s-r*i-u*h-e*c+v*x-M*b-f*m-l*d,t}var Yu=Qu;function Xu(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t}var Zu=au;function _u(t,n,a,r){var u=1-r;return Zu(n,a)<0&&(r=-r),t[0]=n[0]*u+a[0]*r,t[1]=n[1]*u+a[1]*r,t[2]=n[2]*u+a[2]*r,t[3]=n[3]*u+a[3]*r,t[4]=n[4]*u+a[4]*r,t[5]=n[5]*u+a[5]*r,t[6]=n[6]*u+a[6]*r,t[7]=n[7]*u+a[7]*r,t}function Bu(t,n){var a=Wu(n);return t[0]=-n[0]/a,t[1]=-n[1]/a,t[2]=-n[2]/a,t[3]=n[3]/a,t[4]=-n[4]/a,t[5]=-n[5]/a,t[6]=-n[6]/a,t[7]=n[7]/a,t}function Nu(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}var ku=uu,Uu=ku,Wu=ou,Cu=Wu;function Gu(t,n){var a=Wu(n);if(a>0){a=Math.sqrt(a);var r=n[0]/a,u=n[1]/a,e=n[2]/a,o=n[3]/a,i=n[4],h=n[5],c=n[6],s=n[7],M=r*i+u*h+e*c+o*s;t[0]=r,t[1]=u,t[2]=e,t[3]=o,t[4]=(i-r*M)/a,t[5]=(h-u*M)/a,t[6]=(c-e*M)/a,t[7]=(s-o*M)/a}return t}function Hu(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ju(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function Ku(t,n){var a=t[0],r=t[1],u=t[2],e=t[3],o=t[4],i=t[5],h=t[6],c=t[7],s=n[0],f=n[1],l=n[2],v=n[3],b=n[4],m=n[5],d=n[6],x=n[7];return Math.abs(a-s)<=M*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(r-f)<=M*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(u-l)<=M*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(e-v)<=M*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(o-b)<=M*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-m)<=M*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(h-d)<=M*Math.max(1,Math.abs(h),Math.abs(d))&&Math.abs(c-x)<=M*Math.max(1,Math.abs(c),Math.abs(x))}function $u(){var t=new f(2);return f!=Float32Array&&(t[0]=0,t[1]=0),t}function te(t){var n=new f(2);return n[0]=t[0],n[1]=t[1],n}function ne(t,n){var a=new f(2);return a[0]=t,a[1]=n,a}function ae(t,n){return t[0]=n[0],t[1]=n[1],t}function re(t,n,a){return t[0]=n,t[1]=a,t}function ue(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t}function ee(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t}function oe(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t}function ie(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t}function he(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function ce(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function se(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t}function Me(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t}function fe(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function le(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t}function ve(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t}function be(t,n){var a=n[0]-t[0],r=n[1]-t[1];return Math.hypot(a,r)}function me(t,n){var a=n[0]-t[0],r=n[1]-t[1];return a*a+r*r}function de(t){var n=t[0],a=t[1];return Math.hypot(n,a)}function xe(t){var n=t[0],a=t[1];return n*n+a*a}function ye(t,n){return t[0]=-n[0],t[1]=-n[1],t}function pe(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function qe(t,n){var a=n[0],r=n[1],u=a*a+r*r;return u>0&&(u=1/Math.sqrt(u)),t[0]=n[0]*u,t[1]=n[1]*u,t}function we(t,n){return t[0]*n[0]+t[1]*n[1]}function ge(t,n,a){var r=n[0]*a[1]-n[1]*a[0];return t[0]=t[1]=0,t[2]=r,t}function Ae(t,n,a,r){var u=n[0],e=n[1];return t[0]=u+r*(a[0]-u),t[1]=e+r*(a[1]-e),t}function Pe(t,n){n=n||1;var a=2*l()*Math.PI;return t[0]=Math.cos(a)*n,t[1]=Math.sin(a)*n,t}function Se(t,n,a){var r=n[0],u=n[1];return t[0]=a[0]*r+a[2]*u,t[1]=a[1]*r+a[3]*u,t}function Re(t,n,a){var r=n[0],u=n[1];return t[0]=a[0]*r+a[2]*u+a[4],t[1]=a[1]*r+a[3]*u+a[5],t}function Te(t,n,a){var r=n[0],u=n[1];return t[0]=a[0]*r+a[3]*u+a[6],t[1]=a[1]*r+a[4]*u+a[7],t}function Ie(t,n,a){var r=n[0],u=n[1];return t[0]=a[0]*r+a[4]*u+a[12],t[1]=a[1]*r+a[5]*u+a[13],t}function Ee(t,n,a,r){var u=n[0]-a[0],e=n[1]-a[1],o=Math.sin(r),i=Math.cos(r);return t[0]=u*i-e*o+a[0],t[1]=u*o+e*i+a[1],t}function De(t,n){var a=t[0],r=t[1],u=n[0],e=n[1],o=a*a+r*r;o>0&&(o=1/Math.sqrt(o));var i=u*u+e*e;i>0&&(i=1/Math.sqrt(i));var h=(a*u+r*e)*o*i;return h>1?0:h<-1?Math.PI:Math.acos(h)}function Fe(t){return t[0]=0,t[1]=0,t}function Le(t){return"vec2("+t[0]+", "+t[1]+")"}function Ve(t,n){return t[0]===n[0]&&t[1]===n[1]}function je(t,n){var a=t[0],r=t[1],u=n[0],e=n[1];return Math.abs(a-u)<=M*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(r-e)<=M*Math.max(1,Math.abs(r),Math.abs(e))}var ze=de,Oe=ee,Qe=oe,Ye=ie,Xe=be,Ze=me,_e=xe,Be=function(){var t=$u();return function(n,a,r,u,e,o){var i,h;for(a||(a=2),r||(r=0),h=u?Math.min(u*a+r,n.length):n.length,i=r;i<h;i+=a)t[0]=n[i],t[1]=n[i+1],e(t,t,o),n[i]=t[0],n[i+1]=t[1];return n}}();window.glMatrix=n,window.mat2=a,window.mat2d=r,window.mat3=u,window.mat4=e,window.quat=h,window.quat2=c,window.vec2=s,window.vec3=o,window.vec4=i})();
//# sourceMappingURL=libs.core.js.map
if(!CABLES.exportedPatches)CABLES.exportedPatches={};CABLES.exportedPatches["bhaubb"]={_id:"662d71b11196e80a84f5efd1",ops:[{id:"4516c0a9-b303-4765-b01f-ba7d9edd6018",uiAttribs:{},portsIn:[{name:"FPS Limit",value:0},{name:"Reduce FPS not focussed",value:0},{name:"Reduce FPS loading",value:0},{name:"Clear",value:1},{name:"ClearAlpha",value:1},{name:"Fullscreen Button",value:0},{name:"Active",value:1},{name:"Hires Displays",value:0},{name:"Pixel Unit index",value:1},{name:"Pixel Unit",value:"CSS"}],portsOut:[{name:"trigger",links:[{portIn:"Exec",portOut:"trigger",objIn:"d6521a91-ec0b-4eff-829a-61587cc66e34",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"},{portIn:"render",portOut:"trigger",objIn:"bf82de6f-edb6-4313-b410-d90ec7036f09",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"}]},{name:"width",links:[{portIn:"Value",portOut:"width",objIn:"86d3f4f7-4dc2-4109-8465-0351d4170be4",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"},{portIn:"Width",portOut:"width",objIn:"fa83db42-9030-4e77-9743-a87b9c87d57c",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"}]},{name:"height",links:[{portIn:"Value",portOut:"height",objIn:"f43d5514-320f-4868-9f29-dcc2ebdc5085",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"},{portIn:"Height",portOut:"height",objIn:"fa83db42-9030-4e77-9743-a87b9c87d57c",objOut:"4516c0a9-b303-4765-b01f-ba7d9edd6018"}]}],objName:"Ops.Gl.MainLoop"},{id:"bf82de6f-edb6-4313-b410-d90ec7036f09",uiAttribs:{},portsIn:[{name:"a",value:1}],portsOut:[{name:"trigger",links:[{portIn:"Execute",portOut:"trigger",objIn:"krywtt3y8",objOut:"bf82de6f-edb6-4313-b410-d90ec7036f09"}]}],objName:"Ops.Gl.ClearColor"},{id:"86d3f4f7-4dc2-4109-8465-0351d4170be4",uiAttribs:{},portsIn:[{name:"Variable",value:"width"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"f43d5514-320f-4868-9f29-dcc2ebdc5085",uiAttribs:{},portsIn:[{name:"Variable",value:"height"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"e4ab8233-7f97-4c3a-b7d5-66a26bb28521",uiAttribs:{},portsIn:[{name:"Title",value:"Firebase"}],objName:"Ops.Ui.Area"},{id:"15e6a6e0-34db-4e03-b722-e788233113c9",uiAttribs:{},portsIn:[{name:"Title",value:"APPS"}],objName:"Ops.Ui.Area"},{id:"d6521a91-ec0b-4eff-829a-61587cc66e34",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"71434141-6865-4581-b671-9e3b3fbbd673",objOut:"d6521a91-ec0b-4eff-829a-61587cc66e34"},{portIn:"Trigger",portOut:"Next",objIn:"bo1me9u7d",objOut:"d6521a91-ec0b-4eff-829a-61587cc66e34"},{portIn:"exe",portOut:"Next",objIn:"adb5d590-9317-409d-99dd-193475ccb89b",objOut:"d6521a91-ec0b-4eff-829a-61587cc66e34"}]},{name:"Was Triggered",value:1}],objName:"Ops.Trigger.TriggerOnce"},{id:"8eac70b3-b9cb-4b9d-bd2d-ca348778b85c",uiAttribs:{},portsIn:[{name:"Variable",value:"wssSelect"}],objName:"Ops.Vars.VarSetString_v2"},{id:"3f62d63b-3e08-4c6c-9701-98272a124601",uiAttribs:{},portsIn:[{name:"value",value:"wss://s.altnet.rippletest.net:51233/"}],portsOut:[{name:"String",value:"wss://s.altnet.rippletest.net:51233/"}],objName:"Ops.String.String_v2"},{id:"22ad1a09-e821-4bcf-b867-a44d077911bb",uiAttribs:{},objName:"Ops.User.rambodc.XRPL_Library"},{id:"402a4571-c89c-456d-9bf1-04a3aefa931f",uiAttribs:{},portsIn:[{name:"Title",value:"WSS"}],objName:"Ops.Ui.Area"},{id:"7dfc5898-8bd7-4f75-972a-752bff38ff3e",uiAttribs:{},portsIn:[{name:"Title",value:"Library"}],objName:"Ops.Ui.Area"},{id:"ae0c9c2f-d605-482e-9ce9-67e1fb481942",uiAttribs:{},objName:"Ops.User.rambodc.XRPL_SecretNumbers_Library"},{id:"fb0d4152-7bca-4393-b009-b576a03af9be",uiAttribs:{},portsIn:[{name:"Variable",value:"network"}],objName:"Ops.Vars.VarSetString_v2"},{id:"bd383a8e-f49a-43bd-b04f-0efe9653a2ca",uiAttribs:{},portsIn:[{name:"Title",value:"Network"}],objName:"Ops.Ui.Area"},{id:"692f7f5f-2bcc-45fd-8dbd-c66be966fd2b",uiAttribs:{},portsIn:[{name:"value",value:"testnet"}],portsOut:[{name:"String",links:[{portIn:"Value",portOut:"String",objIn:"fb0d4152-7bca-4393-b009-b576a03af9be",objOut:"692f7f5f-2bcc-45fd-8dbd-c66be966fd2b"}]}],objName:"Ops.String.String_v2"},{id:"fa1580bb-5253-49fe-865a-f63cb0699d39",uiAttribs:{},objName:"Ops.User.rambodc.Veriff_incontext_Library"},{id:"76219018-9419-4618-955b-bff86353dfbc",uiAttribs:{},portsIn:[{name:"Title",value:"Width Height"}],objName:"Ops.Ui.Area"},{id:"fa83db42-9030-4e77-9743-a87b9c87d57c",uiAttribs:{},portsOut:[{name:"IsPortrait",links:[{portIn:"Boolean",portOut:"IsPortrait",objIn:"b04b670d-cdfc-4376-b692-83d3eb752d3c",objOut:"fa83db42-9030-4e77-9743-a87b9c87d57c"}]}],objName:"Ops.User.rambodc.Orientation_is_Portrait"},{id:"826d7d3d-659d-4370-a593-85b7498f95ab",uiAttribs:{},portsIn:[{name:"Title",value:"Loader"}],objName:"Ops.Ui.Area"},{id:"56a98013-7af0-4282-9471-290cf472d4a8",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"logout"}],portsOut:[{name:"Triggered",links:[{portIn:"Execute",portOut:"Triggered",objIn:"cedee243-9898-46e9-8b63-b529e49430df",objOut:"56a98013-7af0-4282-9471-290cf472d4a8"},{portIn:"Sign out",portOut:"Triggered",objIn:"8axprz1fp",objOut:"56a98013-7af0-4282-9471-290cf472d4a8"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"366cca0d-1aec-43c6-983f-65743b1c0d50",uiAttribs:{},portsIn:[{name:"Delay",value:10}],portsOut:[{name:"Output Boolean",links:[{portIn:"Value",portOut:"Output Boolean",objIn:"3a23d765-6b90-47d8-a601-e87faf827447",objOut:"366cca0d-1aec-43c6-983f-65743b1c0d50"}]}],objName:"Ops.User.rambodc.delay_boolean_timer"},{id:"3a23d765-6b90-47d8-a601-e87faf827447",uiAttribs:{},portsIn:[{name:"Variable",value:"loader"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"0c4c5b6d-ad96-4179-8597-3fffb456e500",uiAttribs:{},portsIn:[{name:"Title",value:"Trig Once"}],objName:"Ops.Ui.Area"},{id:"da8275ea-cb5c-433a-85ed-a6b1b8257825",uiAttribs:{},portsIn:[{name:"Title",value:"Feed"}],objName:"Ops.Ui.Area"},{id:"325cd905-fff2-4f02-9105-2e5d36385cac",uiAttribs:{},portsIn:[{name:"Title",value:"Mainloop"}],objName:"Ops.Ui.Area"},{id:"83246577-3cc5-4eca-a4e6-1368df82b7b3",uiAttribs:{},portsIn:[{name:"Title",value:"Startup Popup"}],objName:"Ops.Ui.Area"},{id:"bo1me9u7d",uiAttribs:{},portsIn:[{name:"Delay",value:3}],portsOut:[{name:"Output Boolean",links:[{portIn:"Value",portOut:"Output Boolean",objIn:"wgur7eqxw",objOut:"bo1me9u7d"}]}],objName:"Ops.User.rambodc.delay_boolean_timer"},{id:"9691f6bb-6176-443b-88f8-de4c8cc67d90",uiAttribs:{},portsIn:[{name:"Variable",value:"is_Portrait"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"b04b670d-cdfc-4376-b692-83d3eb752d3c",uiAttribs:{},portsIn:[{name:"Value false",value:0},{name:"Value true",value:1}],portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"9691f6bb-6176-443b-88f8-de4c8cc67d90",objOut:"b04b670d-cdfc-4376-b692-83d3eb752d3c"}]}],objName:"Ops.Extension.Deprecated.NumberSwitchBoolean"},{id:"9gysxd42p",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:""},{name:"Interactive",value:0},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:0}],portsOut:[{name:"DOM Element",links:[{portIn:"Parent",portOut:"DOM Element",objIn:"9f1cujadt",objOut:"9gysxd42p"}]},{name:"Hover",value:0}],objName:"Ops.Html.DivElement_v3"},{id:"9f1cujadt",uiAttribs:{},objName:"Ops.Html.ElementChilds_v2"},{id:"zwtqcxyhp",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:""},{name:"Style",value:"position:absolute;\nz-index:999999;\nbackground-color: rgba(1,1,1,0.2);\npadding:15px;\nborder-radius: 10px;\nfont-size: 18px;\nleft: 50%;\ntop: 50%;\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\n\n\n  /*  height: 100%;  /* Set a fixed height */\n  /*  overflow: auto;  /* Add scroll if content overflows */"},{name:"Interactive",value:0},{name:"Visible",value:1},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:0}],portsOut:[{name:"DOM Element",links:[{portIn:"Parent",portOut:"DOM Element",objIn:"z8g5ds9xa",objOut:"zwtqcxyhp"}]},{name:"Hover",value:0}],objName:"Ops.Html.DivElement_v3"},{id:"z8g5ds9xa",uiAttribs:{},portsOut:[{name:"Parent Out",links:[{portIn:"Child 1",portOut:"Parent Out",objIn:"9f1cujadt",objOut:"z8g5ds9xa"}]}],objName:"Ops.Html.ElementChilds_v2"},{id:"55fx83qwi",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:"progressSpinner"},{name:"Style",value:""},{name:"Interactive",value:0},{name:"Visible",value:1},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:1}],portsOut:[{name:"DOM Element",links:[{portIn:"Child 1",portOut:"DOM Element",objIn:"z8g5ds9xa",objOut:"55fx83qwi"}]},{name:"Hover",value:0}],objName:"Ops.User.rambodc.DivElement_ClickFix"},{id:"r4zx3mvue",uiAttribs:{},portsIn:[{name:"Variable",value:"loader"}],portsOut:[{name:"Value",links:[{portIn:"Visible",portOut:"Value",objIn:"9gysxd42p",objOut:"r4zx3mvue"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"wgur7eqxw",uiAttribs:{},portsIn:[{name:"Variable",value:"loader"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"a5dznvjwg",uiAttribs:{},portsIn:[{name:"value",value:"wss://s1.ripple.com/"}],portsOut:[{name:"String",links:[{portIn:"Value",portOut:"String",objIn:"8eac70b3-b9cb-4b9d-bd2d-ca348778b85c",objOut:"a5dznvjwg"}]}],objName:"Ops.String.String_v2"},{id:"0q24u6jxv",uiAttribs:{},portsIn:[{name:"value",value:"wss://amm.devnet.rippletest.net:51233/"}],portsOut:[{name:"String",value:"wss://amm.devnet.rippletest.net:51233/"}],objName:"Ops.String.String_v2"},{id:"4e1a0891-9903-4dd8-b187-5f19fe2cc113",uiAttribs:{},portsIn:[{name:"Title",value:"Portrait Controls"}],objName:"Ops.Ui.Area"},{id:"a3cs5j4v7",uiAttribs:{},portsIn:[{name:"Id",value:"chart"},{name:"Width",value:325},{name:"Height",value:251},{name:"Renderer index",value:0},{name:"Renderer",value:"canvas"},{name:"Theme index",value:0},{name:"Theme",value:"default"},{name:"Style",value:"position:absolute;\nz-index:9999;\n\nwidth: 100%;\nheight: 100%;\n"},{name:"Visible",value:0}],portsOut:[{name:"DOM Element",links:[{portIn:"Element",portOut:"DOM Element",objIn:"xiuid799q",objOut:"a3cs5j4v7"},{portIn:"Element",portOut:"DOM Element",objIn:"2749vktfv",objOut:"a3cs5j4v7"},{portIn:"Object",portOut:"DOM Element",objIn:"ryig5jul3",objOut:"a3cs5j4v7"}]},{name:"ECharts instance",links:[{portIn:"ECharts instance",portOut:"ECharts instance",objIn:"neq6p3ikz",objOut:"a3cs5j4v7"}]}],objName:"Ops.Extension.ECharts.ECharts"},{id:"rhazt5uet",uiAttribs:{},portsIn:[{name:"Title",value:"Chart"}],objName:"Ops.Ui.Area"},{id:"xiuid799q",uiAttribs:{},portsIn:[{name:"Property",value:"background"},{name:"Value",value:"#1c1d23"},{name:"Active",value:1}],objName:"Ops.Html.CSS.CSSPropertyString"},{id:"2749vktfv",uiAttribs:{},portsIn:[{name:"Property",value:"color"},{name:"Value",value:"black"},{name:"Active",value:1}],objName:"Ops.Html.CSS.CSSPropertyString"},{id:"neq6p3ikz",uiAttribs:{},portsIn:[{name:"Event name",value:"click"},{name:"Query string",value:"series"}],portsOut:[{name:"Trigger",links:[{portIn:"exe",portOut:"Trigger",objIn:"vwjffpbnl",objOut:"neq6p3ikz"}]},{name:"Event params",links:[{portIn:"Object",portOut:"Event params",objIn:"mlle31uon",objOut:"neq6p3ikz"},{portIn:"Object",portOut:"Event params",objIn:"3ev7ucp3g",objOut:"neq6p3ikz"},{portIn:"Object",portOut:"Event params",objIn:"2dsm51hur",objOut:"neq6p3ikz"}]},{name:"Dirty (needs rebind)",value:true}],objName:"Ops.Extension.ECharts.EChartsEvent"},{id:"ryig5jul3",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"mlle31uon",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"3ev7ucp3g",uiAttribs:{},portsIn:[{name:"Path",value:"data.name"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",value:"HierarchicalCluster"},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"2dsm51hur",uiAttribs:{},portsIn:[{name:"Path",value:"data.name"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",value:"HierarchicalCluster"},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"vwjffpbnl",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"7c838ffd-4b38-43aa-9139-d627c3112f87",uiAttribs:{},portsOut:[{name:"Index 0 Object",links:[{portIn:"link",portOut:"Index 0 Object",objIn:"65a6fjz5d",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 1 Object",links:[{portIn:"link",portOut:"Index 1 Object",objIn:"it0tovgrj",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 2 Object",links:[{portIn:"link",portOut:"Index 2 Object",objIn:"9amqsln2d",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 3 Object",links:[{portIn:"link",portOut:"Index 3 Object",objIn:"ij9ber87e",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 4 Object",links:[{portIn:"link",portOut:"Index 4 Object",objIn:"dml0t4hhk",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 5 Object",links:[{portIn:"Object",portOut:"Index 5 Object",objIn:"3hf3ffitm",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 6 Object",links:[{portIn:"Object",portOut:"Index 6 Object",objIn:"3hf3ffitm",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"},{portIn:"link",portOut:"Index 6 Object",objIn:"4uq267425",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]},{name:"Index 7 Object",links:[{portIn:"link",portOut:"Index 7 Object",objIn:"aivwbwe5t",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"},{portIn:"Object",portOut:"Index 7 Object",objIn:"3hf3ffitm",objOut:"7c838ffd-4b38-43aa-9139-d627c3112f87"}]}],objName:"Ops.Json.RouteObject"},{id:"dml0t4hhk",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"3nwv2r14e",objOut:"dml0t4hhk"}]}],objName:"Ops.Sidebar.Group"},{id:"6j4v4fsk9",uiAttribs:{},portsIn:[{name:"Title",value:"Settings"}],objName:"Ops.Ui.Area"},{id:"ij9ber87e",uiAttribs:{},portsIn:[{name:"Text",value:"Actions"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"lsugrho9j",objOut:"ij9ber87e"}]}],objName:"Ops.Sidebar.Group"},{id:"ta76uwqfr",uiAttribs:{},portsIn:[{name:"Title",value:"History"}],objName:"Ops.Ui.Area"},{id:"it0tovgrj",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Object",portOut:"childs",objIn:"wibdd8ypr",objOut:"it0tovgrj"},{portIn:"link",portOut:"childs",objIn:"ix91io0ad",objOut:"it0tovgrj"},{portIn:"Object",portOut:"childs",objIn:"qamyw15pd",objOut:"it0tovgrj"}]}],objName:"Ops.Sidebar.Group"},{id:"ycqukd0fg",uiAttribs:{},portsIn:[{name:"Title",value:"My Page"}],objName:"Ops.Ui.Area"},{id:"9amqsln2d",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"fq7ijgf97",objOut:"9amqsln2d"}]}],objName:"Ops.Sidebar.Group"},{id:"gojbsa73l",uiAttribs:{},portsIn:[{name:"Title",value:"Assistant"}],objName:"Ops.Ui.Area"},{id:"7e65295e-e6db-4fe8-b9fd-7ade498d69df",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"logout"}],objName:"Ops.Trigger.TriggerSend"},{id:"e88uegmtu",uiAttribs:{},portsIn:[{name:"Title",value:"a"}],objName:"Ops.Ui.Area"},{id:"7c7b1af5-06d0-49f6-9a13-143453093085",uiAttribs:{},portsIn:[{name:"PreRender Ops",value:0},{name:"Play Timeline",value:0}],portsOut:[{name:"Finished Initial Loading",value:0},{name:"Loading",value:1},{name:"Progress",value:.9929078014184397}],objName:"Ops.Cables.LoadingStatus_v2"},{id:"29a162ed-476a-4040-b378-1abd526f12f6",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"559a8954-fd2d-4727-b205-5296e96bbd7f",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"2831cf53-108e-4bda-80ec-614b03911e25",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"37f91a53-cfd4-40cc-b0c9-314b6be4f1bb",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"Startup"}],objName:"Ops.Trigger.TriggerSend"},{id:"adb5d590-9317-409d-99dd-193475ccb89b",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"exe",portOut:"next",objIn:"qyhjkwl16",objOut:"adb5d590-9317-409d-99dd-193475ccb89b"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"f2628bd9-a99c-4928-af21-649abf74e089",uiAttribs:{},portsIn:[{name:"New Hash Route",value:"/a/0"}],objName:"Ops.User.rambodc.URL_Empty_Redirect"},{id:"cdbab17e-78ce-414c-b1cc-627de29893f7",uiAttribs:{},portsIn:[{name:"Title",value:"URL Set / URL Redirect"}],objName:"Ops.Ui.Area"},{id:"bg3u27h0u",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"isAuth",portOut:"Value",objIn:"ieq90mh77",objOut:"bg3u27h0u"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"ugmb79dx7",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"Startup"}],portsOut:[{name:"Triggered",links:[{portIn:"exe",portOut:"Triggered",objIn:"kpgmxfmsd",objOut:"ugmb79dx7"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"kpgmxfmsd",uiAttribs:{},portsIn:[{name:"delay",value:2.2}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"ieq90mh77",objOut:"kpgmxfmsd"},{portIn:"Trigger",portOut:"next",objIn:"ca06nz3mm",objOut:"kpgmxfmsd"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"1cb259xei",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"Boolean",portOut:"Value",objIn:"f7b0431c-d9ce-4410-8852-8142394b87ad",objOut:"1cb259xei"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"f7b0431c-d9ce-4410-8852-8142394b87ad",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"isAuth",portOut:"Result",objIn:"ca06nz3mm",objOut:"f7b0431c-d9ce-4410-8852-8142394b87ad"}]}],objName:"Ops.Boolean.Not"},{id:"30b82660-ffe5-4ef0-babd-e959ffc1117b",uiAttribs:{},portsIn:[{name:"Title",value:"Sign In"}],objName:"Ops.Ui.Area"},{id:"lx89mew4l",uiAttribs:{},portsIn:[{name:"Title",value:"Forgot Password"}],objName:"Ops.Ui.Area"},{id:"7f9d682f-c6db-44bf-82a0-62298f046084",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"Email for Sign In",portOut:"String",objIn:"8axprz1fp",objOut:"7f9d682f-c6db-44bf-82a0-62298f046084"}]}],objName:"Ops.String.String_v2"},{id:"c4918a2b-c625-4114-b73c-98b4d22f20d2",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"Password for Sign In",portOut:"String",objIn:"8axprz1fp",objOut:"c4918a2b-c625-4114-b73c-98b4d22f20d2"}]}],objName:"Ops.String.String_v2"},{id:"bacd74ce-b22f-49d0-a791-4b66fc692612",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"a83b43db-d7a2-4b71-b54c-d88ad7811d2c",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger animation",portOut:"next",objIn:"bacd74ce-b22f-49d0-a791-4b66fc692612",objOut:"a83b43db-d7a2-4b71-b54c-d88ad7811d2c"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"23ff3d53-ed34-4c2f-b514-752f07fa72f9",uiAttribs:{},portsIn:[{name:"Path",value:"message"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"JSON String",portOut:"Output",objIn:"18eyefuqh",objOut:"23ff3d53-ed34-4c2f-b514-752f07fa72f9"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"0afb0f84-51b7-4547-ad3a-e35520529be0",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"xs61aotsu",objOut:"0afb0f84-51b7-4547-ad3a-e35520529be0"},{portIn:"Clear",portOut:"Next",objIn:"0f0lbnj6o",objOut:"0afb0f84-51b7-4547-ad3a-e35520529be0"},{portIn:"Clear",portOut:"Next",objIn:"lw5s9fkrp",objOut:"0afb0f84-51b7-4547-ad3a-e35520529be0"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"5880f924-5ee3-417a-9a00-5ae172205acc",uiAttribs:{},portsIn:[{name:"Button Text",value:"Sign In"},{name:"Button Width",value:""},{name:"Button Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Is Button",value:1},{name:"Text Size",value:"25px"},{name:"Visible",value:1}],portsOut:[{name:"Siblings",links:[{portIn:"Link",portOut:"Siblings",objIn:"0f0lbnj6o",objOut:"5880f924-5ee3-417a-9a00-5ae172205acc"}]}],objName:"Ops.User.rambodc.Button_Center"},{id:"fe53e3ec-235b-4406-a76c-3ef09c681138",uiAttribs:{},portsIn:[{name:"value",value:"https://us-central1-cables-5b10a.cloudfunctions.net/signupUser"}],portsOut:[{name:"String",links:[{portIn:"file",portOut:"String",objIn:"0b38a4db-cc06-471c-9498-4e34b0daf8af",objOut:"fe53e3ec-235b-4406-a76c-3ef09c681138"}]}],objName:"Ops.String.String_v2"},{id:"0b38a4db-cc06-471c-9498-4e34b0daf8af",uiAttribs:{},portsIn:[{name:"file",display:"file",title:"URL"},{name:"body",value:""},{name:"HTTP Method index",value:1},{name:"HTTP Method",value:"POST"},{name:"Content-Type",value:"application/json"},{name:"Content index",value:1},{name:"Content",value:"String",title:"Response Content"},{name:"Auto request",value:0},{name:"Send Credentials",value:0}],portsOut:[{name:"Response String",links:[{portIn:"value",portOut:"Response String",objIn:"1fa5d783-4379-4c01-8331-1c8f32f12321",objOut:"0b38a4db-cc06-471c-9498-4e34b0daf8af"}]},{name:"Response Data Url",value:""},{name:"Duration MS",value:165},{name:"Status Code",value:500},{name:"Is Loading",links:[{portIn:"value",portOut:"Is Loading",objIn:"50e6104c-e047-42df-ad43-bfe678a73f84",objOut:"0b38a4db-cc06-471c-9498-4e34b0daf8af"}]},{name:"Loaded",links:[{portIn:"exe",portOut:"Loaded",objIn:"j4r9gdztx",objOut:"0b38a4db-cc06-471c-9498-4e34b0daf8af"}]}],objName:"Ops.Json.HttpRequest_v3"},{id:"j4r9gdztx",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"1fa5d783-4379-4c01-8331-1c8f32f12321",uiAttribs:{},portsOut:[{name:"String",value:"Error creating user"}],objName:"Ops.String.String_v2"},{id:"50e6104c-e047-42df-ad43-bfe678a73f84",uiAttribs:{},portsOut:[{name:"result",value:0}],objName:"Ops.Boolean.Boolean"},{id:"rrfxzyoga",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "email": "test1@irobotx.io",\n  "password": "123456",\n  "firstName": "eee",\n  "lastName": "Doe"\n}\n'}],portsOut:[{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"0ab03419-5fcc-4aba-a0e3-7ed74a3b2e28",uiAttribs:{},objName:"Ops.Html.ReloadPage"},{id:"e4845a01-990e-4031-935c-e92e15d22890",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"20e1faf6-fd3b-4d8b-b1e1-2767e502a5ca",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"rpnq14wi3",objOut:"20e1faf6-fd3b-4d8b-b1e1-2767e502a5ca"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"ao7r2w145",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"Exec",portOut:"next",objIn:"0ab03419-5fcc-4aba-a0e3-7ed74a3b2e28",objOut:"ao7r2w145"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"f472492b-470e-4795-90ed-c12af2c6781f",uiAttribs:{},portsIn:[{name:"Path",value:"uid"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"2f9fb243-9421-486e-890b-793b424a7db4",objOut:"f472492b-470e-4795-90ed-c12af2c6781f"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"2f9fb243-9421-486e-890b-793b424a7db4",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],objName:"Ops.Vars.VarSetString_v2"},{id:"71434141-6865-4581-b671-9e3b3fbbd673",uiAttribs:{},portsIn:[{name:"delay",value:.5}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"37f91a53-cfd4-40cc-b0c9-314b6be4f1bb",objOut:"71434141-6865-4581-b671-9e3b3fbbd673"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"b00c5366-4a61-4335-806f-17695caf5639",uiAttribs:{},portsIn:[{name:"Format",value:"$a $b"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"dbx9mgnvc",objOut:"b00c5366-4a61-4335-806f-17695caf5639"}]}],objName:"Ops.String.StringCompose_v3"},{id:"95bf61fb-75a9-439e-b625-24b5b00b6fe1",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"b00c5366-4a61-4335-806f-17695caf5639",objOut:"95bf61fb-75a9-439e-b625-24b5b00b6fe1"}]}],objName:"Ops.Vars.VarGetString"},{id:"dniy81xat",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"b00c5366-4a61-4335-806f-17695caf5639",objOut:"dniy81xat"}]}],objName:"Ops.Vars.VarGetString"},{id:"8hxxnpu52",uiAttribs:{},portsIn:[{name:"Format",value:"$a $b"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text Right",portOut:"Result",objIn:"fgxv931nw",objOut:"8hxxnpu52"}]}],objName:"Ops.String.StringCompose_v3"},{id:"fdi48krm4",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"8hxxnpu52",objOut:"fdi48krm4"}]}],objName:"Ops.Vars.VarGetString"},{id:"9fcj1rc8z",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"8hxxnpu52",objOut:"9fcj1rc8z"}]}],objName:"Ops.Vars.VarGetString"},{id:"6cf17974-0ac5-475c-8cca-2cdddf0321d2",uiAttribs:{},portsIn:[{name:"Path",value:"email"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307",objOut:"6cf17974-0ac5-475c-8cca-2cdddf0321d2"},{portIn:"String A",portOut:"Output",objIn:"5074kzhqt",objOut:"6cf17974-0ac5-475c-8cca-2cdddf0321d2"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307",uiAttribs:{},portsOut:[{name:"Result",value:1},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"vf5bjsqpm",objOut:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307"}]},{name:"False",links:[{portIn:"exe",portOut:"False",objIn:"i22o8u92v",objOut:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307"},{portIn:"Trigger Create FunctionCall",portOut:"False",objIn:"tsqoyb1a7",objOut:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"i22o8u92v",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vf5bjsqpm",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"66vlkofwx",uiAttribs:{},portsIn:[{name:"Variable",value:"email"}],portsOut:[{name:"Value",links:[{portIn:"Text Right",portOut:"Value",objIn:"oflaun5v0",objOut:"66vlkofwx"}]}],objName:"Ops.Vars.VarGetString"},{id:"c62e7345-b1ec-4c29-8b29-41ab8cb77810",uiAttribs:{},portsIn:[{name:"Title",value:"URL"}],objName:"Ops.Ui.Area"},{id:"xugrbsek4",uiAttribs:{},portsIn:[{name:"Path",value:"emailVerified"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"soi2a7bh6",objOut:"xugrbsek4"},{portIn:"String A",portOut:"Output",objIn:"byxlw9wy0",objOut:"xugrbsek4"},{portIn:"String A",portOut:"Output",objIn:"o7s4n1zrz",objOut:"xugrbsek4"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"soi2a7bh6",uiAttribs:{},portsOut:[{name:"Result",value:1},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"wxw4vdt4s",objOut:"soi2a7bh6"}]},{name:"False",links:[{portIn:"exe",portOut:"False",objIn:"gnjfxlfxt",objOut:"soi2a7bh6"},{portIn:"Trigger Create FunctionCall",portOut:"False",objIn:"jmem1rz8x",objOut:"soi2a7bh6"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"wxw4vdt4s",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"aik00w0nz",uiAttribs:{},portsIn:[{name:"Path",value:"emailVerified"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"yt03j2vvi",objOut:"aik00w0nz"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"yt03j2vvi",uiAttribs:{},portsIn:[{name:"Variable",value:"emailVerified"}],objName:"Ops.Vars.VarSetString_v2"},{id:"rbrsruvuk",uiAttribs:{},portsIn:[{name:"Variable",value:"loader"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"2pe1jaw6w",uiAttribs:{},portsIn:[{name:"Delay",value:2}],portsOut:[{name:"Output Boolean",links:[{portIn:"Value",portOut:"Output Boolean",objIn:"rbrsruvuk",objOut:"2pe1jaw6w"}]}],objName:"Ops.User.rambodc.delay_boolean_timer"},{id:"a7sbtry0y",uiAttribs:{},portsIn:[{name:"Variable",value:"loader"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"y8cfzhi1b",uiAttribs:{},portsIn:[{name:"Delay",value:3}],portsOut:[{name:"Output Boolean",links:[{portIn:"Value",portOut:"Output Boolean",objIn:"a7sbtry0y",objOut:"y8cfzhi1b"}]}],objName:"Ops.User.rambodc.delay_boolean_timer"},{id:"vzvrto0c9",uiAttribs:{},objName:"Ops.Html.ReloadPage"},{id:"bss546lhv",uiAttribs:{},portsIn:[{name:"delay",value:.7}],portsOut:[{name:"next",links:[{portIn:"Exec",portOut:"next",objIn:"vzvrto0c9",objOut:"bss546lhv"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"cedee243-9898-46e9-8b63-b529e49430df",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"bss546lhv",objOut:"cedee243-9898-46e9-8b63-b529e49430df"},{portIn:"Trigger",portOut:"Next",objIn:"y8cfzhi1b",objOut:"cedee243-9898-46e9-8b63-b529e49430df"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"023d8de0-db62-4f3f-a525-646e3acc8d2d",uiAttribs:{},portsIn:[{name:"Title",value:"Logout"}],objName:"Ops.Ui.Area"},{id:"tkzby47ep",uiAttribs:{},portsIn:[{name:"Title",value:"ThemeColor"}],objName:"Ops.Ui.Area"},{id:"9bua7cbki",uiAttribs:{},portsIn:[{name:"value",value:"position:absolute;\nz-index:9999991;\nheight: 100%;\nwidth: 100%;\nbackground-color: $a;"},{name:"Syntax index",value:0},{name:"Syntax",value:"text"}],portsOut:[{name:"Result",links:[{portIn:"Format",portOut:"Result",objIn:"gs101uzp3",objOut:"9bua7cbki"}]}],objName:"Ops.String.StringEditor"},{id:"gs101uzp3",uiAttribs:{},portsIn:[{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Style",portOut:"Result",objIn:"9gysxd42p",objOut:"gs101uzp3"}]}],objName:"Ops.String.StringCompose_v3"},{id:"nfzp79l4q",uiAttribs:{},portsIn:[{name:"Opacity",value:1},{name:"Default Minimized",value:0},{name:"Minimized Opacity",value:.5},{name:"Show undo button",value:0},{name:"Show Minimize",value:0},{name:"Title",value:""},{name:"Side",value:0},{name:"Default CSS",value:1}],portsOut:[{name:"childs",title:"Children",links:[{portIn:"link",portOut:"childs",objIn:"y7ja7qjyy",objOut:"nfzp79l4q"}]},{name:"Opfened",value:false,title:"Opened"}],objName:"Ops.Sidebar.Sidebar"},{id:"y7ja7qjyy",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"kvtvb6sfh",objOut:"y7ja7qjyy"}]}],objName:"Ops.Sidebar.Group"},{id:"32j7ov9c7",uiAttribs:{},portsIn:[{name:"Number",value:0}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"32j7ov9c7"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"p89txhf3c",uiAttribs:{},portsIn:[{name:"Number",value:1}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"p89txhf3c"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"ln84n9jay",uiAttribs:{},portsIn:[{name:"Number",value:2}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"ln84n9jay"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"rxt1x4o0d",uiAttribs:{},portsIn:[{name:"Number",value:3}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"rxt1x4o0d"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"xvwknfoqw",uiAttribs:{},portsIn:[{name:"Number",value:4}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"xvwknfoqw"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"krywtt3y8",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"14qkhodhi",portOut:"Next",objIn:"r1g3dwp8r",objOut:"krywtt3y8"},{portIn:"14qkhodhi",portOut:"Next",objIn:"tur0b608y",objOut:"krywtt3y8"},{portIn:"14qkhodhi",portOut:"Next",objIn:"7qjui0euo",objOut:"krywtt3y8"},{portIn:"Execute",portOut:"Next",objIn:"romtcfajz",objOut:"krywtt3y8"},{portIn:"14qkhodhi",portOut:"Next",objIn:"zqrbv2umh",objOut:"krywtt3y8"},{portIn:"Execute",portOut:"Next",objIn:"w5n6o4tda",objOut:"krywtt3y8"},{portIn:"14qkhodhi",portOut:"Next",objIn:"dgeotj40f",objOut:"krywtt3y8"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"170cszdjd",uiAttribs:{},portsIn:[{name:"Title",value:"b"}],objName:"Ops.Ui.Area"},{id:"fkthsje3b",uiAttribs:{},portsOut:[{name:"URL",value:"https://sandbox.cables.gl/ui/#/a"},{name:"Host",value:"sandbox.cables.gl"},{name:"Hash",links:[{portIn:"Full Path",portOut:"Hash",objIn:"1lus10utv",objOut:"fkthsje3b"}]},{name:"Pathname",value:"/ui/"},{name:"Protocol",value:"https:"},{name:"Port",value:""},{name:"Hash Changed",links:[{portIn:"exe",portOut:"Hash Changed",objIn:"9xqs8d2dd",objOut:"fkthsje3b"}]}],objName:"Ops.Website.InfoURL"},{id:"dao38zx6j",uiAttribs:{},portsOut:[{name:"URL",value:"https://sandbox.cables.gl/ui/#/c/edit/HTdIjucLFNz8xUV4cb6r"},{name:"Host",links:[{portIn:"Host",portOut:"Host",objIn:"ca06nz3mm",objOut:"dao38zx6j"},{portIn:"Host",portOut:"Host",objIn:"ieq90mh77",objOut:"dao38zx6j"}]},{name:"Hash",links:[{portIn:"String",portOut:"Hash",objIn:"49di39xdp",objOut:"dao38zx6j"}]},{name:"Pathname",value:"/ui/"},{name:"Protocol",value:"https:"},{name:"Port",value:""},{name:"Hash Changed",links:[{portIn:"exe",portOut:"Hash Changed",objIn:"fz9or2lty",objOut:"dao38zx6j"}]}],objName:"Ops.Website.InfoURL"},{id:"8l854ijub",uiAttribs:{},portsOut:[{name:"Directory 1",links:[{portIn:"String 1",portOut:"Directory 1",objIn:"lm7kt8vr6",objOut:"8l854ijub"},{portIn:"Path",portOut:"Directory 1",objIn:"ieq90mh77",objOut:"8l854ijub"},{portIn:"Path",portOut:"Directory 1",objIn:"ca06nz3mm",objOut:"8l854ijub"}]},{name:"Directory 2",value:"edit"},{name:"Directory 3",value:"1P3CIBUkTez2sjkMT9Fl"},{name:"Directory 4",value:""},{name:"Directory 5",value:""}],objName:"Ops.User.rambodc.Path_Parser"},{id:"49di39xdp",uiAttribs:{},portsIn:[{name:"Search For",value:"#"},{name:"Replace",value:""},{name:"Replace What index",value:1},{name:"Replace What",value:"First"}],portsOut:[{name:"Result",links:[{portIn:"Path",portOut:"Result",objIn:"8l854ijub",objOut:"49di39xdp"}]}],objName:"Ops.String.StringReplace"},{id:"fz9or2lty",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"ieq90mh77",objOut:"fz9or2lty"},{portIn:"Trigger",portOut:"next",objIn:"ca06nz3mm",objOut:"fz9or2lty"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"ed1yg2mjp",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"u2wmjjvbx",objOut:"ed1yg2mjp"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"u2wmjjvbx",uiAttribs:{},portsIn:[{name:"Path",value:"BackgroundColorHex"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Hex",portOut:"Output",objIn:"x1t7d17z4",objOut:"u2wmjjvbx"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"bw9gum0o1",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"grxa99a28",objOut:"bw9gum0o1"},{portIn:"Object",portOut:"Value",objIn:"v3vzx4o7y",objOut:"bw9gum0o1"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"grxa99a28",uiAttribs:{},portsIn:[{name:"Path",value:"TextColorRGB"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String C",portOut:"Output",objIn:"1sprig337",objOut:"grxa99a28"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"x1t7d17z4",uiAttribs:{},portsIn:[{name:"Bytes",value:0}],portsOut:[{name:"R",links:[{portIn:"r",portOut:"R",objIn:"bf82de6f-edb6-4313-b410-d90ec7036f09",objOut:"x1t7d17z4"}]},{name:"G",links:[{portIn:"g",portOut:"G",objIn:"bf82de6f-edb6-4313-b410-d90ec7036f09",objOut:"x1t7d17z4"}]},{name:"B",links:[{portIn:"b",portOut:"B",objIn:"bf82de6f-edb6-4313-b410-d90ec7036f09",objOut:"x1t7d17z4"}]}],objName:"Ops.Color.HexToRGB_v2"},{id:"obxti1u2j",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"i5vlb9ux8",objOut:"obxti1u2j"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"nmxh4gnqs",uiAttribs:{},portsOut:[{name:"object out",links:[{portIn:"Value",portOut:"object out",objIn:"j1l13b823",objOut:"nmxh4gnqs"},{portIn:"Object",portOut:"object out",objIn:"afo2o9ysw",objOut:"nmxh4gnqs"}]}],objName:"Ops.Json.SwitchObject"},{id:"j1l13b823",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],objName:"Ops.Vars.VarSetObject_v2"},{id:"u691mle7a",uiAttribs:{},portsIn:[{name:"Path",value:"DarkMode"}],portsOut:[{name:"Output",links:[{portIn:"object port 1",portOut:"Output",objIn:"nmxh4gnqs",objOut:"u691mle7a"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"q5wtl8m9m",uiAttribs:{},portsIn:[{name:"Path",value:"LightMode"}],portsOut:[{name:"Output",links:[{portIn:"object port 0",portOut:"Output",objIn:"nmxh4gnqs",objOut:"q5wtl8m9m"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"i5vlb9ux8",uiAttribs:{},portsIn:[{name:"Path",value:"BackgroundColorRGB"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"gs101uzp3",objOut:"i5vlb9ux8"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"v3vzx4o7y",uiAttribs:{},portsIn:[{name:"Path",value:"BackgroundColorRGB"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String B",portOut:"Output",objIn:"1sprig337",objOut:"v3vzx4o7y"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"a50ollkco",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"2s9s1kxuk",objOut:"a50ollkco"},{portIn:"Object",portOut:"Value",objIn:"z45che71x",objOut:"a50ollkco"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"2s9s1kxuk",uiAttribs:{},portsIn:[{name:"Path",value:"logo800"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"rwv7na4u5",objOut:"2s9s1kxuk"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"rwv7na4u5",uiAttribs:{},portsIn:[{name:"Format",value:'.button-style {\n    background-color: #4CAF50; /* Green background */\n    border: none; /* No border */\n    color: white; /* White text */\n    \n    bottom: 1px;\n    \n    padding: 15px 32px; /* Top and bottom padding of 15px, left and right padding of 32px */\n    text-align: center; /* Center-aligned text */\n    text-decoration: none; /* No underline on text */\n    display: inline-block; /* Allows setting width and height */\n    font-size: 16px; /* Font size */\n    margin: 4px 2px; /* Margins around the button */\n    cursor: pointer; /* Cursor changes to pointer/hand icon when hovering over the button */\n    border-radius: 8px; /* Rounded corners */\n    transition-duration: 0.4s; /* Smooth transition for hover effect */\n}\n\n.button-style:hover {\n    background-color: #45a049; /* Darker shade of green on hover */\n}\n\n\n\n\n\n.progressSpinner {\n  z-index: 100;\n  background-image: url("$a");\n  background-repeat: no-repeat;\n  background-size: contain;  /* This makes the image fit inside the element without stretching */\n  background-position: center;  /* This centers the image within the element */\n  height: 100px;\n  width: 100px;\n  animation: heartbeat 1s infinite;\n}\n\n@keyframes heartbeat {\n  0% {\n    transform: scale(1);\n  }\n  14% {\n    transform: scale(1.1);\n  }\n  28% {\n    transform: scale(1);\n  }\n  42% {\n    transform: scale(1.1);\n  }\n  70% {\n    transform: scale(1);\n  }\n}\n\n\n.progressSpinner2 {\n  z-index: 100;\n  background-image: url("$b");  \n  background-repeat: no-repeat;\n  background-size: contain;  \n  background-position: center;  \n  height: 100px;\n  width: 100px;\n  animation: bang 0.8s ease-out forwards;  \n  transform-origin: center;  \n}\n\n@keyframes bang {\n  0% {\n    transform: scale(0);  \n    opacity: 1;  \n  }\n  80% {\n    transform: scale(3);  \n    opacity: 1;  \n  }\n  100% {\n    transform: scale(1);  \n    opacity: 0;  \n  }\n}\n\n\n\n.popupMenuButton {\n    justify-content: center;\n    width: 260px;\n    height: 30px;\n    padding:10px;\n    margin: 10px;\n    background-color: rgb(0, 0, 0, 0.3); /* Button color */\n    color: white; /* Text color */\n    border: none;\n    border-radius: 10px; /* Rounded corners */\n    cursor: pointer;\n    transition: all 0.3s ease; /* Smooth transition for hover effects */\n    font-size: 18px; /* Text size */\n    line-height: 30px; /* Aligns text vertically */\n    text-align: center; /* Aligns text horizontally */\n    display: inline-block; /* Allows setting width and height */\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */\n}\n\n.popupMenuButton:hover {\n    background-color: #0056b3; /* Darker shade on hover */\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Larger shadow for "lifted" effect */\n}\n\n\n.popupCloseMenuButton {\n    width: 260px;\n    height: 20px;\n    padding:10px;\n    margin: 10px;\n    background-color: rgb(0, 0, 0, 0.5); /* Button color */\n    color: white; /* Text color */\n    border: 2px solid white;\n    border-radius: 10px; /* Rounded corners */\n    cursor: pointer;\n    transition: all 0.3s ease; /* Smooth transition for hover effects */\n    font-size: 18px; /* Text size */\n    line-height: 20px; /* Aligns text vertically */\n    text-align: center; /* Aligns text horizontally */\n    display: inline-block; /* Allows setting width and height */\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */\n}\n\n.popupCloseMenuButton:hover {\n    background-color: #0056b3; /* Darker shade on hover */\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Larger shadow for "lifted" effect */\n}\n\n\n\n\n'},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"css code",portOut:"Result",objIn:"669tsjx6f",objOut:"rwv7na4u5"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"1sprig337",uiAttribs:{},portsIn:[{name:"Format",value:"\n\n/* ----- Removing the Top Header from Sidebar */\n.sidebar__group-header {\n    display: flex;\n    padding:0px;\n    \n}\n\n.sidebar__group-header-title {\n    padding:0px;\n}\n\n.sidebar__group-items {\n    padding-top: 1px;\n    padding-bottom: 0px;\n}\n\n\n\n/* ------------------ Default Text Color for all sidebar Texts */\n.sidebar-cables * {\n    color: $c !important;\n \n}\n\n\n/* ----- Top Header background color */\n.sidebar__close-button {\n    background-color: $b;\n    height: 0px;\n}\n\n/* ----- Sidebar Background Color */\n.sidebar__items {\n    background-color: $b;\n    padding-bottom: 0px;\n}\n\n\n$a\n\n\n/* Hide scrollbar for Chrome, Edge, and Safari */\n.sidebar-cables::-webkit-scrollbar {\n    display: none;\n}\n\n\n\n/* Hide scrollbar for Firefox */\n.sidebar-cables {\n    scrollbar-width: none;\n    --sidebar-border-radius: 0px;\n}\n\n\n\n\n\n\n\n"},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"css code",portOut:"Result",objIn:"oczkkzc84",objOut:"1sprig337"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"nin2m9gtt",uiAttribs:{},portsIn:[{name:"Format",value:"\n\n/* ----- Button General */\n\n.sidebar--button {\n    padding:1px;\n}\n\n\n/* ----- Button Text Color Example */\n.sidebar-cables .unique-sidebar-button2 {\n    color: rgb(255, 255, 255, 1) !important;\n}\n\n/* ----- Button Left */\n.sidebar__button-input_left {\n    background-color: rgba(13, 130, 254, 0.9); /* Primary color */\n    color: white; /* Text color */\n    font-size: 15px;\n    padding: 10px 20px; /* Padding inside the button */\n    margin: 4px 15px 4px 15px; /* Margin around the button */\n    border-radius: 8px; /* Rounded corners */\n    font-weight: bold; /* Font weight */\n    text-align: left; /* Center the text */\n    cursor: pointer; /* Change cursor to pointer */\n    transition: background-color 0.3s, transform 0.2s; /* Smooth transition for hover effects */\n    display: inline-block; /* Allows the button to grow with content */\n    line-height: 1.5;\n    font-weight: lighter;\n    float: left;\n\n}\n\n.sidebar__button-input_left:hover {\n    background-color: rgba(13, 130, 254, 1); /* Darker shade on hover */\n    transform: scale(1.02); /* Slightly increase the size on hover */\n}\n\n\n\n/* ----- Button Right */\n.sidebar__button-input_right {\n    background-color: rgb(255, 255, 255, 0.2); /* Primary color */\n    color: white; /* Text color */\n    font-size: 15px;\n    padding: 10px 20px; /* Padding inside the button */\n    margin: 4px 15px 4px 15px; /* Margin around the button */\n    border-radius: 8px; /* Rounded corners */\n    font-weight: bold; /* Font weight */\n    text-align: left; /* Center the text */\n    cursor: pointer; /* Change cursor to pointer */\n    transition: background-color 0.3s, transform 0.2s; /* Smooth transition for hover effects */\n    display: inline-block; /* Allows the button to grow with content */\n    line-height: 1.5;\n    font-weight: lighter;\n    float: right;\n\n}\n\n.sidebar__button-input_right:hover {\n    background-color: rgb(255, 255, 255, 0.1); /* Darker shade on hover */\n    transform: scale(1.02); /* Slightly increase the size on hover */\n}\n\n\n\n/* ----- Button Center */\n.sidebar__button-input_center {\n    background-color: rgba(255, 255, 255, 0.0); /* Primary color */\n    color: white; /* Text color */\n    font-size: 15px;\n    padding: 5px 5px; /* Padding inside the button */\n    margin: 2px 10px 2px 10px; /* Margin around the button */\n    border-radius: 5px; /* Rounded corners */\n    font-weight: bold; /* Font weight */\n    text-align: left; /* Center the text */\n    cursor: text; /* Change cursor to pointer */\n    transition: background-color 0.3s, transform 0.2s; /* Smooth transition for hover effects */\n    display: inline-block; /* Allows the button to grow with content */\n    line-height: 1.5;\n    font-weight: lighter;\n    float: left;\n}\n\n.sidebar__button-input_center:hover {\n    transform: scale(1.01); /* Slightly increase the size on hover */ \n}\n\n\n.sidebar_switch {\n    float: left;\n    background-color: #1c6b6b;\n    padding-right: 117px;\n    padding-left: 7px;\n    padding-bottom: 5px;\n    padding-top: 5px;\n    cursor: pointer;\n}\n\n\n\n"},{name:"String A",value:""},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"css code",portOut:"Result",objIn:"twoarcp1i",objOut:"nin2m9gtt"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"dvnwzinav",uiAttribs:{},portsIn:[{name:"Opacity",value:1},{name:"Default Minimized",value:0},{name:"Minimized Opacity",value:.5},{name:"Show undo button",value:0},{name:"Show Minimize",value:0},{name:"Title",value:""},{name:"Side",value:0},{name:"Default CSS",value:1}],portsOut:[{name:"childs",title:"Children",links:[{portIn:"link",portOut:"childs",objIn:"n4l0kpr90",objOut:"dvnwzinav"}]},{name:"Opfened",value:true,title:"Opened"}],objName:"Ops.Sidebar.Sidebar"},{id:"n4l0kpr90",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"i6nnsru1m",portOut:"childs",objIn:"7l72fpkto",objOut:"n4l0kpr90"}]}],objName:"Ops.Sidebar.Group"},{id:"tsk0hmz62",uiAttribs:{},portsOut:[{name:"timesTriggered",value:4}],objName:"Ops.Trigger.TriggerCounter"},{id:"wdcswvu3j",uiAttribs:{},portsOut:[{name:"timesTriggered",value:7}],objName:"Ops.Trigger.TriggerCounter"},{id:"r1g3dwp8r",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"1d8i1nhkb",value:"b",title:"Path Name"},{name:"14qkhodhi",title:"Mainloop"},{name:"patchId",value:"bp2sub_r1g3dwp8r"}],portsOut:[{name:"a4ff56gqe",title:"Result",links:[{portIn:"Visible",portOut:"a4ff56gqe",objIn:"nfzp79l4q",objOut:"r1g3dwp8r"}]},{name:"6l7liw33m",value:"c",title:"Directory 1"},{name:"3ee1w6bsj",value:"edit",title:"Directory 2"},{name:"m5oblmgx9",value:"1P3CIBUkTez2sjkMT9Fl",title:"Directory 3"},{name:"zqf3fcpvb",value:"",title:"Directory 4"},{name:"nzvovmrv0",value:"",title:"Directory 5"},{name:"sffqpjmpg",title:"Mainloop",links:[{portIn:"Execute",portOut:"sffqpjmpg",objIn:"lrr8pmv59",objOut:"r1g3dwp8r"}]},{name:"e3d2ws9wo",title:"Hash Changed",links:[{portIn:"exe",portOut:"e3d2ws9wo",objIn:"wdcswvu3j",objOut:"r1g3dwp8r"}]}],objName:"Ops.User.rambodc.SidebarControls"},{id:"tur0b608y",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"1d8i1nhkb",value:"a",title:"Path Name"},{name:"14qkhodhi",title:"Mainloop"},{name:"patchId",value:"bp2sub_tur0b608y"}],portsOut:[{name:"a4ff56gqe",title:"Result",links:[{portIn:"bool 1",portOut:"a4ff56gqe",objIn:"gle79fc1o",objOut:"tur0b608y"}]},{name:"6l7liw33m",value:"c",title:"Directory 1"},{name:"3ee1w6bsj",value:"edit",title:"Directory 2"},{name:"m5oblmgx9",value:"1P3CIBUkTez2sjkMT9Fl",title:"Directory 3"},{name:"zqf3fcpvb",value:"",title:"Directory 4"},{name:"nzvovmrv0",value:"",title:"Directory 5"},{name:"sffqpjmpg",title:"Mainloop",links:[{portIn:"zap5t5tri",portOut:"sffqpjmpg",objIn:"w4sfjsszj",objOut:"tur0b608y"}]},{name:"e3d2ws9wo",title:"Hash Changed",links:[{portIn:"9ozpectyq",portOut:"e3d2ws9wo",objIn:"w4sfjsszj",objOut:"tur0b608y"}]}],objName:"Ops.User.rambodc.SidebarControls"},{id:"7qjui0euo",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"1d8i1nhkb",value:"c",title:"Path Name"},{name:"14qkhodhi",title:"Mainloop"},{name:"patchId",value:"bp2sub_7qjui0euo"}],portsOut:[{name:"a4ff56gqe",title:"Result",links:[{portIn:"Visible",portOut:"a4ff56gqe",objIn:"dvnwzinav",objOut:"7qjui0euo"}]},{name:"6l7liw33m",value:"c",title:"Directory 1"},{name:"3ee1w6bsj",value:"edit",title:"Directory 2"},{name:"m5oblmgx9",value:"1P3CIBUkTez2sjkMT9Fl",title:"Directory 3"},{name:"zqf3fcpvb",value:"",title:"Directory 4"},{name:"nzvovmrv0",value:"",title:"Directory 5"},{name:"sffqpjmpg",title:"Mainloop",links:[{portIn:"zap5t5tri",portOut:"sffqpjmpg",objIn:"7l72fpkto",objOut:"7qjui0euo"}]},{name:"e3d2ws9wo",title:"Hash Changed",links:[{portIn:"exe",portOut:"e3d2ws9wo",objIn:"tsk0hmz62",objOut:"7qjui0euo"},{portIn:"9ozpectyq",portOut:"e3d2ws9wo",objIn:"7l72fpkto",objOut:"7qjui0euo"}]}],objName:"Ops.User.rambodc.SidebarControls"},{id:"6rhx7aco2",uiAttribs:{},portsIn:[{name:"Title",value:"c"}],objName:"Ops.Ui.Area"},{id:"fzmq8mz8l",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"sbrsj1msg",objOut:"fzmq8mz8l"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"sbrsj1msg",uiAttribs:{},portsIn:[{name:"Path",value:"logo800"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Image URL",portOut:"Output",objIn:"wqfjus7l5",objOut:"sbrsj1msg"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"fqvb3fudu",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"Parent Document ID",portOut:"Value",objIn:"ce2ldghif",objOut:"fqvb3fudu"},{portIn:"Document ID",portOut:"Value",objIn:"nqiqnoyhd",objOut:"fqvb3fudu"}]}],objName:"Ops.Vars.VarGetString"},{id:"w1cu7ym0b",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"1oo9simkf",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ce2ldghif",uiAttribs:{},portsIn:[{name:"Collection name",value:"conversation"},{name:"SubCollection name",value:"chats"},{name:"Create Timestamp",value:0},{name:"Include Document ID",value:0}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Created Document ID",links:[{portIn:"SubDocument ID",portOut:"Created Document ID",objIn:"nqiqnoyhd",objOut:"ce2ldghif"}]},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"w1cu7ym0b",objOut:"ce2ldghif"},{portIn:"True",portOut:"Success",objIn:"41mj1r4i4",objOut:"ce2ldghif"},{portIn:"Start Listening",portOut:"Success",objIn:"nqiqnoyhd",objOut:"ce2ldghif"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"1oo9simkf",objOut:"ce2ldghif"}]}],objName:"Ops.User.rambodc.FBAddDocumentSubCol"},{id:"coblk9l8c",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"024amrc1p",uiAttribs:{},portsIn:[{name:"Path",value:"response"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Text",portOut:"Output",objIn:"3eewfvrlm",objOut:"024amrc1p"}]},{name:"Found",links:[{portIn:"Value",portOut:"Found",objIn:"pv3zfjv0b",objOut:"024amrc1p"}]}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"5268sanfe",uiAttribs:{},portsIn:[{name:"delay",value:300}],portsOut:[{name:"next",links:[{portIn:"Stop Listening",portOut:"next",objIn:"nqiqnoyhd",objOut:"5268sanfe"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"90omuew9a",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Stop Listening",portOut:"Next",objIn:"nqiqnoyhd",objOut:"90omuew9a"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"8y43r43sn",uiAttribs:{},portsIn:[{name:"Button Text",value:"Send"},{name:"Button Width",value:"40px"},{name:"Button Background Color",value:"rgba(13, 130, 254, 0.5)"},{name:"Hover Background Color",value:"rgba(13, 130, 254, 1)"},{name:"Visible",value:1}],portsOut:[{name:"Siblings",links:[{portIn:"link",portOut:"Siblings",objIn:"9bhflqmc4",objOut:"8y43r43sn"}]},{name:"Button Pressed",links:[{portIn:"Exe",portOut:"Button Pressed",objIn:"7e3vnlkl6",objOut:"8y43r43sn"}]}],objName:"Ops.User.rambodc.Button_Right"},{id:"3eewfvrlm",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Button",value:0},{name:"Text Color",value:""},{name:"Text Size",value:"18px"},{name:"Line Height",value:"2"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0 20px"},{name:"Padding",value:"0 10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"8s4whxb2o",objOut:"3eewfvrlm"}]}],objName:"Ops.User.rambodc.SidebarText_Prompt"},{id:"9bhflqmc4",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Button",value:0},{name:"Text Color",value:""},{name:"Text Size",value:"18px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(0,145,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0 20px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"3eewfvrlm",objOut:"9bhflqmc4"}]}],objName:"Ops.User.rambodc.SidebarText_Prompt"},{id:"k4ug8ubi1",uiAttribs:{},portsIn:[{name:"Path",value:"prompt"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Text",portOut:"Output",objIn:"9bhflqmc4",objOut:"k4ug8ubi1"},{portIn:"String",portOut:"Output",objIn:"dbqcso1w0",objOut:"k4ug8ubi1"},{portIn:"String",portOut:"Output",objIn:"1mk6nht1g",objOut:"k4ug8ubi1"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"vioehe3dg",uiAttribs:{},portsIn:[{name:"Query",value:0}],portsOut:[{name:"Object",links:[{portIn:"Document",portOut:"Object",objIn:"ce2ldghif",objOut:"vioehe3dg"}]}],objName:"Ops.User.rambodc.AIStringArrayAttach"},{id:"7e3vnlkl6",uiAttribs:{},portsIn:[{name:"Error Message 1",value:"Enter Message."},{name:"Bool 1",value:1},{name:"String Input 2",value:""},{name:"Error Message 2",value:""},{name:"Bool 2",value:0},{name:"String Input 3",value:""},{name:"Error Message 3",value:""},{name:"Bool 3",value:0},{name:"String Input 4",value:""},{name:"Error Message 4",value:""},{name:"Bool 4",value:0}],portsOut:[{name:"Success",links:[{portIn:"Trigger",portOut:"Success",objIn:"ce2ldghif",objOut:"7e3vnlkl6"},{portIn:"exe",portOut:"Success",objIn:"1fhivo4x1",objOut:"7e3vnlkl6"}]},{name:"Fail",links:[{portIn:"Trigger animation",portOut:"Fail",objIn:"iptgz5as1",objOut:"7e3vnlkl6"}]},{name:"Output Error Message",links:[{portIn:"Text",portOut:"Output Error Message",objIn:"iptgz5as1",objOut:"7e3vnlkl6"}]}],objName:"Ops.User.rambodc.Empty_String_Check1"},{id:"iptgz5as1",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"1fhivo4x1",uiAttribs:{},portsIn:[{name:"delay",value:.3}],portsOut:[{name:"next",links:[{portIn:"Clear",portOut:"next",objIn:"cafzh5j2e",objOut:"1fhivo4x1"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"dbqcso1w0",uiAttribs:{},portsIn:[{name:"Invalid if null",value:1},{name:"Invalid if undefined",value:1},{name:"Invalid if empty",value:1},{name:"Invalid if 0",value:1}],portsOut:[{name:"Last Valid String",value:"hi. "},{name:"Is Valid",links:[{portIn:"Visible",portOut:"Is Valid",objIn:"9bhflqmc4",objOut:"dbqcso1w0"}]}],objName:"Ops.String.FilterValidString"},{id:"1mk6nht1g",uiAttribs:{},portsIn:[{name:"Invalid if null",value:1},{name:"Invalid if undefined",value:1},{name:"Invalid if empty",value:1},{name:"Invalid if 0",value:1}],portsOut:[{name:"Last Valid String",value:"hi. "},{name:"Is Valid",links:[{portIn:"Visible",portOut:"Is Valid",objIn:"3eewfvrlm",objOut:"1mk6nht1g"}]}],objName:"Ops.String.FilterValidString"},{id:"2x2r7ipj3",uiAttribs:{},portsIn:[{name:"Text",value:" limit of 500 characters"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"amw74q7jn",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"m5ev1ru7o",objOut:"amw74q7jn"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"m5ev1ru7o",uiAttribs:{},portsIn:[{name:"Path",value:"logo800"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Image URL",portOut:"Output",objIn:"trbo18hnk",objOut:"m5ev1ru7o"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"zd3u9m6na",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"lm6pl4621",objOut:"zd3u9m6na"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"lm6pl4621",uiAttribs:{},portsIn:[{name:"Path",value:"logo800"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Image URL",portOut:"Output",objIn:"kp48tix8d",objOut:"lm6pl4621"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"luz82wz1p",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"i67hdcmw2",objOut:"luz82wz1p"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"i67hdcmw2",uiAttribs:{},portsIn:[{name:"Path",value:"spinner"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Image URL",portOut:"Output",objIn:"8s4whxb2o",objOut:"i67hdcmw2"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"za9xgqsrp",uiAttribs:{},portsIn:[{name:"Variable",value:"fbProjectId"}],objName:"Ops.Vars.VarSetString_v2"},{id:"41mj1r4i4",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Visible",portOut:"Result",objIn:"8s4whxb2o",objOut:"41mj1r4i4"}]}],objName:"Ops.Boolean.BoolByTrigger"},{id:"pv3zfjv0b",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"false",portOut:"Next",objIn:"41mj1r4i4",objOut:"pv3zfjv0b"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"h0kibiyqj",uiAttribs:{},portsOut:[{name:"Color Scheme",value:"dark"},{name:"Dark Mode",value:1},{name:"Light Mode",value:0},{name:"Supported",value:1}],objName:"Ops.Devices.Browser.ColorScheme"},{id:"y40wi8yxd",uiAttribs:{},portsIn:[{name:"Title",value:"Popups"}],objName:"Ops.Ui.Area"},{id:"zfjp3fncn",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Width",value:"100%"},{name:"Renderer index",value:1},{name:"Renderer",value:"svg"},{name:"Theme index",value:2},{name:"Theme",value:"dark"},{name:"Style",value:"position:relative;\npadding: 1px;\nz-index:100;\nbackground:rgb(255, 255, 255, 0);"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"jnkypvgdr",objOut:"zfjp3fncn"}]},{name:"ECharts instance",links:[{portIn:"ECharts instance",portOut:"ECharts instance",objIn:"2afwtq9pt",objOut:"zfjp3fncn"}]}],objName:"Ops.User.rambodc.Echarts_Sidebar"},{id:"2afwtq9pt",uiAttribs:{},portsIn:[{name:"Event name",value:"click"},{name:"Query string",value:"series"}],portsOut:[{name:"Event params",links:[{portIn:"Object",portOut:"Event params",objIn:"nabjghlxf",objOut:"2afwtq9pt"}]},{name:"Dirty (needs rebind)",value:false}],objName:"Ops.Extension.ECharts.EChartsEvent"},{id:"nabjghlxf",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"3rad4r8ev",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Chart Object",portOut:"Result",objIn:"zfjp3fncn",objOut:"3rad4r8ev"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"ctl04g06e",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"appeh2nmb",title:"Execute"},{name:"8arbhbem5",value:0,title:"Pass Through"},{name:"patchId",value:"bp2sub_ctl04g06e"}],objName:"Ops.User.rambodc.LiveAnim1"},{id:"xd8l79qvz",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"6fkfwue4p",title:"Next"},{name:"9yepw0zmk",value:0,title:"Value"},{name:"patchId",value:"bp2sub_xd8l79qvz"}],objName:"Ops.User.rambodc.Live2a"},{id:"4k6rgxq28",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"jkgyh3kxu",portOut:"Next",objIn:"9tu37yxlb",objOut:"4k6rgxq28"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"1ze0hrocn",uiAttribs:{},portsIn:[{name:"Variable",value:"width"}],portsOut:[{name:"Value",links:[{portIn:"Width",portOut:"Value",objIn:"qn0g6akif",objOut:"1ze0hrocn"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"0z7kt5lsf",uiAttribs:{},portsIn:[{name:"Variable",value:"FrameType"}],objName:"Ops.Vars.VarSetString_v2"},{id:"a80fg1l1e",uiAttribs:{},portsIn:[{name:"Text",value:"cables"},{name:"Scale Text",value:1},{name:"Scale",value:.22,title:"Line Scale"},{name:"Font",value:"Arial"},{name:"align index",value:1},{name:"align",value:"center"},{name:"vertical align index",value:1},{name:"vertical align",value:"Middle"},{name:"Line Height",value:0},{name:"Letter Spacing",value:0},{name:"filter index",value:2},{name:"filter",value:"mipmap"},{name:"Anisotropic index",value:0},{name:"Anisotropic",value:0},{name:"r",value:.5},{name:"g",value:.5},{name:"b",value:.5},{name:"a",value:1}],portsOut:[{name:"Next",links:[{portIn:"Render",portOut:"Next",objIn:"1z519zw97",objOut:"a80fg1l1e"}]},{name:"Total Lines",value:1},{name:"Width",value:.37559291294642866},{name:"Font Available",value:0}],objName:"Ops.Gl.Meshes.TextMesh_v2"},{id:"2p72nmqrm",uiAttribs:{},portsIn:[{name:"posX",value:.9},{name:"posY",value:0},{name:"posZ",value:0},{name:"scale",value:1},{name:"rotX",value:0},{name:"rotY",value:0},{name:"rotZ",value:0}],portsOut:[{name:"trigger",links:[{portIn:"Render",portOut:"trigger",objIn:"a80fg1l1e",objOut:"2p72nmqrm"}]}],objName:"Ops.Gl.Matrix.Transform"},{id:"1z519zw97",uiAttribs:{},portsIn:[{name:"Text",value:"cables"},{name:"Scale Text",value:1},{name:"Scale",value:.13,title:"Line Scale"},{name:"Font",value:"Arial"},{name:"align index",value:1},{name:"align",value:"center"},{name:"vertical align index",value:1},{name:"vertical align",value:"Middle"},{name:"Line Height",value:.26},{name:"Letter Spacing",value:0},{name:"filter index",value:2},{name:"filter",value:"mipmap"},{name:"Anisotropic index",value:0},{name:"Anisotropic",value:0},{name:"r",value:.5},{name:"g",value:.5},{name:"b",value:.5},{name:"a",value:1}],portsOut:[{name:"Total Lines",value:1},{name:"Width",value:.3277204241071428},{name:"Font Available",value:0}],objName:"Ops.Gl.Meshes.TextMesh_v2"},{id:"pf14he2w9",uiAttribs:{},portsIn:[{name:"Title",value:"Frame3 "}],objName:"Ops.Ui.Area"},{id:"3py7142sl",uiAttribs:{},portsIn:[{name:"Variable",value:"FrameType"}],portsOut:[{name:"Value",links:[{portIn:"String 1",portOut:"Value",objIn:"j9eoojwdd",objOut:"3py7142sl"}]}],objName:"Ops.Vars.VarGetString"},{id:"j9eoojwdd",uiAttribs:{},portsIn:[{name:"String 2",value:"Frame3"}],portsOut:[{name:"Result",links:[{portIn:"Pass Through",portOut:"Result",objIn:"y5pfh80c4",objOut:"j9eoojwdd"}]}],objName:"Ops.String.StringEquals"},{id:"y5pfh80c4",uiAttribs:{},portsOut:[{name:"Trigger out",links:[{portIn:"render",portOut:"Trigger out",objIn:"2p72nmqrm",objOut:"y5pfh80c4"}]}],objName:"Ops.Trigger.GateTrigger"},{id:"a5troom6z",uiAttribs:{},portsIn:[{name:"Title",value:"Live Animations"}],objName:"Ops.Ui.Area"},{id:"p789daod8",uiAttribs:{},objName:"Ops.Trigger.TriggerExtender"},{id:"w5n6o4tda",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"appeh2nmb",portOut:"Next",objIn:"ctl04g06e",objOut:"w5n6o4tda"},{portIn:"6fkfwue4p",portOut:"Next",objIn:"xd8l79qvz",objOut:"w5n6o4tda"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"1r21fep4b",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"fkv9n594r",objOut:"1r21fep4b"},{portIn:"Object",portOut:"Value",objIn:"62tgci1fr",objOut:"1r21fep4b"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"fkv9n594r",uiAttribs:{},portsIn:[{name:"Path",value:"TextColorHex"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"dcheef7os",objOut:"fkv9n594r"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"dcheef7os",uiAttribs:{},portsIn:[{name:"Format",value:'{\r\n  "tooltip": {\r\n    "trigger": "item",\r\n    "formatter": "{a} <br/>{b} : {c} ({d}%)",\r\n    "textStyle": {\r\n      "color": "$a"\r\n    },\r\n    "backgroundColor": "$c",\r\n    "borderColor": "#ffffff",\r\n    "borderWidth": 0\r\n  },\r\n  "series": [\r\n    {\r\n      "name": "Content Source",\r\n      "type": "pie",\r\n      "radius": "75%",\r\n      "center": ["50%", "50%"],\r\n      "data": [\r\n        {\r\n          "value": "$e",\r\n          "name": "Reserve"\r\n        },\r\n        {\r\n          "value": "$d",\r\n          "name": "Collected"\r\n        }\r\n      ],\r\n      "emphasis": {\r\n        "itemStyle": {\r\n          "shadowBlur": 10,\r\n          "shadowOffsetX": 0,\r\n          "shadowColor": "rgba(0, 0, 0, 0)"\r\n        }\r\n      },\r\n      "label": {\r\n        "show": true,\r\n        "formatter": "{b}\\n{c} RAZ",\r\n        "rich": {\r\n          "value": {\r\n            "fontWeight": "bold"\r\n          }\r\n        },\r\n        "textStyle": {\r\n          "fontSize": 11,\r\n          "backgroundColor": "transparent",\r\n          "align": "center"\r\n        },\r\n        "align": "center"\r\n      },\r\n      "labelLine": {\r\n        "show": true\r\n      }\r\n    }\r\n  ]\r\n}'},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"3rad4r8ev",objOut:"dcheef7os"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"t7w02oixy",uiAttribs:{},portsIn:[{name:"Variable",value:"width"}],portsOut:[{name:"Value",links:[{portIn:"value",portOut:"Value",objIn:"f2gchwfq4",objOut:"t7w02oixy"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"f2gchwfq4",uiAttribs:{},portsIn:[{name:"old min",value:320},{name:"old max",value:500},{name:"new min",value:150},{name:"new max",value:300},{name:"Easing index",value:0},{name:"Easing",value:"Linear"},{name:"Clamp",value:1}],portsOut:[{name:"result",links:[{portIn:"Number",portOut:"result",objIn:"3056ascbe",objOut:"f2gchwfq4"}]}],objName:"Ops.Math.MapRange"},{id:"3056ascbe",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"Height",portOut:"Result",objIn:"zfjp3fncn",objOut:"3056ascbe"}]}],objName:"Ops.String.NumberToString_v2"},{id:"7hkkrz9u1",uiAttribs:{},portsIn:[{name:"Variable",value:"width"}],portsOut:[{name:"Value",links:[{portIn:"value",portOut:"Value",objIn:"sqh8669cx",objOut:"7hkkrz9u1"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"sqh8669cx",uiAttribs:{},portsIn:[{name:"old min",value:320},{name:"old max",value:500},{name:"new min",value:10},{name:"new max",value:15},{name:"Easing index",value:0},{name:"Easing",value:"Linear"},{name:"Clamp",value:1}],portsOut:[{name:"result",links:[{portIn:"Number",portOut:"result",objIn:"ab0hnpqv5",objOut:"sqh8669cx"}]}],objName:"Ops.Math.MapRange"},{id:"ab0hnpqv5",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"String B",portOut:"Result",objIn:"dcheef7os",objOut:"ab0hnpqv5"}]}],objName:"Ops.String.NumberToString_v2"},{id:"62tgci1fr",uiAttribs:{},portsIn:[{name:"Path",value:"BackgroundColorHex"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String C",portOut:"Output",objIn:"dcheef7os",objOut:"62tgci1fr"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"r8z1kjrys",uiAttribs:{},portsIn:[{name:"Height",value:"300px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"kp48tix8d",objOut:"r8z1kjrys"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"rzcnegq05",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"khdud3lsh",objOut:"rzcnegq05"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"ttkew1v7l",uiAttribs:{},portsIn:[{name:"Title",value:"Thank You"}],objName:"Ops.Ui.Area"},{id:"hkgwplj7q",uiAttribs:{},portsIn:[{name:"Delay",value:10}],portsOut:[{name:"Output Boolean",links:[{portIn:"Value",portOut:"Output Boolean",objIn:"fllzvl95h",objOut:"hkgwplj7q"}]}],objName:"Ops.User.rambodc.delay_boolean_timer"},{id:"fllzvl95h",uiAttribs:{},portsIn:[{name:"Variable",value:"thankyou"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"jntcjxqh2",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:""},{name:"Interactive",value:0},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:0}],portsOut:[{name:"DOM Element",links:[{portIn:"Parent",portOut:"DOM Element",objIn:"imdhjrvql",objOut:"jntcjxqh2"}]},{name:"Hover",value:0}],objName:"Ops.Html.DivElement_v3"},{id:"imdhjrvql",uiAttribs:{},objName:"Ops.Html.ElementChilds_v2"},{id:"3xk341vf8",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:""},{name:"Style",value:"position:absolute;\nz-index:999999;\nbackground-color: rgba(1,1,1,0.0);\npadding:15px;\nborder-radius: 10px;\nfont-size: 18px;\nleft: 50%;\ntop: 50%;\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\n\n\n  /*  height: 100%;  /* Set a fixed height */\n  /*  overflow: auto;  /* Add scroll if content overflows */"},{name:"Interactive",value:0},{name:"Visible",value:1},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:0}],portsOut:[{name:"DOM Element",links:[{portIn:"Parent",portOut:"DOM Element",objIn:"p0i0q1q6q",objOut:"3xk341vf8"}]},{name:"Hover",value:0}],objName:"Ops.Html.DivElement_v3"},{id:"p0i0q1q6q",uiAttribs:{},portsOut:[{name:"Parent Out",links:[{portIn:"Child 1",portOut:"Parent Out",objIn:"imdhjrvql",objOut:"p0i0q1q6q"}]}],objName:"Ops.Html.ElementChilds_v2"},{id:"629c4x70s",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Id",value:""},{name:"Class",value:"progressSpinner2"},{name:"Style",value:""},{name:"Interactive",value:0},{name:"Visible",value:1},{name:"Convert Line Breaks",value:0},{name:"Propagate Click-Events",value:1}],portsOut:[{name:"DOM Element",links:[{portIn:"Child 1",portOut:"DOM Element",objIn:"p0i0q1q6q",objOut:"629c4x70s"}]},{name:"Hover",value:0}],objName:"Ops.User.rambodc.DivElement_ClickFix"},{id:"pqgd26t15",uiAttribs:{},portsIn:[{name:"Variable",value:"thankyou"}],portsOut:[{name:"Value",links:[{portIn:"Visible",portOut:"Value",objIn:"jntcjxqh2",objOut:"pqgd26t15"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"c371w960h",uiAttribs:{},portsIn:[{name:"value",value:"position:absolute;\nz-index:9999991;\nheight: 100%;\nwidth: 100%;\nbackground-color: $a;"},{name:"Syntax index",value:0},{name:"Syntax",value:"text"}],portsOut:[{name:"Result",links:[{portIn:"Format",portOut:"Result",objIn:"6253f642t",objOut:"c371w960h"}]}],objName:"Ops.String.StringEditor"},{id:"6253f642t",uiAttribs:{},portsIn:[{name:"String A",value:"rgb(40, 44, 48, 0.1)"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Style",portOut:"Result",objIn:"jntcjxqh2",objOut:"6253f642t"}]}],objName:"Ops.String.StringCompose_v3"},{id:"z45che71x",uiAttribs:{},portsIn:[{name:"Path",value:"thankYou"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String B",portOut:"Output",objIn:"rwv7na4u5",objOut:"z45che71x"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"romtcfajz",uiAttribs:{},portsOut:[{name:"Trigger out",links:[{portIn:"Execute",portOut:"Trigger out",objIn:"p789daod8",objOut:"romtcfajz"}]}],objName:"Ops.Trigger.GateTrigger"},{id:"v7lv89yzw",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Pass Through",portOut:"Result",objIn:"romtcfajz",objOut:"v7lv89yzw"}]}],objName:"Ops.Boolean.Not"},{id:"g1yko0o86",uiAttribs:{},portsIn:[{name:"Text",value:"Time Zone is automatically detected"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"8fbrcfic0",uiAttribs:{},portsIn:[{name:"Text",value:"Forgot your password?"},{name:"Position index",value:0},{name:"Position",value:"Left"},{name:"Background Color",value:"rgb(255, 255, 255, 0.0)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"0px 0px 0px 15px"},{name:"Margin",value:"10px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Visible",value:1},{name:"Hover Background Color",value:"rgb(255, 255, 255, 0.0)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"vdwpza28d",objOut:"8fbrcfic0"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"60ihkungj",objOut:"8fbrcfic0"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"5hl45fd30",uiAttribs:{},portsIn:[{name:"Height",value:"350px"}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"8pu59elam",uiAttribs:{},portsIn:[{name:"Height",value:"50px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"osu65acdq",objOut:"8pu59elam"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"x3opwwpep",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"bool 2",portOut:"Result",objIn:"gle79fc1o",objOut:"x3opwwpep"}]}],objName:"Ops.Boolean.Not"},{id:"gle79fc1o",uiAttribs:{},portsOut:[{name:"result",links:[{portIn:"Visible",portOut:"result",objIn:"21kbkasvd",objOut:"gle79fc1o"}]}],objName:"Ops.Boolean.And"},{id:"21kbkasvd",uiAttribs:{},portsIn:[{name:"Opacity",value:1},{name:"Default Minimized",value:0},{name:"Minimized Opacity",value:.5},{name:"Show undo button",value:0},{name:"Show Minimize",value:0},{name:"Title",value:""},{name:"Side",value:0},{name:"Default CSS",value:1}],portsOut:[{name:"childs",title:"Children",links:[{portIn:"link",portOut:"childs",objIn:"8c6zjc6av",objOut:"21kbkasvd"}]},{name:"Opfened",value:false,title:"Opened"}],objName:"Ops.Sidebar.Sidebar"},{id:"8c6zjc6av",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"i6nnsru1m",portOut:"childs",objIn:"w4sfjsszj",objOut:"8c6zjc6av"}]}],objName:"Ops.Sidebar.Group"},{id:"1wma2nr1m",uiAttribs:{},portsIn:[{name:"Button Text",value:"< Back"},{name:"Button Width",value:""},{name:"Button Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Is Button",value:1},{name:"Text Size",value:"19px"},{name:"Visible",value:1}],portsOut:[{name:"Siblings",links:[{portIn:"Parent Link",portOut:"Siblings",objIn:"00bsdb6z4",objOut:"1wma2nr1m"}]},{name:"Button Pressed",links:[{portIn:"n6dz5ut5m",portOut:"Button Pressed",objIn:"3tm7xti0l",objOut:"1wma2nr1m"}]}],objName:"Ops.User.rambodc.Button_Center"},{id:"00bsdb6z4",uiAttribs:{},portsIn:[{name:"Button Text",value:"Reset Your Password"},{name:"Button Width",value:""},{name:"Button Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Is Button",value:1},{name:"Text Size",value:"25px"},{name:"Visible",value:1}],portsOut:[{name:"Siblings",links:[{portIn:"Link",portOut:"Siblings",objIn:"ypweq8f8p",objOut:"00bsdb6z4"}]}],objName:"Ops.User.rambodc.Button_Center"},{id:"5a9jcq8em",uiAttribs:{},portsOut:[{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"7b4q8dq1u",objOut:"5a9jcq8em"},{portIn:"Reset Password",portOut:"Success",objIn:"bcwhpct9w",objOut:"5a9jcq8em"}]},{name:"Fail",links:[{portIn:"exe",portOut:"Fail",objIn:"wualrkfmo",objOut:"5a9jcq8em"},{portIn:"Trigger animation",portOut:"Fail",objIn:"plejpiz5c",objOut:"5a9jcq8em"}]},{name:"Valid Email",value:"test1@razzberry.ai"}],objName:"Ops.User.rambodc.Check_Email_Validation"},{id:"7b4q8dq1u",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"wualrkfmo",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"96vv93zhp",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "DarkMode": {\n    "BackgroundColorRGB": "rgb(40, 44, 48, 1)",\n    "BackgroundColorHex": "#282c30",\n    "TextColorRGB": "rgb(255, 255, 255, 1)",\n    "TextColorHex": "#ffffff",\n    "logo800": "$a/assets/RazzberryLogoDark.png",\n    "spinner": "$a/assets/RazzberrySpinner.gif",\n    "thankYou": "$a/assets/ThankYou2.png",\n    "likeFalse": "$a/assets/likeFalse.png",\n    "likeTrue": "$a/assets/likeTrue.png",\n    "barMyPage": "$a/assets/barMyPage1.png",\n    "barFeed": "$a/assets/barFeed1.png",\n    "barAssistant": "$a/assets/barAssistant1.png",\n    "barHistory": "$a/assets/barHistory1.png",\n    "barSettings": "$a/assets/barSettings1.png"\n  },\n  "LightMode": {\n    "BackgroundColorRGB": "rgb(208, 211, 219, 1)",\n    "BackgroundColorHex": "#d0d3db",\n    "TextColorRGB": "rgb(1, 1, 1, 1)",\n    "TextColorHex": "#000000",\n    "logo800": "$a/assets/RazzberryLogoLight.png",\n    "spinner": "$a/assets/RazzberrySpinner.gif",\n    "thankYou": "$a/assets/ThankYou2.png",\n    "likeFalse": "$a/assets/likeFalse.png",\n    "likeTrue": "$a/assets/likeTrue.png",\n    "barMyPage": "$a/assets/barMyPage1.png",\n    "barFeed": "$a/assets/barFeed1.png",\n    "barAssistant": "$a/assets/barAssistant1.png",\n    "barHistory": "$a/assets/barHistory1.png",\n    "barSettings": "$a/assets/barSettings1.png"\n  }\n}'}],portsOut:[{name:"Result",links:[{portIn:"JSON Object",portOut:"Result",objIn:"zhgeoaxpv",objOut:"96vv93zhp"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"52r9j4swc",uiAttribs:{},portsIn:[{name:"Variable",value:"fbProjectId"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"d4nph7f0e",objOut:"52r9j4swc"}]}],objName:"Ops.Vars.VarGetString"},{id:"gnjfxlfxt",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"ki2nrfjl4",uiAttribs:{},portsIn:[{name:"Path",value:"emailVerified"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"ysr4io5h8",objOut:"ki2nrfjl4"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"ysr4io5h8",uiAttribs:{},portsIn:[{name:"String 2",value:"false"}],portsOut:[{name:"Result",value:1},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"fwcrt8pus",objOut:"ysr4io5h8"},{portIn:"exe",portOut:"True",objIn:"o85lg558x",objOut:"ysr4io5h8"}]},{name:"False",links:[{portIn:"exe",portOut:"False",objIn:"j1axvrqox",objOut:"ysr4io5h8"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"fwcrt8pus",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"j1axvrqox",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"5vprwcov8",uiAttribs:{},portsIn:[{name:"Title",value:"verifyEmail"}],objName:"Ops.Ui.Area"},{id:"jknfr0mmo",uiAttribs:{},portsIn:[{name:"Path",value:"email"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"7hp3jfpzd",objOut:"jknfr0mmo"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"7hp3jfpzd",uiAttribs:{},portsIn:[{name:"Variable",value:"authEmail"}],objName:"Ops.Vars.VarSetString_v2"},{id:"4uq267425",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"gqpclqa5l",objOut:"4uq267425"}]}],objName:"Ops.Sidebar.Group"},{id:"cs0dp4cjb",uiAttribs:{},portsIn:[{name:"Variable",value:"authEmail"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"5150582br",objOut:"cs0dp4cjb"}]}],objName:"Ops.Vars.VarGetString"},{id:"5150582br",uiAttribs:{},portsIn:[{name:"Format",value:"Please check your inbox at $a for an email from us. Click the link provided to proceed. If you can't find the email, it may have been placed in your spam or junk folder. Thank you!"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"p1qneeyg1",objOut:"5150582br"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"rupbfg3an",uiAttribs:{},portsIn:[{name:"Text",value:"I Have Verified My Email"},{name:"Position index",value:0},{name:"Position",value:"Left"},{name:"Background Color",value:"rgba(67, 138, 44,1)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 20px"},{name:"Margin",value:"10px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button2"},{name:"Visible",value:1},{name:"Hover Background Color",value:"rgba(67, 138, 44,0.8)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"sk301oyfc",objOut:"rupbfg3an"}]},{name:"Pressed Trigger",links:[{portIn:"Exec",portOut:"Pressed Trigger",objIn:"eda60h0f8",objOut:"rupbfg3an"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"wtkpcnyjx",uiAttribs:{},portsIn:[{name:"Title",value:"verifyEmail"}],objName:"Ops.Ui.Area"},{id:"o85lg558x",uiAttribs:{},portsIn:[{name:"delay",value:.3}],portsOut:[{name:"next",links:[{portIn:"Set",portOut:"next",objIn:"3u88zc8pq",objOut:"o85lg558x"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"3u88zc8pq",uiAttribs:{},portsIn:[{name:"Number",value:6}],portsOut:[{name:"Out Value",value:6}],objName:"Ops.Trigger.TriggerNumber"},{id:"eda60h0f8",uiAttribs:{},objName:"Ops.Html.ReloadPage"},{id:"sk301oyfc",uiAttribs:{},portsIn:[{name:"Text",value:"Resent Email"},{name:"Position index",value:0},{name:"Position",value:"Left"},{name:"Background Color",value:"#808080"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 20px"},{name:"Margin",value:"10px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Visible",value:1},{name:"Hover Background Color",value:"#909090"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"dl8czpnlq",objOut:"sk301oyfc"}]},{name:"Pressed Trigger",links:[{portIn:"Resend Verification Email",portOut:"Pressed Trigger",objIn:"t5ri8l6ph",objOut:"sk301oyfc"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"3bpk9p2v3",uiAttribs:{},portsIn:[{name:"Text",value:"Unable to send you an email. Refresh the page or try again later."},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:10},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"o6e2662v0",uiAttribs:{},portsIn:[{name:"Text",value:"Email Successfully Sent! Please check your inbox for further instructions."},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:10},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"t5ri8l6ph",uiAttribs:{},portsIn:[{name:"Email for Password Reset",value:""}],portsOut:[{name:"Resend Verification Success",links:[{portIn:"Trigger animation",portOut:"Resend Verification Success",objIn:"o6e2662v0",objOut:"t5ri8l6ph"}]},{name:"Resend Verification Fail",links:[{portIn:"Trigger animation",portOut:"Resend Verification Fail",objIn:"3bpk9p2v3",objOut:"t5ri8l6ph"}]},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.FB_Password_VerEmail"},{id:"bwkc27uf2",uiAttribs:{},portsIn:[{name:"Text",value:"Unable to send you an email. Make sure your email address is entered correctly and try again."},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:10},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"ze7epa87f",uiAttribs:{},portsIn:[{name:"Text",value:"Email Successfully Sent! Please check your inbox for further instructions."},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:10},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"bcwhpct9w",uiAttribs:{},portsOut:[{name:"Reset Password Success",links:[{portIn:"Trigger animation",portOut:"Reset Password Success",objIn:"ze7epa87f",objOut:"bcwhpct9w"},{portIn:"n6dz5ut5m",portOut:"Reset Password Success",objIn:"2flnrvci7",objOut:"bcwhpct9w"}]},{name:"Reset Password Fail",links:[{portIn:"Trigger animation",portOut:"Reset Password Fail",objIn:"bwkc27uf2",objOut:"bcwhpct9w"}]},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.FB_Password_VerEmail"},{id:"hr86nijyy",uiAttribs:{},portsIn:[{name:"Text",value:"Sample"},{name:"Position index",value:0},{name:"Position",value:"Left"},{name:"Background Color",value:"rgba(67, 138, 44,1)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 20px"},{name:"Margin",value:"20px 10px 10px 20px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button2"},{name:"Visible",value:1},{name:"Hover Background Color",value:"rgba(67, 138, 44,0.8)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],objName:"Ops.User.rambodc.button_customize"},{id:"plejpiz5c",uiAttribs:{},portsIn:[{name:"Text",value:"Invalid Email Address"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"w4sfjsszj",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"i6nnsru1m",title:"Parent Link"},{name:"zap5t5tri",title:"Mainloop"},{name:"9ozpectyq",title:"Hash Changed"},{name:"patchId",value:"bp2sub_w4sfjsszj"}],portsOut:[{name:"fi3k020k0",title:"Dir 1-2 Equal",links:[{portIn:"Boolean",portOut:"fi3k020k0",objIn:"x3opwwpep",objOut:"w4sfjsszj"},{portIn:"Boolean",portOut:"fi3k020k0",objIn:"v7lv89yzw",objOut:"w4sfjsszj"}]},{name:"zrvlu7tf2",title:"childs",links:[{portIn:"Link",portOut:"zrvlu7tf2",objIn:"trbo18hnk",objOut:"w4sfjsszj"}]},{name:"keb86kcid",title:"childs",links:[{portIn:"Link",portOut:"keb86kcid",objIn:"8c62d98rn",objOut:"w4sfjsszj"}]},{name:"vceuuccjk",title:"childs",links:[{portIn:"Parent Link",portOut:"vceuuccjk",objIn:"1wma2nr1m",objOut:"w4sfjsszj"}]},{name:"3r92xsnec",title:"Next",links:[{portIn:"Trigger",portOut:"3r92xsnec",objIn:"r13g5gjiw",objOut:"w4sfjsszj"}]},{name:"a9cr2r2x6",title:"Next",links:[{portIn:"Trigger",portOut:"a9cr2r2x6",objIn:"he5rm55xu",objOut:"w4sfjsszj"}]},{name:"5v6b98y14",title:"Next",links:[{portIn:"Trigger",portOut:"5v6b98y14",objIn:"00ngklka0",objOut:"w4sfjsszj"}]}],objName:"Ops.User.rambodc.PagesA7"},{id:"r13g5gjiw",uiAttribs:{},portsOut:[{name:"Was Triggered",links:[{portIn:"Value",portOut:"Was Triggered",objIn:"6ixdbstpa",objOut:"r13g5gjiw"}]}],objName:"Ops.Trigger.IsTriggered"},{id:"00ngklka0",uiAttribs:{},portsOut:[{name:"Was Triggered",links:[{portIn:"Value",portOut:"Was Triggered",objIn:"m8mgintff",objOut:"00ngklka0"}]}],objName:"Ops.Trigger.IsTriggered"},{id:"m8mgintff",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Clear",portOut:"Next",objIn:"ypweq8f8p",objOut:"m8mgintff"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"6ixdbstpa",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Clear",portOut:"Next",objIn:"0f0lbnj6o",objOut:"6ixdbstpa"},{portIn:"Clear",portOut:"Next",objIn:"lw5s9fkrp",objOut:"6ixdbstpa"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"296jpna7y",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"tbxe76v31",objOut:"296jpna7y"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"tbxe76v31",uiAttribs:{},portsIn:[{name:"Text",value:"Send Instructions To Change My Password"},{name:"Position index",value:0},{name:"Position",value:"Left"},{name:"Background Color",value:"rgba(67, 138, 44,1)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 20px"},{name:"Margin",value:"20px 10px 10px 20px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button2"},{name:"Visible",value:1},{name:"Hover Background Color",value:"rgba(67, 138, 44,0.8)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Pressed Trigger",links:[{portIn:"Trigger",portOut:"Pressed Trigger",objIn:"5a9jcq8em",objOut:"tbxe76v31"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"wqfjus7l5",uiAttribs:{},portsIn:[{name:"Height",value:100},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0},{name:"Visible",value:1}],objName:"Ops.User.rambodc.Background1"},{id:"trbo18hnk",uiAttribs:{},portsIn:[{name:"Height",value:100},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0},{name:"Visible",value:1}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"5782tzbry",objOut:"trbo18hnk"}]}],objName:"Ops.User.rambodc.Background1"},{id:"kp48tix8d",uiAttribs:{},portsIn:[{name:"Height",value:85.99},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0},{name:"Visible",value:0}],objName:"Ops.User.rambodc.Background1"},{id:"8s4whxb2o",uiAttribs:{},portsIn:[{name:"Height",value:100},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"r8z1kjrys",objOut:"8s4whxb2o"}]}],objName:"Ops.User.rambodc.Background1"},{id:"zqrbv2umh",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"1d8i1nhkb",value:"d",title:"Path Name"},{name:"14qkhodhi",title:"Mainloop"},{name:"patchId",value:"bp2sub_zqrbv2umh"}],portsOut:[{name:"a4ff56gqe",title:"Result",links:[{portIn:"Visible",portOut:"a4ff56gqe",objIn:"idv0ydq20",objOut:"zqrbv2umh"}]},{name:"6l7liw33m",value:"c",title:"Directory 1"},{name:"3ee1w6bsj",value:"edit",title:"Directory 2"},{name:"m5oblmgx9",value:"1P3CIBUkTez2sjkMT9Fl",title:"Directory 3"},{name:"zqf3fcpvb",value:"",title:"Directory 4"},{name:"nzvovmrv0",value:"",title:"Directory 5"},{name:"sffqpjmpg",title:"Mainloop",links:[{portIn:"zap5t5tri",portOut:"sffqpjmpg",objIn:"ti23mrl6h",objOut:"zqrbv2umh"}]},{name:"e3d2ws9wo",title:"Hash Changed",links:[{portIn:"9ozpectyq",portOut:"e3d2ws9wo",objIn:"ti23mrl6h",objOut:"zqrbv2umh"}]}],objName:"Ops.User.rambodc.SidebarControls"},{id:"idv0ydq20",uiAttribs:{},portsIn:[{name:"Opacity",value:1},{name:"Default Minimized",value:0},{name:"Minimized Opacity",value:.5},{name:"Show undo button",value:0},{name:"Show Minimize",value:0},{name:"Title",value:""},{name:"Side",value:0},{name:"Default CSS",value:1}],portsOut:[{name:"childs",title:"Children",links:[{portIn:"link",portOut:"childs",objIn:"ov438k98h",objOut:"idv0ydq20"}]},{name:"Opfened",value:false,title:"Opened"}],objName:"Ops.Sidebar.Sidebar"},{id:"ov438k98h",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"i6nnsru1m",portOut:"childs",objIn:"ti23mrl6h",objOut:"ov438k98h"}]}],objName:"Ops.Sidebar.Group"},{id:"f0r36pddm",uiAttribs:{},portsIn:[{name:"Title",value:"d"}],objName:"Ops.Ui.Area"},{id:"tvkw4z3xd",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"it4r20srd",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"jwosts4fd",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"uk07bfryf",uiAttribs:{},portsIn:[{name:"Format",value:'{\r\n"createdAt":"jan 2,2007 3:15PM MT",\r\n"message": "You liked a post",\r\n"type": "like",\r\n"icon": "assets/post/12234234234234234234\r\n"postId": "GHHFJSUJSKKSHSHHSJSJKS"\r\n}'},{name:"String A",value:""},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text Input",portOut:"Result",objIn:"cyswr9zyb",objOut:"uk07bfryf"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"ngv4npgjx",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:1},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"dtlgoowye",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:1},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"cpl0nn7nw",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"Hex Input",portOut:"String",objIn:"cyswr9zyb",objOut:"cpl0nn7nw"}]}],objName:"Ops.String.String_v2"},{id:"cyswr9zyb",uiAttribs:{},portsIn:[{name:"CryptoJS CDN URL",value:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"}],portsOut:[{name:"Hex Output",links:[{portIn:"String",portOut:"Hex Output",objIn:"ngv4npgjx",objOut:"cyswr9zyb"},{portIn:"value",portOut:"Hex Output",objIn:"cpl0nn7nw",objOut:"cyswr9zyb"}]},{name:"Text Output",links:[{portIn:"String",portOut:"Text Output",objIn:"dtlgoowye",objOut:"cyswr9zyb"}]},{name:"Text to Hex Success",links:[{portIn:"exe",portOut:"Text to Hex Success",objIn:"tvkw4z3xd",objOut:"cyswr9zyb"}]},{name:"Hex to Text Success",links:[{portIn:"exe",portOut:"Hex to Text Success",objIn:"it4r20srd",objOut:"cyswr9zyb"}]},{name:"Text to Hex Failure",links:[{portIn:"exe",portOut:"Text to Hex Failure",objIn:"jwosts4fd",objOut:"cyswr9zyb"}]},{name:"Hex to Text Failure",links:[{portIn:"exe",portOut:"Hex to Text Failure",objIn:"gcyygloef",objOut:"cyswr9zyb"}]},{name:"Text to Hex Error",value:""},{name:"Hex to Text Error",value:""}],objName:"Ops.User.rambodc.HexConverter"},{id:"gcyygloef",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"7l72fpkto",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"i6nnsru1m",title:"Parent Link"},{name:"zap5t5tri",title:"Mainloop"},{name:"9ozpectyq",title:"Hash Changed"},{name:"patchId",value:"bp2sub_7l72fpkto"}],objName:"Ops.User.rambodc.PagesC"},{id:"u7aln5bj5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"q2z2wgxu8",uiAttribs:{},portsOut:[{name:"result",links:[{portIn:"index",portOut:"result",objIn:"7c838ffd-4b38-43aa-9139-d627c3112f87",objOut:"q2z2wgxu8"}]}],objName:"Ops.Number.Number"},{id:"3hf3ffitm",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Visible",portOut:"Result",objIn:"kvtvb6sfh",objOut:"3hf3ffitm"}]}],objName:"Ops.Json.ObjectIsNull"},{id:"aivwbwe5t",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"ltz2jym5g",objOut:"aivwbwe5t"}]}],objName:"Ops.Sidebar.Group"},{id:"desdpf386",uiAttribs:{},portsIn:[{name:"Title",value:"Deactivated"}],objName:"Ops.Ui.Area"},{id:"k5dvew7tz",uiAttribs:{},portsIn:[{name:"String 2",value:"deactivated"}],portsOut:[{name:"Result",value:0},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"frcgp2ecl",objOut:"k5dvew7tz"},{portIn:"exe",portOut:"True",objIn:"sqr44p5ip",objOut:"k5dvew7tz"}]},{name:"False",links:[{portIn:"exe",portOut:"False",objIn:"ewfkmwv38",objOut:"k5dvew7tz"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"frcgp2ecl",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ewfkmwv38",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"m2c6fz47b",uiAttribs:{},portsIn:[{name:"Title",value:"deactivated"}],objName:"Ops.Ui.Area"},{id:"sqr44p5ip",uiAttribs:{},portsIn:[{name:"delay",value:.3}],portsOut:[{name:"next",links:[{portIn:"Set",portOut:"next",objIn:"y743hcgoj",objOut:"sqr44p5ip"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"y743hcgoj",uiAttribs:{},portsIn:[{name:"Number",value:7}],portsOut:[{name:"Out Value",links:[{portIn:"value",portOut:"Out Value",objIn:"q2z2wgxu8",objOut:"y743hcgoj"}]}],objName:"Ops.Trigger.TriggerNumber"},{id:"lle7htd9n",uiAttribs:{},portsIn:[{name:"Collection name",value:"mail"},{name:"Create Timestamp",value:0}],portsOut:[{name:"Error",value:1},{name:"Error Message",value:"Missing or insufficient permissions."},{name:"Created Document ID",value:""}],objName:"Ops.User.rambodc.FBAddDocument"},{id:"89o883mtf",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "to": ["admin@razzberry.ai"],\n  "from": "Friendly Sender <mail@razzberry.ai>",\n  "message": {\n    "subject": "Firestore to Razzbery Mail Test",\n    "text": "This is the plaintext section of the email body.",\n    "html": "<!DOCTYPE html><html lang=\\"en\\"><head><meta charset=\\"UTF-8\\"><title>Email Template</title><style>body {font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;} .email-container {max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}</style></head><body><div class=\\"email-container\\"><h1>$a</h1><p>$b</p><a href=\\"$d\\" target=\\"_blank\\" style=\\"display: inline-block; padding: 10px 20px; margin: 20px 0; background-color: #007BFF; color: #ffffff; text-decoration: none; border-radius: 5px; text-align: center;\\">$c</a><p>$e</p></div></body></html>"\n  }\n}\n'}],portsOut:[{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"a0120m8bf",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "to": ["admin@razzberry.ai"],\n  "from": "Friendly Sender <mail@razzberry.ai>",\n  "message": {\n    "subject": "Firestore to Razzbery Mail Test",\n    "text": "This is the plaintext section of the email body.",\n    "html": "<!DOCTYPE html><html lang=\\"en\\"><head><meta charset=\\"UTF-8\\"><title>Email Template</title><style>body {font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;} .email-container {max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}</style></head><body><div class=\\"email-container\\"><h1>$a</h1><p>$b</p><a href=\\"$d\\" target=\\"_blank\\" style=\\"display: inline-block; padding: 10px 20px; margin: 20px 0; background-color: #007BFF; color: #ffffff; text-decoration: none; border-radius: 5px; text-align: center;\\">$c</a><p>$e</p></div></body></html>"\n  }\n}\n'},{name:"String A",value:"Rambod Rad Invited You2"},{name:"String B",value:"Rambod would like for you to join Razzberry and start collecting RAZ tokens."},{name:"String C",value:"Click Here"},{name:"String D",value:"www.razzberry.ai"},{name:"String E",value:"Join Razzberry, where every upload is an asset and every interaction earns you RAZ tokens. Control and monetize your content like never before."},{name:"String F",value:""}],portsOut:[{name:"Result",value:'{\n  "to": ["admin@razzberry.ai"],\n  "from": "Friendly Sender <mail@razzberry.ai>",\n  "message": {\n    "subject": "Firestore to Razzbery Mail Test",\n    "text": "This is the plaintext section of the email body.",\n    "html": "<!DOCTYPE html><html lang=\\"en\\"><head><meta charset=\\"UTF-8\\"><title>Email Template</title><style>body {font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;} .email-container {max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}</style></head><body><div class=\\"email-container\\"><h1>Rambod Rad Invited You2</h1><p>Rambod would like for you to join Razzberry and start collecting RAZ tokens.</p><a href=\\"www.razzberry.ai\\" target=\\"_blank\\" style=\\"display: inline-block; padding: 10px 20px; margin: 20px 0; background-color: #007BFF; color: #ffffff; text-decoration: none; border-radius: 5px; text-align: center;\\">Click Here</a><p>Join Razzberry, where every upload is an asset and every interaction earns you RAZ tokens. Control and monetize your content like never before.</p></div></body></html>"\n  }\n}\n'}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"2vdoa3fp2",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Document",portOut:"Result",objIn:"lle7htd9n",objOut:"2vdoa3fp2"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"o2880p1vb",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "to": ["$o"],\n  "from": "Razzberry <mail@razzberry.ai>",\n  "message": {\n    "subject": "$n",\n    "text": "$m",\n    "html": "<!DOCTYPE html><html lang=\\"en\\"><head><meta charset=\\"UTF-8\\"><title>Email Template</title><style>body {font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;} .email-container {max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}</style></head><body><div class=\\"email-container\\"><h1>$a</h1><p>$b</p><a href=\\"$d\\" target=\\"_blank\\" style=\\"display: inline-block; padding: 10px 20px; margin: 20px 0; background-color: #007BFF; color: #ffffff; text-decoration: none; border-radius: 5px; text-align: center;\\">$c</a><p>$e</p></div></body></html>"\n  }\n}\n'},{name:"String A",value:"Rambod Rad Invited You2"},{name:"String B",value:"Rambod would like for you to join Razzberry and start collecting RAZ tokens."},{name:"String C",value:"Click Here Click Here"},{name:"String D",value:"www.razzberry.ai"},{name:"String E",value:"Join Razzberry, where every upload is an asset and every interaction earns you RAZ tokens. Control and monetize your content like never before."},{name:"String F",value:""},{name:"String G",value:""},{name:"String H",value:""},{name:"String I",value:""},{name:"String J",value:""},{name:"String K",value:""},{name:"String L",value:""},{name:"String M",value:"Rambod would like for you to join"},{name:"String N",value:"Rambod Rad Invited You2"},{name:"String O",value:"admin@razzberry.ai"}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"2vdoa3fp2",objOut:"o2880p1vb"}]}],objName:"Ops.User.rambodc.StringComposeEditorMAX"},{id:"0yvlgui81",uiAttribs:{},portsIn:[{name:"Title",value:"Email Sending"}],objName:"Ops.Ui.Area"},{id:"m2xkd2tz0",uiAttribs:{},portsIn:[{name:"Title",value:"Hex Converter"}],objName:"Ops.Ui.Area"},{id:"06psqgqyr",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"a83b43db-d7a2-4b71-b54c-d88ad7811d2c",objOut:"06psqgqyr"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"ti23mrl6h",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"i6nnsru1m",title:"Parent Link"},{name:"zap5t5tri",title:"Mainloop"},{name:"9ozpectyq",title:"Hash Changed"},{name:"patchId",value:"bp2sub_ti23mrl6h"}],objName:"Ops.User.rambodc.PageD1"},{id:"zljhsxyoa",uiAttribs:{},portsIn:[{name:"Variable",value:"inviteId"}],portsOut:[{name:"Value",links:[{portIn:"Document ID",portOut:"Value",objIn:"tz71p18fn",objOut:"zljhsxyoa"}]}],objName:"Ops.Vars.VarGetString"},{id:"5ggbf7m0p",uiAttribs:{},portsIn:[{name:"Variable",value:"inviteId Exists"}],portsOut:[{name:"Value",links:[{portIn:"boolean",portOut:"Value",objIn:"p149245p5",objOut:"5ggbf7m0p"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"p149245p5",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"exe",portOut:"then",objIn:"axsmwh4m7",objOut:"p149245p5"},{portIn:"Trigger Update",portOut:"then",objIn:"tz71p18fn",objOut:"p149245p5"}]},{name:"else",links:[{portIn:"exe",portOut:"else",objIn:"8dchkw620",objOut:"p149245p5"},{portIn:"exe",portOut:"else",objIn:"ao7r2w145",objOut:"p149245p5"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"wpw2b074i",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"exe",portOut:"next",objIn:"p149245p5",objOut:"wpw2b074i"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"8dchkw620",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"axsmwh4m7",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"tz71p18fn",uiAttribs:{},portsIn:[{name:"Collection Name",value:"invites"}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"ao7r2w145",objOut:"tz71p18fn"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"ao7r2w145",objOut:"tz71p18fn"}]},{name:"Loading",value:0}],objName:"Ops.User.rambodc.FBUpdateDocument2"},{id:"mbzo6ex7x",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Document Data",portOut:"Result",objIn:"tz71p18fn",objOut:"mbzo6ex7x"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"p27o894sm",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "inviteeExists": true,\n  "invitee.uid": "$a",\n  "invitee.firstName": "$b",\n  "invitee.lastName": "$c"\n}'},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"mbzo6ex7x",objOut:"p27o894sm"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"b1qe96b9p",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"p27o894sm",objOut:"b1qe96b9p"}]}],objName:"Ops.Vars.VarGetString"},{id:"2ywsjl3q3",uiAttribs:{},portsIn:[{name:"Title",value:"inviteAccept Not Signed In"}],objName:"Ops.Ui.Area"},{id:"ss98lkhi8",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"p27o894sm",objOut:"ss98lkhi8"}]}],objName:"Ops.Vars.VarGetString"},{id:"nacwlw4se",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"String C",portOut:"Value",objIn:"p27o894sm",objOut:"nacwlw4se"}]}],objName:"Ops.Vars.VarGetString"},{id:"rvziljrqa",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"Document ID",portOut:"Value",objIn:"j5sdt76dh",objOut:"rvziljrqa"}]}],objName:"Ops.Vars.VarGetString"},{id:"lp1cn9ykq",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"b1cvy89vv",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],objName:"Ops.Vars.VarSetObject_v2"},{id:"68rmictfz",uiAttribs:{},portsIn:[{name:"Title",value:"usersListner"}],objName:"Ops.Ui.Area"},{id:"brix3gfjs",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"2oag9sn6r",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"lzxvt2vif",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Stop Listening",portOut:"Next",objIn:"j5sdt76dh",objOut:"lzxvt2vif"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"bloc0tdsd",uiAttribs:{},portsOut:[{name:"TimeZone",links:[{portIn:"Value",portOut:"TimeZone",objIn:"6pxvyt4vp",objOut:"bloc0tdsd"}]},{name:"Error",value:0},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.Timezone_From_IP"},{id:"pc3rs20m0",uiAttribs:{},portsOut:[{name:"IP Address",links:[{portIn:"Value",portOut:"IP Address",objIn:"uaftwyj4k",objOut:"pc3rs20m0"}]},{name:"Error",value:0},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.IP_Address1"},{id:"6pxvyt4vp",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],objName:"Ops.Vars.VarSetString_v2"},{id:"uaftwyj4k",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],objName:"Ops.Vars.VarSetString_v2"},{id:"mf1kpp6hi",uiAttribs:{},portsIn:[{name:"Title",value:"IP Timezone"}],objName:"Ops.Ui.Area"},{id:"jbd9q03k8",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"Startup"}],portsOut:[{name:"Triggered",links:[{portIn:"exe",portOut:"Triggered",objIn:"q0lflc0at",objOut:"jbd9q03k8"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"q0lflc0at",uiAttribs:{},portsIn:[{name:"delay",value:2}],portsOut:[{name:"next",links:[{portIn:"Get Timezone",portOut:"next",objIn:"bloc0tdsd",objOut:"q0lflc0at"},{portIn:"Get IP Address",portOut:"next",objIn:"pc3rs20m0",objOut:"q0lflc0at"},{portIn:"Get Location",portOut:"next",objIn:"0e3p034ri",objOut:"q0lflc0at"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"6ynjxlfl5",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],objName:"Ops.Vars.VarSetObject_v2"},{id:"9tu37yxlb",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"jkgyh3kxu",title:"Open-Close"},{name:"nv2xz3y87",value:1,title:"Enable 1"},{name:"ub3mqqtdd",value:"1",title:"String 1"},{name:"n2tjog8gu",value:1,title:"Enable 2"},{name:"3jvojxwe9",value:"2",title:"String 2"},{name:"lmmev5kvn",value:1,title:"Enable 3"},{name:"0io5ed43a",value:"3",title:"String 3"},{name:"rzkhmfr8a",value:1,title:"Enable 4"},{name:"5fx1n7v3d",value:"4",title:"String 4"},{name:"5gsf1p0tl",value:0,title:"Enable 5"},{name:"up5aavev3",value:"",title:"String 5"},{name:"z8abbllq9",value:0,title:"Enable 6"},{name:"3of139532",value:"",title:"String 6"},{name:"patchId",value:"bp2sub_9tu37yxlb"}],objName:"Ops.User.rambodc.PopupMenu"},{id:"eifnxb8j4",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"User ID",portOut:"Value",objIn:"pc51zk0hb",objOut:"eifnxb8j4"}]}],objName:"Ops.Vars.VarGetString"},{id:"0epz89ikb",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"srk2ebfhz",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"6h4yjsajo",uiAttribs:{},portsIn:[{name:"delay",value:.5}],portsOut:[{name:"next",links:[{portIn:"Upload File",portOut:"next",objIn:"pc51zk0hb",objOut:"6h4yjsajo"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"7t05iwot9",uiAttribs:{},portsIn:[{name:"Text",value:"Reloading Page...."},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:4},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:1},{name:"Side",value:"top"},{name:"Starting position",value:0},{name:"Ending position",value:30}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"clpcerew9",uiAttribs:{},objName:"Ops.Html.ReloadPage"},{id:"e2dfffycp",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Exec",portOut:"next",objIn:"clpcerew9",objOut:"e2dfffycp"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"eg0kk8y14",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Open File Dialog",portOut:"Next",objIn:"pc51zk0hb",objOut:"eg0kk8y14"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"p3dxec510",uiAttribs:{},portsIn:[{name:"Format",value:"$a $b "},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"y01zzlcxn",objOut:"p3dxec510"}]}],objName:"Ops.String.StringCompose_v3"},{id:"0h7bv8u8x",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"p3dxec510",objOut:"0h7bv8u8x"}]}],objName:"Ops.Vars.VarGetString"},{id:"pst8vjxq0",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"p3dxec510",objOut:"pst8vjxq0"}]}],objName:"Ops.Vars.VarGetString"},{id:"u2n3lrdpk",uiAttribs:{},portsIn:[{name:"Variable",value:"profilePhoto"}],portsOut:[{name:"Value",links:[{portIn:"Icon",portOut:"Value",objIn:"y01zzlcxn",objOut:"u2n3lrdpk"}]}],objName:"Ops.Vars.VarGetString"},{id:"jzzzu2ssv",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Start Listening",portOut:"Next",objIn:"j5sdt76dh",objOut:"jzzzu2ssv"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"y3yh844yv",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"31gik1xji",objOut:"y3yh844yv"},{portIn:"Object",portOut:"Value",objIn:"939r9rcjx",objOut:"y3yh844yv"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"31gik1xji",uiAttribs:{},portsIn:[{name:"Path",value:"myPosts.posts"}],portsOut:[{name:"Output",links:[{portIn:"myPosts",portOut:"Output",objIn:"0praf0web",objOut:"31gik1xji"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetArrayByPath"},{id:"ya9zlrane",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"postSuccess"}],objName:"Ops.Trigger.TriggerSend"},{id:"eky5sywez",uiAttribs:{},portsIn:[{name:"Path",value:"postId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"e60jzc9fp",objOut:"eky5sywez"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"e60jzc9fp",uiAttribs:{},portsIn:[{name:"Format",value:"/$a"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"1ovs04j4c",portOut:"Result",objIn:"puqpm52oj",objOut:"e60jzc9fp"}]}],objName:"Ops.String.StringCompose_v3"},{id:"3nwv2r14e",uiAttribs:{},portsIn:[{name:"Size",value:120},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:60},{name:"Visible",value:1}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"egwh667li",objOut:"3nwv2r14e"}]}],objName:"Ops.User.rambodc.Background_Square"},{id:"3f09dwigd",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"9lp1r9nvz",objOut:"3f09dwigd"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"txtr12qmo",uiAttribs:{},portsIn:[{name:"Decimal Places",value:1}],portsOut:[{name:"Result",links:[{portIn:"String D",portOut:"Result",objIn:"dcheef7os",objOut:"txtr12qmo"}]}],objName:"Ops.String.NumberToString_v2"},{id:"jaqsiumuo",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"String E",portOut:"Result",objIn:"dcheef7os",objOut:"jaqsiumuo"}]}],objName:"Ops.String.NumberToString_v2"},{id:"qlszy7dld",uiAttribs:{},portsIn:[{name:"Text",value:"Logout"},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Background Color",value:"rgba(255, 255, 255,0.1)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 120px"},{name:"Margin",value:"10px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"16px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Visible",value:1},{name:"Hover Background Color",value:"rgba(255, 255, 255,0.3)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Pressed Trigger",links:[{portIn:"Trigger",portOut:"Pressed Trigger",objIn:"k8hksqag2",objOut:"qlszy7dld"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"dl8czpnlq",uiAttribs:{},portsIn:[{name:"Height",value:"150px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"qlszy7dld",objOut:"dl8czpnlq"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"k8hksqag2",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"logout"}],objName:"Ops.Trigger.TriggerSend"},{id:"gdwsu2x4f",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],objName:"Ops.Vars.VarSetObject_v2"},{id:"zasnm96my",uiAttribs:{},portsOut:[{name:"object out",links:[{portIn:"Value",portOut:"object out",objIn:"gdwsu2x4f",objOut:"zasnm96my"}]}],objName:"Ops.Json.SwitchObject"},{id:"j9twxfjop",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"clig4r64q",objOut:"j9twxfjop"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"clig4r64q",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"h52um8w9a",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n    "apiKey": "AIzaSyDnj3aGWynciDaeE2ysY8VvtJdDQv6yhLw",\n    "authDomain": "razz5-14781.firebaseapp.com",\n    "projectId": "razz5-14781",\n    "storageBucket": "razz5-14781.appspot.com",\n    "messagingSenderId": "327095907332",\n    "appId": "1:327095907332:web:6062b37b06d81990833151",\n    "measurementId": "G-FSK1XHL785"\n}\n'}],portsOut:[{name:"Result",links:[{portIn:"object port 1",portOut:"Result",objIn:"zasnm96my",objOut:"h52um8w9a"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"zyp18vnxn",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "apiKey": "AIzaSyBeRftbsxPGQXC5fxrFPsubaAy07y0Hzqk",\n  "authDomain": "staging1-255e9.firebaseapp.com",\n  "projectId": "staging1-255e9",\n  "storageBucket": "staging1-255e9.appspot.com",\n  "messagingSenderId": "408749721803",\n  "appId": "1:408749721803:web:47e67d7a1bbc77cce3f34e",\n  "measurementId": "G-65DSWPZK30"\n}\n\n\n\n\n\n'}],portsOut:[{name:"Result",links:[{portIn:"object port 2",portOut:"Result",objIn:"zasnm96my",objOut:"zyp18vnxn"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"mzfk9kvqv",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\r\n  "apiKey": "AIzaSyCzhiKN966llk-7D3E6nkrFSmI3LdK8C6c",\r\n  "authDomain": "production1-fbd5d.firebaseapp.com",\r\n  "projectId": "production1-fbd5d",\r\n  "storageBucket": "production1-fbd5d.appspot.com",\r\n  "messagingSenderId": "276382853797",\r\n  "appId": "1:276382853797:web:ffb3a639ac6df5f7b3fb4c",\r\n  "measurementId": "G-SM2D5V18L5"\r\n}'}],portsOut:[{name:"Result",links:[{portIn:"object port 3",portOut:"Result",objIn:"zasnm96my",objOut:"mzfk9kvqv"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"3ocn8dckz",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"qpfvrfr6h",objOut:"3ocn8dckz"},{portIn:"Configuration",portOut:"Value",objIn:"8axprz1fp",objOut:"3ocn8dckz"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"qpfvrfr6h",uiAttribs:{},portsIn:[{name:"Path",value:"projectId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"za9xgqsrp",objOut:"qpfvrfr6h"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"ejjrr8rx9",uiAttribs:{},portsIn:[{name:"Title",value:"Environments "}],objName:"Ops.Ui.Area"},{id:"d4nph7f0e",uiAttribs:{},portsIn:[{name:"Format",value:"https://$a.firebaseapp.com"},{name:"String B",value:1},{name:"String C",value:2},{name:"String D",value:3},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Project ID",portOut:"Result",objIn:"zhgeoaxpv",objOut:"d4nph7f0e"}]}],objName:"Ops.String.StringCompose_v3"},{id:"zhgeoaxpv",uiAttribs:{},portsOut:[{name:"Modified JSON Object",links:[{portIn:"Object",portOut:"Modified JSON Object",objIn:"u691mle7a",objOut:"zhgeoaxpv"},{portIn:"Object",portOut:"Modified JSON Object",objIn:"q5wtl8m9m",objOut:"zhgeoaxpv"}]}],objName:"Ops.User.rambodc.Storage_Path_Replace"},{id:"afo2o9ysw",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"ru671h0e7",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"gp3bpzdt3",objOut:"ru671h0e7"},{portIn:"Object",portOut:"Value",objIn:"re1k934u0",objOut:"ru671h0e7"},{portIn:"Object",portOut:"Value",objIn:"hhxyd1c67",objOut:"ru671h0e7"},{portIn:"Object",portOut:"Value",objIn:"t92ip9gq9",objOut:"ru671h0e7"},{portIn:"Object",portOut:"Value",objIn:"ywxuwy9c9",objOut:"ru671h0e7"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"gp3bpzdt3",uiAttribs:{},portsIn:[{name:"Path",value:"barMyPage"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Icon URL 2",portOut:"Output",objIn:"kvtvb6sfh",objOut:"gp3bpzdt3"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"re1k934u0",uiAttribs:{},portsIn:[{name:"Path",value:"barFeed"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Icon URL 1",portOut:"Output",objIn:"kvtvb6sfh",objOut:"re1k934u0"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"hhxyd1c67",uiAttribs:{},portsIn:[{name:"Path",value:"barAssistant"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Icon URL 3",portOut:"Output",objIn:"kvtvb6sfh",objOut:"hhxyd1c67"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"t92ip9gq9",uiAttribs:{},portsIn:[{name:"Path",value:"barHistory"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Icon URL 4",portOut:"Output",objIn:"kvtvb6sfh",objOut:"t92ip9gq9"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"ywxuwy9c9",uiAttribs:{},portsIn:[{name:"Path",value:"barSettings"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Icon URL 5",portOut:"Output",objIn:"kvtvb6sfh",objOut:"ywxuwy9c9"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"32dt46jjg",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"tt6l9zq27",objOut:"32dt46jjg"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"mskdpj9iv",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"vrfoaet4r",uiAttribs:{},portsIn:[{name:"Text",value:"Show More.."},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 50px"},{name:"Margin",value:"22px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"14px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.1)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Pressed Trigger",links:[{portIn:"Trigger",portOut:"Pressed Trigger",objIn:"vzbyaoauc",objOut:"vrfoaet4r"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"bvfhrlco4",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"next",links:[{portIn:"Link",portOut:"next",objIn:"i5jtsf2oe",objOut:"bvfhrlco4"}]},{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"vrfoaet4r",objOut:"bvfhrlco4"}]}],objName:"Ops.Sidebar.Group"},{id:"706bq0i81",uiAttribs:{},portsIn:[{name:"Path",value:"utc_offset"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"3pk7e8bfm",objOut:"706bq0i81"},{portIn:"value",portOut:"Output",objIn:"5k40fuvww",objOut:"706bq0i81"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"bvv7k6upy",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"1r484ob58",objOut:"bvv7k6upy"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"1r484ob58",uiAttribs:{},portsIn:[{name:"Path",value:"utcOffset"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 2",portOut:"Output",objIn:"3pk7e8bfm",objOut:"1r484ob58"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"3pk7e8bfm",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"boolean",portOut:"Result",objIn:"zxz7cglmc",objOut:"3pk7e8bfm"}]}],objName:"Ops.String.StringEquals"},{id:"d93y67ub5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"0e3p034ri",uiAttribs:{},portsOut:[{name:"IP Address",value:"2001:56a:7e8b:d00:884a:4840:be82:e889"},{name:"Location",links:[{portIn:"Value",portOut:"Location",objIn:"6ynjxlfl5",objOut:"0e3p034ri"},{portIn:"Object",portOut:"Location",objIn:"706bq0i81",objOut:"0e3p034ri"}]},{name:"Error",value:0},{name:"Error Message",value:""},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"d93y67ub5",objOut:"0e3p034ri"}]},{name:"Success Bool",links:[{portIn:"value",portOut:"Success Bool",objIn:"egxikjhzu",objOut:"0e3p034ri"}]},{name:"Fail",links:[{portIn:"exe",portOut:"Fail",objIn:"sjhypqhi2",objOut:"0e3p034ri"}]}],objName:"Ops.User.rambodc.Ipv6"},{id:"sjhypqhi2",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"zxz7cglmc",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"exe",portOut:"then",objIn:"1uwbwb16f",objOut:"zxz7cglmc"}]},{name:"else",links:[{portIn:"exe",portOut:"else",objIn:"a4tjka64y",objOut:"zxz7cglmc"},{portIn:"exe",portOut:"else",objIn:"34twkp5sd",objOut:"zxz7cglmc"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"cacgpts8x",uiAttribs:{},portsIn:[{name:"delay",value:2}],portsOut:[{name:"next",links:[{portIn:"exe",portOut:"next",objIn:"zxz7cglmc",objOut:"cacgpts8x"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"1uwbwb16f",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"a4tjka64y",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"dtfhv6tm9",uiAttribs:{},portsIn:[{name:"Path",value:"userStatus"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"7bxz84a7a",objOut:"dtfhv6tm9"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"7bxz84a7a",uiAttribs:{},portsIn:[{name:"Variable",value:"userStatus"}],objName:"Ops.Vars.VarSetString_v2"},{id:"5ovyqut1t",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Start Listening",portOut:"next",objIn:"j5sdt76dh",objOut:"5ovyqut1t"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"3r69kuuy8",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"nm0p4y0j3",objOut:"3r69kuuy8"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"agcwbfy0g",uiAttribs:{},portsIn:[{name:"Path",value:"firstName"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"g7z4fian8",objOut:"agcwbfy0g"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"is5goenwk",uiAttribs:{},portsIn:[{name:"Path",value:"lastName"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"p8xmwohbw",objOut:"is5goenwk"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"typpxoi30",uiAttribs:{},portsIn:[{name:"Variable",value:"email"}],objName:"Ops.Vars.VarSetString_v2"},{id:"p8xmwohbw",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],objName:"Ops.Vars.VarSetString_v2"},{id:"g7z4fian8",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],objName:"Ops.Vars.VarSetString_v2"},{id:"d2ktxp7cf",uiAttribs:{},portsIn:[{name:"Path",value:"email"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"typpxoi30",objOut:"d2ktxp7cf"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"5wgbzmn2a",uiAttribs:{},portsIn:[{name:"Path",value:"utcOffset"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"idh6ynjlr",objOut:"5wgbzmn2a"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"idh6ynjlr",uiAttribs:{},portsIn:[{name:"Variable",value:"utcOffset"}],objName:"Ops.Vars.VarSetString_v2"},{id:"anhg5qe1s",uiAttribs:{},portsIn:[{name:"Variable",value:"email"}],portsOut:[{name:"Value",links:[{portIn:"String 2",portOut:"Value",objIn:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307",objOut:"anhg5qe1s"}]}],objName:"Ops.Vars.VarGetString"},{id:"sd5nz1kdp",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Check Equality",portOut:"next",objIn:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307",objOut:"sd5nz1kdp"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"lo73laewt",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"x36q375u6",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Check Equality",portOut:"next",objIn:"ysr4io5h8",objOut:"x36q375u6"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"r3umhnfu8",uiAttribs:{},portsIn:[{name:"Path",value:"userStatus"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"k5dvew7tz",objOut:"r3umhnfu8"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"3oc2bz4jl",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"nt0xw2vw3",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"8dmwf0kmv",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"2r7w4rtbk",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"dnm99p7ra",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"t8zw567ld",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"nv0rv0x4u",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"4s950u83j",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"tif58iuen",uiAttribs:{},portsIn:[{name:"Text",value:"Updated Email Address"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"vdlashl2w",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],portsOut:[{name:"Value",links:[{portIn:"IP",portOut:"Value",objIn:"tsqoyb1a7",objOut:"vdlashl2w"}]}],objName:"Ops.Vars.VarGetString"},{id:"yiaihn6ze",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"Timezone",portOut:"Value",objIn:"tsqoyb1a7",objOut:"yiaihn6ze"}]}],objName:"Ops.Vars.VarGetString"},{id:"bccddt36j",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],portsOut:[{name:"Value",links:[{portIn:"IPv6",portOut:"Value",objIn:"tsqoyb1a7",objOut:"bccddt36j"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"3otupkh7j",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"tsqoyb1a7",objOut:"3otupkh7j"}]}],objName:"Ops.Vars.VarGetString"},{id:"t9n01z18p",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Parameters",portOut:"Result",objIn:"tsqoyb1a7",objOut:"t9n01z18p"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"5074kzhqt",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "email": "$a"\n\n}\n'},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"t9n01z18p",objOut:"5074kzhqt"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"6qml87061",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"yc56wfui2",objOut:"6qml87061"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"yc56wfui2",uiAttribs:{},portsIn:[{name:"Path",value:"userStatus"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"User Status",portOut:"Output",objIn:"tsqoyb1a7",objOut:"yc56wfui2"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"lv2btuqre",uiAttribs:{},portsIn:[{name:"Title",value:"UpdateEmail"}],objName:"Ops.Ui.Area"},{id:"44hperecg",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Check Equality",portOut:"Next",objIn:"0e6c3beb-7a2b-4299-8a4e-a555b0e11307",objOut:"44hperecg"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"cb34xiaqc",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"5ag0p15f2",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"h4bghyr8u",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"rba5m4wjr",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"qbin0iby0",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"df4dmeyza",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"abkrtg7d6",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"5eg92azfp",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"wt4z7hw7r",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],portsOut:[{name:"Value",links:[{portIn:"IP",portOut:"Value",objIn:"82n4jxjsu",objOut:"wt4z7hw7r"}]}],objName:"Ops.Vars.VarGetString"},{id:"icszz8m3l",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"fe1vkflq9",objOut:"icszz8m3l"},{portIn:"Timezone",portOut:"Value",objIn:"82n4jxjsu",objOut:"icszz8m3l"}]}],objName:"Ops.Vars.VarGetString"},{id:"w8bozoxys",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],portsOut:[{name:"Value",links:[{portIn:"IPv6",portOut:"Value",objIn:"82n4jxjsu",objOut:"w8bozoxys"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"foqppevo4",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"82n4jxjsu",objOut:"foqppevo4"}]}],objName:"Ops.Vars.VarGetString"},{id:"7bu5eoe31",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Parameters",portOut:"Result",objIn:"82n4jxjsu",objOut:"7bu5eoe31"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"z6yzam76f",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "utcOffset": "$a"\n\n}\n'},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"7bu5eoe31",objOut:"z6yzam76f"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"6tq96sf6f",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"4kzq5noug",objOut:"6tq96sf6f"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"4kzq5noug",uiAttribs:{},portsIn:[{name:"Path",value:"userStatus"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"User Status",portOut:"Output",objIn:"82n4jxjsu",objOut:"4kzq5noug"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"66ukutmh5",uiAttribs:{},portsIn:[{name:"Title",value:"updateUtcOffset"}],objName:"Ops.Ui.Area"},{id:"5k40fuvww",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"String A",portOut:"String",objIn:"z6yzam76f",objOut:"5k40fuvww"}]}],objName:"Ops.String.String_v2"},{id:"fe1vkflq9",uiAttribs:{},portsIn:[{name:"Format",value:"Updated Time Zone to $a"},{name:"String B",value:1},{name:"String C",value:2},{name:"String D",value:3},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"5eg92azfp",objOut:"fe1vkflq9"}]}],objName:"Ops.String.StringCompose_v3"},{id:"wd2dvck75",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"pwq62pk7t",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"o9vdcocae",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vm14hemy5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"39uwqxy01",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"u7xnw3own",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"avmu68jly",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"jjr1b0fyu",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"vcnhswixk",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: green;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"8fbgusjz8",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],portsOut:[{name:"Value",links:[{portIn:"IP",portOut:"Value",objIn:"jmem1rz8x",objOut:"8fbgusjz8"}]}],objName:"Ops.Vars.VarGetString"},{id:"y2g9yhr0p",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"Timezone",portOut:"Value",objIn:"jmem1rz8x",objOut:"y2g9yhr0p"}]}],objName:"Ops.Vars.VarGetString"},{id:"gwtk2dky9",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],portsOut:[{name:"Value",links:[{portIn:"IPv6",portOut:"Value",objIn:"jmem1rz8x",objOut:"gwtk2dky9"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"zpaiet25l",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"jmem1rz8x",objOut:"zpaiet25l"}]}],objName:"Ops.Vars.VarGetString"},{id:"jixsfzg03",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"7taxle6ub",objOut:"jixsfzg03"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"7taxle6ub",uiAttribs:{},portsIn:[{name:"Path",value:"userStatus"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"User Status",portOut:"Output",objIn:"jmem1rz8x",objOut:"7taxle6ub"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"v9haxufd9",uiAttribs:{},portsIn:[{name:"Title",value:"updateEmailVerified"}],objName:"Ops.Ui.Area"},{id:"o7s4n1zrz",uiAttribs:{},portsIn:[{name:"Format",value:"Email Verification is set to $a"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"vcnhswixk",objOut:"o7s4n1zrz"}]}],objName:"Ops.String.StringCompose_v3"},{id:"r1n80prc7",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Data",portOut:"Value",objIn:"ua3923gpg",objOut:"r1n80prc7"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"ua3923gpg",uiAttribs:{},portsIn:[{name:"Key",value:"emailVerified"}],portsOut:[{name:"Found",value:1}],objName:"Ops.Json.ObjectGetNumber_v2"},{id:"xt0alq44r",uiAttribs:{},portsIn:[{name:"delay",value:.4}],portsOut:[{name:"next",links:[{portIn:"Check Equality",portOut:"next",objIn:"soi2a7bh6",objOut:"xt0alq44r"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"byxlw9wy0",uiAttribs:{},portsIn:[{name:"Format",value:'{ "emailVerified": $a }'},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""},{name:"Number G",value:0},{name:"Number H",value:0},{name:"Number I",value:0},{name:"Number J",value:0},{name:"Number K",value:0}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"8xt47eqmm",objOut:"byxlw9wy0"}]}],objName:"Ops.User.rambodc.StringCompose2"},{id:"8xt47eqmm",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Parameters",portOut:"Result",objIn:"jmem1rz8x",objOut:"8xt47eqmm"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"qr0tav0li",uiAttribs:{},portsIn:[{name:"Key",value:"emailVerified"}],portsOut:[{name:"Result",links:[{portIn:"String 2",portOut:"Result",objIn:"soi2a7bh6",objOut:"qr0tav0li"}]}],objName:"Ops.Json.ObjectGetString"},{id:"34twkp5sd",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"Trigger Create FunctionCall",portOut:"then",objIn:"82n4jxjsu",objOut:"34twkp5sd"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"egxikjhzu",uiAttribs:{},portsOut:[{name:"result",links:[{portIn:"boolean",portOut:"result",objIn:"34twkp5sd",objOut:"egxikjhzu"}]}],objName:"Ops.Boolean.Boolean"},{id:"s1r4o34sc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"rwpfii1lc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"cb3l0yays",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"d46bjbxoc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ozk74s73j",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"f4m1d9l8t",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"a900j2914",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"pc51zk0hb",uiAttribs:{},portsIn:[{name:"Accept Files",value:"image/*"},{name:"Storage Path",value:"users/"},{name:"User Folder",value:"profilePhoto"},{name:"Resize px",value:"200x200,400x400,800x800"}],portsOut:[{name:"Upload Success",links:[{portIn:"exe",portOut:"Upload Success",objIn:"0epz89ikb",objOut:"pc51zk0hb"},{portIn:"Trigger animation",portOut:"Upload Success",objIn:"7t05iwot9",objOut:"pc51zk0hb"},{portIn:"exe",portOut:"Upload Success",objIn:"e2dfffycp",objOut:"pc51zk0hb"}]},{name:"Upload Progress",value:100},{name:"Upload Error",value:'Firebase Storage: User does not have permission to access \'users/8FOgRrWS3whN0nWpL6mCkQJupWr1/profilePhoto/8FOgRrWS3whN0nWpL6mCkQJupWr1.png\'. (storage/unauthorized)\n{\n  "error": {\n    "code": 403,\n    "message": "Permission denied."\n  }\n}'},{name:"Is Loading",links:[{portIn:"02t7hzmhk",portOut:"Is Loading",objIn:"uphls339u",objOut:"pc51zk0hb"}]},{name:"File Selected",links:[{portIn:"exe",portOut:"File Selected",objIn:"srk2ebfhz",objOut:"pc51zk0hb"},{portIn:"exe",portOut:"File Selected",objIn:"6h4yjsajo",objOut:"pc51zk0hb"}]}],objName:"Ops.User.rambodc.Upload_Profile_Photo"},{id:"uphls339u",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"02t7hzmhk",title:"Visible"},{name:"gy342pc5t",value:"Uploading ..",title:"Short Msg"},{name:"tyq5lu94r",value:1,title:"Delay False"},{name:"patchId",value:"bp2sub_uphls339u"}],objName:"Ops.User.rambodc.LoaderMsg"},{id:"qn0g6akif",uiAttribs:{},portsIn:[{name:"Frame1",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}"},{name:"Frame2",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 600px;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}"},{name:"Frame3",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 600px;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}\n"}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"1sprig337",objOut:"qn0g6akif"}]},{name:"Frame Type",links:[{portIn:"Value",portOut:"Frame Type",objIn:"0z7kt5lsf",objOut:"qn0g6akif"}]}],objName:"Ops.User.rambodc.Frame_Type"},{id:"k6oclzijs",uiAttribs:{},portsIn:[{name:"Width",value:0},{name:"Frame1",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}"},{name:"Frame2",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 600px;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}"},{name:"Frame3",value:".sidebar-cables {\n    top: 0%;\n    left: 5%;\n    width: 600px;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    z-index: 100000;\n    \n\n}\n\n"}],portsOut:[{name:"Result",value:".sidebar-cables {\n    top: 0%;\n    left: 50%;\n    width: 600px;\n    height: 100%;\n    position: absolute; /* or relative, depending on your layout */\n    transform: translateX(-50%);\n    z-index: 100000;\n    \n\n}"},{name:"Frame Type",value:"Frame2"}],objName:"Ops.User.rambodc.Frame_Type"},{id:"rv2tjetcp",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"Trigger",portOut:"trigger",objIn:"ce2ldghif",objOut:"rv2tjetcp"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"lm7kt8vr6",uiAttribs:{},portsIn:[{name:"String 2",value:""}],portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"e7fn0qy1a",objOut:"lm7kt8vr6"}]}],objName:"Ops.String.StringEquals"},{id:"qkwouyd0u",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"n6dz5ut5m",portOut:"trigger",objIn:"7xz70bs7q",objOut:"qkwouyd0u"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"e7fn0qy1a",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"qkwouyd0u",objOut:"e7fn0qy1a"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"xxqezd06e",uiAttribs:{},portsIn:[{name:"Variable",value:"wssSelect"}],portsOut:[{name:"Value",links:[{portIn:"WSS URL",portOut:"Value",objIn:"8esk9pl4m",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"4xzfa7sgy",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"1xyv19cn3",objOut:"xxqezd06e"},{portIn:"Wss",portOut:"Value",objIn:"dh6553acp",objOut:"xxqezd06e"},{portIn:"WebSocket Server (WSS)",portOut:"Value",objIn:"09zay4vkg",objOut:"xxqezd06e"},{portIn:"WebSocket Server (WSS)",portOut:"Value",objIn:"3ih8d0hry",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"3e7p7smp2",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"kwcbolufa",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"ooeudp3dl",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"pn9fyy2hf",objOut:"xxqezd06e"},{portIn:"WSS URL",portOut:"Value",objIn:"6obbhhle6",objOut:"xxqezd06e"}]}],objName:"Ops.Vars.VarGetString"},{id:"iwfqd1stb",uiAttribs:{},portsIn:[{name:"JSON String",value:""}],portsOut:[{name:"Result",links:[{portIn:"XRPL Wallet",portOut:"Result",objIn:"pz9u6abw0",objOut:"iwfqd1stb"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"i6891x41n",uiAttribs:{},portsIn:[{name:"Path",value:"classicAddress"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Account Address",portOut:"Output",objIn:"hgfmdwff3",objOut:"i6891x41n"},{portIn:"LimitAmount Issuer",portOut:"Output",objIn:"gtmgtbnbb",objOut:"i6891x41n"},{portIn:"Account",portOut:"Output",objIn:"09zay4vkg",objOut:"i6891x41n"},{portIn:"Account",portOut:"Output",objIn:"0mq81pufa",objOut:"i6891x41n"},{portIn:"LimitAmount Issuer",portOut:"Output",objIn:"0mq81pufa",objOut:"i6891x41n"},{portIn:"LimitAmount Issuer",portOut:"Output",objIn:"2og143qq8",objOut:"i6891x41n"},{portIn:"LimitAmount Issuer",portOut:"Output",objIn:"0qv5jrwmf",objOut:"i6891x41n"},{portIn:"Account",portOut:"Output",objIn:"l6869gmsw",objOut:"i6891x41n"},{portIn:"Issuer",portOut:"Output",objIn:"l6869gmsw",objOut:"i6891x41n"},{portIn:"Issuer",portOut:"Output",objIn:"vj0zob7vb",objOut:"i6891x41n"},{portIn:"Issuer",portOut:"Output",objIn:"pn9y4o9gx",objOut:"i6891x41n"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"7xhhcny1n",uiAttribs:{},portsIn:[{name:"Path",value:"seed"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Sender Secret Key",portOut:"Output",objIn:"8esk9pl4m",objOut:"7xhhcny1n"},{portIn:"Sender Secret Key",portOut:"Output",objIn:"1xyv19cn3",objOut:"7xhhcny1n"},{portIn:"Sender Secret Key",portOut:"Output",objIn:"3e7p7smp2",objOut:"7xhhcny1n"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"zh1dc4i7f",uiAttribs:{},portsIn:[{name:"Title",value:"Issuer"}],objName:"Ops.Ui.Area"},{id:"8esk9pl4m",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"8BFCEE0692D3CD4CEEF9D29662F5FDFDA473237CF6D05F3F14913E130B7F96AE"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"w663yzjey",objOut:"8esk9pl4m"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"xs8bsqj0e",objOut:"8esk9pl4m"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"w663yzjey",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"xs8bsqj0e",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"hgfmdwff3",uiAttribs:{},portsIn:[{name:"ClearFlag",value:0},{name:"Domain",value:""},{name:"EmailHash",value:""},{name:"MessageKey",value:""},{name:"NFTokenMinter",value:""},{name:"SetFlag",value:0},{name:"TransferRate",value:0},{name:"TickSize",value:0},{name:"WalletLocator",value:""},{name:"WalletSize",value:0},{name:"Require Destination Tag",value:0},{name:"Require Authorization",value:0},{name:"Disallow XRP",value:0},{name:"Default Ripple",value:0},{name:"Deposit Authorization",value:0},{name:"Allow Trust Line Clawback",value:1}],portsOut:[{name:"Complete AccountSet Transaction",links:[{portIn:"Transaction",portOut:"Complete AccountSet Transaction",objIn:"8esk9pl4m",objOut:"hgfmdwff3"},{portIn:"Object",portOut:"Complete AccountSet Transaction",objIn:"bk7z8rcqf",objOut:"hgfmdwff3"}]}],objName:"Ops.User.rambodc.XRPL_AccountSet"},{id:"y4babqb35",uiAttribs:{},portsIn:[{name:"JSON String",value:""}],portsOut:[{name:"Result",links:[{portIn:"XRPL Wallet",portOut:"Result",objIn:"coi8vcbj5",objOut:"y4babqb35"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"okxsffc3f",uiAttribs:{},portsIn:[{name:"Path",value:"classicAddress"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Account",portOut:"Output",objIn:"gtmgtbnbb",objOut:"okxsffc3f"},{portIn:"Account",portOut:"Output",objIn:"3ih8d0hry",objOut:"okxsffc3f"},{portIn:"Destination",portOut:"Output",objIn:"l6869gmsw",objOut:"okxsffc3f"},{portIn:"Account",portOut:"Output",objIn:"vj0zob7vb",objOut:"okxsffc3f"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"8pcbap4w6",uiAttribs:{},portsIn:[{name:"Path",value:"seed"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Sender Secret Key",portOut:"Output",objIn:"4xzfa7sgy",objOut:"8pcbap4w6"},{portIn:"Sender Secret Key",portOut:"Output",objIn:"ooeudp3dl",objOut:"8pcbap4w6"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"zlkb6nfai",uiAttribs:{},portsIn:[{name:"Title",value:"operational"}],objName:"Ops.Ui.Area"},{id:"1xyv19cn3",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"D05012565BAF1F0C99CCF1F7D0244EE937A0632EC7579FA74E2449631679002A"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"t29nn2qtw",objOut:"1xyv19cn3"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"ginhn7kow",objOut:"1xyv19cn3"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"t29nn2qtw",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ginhn7kow",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"4xzfa7sgy",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"D060530114772783C9345BDFA766408ABB92A7CA4DB679E57313E8FA96909663"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"j36z1yoqb",objOut:"4xzfa7sgy"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"7xil2ihx8",objOut:"4xzfa7sgy"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"j36z1yoqb",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"7xil2ihx8",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"gtmgtbnbb",uiAttribs:{},portsIn:[{name:"LimitAmount Value",value:"50000000000"},{name:"QualityIn",value:0},{name:"QualityOut",value:0},{name:"Authorize Other Party",value:0},{name:"Enable No Ripple",value:0},{name:"Disable No Ripple",value:0},{name:"Freeze Trust Line",value:0},{name:"Unfreeze Trust Line",value:0}],portsOut:[{name:"Complete TrustSet Transaction",links:[{portIn:"Transaction",portOut:"Complete TrustSet Transaction",objIn:"4xzfa7sgy",objOut:"gtmgtbnbb"},{portIn:"Object",portOut:"Complete TrustSet Transaction",objIn:"up5sv6vtv",objOut:"gtmgtbnbb"}]}],objName:"Ops.User.rambodc.XRPL_TrustSet"},{id:"bvz4i724l",uiAttribs:{},portsIn:[{name:"Path",value:"myPosts.posts.0.createdAt"}],portsOut:[{name:"Output",links:[{portIn:"Timestamp",portOut:"Output",objIn:"ncbxz0unp",objOut:"bvz4i724l"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"ncbxz0unp",uiAttribs:{},portsOut:[{name:"Timestamp in Seconds",links:[{portIn:"Timestamp (Seconds)",portOut:"Timestamp in Seconds",objIn:"uu0taqlpb",objOut:"ncbxz0unp"}]},{name:"Timestamp in Milliseconds",value:1731193409673},{name:"Error Message",value:"Cannot read properties of null (reading 'seconds')"}],objName:"Ops.User.rambodc.FB_Timestamp_Converter"},{id:"5pqpiekcm",uiAttribs:{},portsOut:[{name:"Success",links:[{portIn:"Check",portOut:"Success",objIn:"xvni5g3il",objOut:"5pqpiekcm"}]},{name:"Fail",links:[{portIn:"Trigger animation",portOut:"Fail",objIn:"l5bubf3n3",objOut:"5pqpiekcm"},{portIn:"exe",portOut:"Fail",objIn:"ax4byxn9v",objOut:"5pqpiekcm"}]},{name:"Valid Email",value:"test2@razzberry.ai"}],objName:"Ops.User.rambodc.Check_Email_Validation"},{id:"xvni5g3il",uiAttribs:{},portsOut:[{name:"Error",links:[{portIn:"Trigger animation",portOut:"Error",objIn:"gl2odizr2",objOut:"xvni5g3il"},{portIn:"exe",portOut:"Error",objIn:"ajy4t4wen",objOut:"xvni5g3il"}]},{name:"Success Trigger",links:[{portIn:"exe",portOut:"Success Trigger",objIn:"ax4byxn9v",objOut:"xvni5g3il"},{portIn:"Sign in",portOut:"Success Trigger",objIn:"8axprz1fp",objOut:"xvni5g3il"}]},{name:"Valid Password",value:"123456"},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"gl2odizr2",objOut:"xvni5g3il"}]}],objName:"Ops.User.rambodc.PasswordLength"},{id:"l5bubf3n3",uiAttribs:{},portsIn:[{name:"Text",value:"Invalid Email Address"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"gl2odizr2",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"1mu7nq4tv",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"Clear",portOut:"next",objIn:"0f0lbnj6o",objOut:"1mu7nq4tv"},{portIn:"Clear",portOut:"next",objIn:"lw5s9fkrp",objOut:"1mu7nq4tv"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"nh7na3lke",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"o8a8sy0bc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"sm12emk8p",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"u3rzndjpj",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"bjnyy1zgt",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ajy4t4wen",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ax4byxn9v",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"18eyefuqh",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Object",portOut:"Result",objIn:"q5932irei",objOut:"18eyefuqh"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"q5932irei",uiAttribs:{},portsIn:[{name:"Path",value:"error.message"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String B",portOut:"Output",objIn:"8ffxj4lj9",objOut:"q5932irei"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"tzia62gs8",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Sign up",portOut:"Next",objIn:"8axprz1fp",objOut:"tzia62gs8"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"pmhh632yj",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Sign in",portOut:"Next",objIn:"8axprz1fp",objOut:"pmhh632yj"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"c508g7s1a",uiAttribs:{},objName:"Ops.Trigger.TriggerExtender"},{id:"w1qd0vego",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"exe",portOut:"next",objIn:"1jd9gwwrl",objOut:"w1qd0vego"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"jtouicrhr",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"Startup"}],portsOut:[{name:"Triggered",links:[{portIn:"exe",portOut:"Triggered",objIn:"54oo2y3ix",objOut:"jtouicrhr"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"xs61aotsu",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"w1qd0vego",objOut:"xs61aotsu"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"rpnq14wi3",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"True",portOut:"trigger",objIn:"pcryf34tm",objOut:"rpnq14wi3"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"54oo2y3ix",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"zaw1ohi9i",objOut:"54oo2y3ix"}]},{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"nm0p4y0j3",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"5ovyqut1t",objOut:"nm0p4y0j3"}]},{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"ysfrltj6w",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"fccmfmizk",value:"Confirm",title:"Title"},{name:"yg7pzsd2h",value:"Are you sure you want to delete this post?",title:"Description"},{name:"dh4z8d352",value:"Delete",title:"Confirm Name"},{name:"m7xnkx5rp",value:"Cancel",title:"Cancel Name"},{name:"patchId",value:"bp2sub_ysfrltj6w"}],objName:"Ops.User.rambodc.PopupConfirm"},{id:"uu0taqlpb",uiAttribs:{},portsIn:[{name:"Expiry Time (Minutes)",value:10},{name:"Speed",value:1},{name:"Play",value:1},{name:"Sync to timeline",value:0}],portsOut:[{name:"Time Remaining",value:"Expired"},{name:"Expired Bool",value:true}],objName:"Ops.User.rambodc.Timer_Expiry_Countdown"},{id:"rgpjoeej1",uiAttribs:{},portsIn:[{name:"Title",value:"Sign Up"}],objName:"Ops.Ui.Area"},{id:"he5rm55xu",uiAttribs:{},portsOut:[{name:"Was Triggered",links:[{portIn:"Value",portOut:"Was Triggered",objIn:"582fbftfj",objOut:"he5rm55xu"}]}],objName:"Ops.Trigger.IsTriggered"},{id:"582fbftfj",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Clear",portOut:"Next",objIn:"zivrsa5wl",objOut:"582fbftfj"},{portIn:"Clear",portOut:"Next",objIn:"dpgwoosd3",objOut:"582fbftfj"},{portIn:"Clear",portOut:"Next",objIn:"2comb3zfw",objOut:"582fbftfj"},{portIn:"Clear",portOut:"Next",objIn:"x2omvxize",objOut:"582fbftfj"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"rmdhenyuf",uiAttribs:{},portsOut:[{name:"Success",links:[{portIn:"Check",portOut:"Success",objIn:"fdb5f8x0a",objOut:"rmdhenyuf"},{portIn:"exe",portOut:"Success",objIn:"4j4f5boyo",objOut:"rmdhenyuf"}]},{name:"Fail",links:[{portIn:"Trigger animation",portOut:"Fail",objIn:"reyz62jm3",objOut:"rmdhenyuf"},{portIn:"exe",portOut:"Fail",objIn:"byi5cn2oi",objOut:"rmdhenyuf"}]},{name:"Valid Email",value:"asdas@asdasd.ss"}],objName:"Ops.User.rambodc.Check_Email_Validation"},{id:"fdb5f8x0a",uiAttribs:{},portsOut:[{name:"Error",links:[{portIn:"Trigger animation",portOut:"Error",objIn:"x8rrt2xxf",objOut:"fdb5f8x0a"},{portIn:"exe",portOut:"Error",objIn:"7xx5relm8",objOut:"fdb5f8x0a"}]},{name:"Success Trigger",links:[{portIn:"exe",portOut:"Success Trigger",objIn:"1d5h8yser",objOut:"fdb5f8x0a"},{portIn:"Sign up",portOut:"Success Trigger",objIn:"8axprz1fp",objOut:"fdb5f8x0a"}]},{name:"Valid Password",value:"123456"},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"x8rrt2xxf",objOut:"fdb5f8x0a"}]}],objName:"Ops.User.rambodc.PasswordLength"},{id:"reyz62jm3",uiAttribs:{},portsIn:[{name:"Text",value:"Invalid Email Address"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"x8rrt2xxf",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"3br9hwlqy",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Clear",portOut:"next",objIn:"zivrsa5wl",objOut:"3br9hwlqy"},{portIn:"Clear",portOut:"next",objIn:"dpgwoosd3",objOut:"3br9hwlqy"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"7xx5relm8",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"1d5h8yser",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"xzrno87zw",uiAttribs:{},portsIn:[{name:"Error Message 1",value:"First Name can't be blank"},{name:"Bool 1",value:1},{name:"Error Message 2",value:"Last Name can't be blank"},{name:"Bool 2",value:1},{name:"String Input 3",value:""},{name:"Error Message 3",value:""},{name:"Bool 3",value:0},{name:"String Input 4",value:""},{name:"Error Message 4",value:""},{name:"Bool 4",value:0}],portsOut:[{name:"Success",links:[{portIn:"Trigger",portOut:"Success",objIn:"rmdhenyuf",objOut:"xzrno87zw"}]},{name:"Fail",links:[{portIn:"Trigger animation",portOut:"Fail",objIn:"u3dxyuru5",objOut:"xzrno87zw"}]},{name:"Output Error Message",links:[{portIn:"Text",portOut:"Output Error Message",objIn:"u3dxyuru5",objOut:"xzrno87zw"}]}],objName:"Ops.User.rambodc.Empty_String_Check1"},{id:"u3dxyuru5",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:2},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"8c62d98rn",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"xbo5pys3s",objOut:"8c62d98rn"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"65i2p3zio",uiAttribs:{},portsIn:[{name:"Height",value:"80px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"xiea16s8y",objOut:"65i2p3zio"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"0j10kxuob",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"7s6r4xih7",objOut:"0j10kxuob"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"jy0vcxx0r",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"gxugaajl6",objOut:"jy0vcxx0r"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"vdwpza28d",uiAttribs:{},portsIn:[{name:"Height",value:"5px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"7h5vr7j19",objOut:"vdwpza28d"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"5782tzbry",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],portsOut:[{name:"Children",links:[{portIn:"Parent Link",portOut:"Children",objIn:"5880f924-5ee3-417a-9a00-5ae172205acc",objOut:"5782tzbry"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"cgnpyr2pm",uiAttribs:{},portsIn:[{name:"Variable",value:"themeColors"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"qnt00xvxd",objOut:"cgnpyr2pm"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"qnt00xvxd",uiAttribs:{},portsIn:[{name:"Path",value:"logo800"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Image URL",portOut:"Output",objIn:"xiea16s8y",objOut:"qnt00xvxd"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"xiea16s8y",uiAttribs:{},portsIn:[{name:"Height",value:100},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0},{name:"Visible",value:1}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"06qhm224n",objOut:"xiea16s8y"}]}],objName:"Ops.User.rambodc.Background1"},{id:"06qhm224n",uiAttribs:{},portsIn:[{name:"Height",value:"100px"}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"s1otvuzti",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"fccmfmizk",value:"",title:"Title"},{name:"yg7pzsd2h",value:"",title:"Description"},{name:"dh4z8d352",value:"",title:"Confirm Name"},{name:"m7xnkx5rp",value:"",title:"Cancel Name"},{name:"patchId",value:"bp2sub_s1otvuzti"}],objName:"Ops.User.rambodc.PopupMessage"},{id:"8ffxj4lj9",uiAttribs:{},portsIn:[{name:"Format",value:"$a $b"},{name:"String A",value:"It looks like your password might be incorrect, or you haven't signed up with Razzberry yet."},{name:"String C",value:2},{name:"String D",value:3},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"bacd74ce-b22f-49d0-a791-4b66fc692612",objOut:"8ffxj4lj9"}]}],objName:"Ops.String.StringCompose_v3"},{id:"4j4f5boyo",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"byi5cn2oi",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"iovptqp1d",uiAttribs:{},portsIn:[{name:"Path",value:"message"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Text",portOut:"Output",objIn:"fye3j1sf1",objOut:"iovptqp1d"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"fye3j1sf1",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: orange;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"a1ac4lulp",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger animation",portOut:"next",objIn:"fye3j1sf1",objOut:"a1ac4lulp"},{portIn:"exe",portOut:"next",objIn:"rl5x93nmc",objOut:"a1ac4lulp"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"rl5x93nmc",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"3br9hwlqy",objOut:"rl5x93nmc"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"foabh4u0t",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"4yc9zphjr",objOut:"foabh4u0t"}]}],objName:"Ops.Vars.VarGetString"},{id:"ctbfwx7x2",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Request Body",portOut:"Result",objIn:"l4upicx39",objOut:"ctbfwx7x2"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"gf9dgqmoi",uiAttribs:{},portsIn:[{name:"Title",value:"userSetup"}],objName:"Ops.Ui.Area"},{id:"feeyi9r6u",uiAttribs:{},portsIn:[{name:"Variable",value:"authEmail"}],portsOut:[{name:"Value",links:[{portIn:"String D",portOut:"Value",objIn:"4yc9zphjr",objOut:"feeyi9r6u"}]}],objName:"Ops.Vars.VarGetString"},{id:"lp605seac",uiAttribs:{},portsIn:[{name:"Path",value:"utc_offset"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"UTC Offset",portOut:"Output",objIn:"dudgik9zi",objOut:"lp605seac"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"dudgik9zi",uiAttribs:{},portsOut:[{name:"UTC Offset Output",links:[{portIn:"String E",portOut:"UTC Offset Output",objIn:"4yc9zphjr",objOut:"dudgik9zi"}]}],objName:"Ops.User.rambodc.UtcOffset_Checker"},{id:"zaw1ohi9i",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Start Listening",portOut:"next",objIn:"j5sdt76dh",objOut:"zaw1ohi9i"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"9h3twkwkb",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"Trigger User Setup Request",portOut:"next",objIn:"l4upicx39",objOut:"9h3twkwkb"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"6f91lbjer",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"String B",portOut:"String",objIn:"4yc9zphjr",objOut:"6f91lbjer"}]}],objName:"Ops.String.String_v2"},{id:"ursnfyfay",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"String C",portOut:"String",objIn:"4yc9zphjr",objOut:"ursnfyfay"}]}],objName:"Ops.String.String_v2"},{id:"pcryf34tm",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"02t7hzmhk",portOut:"Result",objIn:"rf9s0h9py",objOut:"pcryf34tm"}]}],objName:"Ops.Boolean.BoolByTrigger"},{id:"3dd6d43wm",uiAttribs:{},portsOut:[{name:"Path",links:[{portIn:"String 1",portOut:"Path",objIn:"le4ymvwi3",objOut:"3dd6d43wm"}]},{name:"Folder1",value:"c"},{name:"Folder2",value:"edit"},{name:"Folder3",value:"1P3CIBUkTez2sjkMT9Fl"},{name:"Folder4",value:""},{name:"Folder5",value:""}],objName:"Ops.User.rambodc.URL_Hash"},{id:"le4ymvwi3",uiAttribs:{},portsIn:[{name:"String 2",value:"/b"}],portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"woigdnsgf",objOut:"le4ymvwi3"}]}],objName:"Ops.String.StringEquals"},{id:"woigdnsgf",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"zyywr1vpt",objOut:"woigdnsgf"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"zyywr1vpt",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"xy10dpkcz",objOut:"zyywr1vpt"}]},{name:"timesTriggered",value:3}],objName:"Ops.Trigger.TriggerCounter"},{id:"xy10dpkcz",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"8y446lww4",uiAttribs:{},portsIn:[{name:"Path",value:"username"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"oejm3mpdo",objOut:"8y446lww4"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"oejm3mpdo",uiAttribs:{},portsIn:[{name:"Variable",value:"username"}],objName:"Ops.Vars.VarSetString_v2"},{id:"vzbyaoauc",uiAttribs:{},portsIn:[{name:"Starting Number",value:4},{name:"Increment Number",value:10}],portsOut:[{name:"Accumulated Number",links:[{portIn:"First Page Number",portOut:"Accumulated Number",objIn:"tt6l9zq27",objOut:"vzbyaoauc"}]}],objName:"Ops.User.rambodc.Accumulator1"},{id:"bk7z8rcqf",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"dh6553acp",uiAttribs:{},portsIn:[{name:"Amount",value:"100"}],portsOut:[{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"6106yqlf5",objOut:"dh6553acp"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"nly5lp58j",objOut:"dh6553acp"}]},{name:"Error",value:""},{name:"Missing Wss",value:0}],objName:"Ops.User.rambodc.XRPL_FundWallet"},{id:"6106yqlf5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"nly5lp58j",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"up5sv6vtv",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"gxrzah9ua",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"09zay4vkg",uiAttribs:{},portsIn:[{name:"Ledger Index",value:"validated"}],portsOut:[{name:"Account Lines",links:[{portIn:"Object",portOut:"Account Lines",objIn:"76vyqkk30",objOut:"09zay4vkg"}]},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"2wt3cj6ii",objOut:"09zay4vkg"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"btvn0f8mw",objOut:"09zay4vkg"}]},{name:"Error",value:""}],objName:"Ops.User.rambodc.XRPL_account_lines"},{id:"2wt3cj6ii",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"btvn0f8mw",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"3ih8d0hry",uiAttribs:{},portsIn:[{name:"Ledger Index",value:"validated"}],portsOut:[{name:"Account Lines",links:[{portIn:"Object",portOut:"Account Lines",objIn:"527uk2erg",objOut:"3ih8d0hry"}]},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"8hqdalbry",objOut:"3ih8d0hry"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"c0s0oyjph",objOut:"3ih8d0hry"}]},{name:"Error",value:""}],objName:"Ops.User.rambodc.XRPL_account_lines"},{id:"8hqdalbry",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"c0s0oyjph",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"76vyqkk30",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"527uk2erg",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"3e7p7smp2",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:""},{name:"Transaction Status",value:""},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"2x473o3ar",objOut:"3e7p7smp2"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"25pfl6xn9",objOut:"3e7p7smp2"}]},{name:"Error",value:"The latest ledger sequence 207040 is greater than the transaction's LastLedgerSequence (207039).\nPreliminary result: temDST_IS_SRC"},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"2x473o3ar",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"25pfl6xn9",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0mq81pufa",uiAttribs:{},portsIn:[{name:"LimitAmount Currency",value:"RAD"},{name:"LimitAmount Value",value:"1000000"},{name:"QualityIn",value:0},{name:"QualityOut",value:0},{name:"Authorize Other Party",value:1},{name:"Enable No Ripple",value:0},{name:"Disable No Ripple",value:0},{name:"Freeze Trust Line",value:0},{name:"Unfreeze Trust Line",value:0}],portsOut:[{name:"Complete TrustSet Transaction",links:[{portIn:"Transaction",portOut:"Complete TrustSet Transaction",objIn:"3e7p7smp2",objOut:"0mq81pufa"},{portIn:"Object",portOut:"Complete TrustSet Transaction",objIn:"yd0zsq7mm",objOut:"0mq81pufa"}]}],objName:"Ops.User.rambodc.XRPL_TrustSet"},{id:"yd0zsq7mm",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"k4davgell",uiAttribs:{},portsIn:[{name:"JSON String",value:""}],portsOut:[{name:"Result",links:[{portIn:"XRPL Wallet",portOut:"Result",objIn:"wd5gi0l8f",objOut:"k4davgell"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"c747lszj7",uiAttribs:{},portsIn:[{name:"Path",value:"classicAddress"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Account",portOut:"Output",objIn:"2og143qq8",objOut:"c747lszj7"},{portIn:"Destination",portOut:"Output",objIn:"vj0zob7vb",objOut:"c747lszj7"},{portIn:"Account",portOut:"Output",objIn:"pn9y4o9gx",objOut:"c747lszj7"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"74j05oepg",uiAttribs:{},portsIn:[{name:"Path",value:"seed"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Sender Secret Key",portOut:"Output",objIn:"kwcbolufa",objOut:"74j05oepg"},{portIn:"Sender Secret Key",portOut:"Output",objIn:"6obbhhle6",objOut:"74j05oepg"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"x64zthdsy",uiAttribs:{},portsIn:[{name:"Title",value:"sender"}],objName:"Ops.Ui.Area"},{id:"xi2t2o0u3",uiAttribs:{},portsIn:[{name:"JSON String",value:""}],portsOut:[{name:"Result",links:[{portIn:"XRPL Wallet",portOut:"Result",objIn:"qoklm1bqp",objOut:"xi2t2o0u3"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"ecu8udm3k",uiAttribs:{},portsIn:[{name:"Path",value:"classicAddress"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Account",portOut:"Output",objIn:"0qv5jrwmf",objOut:"ecu8udm3k"},{portIn:"Destination",portOut:"Output",objIn:"pn9y4o9gx",objOut:"ecu8udm3k"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"m3ethq3ed",uiAttribs:{},portsIn:[{name:"Path",value:"seed"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Sender Secret Key",portOut:"Output",objIn:"pn9fyy2hf",objOut:"m3ethq3ed"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"96taazcqr",uiAttribs:{},portsIn:[{name:"Title",value:"receiver"}],objName:"Ops.Ui.Area"},{id:"ooeudp3dl",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"DEADC44C53CF48B3CFFAA9E6ACFBFEDCFCA2C3FAB27B74F9CC9E7B40DAA7655D"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"zplytqc3t",objOut:"ooeudp3dl"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"0572578h3",objOut:"ooeudp3dl"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"zplytqc3t",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0572578h3",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"gq4j9366w",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"kwcbolufa",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"09AFD32339838BDB7CF32143DA3E1166AB304700A0ACC4F616E03B7679812076"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"dirp07row",objOut:"kwcbolufa"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"v1gpgkh4l",objOut:"kwcbolufa"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"dirp07row",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"v1gpgkh4l",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"2og143qq8",uiAttribs:{},portsIn:[{name:"LimitAmount Value",value:"1000000"},{name:"QualityIn",value:0},{name:"QualityOut",value:0},{name:"Authorize Other Party",value:0},{name:"Enable No Ripple",value:0},{name:"Disable No Ripple",value:0},{name:"Freeze Trust Line",value:0},{name:"Unfreeze Trust Line",value:0}],portsOut:[{name:"Complete TrustSet Transaction",links:[{portIn:"Transaction",portOut:"Complete TrustSet Transaction",objIn:"kwcbolufa",objOut:"2og143qq8"},{portIn:"Object",portOut:"Complete TrustSet Transaction",objIn:"2whewkwga",objOut:"2og143qq8"}]}],objName:"Ops.User.rambodc.XRPL_TrustSet"},{id:"2whewkwga",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"h6rc3zdfe",uiAttribs:{},portsIn:[{name:"value",value:"RAZ"}],portsOut:[{name:"String",links:[{portIn:"LimitAmount Currency",portOut:"String",objIn:"gtmgtbnbb",objOut:"h6rc3zdfe"},{portIn:"LimitAmount Currency",portOut:"String",objIn:"2og143qq8",objOut:"h6rc3zdfe"},{portIn:"LimitAmount Currency",portOut:"String",objIn:"0qv5jrwmf",objOut:"h6rc3zdfe"},{portIn:"Currency Code",portOut:"String",objIn:"l6869gmsw",objOut:"h6rc3zdfe"},{portIn:"Currency Code",portOut:"String",objIn:"vj0zob7vb",objOut:"h6rc3zdfe"},{portIn:"Currency Code",portOut:"String",objIn:"pn9y4o9gx",objOut:"h6rc3zdfe"}]}],objName:"Ops.String.String_v2"},{id:"pn9fyy2hf",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"BEE45057A54F63483794A1A08AD0B2014345B6346DA38FBC4BDD74B9883F1A04"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"uxvpqihws",objOut:"pn9fyy2hf"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"qkdz5b8z3",objOut:"pn9fyy2hf"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"uxvpqihws",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"qkdz5b8z3",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0qv5jrwmf",uiAttribs:{},portsIn:[{name:"LimitAmount Value",value:"1000000"},{name:"QualityIn",value:0},{name:"QualityOut",value:0},{name:"Authorize Other Party",value:0},{name:"Enable No Ripple",value:0},{name:"Disable No Ripple",value:0},{name:"Freeze Trust Line",value:0},{name:"Unfreeze Trust Line",value:0}],portsOut:[{name:"Complete TrustSet Transaction",links:[{portIn:"Transaction",portOut:"Complete TrustSet Transaction",objIn:"pn9fyy2hf",objOut:"0qv5jrwmf"},{portIn:"Object",portOut:"Complete TrustSet Transaction",objIn:"fn3b1zbqt",objOut:"0qv5jrwmf"}]}],objName:"Ops.User.rambodc.XRPL_TrustSet"},{id:"fn3b1zbqt",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"6obbhhle6",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"41316B2A2722ED9B5D9A41DA266250CFA2A21D854EF48368DC8DC8D5C40C9A8B"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"orfip3p39",objOut:"6obbhhle6"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"tkqi34sdb",objOut:"6obbhhle6"}]},{name:"Error",value:""},{name:"Missing Fields",value:false}],objName:"Ops.User.rambodc.XRPL_SignTransaction1"},{id:"orfip3p39",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"tkqi34sdb",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"e1v68mvxp",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"7ojz3cxki",uiAttribs:{},portsIn:[{name:"JSON String",value:'\r\n{\r\n  "classicAddress": "rKEmMCPVjVjntP4Mn3nZf3oYYVgUpdqTSa",\r\n  "privateKey": "00518A89EEBAAA573FBE339E40287BE55F2683D7F32D9F1427481F6F912D30F1FD",\r\n  "publicKey": "0232A11901C081AA13B89B17086F6471B98E4D978B2F0F0658EED6EA18474098F5",\r\n  "seed": "sn76hTUWF3LbXeLR1WY5hEuEJcaqQ"\r\n}'}],portsOut:[{name:"Result",links:[{portIn:"XRPL Wallet",portOut:"Result",objIn:"n0b19v3rr",objOut:"7ojz3cxki"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"n0b19v3rr",uiAttribs:{},portsIn:[{name:"Switch Character",value:10}],objName:"Ops.User.rambodc.XRPL_SeedPrivKey"},{id:"pz9u6abw0",uiAttribs:{},portsIn:[{name:"Switch Character",value:10}],portsOut:[{name:"Updated Wallet Object",links:[{portIn:"Object",portOut:"Updated Wallet Object",objIn:"i6891x41n",objOut:"pz9u6abw0"},{portIn:"Object",portOut:"Updated Wallet Object",objIn:"7xhhcny1n",objOut:"pz9u6abw0"}]}],objName:"Ops.User.rambodc.XRPL_SeedPrivKey"},{id:"coi8vcbj5",uiAttribs:{},portsIn:[{name:"Switch Character",value:10}],portsOut:[{name:"Updated Wallet Object",links:[{portIn:"Object",portOut:"Updated Wallet Object",objIn:"okxsffc3f",objOut:"coi8vcbj5"},{portIn:"Object",portOut:"Updated Wallet Object",objIn:"8pcbap4w6",objOut:"coi8vcbj5"}]}],objName:"Ops.User.rambodc.XRPL_SeedPrivKey"},{id:"wd5gi0l8f",uiAttribs:{},portsIn:[{name:"Switch Character",value:10}],portsOut:[{name:"Updated Wallet Object",links:[{portIn:"Object",portOut:"Updated Wallet Object",objIn:"c747lszj7",objOut:"wd5gi0l8f"},{portIn:"Object",portOut:"Updated Wallet Object",objIn:"74j05oepg",objOut:"wd5gi0l8f"}]}],objName:"Ops.User.rambodc.XRPL_SeedPrivKey"},{id:"qoklm1bqp",uiAttribs:{},portsIn:[{name:"Switch Character",value:10}],portsOut:[{name:"Updated Wallet Object",links:[{portIn:"Object",portOut:"Updated Wallet Object",objIn:"ecu8udm3k",objOut:"qoklm1bqp"},{portIn:"Object",portOut:"Updated Wallet Object",objIn:"m3ethq3ed",objOut:"qoklm1bqp"}]}],objName:"Ops.User.rambodc.XRPL_SeedPrivKey"},{id:"b1lk8b9we",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"ljalo6qdi",objOut:"b1lk8b9we"},{portIn:"Object",portOut:"Value",objIn:"drb2rm023",objOut:"b1lk8b9we"},{portIn:"Object",portOut:"Value",objIn:"ia8v6vlw8",objOut:"b1lk8b9we"},{portIn:"Object",portOut:"Value",objIn:"4rokmkxcx",objOut:"b1lk8b9we"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"ljalo6qdi",uiAttribs:{},portsIn:[{name:"Path",value:"myFollowing"}],portsOut:[{name:"Output",links:[{portIn:"Object",portOut:"Output",objIn:"kcs8isoq2",objOut:"ljalo6qdi"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"kcs8isoq2",uiAttribs:{},portsIn:[{name:"Path",value:"following"}],portsOut:[{name:"Output",links:[{portIn:"Following",portOut:"Output",objIn:"b8a1dfjft",objOut:"kcs8isoq2"},{portIn:"Following",portOut:"Output",objIn:"uvnt6tp84",objOut:"kcs8isoq2"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetArrayByPath"},{id:"8af0vtljm",uiAttribs:{},portsIn:[{name:"Format",value:"Following  $a &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Followers $b <br>"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"khdud3lsh",objOut:"8af0vtljm"}]}],objName:"Ops.String.StringCompose_v3"},{id:"drb2rm023",uiAttribs:{},portsIn:[{name:"Path",value:"myFollowing.followingCount"}],portsOut:[{name:"Output",links:[{portIn:"Number",portOut:"Output",objIn:"2yyjqtsgy",objOut:"drb2rm023"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"ia8v6vlw8",uiAttribs:{},portsIn:[{name:"Path",value:"myFollowers.followersCount"}],portsOut:[{name:"Output",links:[{portIn:"Number",portOut:"Output",objIn:"zbmqwexrz",objOut:"ia8v6vlw8"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"zbmqwexrz",uiAttribs:{},portsIn:[{name:"Decimal Places",value:0}],portsOut:[{name:"Result",links:[{portIn:"String B",portOut:"Result",objIn:"8af0vtljm",objOut:"zbmqwexrz"}]}],objName:"Ops.String.NumberToString_v2"},{id:"2yyjqtsgy",uiAttribs:{},portsIn:[{name:"Decimal Places",value:0}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"8af0vtljm",objOut:"2yyjqtsgy"}]}],objName:"Ops.String.NumberToString_v2"},{id:"1lus10utv",uiAttribs:{},portsOut:[{name:"Redirect Path",links:[{portIn:"Value",portOut:"Redirect Path",objIn:"ark0afth5",objOut:"1lus10utv"}]}],objName:"Ops.User.rambodc.RedirectPath"},{id:"ark0afth5",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],objName:"Ops.Vars.VarSetString_v2"},{id:"25bctfqjn",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"1ovs04j4c",portOut:"Value",objIn:"buf350ket",objOut:"25bctfqjn"}]}],objName:"Ops.Vars.VarGetString"},{id:"pkcwj9xkh",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"1ovs04j4c",portOut:"Value",objIn:"60ihkungj",objOut:"pkcwj9xkh"}]}],objName:"Ops.Vars.VarGetString"},{id:"ezq45sp4e",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"1ovs04j4c",portOut:"Value",objIn:"2flnrvci7",objOut:"ezq45sp4e"}]}],objName:"Ops.Vars.VarGetString"},{id:"2kx2zmvgk",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"1ovs04j4c",portOut:"Value",objIn:"3tm7xti0l",objOut:"2kx2zmvgk"}]}],objName:"Ops.Vars.VarGetString"},{id:"npzcnxump",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/feed",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_npzcnxump"}],objName:"Ops.User.rambodc.SetURL"},{id:"xiazm649o",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signin",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_xiazm649o"}],objName:"Ops.User.rambodc.SetURL"},{id:"cch6cb1rb",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/daily",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_cch6cb1rb"}],objName:"Ops.User.rambodc.SetURL"},{id:"3th8deauk",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/email",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_3th8deauk"}],objName:"Ops.User.rambodc.SetURL"},{id:"05eevqwxv",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/password",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_05eevqwxv"}],objName:"Ops.User.rambodc.SetURL"},{id:"60ihkungj",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/password",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_60ihkungj"}],objName:"Ops.User.rambodc.SetURL"},{id:"3tm7xti0l",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signin",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_3tm7xti0l"}],objName:"Ops.User.rambodc.SetURL"},{id:"70i9eglbg",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/mypage",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_70i9eglbg"}],objName:"Ops.User.rambodc.SetURL"},{id:"xkkqj6w9h",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/feed",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_xkkqj6w9h"}],objName:"Ops.User.rambodc.SetURL"},{id:"aa7rna4la",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/assistant",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_aa7rna4la"}],objName:"Ops.User.rambodc.SetURL"},{id:"y8wu0gge8",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/history",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_y8wu0gge8"}],objName:"Ops.User.rambodc.SetURL"},{id:"zkl96qj24",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/settings",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_zkl96qj24"}],objName:"Ops.User.rambodc.SetURL"},{id:"2flnrvci7",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signin",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_2flnrvci7"}],objName:"Ops.User.rambodc.SetURL"},{id:"puqpm52oj",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/edit",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_puqpm52oj"}],objName:"Ops.User.rambodc.SetURL"},{id:"7xz70bs7q",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/0",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_7xz70bs7q"}],objName:"Ops.User.rambodc.SetURL"},{id:"buf350ket",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signup",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_buf350ket"}],objName:"Ops.User.rambodc.SetURL"},{id:"rqm3unqqw",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"1ovs04j4c",portOut:"Value",objIn:"4dnvku2g0",objOut:"rqm3unqqw"}]}],objName:"Ops.Vars.VarGetString"},{id:"4dnvku2g0",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signin",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_4dnvku2g0"}],objName:"Ops.User.rambodc.SetURL"},{id:"0f0lbnj6o",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Email"},{name:"Visible",value:1},{name:"Max Characters",value:100.4}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"lw5s9fkrp",objOut:"0f0lbnj6o"}]},{name:"Result",links:[{portIn:"value",portOut:"Result",objIn:"7f9d682f-c6db-44bf-82a0-62298f046084",objOut:"0f0lbnj6o"},{portIn:"Email",portOut:"Result",objIn:"5pqpiekcm",objOut:"0f0lbnj6o"}]},{name:"Focus",value:false},{name:"Has Changed",value:false},{name:"Is Valid",value:false}],objName:"Ops.User.rambodc.Email_Input_Sidebar"},{id:"ypweq8f8p",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Enter Your Email"},{name:"Visible",value:1},{name:"Max Characters",value:100.4}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"296jpna7y",objOut:"ypweq8f8p"}]},{name:"Result",links:[{portIn:"Email",portOut:"Result",objIn:"5a9jcq8em",objOut:"ypweq8f8p"},{portIn:"Email for Password Reset",portOut:"Result",objIn:"bcwhpct9w",objOut:"ypweq8f8p"}]},{name:"Focus",value:false},{name:"Has Changed",value:false},{name:"Is Valid",value:false}],objName:"Ops.User.rambodc.Email_Input_Sidebar"},{id:"zivrsa5wl",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Email"},{name:"Visible",value:1},{name:"Max Characters",value:100}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"dpgwoosd3",objOut:"zivrsa5wl"}]},{name:"Result",links:[{portIn:"Email",portOut:"Result",objIn:"rmdhenyuf",objOut:"zivrsa5wl"},{portIn:"Email for Sign Up",portOut:"Result",objIn:"8axprz1fp",objOut:"zivrsa5wl"}]},{name:"Focus",value:false},{name:"Has Changed",value:true},{name:"Is Valid",value:true}],objName:"Ops.User.rambodc.Email_Input_Sidebar"},{id:"lw5s9fkrp",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Password"},{name:"Visible",value:1},{name:"Max Characters",value:100}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"8fbrcfic0",objOut:"lw5s9fkrp"}]},{name:"Result",links:[{portIn:"value",portOut:"Result",objIn:"c4918a2b-c625-4114-b73c-98b4d22f20d2",objOut:"lw5s9fkrp"},{portIn:"Password",portOut:"Result",objIn:"xvni5g3il",objOut:"lw5s9fkrp"}]},{name:"Focus",value:false},{name:"Has Changed",value:false}],objName:"Ops.User.rambodc.TextInput_Password"},{id:"dpgwoosd3",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Create Password"},{name:"Visible",value:1},{name:"Max Characters",value:100}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"0j10kxuob",objOut:"dpgwoosd3"}]},{name:"Result",links:[{portIn:"Password",portOut:"Result",objIn:"fdb5f8x0a",objOut:"dpgwoosd3"},{portIn:"Password for Sign Up",portOut:"Result",objIn:"8axprz1fp",objOut:"dpgwoosd3"}]},{name:"Focus",value:false},{name:"Has Changed",value:true}],objName:"Ops.User.rambodc.TextInput_Password"},{id:"0praf0web",uiAttribs:{},portsIn:[{name:"Sort Ascending",value:0},{name:"Status Must Be",value:"completed"},{name:"Status Check",value:0}],portsOut:[{name:"Output Array",links:[{portIn:"Input Array",portOut:"Output Array",objIn:"ct1lcnav4",objOut:"0praf0web"}]}],objName:"Ops.User.rambodc.Post_Array1"},{id:"cafzh5j2e",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Message Razzberry..."},{name:"Visible",value:1},{name:"Max Characters",value:2e3},{name:"Height",value:100},{name:"Width",value:"100%"}],portsOut:[{name:"Children",links:[{portIn:"Parent Link",portOut:"Children",objIn:"8y43r43sn",objOut:"cafzh5j2e"}]},{name:"Result",links:[{portIn:"String Input 1",portOut:"Result",objIn:"7e3vnlkl6",objOut:"cafzh5j2e"},{portIn:"Message",portOut:"Result",objIn:"vioehe3dg",objOut:"cafzh5j2e"}]},{name:"Focus",value:false},{name:"Has Changed",value:false},{name:"Exceeded Max Characters",links:[{portIn:"Trigger animation",portOut:"Exceeded Max Characters",objIn:"2x2r7ipj3",objOut:"cafzh5j2e"}]}],objName:"Ops.User.rambodc.TextInputArea"},{id:"opsww6ejj",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"02t7hzmhk",title:"Visible"},{name:"gy342pc5t",value:"loading ..",title:"Short Msg"},{name:"tyq5lu94r",value:.5,title:"Delay False"},{name:"patchId",value:"bp2sub_opsww6ejj"}],objName:"Ops.User.rambodc.LoaderMsg"},{id:"69rnvtrdx",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"xgknqknhs",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "ipfs": "QmTqeqHHckZ2fm3HqnRzAJHWRfMiEwtf67UMr3zoaJwfMk",\n  "postId": "OQzNUbfLkr6cSHYRZdxO"\n}'}],portsOut:[{name:"Result",links:[{portIn:"Object",portOut:"Result",objIn:"oohhtmalq",objOut:"xgknqknhs"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"9tegshtdy",uiAttribs:{},portsIn:[{name:"CryptoJS CDN URL",value:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{name:"Hex Input",value:""}],portsOut:[{name:"Hex Output",links:[{portIn:"String",portOut:"Hex Output",objIn:"mk1bp5y15",objOut:"9tegshtdy"},{portIn:"String",portOut:"Hex Output",objIn:"rr1f8mlb8",objOut:"9tegshtdy"}]},{name:"Text Output",value:""},{name:"Text to Hex Error",value:""},{name:"Hex to Text Error",value:""}],objName:"Ops.User.rambodc.HexConverter"},{id:"oohhtmalq",uiAttribs:{},portsIn:[{name:"Beautify",value:1}],portsOut:[{name:"Result",links:[{portIn:"Text Input",portOut:"Result",objIn:"9tegshtdy",objOut:"oohhtmalq"}]},{name:"Error",value:0}],objName:"Ops.Json.ObjectStringify_v2"},{id:"mk1bp5y15",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:1},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"l6869gmsw",uiAttribs:{},portsIn:[{name:"Amount Value",value:"50000000000"},{name:"DestinationTag",value:0},{name:"InvoiceID",value:""},{name:"Memo Hex",value:""}],portsOut:[{name:"Complete Payment Transaction",links:[{portIn:"Transaction",portOut:"Complete Payment Transaction",objIn:"1xyv19cn3",objOut:"l6869gmsw"},{portIn:"Object",portOut:"Complete Payment Transaction",objIn:"gxrzah9ua",objOut:"l6869gmsw"}]}],objName:"Ops.User.rambodc.XRPL_Payment"},{id:"vj0zob7vb",uiAttribs:{},portsIn:[{name:"Amount Value",value:"1000000"},{name:"DestinationTag",value:0},{name:"InvoiceID",value:""},{name:"Memo Hex",value:""}],portsOut:[{name:"Complete Payment Transaction",links:[{portIn:"Transaction",portOut:"Complete Payment Transaction",objIn:"ooeudp3dl",objOut:"vj0zob7vb"},{portIn:"Object",portOut:"Complete Payment Transaction",objIn:"gq4j9366w",objOut:"vj0zob7vb"}]}],objName:"Ops.User.rambodc.XRPL_Payment"},{id:"pn9y4o9gx",uiAttribs:{},portsIn:[{name:"Amount Value",value:"1"},{name:"DestinationTag",value:0},{name:"InvoiceID",value:""},{name:"Memo Hex",value:""}],portsOut:[{name:"Complete Payment Transaction",links:[{portIn:"Transaction",portOut:"Complete Payment Transaction",objIn:"6obbhhle6",objOut:"pn9y4o9gx"},{portIn:"Object",portOut:"Complete Payment Transaction",objIn:"e1v68mvxp",objOut:"pn9y4o9gx"}]}],objName:"Ops.User.rambodc.XRPL_Payment"},{id:"6z3xpdafn",uiAttribs:{},portsIn:[{name:"DestinationTag",value:0},{name:"InvoiceID",value:""}],portsOut:[{name:"Complete Payment Transaction",links:[{portIn:"Object",portOut:"Complete Payment Transaction",objIn:"69rnvtrdx",objOut:"6z3xpdafn"}]}],objName:"Ops.User.rambodc.XRPL_Payment"},{id:"62mx0qbuo",uiAttribs:{},portsIn:[{name:"String",value:"e"}],portsOut:[{name:"Result",links:[{portIn:"Account",portOut:"Result",objIn:"6z3xpdafn",objOut:"62mx0qbuo"}]}],objName:"Ops.Trigger.TriggerString"},{id:"wmokg1vco",uiAttribs:{},portsIn:[{name:"String",value:"e"}],portsOut:[{name:"Result",links:[{portIn:"Destination",portOut:"Result",objIn:"6z3xpdafn",objOut:"wmokg1vco"}]}],objName:"Ops.Trigger.TriggerString"},{id:"e7s0lqij6",uiAttribs:{},portsIn:[{name:"String",value:"2"}],portsOut:[{name:"Result",links:[{portIn:"Amount Value",portOut:"Result",objIn:"6z3xpdafn",objOut:"e7s0lqij6"}]}],objName:"Ops.Trigger.TriggerString"},{id:"cfc6j0ck4",uiAttribs:{},portsIn:[{name:"String",value:"e"}],portsOut:[{name:"Result",links:[{portIn:"Currency Code",portOut:"Result",objIn:"6z3xpdafn",objOut:"cfc6j0ck4"}]}],objName:"Ops.Trigger.TriggerString"},{id:"vriet7b4k",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"fa25o17l3",objOut:"vriet7b4k"},{portIn:"Clear Fields",portOut:"Next",objIn:"6z3xpdafn",objOut:"vriet7b4k"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"so3ihzne9",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"62mx0qbuo",objOut:"so3ihzne9"},{portIn:"Trigger",portOut:"next",objIn:"wmokg1vco",objOut:"so3ihzne9"},{portIn:"Trigger",portOut:"next",objIn:"e7s0lqij6",objOut:"so3ihzne9"},{portIn:"Trigger",portOut:"next",objIn:"cfc6j0ck4",objOut:"so3ihzne9"},{portIn:"exe",portOut:"next",objIn:"txm8ty9ze",objOut:"so3ihzne9"},{portIn:"Trigger",portOut:"next",objIn:"rr1f8mlb8",objOut:"so3ihzne9"},{portIn:"Trigger",portOut:"next",objIn:"nav08cax8",objOut:"so3ihzne9"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"fa25o17l3",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"so3ihzne9",objOut:"fa25o17l3"},{portIn:"Text to Hex Trigger",portOut:"trigger",objIn:"9tegshtdy",objOut:"fa25o17l3"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"txm8ty9ze",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Add Payment Fields",portOut:"next",objIn:"6z3xpdafn",objOut:"txm8ty9ze"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"rr1f8mlb8",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Memo Hex",portOut:"Result",objIn:"6z3xpdafn",objOut:"rr1f8mlb8"}]}],objName:"Ops.Trigger.TriggerString"},{id:"nav08cax8",uiAttribs:{},portsIn:[{name:"String",value:"wewerwerwer"}],portsOut:[{name:"Result",links:[{portIn:"Issuer",portOut:"Result",objIn:"6z3xpdafn",objOut:"nav08cax8"}]}],objName:"Ops.Trigger.TriggerString"},{id:"mgnp7ctxb",uiAttribs:{},portsIn:[{name:"CryptoJS CDN URL",value:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{name:"Text Input",value:""}],portsOut:[{name:"Hex Output",value:"7b0a202020202269706673223a2022516d547165714848636b5a32666d3348716e527a414a485752664d69457774663637554d72337a6f614a77664d6b222c0a2020202022706f73744964223a20224f517a4e5562664c6b723663534859525a64784f220a7d"},{name:"Text Output",links:[{portIn:"String",portOut:"Text Output",objIn:"9o33v9ftc",objOut:"mgnp7ctxb"},{portIn:"JSON String",portOut:"Text Output",objIn:"8yk2dxtin",objOut:"mgnp7ctxb"}]},{name:"Text to Hex Error",value:""},{name:"Hex to Text Error",value:""}],objName:"Ops.User.rambodc.HexConverter"},{id:"iexndayan",uiAttribs:{},portsIn:[{name:"Transaction ID",value:"41316B2A2722ED9B5D9A41DA266250CFA2A21D854EF48368DC8DC8D5C40C9A8B"}],portsOut:[{name:"Transaction",links:[{portIn:"Object",portOut:"Transaction",objIn:"afdj48fn9",objOut:"iexndayan"}]},{name:"Error",value:""},{name:"Missing Fields",value:0}],objName:"Ops.User.rambodc.XRPL_tx"},{id:"e3t0duet3",uiAttribs:{},portsIn:[{name:"Variable",value:"wssSelect"}],portsOut:[{name:"Value",links:[{portIn:"WSS URL",portOut:"Value",objIn:"iexndayan",objOut:"e3t0duet3"}]}],objName:"Ops.Vars.VarGetString"},{id:"afdj48fn9",uiAttribs:{},portsIn:[{name:"Path",value:"Memos.0.Memo.MemoData"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Hex Input",portOut:"Output",objIn:"mgnp7ctxb",objOut:"afdj48fn9"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"9o33v9ftc",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:1},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"8yk2dxtin",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Object",portOut:"Result",objIn:"2ejhs76hw",objOut:"8yk2dxtin"}]},{name:"Valid",value:0}],objName:"Ops.Json.ParseObject_v2"},{id:"2ejhs76hw",uiAttribs:{},portsIn:[{name:"Path",value:"ipfs"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"urvfqit4z",objOut:"2ejhs76hw"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"urvfqit4z",uiAttribs:{},portsIn:[{name:"Format",value:"https://ipfs.io/ipfs/$a"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"URL",portOut:"Result",objIn:"dnab2ezk2",objOut:"urvfqit4z"}]}],objName:"Ops.String.StringCompose_v3"},{id:"dnab2ezk2",uiAttribs:{},portsIn:[{name:"Target Name",value:"_blank"},{name:"Specs",value:""}],objName:"Ops.Html.HyperLink_v2"},{id:"h6gixigy0",uiAttribs:{},portsIn:[{name:"Variable",value:"wssSelect"}],portsOut:[{name:"Value",links:[{portIn:"WSS URL",portOut:"Value",objIn:"rd1nesgrd",objOut:"h6gixigy0"}]}],objName:"Ops.Vars.VarGetString"},{id:"1qp7csghz",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"jeqjx5s85",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"dks9qtfrv",uiAttribs:{},portsIn:[{name:"value",value:"\0\t2%1\b%$3Z>![\t+C>X"}],portsOut:[{name:"String",links:[{portIn:"Input A",portOut:"String",objIn:"rd1nesgrd",objOut:"dks9qtfrv"}]}],objName:"Ops.String.String_v2"},{id:"cum6np714",uiAttribs:{},portsIn:[{name:"Account",value:"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky"},{name:"Destination",value:"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f"},{name:"Amount Value",value:"0.4"},{name:"Currency Code",value:"RAZ"},{name:"Issuer",value:"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj"},{name:"DestinationTag",value:0},{name:"InvoiceID",value:""},{name:"Memo Hex",value:""}],portsOut:[{name:"Complete Payment Transaction",links:[{portIn:"Object",portOut:"Complete Payment Transaction",objIn:"85tbxnn5j",objOut:"cum6np714"},{portIn:"Transaction",portOut:"Complete Payment Transaction",objIn:"rd1nesgrd",objOut:"cum6np714"}]}],objName:"Ops.User.rambodc.XRPL_Payment"},{id:"85tbxnn5j",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"ud87vwego",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"rd1nesgrd",uiAttribs:{},portsOut:[{name:"Transaction Hash",value:"C3CCE412D05435156E709F92C7EB1C5F3F58519B8C0C4EE7D9797E6F40B1D1CB"},{name:"Transaction Status",value:"tesSUCCESS"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"1qp7csghz",objOut:"rd1nesgrd"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"jeqjx5s85",objOut:"rd1nesgrd"}]},{name:"Error",value:""},{name:"Missing Fields",value:false},{name:"Has Been Triggered",links:[{portIn:"exe",portOut:"Has Been Triggered",objIn:"ud87vwego",objOut:"rd1nesgrd"}]}],objName:"Ops.User.rambodc.XRPL_SignTransaction2"},{id:"ksf9r25he",uiAttribs:{},portsIn:[{name:"Path",value:"key"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"0mtkkx8j1",objOut:"ksf9r25he"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"0mtkkx8j1",uiAttribs:{},portsIn:[{name:"Variable",value:"key"}],objName:"Ops.Vars.VarSetString_v2"},{id:"c91f04rxz",uiAttribs:{},portsIn:[{name:"Variable",value:"key"}],portsOut:[{name:"Value",links:[{portIn:"Input B",portOut:"Value",objIn:"rd1nesgrd",objOut:"c91f04rxz"}]}],objName:"Ops.Vars.VarGetString"},{id:"ovfma3uo9",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"qi3codjdc",objOut:"ovfma3uo9"},{portIn:"Add Payment Fields",portOut:"trigger",objIn:"cum6np714",objOut:"ovfma3uo9"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"qi3codjdc",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Trigger In",portOut:"next",objIn:"rd1nesgrd",objOut:"qi3codjdc"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"nqiqnoyhd",uiAttribs:{},portsIn:[{name:"Collection name",value:"conversation"},{name:"SubCollection name",value:"chats"}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Document Data",links:[{portIn:"Object",portOut:"Document Data",objIn:"024amrc1p",objOut:"nqiqnoyhd"},{portIn:"Object",portOut:"Document Data",objIn:"coblk9l8c",objOut:"nqiqnoyhd"},{portIn:"Object",portOut:"Document Data",objIn:"k4ug8ubi1",objOut:"nqiqnoyhd"}]},{name:"Connection Status",value:""},{name:"Connected",links:[{portIn:"exe",portOut:"Connected",objIn:"5268sanfe",objOut:"nqiqnoyhd"}]}],objName:"Ops.User.rambodc.FB_Listner"},{id:"j5sdt76dh",uiAttribs:{},portsIn:[{name:"Collection name",value:"users"},{name:"SubCollection name",value:""},{name:"SubDocument ID",value:""}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Document Data",links:[{portIn:"Object",portOut:"Document Data",objIn:"bvz4i724l",objOut:"j5sdt76dh"},{portIn:"Object",portOut:"Document Data",objIn:"escpjel73",objOut:"j5sdt76dh"}]},{name:"Connection Status",value:"Connected"},{name:"Connected",links:[{portIn:"exe",portOut:"Connected",objIn:"lp1cn9ykq",objOut:"j5sdt76dh"},{portIn:"exe",portOut:"Connected",objIn:"sd5nz1kdp",objOut:"j5sdt76dh"},{portIn:"exe",portOut:"Connected",objIn:"xt0alq44r",objOut:"j5sdt76dh"},{portIn:"exe",portOut:"Connected",objIn:"cacgpts8x",objOut:"j5sdt76dh"},{portIn:"exe",portOut:"Connected",objIn:"zh0ysvy2n",objOut:"j5sdt76dh"}]},{name:"Disconnected",links:[{portIn:"exe",portOut:"Disconnected",objIn:"brix3gfjs",objOut:"j5sdt76dh"}]},{name:"Document Does Not Exist",links:[{portIn:"exe",portOut:"Document Does Not Exist",objIn:"lo73laewt",objOut:"j5sdt76dh"},{portIn:"Execute",portOut:"Document Does Not Exist",objIn:"c508g7s1a",objOut:"j5sdt76dh"}]}],objName:"Ops.User.rambodc.FB_Listner"},{id:"dghnpz4bg",uiAttribs:{},portsOut:[{name:"Output Object",links:[{portIn:"Object",portOut:"Output Object",objIn:"bvz4i724l",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"2oag9sn6r",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"ksf9r25he",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"r3umhnfu8",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"8y446lww4",objOut:"dghnpz4bg"},{portIn:"Value",portOut:"Output Object",objIn:"b1cvy89vv",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"5wgbzmn2a",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"dtfhv6tm9",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"d2ktxp7cf",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"is5goenwk",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"agcwbfy0g",objOut:"dghnpz4bg"},{portIn:"data",portOut:"Output Object",objIn:"qr0tav0li",objOut:"dghnpz4bg"},{portIn:"Object",portOut:"Output Object",objIn:"knxfzxxnv",objOut:"dghnpz4bg"}]}],objName:"Ops.User.rambodc.Object_reset_auto"},{id:"0q1tazzkz",uiAttribs:{},portsIn:[{name:"JSON String",value:'{\n  "ipfs": "QmTqeqHHckZ2fm3HqnRzAJHWRfMiEwtf67UMr3zoaJwfMk",\n  "postId": "OQzNUbfLkr6cSHYRZdxO"\n}'}],portsOut:[{name:"Result",links:[{portIn:"Object",portOut:"Result",objIn:"ee3l9di1w",objOut:"0q1tazzkz"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"tetemtfih",uiAttribs:{},portsIn:[{name:"CryptoJS CDN URL",value:"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{name:"Hex Input",value:""}],portsOut:[{name:"Hex Output",value:""},{name:"Text Output",value:""},{name:"Text to Hex Error",value:""},{name:"Hex to Text Error",value:""}],objName:"Ops.User.rambodc.HexConverter"},{id:"ee3l9di1w",uiAttribs:{},portsIn:[{name:"Beautify",value:1}],portsOut:[{name:"Result",links:[{portIn:"Text Input",portOut:"Result",objIn:"tetemtfih",objOut:"ee3l9di1w"}]},{name:"Error",value:0}],objName:"Ops.Json.ObjectStringify_v2"},{id:"6ycu4g6bn",uiAttribs:{},portsIn:[{name:"Format",value:""},{name:"String A",value:""},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",value:""}],objName:"Ops.String.StringCompose_v3"},{id:"19auv8b79",uiAttribs:{},portsIn:[{name:"Format",value:"hello $a, $b $c und $d"},{name:"String A",value:""},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",value:"hello ,   und "}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"i5jtsf2oe",uiAttribs:{},portsIn:[{name:"Height",value:"5px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"z3hnzmgth",objOut:"i5jtsf2oe"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"knxfzxxnv",uiAttribs:{},portsIn:[{name:"Path",value:"totalRaz"}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"bzcarl4fv",objOut:"knxfzxxnv"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"bzcarl4fv",uiAttribs:{},portsIn:[{name:"Variable",value:"totalRaz"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"4i3ik4946",uiAttribs:{},portsIn:[{name:"Variable",value:"totalRaz"}],portsOut:[{name:"Value",links:[{portIn:"Number",portOut:"Value",objIn:"2ui7vj8bu",objOut:"4i3ik4946"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"umkmezs7l",uiAttribs:{},portsIn:[{name:"math mode index",value:1},{name:"math mode",value:"-"}],portsOut:[{name:"result",links:[{portIn:"Number",portOut:"result",objIn:"txtr12qmo",objOut:"umkmezs7l"}]}],objName:"Ops.Math.Math"},{id:"lzokknhkq",uiAttribs:{},portsIn:[{name:"Variable",value:"totalRaz"}],portsOut:[{name:"Value",links:[{portIn:"number 0",portOut:"Value",objIn:"umkmezs7l",objOut:"lzokknhkq"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"4c6pvra7v",uiAttribs:{},portsIn:[{name:"value",value:50}],portsOut:[{name:"result",links:[{portIn:"number 1",portOut:"result",objIn:"umkmezs7l",objOut:"4c6pvra7v"},{portIn:"Number",portOut:"result",objIn:"jaqsiumuo",objOut:"4c6pvra7v"}]}],objName:"Ops.Number.Number"},{id:"2ui7vj8bu",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"9lp1r9nvz",objOut:"2ui7vj8bu"}]}],objName:"Ops.String.NumberToString_v2"},{id:"sggljhq1z",uiAttribs:{},portsIn:[{name:"Variable",value:"environment"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"wlo2mcv99",uiAttribs:{},portsIn:[{name:"value",value:1}],portsOut:[{name:"result",links:[{portIn:"Value",portOut:"result",objIn:"sggljhq1z",objOut:"wlo2mcv99"}]}],objName:"Ops.Number.Number"},{id:"hu5kc97r4",uiAttribs:{},portsIn:[{name:"Title",value:"Set Environment"}],objName:"Ops.Ui.Area"},{id:"7xvkfk8pe",uiAttribs:{},portsIn:[{name:"Variable",value:"environment"}],portsOut:[{name:"Value",links:[{portIn:"Object Index",portOut:"Value",objIn:"zasnm96my",objOut:"7xvkfk8pe"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"g71xzp5q7",uiAttribs:{},portsIn:[{name:"String 0",value:""},{name:"String 1",value:"https://dev.razzberry.ai/"},{name:"String 2",value:"https://staging.razzberry.ai/"},{name:"String 3",value:"https://www.razzberry.ai/"},{name:"String 4",value:""},{name:"String 5",value:""},{name:"String 6",value:""},{name:"String 7",value:""},{name:"String 8",value:""},{name:"String 9",value:""}],portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"xlqumxp1j",objOut:"g71xzp5q7"}]}],objName:"Ops.String.SwitchString"},{id:"pvvvmluko",uiAttribs:{},portsIn:[{name:"Variable",value:"environment"}],portsOut:[{name:"Value",links:[{portIn:"Index",portOut:"Value",objIn:"g71xzp5q7",objOut:"pvvvmluko"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"xlqumxp1j",uiAttribs:{},portsIn:[{name:"Variable",value:"urlPath"}],objName:"Ops.Vars.VarSetString_v2"},{id:"anzihjhis",uiAttribs:{},portsIn:[{name:"Variable",value:"postRaz"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"ypt2alxyg",uiAttribs:{},portsIn:[{name:"Variable",value:"splitRaz"}],objName:"Ops.Vars.VarSetNumber_v2"},{id:"yjbtxumq7",uiAttribs:{},portsIn:[{name:"Title",value:"Set RAZ"}],objName:"Ops.Ui.Area"},{id:"ut7l7siqs",uiAttribs:{},portsIn:[{name:"Variable",value:"username"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"h7d0vs6u5",objOut:"ut7l7siqs"}]}],objName:"Ops.Vars.VarGetString"},{id:"h7d0vs6u5",uiAttribs:{},portsIn:[{name:"Format",value:"@$a "},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text Right",portOut:"Result",objIn:"p4vjs2ew6",objOut:"h7d0vs6u5"}]}],objName:"Ops.String.StringCompose_v3"},{id:"wibdd8ypr",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"cl248esqc",objOut:"wibdd8ypr"}]}],objName:"Ops.Json.ObjectIsNull"},{id:"cl248esqc",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Create",portOut:"Next",objIn:"zfjp3fncn",objOut:"cl248esqc"},{portIn:"Restart",portOut:"Next",objIn:"qxhqittdx",objOut:"cl248esqc"}]}],objName:"Ops.Boolean.TriggerChangedFalse"},{id:"xbrxh15gm",uiAttribs:{},portsIn:[{name:"Active",value:1},{name:"Silent",value:0},{name:"Allow Empty",value:0}],objName:"Ops.Website.SetLocationHash"},{id:"o5rowyi6f",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"Update",portOut:"then",objIn:"xbrxh15gm",objOut:"o5rowyi6f"}]},{name:"else",links:[{portIn:"n6dz5ut5m",portOut:"else",objIn:"npzcnxump",objOut:"o5rowyi6f"},{portIn:"exe",portOut:"else",objIn:"c44sdxvvu",objOut:"o5rowyi6f"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"gh5xsopey",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"String",portOut:"Value",objIn:"73qjf2jto",objOut:"gh5xsopey"}]}],objName:"Ops.Vars.VarGetString"},{id:"73qjf2jto",uiAttribs:{},portsIn:[{name:"Search For",value:"/redirect"},{name:"Replace",value:""},{name:"Replace What index",value:0},{name:"Replace What",value:"All"}],portsOut:[{name:"Result",links:[{portIn:"Hash",portOut:"Result",objIn:"xbrxh15gm",objOut:"73qjf2jto"}]}],objName:"Ops.String.StringReplace"},{id:"5liusv1lw",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"String",portOut:"Value",objIn:"r5olehj6a",objOut:"5liusv1lw"}]}],objName:"Ops.Vars.VarGetString"},{id:"r5olehj6a",uiAttribs:{},portsIn:[{name:"Invalid if null",value:1},{name:"Invalid if undefined",value:1},{name:"Invalid if empty",value:1},{name:"Invalid if 0",value:1}],portsOut:[{name:"Last Valid String",value:"/redirect/c/post/Y0SontW0KWmtxqcIBqcz"},{name:"Is Valid",links:[{portIn:"boolean",portOut:"Is Valid",objIn:"o5rowyi6f",objOut:"r5olehj6a"}]}],objName:"Ops.String.FilterValidString"},{id:"z83y8j6be",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/feed",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_z83y8j6be"}],objName:"Ops.User.rambodc.SetURL"},{id:"f4wwqdhj5",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"String",portOut:"Value",objIn:"1320zw3i9",objOut:"f4wwqdhj5"}]}],objName:"Ops.Vars.VarGetString"},{id:"1320zw3i9",uiAttribs:{},portsIn:[{name:"Invalid if null",value:1},{name:"Invalid if undefined",value:1},{name:"Invalid if empty",value:1},{name:"Invalid if 0",value:1}],portsOut:[{name:"Last Valid String",value:"/redirect/c/post/Y0SontW0KWmtxqcIBqcz"},{name:"Is Valid",links:[{portIn:"boolean",portOut:"Is Valid",objIn:"sehw6fpa5",objOut:"1320zw3i9"}]}],objName:"Ops.String.FilterValidString"},{id:"e13vsd9di",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/b",title:"Directory 1"},{name:"t9sx2ey0f",value:"/feed",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_e13vsd9di"}],objName:"Ops.User.rambodc.SetURL"},{id:"s10edmzq9",uiAttribs:{},portsIn:[{name:"Active",value:1},{name:"Silent",value:0},{name:"Allow Empty",value:0}],objName:"Ops.Website.SetLocationHash"},{id:"1jd9gwwrl",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"Update",portOut:"then",objIn:"s10edmzq9",objOut:"1jd9gwwrl"}]},{name:"else",links:[{portIn:"n6dz5ut5m",portOut:"else",objIn:"e13vsd9di",objOut:"1jd9gwwrl"},{portIn:"exe",portOut:"else",objIn:"5l43d0ex7",objOut:"1jd9gwwrl"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"jlipbqfi9",uiAttribs:{},portsIn:[{name:"Search For",value:"/redirect"},{name:"Replace",value:""},{name:"Replace What index",value:0},{name:"Replace What",value:"All"}],portsOut:[{name:"Result",links:[{portIn:"Hash",portOut:"Result",objIn:"s10edmzq9",objOut:"jlipbqfi9"}]}],objName:"Ops.String.StringReplace"},{id:"uc7vavfzm",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"String",portOut:"Value",objIn:"eul7nz7xe",objOut:"uc7vavfzm"},{portIn:"String",portOut:"Value",objIn:"jlipbqfi9",objOut:"uc7vavfzm"}]}],objName:"Ops.Vars.VarGetString"},{id:"eul7nz7xe",uiAttribs:{},portsIn:[{name:"Invalid if null",value:1},{name:"Invalid if undefined",value:1},{name:"Invalid if empty",value:1},{name:"Invalid if 0",value:1}],portsOut:[{name:"Last Valid String",value:"/redirect/c/post/Y0SontW0KWmtxqcIBqcz"},{name:"Is Valid",links:[{portIn:"boolean",portOut:"Is Valid",objIn:"1jd9gwwrl",objOut:"eul7nz7xe"}]}],objName:"Ops.String.FilterValidString"},{id:"99lxfffg3",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"Value",portOut:"Value",objIn:"3j7bbgtlg",objOut:"99lxfffg3"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"3j7bbgtlg",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"cexixbohi",objOut:"3j7bbgtlg"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"33kz3b134",uiAttribs:{},portsIn:[{name:"Collection name",value:"users"},{name:"Subcollection name",value:""},{name:"Subdocument ID",value:""}],portsOut:[{name:"Error",value:0},{name:"Error Message"},{name:"Document Not Found",links:[{portIn:"Value",portOut:"Document Not Found",objIn:"7nvwzfc7d",objOut:"33kz3b134"}]},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"jt60pfls8",objOut:"33kz3b134"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"tdc3lirgw",objOut:"33kz3b134"}]}],objName:"Ops.User.rambodc.FBGetOneDocument1"},{id:"j9a260jfe",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"Document ID",portOut:"Value",objIn:"33kz3b134",objOut:"j9a260jfe"}]}],objName:"Ops.Vars.VarGetString"},{id:"jt60pfls8",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"tdc3lirgw",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"7nvwzfc7d",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"t3eigiyg3",objOut:"7nvwzfc7d"},{portIn:"Trigger",portOut:"Next",objIn:"5ubgt0txo",objOut:"7nvwzfc7d"},{portIn:"exe",portOut:"Next",objIn:"9h3twkwkb",objOut:"7nvwzfc7d"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"cexixbohi",uiAttribs:{},portsIn:[{name:"delay",value:2}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"33kz3b134",objOut:"cexixbohi"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"lzgu3n7xp",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Trigger",portOut:"Next",objIn:"33kz3b134",objOut:"lzgu3n7xp"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"t3eigiyg3",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"nq3o2pyc9",uiAttribs:{},portsIn:[{name:"value",value:""}],portsOut:[{name:"String",value:""}],objName:"Ops.String.String_v2"},{id:"9lsfkzl1w",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/a",title:"Directory 1"},{name:"t9sx2ey0f",value:"/signin",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_9lsfkzl1w"}],objName:"Ops.User.rambodc.SetURL"},{id:"lwo121gjt",uiAttribs:{},portsIn:[{name:"delay",value:.5}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"7e65295e-e6db-4fe8-b9fd-7ade498d69df",objOut:"lwo121gjt"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"hj0yaaxcz",uiAttribs:{},portsIn:[{name:"Height",value:"50px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"z9zh5ey15",objOut:"hj0yaaxcz"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"512huv54e",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"wqfjus7l5",objOut:"512huv54e"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"2comb3zfw",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"First Name"},{name:"Visible",value:1},{name:"Max Characters",value:100}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"x2omvxize",objOut:"2comb3zfw"}]},{name:"Result",links:[{portIn:"String Input 1",portOut:"Result",objIn:"xzrno87zw",objOut:"2comb3zfw"},{portIn:"value",portOut:"Result",objIn:"6f91lbjer",objOut:"2comb3zfw"}]},{name:"Focus",value:false},{name:"Has Changed",value:true}],objName:"Ops.User.rambodc.TextInput_Custom1"},{id:"x2omvxize",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Last Name"},{name:"Visible",value:1},{name:"Max Characters",value:100}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"zivrsa5wl",objOut:"x2omvxize"}]},{name:"Result",links:[{portIn:"String Input 2",portOut:"Result",objIn:"xzrno87zw",objOut:"x2omvxize"},{portIn:"value",portOut:"Result",objIn:"ursnfyfay",objOut:"x2omvxize"}]},{name:"Focus",value:false},{name:"Has Changed",value:true}],objName:"Ops.User.rambodc.TextInput_Custom1"},{id:"reitpim8m",uiAttribs:{},portsIn:[{name:"delay",value:2}],portsOut:[{name:"next",links:[{portIn:"exe",portOut:"next",objIn:"nbkyeeb78",objOut:"reitpim8m"},{portIn:"Trigger Query",portOut:"next",objIn:"svtqngjao",objOut:"reitpim8m"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"d93cw6hud",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"Value",portOut:"Value",objIn:"4dg6e8kia",objOut:"d93cw6hud"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"4dg6e8kia",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"reitpim8m",objOut:"4dg6e8kia"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"4rokmkxcx",uiAttribs:{},portsIn:[{name:"Path",value:"myFollowers"}],portsOut:[{name:"Output",links:[{portIn:"Object",portOut:"Output",objIn:"wd34yyfyv",objOut:"4rokmkxcx"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"wd34yyfyv",uiAttribs:{},portsIn:[{name:"Path",value:"followers"}],portsOut:[{name:"Output",links:[{portIn:"Followers",portOut:"Output",objIn:"b8a1dfjft",objOut:"wd34yyfyv"},{portIn:"Followers",portOut:"Output",objIn:"uvnt6tp84",objOut:"wd34yyfyv"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetArrayByPath"},{id:"8ubnc2eet",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"svtqngjao",objOut:"8ubnc2eet"}]}],objName:"Ops.Vars.VarGetString"},{id:"ph80dzfng",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"6rnmoird2",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"o0bjb78yd",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"Next Trigger",portOut:"next",objIn:"svtqngjao",objOut:"o0bjb78yd"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"2cb0od6kq",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"jw7c980sc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"eqdm1dxnn",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"nce9p4q1p",objOut:"eqdm1dxnn"},{portIn:"tkjeqas9u",portOut:"Next",objIn:"sg1bp4ikr",objOut:"eqdm1dxnn"}]},{name:"Result",links:[{portIn:"c5w4ricnn",portOut:"Result",objIn:"sg1bp4ikr",objOut:"eqdm1dxnn"}]}],objName:"Ops.Trigger.TriggerString"},{id:"nbkyeeb78",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"svtqngjao",uiAttribs:{},portsIn:[{name:"Query Expiry (seconds)",value:10}],portsOut:[{name:"Post ID",links:[{portIn:"String",portOut:"Post ID",objIn:"eqdm1dxnn",objOut:"svtqngjao"}]},{name:"Number of Records Fetched",value:3},{name:"Current Record Number",value:1},{name:"Found Doc",links:[{portIn:"exe",portOut:"Found Doc",objIn:"ph80dzfng",objOut:"svtqngjao"},{portIn:"exe",portOut:"Found Doc",objIn:"8gdw98jy0",objOut:"svtqngjao"}]},{name:"Not Found Doc",links:[{portIn:"exe",portOut:"Not Found Doc",objIn:"6rnmoird2",objOut:"svtqngjao"}]},{name:"Doc Next Found",links:[{portIn:"exe",portOut:"Doc Next Found",objIn:"2cb0od6kq",objOut:"svtqngjao"},{portIn:"exe",portOut:"Doc Next Found",objIn:"8gdw98jy0",objOut:"svtqngjao"}]},{name:"Doc Next Not Found",links:[{portIn:"exe",portOut:"Doc Next Not Found",objIn:"jw7c980sc",objOut:"svtqngjao"}]},{name:"Error Message",value:"Error fetching documents: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/razz5-14781/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9yYXp6NS0xNDc4MS9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcG9zdEFjdGlvbnMvaW5kZXhlcy9fEAEaDQoJZm9sbG93ZXJzGAEaDgoKaXNBcmNoaXZlZBABGgoKBnN0YXR1cxABGg0KCWNyZWF0ZWRBdBACGgwKCF9fbmFtZV9fEAI"}],objName:"Ops.User.rambodc.FB_Feed1"},{id:"81vwop3ms",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Boolean",portOut:"Result",objIn:"ozzj83ub5",objOut:"81vwop3ms"}]}],objName:"Ops.Json.ObjectIsNull"},{id:"z6kadpek3",uiAttribs:{},objName:"Ops.Boolean.TriggerChangedTrue"},{id:"ozzj83ub5",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"oiwv2sjdm",objOut:"ozzj83ub5"},{portIn:"Value",portOut:"Result",objIn:"z6kadpek3",objOut:"ozzj83ub5"},{portIn:"ktz8ivcyy",portOut:"Result",objIn:"sg1bp4ikr",objOut:"ozzj83ub5"}]}],objName:"Ops.Boolean.Not"},{id:"6nc44r64u",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"String",portOut:"String",objIn:"orda608wz",objOut:"6nc44r64u"}]}],objName:"Ops.String.String_v2"},{id:"qg6dty4qb",uiAttribs:{},portsIn:[{name:"Variable",value:"followingUid"}],objName:"Ops.Vars.VarSetString_v2"},{id:"orda608wz",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"slgijqcv0",objOut:"orda608wz"}]},{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"qg6dty4qb",objOut:"orda608wz"}]}],objName:"Ops.Trigger.TriggerString"},{id:"out6pu7b4",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"orda608wz",objOut:"out6pu7b4"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"slgijqcv0",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"0q9ca71xb",objOut:"slgijqcv0"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"0q9ca71xb",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"follow"}],objName:"Ops.Trigger.TriggerSend"},{id:"30b2uszet",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0ndombcq2",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0ye5owiiv",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"zd46qtg65",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"lravut3vc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0mxizy1ci",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"a9ferrl5d",uiAttribs:{},portsIn:[{name:"Title",value:"Follow"}],objName:"Ops.Ui.Area"},{id:"dhe1q2asx",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: rgba(1,1,1,0.3);\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"h0intmiov",uiAttribs:{},portsIn:[{name:"Text",value:"Following "},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: rgba(1,1,1,0.3);\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:0},{name:"Hold ",value:1},{name:"Fade out",value:0},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"3njdx7v35",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],portsOut:[{name:"Value",links:[{portIn:"IP",portOut:"Value",objIn:"dlcrecen5",objOut:"3njdx7v35"}]}],objName:"Ops.Vars.VarGetString"},{id:"g4reqb2m9",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"Timezone",portOut:"Value",objIn:"dlcrecen5",objOut:"g4reqb2m9"}]}],objName:"Ops.Vars.VarGetString"},{id:"7g65o1pxs",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],portsOut:[{name:"Value",links:[{portIn:"IPv6",portOut:"Value",objIn:"dlcrecen5",objOut:"7g65o1pxs"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"x8av019n7",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"dlcrecen5",objOut:"x8av019n7"}]}],objName:"Ops.Vars.VarGetString"},{id:"uc0qg5v42",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Parameters",portOut:"Result",objIn:"dlcrecen5",objOut:"uc0qg5v42"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"f549vm9rt",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "followingUid": "$a"\n}\n'},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"uc0qg5v42",objOut:"f549vm9rt"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"4cwovu0rz",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger Create FunctionCall",portOut:"next",objIn:"dlcrecen5",objOut:"4cwovu0rz"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"f35ts146f",uiAttribs:{},portsIn:[{name:"Variable",value:"userStatus"}],portsOut:[{name:"Value",links:[{portIn:"User Status",portOut:"Value",objIn:"dlcrecen5",objOut:"f35ts146f"}]}],objName:"Ops.Vars.VarGetString"},{id:"xl9g56men",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vc2xs1g3q",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"o5d1hr3vm",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"4cwovu0rz",objOut:"o5d1hr3vm"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"kry5a06jr",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"0zy36zbwu",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"7o7n9vd23",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"x3gv69uwh",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"g2jbef1xc",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"8jjpa341c",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"ke3cf3528",uiAttribs:{},portsIn:[{name:"Title",value:"Unfollow"}],objName:"Ops.Ui.Area"},{id:"s1jlk9qse",uiAttribs:{},portsIn:[{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: rgba(1,1,1,0.3);\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:5},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"279bxbjyn",uiAttribs:{},portsIn:[{name:"Text",value:"Unfollowed"},{name:"Class",value:""},{name:"Style",value:"visibility: hidden;\nbackground-color: rgba(1,1,1,0.3);\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 999999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"},{name:"Active",value:1},{name:"Convert Line Breaks",value:0},{name:"Fade in",value:.5},{name:"Hold ",value:1},{name:"Fade out",value:.8},{name:"mode index",value:0},{name:"mode",value:"%"},{name:"Side index",value:0},{name:"Side",value:"bottom"},{name:"Starting position",value:0},{name:"Ending position",value:5}],portsOut:[{name:"Finished",value:true}],objName:"Ops.Html.Notification"},{id:"66pc3yhjj",uiAttribs:{},portsIn:[{name:"Variable",value:"ip"}],portsOut:[{name:"Value",links:[{portIn:"IP",portOut:"Value",objIn:"o459j9bpo",objOut:"66pc3yhjj"}]}],objName:"Ops.Vars.VarGetString"},{id:"umlvieaav",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"Timezone",portOut:"Value",objIn:"o459j9bpo",objOut:"umlvieaav"}]}],objName:"Ops.Vars.VarGetString"},{id:"di185wko4",uiAttribs:{},portsIn:[{name:"Variable",value:"ipv6"}],portsOut:[{name:"Value",links:[{portIn:"IPv6",portOut:"Value",objIn:"o459j9bpo",objOut:"di185wko4"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"ajzyg0bli",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"UID",portOut:"Value",objIn:"o459j9bpo",objOut:"ajzyg0bli"}]}],objName:"Ops.Vars.VarGetString"},{id:"4z5la6r5r",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Parameters",portOut:"Result",objIn:"o459j9bpo",objOut:"4z5la6r5r"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"m0ph44lxs",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger Create FunctionCall",portOut:"next",objIn:"o459j9bpo",objOut:"m0ph44lxs"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"9l9avcele",uiAttribs:{},portsIn:[{name:"Variable",value:"userStatus"}],portsOut:[{name:"Value",links:[{portIn:"User Status",portOut:"Value",objIn:"o459j9bpo",objOut:"9l9avcele"}]}],objName:"Ops.Vars.VarGetString"},{id:"7oidfhj7c",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"tntpej184",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"98hfj4f6w",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"exe",portOut:"trigger",objIn:"m0ph44lxs",objOut:"98hfj4f6w"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"ssy6m2sqf",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"02t7hzmhk",title:"Visible"},{name:"gy342pc5t",value:"In Progress..",title:"Short Msg"},{name:"tyq5lu94r",value:0,title:"Delay False"},{name:"patchId",value:"bp2sub_ssy6m2sqf"}],objName:"Ops.User.rambodc.LoaderMsg2"},{id:"508u7ft2f",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"02t7hzmhk",title:"Visible"},{name:"gy342pc5t",value:"In Progress..",title:"Short Msg"},{name:"tyq5lu94r",value:0,title:"Delay False"},{name:"patchId",value:"bp2sub_508u7ft2f"}],objName:"Ops.User.rambodc.LoaderMsg2"},{id:"sz73wb1fm",uiAttribs:{},portsIn:[{name:"Variable",value:"followingUid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"f549vm9rt",objOut:"sz73wb1fm"}]}],objName:"Ops.Vars.VarGetString"},{id:"vfwkz640m",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"follow"}],portsOut:[{name:"Triggered",links:[{portIn:"exe",portOut:"Triggered",objIn:"o5d1hr3vm",objOut:"vfwkz640m"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"yoamuksnx",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"unfollow"}],portsOut:[{name:"Triggered",links:[{portIn:"exe",portOut:"Triggered",objIn:"98hfj4f6w",objOut:"yoamuksnx"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"lxi7s6z3d",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"f549vm9rt",objOut:"lxi7s6z3d"}]}],objName:"Ops.Vars.VarGetString"},{id:"ytg3pxweb",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "followingUid": "$a"\n}\n'},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"4z5la6r5r",objOut:"ytg3pxweb"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"shbuhdz43",uiAttribs:{},portsIn:[{name:"Variable",value:"followingUid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"ytg3pxweb",objOut:"shbuhdz43"}]}],objName:"Ops.Vars.VarGetString"},{id:"v6csjy93g",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"ytg3pxweb",objOut:"v6csjy93g"}]}],objName:"Ops.Vars.VarGetString"},{id:"qxhqittdx",uiAttribs:{},portsIn:[{name:"text",value:"Upload Media "},{name:"Speed",value:300},{name:"Speed Variation",value:0},{name:"Show Cursor",value:0},{name:"Active",value:1}],portsOut:[{name:"Result",links:[{portIn:"String B",portOut:"Result",objIn:"m8ggtwpwg",objOut:"qxhqittdx"}]}],objName:"Ops.User.rambodc.StringTypeAnimationFix1"},{id:"m8ggtwpwg",uiAttribs:{},portsIn:[{name:"Format",value:"$b"},{name:"String A",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"o6itdb8aj",objOut:"m8ggtwpwg"}]}],objName:"Ops.String.StringCompose_v3"},{id:"ix91io0ad",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"3f09dwigd",objOut:"ix91io0ad"}]}],objName:"Ops.Sidebar.Group"},{id:"e61z2hqhu",uiAttribs:{},portsIn:[{name:"Delay True",value:.3},{name:"Delay False",value:0}],portsOut:[{name:"Out Value",links:[{portIn:"Visible",portOut:"Out Value",objIn:"ix91io0ad",objOut:"e61z2hqhu"},{portIn:"Value",portOut:"Out Value",objIn:"0w2zom9f9",objOut:"e61z2hqhu"}]}],objName:"Ops.Boolean.DelayBooleanSimple"},{id:"qamyw15pd",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Boolean",portOut:"Result",objIn:"8hdv689jb",objOut:"qamyw15pd"}]}],objName:"Ops.Json.ObjectIsNull"},{id:"8hdv689jb",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"e61z2hqhu",objOut:"8hdv689jb"}]}],objName:"Ops.Boolean.Not"},{id:"0w2zom9f9",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Create",portOut:"Next",objIn:"zfjp3fncn",objOut:"0w2zom9f9"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"ohn7w6liz",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"n6dz5ut5m",portOut:"trigger",objIn:"noujyy7ll",objOut:"ohn7w6liz"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"noujyy7ll",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/search",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_noujyy7ll"}],objName:"Ops.User.rambodc.SetURL"},{id:"939r9rcjx",uiAttribs:{},portsIn:[{name:"Path",value:"myPosts.myPostCount"}],portsOut:[{name:"Output",links:[{portIn:"Number",portOut:"Output",objIn:"pug77u8x3",objOut:"939r9rcjx"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"pug77u8x3",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"wzcjt8y7i",objOut:"pug77u8x3"}]}],objName:"Ops.String.NumberToString_v2"},{id:"wzcjt8y7i",uiAttribs:{},portsIn:[{name:"Format",value:"$a Posts"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Button Text Right",portOut:"Result",objIn:"y01zzlcxn",objOut:"wzcjt8y7i"}]}],objName:"Ops.String.StringCompose_v3"},{id:"qw7gjyzmu",uiAttribs:{},portsIn:[{name:"Text",value:"Show More.."},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 50px"},{name:"Margin",value:"22px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"14px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.1)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Pressed Trigger",links:[{portIn:"Trigger",portOut:"Pressed Trigger",objIn:"ykr8sfa30",objOut:"qw7gjyzmu"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"99pi3bbg0",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"next",links:[{portIn:"Link",portOut:"next",objIn:"s963y6rxe",objOut:"99pi3bbg0"}]},{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"qw7gjyzmu",objOut:"99pi3bbg0"}]}],objName:"Ops.Sidebar.Group"},{id:"ykr8sfa30",uiAttribs:{},portsIn:[{name:"Starting Number",value:10},{name:"Increment Number",value:10}],portsOut:[{name:"Accumulated Number",links:[{portIn:"First Page Number",portOut:"Accumulated Number",objIn:"uvnt6tp84",objOut:"ykr8sfa30"}]}],objName:"Ops.User.rambodc.Accumulator1"},{id:"x9u43uifo",uiAttribs:{},portsIn:[{name:"Collection name",value:"users"},{name:"Use Query",value:1},{name:"Query Field",value:"totalRaz"},{name:"Query Operator index",value:3},{name:"Query Operator",value:">"},{name:"Query Value As index",value:1},{name:"Query Value As",value:"Number"},{name:"Query Value String",value:""},{name:"Query Value Number",value:49},{name:"Query Value Boolean",value:0},{name:"Query Value Array",value:0},{name:"Filter On or Off",value:0},{name:"Filter Key",value:""},{name:"Value Must Be",value:""}],portsOut:[{name:"Error Message",value:""},{name:"Document Not Found",value:false},{name:"Documents",links:[{portIn:"Query",portOut:"Documents",objIn:"b8a1dfjft",objOut:"x9u43uifo"}]}],objName:"Ops.User.rambodc.FBQueryAllDocuments1"},{id:"e0l4aa13h",uiAttribs:{},portsOut:[{name:"String",links:[{portIn:"String",portOut:"String",objIn:"fjyh52kry",objOut:"e0l4aa13h"}]}],objName:"Ops.String.String_v2"},{id:"4qgnl4v05",uiAttribs:{},portsIn:[{name:"Variable",value:"followingUid"}],objName:"Ops.Vars.VarSetString_v2"},{id:"fjyh52kry",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"1icwhpgr9",objOut:"fjyh52kry"}]},{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"4qgnl4v05",objOut:"fjyh52kry"}]}],objName:"Ops.Trigger.TriggerString"},{id:"a704gqq44",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"fjyh52kry",objOut:"a704gqq44"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"1icwhpgr9",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"icznxt3ho",objOut:"1icwhpgr9"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"icznxt3ho",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"follow"}],objName:"Ops.Trigger.TriggerSend"},{id:"fiz0kja27",uiAttribs:{},portsIn:[{name:"Text",value:"Show More.."},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Background Color",value:"rgba(255, 255, 255, 0.0)"},{name:"Text Color",value:"#000000"},{name:"Padding",value:"10px 50px"},{name:"Margin",value:"22px"},{name:"Border Radius",value:"5px"},{name:"Font Weight",value:"normal"},{name:"Font Size",value:"14px"},{name:"CSS Class",value:"unique-sidebar-button"},{name:"Hover Background Color",value:"rgba(255, 255, 255, 0.1)"},{name:"Hover Text Color",value:"#333333"},{name:"Border Width",value:"0px"},{name:"Border Color",value:"#000000"}],portsOut:[{name:"Pressed Trigger",links:[{portIn:"Trigger",portOut:"Pressed Trigger",objIn:"inzv0bm2p",objOut:"fiz0kja27"}]}],objName:"Ops.User.rambodc.button_customize"},{id:"dmyx0l82z",uiAttribs:{},portsIn:[{name:"Text",value:""},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"next",links:[{portIn:"Link",portOut:"next",objIn:"ctnsxalj6",objOut:"dmyx0l82z"}]},{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"fiz0kja27",objOut:"dmyx0l82z"}]}],objName:"Ops.Sidebar.Group"},{id:"ctnsxalj6",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"32dt46jjg",objOut:"ctnsxalj6"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"inzv0bm2p",uiAttribs:{},portsIn:[{name:"Starting Number",value:10},{name:"Increment Number",value:10}],portsOut:[{name:"Accumulated Number",links:[{portIn:"First Page Number",portOut:"Accumulated Number",objIn:"b8a1dfjft",objOut:"inzv0bm2p"}]}],objName:"Ops.User.rambodc.Accumulator1"},{id:"sdyatliqj",uiAttribs:{},portsIn:[{name:"Variable",value:"timezone"}],portsOut:[{name:"Value",links:[{portIn:"Text Right",portOut:"Value",objIn:"nswhx193m",objOut:"sdyatliqj"}]}],objName:"Ops.Vars.VarGetString"},{id:"kpmxffd64",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"Self UID",portOut:"Value",objIn:"b8a1dfjft",objOut:"kpmxffd64"}]}],objName:"Ops.Vars.VarGetString"},{id:"s963y6rxe",uiAttribs:{},portsIn:[{name:"Height",value:"2px"}],portsOut:[{name:"Children",links:[{portIn:"Link",portOut:"Children",objIn:"b8a1dfjft",objOut:"s963y6rxe"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"3rv6o9oqe",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"Value",portOut:"Value",objIn:"2lu3lmi4u",objOut:"3rv6o9oqe"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"2lu3lmi4u",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"oj3nrb876",objOut:"2lu3lmi4u"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"oj3nrb876",uiAttribs:{},portsIn:[{name:"delay",value:2}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"x9u43uifo",objOut:"oj3nrb876"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"mda9ldqfj",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/user",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_mda9ldqfj"}],objName:"Ops.User.rambodc.SetURL"},{id:"v6unogdfd",uiAttribs:{},portsIn:[{name:"Format",value:"/$a"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"1ovs04j4c",portOut:"Result",objIn:"mda9ldqfj",objOut:"v6unogdfd"}]}],objName:"Ops.String.StringCompose_v3"},{id:"h6ocpv2dj",uiAttribs:{},portsIn:[{name:"Path",value:"uid"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"v6unogdfd",objOut:"h6ocpv2dj"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"1n7t8cm00",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Trigger",portOut:"Next",objIn:"x9u43uifo",objOut:"1n7t8cm00"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"rs2f8i73u",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/user",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_rs2f8i73u"}],objName:"Ops.User.rambodc.SetURL"},{id:"kn7n8paxg",uiAttribs:{},portsIn:[{name:"Format",value:"/$a"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"1ovs04j4c",portOut:"Result",objIn:"rs2f8i73u",objOut:"kn7n8paxg"}]}],objName:"Ops.String.StringCompose_v3"},{id:"eodl6yyo6",uiAttribs:{},portsIn:[{name:"Path",value:"uid"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"kn7n8paxg",objOut:"eodl6yyo6"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"ct1lcnav4",uiAttribs:{},portsOut:[{name:"Output Array",links:[{portIn:"Data Array",portOut:"Output Array",objIn:"tt6l9zq27",objOut:"ct1lcnav4"}]}],objName:"Ops.User.rambodc.Array_reset_auto"},{id:"qvx29fqz9",uiAttribs:{},portsIn:[{name:"value",value:0}],portsOut:[{name:"result",links:[{portIn:"Object Index",portOut:"result",objIn:"nmxh4gnqs",objOut:"qvx29fqz9"}]}],objName:"Ops.Boolean.Boolean"},{id:"lsugrho9j",uiAttribs:{},portsIn:[{name:"Text",value:"History"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"25px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0px 10px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Object",portOut:"childs",objIn:"r1r86xwnd",objOut:"lsugrho9j"},{portIn:"link",portOut:"childs",objIn:"e3c210iwi",objOut:"lsugrho9j"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"9f9cw67kn",uiAttribs:{},portsIn:[{name:"Text",value:"AI Assistant"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(255,255,255,1)"},{name:"Text Size",value:"25px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0px 10px"},{name:"Padding",value:"10px "},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"cafzh5j2e",objOut:"9f9cw67kn"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"dbx9mgnvc",uiAttribs:{},portsIn:[{name:"Id",value:"0"},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"24px"},{name:"Line Height",value:"2"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.01)"},{name:"Margin",value:"0px 30px"},{name:"Padding",value:"5px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"4wrq8mags",objOut:"dbx9mgnvc"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"4wrq8mags",uiAttribs:{},portsIn:[{name:"Text",value:"Settings"},{name:"Id",value:"0"},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"24px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.01)"},{name:"Margin",value:"5px 10px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"wlmb2md0r",objOut:"4wrq8mags"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"9lp1r9nvz",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"70px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.0)"},{name:"Margin",value:"0px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"jbn0z4zbb",objOut:"9lp1r9nvz"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"gqpclqa5l",uiAttribs:{},portsIn:[{name:"Text",value:"Check Your Inbox:"},{name:"Id",value:"0"},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"blue"},{name:"Text Size",value:"24px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.01)"},{name:"Margin",value:"0px 10px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"p1qneeyg1",objOut:"gqpclqa5l"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"p1qneeyg1",uiAttribs:{},portsIn:[{name:"Id",value:"0"},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"blue"},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.01)"},{name:"Margin",value:"0px 10px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"rupbfg3an",objOut:"p1qneeyg1"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"ltz2jym5g",uiAttribs:{},portsIn:[{name:"Text",value:"Deactivated Account"},{name:"Id",value:"0"},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"blue"},{name:"Text Size",value:"24px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.01)"},{name:"Margin",value:"0px 10px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"o6itdb8aj",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(255,255,255,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1.9"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(0,102,255,0.6)"},{name:"Hover Color",value:"rgba(0,102,255,0.4)"},{name:"Margin",value:"0% 5%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"rzcnegq05",objOut:"o6itdb8aj"}]},{name:"Clicked",links:[{portIn:"Trigger",portOut:"Clicked",objIn:"ya9zlrane",objOut:"o6itdb8aj"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"gxugaajl6",uiAttribs:{},portsIn:[{name:"Text",value:"By clicking Next, you agree to sign in or sign up and accept our Terms, Privacy Policy, and Cookies Policy."},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"13px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(125,125,125,0.0)"},{name:"Hover Color",value:"rgba(125,125,125,0.0)"},{name:"Margin",value:"5px 20px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"65i2p3zio",objOut:"gxugaajl6"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"7s6r4xih7",uiAttribs:{},portsIn:[{name:"Text",value:"Sign Up"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(255,255,255,1)"},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(67, 173, 38,0.9)"},{name:"Hover Color",value:"rgba(67, 173, 38,0.5)"},{name:"Margin",value:"5px 20px"},{name:"Padding",value:"15px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"jy0vcxx0r",objOut:"7s6r4xih7"}]},{name:"Clicked",links:[{portIn:"Exe",portOut:"Clicked",objIn:"xzrno87zw",objOut:"7s6r4xih7"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"xbo5pys3s",uiAttribs:{},portsIn:[{name:"Text",value:"< &nbsp; Back"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(125,125,125,0.0)"},{name:"Hover Color",value:"rgba(125,125,125,0.0)"},{name:"Margin",value:"0% 2%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"c732j7n2h",objOut:"xbo5pys3s"}]},{name:"Clicked",links:[{portIn:"n6dz5ut5m",portOut:"Clicked",objIn:"4dnvku2g0",objOut:"xbo5pys3s"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"c732j7n2h",uiAttribs:{},portsIn:[{name:"Text",value:"Create Account"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"25px"},{name:"Line Height",value:"1."},{name:"Bold",value:1},{name:"Background Color",value:"rgba(125,125,125,0.0)"},{name:"Hover Color",value:"rgba(125,125,125,0.0)"},{name:"Margin",value:"0% 2%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"2comb3zfw",objOut:"c732j7n2h"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"7h5vr7j19",uiAttribs:{},portsIn:[{name:"Text",value:"Sign In"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(255,255,255,1)"},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(67, 173, 38,0.9)"},{name:"Hover Color",value:"rgba(67, 173, 38,0.5)"},{name:"Margin",value:"5px 20px"},{name:"Padding",value:"15px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"sclnz49u8",objOut:"7h5vr7j19"}]},{name:"Clicked",links:[{portIn:"Trigger",portOut:"Clicked",objIn:"5pqpiekcm",objOut:"7h5vr7j19"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"sclnz49u8",uiAttribs:{},portsIn:[{name:"Text",value:"By clicking Next, you agree to sign in or sign up and accept our Terms, Privacy Policy, and Cookies Policy."},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"13px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(125,125,125,0.0)"},{name:"Hover Color",value:"rgba(125,125,125,0.0)"},{name:"Margin",value:"5px 20px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"8pu59elam",objOut:"sclnz49u8"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"osu65acdq",uiAttribs:{},portsIn:[{name:"Text",value:"Create Account"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(255,255,255,1)"},{name:"Text Size",value:"18px"},{name:"Line Height",value:"1.6"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(38, 90, 173,0.9)"},{name:"Hover Color",value:"rgba(38, 90, 173,0.5)"},{name:"Margin",value:"5px 20px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"5hl45fd30",objOut:"osu65acdq"}]},{name:"Clicked",links:[{portIn:"n6dz5ut5m",portOut:"Clicked",objIn:"buf350ket",objOut:"osu65acdq"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"khdud3lsh",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"10px 0px 0px 0px"},{name:"Padding",value:"5px "},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"uvnt6tp84",objOut:"khdud3lsh"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"jbn0z4zbb",uiAttribs:{},portsIn:[{name:"Text",value:"RAZ"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"20px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.0)"},{name:"Margin",value:"0px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"npizcirvb",objOut:"jbn0z4zbb"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"z9zh5ey15",uiAttribs:{},portsIn:[{name:"Text",value:"Sign Out"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1.9"},{name:"Bold",value:0},{name:"Background Color",value:"rgb(255, 255, 255, 0.5)"},{name:"Hover Color",value:"rgb(255, 255, 255, 0.8)"},{name:"Margin",value:"0% 5%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"512huv54e",objOut:"z9zh5ey15"}]},{name:"Clicked",links:[{portIn:"Trigger",portOut:"Clicked",objIn:"2pe1jaw6w",objOut:"z9zh5ey15"},{portIn:"n6dz5ut5m",portOut:"Clicked",objIn:"9lsfkzl1w",objOut:"z9zh5ey15"},{portIn:"exe",portOut:"Clicked",objIn:"lwo121gjt",objOut:"z9zh5ey15"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"z3hnzmgth",uiAttribs:{},portsIn:[{name:"Text",value:"Search People"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1.9"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,.5)"},{name:"Hover Color",value:"rgba(255,255,255,.8)"},{name:"Margin",value:"1% 5%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"g48npx9tc",objOut:"z3hnzmgth"}]},{name:"Clicked",links:[{portIn:"exe",portOut:"Clicked",objIn:"ohn7w6liz",objOut:"z3hnzmgth"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"twoarcp1i",uiAttribs:{},portsIn:[{name:"Active",value:1}],objName:"Ops.Html.CSS.CSS_v2"},{id:"669tsjx6f",uiAttribs:{},portsIn:[{name:"Active",value:1}],objName:"Ops.Html.CSS.CSS_v2"},{id:"oczkkzc84",uiAttribs:{},portsIn:[{name:"Active",value:1}],objName:"Ops.Html.CSS.CSS_v2"},{id:"tsqoyb1a7",uiAttribs:{},portsIn:[{name:"Function Name",value:"updateEmail"}],portsOut:[{name:"Error",value:0},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"4s950u83j",objOut:"tsqoyb1a7"}]},{name:"Created Document ID",value:"MRPyDPyAJxIlhoRSY3p3"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"8dmwf0kmv",objOut:"tsqoyb1a7"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"nt0xw2vw3",objOut:"tsqoyb1a7"}]},{name:"Status",value:"error"},{name:"Data",links:[{portIn:"Object",portOut:"Data",objIn:"nv0rv0x4u",objOut:"tsqoyb1a7"}]},{name:"Full Object",links:[{portIn:"Object",portOut:"Full Object",objIn:"3oc2bz4jl",objOut:"tsqoyb1a7"}]},{name:"Pending Status",links:[{portIn:"exe",portOut:"Pending Status",objIn:"dnm99p7ra",objOut:"tsqoyb1a7"}]},{name:"Processing Status",links:[{portIn:"exe",portOut:"Processing Status",objIn:"s1r4o34sc",objOut:"tsqoyb1a7"}]},{name:"Completed Status",links:[{portIn:"exe",portOut:"Completed Status",objIn:"2r7w4rtbk",objOut:"tsqoyb1a7"},{portIn:"Trigger animation",portOut:"Completed Status",objIn:"tif58iuen",objOut:"tsqoyb1a7"}]},{name:"Error Status",links:[{portIn:"exe",portOut:"Error Status",objIn:"t8zw567ld",objOut:"tsqoyb1a7"},{portIn:"Trigger animation",portOut:"Error Status",objIn:"4s950u83j",objOut:"tsqoyb1a7"}]},{name:"Concurrency Error Status",links:[{portIn:"exe",portOut:"Concurrency Error Status",objIn:"rwpfii1lc",objOut:"tsqoyb1a7"}]},{name:"Connected",value:0},{name:"Loading",value:0}],objName:"Ops.User.rambodc.FunctionCalls1"},{id:"82n4jxjsu",uiAttribs:{},portsIn:[{name:"Function Name",value:"updateUtcOffset"}],portsOut:[{name:"Error",value:0},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"abkrtg7d6",objOut:"82n4jxjsu"}]},{name:"Created Document ID",value:"sDuU8uqK2LFXMPhqDlls"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"h4bghyr8u",objOut:"82n4jxjsu"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"5ag0p15f2",objOut:"82n4jxjsu"}]},{name:"Status",value:"completed"},{name:"Data",links:[{portIn:"Object",portOut:"Data",objIn:"ao9sfs6ul",objOut:"82n4jxjsu"}]},{name:"Full Object",links:[{portIn:"Object",portOut:"Full Object",objIn:"cb34xiaqc",objOut:"82n4jxjsu"}]},{name:"Pending Status",links:[{portIn:"exe",portOut:"Pending Status",objIn:"qbin0iby0",objOut:"82n4jxjsu"}]},{name:"Processing Status",links:[{portIn:"exe",portOut:"Processing Status",objIn:"d46bjbxoc",objOut:"82n4jxjsu"}]},{name:"Completed Status",links:[{portIn:"exe",portOut:"Completed Status",objIn:"rba5m4wjr",objOut:"82n4jxjsu"},{portIn:"Trigger animation",portOut:"Completed Status",objIn:"5eg92azfp",objOut:"82n4jxjsu"}]},{name:"Error Status",links:[{portIn:"exe",portOut:"Error Status",objIn:"df4dmeyza",objOut:"82n4jxjsu"},{portIn:"Trigger animation",portOut:"Error Status",objIn:"abkrtg7d6",objOut:"82n4jxjsu"}]},{name:"Concurrency Error Status",links:[{portIn:"exe",portOut:"Concurrency Error Status",objIn:"ozk74s73j",objOut:"82n4jxjsu"}]},{name:"Connected",value:0},{name:"Loading",value:0}],objName:"Ops.User.rambodc.FunctionCalls1"},{id:"jmem1rz8x",uiAttribs:{},portsIn:[{name:"Function Name",value:"updateEmailVerified"}],portsOut:[{name:"Error",value:0},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"jjr1b0fyu",objOut:"jmem1rz8x"}]},{name:"Created Document ID",value:"kgR01JhqAK21Xyyz5DTX"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"o9vdcocae",objOut:"jmem1rz8x"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"pwq62pk7t",objOut:"jmem1rz8x"}]},{name:"Status",value:"error"},{name:"Data",links:[{portIn:"Object",portOut:"Data",objIn:"avmu68jly",objOut:"jmem1rz8x"}]},{name:"Full Object",links:[{portIn:"Object",portOut:"Full Object",objIn:"wd2dvck75",objOut:"jmem1rz8x"}]},{name:"Pending Status",links:[{portIn:"exe",portOut:"Pending Status",objIn:"39uwqxy01",objOut:"jmem1rz8x"}]},{name:"Processing Status",links:[{portIn:"exe",portOut:"Processing Status",objIn:"f4m1d9l8t",objOut:"jmem1rz8x"}]},{name:"Completed Status",links:[{portIn:"exe",portOut:"Completed Status",objIn:"vm14hemy5",objOut:"jmem1rz8x"},{portIn:"Trigger animation",portOut:"Completed Status",objIn:"vcnhswixk",objOut:"jmem1rz8x"}]},{name:"Error Status",links:[{portIn:"exe",portOut:"Error Status",objIn:"u7xnw3own",objOut:"jmem1rz8x"},{portIn:"Trigger animation",portOut:"Error Status",objIn:"jjr1b0fyu",objOut:"jmem1rz8x"}]},{name:"Concurrency Error Status",links:[{portIn:"exe",portOut:"Concurrency Error Status",objIn:"a900j2914",objOut:"jmem1rz8x"}]},{name:"Connected",value:0},{name:"Loading",value:0}],objName:"Ops.User.rambodc.FunctionCalls1"},{id:"dlcrecen5",uiAttribs:{},portsIn:[{name:"Function Name",value:"follow"}],portsOut:[{name:"Error",value:0},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"dhe1q2asx",objOut:"dlcrecen5"}]},{name:"Created Document ID",value:"xo0YP0dNOBTMGHX9Q0lo"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"0ndombcq2",objOut:"dlcrecen5"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"30b2uszet",objOut:"dlcrecen5"}]},{name:"Status",value:"completed"},{name:"Data",links:[{portIn:"Object",portOut:"Data",objIn:"0mxizy1ci",objOut:"dlcrecen5"}]},{name:"Pending Status",links:[{portIn:"exe",portOut:"Pending Status",objIn:"zd46qtg65",objOut:"dlcrecen5"}]},{name:"Processing Status",links:[{portIn:"exe",portOut:"Processing Status",objIn:"xl9g56men",objOut:"dlcrecen5"}]},{name:"Completed Status",links:[{portIn:"exe",portOut:"Completed Status",objIn:"0ye5owiiv",objOut:"dlcrecen5"},{portIn:"Trigger animation",portOut:"Completed Status",objIn:"h0intmiov",objOut:"dlcrecen5"}]},{name:"Error Status",links:[{portIn:"exe",portOut:"Error Status",objIn:"lravut3vc",objOut:"dlcrecen5"},{portIn:"Trigger animation",portOut:"Error Status",objIn:"dhe1q2asx",objOut:"dlcrecen5"}]},{name:"Concurrency Error Status",links:[{portIn:"exe",portOut:"Concurrency Error Status",objIn:"vc2xs1g3q",objOut:"dlcrecen5"}]},{name:"Connected",value:0},{name:"Loading",links:[{portIn:"02t7hzmhk",portOut:"Loading",objIn:"ssy6m2sqf",objOut:"dlcrecen5"}]}],objName:"Ops.User.rambodc.FunctionCalls1"},{id:"o459j9bpo",uiAttribs:{},portsIn:[{name:"Function Name",value:"unfollow"}],portsOut:[{name:"Error",value:0},{name:"Error Message",links:[{portIn:"Text",portOut:"Error Message",objIn:"s1jlk9qse",objOut:"o459j9bpo"}]},{name:"Created Document ID",value:"FhGpXhOWv7ldqthHQf64"},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"0zy36zbwu",objOut:"o459j9bpo"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"kry5a06jr",objOut:"o459j9bpo"}]},{name:"Status",value:"completed"},{name:"Data",links:[{portIn:"Object",portOut:"Data",objIn:"8jjpa341c",objOut:"o459j9bpo"}]},{name:"Pending Status",links:[{portIn:"exe",portOut:"Pending Status",objIn:"x3gv69uwh",objOut:"o459j9bpo"}]},{name:"Processing Status",links:[{portIn:"exe",portOut:"Processing Status",objIn:"7oidfhj7c",objOut:"o459j9bpo"}]},{name:"Completed Status",links:[{portIn:"exe",portOut:"Completed Status",objIn:"7o7n9vd23",objOut:"o459j9bpo"},{portIn:"Trigger animation",portOut:"Completed Status",objIn:"279bxbjyn",objOut:"o459j9bpo"}]},{name:"Error Status",links:[{portIn:"exe",portOut:"Error Status",objIn:"g2jbef1xc",objOut:"o459j9bpo"},{portIn:"Trigger animation",portOut:"Error Status",objIn:"s1jlk9qse",objOut:"o459j9bpo"}]},{name:"Concurrency Error Status",links:[{portIn:"exe",portOut:"Concurrency Error Status",objIn:"tntpej184",objOut:"o459j9bpo"}]},{name:"Connected",value:0},{name:"Loading",links:[{portIn:"02t7hzmhk",portOut:"Loading",objIn:"508u7ft2f",objOut:"o459j9bpo"}]}],objName:"Ops.User.rambodc.FunctionCalls1"},{id:"5pnvqbws3",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"First Name",portOut:"Value",objIn:"tsqoyb1a7",objOut:"5pnvqbws3"}]}],objName:"Ops.Vars.VarGetString"},{id:"kz34tye6r",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"Last Name",portOut:"Value",objIn:"tsqoyb1a7",objOut:"kz34tye6r"}]}],objName:"Ops.Vars.VarGetString"},{id:"o2w97ne10",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"First Name",portOut:"Value",objIn:"82n4jxjsu",objOut:"o2w97ne10"}]}],objName:"Ops.Vars.VarGetString"},{id:"5jmu3uw9d",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"Last Name",portOut:"Value",objIn:"82n4jxjsu",objOut:"5jmu3uw9d"}]}],objName:"Ops.Vars.VarGetString"},{id:"hbhnugc8b",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"First Name",portOut:"Value",objIn:"jmem1rz8x",objOut:"hbhnugc8b"}]}],objName:"Ops.Vars.VarGetString"},{id:"qp7qycm9c",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"Last Name",portOut:"Value",objIn:"jmem1rz8x",objOut:"qp7qycm9c"}]}],objName:"Ops.Vars.VarGetString"},{id:"zhvlbghr6",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"First Name",portOut:"Value",objIn:"dlcrecen5",objOut:"zhvlbghr6"}]}],objName:"Ops.Vars.VarGetString"},{id:"tjug9kul8",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"Last Name",portOut:"Value",objIn:"dlcrecen5",objOut:"tjug9kul8"}]}],objName:"Ops.Vars.VarGetString"},{id:"x5l1bzopz",uiAttribs:{},portsIn:[{name:"Variable",value:"firstName"}],portsOut:[{name:"Value",links:[{portIn:"First Name",portOut:"Value",objIn:"o459j9bpo",objOut:"x5l1bzopz"}]}],objName:"Ops.Vars.VarGetString"},{id:"bx9n1kymp",uiAttribs:{},portsIn:[{name:"Variable",value:"lastName"}],portsOut:[{name:"Value",links:[{portIn:"Last Name",portOut:"Value",objIn:"o459j9bpo",objOut:"bx9n1kymp"}]}],objName:"Ops.Vars.VarGetString"},{id:"dgeotj40f",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"1d8i1nhkb",value:"e",title:"Path Name"},{name:"14qkhodhi",title:"Mainloop"},{name:"patchId",value:"bp2sub_dgeotj40f"}],portsOut:[{name:"a4ff56gqe",title:"Result",links:[{portIn:"j8fjrho2a",portOut:"a4ff56gqe",objIn:"yxlcr6q85",objOut:"dgeotj40f"}]},{name:"6l7liw33m",value:"c",title:"Directory 1"},{name:"3ee1w6bsj",value:"edit",title:"Directory 2"},{name:"m5oblmgx9",value:"1P3CIBUkTez2sjkMT9Fl",title:"Directory 3"},{name:"zqf3fcpvb",value:"",title:"Directory 4"},{name:"nzvovmrv0",value:"",title:"Directory 5"},{name:"sffqpjmpg",title:"Mainloop",links:[{portIn:"zap5t5tri",portOut:"sffqpjmpg",objIn:"yxlcr6q85",objOut:"dgeotj40f"}]},{name:"e3d2ws9wo",title:"Hash Changed",links:[{portIn:"9ozpectyq",portOut:"e3d2ws9wo",objIn:"yxlcr6q85",objOut:"dgeotj40f"}]}],objName:"Ops.User.rambodc.SidebarControls"},{id:"r4r9311ua",uiAttribs:{},portsIn:[{name:"Title",value:"e"}],objName:"Ops.Ui.Area"},{id:"yxlcr6q85",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"zap5t5tri",title:"Mainloop"},{name:"9ozpectyq",title:"Hash Changed"},{name:"j8fjrho2a",title:"isActive"},{name:"patchId",value:"bp2sub_yxlcr6q85"}],objName:"Ops.User.rambodc.PageE"},{id:"egwh667li",uiAttribs:{},portsIn:[{name:"Text",value:"Upload Profile Photo"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1.2"},{name:"Bold",value:0},{name:"Background Color",value:"rgb(255, 255, 255, 0.5)"},{name:"Hover Color",value:"rgb(255, 255, 255, 0.8)"},{name:"Margin",value:"5px 20%"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"dbx9mgnvc",objOut:"egwh667li"}]},{name:"Clicked",links:[{portIn:"Open File Dialog",portOut:"Clicked",objIn:"pc51zk0hb",objOut:"egwh667li"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"zr8lo59kw",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"r35qepfde",objOut:"zr8lo59kw"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"r35qepfde",uiAttribs:{},portsIn:[{name:"Path",value:"projectId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"8ge4xwjz8",objOut:"r35qepfde"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"8ge4xwjz8",uiAttribs:{},portsIn:[{name:"Format",value:"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Storage Path",portOut:"Result",objIn:"9uv4kpyhv",objOut:"8ge4xwjz8"},{portIn:"Storage Path",portOut:"Result",objIn:"jlgwj7lx3",objOut:"8ge4xwjz8"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"qc7di5x0x",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"Signed In UID",portOut:"Value",objIn:"nqav7ftwa",objOut:"qc7di5x0x"},{portIn:"Signed In UID",portOut:"Value",objIn:"0n9gueauj",objOut:"qc7di5x0x"}]}],objName:"Ops.Vars.VarGetString"},{id:"r1r86xwnd",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"725let1yg",objOut:"r1r86xwnd"},{portIn:"Value",portOut:"Result",objIn:"6ipy9ohi8",objOut:"r1r86xwnd"}]}],objName:"Ops.Json.ObjectIsNull"},{id:"725let1yg",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"d7prty865",objOut:"725let1yg"}]}],objName:"Ops.Boolean.TriggerChangedFalse"},{id:"d7prty865",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"Trigger Query",portOut:"trigger",objIn:"nqav7ftwa",objOut:"d7prty865"},{portIn:"Trigger Query",portOut:"trigger",objIn:"0n9gueauj",objOut:"d7prty865"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"i8kzc7pts",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"6ipy9ohi8",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"i8kzc7pts",objOut:"6ipy9ohi8"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"5nd4mceso",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:1},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"fq7ijgf97",uiAttribs:{},portsIn:[{name:"Label",value:""},{name:"Default",value:""},{name:"Placeholder",value:"Message Razzberry..."},{name:"Visible",value:1},{name:"Max Characters",value:2e3},{name:"Height",value:100},{name:"Width",value:"100%"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"v9grfukry",objOut:"fq7ijgf97"}]},{name:"Result",links:[{portIn:"String",portOut:"Result",objIn:"3fyki74ex",objOut:"fq7ijgf97"}]},{name:"Focus",value:false},{name:"Has Changed",value:false}],objName:"Ops.User.rambodc.TextInputArea"},{id:"jz1sjvl5a",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:""},{name:"Text Size",value:"18px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(0,145,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0 20px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"}],objName:"Ops.User.rambodc.SidebarText_Prompt"},{id:"ot0ros66f",uiAttribs:{},portsIn:[{name:"Button Text",value:"Send"},{name:"Button Width",value:"40px"},{name:"Button Background Color",value:"rgba(13, 130, 254, 0.5)"},{name:"Hover Background Color",value:"rgba(13, 130, 254, 1)"},{name:"Visible",value:1}],portsOut:[{name:"Siblings",links:[{portIn:"link",portOut:"Siblings",objIn:"jz1sjvl5a",objOut:"ot0ros66f"}]},{name:"Button Pressed",links:[{portIn:"Trigger",portOut:"Button Pressed",objIn:"3fyki74ex",objOut:"ot0ros66f"},{portIn:"exe",portOut:"Button Pressed",objIn:"zrpcrkaun",objOut:"ot0ros66f"},{portIn:"Trigger GPT Request",portOut:"Button Pressed",objIn:"0v19acuuh",objOut:"ot0ros66f"}]}],objName:"Ops.User.rambodc.Button_Right"},{id:"v9grfukry",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:""},{name:"Text Size",value:"16px"},{name:"Line Height",value:"1.5"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(0,145,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"0 20px"},{name:"Padding",value:"10px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"}],portsOut:[{name:"childs",links:[{portIn:"Parent Link",portOut:"childs",objIn:"ot0ros66f",objOut:"v9grfukry"}]}],objName:"Ops.User.rambodc.SidebarText_Prompt"},{id:"3fyki74ex",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"v9grfukry",objOut:"3fyki74ex"}]}],objName:"Ops.Trigger.TriggerString"},{id:"zrpcrkaun",uiAttribs:{},portsIn:[{name:"delay",value:.5}],portsOut:[{name:"next",links:[{portIn:"Clear",portOut:"next",objIn:"fq7ijgf97",objOut:"zrpcrkaun"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"widvsaba6",uiAttribs:{},portsIn:[{name:"Base64 String",value:""}],portsOut:[{name:"MIME Type",value:""},{name:"Base64 Data",value:""},{name:"File Type",value:""},{name:"File Format",value:""},{name:"Error",value:"No base64 string provided."}],objName:"Ops.User.rambodc.Base64_components"},{id:"yc483t9yw",uiAttribs:{},portsIn:[{name:"value",value:'{\r\n  "postImageAnalysis": {\r\n    "postDetails": {\r\n      "postId": "unique-post-id-12345",      // Unique identifier for the post\r\n      "userId": "user-56789",                // Unique identifier for the user\r\n      "uploadTimestamp": "ISO-timestamp",    // Date and time of upload in ISO format\r\n      "postType": "image",                   // Type of post, i.e., image\r\n      "tags": ["tag1", "tag2", ...],         // Suggested tags based on image analysis\r\n      "caption": "Auto-generated or user-provided caption"\r\n    },\r\n    "imageMetadata": {\r\n      "fileFormat": "JPEG",                  // File format of the image\r\n      "fileSizeMB": 2.5,                     // Size of the image file in MB\r\n      "dimensions": {                        // Image dimensions\r\n        "width": 1024,                       // Width of the image in pixels\r\n        "height": 768                        // Height of the image in pixels\r\n      }\r\n    },\r\n    "extractedContent": {\r\n      "primaryObject": {\r\n        "objectName": "Primary object in the image",   // Main object detected in the image\r\n        "brand": "If applicable, the brand of the object",\r\n        "description": "Detailed description of the object"\r\n      },\r\n      "detectedObjects": [                   // List of detected objects with confidence levels\r\n        {\r\n          "objectName": "Object name",\r\n          "category": "Category, e.g., product, furniture, person",\r\n          "confidence": 0.95                 // Confidence level of detection\r\n        }\r\n      ],\r\n      "sceneType": "indoor/outdoor",         // Type of scene detected in the image\r\n      "environment": "Description of the environment", // Environment context\r\n      "textDetected": [                      // Text found in the image\r\n        {\r\n          "text": "Extracted text",\r\n          "type": "Type of text, e.g., brand, description"\r\n        }\r\n      ],\r\n      "dominantColors": [                    // Main colors found in the image\r\n        {\r\n          "hex": "#FFFFFF",                  // Color in hex format\r\n          "description": "Color description"\r\n        }\r\n      ]\r\n    },\r\n    "appropriatenessChecks": {\r\n      "isSafeForWork": true,                 // Whether the image is safe for work\r\n      "containsExplicitContent": false,      // Whether the image contains explicit content (sexual or offensive)\r\n      "violenceProbability": 0.0,            // Probability of violence detected in the image (0 to 1)\r\n      "nudityProbability": 0.0,              // Probability of nudity detected in the image (0 to 1)\r\n      "drugOrAlcoholProbability": 0.0,       // Probability of drug or alcohol-related content detected\r\n      "violatesCommunityGuidelines": false   // Whether the image violates community guidelines\r\n    },\r\n    "originalityAssessment": {\r\n      "reverseImageSearchResult": "original",  // Result from reverse image search\r\n      "isWatermarked": false,                  // Whether the image contains a watermark\r\n      "ownershipVerified": true                // Whether the uploader owns the image\r\n    }\r\n  }\r\n}\r\n'},{name:"Syntax index",value:0},{name:"Syntax",value:"text"}],portsOut:[{name:"Result",links:[{portIn:"Prompt",portOut:"Result",objIn:"0v19acuuh",objOut:"yc483t9yw"}]}],objName:"Ops.String.StringEditor"},{id:"0v19acuuh",uiAttribs:{},portsIn:[{name:"API Key",value:"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"},{name:"Image URL",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/posts%2F6L3dID7AlIspniGngRce%2Fthumbnail%2F6L3dID7AlIspniGngRce.png?alt=media"},{name:"Model",value:"gpt-4o-mini"},{name:"System Message",value:"Can you create the json object exaccly as it is described. "},{name:"Max Tokens",value:1024},{name:"Temperature",value:.3},{name:"Top P",value:1}],portsOut:[{name:"GPT JSON Response",links:[{portIn:"Text",portOut:"GPT JSON Response",objIn:"jz1sjvl5a",objOut:"0v19acuuh"},{portIn:"String",portOut:"GPT JSON Response",objIn:"5nd4mceso",objOut:"0v19acuuh"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Tokens Used",value:9626}],objName:"Ops.User.rambodc.Test5"},{id:"ejauiexyr",uiAttribs:{},portsIn:[{name:"API Key",value:"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"},{name:"Prompt",value:"Can you help me write a json object about an image?"},{name:"Model",value:"gpt-4o-2024-08-06"},{name:"System Message",value:"Can you help me write a json object about an image?"},{name:"Max Tokens",value:1024},{name:"Temperature",value:.7},{name:"Top P",value:1},{name:"Frequency Penalty",value:0},{name:"Presence Penalty",value:0},{name:"Stop Sequences"}],portsOut:[{name:"GPT Response",value:'Of course! To write a JSON object about an image, you might want to include various details such as the image\'s URL, dimensions, file size, format, and possibly metadata like the title, description, and tags. Here\'s a basic example of how such a JSON object might look:\n\n```json\n{\n  "image": {\n    "url": "https://example.com/image.jpg",\n    "title": "Sunset Over Mountains",\n    "description": "A beautiful sunset over the mountains with vibrant colors in the sky.",\n    "dimensions": {\n      "width": 1920,\n      "height": 1080\n    },\n    "file_size": "2MB",\n    "format": "JPEG",\n    "tags": ["sunset", "mountains", "nature", "landscape"],\n    "date_uploaded": "2023-10-15",\n    "author": "Jane Doe",\n    "license": "Creative Commons Attribution 4.0 International"\n  }\n}\n```\n\nYou can customize this structure according to the specific details you have or need for your image.'},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Tokens Used",value:258}],objName:"Ops.User.rambodc.Test6"},{id:"oiwv2sjdm",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"tkjeqas9u",portOut:"Next",objIn:"sg1bp4ikr",objOut:"oiwv2sjdm"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"3mwzdo4h3",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"hew1jbyo1",objOut:"3mwzdo4h3"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"hew1jbyo1",uiAttribs:{},portsIn:[{name:"Path",value:"projectId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"gpx3gis0c",objOut:"hew1jbyo1"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"gpx3gis0c",uiAttribs:{},portsIn:[{name:"Format",value:"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/posts%2F$b%2Fresized%2F$b_800x800.png?alt=media                              "},{name:"String B",value:"1yX0MalOP88Y6lDwHX0m"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/posts%2F1yX0MalOP88Y6lDwHX0m%2Fresized%2F1yX0MalOP88Y6lDwHX0m_800x800.png?alt=media                              "}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"65a6fjz5d",uiAttribs:{},portsIn:[{name:"Text",value:"Group"},{name:"Show Title",value:0},{name:"Default Minimized",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Object",portOut:"childs",objIn:"81vwop3ms",objOut:"65a6fjz5d"},{portIn:"gomrari2f",portOut:"childs",objIn:"sg1bp4ikr",objOut:"65a6fjz5d"}]}],objName:"Ops.Sidebar.Group"},{id:"lrr8pmv59",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"nw0o4y8ut",portOut:"Next",objIn:"sg1bp4ikr",objOut:"lrr8pmv59"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"8gdw98jy0",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"eqdm1dxnn",objOut:"8gdw98jy0"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"nce9p4q1p",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"y01zzlcxn",uiAttribs:{},portsIn:[{name:"Text 2",value:""},{name:"Button Color Right",value:"rgba(255,255,255,0.0)"},{name:"Button Text Color Right",value:"rgba(1,1,1,1)"},{name:"Button Hover Color Right",value:"rgba(255,255,255,0.0)"},{name:"Corners",value:50},{name:"Image Size",value:50},{name:"Show Right Button",value:1},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"xn1vfw4w5",objOut:"y01zzlcxn"}]},{name:"Icon Pressed",links:[{portIn:"Execute",portOut:"Icon Pressed",objIn:"9g253i7rk",objOut:"y01zzlcxn"}]}],objName:"Ops.User.rambodc.Button_icon2"},{id:"9g253i7rk",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Open File Dialog",portOut:"Next",objIn:"pc51zk0hb",objOut:"9g253i7rk"}]}],objName:"Ops.Trigger.TriggerExtender"},{id:"b8a1dfjft",uiAttribs:{},portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"dmyx0l82z",objOut:"b8a1dfjft"}]},{name:"Button Pressed",links:[{portIn:"n6dz5ut5m",portOut:"Button Pressed",objIn:"rs2f8i73u",objOut:"b8a1dfjft"}]},{name:"Button Index",value:0},{name:"Selected Object",links:[{portIn:"Object",portOut:"Selected Object",objIn:"eodl6yyo6",objOut:"b8a1dfjft"}]},{name:"Has Second Page",links:[{portIn:"Visible",portOut:"Has Second Page",objIn:"fiz0kja27",objOut:"b8a1dfjft"}]},{name:"Follow Button Pressed",links:[{portIn:"exe",portOut:"Follow Button Pressed",objIn:"a704gqq44",objOut:"b8a1dfjft"}]},{name:"Follow UID",links:[{portIn:"value",portOut:"Follow UID",objIn:"e0l4aa13h",objOut:"b8a1dfjft"}]}],objName:"Ops.User.rambodc.List9"},{id:"g48npx9tc",uiAttribs:{},portsIn:[{name:"Height",value:"20px"}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"jnkypvgdr",uiAttribs:{},portsIn:[{name:"Height",value:"1px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"y01zzlcxn",objOut:"jnkypvgdr"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"xn1vfw4w5",uiAttribs:{},portsIn:[{name:"Height",value:"10px"}],portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"o6itdb8aj",objOut:"xn1vfw4w5"}]}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"kvtvb6sfh",uiAttribs:{},portsOut:[{name:"childs",links:[{portIn:"Object in",portOut:"childs",objIn:"7c838ffd-4b38-43aa-9139-d627c3112f87",objOut:"kvtvb6sfh"}]},{name:"Pressed Trigger 0",links:[{portIn:"Set",portOut:"Pressed Trigger 0",objIn:"32j7ov9c7",objOut:"kvtvb6sfh"},{portIn:"n6dz5ut5m",portOut:"Pressed Trigger 0",objIn:"xkkqj6w9h",objOut:"kvtvb6sfh"}]},{name:"Pressed Trigger 1",links:[{portIn:"Set",portOut:"Pressed Trigger 1",objIn:"p89txhf3c",objOut:"kvtvb6sfh"},{portIn:"n6dz5ut5m",portOut:"Pressed Trigger 1",objIn:"70i9eglbg",objOut:"kvtvb6sfh"}]},{name:"Pressed Trigger 2",links:[{portIn:"Set",portOut:"Pressed Trigger 2",objIn:"ln84n9jay",objOut:"kvtvb6sfh"},{portIn:"n6dz5ut5m",portOut:"Pressed Trigger 2",objIn:"aa7rna4la",objOut:"kvtvb6sfh"}]},{name:"Pressed Trigger 3",links:[{portIn:"Set",portOut:"Pressed Trigger 3",objIn:"rxt1x4o0d",objOut:"kvtvb6sfh"},{portIn:"n6dz5ut5m",portOut:"Pressed Trigger 3",objIn:"y8wu0gge8",objOut:"kvtvb6sfh"}]},{name:"Pressed Trigger 4",links:[{portIn:"Set",portOut:"Pressed Trigger 4",objIn:"xvwknfoqw",objOut:"kvtvb6sfh"},{portIn:"n6dz5ut5m",portOut:"Pressed Trigger 4",objIn:"zkl96qj24",objOut:"kvtvb6sfh"}]}],objName:"Ops.User.rambodc.Button_Bar"},{id:"5ya60bkk4",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"5l43d0ex7",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"9xqs8d2dd",uiAttribs:{},portsOut:[{name:"timesTriggered",value:10}],objName:"Ops.Trigger.TriggerCounter"},{id:"qyhjkwl16",uiAttribs:{},portsOut:[{name:"timesTriggered",value:1}],objName:"Ops.Trigger.TriggerCounter"},{id:"wy4qyjv5s",uiAttribs:{},portsIn:[{name:"String 2",value:"feedCollect"}],portsOut:[{name:"Result",value:0},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"juuw28fkp",objOut:"wy4qyjv5s"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"at82glona",uiAttribs:{},portsIn:[{name:"Path",value:"functionName"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"wy4qyjv5s",objOut:"at82glona"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"juuw28fkp",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"n6dz5ut5m",portOut:"trigger",objIn:"rgnimg5bz",objOut:"juuw28fkp"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"enpg02rda",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Check Equality",portOut:"next",objIn:"wy4qyjv5s",objOut:"enpg02rda"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"ql3zafhqy",uiAttribs:{},portsIn:[{name:"Input Data Array"},{name:"Storage Path",value:""},{name:"First Page Number",value:20}],portsOut:[{name:"Button Pressed",links:[{portIn:"exe",portOut:"Button Pressed",objIn:"enpg02rda",objOut:"ql3zafhqy"},{portIn:"exe",portOut:"Button Pressed",objIn:"9xb4lavsp",objOut:"ql3zafhqy"}]},{name:"Button Index",value:0},{name:"Selected Object",links:[{portIn:"Object",portOut:"Selected Object",objIn:"at82glona",objOut:"ql3zafhqy"},{portIn:"Object",portOut:"Selected Object",objIn:"q44x0bo3q",objOut:"ql3zafhqy"},{portIn:"Object",portOut:"Selected Object",objIn:"pzu4ib8jy",objOut:"ql3zafhqy"},{portIn:"Object",portOut:"Selected Object",objIn:"x96yg4964",objOut:"ql3zafhqy"}]},{name:"Has Second Page",value:false}],objName:"Ops.User.rambodc.List5"},{id:"m4yd9htb7",uiAttribs:{},portsIn:[{name:"String 2",value:"follow"}],portsOut:[{name:"Result",value:0},{name:"True",links:[{portIn:"exe",portOut:"True",objIn:"wvgpnvy5j",objOut:"m4yd9htb7"}]}],objName:"Ops.User.rambodc.StringEquals_Triggers"},{id:"q44x0bo3q",uiAttribs:{},portsIn:[{name:"Path",value:"functionName"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String 1",portOut:"Output",objIn:"m4yd9htb7",objOut:"q44x0bo3q"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"wvgpnvy5j",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"n6dz5ut5m",portOut:"trigger",objIn:"cym2o53l9",objOut:"wvgpnvy5j"}]},{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"9xb4lavsp",uiAttribs:{},portsIn:[{name:"delay",value:.1}],portsOut:[{name:"next",links:[{portIn:"Check Equality",portOut:"next",objIn:"m4yd9htb7",objOut:"9xb4lavsp"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"pzu4ib8jy",uiAttribs:{},portsIn:[{name:"Path",value:"uid"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"1ovs04j4c",portOut:"Output",objIn:"cym2o53l9",objOut:"pzu4ib8jy"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"cym2o53l9",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/user/",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_cym2o53l9"}],objName:"Ops.User.rambodc.SetURL"},{id:"x96yg4964",uiAttribs:{},portsIn:[{name:"Path",value:"parameters.transactionObject.postId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"1ovs04j4c",portOut:"Output",objIn:"rgnimg5bz",objOut:"x96yg4964"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"rgnimg5bz",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/post/",title:"Directory 2"},{name:"1ovs04j4c",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_rgnimg5bz"}],objName:"Ops.User.rambodc.SetURL"},{id:"c44sdxvvu",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"mje4f3m0t",uiAttribs:{},portsIn:[{name:"Format",value:"Split Collect: $a RAZ"},{name:"String B",value:1},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"npizcirvb",objOut:"mje4f3m0t"}]}],objName:"Ops.String.StringCompose_v3"},{id:"npizcirvb",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1, 1, 1,1)"},{name:"Text Size",value:"12px"},{name:"Line Height",value:"1.0"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"10px 0px 0px 0px"},{name:"Padding",value:"5px "},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"kznltu4ud",objOut:"npizcirvb"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"0wgngou7o",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Create",portOut:"Next",objIn:"zfjp3fncn",objOut:"0wgngou7o"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"5zs994rd8",uiAttribs:{},portsIn:[{name:"Variable",value:"splitRaz"}],portsOut:[{name:"Value",links:[{portIn:"number 0",portOut:"Value",objIn:"4wvrarilj",objOut:"5zs994rd8"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"jsy48z5pg",uiAttribs:{},portsIn:[{name:"Variable",value:"postRaz"}],portsOut:[{name:"Value",links:[{portIn:"Number",portOut:"Value",objIn:"de8ku6gue",objOut:"jsy48z5pg"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"c6ukpz6wm",uiAttribs:{},portsIn:[{name:"Decimal Places",value:2}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"mje4f3m0t",objOut:"c6ukpz6wm"}]}],objName:"Ops.String.NumberToString_v2"},{id:"de8ku6gue",uiAttribs:{},portsIn:[{name:"Decimal Places",value:4}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"0li57g4jy",objOut:"de8ku6gue"}]}],objName:"Ops.String.NumberToString_v2"},{id:"nct23hnmc",uiAttribs:{},portsIn:[{name:"Variable",value:"isAuth"}],portsOut:[{name:"Value",links:[{portIn:"Value",portOut:"Value",objIn:"6ojj49n26",objOut:"nct23hnmc"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"v6fa3wftn",uiAttribs:{},portsIn:[{name:"Collection name",value:"global"},{name:"Document ID",value:"rates"},{name:"SubCollection name",value:""},{name:"SubDocument ID",value:""}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Document Data",links:[{portIn:"Object",portOut:"Document Data",objIn:"88qau793d",objOut:"v6fa3wftn"},{portIn:"Object",portOut:"Document Data",objIn:"bmrhqpr5k",objOut:"v6fa3wftn"}]},{name:"Connection Status",value:"Connected"}],objName:"Ops.User.rambodc.FB_Listner"},{id:"6ojj49n26",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"exe",portOut:"Next",objIn:"bc9qi9qou",objOut:"6ojj49n26"}]}],objName:"Ops.Boolean.TriggerChangedTrue"},{id:"bc9qi9qou",uiAttribs:{},portsIn:[{name:"delay",value:1}],portsOut:[{name:"next",links:[{portIn:"Start Listening",portOut:"next",objIn:"v6fa3wftn",objOut:"bc9qi9qou"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"oh7tfgr2b",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Start Listening",portOut:"Next",objIn:"v6fa3wftn",objOut:"oh7tfgr2b"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"88qau793d",uiAttribs:{},portsIn:[{name:"Path",value:"postRaz"}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"anzihjhis",objOut:"88qau793d"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"bmrhqpr5k",uiAttribs:{},portsIn:[{name:"Path",value:"splitRaz"}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"ypt2alxyg",objOut:"bmrhqpr5k"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"kznltu4ud",uiAttribs:{},portsIn:[{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:0},{name:"Text Color",value:"rgba(1, 1, 1,1)"},{name:"Text Size",value:"12px"},{name:"Line Height",value:"1.0"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.3)"},{name:"Margin",value:"1px 0px 0px 0px"},{name:"Padding",value:"0px "},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"kk3dokl2w",objOut:"kznltu4ud"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"0li57g4jy",uiAttribs:{},portsIn:[{name:"Format",value:"New Post: $a RAZ"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text",portOut:"Result",objIn:"kznltu4ud",objOut:"0li57g4jy"}]}],objName:"Ops.String.StringCompose_v3"},{id:"4wvrarilj",uiAttribs:{},portsIn:[{name:"number 1",value:2},{name:"math mode index",value:3},{name:"math mode",value:"/"}],portsOut:[{name:"result",links:[{portIn:"Number",portOut:"result",objIn:"c6ukpz6wm",objOut:"4wvrarilj"}]}],objName:"Ops.Math.Math"},{id:"uvnt6tp84",uiAttribs:{},portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"99pi3bbg0",objOut:"uvnt6tp84"}]},{name:"Button Pressed",links:[{portIn:"n6dz5ut5m",portOut:"Button Pressed",objIn:"mda9ldqfj",objOut:"uvnt6tp84"}]},{name:"Button Index",value:0},{name:"Selected Object",links:[{portIn:"Object",portOut:"Selected Object",objIn:"h6ocpv2dj",objOut:"uvnt6tp84"}]},{name:"Has Second Page",links:[{portIn:"Visible",portOut:"Has Second Page",objIn:"qw7gjyzmu",objOut:"uvnt6tp84"}]},{name:"Follow Back Button Pressed",links:[{portIn:"exe",portOut:"Follow Back Button Pressed",objIn:"out6pu7b4",objOut:"uvnt6tp84"}]},{name:"Follow Back UID",links:[{portIn:"value",portOut:"Follow Back UID",objIn:"6nc44r64u",objOut:"uvnt6tp84"}]}],objName:"Ops.User.rambodc.List8"},{id:"tt6l9zq27",uiAttribs:{},portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"bvfhrlco4",objOut:"tt6l9zq27"}]},{name:"Button Pressed",links:[{portIn:"n6dz5ut5m",portOut:"Button Pressed",objIn:"puqpm52oj",objOut:"tt6l9zq27"}]},{name:"Button Index",value:2},{name:"Selected Object",links:[{portIn:"Object",portOut:"Selected Object",objIn:"mskdpj9iv",objOut:"tt6l9zq27"},{portIn:"Object",portOut:"Selected Object",objIn:"eky5sywez",objOut:"tt6l9zq27"}]},{name:"Has Second Page",links:[{portIn:"Visible",portOut:"Has Second Page",objIn:"vrfoaet4r",objOut:"tt6l9zq27"}]}],objName:"Ops.User.rambodc.List6"},{id:"fgxv931nw",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FfirstLastName1.png?alt=media"},{name:"Text",value:"Name"},{name:"Icon Right",value:""},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"oflaun5v0",objOut:"fgxv931nw"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"cch6cb1rb",objOut:"fgxv931nw"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"oflaun5v0",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FEmail1.png?alt=media"},{name:"Text",value:"Email"},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"t8znzuvcr",objOut:"oflaun5v0"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"3th8deauk",objOut:"oflaun5v0"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"t8znzuvcr",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fpassword1.png?alt=media"},{name:"Text",value:"Password"},{name:"Text Right",value:"******"},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"p4vjs2ew6",objOut:"t8znzuvcr"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"05eevqwxv",objOut:"t8znzuvcr"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"nswhx193m",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FtimeZone1.png?alt=media"},{name:"Text",value:"Time Zone"},{name:"Icon Right",value:""},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"6r6csns9k",objOut:"nswhx193m"}]},{name:"Pressed Trigger",links:[{portIn:"Trigger animation",portOut:"Pressed Trigger",objIn:"g1yko0o86",objOut:"nswhx193m"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"p4vjs2ew6",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fusername1.png?alt=media"},{name:"Text",value:"Username"},{name:"Icon Right",value:""},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"hzkcasq59",objOut:"p4vjs2ew6"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"hzkcasq59",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnotification.png?alt=media&token=f1297ab3-e516-4169-95cb-ac7ef2a34470"},{name:"Text",value:"Email Notifications"},{name:"Text Right",value:""},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{name:"Corners",value:0},{name:"Visible",value:0}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"nswhx193m",objOut:"hzkcasq59"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"zwsx5zrjz",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FTermsServices1.png?alt=media"},{name:"Text",value:"Terms of Service"},{name:"Text Right",value:""},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"58dpgu6kb",objOut:"zwsx5zrjz"}]},{name:"Pressed Trigger",links:[{portIn:"Open",portOut:"Pressed Trigger",objIn:"0kpt883nd",objOut:"zwsx5zrjz"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"6r6csns9k",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-100%20x.png?alt=media"},{name:"Text",value:"About Razzberry"},{name:"Text Right",value:""},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"zwsx5zrjz",objOut:"6r6csns9k"}]},{name:"Pressed Trigger",links:[{portIn:"Open",portOut:"Pressed Trigger",objIn:"ixcd6vjc9",objOut:"6r6csns9k"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"174anuf94",uiAttribs:{},portsIn:[{name:"Variable",value:"urlPath"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"fpg8zn8t4",objOut:"174anuf94"}]}],objName:"Ops.Vars.VarGetString"},{id:"fpg8zn8t4",uiAttribs:{},portsIn:[{name:"Format",value:"$a$b"},{name:"String B",value:"about.html"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"URL",portOut:"Result",objIn:"ixcd6vjc9",objOut:"fpg8zn8t4"}]}],objName:"Ops.String.StringCompose_v3"},{id:"58dpgu6kb",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fpolicy.png?alt=media"},{name:"Text",value:"Privacy Policy"},{name:"Text Right",value:""},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"hj0yaaxcz",objOut:"58dpgu6kb"}]},{name:"Pressed Trigger",links:[{portIn:"Open",portOut:"Pressed Trigger",objIn:"gsezkdziq",objOut:"58dpgu6kb"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"c1xm8mo63",uiAttribs:{},portsIn:[{name:"Variable",value:"urlPath"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"d0lqwsaro",objOut:"c1xm8mo63"}]}],objName:"Ops.Vars.VarGetString"},{id:"d0lqwsaro",uiAttribs:{},portsIn:[{name:"Format",value:"$a$b"},{name:"String B",value:"terms.html"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"URL",portOut:"Result",objIn:"0kpt883nd",objOut:"d0lqwsaro"}]}],objName:"Ops.String.StringCompose_v3"},{id:"m30ifpm4s",uiAttribs:{},portsIn:[{name:"Variable",value:"urlPath"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"zo10asgl0",objOut:"m30ifpm4s"}]}],objName:"Ops.Vars.VarGetString"},{id:"zo10asgl0",uiAttribs:{},portsIn:[{name:"Format",value:"$a$b"},{name:"String B",value:"policy.html"},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"URL",portOut:"Result",objIn:"gsezkdziq",objOut:"zo10asgl0"}]}],objName:"Ops.String.StringCompose_v3"},{id:"ixcd6vjc9",uiAttribs:{},portsIn:[{name:"Target Name",value:"_blank"},{name:"Specs",value:""}],objName:"Ops.Html.HyperLink_v2"},{id:"0kpt883nd",uiAttribs:{},portsIn:[{name:"Target Name",value:"_blank"},{name:"Specs",value:""}],objName:"Ops.Html.HyperLink_v2"},{id:"gsezkdziq",uiAttribs:{},portsIn:[{name:"Target Name",value:"_blank"},{name:"Specs",value:""}],objName:"Ops.Html.HyperLink_v2"},{id:"sg1bp4ikr",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"gomrari2f",title:"link"},{name:"nw0o4y8ut",title:"Mainloop"},{name:"ktz8ivcyy",title:"isActive"},{name:"c5w4ricnn",title:"postId"},{name:"tkjeqas9u",title:"exe"},{name:"patchId",value:"bp2sub_sg1bp4ikr"}],portsOut:[{name:"6cx1z6hj0",title:"Button Right Pressed",links:[{portIn:"exe",portOut:"6cx1z6hj0",objIn:"o0bjb78yd",objOut:"sg1bp4ikr"}]},{name:"riq7fj6wq",title:"User Object"},{name:"wnpbv6gvw",title:"Post Object"},{name:"upe3uf8g9",title:"Button 1 Pressed",links:[{portIn:"exe",portOut:"upe3uf8g9",objIn:"o0bjb78yd",objOut:"sg1bp4ikr"}]}],objName:"Ops.User.rambodc.Post2"},{id:"ieq90mh77",uiAttribs:{},portsIn:[{name:"Path Equals",value:"b"}],portsOut:[{name:"Trigger Result",links:[{portIn:"exe",portOut:"Trigger Result",objIn:"cb3l0yays",objOut:"ieq90mh77"},{portIn:"n6dz5ut5m",portOut:"Trigger Result",objIn:"xiazm649o",objOut:"ieq90mh77"}]}],objName:"Ops.User.rambodc.URL_Check1"},{id:"ca06nz3mm",uiAttribs:{},portsIn:[{name:"Path Equals",value:"a"}],portsOut:[{name:"Trigger Result",links:[{portIn:"exe",portOut:"Trigger Result",objIn:"o5rowyi6f",objOut:"ca06nz3mm"}]}],objName:"Ops.User.rambodc.URL_Check1"},{id:"1js7eb5ow",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fwallet.png?alt=media"},{name:"Text",value:"In-App Wallet"},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"s9qtvu50o",objOut:"1js7eb5ow"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"rxjuf9dka",objOut:"1js7eb5ow"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"wlmb2md0r",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-100%20x.png?alt=media"},{name:"Text",value:"Buy RAZ"},{name:"Text Right",value:"Xaman App"},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"1js7eb5ow",objOut:"wlmb2md0r"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"ecyarfok8",objOut:"wlmb2md0r"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"ecyarfok8",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/buy",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_ecyarfok8"}],objName:"Ops.User.rambodc.SetURL"},{id:"rxjuf9dka",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/inapp",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_rxjuf9dka"}],objName:"Ops.User.rambodc.SetURL"},{id:"sl36s7cjw",uiAttribs:{},portsIn:[{name:"Variable",value:"totalRaz"}],portsOut:[{name:"Value",links:[{portIn:"Number",portOut:"Value",objIn:"12x0f38pw",objOut:"sl36s7cjw"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"12x0f38pw",uiAttribs:{},portsIn:[{name:"Decimal Places",value:2}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"8bipdjyr9",objOut:"12x0f38pw"}]}],objName:"Ops.String.NumberToString_v2"},{id:"8bipdjyr9",uiAttribs:{},portsIn:[{name:"Format",value:"$a RAZ"},{name:"String B",value:1},{name:"String C",value:2},{name:"String D",value:3},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text Right",portOut:"Result",objIn:"1js7eb5ow",objOut:"8bipdjyr9"}]}],objName:"Ops.String.StringCompose_v3"},{id:"kwro7l4zj",uiAttribs:{},portsIn:[{name:"Title",value:"lastResetTime"}],objName:"Ops.Ui.Area"},{id:"uiizqgli2",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"be3x15z5d",objOut:"uiizqgli2"},{portIn:"Object",portOut:"Value",objIn:"p51cztp62",objOut:"uiizqgli2"},{portIn:"Object",portOut:"Value",objIn:"kqidn2hwi",objOut:"uiizqgli2"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"5ubgt0txo",uiAttribs:{},portsOut:[{name:"Timestamp",links:[{portIn:"Number M",portOut:"Timestamp",objIn:"4yc9zphjr",objOut:"5ubgt0txo"}]}],objName:"Ops.User.rambodc.UTC_DateNow"},{id:"4yc9zphjr",uiAttribs:{},portsIn:[{name:"Format",value:'{\n    "uid": "$a",\n    "email": "$d",\n    "firstName": "$b",\n    "lastName": "$c",\n    "totalRaz": 50,\n    "userType": "user",\n    "userStatus": "active",\n\n    "emailVerified": false,\n    "utcOffset": "$e",\n    "lastResetTime": $m,\n    "dailyRaz": 0,\n    "lastOp": "userSetup"\n\n}\n'},{name:"String F",value:""},{name:"String G",value:""},{name:"String H",value:""},{name:"String I",value:""},{name:"String J",value:""},{name:"String K",value:""},{name:"String L",value:""},{name:"Number N",value:0},{name:"Number O",value:0},{name:"Number P",value:0},{name:"Number Q",value:0},{name:"Number R",value:0},{name:"Number S",value:0},{name:"Number T",value:0},{name:"Number U",value:0},{name:"Number V",value:0}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"ctbfwx7x2",objOut:"4yc9zphjr"}]}],objName:"Ops.User.rambodc.StringCompose3"},{id:"be3x15z5d",uiAttribs:{},portsIn:[{name:"Path",value:"lastResetTime"}],portsOut:[{name:"Output",links:[{portIn:"lastResetTime (UTC Milliseconds)",portOut:"Output",objIn:"7szg5mehj",objOut:"be3x15z5d"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"mbbhmy4yd",uiAttribs:{},portsOut:[{name:"trigger",links:[{portIn:"Trigger Last Reset Time Update",portOut:"trigger",objIn:"yisyedysb",objOut:"mbbhmy4yd"}]},{name:"timesTriggered",value:11}],objName:"Ops.Trigger.TriggerCounter"},{id:"actdzo6y5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"p51cztp62",uiAttribs:{},portsIn:[{name:"Path",value:"utcOffset"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"UTC Offset",portOut:"Output",objIn:"7szg5mehj",objOut:"p51cztp62"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"kqidn2hwi",uiAttribs:{},portsIn:[{name:"Path",value:"dailyRaz"}],portsOut:[{name:"Output",value:0},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"zh0ysvy2n",uiAttribs:{},portsIn:[{name:"delay",value:.2}],portsOut:[{name:"next",links:[{portIn:"Trigger",portOut:"next",objIn:"7szg5mehj",objOut:"zh0ysvy2n"}]},{name:"Delaying",value:false}],objName:"Ops.Trigger.DelayedTrigger"},{id:"00uoxp66j",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"471dfawx9",objOut:"00uoxp66j"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"471dfawx9",uiAttribs:{},portsIn:[{name:"Path",value:"dailyRaz"}],portsOut:[{name:"Output",links:[{portIn:"Value",portOut:"Output",objIn:"f3jqvl2wz",objOut:"471dfawx9"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"s9qtvu50o",uiAttribs:{},portsIn:[{name:"Icon",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2F24hours1.png?alt=media"},{name:"Text",value:"Daily Collect"},{name:"Icon Right",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fnext64.png?alt=media"},{name:"Corners",value:0},{name:"Visible",value:1}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"fgxv931nw",objOut:"s9qtvu50o"}]},{name:"Pressed Trigger",links:[{portIn:"n6dz5ut5m",portOut:"Pressed Trigger",objIn:"9koybyh6p",objOut:"s9qtvu50o"}]}],objName:"Ops.User.rambodc.button_Icon"},{id:"9koybyh6p",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/daily",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_9koybyh6p"}],objName:"Ops.User.rambodc.SetURL"},{id:"jxb930wnw",uiAttribs:{},portsIn:[{name:"Variable",value:"usersListner"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"fecnspmrm",objOut:"jxb930wnw"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"fecnspmrm",uiAttribs:{},portsIn:[{name:"Path",value:"dailyRaz"}],portsOut:[{name:"Output",links:[{portIn:"Number",portOut:"Output",objIn:"5uv73rgj4",objOut:"fecnspmrm"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"},{id:"7szg5mehj",uiAttribs:{},portsOut:[{name:"Changed Trigger",links:[{portIn:"exe",portOut:"Changed Trigger",objIn:"mbbhmy4yd",objOut:"7szg5mehj"}]},{name:"No Changed Trigger",links:[{portIn:"exe",portOut:"No Changed Trigger",objIn:"actdzo6y5",objOut:"7szg5mehj"}]},{name:"New lastResetTime (UTC Milliseconds)",links:[{portIn:"Number M",portOut:"New lastResetTime (UTC Milliseconds)",objIn:"zdmvc3kfu",objOut:"7szg5mehj"}]}],objName:"Ops.User.rambodc.LastResetTime1"},{id:"edl9p9qwy",uiAttribs:{},portsIn:[{name:"Format",value:"$a RAZ"},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Text Right",portOut:"Result",objIn:"s9qtvu50o",objOut:"edl9p9qwy"}]}],objName:"Ops.String.StringCompose_v3"},{id:"5uv73rgj4",uiAttribs:{},portsIn:[{name:"Decimal Places",value:2}],portsOut:[{name:"Result",links:[{portIn:"String A",portOut:"Result",objIn:"edl9p9qwy",objOut:"5uv73rgj4"}]}],objName:"Ops.String.NumberToString_v2"},{id:"kk3dokl2w",uiAttribs:{},portsIn:[{name:"Text",value:"You have reached your daily RAZ Limit"},{name:"Id",value:""},{name:"Button",value:1},{name:"Text Color",value:"rgba(219, 35, 22,1)"},{name:"Text Size",value:"13px"},{name:"Line Height",value:"1"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,0.0)"},{name:"Hover Color",value:"rgba(255,255,255,0.0)"},{name:"Margin",value:"10px 0px 0px 0px"},{name:"Padding",value:"0px 0px 0px 0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"zfjp3fncn",objOut:"kk3dokl2w"}]},{name:"Clicked",links:[{portIn:"n6dz5ut5m",portOut:"Clicked",objIn:"5bath9d2c",objOut:"kk3dokl2w"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"f3jqvl2wz",uiAttribs:{},portsIn:[{name:"Range 1",value:0},{name:"Range 2",value:100}],portsOut:[{name:"Result",links:[{portIn:"Boolean",portOut:"Result",objIn:"k4raddwct",objOut:"f3jqvl2wz"}]}],objName:"Ops.Math.Compare.BetweenEquals"},{id:"k4raddwct",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Visible",portOut:"Result",objIn:"kk3dokl2w",objOut:"k4raddwct"}]}],objName:"Ops.Boolean.Not"},{id:"5bath9d2c",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"n6dz5ut5m",title:"Trigger"},{name:"lgwr24sd3",value:"/c",title:"Directory 1"},{name:"t9sx2ey0f",value:"/daily",title:"Directory 2"},{name:"1ovs04j4c",value:"",title:"Directory 3"},{name:"l3dmhco3f",value:"",title:"Directory 4"},{name:"u4qh8rfom",value:"",title:"Directory 5"},{name:"patchId",value:"bp2sub_5bath9d2c"}],objName:"Ops.User.rambodc.SetURL"},{id:"se9qg8fm9",uiAttribs:{},portsIn:[{name:"Data Array"},{name:"First Page Number",value:10}],portsOut:[{name:"Button Index",value:0},{name:"Has Second Page",value:true}],objName:"Ops.User.rambodc.List6"},{id:"4wuohs30c",uiAttribs:{},portsIn:[{name:"Stride",value:0},{name:"Start Row",value:0}],objName:"Ops.Ui.VizArrayTable"},{id:"9uv4kpyhv",uiAttribs:{},portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"6knnp4kvc",objOut:"9uv4kpyhv"}]},{name:"Button Index",value:6},{name:"Selected Object",links:[{portIn:"Object",portOut:"Selected Object",objIn:"5ya60bkk4",objOut:"9uv4kpyhv"}]},{name:"Has Second Page",value:false}],objName:"Ops.User.rambodc.ListHistoryTxn1"},{id:"kligvimnf",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Visible",portOut:"Result",objIn:"6knnp4kvc",objOut:"kligvimnf"}]}],objName:"Ops.Boolean.Not"},{id:"utbky6luy",uiAttribs:{},portsIn:[{name:"Height",value:"100px"}],objName:"Ops.User.rambodc.Sidebar_Space"},{id:"1f449l8pq",uiAttribs:{},portsIn:[{name:"Collection name",value:"functionCalls"},{name:"Use Query",value:1},{name:"Query Field",value:"functionName"},{name:"Query Operator index",value:2},{name:"Query Operator",value:"=="},{name:"Query Value As index",value:0},{name:"Query Value As",value:"String"},{name:"Query Value String",value:"follow"},{name:"Query Value Number",value:0},{name:"Query Value Boolean",value:0},{name:"Query Value Array",value:0},{name:"Filter On or Off",value:0},{name:"Filter Key",value:""},{name:"Value Must Be",value:""}],portsOut:[{name:"Error Message",value:""},{name:"Document Not Found",value:false}],objName:"Ops.User.rambodc.FBQueryAllDocuments1"},{id:"jlgwj7lx3",uiAttribs:{},portsOut:[{name:"Children",links:[{portIn:"link",portOut:"Children",objIn:"0hd8suako",objOut:"jlgwj7lx3"}]},{name:"Button Index",value:0},{name:"Has Second Page",value:false}],objName:"Ops.User.rambodc.ListHistoryFollow"},{id:"6knnp4kvc",uiAttribs:{},portsIn:[{name:"Text",value:"Load More"},{name:"Id",value:""},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"14px"},{name:"Line Height",value:"1.9"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,.0)"},{name:"Hover Color",value:"rgba(255,255,255,.1)"},{name:"Margin",value:"10px 30%"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"center"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"utbky6luy",objOut:"6knnp4kvc"}]},{name:"Clicked",links:[{portIn:"Fetch Next Page",portOut:"Clicked",objIn:"0n9gueauj",objOut:"6knnp4kvc"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"0thflwx9y",uiAttribs:{},portsIn:[{name:"Text",value:"People"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,.0)"},{name:"Hover Color",value:"rgba(255,255,255,.1)"},{name:"Margin",value:"10px 1px 10px 20px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"jlgwj7lx3",objOut:"0thflwx9y"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"nqav7ftwa",uiAttribs:{},portsIn:[{name:"Collection name",value:"functionCalls"},{name:"Page Limit",value:3}],portsOut:[{name:"Documents",links:[{portIn:"Input Data Array",portOut:"Documents",objIn:"jlgwj7lx3",objOut:"nqav7ftwa"}]},{name:"No Documents Found",value:true},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.History1"},{id:"0hd8suako",uiAttribs:{},portsIn:[{name:"Text",value:"Collecting"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"15px"},{name:"Line Height",value:"1.2"},{name:"Bold",value:1},{name:"Background Color",value:"rgba(255,255,255,.0)"},{name:"Hover Color",value:"rgba(255,255,255,.1)"},{name:"Margin",value:"15px 1px 10px 20px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"left"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"Link",portOut:"childs",objIn:"9uv4kpyhv",objOut:"0hd8suako"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"0n9gueauj",uiAttribs:{},portsIn:[{name:"Collection name",value:"transactions"},{name:"Page Limit",value:3}],portsOut:[{name:"Documents",links:[{portIn:"Array",portOut:"Documents",objIn:"4wuohs30c",objOut:"0n9gueauj"},{portIn:"Input Data Array",portOut:"Documents",objIn:"9uv4kpyhv",objOut:"0n9gueauj"}]},{name:"No Documents Found",links:[{portIn:"Boolean",portOut:"No Documents Found",objIn:"kligvimnf",objOut:"0n9gueauj"}]},{name:"Error Message",value:""}],objName:"Ops.User.rambodc.History2"},{id:"rky5nw9de",uiAttribs:{},portsIn:[{name:"Media URL",value:"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2F1zfile_example_MP4_480_1_5MG.mp4?alt=media"},{name:"Position index",value:1},{name:"Position",value:"Center"},{name:"Corner",value:0},{name:"Visible",value:1},{name:"Autoplay",value:0},{name:"Loop",value:1},{name:"Mute",value:0}],objName:"Ops.User.rambodc.Sidebar_video"},{id:"8zwnijqwx",uiAttribs:{},portsOut:[{name:"Was Triggered",value:1}],objName:"Ops.Trigger.TriggerOnce"},{id:"e3c210iwi",uiAttribs:{},portsIn:[{name:"Text",value:"Refresh"},{name:"Id",value:""},{name:"Visible",value:1},{name:"Button",value:1},{name:"Text Color",value:"rgba(1,1,1,1)"},{name:"Text Size",value:"14px"},{name:"Line Height",value:"1.9"},{name:"Bold",value:0},{name:"Background Color",value:"rgba(255,255,255,.0)"},{name:"Hover Color",value:"rgba(255,255,255,.0)"},{name:"Margin",value:"1px 20px 1px 61px"},{name:"Padding",value:"0px"},{name:"Height",value:"auto"},{name:"Width",value:"auto"},{name:"Text Align",value:"right"},{name:"Border Radius",value:"5px"}],portsOut:[{name:"childs",links:[{portIn:"link",portOut:"childs",objIn:"0thflwx9y",objOut:"e3c210iwi"}]}],objName:"Ops.User.rambodc.Sidebar_Text_customize"},{id:"c0bp8gslg",uiAttribs:{},portsIn:[{name:"Collection name",value:"functionCalls"},{name:"Subcollection name",value:""},{name:"Subdocument ID",value:""}],portsOut:[{name:"Error",value:0},{name:"Error Message",value:""},{name:"Document",links:[{portIn:"Object",portOut:"Document",objIn:"s5sgipxth",objOut:"c0bp8gslg"},{portIn:"Object",portOut:"Document",objIn:"rts23flwv",objOut:"c0bp8gslg"}]},{name:"Document Not Found",value:false}],objName:"Ops.User.rambodc.FBGetOneDocument1"},{id:"y9z96o34b",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"9su6uo9rs",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vpy2pg1gc",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"j83ftxuvj",uiAttribs:{},portsIn:[{name:"Path",value:"documentId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"Document ID",portOut:"Output",objIn:"c0bp8gslg",objOut:"j83ftxuvj"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"s5sgipxth",uiAttribs:{},portsIn:[{name:"Path",value:"response.candidates.0.content.parts.0.text"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String",portOut:"Output",objIn:"1n02rzrkq",objOut:"s5sgipxth"}]},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"1n02rzrkq",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Whitespace",value:0},{name:"Wrap lines",value:0},{name:"Syntax index",value:0},{name:"Syntax",value:"text"},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizString"},{id:"rts23flwv",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"eqwkneq8k",uiAttribs:{},portsIn:[{name:"String 0",value:""},{name:"String 1",value:"https://us-central1-razz5-14781.cloudfunctions.net/"},{name:"String 2",value:"https://us-central1-staging1-255e9.cloudfunctions.net/"},{name:"String 3",value:"https://us-central1-production1-fbd5d.cloudfunctions.net/"},{name:"String 4",value:""},{name:"String 5",value:""},{name:"String 6",value:""},{name:"String 7",value:""},{name:"String 8",value:""},{name:"String 9",value:""}],portsOut:[{name:"Result",links:[{portIn:"Value",portOut:"Result",objIn:"8suq2y8sr",objOut:"eqwkneq8k"}]}],objName:"Ops.String.SwitchString"},{id:"y3k8giy1x",uiAttribs:{},portsIn:[{name:"Variable",value:"environment"}],portsOut:[{name:"Value",links:[{portIn:"Index",portOut:"Value",objIn:"eqwkneq8k",objOut:"y3k8giy1x"}]}],objName:"Ops.Vars.VarGetNumber_v2"},{id:"8suq2y8sr",uiAttribs:{},portsIn:[{name:"Variable",value:"functionPath"}],objName:"Ops.Vars.VarSetString_v2"},{id:"qx75fdg35",uiAttribs:{},portsIn:[{name:"Prompt",value:"Number 44 - How can you say this number in french"},{name:"Type",value:"Test3"}],portsOut:[{name:"RunAI3 Response",links:[{portIn:"Object",portOut:"RunAI3 Response",objIn:"vpy2pg1gc",objOut:"qx75fdg35"},{portIn:"Object",portOut:"RunAI3 Response",objIn:"j83ftxuvj",objOut:"qx75fdg35"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"y9z96o34b",objOut:"qx75fdg35"},{portIn:"Trigger",portOut:"Success",objIn:"c0bp8gslg",objOut:"qx75fdg35"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"9su6uo9rs",objOut:"qx75fdg35"}]}],objName:"Ops.User.rambodc.Test7"},{id:"cw9f0w1wx",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Sign out",portOut:"Next",objIn:"8axprz1fp",objOut:"cw9f0w1wx"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"gqp61ny22",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"y6lpkzu9m",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"2r9oz7bye",uiAttribs:{},portsIn:[{name:"Google API CDN URL",value:"https://apis.google.com/js/api.js"},{name:"OAuth Client ID",value:"327095907332-4i48rss89cqhq445n1t20qbj3us1481j.apps.googleusercontent.com"},{name:"Project ID",value:"razz5-14781"},{name:"SQL Query",value:"SELECT * FROM `razz5-14781.firestore_export.posts_raw_latest` LIMIT 10"}],portsOut:[{name:"Initialized",value:false},{name:"Error Message",value:"google is not defined. Make sure the Google API script is loaded properly."},{name:"Query Success",links:[{portIn:"exe",portOut:"Query Success",objIn:"gqp61ny22",objOut:"2r9oz7bye"}]},{name:"Query Failure",links:[{portIn:"exe",portOut:"Query Failure",objIn:"y6lpkzu9m",objOut:"2r9oz7bye"}]},{name:"In Progress",value:false}],objName:"Ops.User.rambodc.BigQueryInit"},{id:"5w3t65c0s",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vuf18ibeq",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"vt4um2vk3",uiAttribs:{},portsIn:[{name:"Path",value:"0.data"}],portsOut:[{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ArrayGetObjectByPath"},{id:"rucbvyk5p",uiAttribs:{},portsIn:[{name:"Path",value:"2.data.ai.candidates.0.content.parts.0.text"},{name:"Return path if missing",value:0}],portsOut:[{name:"Output",value:""},{name:"Found",value:false}],objName:"Ops.Data.JsonPath.ArrayGetStringByPath"},{id:"il8czwmef",uiAttribs:{},portsIn:[{name:"Stride",value:0},{name:"Scroll",value:0}],objName:"Ops.Ui.VizArrayTable_v2"},{id:"oipu4i336",uiAttribs:{},portsIn:[{name:"Query",value:"SELECT data FROM `razz5-14781.firestore_export.posts_raw_changelog` WHERE user_uid = 'DeKGnVkIANhwDyLgNIbNtHwh8CF3' LIMIT 10"},{name:"Custom Filter (JavaScript)",value:"item.data.status === 'uploaded'"},{name:"Type",value:"query4"},{name:"Firebase Auth Token",value:""}],portsOut:[{name:"RunAI4 Response",links:[{portIn:"Array",portOut:"RunAI4 Response",objIn:"vt4um2vk3",objOut:"oipu4i336"},{portIn:"Array",portOut:"RunAI4 Response",objIn:"rucbvyk5p",objOut:"oipu4i336"},{portIn:"Array",portOut:"RunAI4 Response",objIn:"il8czwmef",objOut:"oipu4i336"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"5w3t65c0s",objOut:"oipu4i336"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"vuf18ibeq",objOut:"oipu4i336"}]}],objName:"Ops.User.rambodc.Test8"},{id:"wimhsmbho",uiAttribs:{},portsIn:[{name:"Named Trigger",value:0}],objName:"Ops.Trigger.TriggerReceive"},{id:"3ohx7bzak",uiAttribs:{},portsOut:[{name:"URL",value:"https://sandbox.cables.gl/ui/#/c/edit/HTdIjucLFNz8xUV4cb6r"},{name:"Host",value:"sandbox.cables.gl"},{name:"Hash",value:"#/c/edit/1P3CIBUkTez2sjkMT9Fl"},{name:"Pathname",value:"/ui/"},{name:"Protocol",value:"https:"},{name:"Port",value:""},{name:"Hash Changed",links:[{portIn:"Trigger",portOut:"Hash Changed",objIn:"y685u7z87",objOut:"3ohx7bzak"}]}],objName:"Ops.Website.InfoURL"},{id:"y685u7z87",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"hashUrlChanged"}],objName:"Ops.Trigger.TriggerSend"},{id:"5zqlfqtn7",uiAttribs:{},portsIn:[{name:"Title",value:"Hash Changed"}],objName:"Ops.Ui.Area"},{id:"nxtc30s1p",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"kx1vq99ya",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"j3mva5chz",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"w8xn43jrr",uiAttribs:{},portsIn:[{name:"Search For",value:"/redirect"},{name:"Replace",value:""},{name:"Replace What index",value:0},{name:"Replace What",value:"All"}],portsOut:[{name:"Result",links:[{portIn:"Hash",portOut:"Result",objIn:"wl2rz2h9r",objOut:"w8xn43jrr"}]}],objName:"Ops.String.StringReplace"},{id:"lpf4rjgfq",uiAttribs:{},portsIn:[{name:"Variable",value:"redirectPath"}],portsOut:[{name:"Value",links:[{portIn:"String",portOut:"Value",objIn:"w8xn43jrr",objOut:"lpf4rjgfq"}]}],objName:"Ops.Vars.VarGetString"},{id:"sehw6fpa5",uiAttribs:{},portsOut:[{name:"then",links:[{portIn:"Update",portOut:"then",objIn:"wl2rz2h9r",objOut:"sehw6fpa5"}]},{name:"else",links:[{portIn:"n6dz5ut5m",portOut:"else",objIn:"z83y8j6be",objOut:"sehw6fpa5"}]}],objName:"Ops.Boolean.IfTrueThen_v2"},{id:"wl2rz2h9r",uiAttribs:{},portsIn:[{name:"Active",value:1},{name:"Silent",value:0},{name:"Allow Empty",value:0}],objName:"Ops.Website.SetLocationHash"},{id:"ao9sfs6ul",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"l4upicx39",uiAttribs:{},portsOut:[{name:"User Setup Response",links:[{portIn:"Object",portOut:"User Setup Response",objIn:"nxtc30s1p",objOut:"l4upicx39"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"j3mva5chz",objOut:"l4upicx39"},{portIn:"exe",portOut:"Success",objIn:"sehw6fpa5",objOut:"l4upicx39"},{portIn:"false",portOut:"Success",objIn:"pcryf34tm",objOut:"l4upicx39"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"kx1vq99ya",objOut:"l4upicx39"}]}],objName:"Ops.User.rambodc.V1UserSetup"},{id:"escpjel73",uiAttribs:{},portsIn:[{name:"Path",value:"general"}],portsOut:[{name:"Output",links:[{portIn:"Input Object",portOut:"Output",objIn:"dghnpz4bg",objOut:"escpjel73"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"},{id:"pupjcle77",uiAttribs:{},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"cgbjvova7",objOut:"pupjcle77"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"cgbjvova7",uiAttribs:{},portsIn:[{name:"Path",value:"projectId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String A",portOut:"Output",objIn:"m7tqm91zv",objOut:"cgbjvova7"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"m7tqm91zv",uiAttribs:{},portsIn:[{name:"Format",value:"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/users%2F$b%2FprofilePhoto%2F$b_200x200.png?alt=media                              "},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""}],portsOut:[{name:"Result",links:[{portIn:"Image URL",portOut:"Result",objIn:"3nwv2r14e",objOut:"m7tqm91zv"}]}],objName:"Ops.User.rambodc.StringComposeEditor"},{id:"pjjr2taom",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String B",portOut:"Value",objIn:"m7tqm91zv",objOut:"pjjr2taom"}]}],objName:"Ops.Vars.VarGetString"},{id:"zdmvc3kfu",uiAttribs:{},portsIn:[{name:"Format",value:'{\n\n\n  "uid": "$a",\n  "dailyRaz": $n,\n  "lastResetTime": $m\n\n\n\n}'},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""},{name:"String G",value:""},{name:"String H",value:""},{name:"String I",value:""},{name:"String J",value:""},{name:"String K",value:""},{name:"String L",value:""},{name:"Number N",value:0},{name:"Number O",value:0},{name:"Number P",value:0},{name:"Number Q",value:0},{name:"Number R",value:0},{name:"Number S",value:0},{name:"Number T",value:0},{name:"Number U",value:0},{name:"Number V",value:0}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"djerqzjl2",objOut:"zdmvc3kfu"}]}],objName:"Ops.User.rambodc.StringCompose3"},{id:"3oho7t0p4",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"c5j8fjoyk",uiAttribs:{},portsOut:[{name:"timesTriggered",value:11}],objName:"Ops.Trigger.TriggerCounter"},{id:"gtzynhxf5",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"djerqzjl2",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Request Body",portOut:"Result",objIn:"yisyedysb",objOut:"djerqzjl2"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"yisyedysb",uiAttribs:{},portsOut:[{name:"Last Reset Time Response",links:[{portIn:"Object",portOut:"Last Reset Time Response",objIn:"3oho7t0p4",objOut:"yisyedysb"}]},{name:"Error Message",value:"Error: Unauthorized: User does not have the required permissions."},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"gtzynhxf5",objOut:"yisyedysb"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"c5j8fjoyk",objOut:"yisyedysb"}]}],objName:"Ops.User.rambodc.V1lastResetTime"},{id:"lunond3kv",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"zdmvc3kfu",objOut:"lunond3kv"}]}],objName:"Ops.Vars.VarGetString"},{id:"rf9s0h9py",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"02t7hzmhk",title:"Visible"},{name:"gy342pc5t",value:"Creating Account <br> Hang on..",title:"Short Msg"},{name:"tyq5lu94r",value:.1,title:"Delay False"},{name:"patchId",value:"bp2sub_rf9s0h9py"}],objName:"Ops.User.rambodc.LoaderMsg"},{id:"8axprz1fp",uiAttribs:{},portsIn:[{name:"Firebase CDN URL",value:"https://www.gstatic.com/firebasejs/8.10.0/firebase.js"}],portsOut:[{name:"Logged in",links:[{portIn:"Value",portOut:"Logged in",objIn:"559a8954-fd2d-4727-b205-5296e96bbd7f",objOut:"8axprz1fp"},{portIn:"Value",portOut:"Logged in",objIn:"3r69kuuy8",objOut:"8axprz1fp"}]},{name:"User Simple",links:[{portIn:"Object",portOut:"User Simple",objIn:"f472492b-470e-4795-90ed-c12af2c6781f",objOut:"8axprz1fp"},{portIn:"Object",portOut:"User Simple",objIn:"6cf17974-0ac5-475c-8cca-2cdddf0321d2",objOut:"8axprz1fp"},{portIn:"Object",portOut:"User Simple",objIn:"xugrbsek4",objOut:"8axprz1fp"},{portIn:"Object",portOut:"User Simple",objIn:"aik00w0nz",objOut:"8axprz1fp"},{portIn:"Object",portOut:"User Simple",objIn:"ki2nrfjl4",objOut:"8axprz1fp"},{portIn:"Object",portOut:"User Simple",objIn:"jknfr0mmo",objOut:"8axprz1fp"}]},{name:"Authentication error",links:[{portIn:"Object",portOut:"Authentication error",objIn:"23ff3d53-ed34-4c2f-b514-752f07fa72f9",objOut:"8axprz1fp"},{portIn:"Object",portOut:"Authentication error",objIn:"iovptqp1d",objOut:"8axprz1fp"},{portIn:"Object",portOut:"Authentication error",objIn:"29a162ed-476a-4040-b378-1abd526f12f6",objOut:"8axprz1fp"}]},{name:"Initialized",value:true},{name:"Signin Success",links:[{portIn:"Execute",portOut:"Signin Success",objIn:"0afb0f84-51b7-4547-ad3a-e35520529be0",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Signin Success",objIn:"nh7na3lke",objOut:"8axprz1fp"}]},{name:"Signin Fail",links:[{portIn:"Execute",portOut:"Signin Fail",objIn:"06psqgqyr",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Signin Fail",objIn:"o8a8sy0bc",objOut:"8axprz1fp"}]},{name:"Signup Success",links:[{portIn:"Execute",portOut:"Signup Success",objIn:"20e1faf6-fd3b-4d8b-b1e1-2767e502a5ca",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Signup Success",objIn:"sm12emk8p",objOut:"8axprz1fp"}]},{name:"Signup Fail",links:[{portIn:"exe",portOut:"Signup Fail",objIn:"e4845a01-990e-4031-935c-e92e15d22890",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Signup Fail",objIn:"u3rzndjpj",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Signup Fail",objIn:"a1ac4lulp",objOut:"8axprz1fp"}]},{name:"Firebase ID Token",links:[{portIn:"Value",portOut:"Firebase ID Token",objIn:"wk0a2opgp",objOut:"8axprz1fp"}]},{name:"Auth Token",links:[{portIn:"Value",portOut:"Auth Token",objIn:"rs1g0a0zy",objOut:"8axprz1fp"}]},{name:"Not Registered",links:[{portIn:"exe",portOut:"Not Registered",objIn:"u7aln5bj5",objOut:"8axprz1fp"},{portIn:"exe",portOut:"Not Registered",objIn:"bjnyy1zgt",objOut:"8axprz1fp"}]},{name:"In Progress",links:[{portIn:"02t7hzmhk",portOut:"In Progress",objIn:"opsww6ejj",objOut:"8axprz1fp"}]}],objName:"Ops.User.rambodc.Firebase_Auth3"},{id:"wk0a2opgp",uiAttribs:{},portsIn:[{name:"Variable",value:"fbTokenId"}],objName:"Ops.Vars.VarSetString_v2"},{id:"rs1g0a0zy",uiAttribs:{},portsIn:[{name:"Variable",value:"fbAuthToken"}],objName:"Ops.Vars.VarSetString_v2"},{id:"9xwzu00s5",uiAttribs:{},portsIn:[{name:"Variable",value:"fbAuthToken"}],portsOut:[{name:"Value",links:[{portIn:"Firebase Auth Token",portOut:"Value",objIn:"l4upicx39",objOut:"9xwzu00s5"}]}],objName:"Ops.Vars.VarGetString"},{id:"ctmnul39d",uiAttribs:{},portsIn:[{name:"Variable",value:"fbAuthToken"}],portsOut:[{name:"Value",links:[{portIn:"Firebase Auth Token",portOut:"Value",objIn:"qx75fdg35",objOut:"ctmnul39d"}]}],objName:"Ops.Vars.VarGetString"},{id:"1nx0pg1dp",uiAttribs:{},portsIn:[{name:"Variable",value:"fbAuthToken"}],portsOut:[{name:"Value",links:[{portIn:"Firebase Auth Token",portOut:"Value",objIn:"yisyedysb",objOut:"1nx0pg1dp"}]}],objName:"Ops.Vars.VarGetString"},{id:"qr4ok75kj",uiAttribs:{},portsIn:[{name:"Named Trigger",value:"hashUrlChanged"}],portsOut:[{name:"Triggered",links:[{portIn:"Trigger",portOut:"Triggered",objIn:"7szg5mehj",objOut:"qr4ok75kj"}]}],objName:"Ops.Trigger.TriggerReceive"},{id:"oej9w2ebg",uiAttribs:{},portsOut:[{name:"Next",links:[{portIn:"Trigger Last Reset Time Update",portOut:"Next",objIn:"yisyedysb",objOut:"oej9w2ebg"}]}],objName:"Ops.Trigger.TriggerButton"},{id:"35m08dpxo",uiAttribs:{},storage:{blueprintVer:2,subPatchVer:2},portsIn:[{name:"patchId",value:"bp2sub_35m08dpxo"}],objName:"Ops.Patch.Pbhaubb.SubPatch3"},{id:"yjzqmwxr1",uiAttribs:{},storage:{subPatchVer:2},portsIn:[{name:"patchId",value:"ea8887ae-069a-4c54-9ff7-63616849de60"}],objName:"Ops.Ui.Subpatch2Template"},{id:"hbdl3dzrv",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"kmdwce18s",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"99dfmrtf9",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"nbn6gdrgg",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsOut:[{name:"User Status Update Response",links:[{portIn:"Object",portOut:"User Status Update Response",objIn:"hbdl3dzrv",objOut:"nbn6gdrgg"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"99dfmrtf9",objOut:"nbn6gdrgg"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"kmdwce18s",objOut:"nbn6gdrgg"}]}],objName:"Ops.User.rambodc.V1UserStatusUpdate"},{id:"gy07bs2ga",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"Variable",value:"fbAuthToken"}],portsOut:[{name:"Value",links:[{portIn:"Firebase Auth Token",portOut:"Value",objIn:"nbn6gdrgg",objOut:"gy07bs2ga"}]}],objName:"Ops.Vars.VarGetString"},{id:"2yoqsl9ie",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsOut:[{name:"Result",links:[{portIn:"Request Body",portOut:"Result",objIn:"nbn6gdrgg",objOut:"2yoqsl9ie"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"c7j42hwj4",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"value",value:""}],portsOut:[{name:"String",links:[{portIn:"String A",portOut:"String",objIn:"8g7frir81",objOut:"c7j42hwj4"}]}],objName:"Ops.String.String_v2"},{id:"bnncm4hb6",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"Variable",value:"urlPath"}],portsOut:[{name:"Value",links:[{portIn:"String E",portOut:"Value",objIn:"8g7frir81",objOut:"bnncm4hb6"}]}],objName:"Ops.Vars.VarGetString"},{id:"8mhfhkx3h",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"Variable",value:"fbConfig"}],portsOut:[{name:"Value",links:[{portIn:"Object",portOut:"Value",objIn:"hn6ka16u6",objOut:"8mhfhkx3h"}]}],objName:"Ops.Vars.VarGetObject_v2"},{id:"hn6ka16u6",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"Path",value:"projectId"},{name:"Output path if missing",value:0}],portsOut:[{name:"Output",links:[{portIn:"String D",portOut:"Output",objIn:"8g7frir81",objOut:"hn6ka16u6"}]},{name:"Found",value:true}],objName:"Ops.Data.JsonPath.ObjectGetStringByPath"},{id:"8g7frir81",uiAttribs:{subPatch:"ea8887ae-069a-4c54-9ff7-63616849de60"},portsIn:[{name:"Format",value:'\n\n{\n  "postId": "$a",\n  "title": "$b",\n  "description": "$c",\n  "image": "https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fresized%2F$a_1200x1200.png?alt=media",\n  "ogUrl": "https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media",\n  "redirectUrl": "$e#/d/post/$a",\n  "refresh": "1"\n}\n\n\n'},{name:"String B",value:""},{name:"String C",value:""},{name:"String F",value:""},{name:"String G",value:""},{name:"String H",value:""},{name:"String I",value:""},{name:"String J",value:""},{name:"String K",value:""},{name:"String L",value:""},{name:"String M",value:""},{name:"String N",value:""},{name:"String O",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"2yoqsl9ie",objOut:"8g7frir81"}]}],objName:"Ops.User.rambodc.StringComposeEditorMAX"},{id:"nlk40ko0n",uiAttribs:{},portsIn:[{name:"Variable",value:"fbAuthToken"}],portsOut:[{name:"Value",links:[{portIn:"Firebase Auth Token",portOut:"Value",objIn:"18s03fj8a",objOut:"nlk40ko0n"}]}],objName:"Ops.Vars.VarGetString"},{id:"18s03fj8a",uiAttribs:{},portsOut:[{name:"User Status Update Response",links:[{portIn:"Object",portOut:"User Status Update Response",objIn:"zbxjsbne7",objOut:"18s03fj8a"}]},{name:"Error Message",value:""},{name:"Is Listening",value:false},{name:"Success",links:[{portIn:"exe",portOut:"Success",objIn:"bc86im635",objOut:"18s03fj8a"}]},{name:"Failure",links:[{portIn:"exe",portOut:"Failure",objIn:"hlm275w7q",objOut:"18s03fj8a"}]}],objName:"Ops.User.rambodc.V1UserStatusUpdate"},{id:"bc86im635",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"hlm275w7q",uiAttribs:{},portsOut:[{name:"timesTriggered",value:0}],objName:"Ops.Trigger.TriggerCounter"},{id:"zbxjsbne7",uiAttribs:{},portsIn:[{name:"ZoomText",value:0},{name:"Line Numbers",value:1},{name:"Experimental Stringify",value:1},{name:"Font Size",value:10},{name:"Scroll",value:0}],objName:"Ops.Ui.VizObject"},{id:"5g24lx8pd",uiAttribs:{},portsIn:[{name:"Format",value:'{\n  "uid": "$a",       \n  "userStatus": "active" \n}'},{name:"String B",value:""},{name:"String C",value:""},{name:"String D",value:""},{name:"String E",value:""},{name:"String F",value:""},{name:"String G",value:""},{name:"String H",value:""},{name:"String I",value:""},{name:"String J",value:""},{name:"String K",value:""},{name:"String L",value:""},{name:"String M",value:""},{name:"String N",value:""},{name:"String O",value:""}],portsOut:[{name:"Result",links:[{portIn:"JSON String",portOut:"Result",objIn:"197ajerp9",objOut:"5g24lx8pd"}]}],objName:"Ops.User.rambodc.StringComposeEditorMAX"},{id:"197ajerp9",uiAttribs:{},portsOut:[{name:"Result",links:[{portIn:"Request Body",portOut:"Result",objIn:"18s03fj8a",objOut:"197ajerp9"}]},{name:"Valid",value:1}],objName:"Ops.Json.ParseObject_v2"},{id:"w9m20fcd1",uiAttribs:{},portsIn:[{name:"Variable",value:"uid"}],portsOut:[{name:"Value",links:[{portIn:"String A",portOut:"Value",objIn:"5g24lx8pd",objOut:"w9m20fcd1"}]}],objName:"Ops.Vars.VarGetString"},{id:"f3bj2ngve",uiAttribs:{},portsIn:[{name:"Title",value:"UserStatusUpdate"}],objName:"Ops.Ui.Area"}],export:{time:"2024-11-10 00:16",service:"html",exportNumber:262}};if(!CABLES.exportedPatch){CABLES.exportedPatch=CABLES.exportedPatches["bhaubb"]}"use strict";var CABLES=CABLES||{};CABLES.OPS=CABLES.OPS||{};var Ops=Ops||{};Ops.Gl=Ops.Gl||{};Ops.Ui=Ops.Ui||{};Ops.Anim=Ops.Anim||{};Ops.Data=Ops.Data||{};Ops.Html=Ops.Html||{};Ops.Json=Ops.Json||{};Ops.Math=Ops.Math||{};Ops.User=Ops.User||{};Ops.Vars=Ops.Vars||{};Ops.Array=Ops.Array||{};Ops.Color=Ops.Color||{};Ops.Patch=Ops.Patch||{};Ops.Cables=Ops.Cables||{};Ops.Number=Ops.Number||{};Ops.String=Ops.String||{};Ops.Boolean=Ops.Boolean||{};Ops.Devices=Ops.Devices||{};Ops.Sidebar=Ops.Sidebar||{};Ops.Trigger=Ops.Trigger||{};Ops.Website=Ops.Website||{};Ops.Gl.Phong=Ops.Gl.Phong||{};Ops.Graphics=Ops.Graphics||{};Ops.Html.CSS=Ops.Html.CSS||{};Ops.TimeLine=Ops.TimeLine||{};Ops.Extension=Ops.Extension||{};Ops.Gl.Matrix=Ops.Gl.Matrix||{};Ops.Gl.Meshes=Ops.Gl.Meshes||{};Ops.Gl.Shader=Ops.Gl.Shader||{};Ops.Gl.Textures=Ops.Gl.Textures||{};Ops.Data.Compose=Ops.Data.Compose||{};Ops.Math.Compare=Ops.Math.Compare||{};Ops.User.rambodc=Ops.User.rambodc||{};Ops.Data.JsonPath=Ops.Data.JsonPath||{};Ops.Devices.Mouse=Ops.Devices.Mouse||{};Ops.Patch.Pbhaubb=Ops.Patch.Pbhaubb||{};Ops.Devices.Browser=Ops.Devices.Browser||{};Ops.Gl.ImageCompose=Ops.Gl.ImageCompose||{};Ops.Array.PointArray=Ops.Array.PointArray||{};Ops.Extension.ECharts=Ops.Extension.ECharts||{};Ops.Graphics.Geometry=Ops.Graphics.Geometry||{};Ops.Data.Compose.Array=Ops.Data.Compose.Array||{};Ops.Extension.Deprecated=Ops.Extension.Deprecated||{};Ops.Gl.ImageCompose.Noise=Ops.Gl.ImageCompose.Noise||{};Ops.User.rambodc.SidebarControls=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_1d8i1nhkb=op.inString("1d8i1nhkb","");\nport_1d8i1nhkb.setUiAttribs({title:"Path Name",});\n\nconst port_14qkhodhi=op.inTrigger("14qkhodhi");\nport_14qkhodhi.setUiAttribs({title:"Mainloop",});\n\nconst port_a4ff56gqe=op.outNumber("a4ff56gqe");\nport_a4ff56gqe.setUiAttribs({title:"Result",display:"boolnum",});\n\nconst port_6l7liw33m=op.outString("6l7liw33m");\nport_6l7liw33m.setUiAttribs({title:"Directory 1",});\n\nconst port_3ee1w6bsj=op.outString("3ee1w6bsj");\nport_3ee1w6bsj.setUiAttribs({title:"Directory 2",});\n\nconst port_m5oblmgx9=op.outString("m5oblmgx9");\nport_m5oblmgx9.setUiAttribs({title:"Directory 3",});\n\nconst port_zqf3fcpvb=op.outString("zqf3fcpvb");\nport_zqf3fcpvb.setUiAttribs({title:"Directory 4",});\n\nconst port_nzvovmrv0=op.outString("nzvovmrv0");\nport_nzvovmrv0.setUiAttribs({title:"Directory 5",});\n\nconst port_sffqpjmpg=op.outTrigger("sffqpjmpg");\nport_sffqpjmpg.setUiAttribs({title:"Mainloop",});\n\nconst port_e3d2ws9wo=op.outTrigger("e3d2ws9wo");\nport_e3d2ws9wo.setUiAttribs({title:"Hash Changed",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_1d8i1nhkb = addedOps[i].outString("innerOut_1d8i1nhkb");\ninnerOut_1d8i1nhkb.set(port_1d8i1nhkb.get() );\ninnerOut_1d8i1nhkb.setUiAttribs({title:"Path Name"});\nport_1d8i1nhkb.on("change", (a,v) => { innerOut_1d8i1nhkb.set(a); });\n\nconst innerOut_14qkhodhi = addedOps[i].outTrigger("innerOut_14qkhodhi");\ninnerOut_14qkhodhi.setUiAttribs({title:"Mainloop"});\nport_14qkhodhi.onTriggered = () => { innerOut_14qkhodhi.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_a4ff56gqe = addedOps[i].inFloat("innerIn_a4ff56gqe");\ninnerIn_a4ff56gqe.setUiAttribs({title:"Result"});\ninnerIn_a4ff56gqe.on("change", (a,v) => { port_a4ff56gqe.set(a); });\n\nconst innerIn_6l7liw33m = addedOps[i].inString("innerIn_6l7liw33m");\ninnerIn_6l7liw33m.setUiAttribs({title:"Directory 1"});\ninnerIn_6l7liw33m.on("change", (a,v) => { port_6l7liw33m.set(a); });\n\nconst innerIn_3ee1w6bsj = addedOps[i].inString("innerIn_3ee1w6bsj");\ninnerIn_3ee1w6bsj.setUiAttribs({title:"Directory 2"});\ninnerIn_3ee1w6bsj.on("change", (a,v) => { port_3ee1w6bsj.set(a); });\n\nconst innerIn_m5oblmgx9 = addedOps[i].inString("innerIn_m5oblmgx9");\ninnerIn_m5oblmgx9.setUiAttribs({title:"Directory 3"});\ninnerIn_m5oblmgx9.on("change", (a,v) => { port_m5oblmgx9.set(a); });\n\nconst innerIn_zqf3fcpvb = addedOps[i].inString("innerIn_zqf3fcpvb");\ninnerIn_zqf3fcpvb.setUiAttribs({title:"Directory 4"});\ninnerIn_zqf3fcpvb.on("change", (a,v) => { port_zqf3fcpvb.set(a); });\n\nconst innerIn_nzvovmrv0 = addedOps[i].inString("innerIn_nzvovmrv0");\ninnerIn_nzvovmrv0.setUiAttribs({title:"Directory 5"});\ninnerIn_nzvovmrv0.on("change", (a,v) => { port_nzvovmrv0.set(a); });\n\nconst innerIn_sffqpjmpg = addedOps[i].inTrigger("innerIn_sffqpjmpg");\ninnerIn_sffqpjmpg.setUiAttribs({title:"Mainloop"});\ninnerIn_sffqpjmpg.onTriggered = () => { port_sffqpjmpg.trigger(); };\n\nconst innerIn_e3d2ws9wo = addedOps[i].inTrigger("innerIn_e3d2ws9wo");\ninnerIn_e3d2ws9wo.setUiAttribs({title:"Hash Changed"});\ninnerIn_e3d2ws9wo.onTriggered = () => { port_e3d2ws9wo.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp0-0","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"innerOut_1d8i1nhkb","title":"Path Name","links":[{"portIn":"String 2","portOut":"innerOut_1d8i1nhkb","objIn":"bp0-2","objOut":"bp0-0"}]},{"name":"innerOut_14qkhodhi","title":"Mainloop","links":[{"portIn":"Execute","portOut":"innerOut_14qkhodhi","objIn":"bp0-6","objOut":"bp0-0"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp0-1","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsIn":[{"name":"innerIn_a4ff56gqe","title":"Result"},{"name":"innerIn_6l7liw33m","title":"Directory 1"},{"name":"innerIn_3ee1w6bsj","title":"Directory 2"},{"name":"innerIn_m5oblmgx9","title":"Directory 3"},{"name":"innerIn_zqf3fcpvb","title":"Directory 4"},{"name":"innerIn_nzvovmrv0","value":"","title":"Directory 5"},{"name":"innerIn_sffqpjmpg","title":"Mainloop"},{"name":"innerIn_e3d2ws9wo","title":"Hash Changed"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp0-2","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"innerIn_a4ff56gqe","portOut":"Result","objIn":"bp0-1","objOut":"bp0-2"},{"portIn":"Pass Through","portOut":"Result","objIn":"bp0-6","objOut":"bp0-2"},{"portIn":"boolean","portOut":"Result","objIn":"bp0-8","objOut":"bp0-2"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp0-3","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"URL","value":"https://sandbox.cables.gl/ui/#/a"},{"name":"Host","value":"sandbox.cables.gl"},{"name":"Hash","links":[{"portIn":"String","portOut":"Hash","objIn":"bp0-5","objOut":"bp0-3"}]},{"name":"Pathname","value":"/ui/"},{"name":"Protocol","value":"https:"},{"name":"Port","value":""},{"name":"Hash Changed","links":[{"portIn":"exe","portOut":"Hash Changed","objIn":"bp0-7","objOut":"bp0-3"}]}],"objName":"Ops.Website.InfoURL"},{"id":"bp0-4","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"Directory 1","links":[{"portIn":"innerIn_6l7liw33m","portOut":"Directory 1","objIn":"bp0-1","objOut":"bp0-4"},{"portIn":"String 1","portOut":"Directory 1","objIn":"bp0-2","objOut":"bp0-4"}]},{"name":"Directory 2","links":[{"portIn":"innerIn_3ee1w6bsj","portOut":"Directory 2","objIn":"bp0-1","objOut":"bp0-4"}]},{"name":"Directory 3","links":[{"portIn":"innerIn_m5oblmgx9","portOut":"Directory 3","objIn":"bp0-1","objOut":"bp0-4"}]},{"name":"Directory 4","links":[{"portIn":"innerIn_zqf3fcpvb","portOut":"Directory 4","objIn":"bp0-1","objOut":"bp0-4"}]},{"name":"Directory 5","value":""}],"objName":"Ops.User.rambodc.Path_Parser"},{"id":"bp0-5","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsIn":[{"name":"Search For","value":"#"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"First"}],"portsOut":[{"name":"Result","links":[{"portIn":"Path","portOut":"Result","objIn":"bp0-4","objOut":"bp0-5"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp0-6","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"innerIn_sffqpjmpg","portOut":"Trigger out","objIn":"bp0-1","objOut":"bp0-6"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp0-7","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsIn":[{"name":"delay","value":0.05}],"portsOut":[{"name":"next","links":[{"portIn":"exe","portOut":"next","objIn":"bp0-8","objOut":"bp0-7"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp0-8","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"innerIn_e3d2ws9wo","portOut":"then","objIn":"bp0-1","objOut":"bp0-8"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp0-9","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"Startup"}],"portsOut":[{"name":"Triggered","links":[{"portIn":"exe","portOut":"Triggered","objIn":"bp0-10","objOut":"bp0-9"}]}],"objName":"Ops.Trigger.TriggerReceive"},{"id":"bp0-10","uiAttribs":{"subPatch":"35dyky13k"},"storage":{},"portsIn":[{"name":"delay","value":2}],"portsOut":[{"name":"next","links":[{"portIn":"exe","portOut":"next","objIn":"bp0-7","objOut":"bp0-10"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"}]}'};const d=e.inString("1d8i1nhkb","");d.setUiAttribs({title:"Path Name"});const g=e.inTrigger("14qkhodhi");g.setUiAttribs({title:"Mainloop"});const m=e.outNumber("a4ff56gqe");m.setUiAttribs({title:"Result",display:"boolnum"});const b=e.outString("6l7liw33m");b.setUiAttribs({title:"Directory 1"});const h=e.outString("3ee1w6bsj");h.setUiAttribs({title:"Directory 2"});const f=e.outString("m5oblmgx9");f.setUiAttribs({title:"Directory 3"});const v=e.outString("zqf3fcpvb");v.setUiAttribs({title:"Directory 4"});const O=e.outString("nzvovmrv0");O.setUiAttribs({title:"Directory 5"});const y=e.outTrigger("sffqpjmpg");y.setUiAttribs({title:"Mainloop"});const x=e.outTrigger("e3d2ws9wo");x.setUiAttribs({title:"Hash Changed"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outString("innerOut_1d8i1nhkb");n.set(d.get());n.setUiAttribs({title:"Path Name"});d.on("change",(e,t)=>{n.set(e)});const r=t[e].outTrigger("innerOut_14qkhodhi");r.setUiAttribs({title:"Mainloop"});g.onTriggered=()=>{r.trigger()}}if(t[e].innerOutput){const a=t[e].inFloat("innerIn_a4ff56gqe");a.setUiAttribs({title:"Result"});a.on("change",(e,t)=>{m.set(e)});const i=t[e].inString("innerIn_6l7liw33m");i.setUiAttribs({title:"Directory 1"});i.on("change",(e,t)=>{b.set(e)});const o=t[e].inString("innerIn_3ee1w6bsj");o.setUiAttribs({title:"Directory 2"});o.on("change",(e,t)=>{h.set(e)});const s=t[e].inString("innerIn_m5oblmgx9");s.setUiAttribs({title:"Directory 3"});s.on("change",(e,t)=>{f.set(e)});const u=t[e].inString("innerIn_zqf3fcpvb");u.setUiAttribs({title:"Directory 4"});u.on("change",(e,t)=>{v.set(e)});const l=t[e].inString("innerIn_nzvovmrv0");l.setUiAttribs({title:"Directory 5"});l.on("change",(e,t)=>{O.set(e)});const p=t[e].inTrigger("innerIn_sffqpjmpg");p.setUiAttribs({title:"Mainloop"});p.onTriggered=()=>{y.trigger()};const c=t[e].inTrigger("innerIn_e3d2ws9wo");c.setUiAttribs({title:"Hash Changed"});c.onTriggered=()=>{x.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.SidebarControls.prototype=new CABLES.Op;CABLES.OPS["f0135eed-657d-48af-92b4-bf9bd81a9865"]={f:Ops.User.rambodc.SidebarControls,objName:"Ops.User.rambodc.SidebarControls"};Ops.User.rambodc.LiveAnim1=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_appeh2nmb=op.inTrigger("appeh2nmb");\nport_appeh2nmb.setUiAttribs({title:"Execute",display:"button",});\n\nconst port_8arbhbem5=op.inFloat("8arbhbem5",0);\nport_8arbhbem5.setUiAttribs({title:"Pass Through",display:"bool",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_appeh2nmb = addedOps[i].outTrigger("innerOut_appeh2nmb");\ninnerOut_appeh2nmb.setUiAttribs({title:"Execute"});\nport_appeh2nmb.onTriggered = () => { innerOut_appeh2nmb.trigger(); };\n\nconst innerOut_8arbhbem5 = addedOps[i].outNumber("innerOut_8arbhbem5");\ninnerOut_8arbhbem5.set(port_8arbhbem5.get() );\ninnerOut_8arbhbem5.setUiAttribs({title:"Pass Through"});\nport_8arbhbem5.on("change", (a,v) => { innerOut_8arbhbem5.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp1-0","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Num Subdivs","value":50},{"name":"Smooth","value":1},{"name":"Loop","value":1},{"name":"Bezier Start/End Points","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"Points","portOut":"Result","objIn":"bp1-2","objOut":"bp1-0"}]}],"objName":"Ops.Array.PointArray.SubdivideArray3_v2"},{"id":"bp1-1","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Mode index","value":2},{"name":"Mode","value":"ABC"},{"name":"Random Seed ","value":0},{"name":"Integer","value":0},{"name":"Last == First","value":0},{"name":"Min A","value":-1.5},{"name":"Max A","value":1.5},{"name":"Min B","value":-1.5},{"name":"Max B","value":1.5},{"name":"Min C","value":-1.5},{"name":"Max C","value":1.5},{"name":"Min D","value":-1},{"name":"Max D","value":1}],"portsOut":[{"name":"Array Out","links":[{"portIn":"Points","portOut":"Array Out","objIn":"bp1-0","objOut":"bp1-1"}]},{"name":"Chunks Amount","value":21},{"name":"Array length","value":63}],"objName":"Ops.Array.RandomNumbersArray_v4"},{"id":"bp1-2","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Tesselate Edges","value":0},{"name":"Render Mesh","value":1}],"objName":"Ops.Gl.Meshes.SplineMesh_v2"},{"id":"bp1-3","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Width","value":4.51},{"name":"Width Perspective","value":0},{"name":"Mapping index","value":0},{"name":"Mapping","value":"Full"},{"name":"Colorize Texture","value":1},{"name":"Offset","value":0},{"name":"r","value":1},{"name":"g","value":1},{"name":"b","value":1},{"name":"a","value":1}],"portsOut":[{"name":"Trigger","links":[{"portIn":"Render","portOut":"Trigger","objIn":"bp1-2","objOut":"bp1-3"}]}],"objName":"Ops.Gl.Meshes.SplineMeshMaterial_v2"},{"id":"bp1-4","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Gradient","value":"{\\"keys\\":[{\\"pos\\":0,\\"posy\\":0.5,\\"r\\":0,\\"g\\":0,\\"b\\":0},{\\"pos\\":0,\\"posy\\":0.5,\\"r\\":0,\\"g\\":0,\\"b\\":0},{\\"pos\\":0.650390625,\\"posy\\":0.6,\\"r\\":0,\\"g\\":0,\\"b\\":0},{\\"pos\\":0.904296875,\\"posy\\":0.49,\\"r\\":0.9333333333333333,\\"g\\":0.22518521656709584,\\"b\\":0.22352941176470592},{\\"pos\\":1,\\"posy\\":0.5,\\"r\\":0.7182311413198953,\\"g\\":0.9994997829695542,\\"b\\":0.43204262114009284},{\\"pos\\":1,\\"posy\\":0.5,\\"r\\":0.7182311413198953,\\"g\\":0.9994997829695542,\\"b\\":0.43204262114009284}]}"},{"name":"Direction index","value":0},{"name":"Direction","value":"X"},{"name":"Smoothstep","value":1},{"name":"Step","value":0},{"name":"Flip","value":0},{"name":"sRGB","value":0},{"name":"Oklab","value":0},{"name":"Size","value":256},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"Gradient Array","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"Base Texture","portOut":"Texture","objIn":"bp1-6","objOut":"bp1-4"}]}],"objName":"Ops.Gl.GradientTexture"},{"id":"bp1-5","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"trigger 0","links":[{"portIn":"render","portOut":"trigger 0","objIn":"bp1-27","objOut":"bp1-5"}]},{"name":"trigger 9","links":[{"portIn":"Render","portOut":"trigger 9","objIn":"bp1-6","objOut":"bp1-5"}]}],"objName":"Ops.Trigger.Sequence"},{"id":"bp1-6","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":2},{"name":"Size","value":"Manual"},{"name":"Width","value":10000},{"name":"Height","value":1},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-7","objOut":"bp1-6"}]},{"name":"texture_out","links":[{"portIn":"Texture","portOut":"texture_out","objIn":"bp1-3","objOut":"bp1-6"},{"portIn":"Texture Mask","portOut":"texture_out","objIn":"bp1-3","objOut":"bp1-6"}]},{"name":"Aspect Ratio","value":10000},{"name":"Texture Width","value":10000},{"name":"Texture Height","value":1}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-7","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Blend Mode index","value":0},{"name":"Blend Mode","value":"normal"},{"name":"Amount","value":1},{"name":"y","value":1},{"name":"Clear","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-8","objOut":"bp1-7"}]}],"objName":"Ops.Gl.ImageCompose.RepeatTexture_v2"},{"id":"bp1-8","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amountY","value":0},{"name":"Repeat","value":1}],"objName":"Ops.Gl.ImageCompose.ScrollTexture"},{"id":"bp1-9","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Play","value":1},{"name":"Sync to timeline","value":0}],"portsOut":[{"name":"Time","links":[{"portIn":"amountX","portOut":"Time","objIn":"bp1-8","objOut":"bp1-9"}]}],"objName":"Ops.Anim.Timer_v2"},{"id":"bp1-10","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"min distance","value":0.05},{"name":"max distance","value":99999},{"name":"min rot y","value":0},{"name":"max rot y","value":0},{"name":"initial radius","value":0.05},{"name":"initial axis y","value":0.5},{"name":"initial axis x","value":0.25},{"name":"mul","value":1},{"name":"Smoothness","value":1},{"name":"Speed X","value":1},{"name":"Speed Y","value":1},{"name":"Active","value":1},{"name":"Allow Panning","value":1},{"name":"Allow Zooming","value":1},{"name":"Allow Rotation","value":1},{"name":"restricted","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp1-11","objOut":"bp1-10"}]},{"name":"radius","value":0.05},{"name":"Rot X","value":90},{"name":"Rot Y","value":90}],"objName":"Ops.Gl.Matrix.OrbitControls"},{"id":"bp1-11","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"trigger 0","links":[{"portIn":"render","portOut":"trigger 0","objIn":"bp1-12","objOut":"bp1-11"}]},{"name":"trigger 1","links":[{"portIn":"Render","portOut":"trigger 1","objIn":"bp1-14","objOut":"bp1-11"}]},{"name":"trigger 2","links":[{"portIn":"Render","portOut":"trigger 2","objIn":"bp1-17","objOut":"bp1-11"}]},{"name":"trigger 3","links":[{"portIn":"Render","portOut":"trigger 3","objIn":"bp1-19","objOut":"bp1-11"}]},{"name":"trigger 4","links":[{"portIn":"Render","portOut":"trigger 4","objIn":"bp1-25","objOut":"bp1-11"}]},{"name":"trigger 14","links":[{"portIn":"Render","portOut":"trigger 14","objIn":"bp1-20","objOut":"bp1-11"}]},{"name":"trigger 15","links":[{"portIn":"render","portOut":"trigger 15","objIn":"bp1-15","objOut":"bp1-11"}]}],"objName":"Ops.Trigger.Sequence"},{"id":"bp1-12","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Canvas"},{"name":"texture width","value":732},{"name":"texture height","value":551},{"name":"Auto Aspect","value":1},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"Repeat"},{"name":"MSAA index","value":0},{"name":"MSAA","value":"none"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"Depth","value":1},{"name":"Clear","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp1-5","objOut":"bp1-12"}]},{"name":"texture","links":[{"portIn":"Base Texture","portOut":"texture","objIn":"bp1-14","objOut":"bp1-12"},{"portIn":"Base Texture","portOut":"texture","objIn":"bp1-17","objOut":"bp1-12"},{"portIn":"Base Texture","portOut":"texture","objIn":"bp1-19","objOut":"bp1-12"},{"portIn":"Base Texture","portOut":"texture","objIn":"bp1-25","objOut":"bp1-12"},{"portIn":"Image","portOut":"texture","objIn":"bp1-30","objOut":"bp1-12"},{"portIn":"Image","portOut":"texture","objIn":"bp1-23","objOut":"bp1-12"}]}],"objName":"Ops.Gl.RenderToTexture_v3"},{"id":"bp1-13","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amount","value":5},{"name":"direction index","value":0},{"name":"direction","value":"both"},{"name":"Fast","value":1}],"objName":"Ops.Gl.ImageCompose.Blur"},{"id":"bp1-14","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Auto"},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-13","objOut":"bp1-14"}]},{"name":"texture_out","links":[{"portIn":"Base Texture","portOut":"texture_out","objIn":"bp1-20","objOut":"bp1-14"}]},{"name":"Aspect Ratio","value":1.3284936479128857},{"name":"Texture Width","value":732},{"name":"Texture Height","value":551}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-15","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Scale index","value":1},{"name":"Scale","value":"Fit"},{"name":"Flip Y","value":0},{"name":"Flip X","value":0}],"objName":"Ops.Gl.Meshes.FullscreenRectangle_v2"},{"id":"bp1-16","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amount","value":0.92},{"name":"direction index","value":0},{"name":"direction","value":"both"},{"name":"Fast","value":1}],"objName":"Ops.Gl.ImageCompose.Blur"},{"id":"bp1-17","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Auto"},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-16","objOut":"bp1-17"}]},{"name":"texture_out","links":[{"portIn":"Image","portOut":"texture_out","objIn":"bp1-21","objOut":"bp1-17"}]},{"name":"Aspect Ratio","value":1.3284936479128857},{"name":"Texture Width","value":732},{"name":"Texture Height","value":551}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-18","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amount","value":3},{"name":"direction index","value":0},{"name":"direction","value":"both"},{"name":"Fast","value":1}],"objName":"Ops.Gl.ImageCompose.Blur"},{"id":"bp1-19","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Auto"},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-18","objOut":"bp1-19"}]},{"name":"texture_out","links":[{"portIn":"Image","portOut":"texture_out","objIn":"bp1-22","objOut":"bp1-19"}]},{"name":"Aspect Ratio","value":1.3284936479128857},{"name":"Texture Width","value":732},{"name":"Texture Height","value":551}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-20","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Auto"},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-21","objOut":"bp1-20"}]},{"name":"texture_out","links":[{"portIn":"Texture","portOut":"texture_out","objIn":"bp1-15","objOut":"bp1-20"}]},{"name":"Aspect Ratio","value":1.3284936479128857},{"name":"Texture Width","value":732},{"name":"Texture Height","value":551}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-21","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"blendMode index","value":6},{"name":"blendMode","value":"add"},{"name":"amount","value":1},{"name":"Premultiplied","value":0},{"name":"Alpha Mask","value":0},{"name":"removeAlphaSrc","value":0},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"luminance"},{"name":"Invert alpha channel","value":0},{"name":"Aspect Ratio","value":0},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":0},{"name":"flip x","value":0},{"name":"flip y","value":0},{"name":"Transform","value":0},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-22","objOut":"bp1-21"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp1-22","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"blendMode index","value":6},{"name":"blendMode","value":"add"},{"name":"amount","value":1},{"name":"Premultiplied","value":0},{"name":"Alpha Mask","value":0},{"name":"removeAlphaSrc","value":0},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"luminance"},{"name":"Invert alpha channel","value":0},{"name":"Aspect Ratio","value":0},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":0},{"name":"flip x","value":0},{"name":"flip y","value":0},{"name":"Transform","value":0},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-26","objOut":"bp1-22"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp1-23","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"blendMode index","value":6},{"name":"blendMode","value":"add"},{"name":"amount","value":1},{"name":"Premultiplied","value":0},{"name":"Alpha Mask","value":0},{"name":"removeAlphaSrc","value":0},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"luminance"},{"name":"Invert alpha channel","value":0},{"name":"Aspect Ratio","value":0},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":0},{"name":"flip x","value":0},{"name":"flip y","value":0},{"name":"Transform","value":0},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-29","objOut":"bp1-23"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp1-24","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amount","value":2},{"name":"direction index","value":0},{"name":"direction","value":"both"},{"name":"Fast","value":1}],"objName":"Ops.Gl.ImageCompose.Blur"},{"id":"bp1-25","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Size index","value":0},{"name":"Size","value":"Auto"},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Pixel Format index","value":4},{"name":"Pixel Format","value":"RGBA 8bit ubyte"},{"name":"R","value":0},{"name":"G","value":0},{"name":"B","value":0},{"name":"A","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp1-24","objOut":"bp1-25"}]},{"name":"texture_out","links":[{"portIn":"Image","portOut":"texture_out","objIn":"bp1-26","objOut":"bp1-25"}]},{"name":"Aspect Ratio","value":1.3284936479128857},{"name":"Texture Width","value":732},{"name":"Texture Height","value":551}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v4"},{"id":"bp1-26","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"blendMode index","value":6},{"name":"blendMode","value":"add"},{"name":"amount","value":1},{"name":"Premultiplied","value":0},{"name":"Alpha Mask","value":0},{"name":"removeAlphaSrc","value":0},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"luminance"},{"name":"Invert alpha channel","value":0},{"name":"Aspect Ratio","value":0},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":0},{"name":"flip x","value":0},{"name":"flip y","value":0},{"name":"Transform","value":0},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-23","objOut":"bp1-26"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp1-27","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":0},{"name":"posZ","value":0},{"name":"scale","value":1.39},{"name":"rotX","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"Render","portOut":"trigger","objIn":"bp1-3","objOut":"bp1-27"}]}],"objName":"Ops.Gl.Matrix.Transform"},{"id":"bp1-28","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"Speed","value":30},{"name":"Sync to timeline","value":0}],"portsOut":[{"name":"Time","links":[{"portIn":"rotY","portOut":"Time","objIn":"bp1-27","objOut":"bp1-28"}]}],"objName":"Ops.Anim.Timer_v2"},{"id":"bp1-29","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"amount","value":1},{"name":"direction index","value":0},{"name":"direction","value":"both"},{"name":"Fast","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp1-30","objOut":"bp1-29"}]}],"objName":"Ops.Gl.ImageCompose.Blur"},{"id":"bp1-30","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"blendMode index","value":6},{"name":"blendMode","value":"add"},{"name":"amount","value":1},{"name":"Premultiplied","value":0},{"name":"Alpha Mask","value":0},{"name":"removeAlphaSrc","value":0},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"luminance"},{"name":"Invert alpha channel","value":0},{"name":"Aspect Ratio","value":0},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":0},{"name":"flip x","value":0},{"name":"flip y","value":0},{"name":"Transform","value":0},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":0}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp1-31","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Speed","portOut":"Result","objIn":"bp1-9","objOut":"bp1-31"}]}],"objName":"Ops.Math.FlipSign"},{"id":"bp1-32","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp1-36","objOut":"bp1-32"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp1-33","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"value","value":21.18}],"portsOut":[{"name":"result","links":[{"portIn":"Num Values","portOut":"result","objIn":"bp1-1","objOut":"bp1-33"}]}],"objName":"Ops.Number.Number"},{"id":"bp1-34","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"value","value":0}],"portsOut":[{"name":"result","links":[{"portIn":"Value","portOut":"result","objIn":"bp1-31","objOut":"bp1-34"}]}],"objName":"Ops.Number.Number"},{"id":"bp1-35","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"value","value":30}],"portsOut":[{"name":"result","links":[{"portIn":"x","portOut":"result","objIn":"bp1-7","objOut":"bp1-35"}]}],"objName":"Ops.Number.Number"},{"id":"bp1-36","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"render","portOut":"Trigger out","objIn":"bp1-10","objOut":"bp1-36"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp1-37","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsIn":[{"name":"File","value":0,"display":"file"},{"name":"Filter index","value":2},{"name":"Filter","value":"mipmap"},{"name":"Wrap index","value":0},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Data Format index","value":3},{"name":"Data Format","value":"RGBA"},{"name":"Flip","value":0},{"name":"Pre Multiplied Alpha","value":0},{"name":"Active","value":1},{"name":"Save Memory","value":1},{"name":"Add Cachebuster","value":1}],"portsOut":[{"name":"Texture","links":[{"portIn":"UV Texture","portOut":"Texture","objIn":"bp1-17","objOut":"bp1-37"}]},{"name":"Width","value":0},{"name":"Height","value":0},{"name":"Aspect Ratio","value":0},{"name":"Loaded","value":0},{"name":"Loading","value":0}],"objName":"Ops.Gl.Texture_v2"},{"id":"bp1-38","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"portsOut":[{"name":"innerOut_appeh2nmb","title":"Execute","links":[{"portIn":"Execute","portOut":"innerOut_appeh2nmb","objIn":"bp1-32","objOut":"bp1-38"}]},{"name":"innerOut_8arbhbem5","title":"Pass Through","links":[{"portIn":"Pass Through","portOut":"innerOut_8arbhbem5","objIn":"bp1-36","objOut":"bp1-38"},{"portIn":"Play","portOut":"innerOut_8arbhbem5","objIn":"bp1-28","objOut":"bp1-38"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp1-39","uiAttribs":{"subPatch":"7xuazg0o6"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"}]}'};const a=e.inTrigger("appeh2nmb");a.setUiAttribs({title:"Execute",display:"button"});const i=e.inFloat("8arbhbem5",0);i.setUiAttribs({title:"Pass Through",display:"bool"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_appeh2nmb");n.setUiAttribs({title:"Execute"});a.onTriggered=()=>{n.trigger()};const r=t[e].outNumber("innerOut_8arbhbem5");r.set(i.get());r.setUiAttribs({title:"Pass Through"});i.on("change",(e,t)=>{r.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.LiveAnim1.prototype=new CABLES.Op;CABLES.OPS["b4e7f03b-3e5b-40a2-861d-fae65232b367"]={f:Ops.User.rambodc.LiveAnim1,objName:"Ops.User.rambodc.LiveAnim1"};Ops.User.rambodc.Live2a=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_6fkfwue4p=op.inTrigger("6fkfwue4p");\nport_6fkfwue4p.setUiAttribs({title:"Next",});\n\nconst port_9yepw0zmk=op.inFloat("9yepw0zmk",0);\nport_9yepw0zmk.setUiAttribs({title:"Value",display:"boolnum",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_6fkfwue4p = addedOps[i].outTrigger("innerOut_6fkfwue4p");\ninnerOut_6fkfwue4p.setUiAttribs({title:"Next"});\nport_6fkfwue4p.onTriggered = () => { innerOut_6fkfwue4p.trigger(); };\n\nconst innerOut_9yepw0zmk = addedOps[i].outNumber("innerOut_9yepw0zmk");\ninnerOut_9yepw0zmk.set(port_9yepw0zmk.get() );\ninnerOut_9yepw0zmk.setUiAttribs({title:"Value"});\nport_9yepw0zmk.on("change", (a,v) => { innerOut_9yepw0zmk.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp2-0","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"use viewport size","value":true},{"name":"width","value":447},{"name":"height","value":473},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"HDR","value":false},{"name":"Background Alpha","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp2-4","objOut":"bp2-0"}]},{"name":"texture_out","links":[{"portIn":"Image","portOut":"texture_out","objIn":"bp2-8","objOut":"bp2-0"}]},{"name":"Aspect Ratio","value":0.945031712473573}],"objName":"Ops.Gl.ImageCompose.ImageCompose"},{"id":"bp2-1","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Blend Mode index","value":0},{"name":"Blend Mode","value":"normal"},{"name":"Amount","value":1},{"name":"Method index","value":0},{"name":"Method","value":"Luminance"},{"name":"Min","value":0},{"name":"Max","value":1},{"name":"Position","value":0.5}],"objName":"Ops.Gl.ImageCompose.ColorMap"},{"id":"bp2-2","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Gradient","value":"{\\"keys\\":[{\\"pos\\":0,\\"posy\\":0.08,\\"r\\":0.035294117647058795,\\"g\\":0.4,\\"b\\":0.984313725490196},{\\"pos\\":0.015625,\\"posy\\":0.08,\\"r\\":0.035294117647058795,\\"g\\":0.4,\\"b\\":0.984313725490196},{\\"pos\\":0.1484375,\\"posy\\":0.08,\\"r\\":0.3176470588235294,\\"g\\":0.3725490196078429,\\"b\\":1},{\\"pos\\":0.49609375,\\"posy\\":0.035,\\"r\\":0.9215686274509803,\\"g\\":0.8862745098039215,\\"b\\":0.9921568627450981},{\\"pos\\":0.80078125,\\"posy\\":0.1,\\"r\\":0.7450980392156863,\\"g\\":0.7568627450980392,\\"b\\":0},{\\"pos\\":0.9921875,\\"posy\\":0.06,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0},{\\"pos\\":1,\\"posy\\":0.06,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0}]}"},{"name":"Direction index","value":0},{"name":"Direction","value":"X"},{"name":"Smoothstep","value":true},{"name":"Step","value":false},{"name":"Flip","value":true},{"name":"sRGB","value":false},{"name":"Oklab","value":false},{"name":"Size","value":256},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"Gradient Array","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"texture0","portOut":"Texture","objIn":"bp2-12","objOut":"bp2-2"}]}],"objName":"Ops.Gl.GradientTexture"},{"id":"bp2-3","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"use viewport size","value":true},{"name":"width","value":447},{"name":"height","value":473},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"HDR","value":false},{"name":"Background Alpha","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp2-6","objOut":"bp2-3"}]},{"name":"texture_out","links":[{"portIn":"Image","portOut":"texture_out","objIn":"bp2-11","objOut":"bp2-3"}]},{"name":"Aspect Ratio","value":0.945031712473573}],"objName":"Ops.Gl.ImageCompose.ImageCompose"},{"id":"bp2-4","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Blend Mode index","value":0},{"name":"Blend Mode","value":"normal"},{"name":"Amount","value":1},{"name":"Width","value":8.3},{"name":"Height","value":8.3},{"name":"Mul","value":-0.36},{"name":"offset X","value":0},{"name":"offset Y","value":0},{"name":"Greyscale","value":true}],"objName":"Ops.Gl.ImageCompose.Plasma"},{"id":"bp2-5","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsOut":[{"name":"trigger 2","links":[{"portIn":"render","portOut":"trigger 2","objIn":"bp2-3","objOut":"bp2-5"}]},{"name":"trigger 3","links":[{"portIn":"render","portOut":"trigger 3","objIn":"bp2-0","objOut":"bp2-5"}]},{"name":"trigger 5","links":[{"portIn":"Render","portOut":"trigger 5","objIn":"bp2-7","objOut":"bp2-5"}]},{"name":"trigger 15","links":[{"portIn":"render","portOut":"trigger 15","objIn":"bp2-15","objOut":"bp2-5"}]}],"objName":"Ops.Trigger.Sequence"},{"id":"bp2-6","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Blend Mode index","value":0},{"name":"Blend Mode","value":"normal"},{"name":"Amount","value":1},{"name":"Width","value":0.6},{"name":"Height","value":0.6},{"name":"Mul","value":1.22},{"name":"offset X","value":0},{"name":"offset Y","value":0},{"name":"Greyscale","value":true}],"objName":"Ops.Gl.ImageCompose.Plasma"},{"id":"bp2-7","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Use viewport size","value":true},{"name":"Width","value":640},{"name":"Height","value":480},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":1},{"name":"Wrap","value":"repeat"},{"name":"HDR","value":false},{"name":"Transparent","value":false}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp2-8","objOut":"bp2-7"}]},{"name":"texture_out","links":[{"portIn":"Texture","portOut":"texture_out","objIn":"bp2-15","objOut":"bp2-7"}]},{"name":"Aspect Ratio","value":0.945031712473573}],"objName":"Ops.Gl.ImageCompose.ImageCompose_v2"},{"id":"bp2-8","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"blendMode index","value":0},{"name":"blendMode","value":"normal"},{"name":"amount","value":1},{"name":"Premultiplied","value":false},{"name":"Alpha Mask","value":false},{"name":"removeAlphaSrc","value":false},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"alpha channel"},{"name":"Invert alpha channel","value":false},{"name":"Aspect Ratio","value":false},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":false},{"name":"flip x","value":false},{"name":"flip y","value":false},{"name":"Transform","value":false},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":false}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp2-11","objOut":"bp2-8"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp2-9","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"contrast","value":0.5},{"name":"brightness","value":0.5}],"portsOut":[{"name":"trigger","links":[{"portIn":"Render","portOut":"trigger","objIn":"bp2-10","objOut":"bp2-9"}]}],"objName":"Ops.Gl.ImageCompose.BrightnessContrast"},{"id":"bp2-10","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Blend Mode index","value":0},{"name":"Blend Mode","value":"normal"},{"name":"Amount","value":0.07},{"name":"Animated","value":false},{"name":"RGB","value":true},{"name":"Normalize","value":false}],"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp2-1","objOut":"bp2-10"},{"portIn":"exec","portOut":"Next","objIn":"bp2-12","objOut":"bp2-10"}]}],"objName":"Ops.Gl.ImageCompose.Noise.Noise"},{"id":"bp2-11","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"blendMode index","value":1},{"name":"blendMode","value":"lighten"},{"name":"amount","value":1},{"name":"Premultiplied","value":false},{"name":"Alpha Mask","value":false},{"name":"removeAlphaSrc","value":true},{"name":"Mask Src index","value":1},{"name":"Mask Src","value":"alpha channel"},{"name":"Invert alpha channel","value":false},{"name":"Aspect Ratio","value":false},{"name":"Stretch Axis index","value":0},{"name":"Stretch Axis","value":"X"},{"name":"Position","value":0},{"name":"Crop","value":false},{"name":"flip x","value":false},{"name":"flip y","value":false},{"name":"Transform","value":false},{"name":"Scale X","value":1},{"name":"Scale Y","value":1},{"name":"Position X","value":0},{"name":"Position Y","value":0},{"name":"Rotation","value":0},{"name":"Clip Repeat","value":false}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp2-9","objOut":"bp2-11"}]}],"objName":"Ops.Gl.ImageCompose.DrawImage_v3"},{"id":"bp2-12","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"num","value":0},{"name":"Default Texture Transparent","value":true}],"portsOut":[{"name":"texture","links":[{"portIn":"Gradient","portOut":"texture","objIn":"bp2-1","objOut":"bp2-12"}]}],"objName":"Ops.Gl.Textures.SwitchTextures_v2"},{"id":"bp2-13","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Gradient","value":"{\\"keys\\":[{\\"pos\\":0,\\"posy\\":0.08,\\"r\\":0.9215686274509803,\\"g\\":0.8862745098039215,\\"b\\":0.9921568627450981},{\\"pos\\":0.015625,\\"posy\\":0.08,\\"r\\":0.9215686274509803,\\"g\\":0.8862745098039215,\\"b\\":0.9921568627450981},{\\"pos\\":0.404296875,\\"posy\\":0.07,\\"r\\":0.035294117647058795,\\"g\\":0.4,\\"b\\":0.984313725490196},{\\"pos\\":0.77734375,\\"posy\\":0.04,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0},{\\"pos\\":1,\\"posy\\":0.04,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0}]}"},{"name":"Direction index","value":0},{"name":"Direction","value":"X"},{"name":"Smoothstep","value":true},{"name":"Step","value":false},{"name":"Flip","value":true},{"name":"sRGB","value":false},{"name":"Oklab","value":false},{"name":"Size","value":256},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"Gradient Array","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"texture1","portOut":"Texture","objIn":"bp2-12","objOut":"bp2-13"}]}],"objName":"Ops.Gl.GradientTexture"},{"id":"bp2-14","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Gradient","value":"{\\"keys\\":[{\\"pos\\":0,\\"posy\\":0.09,\\"r\\":0.3176470588235294,\\"g\\":0.3725490196078429,\\"b\\":1},{\\"pos\\":0.01171875,\\"posy\\":0.09,\\"r\\":0.3176470588235294,\\"g\\":0.3725490196078429,\\"b\\":1},{\\"pos\\":0.252,\\"posy\\":null,\\"r\\":0.035294117647058795,\\"g\\":0.4,\\"b\\":0.984313725490196},{\\"pos\\":0.693359375,\\"posy\\":0.035,\\"r\\":0.7450980392156863,\\"g\\":0.7568627450980392,\\"b\\":0},{\\"pos\\":0.996,\\"posy\\":null,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0},{\\"pos\\":1,\\"posy\\":null,\\"r\\":0.7529411764705882,\\"g\\":0.8745098039215686,\\"b\\":0}]}"},{"name":"Direction index","value":0},{"name":"Direction","value":"X"},{"name":"Smoothstep","value":false},{"name":"Step","value":false},{"name":"Flip","value":true},{"name":"sRGB","value":false},{"name":"Oklab","value":false},{"name":"Size","value":256},{"name":"filter index","value":1},{"name":"filter","value":"linear"},{"name":"wrap index","value":0},{"name":"wrap","value":"clamp to edge"},{"name":"Gradient Array","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"texture2","portOut":"Texture","objIn":"bp2-12","objOut":"bp2-14"}]}],"objName":"Ops.Gl.GradientTexture"},{"id":"bp2-15","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsIn":[{"name":"Scale index","value":0},{"name":"Scale","value":"Stretch"},{"name":"Flip Y","value":false},{"name":"Flip X","value":false}],"objName":"Ops.Gl.Meshes.FullscreenRectangle"},{"id":"bp2-16","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"portsOut":[{"name":"innerOut_6fkfwue4p","title":"Next","links":[{"portIn":"Execute","portOut":"innerOut_6fkfwue4p","objIn":"bp2-18","objOut":"bp2-16"}]},{"name":"innerOut_9yepw0zmk","title":"Value","links":[{"portIn":"Pass Through","portOut":"innerOut_9yepw0zmk","objIn":"bp2-18","objOut":"bp2-16"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp2-17","uiAttribs":{"subPatch":"zlxgbra0w"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp2-18","uiAttribs":{"subPatch":"zlxgbra0w"},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp2-5","objOut":"bp2-18"}]}],"storage":{"ref":"bp2-18"},"objName":"Ops.Trigger.GateTrigger"},{"id":"bp2-19","uiAttribs":{"subPatch":"zlxgbra0w"},"portsOut":[{"name":"time","links":[{"portIn":"Time","portOut":"time","objIn":"bp2-6","objOut":"bp2-19"},{"portIn":"Time","portOut":"time","objIn":"bp2-4","objOut":"bp2-19"}]}],"storage":{"ref":"bp2-19"},"objName":"Ops.TimeLine.TimeLineTime"}]}'};const a=e.inTrigger("6fkfwue4p");a.setUiAttribs({title:"Next"});const i=e.inFloat("9yepw0zmk",0);i.setUiAttribs({title:"Value",display:"boolnum"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_6fkfwue4p");n.setUiAttribs({title:"Next"});a.onTriggered=()=>{n.trigger()};const r=t[e].outNumber("innerOut_9yepw0zmk");r.set(i.get());r.setUiAttribs({title:"Value"});i.on("change",(e,t)=>{r.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.Live2a.prototype=new CABLES.Op;CABLES.OPS["17fb1daf-df83-402e-b101-4a360333dafd"]={f:Ops.User.rambodc.Live2a,objName:"Ops.User.rambodc.Live2a"};Ops.User.rambodc.PagesA7=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_i6nnsru1m=op.inObject("i6nnsru1m");\nport_i6nnsru1m.setUiAttribs({title:"Parent Link",});\n\nconst port_zap5t5tri=op.inTrigger("zap5t5tri");\nport_zap5t5tri.setUiAttribs({title:"Mainloop",});\n\nconst port_9ozpectyq=op.inTrigger("9ozpectyq");\nport_9ozpectyq.setUiAttribs({title:"Hash Changed",});\n\nconst port_fi3k020k0=op.outNumber("fi3k020k0");\nport_fi3k020k0.setUiAttribs({title:"Dir 1-2 Equal",});\n\nconst port_zrvlu7tf2=op.outObject("zrvlu7tf2");\nport_zrvlu7tf2.setUiAttribs({title:"childs",});\n\nconst port_keb86kcid=op.outObject("keb86kcid");\nport_keb86kcid.setUiAttribs({title:"childs",});\n\nconst port_vceuuccjk=op.outObject("vceuuccjk");\nport_vceuuccjk.setUiAttribs({title:"childs",});\n\nconst port_3r92xsnec=op.outTrigger("3r92xsnec");\nport_3r92xsnec.setUiAttribs({title:"Next",});\n\nconst port_a9cr2r2x6=op.outTrigger("a9cr2r2x6");\nport_a9cr2r2x6.setUiAttribs({title:"Next",});\n\nconst port_5v6b98y14=op.outTrigger("5v6b98y14");\nport_5v6b98y14.setUiAttribs({title:"Next",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_i6nnsru1m = addedOps[i].outObject("innerOut_i6nnsru1m");\ninnerOut_i6nnsru1m.setUiAttribs({title:"Parent Link"});\nport_i6nnsru1m.on("change", (a,v) => { innerOut_i6nnsru1m.setRef(a); });\n\nconst innerOut_zap5t5tri = addedOps[i].outTrigger("innerOut_zap5t5tri");\ninnerOut_zap5t5tri.setUiAttribs({title:"Mainloop"});\nport_zap5t5tri.onTriggered = () => { innerOut_zap5t5tri.trigger(); };\n\nconst innerOut_9ozpectyq = addedOps[i].outTrigger("innerOut_9ozpectyq");\ninnerOut_9ozpectyq.setUiAttribs({title:"Hash Changed"});\nport_9ozpectyq.onTriggered = () => { innerOut_9ozpectyq.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_fi3k020k0 = addedOps[i].inFloat("innerIn_fi3k020k0");\ninnerIn_fi3k020k0.setUiAttribs({title:"Dir 1-2 Equal"});\ninnerIn_fi3k020k0.on("change", (a,v) => { port_fi3k020k0.set(a); });\n\nconst innerIn_zrvlu7tf2 = addedOps[i].inObject("innerIn_zrvlu7tf2");\ninnerIn_zrvlu7tf2.setUiAttribs({title:"childs"});\ninnerIn_zrvlu7tf2.on("change", (a,v) => { port_zrvlu7tf2.setRef(a); });\n\nconst innerIn_keb86kcid = addedOps[i].inObject("innerIn_keb86kcid");\ninnerIn_keb86kcid.setUiAttribs({title:"childs"});\ninnerIn_keb86kcid.on("change", (a,v) => { port_keb86kcid.setRef(a); });\n\nconst innerIn_vceuuccjk = addedOps[i].inObject("innerIn_vceuuccjk");\ninnerIn_vceuuccjk.setUiAttribs({title:"childs"});\ninnerIn_vceuuccjk.on("change", (a,v) => { port_vceuuccjk.setRef(a); });\n\nconst innerIn_3r92xsnec = addedOps[i].inTrigger("innerIn_3r92xsnec");\ninnerIn_3r92xsnec.setUiAttribs({title:"Next"});\ninnerIn_3r92xsnec.onTriggered = () => { port_3r92xsnec.trigger(); };\n\nconst innerIn_a9cr2r2x6 = addedOps[i].inTrigger("innerIn_a9cr2r2x6");\ninnerIn_a9cr2r2x6.setUiAttribs({title:"Next"});\ninnerIn_a9cr2r2x6.onTriggered = () => { port_a9cr2r2x6.trigger(); };\n\nconst innerIn_5v6b98y14 = addedOps[i].inTrigger("innerIn_5v6b98y14");\ninnerIn_5v6b98y14.setUiAttribs({title:"Next"});\ninnerIn_5v6b98y14.onTriggered = () => { port_5v6b98y14.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp3-0","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Title","value":"Razzberry 3D"}],"objName":"Ops.Ui.Area"},{"id":"bp3-1","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Title","value":"signin"}],"objName":"Ops.Ui.Area"},{"id":"bp3-2","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Title","value":"signup"}],"objName":"Ops.Ui.Area"},{"id":"bp3-3","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"innerIn_zrvlu7tf2","portOut":"childs","objIn":"bp3-6","objOut":"bp3-3"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp3-4","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"innerIn_keb86kcid","portOut":"childs","objIn":"bp3-6","objOut":"bp3-4"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp3-5","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"innerOut_i6nnsru1m","title":"Parent Link","links":[{"portIn":"zzd2dk99r","portOut":"innerOut_i6nnsru1m","objIn":"bp3-7","objOut":"bp3-5"}]},{"name":"innerOut_zap5t5tri","title":"Mainloop","links":[{"portIn":"0as2n77e5","portOut":"innerOut_zap5t5tri","objIn":"bp3-7","objOut":"bp3-5"}]},{"name":"innerOut_9ozpectyq","title":"Hash Changed","links":[{"portIn":"eabt3o2x7","portOut":"innerOut_9ozpectyq","objIn":"bp3-7","objOut":"bp3-5"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp3-6","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"innerIn_fi3k020k0","title":"Dir 1-2 Equal"},{"name":"innerIn_zrvlu7tf2","title":"childs"},{"name":"innerIn_keb86kcid","title":"childs"},{"name":"innerIn_vceuuccjk","title":"childs"},{"name":"innerIn_3r92xsnec","title":"Next"},{"name":"innerIn_a9cr2r2x6","title":"Next"},{"name":"innerIn_5v6b98y14","title":"Next"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp3-7","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"zzd2dk99r","title":"Parent Link"},{"name":"0as2n77e5","title":"Mainloop"},{"name":"eabt3o2x7","title":"Hash Changed"},{"name":"patchId","value":"1w68hrhjs"}],"portsOut":[{"name":"37k6sbwik","title":"Parent Link","links":[{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp3-26","objOut":"bp3-7"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp3-27","objOut":"bp3-7"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp3-28","objOut":"bp3-7"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp3-29","objOut":"bp3-7"}]},{"name":"o4ucc2fcw","title":"Mainloop","links":[{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp3-26","objOut":"bp3-7"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp3-27","objOut":"bp3-7"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp3-28","objOut":"bp3-7"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp3-29","objOut":"bp3-7"}]},{"name":"r4xu39dfu","title":"Hash Changed","links":[{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp3-26","objOut":"bp3-7"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp3-27","objOut":"bp3-7"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp3-28","objOut":"bp3-7"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp3-29","objOut":"bp3-7"}]}],"objName":"Ops.User.rambodc.PageRouter"},{"id":"bp3-8","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Title","value":"PageRouter"}],"objName":"Ops.Ui.Area"},{"id":"bp3-9","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp3-10","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"timesTriggered","value":2}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp3-11","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"innerIn_3r92xsnec","portOut":"Next","objIn":"bp3-6","objOut":"bp3-11"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp3-12","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp3-13","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"innerIn_a9cr2r2x6","portOut":"Next","objIn":"bp3-6","objOut":"bp3-13"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp3-14","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp3-19","objOut":"bp3-14"},{"portIn":"Trigger","portOut":"Next","objIn":"bp3-21","objOut":"bp3-14"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp3-15","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Text","value":"Razzberry"},{"name":"Scale Text","value":1},{"name":"Scale","value":0.21,"title":"Line Scale"},{"name":"Font","value":"arial"},{"name":"align index","value":1},{"name":"align","value":"center"},{"name":"vertical align index","value":1},{"name":"vertical align","value":"Middle"},{"name":"Line Height","value":1},{"name":"Letter Spacing","value":0},{"name":"filter index","value":2},{"name":"filter","value":"mipmap"},{"name":"Anisotropic index","value":5},{"name":"Anisotropic","value":"16"},{"name":"r","value":0.7694791666666667},{"name":"g","value":0.049031753540039066},{"name":"b","value":0.26741737564404783},{"name":"a","value":1}],"portsOut":[{"name":"Total Lines","value":1},{"name":"Width","value":0.341748046875},{"name":"Font Available","value":1}],"objName":"Ops.Gl.Meshes.TextMesh_v2"},{"id":"bp3-16","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":0.5},{"name":"posZ","value":0},{"name":"scale","value":1.14},{"name":"rotX","value":0},{"name":"rotY","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"Render","portOut":"trigger","objIn":"bp3-15","objOut":"bp3-16"}]}],"objName":"Ops.Gl.Matrix.Transform"},{"id":"bp3-17","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Text","value":"Start"},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:9999;\\nfont-size:18px;\\ntext-align:center;\\nborder:0px solid white;\\ncolor:rgba(255,255,255,1);\\nborder-radius:5px;\\ntop:100px;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\nwidth: 150px;\\n\\nbackground:rgba(227, 29, 7,0.8);\\ncursor:pointer;\\npadding:10px;\\nuser-select:none;\\n"},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Element","portOut":"DOM Element","objIn":"bp3-18","objOut":"bp3-17"}]},{"name":"Hover","value":false},{"name":"Clicked","links":[{"portIn":"n6dz5ut5m","portOut":"Clicked","objIn":"bp3-30","objOut":"bp3-17"}]}],"objName":"Ops.User.rambodc.DivElement_v2"},{"id":"bp3-18","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Scale","value":1},{"name":"Orthogonal","value":0},{"name":"Rotate","value":0},{"name":"Hide out of view","value":0},{"name":"Align Vertical index","value":1},{"name":"Align Vertical","value":"Center"},{"name":"Align Horizontal index","value":1},{"name":"Align Horizontal","value":"Center"},{"name":"Active","value":1}],"objName":"Ops.Html.CSS.TransformElement"},{"id":"bp3-19","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":-0.31},{"name":"posZ","value":0},{"name":"scale","value":1},{"name":"rotX","value":0},{"name":"rotY","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"Exec","portOut":"trigger","objIn":"bp3-18","objOut":"bp3-19"},{"portIn":"Trigger","portOut":"trigger","objIn":"bp3-20","objOut":"bp3-19"}]}],"objName":"Ops.Gl.Matrix.Transform"},{"id":"bp3-20","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Was Triggered","links":[{"portIn":"Visible","portOut":"Was Triggered","objIn":"bp3-17","objOut":"bp3-20"},{"portIn":"Interactive","portOut":"Was Triggered","objIn":"bp3-17","objOut":"bp3-20"}]}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp3-21","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp3-16","objOut":"bp3-21"}]},{"name":"Was Triggered","value":0}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp3-22","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"Execute","portOut":"Trigger out","objIn":"bp3-14","objOut":"bp3-22"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp3-23","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Title","value":"password"}],"objName":"Ops.Ui.Area"},{"id":"bp3-24","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"innerIn_vceuuccjk","portOut":"childs","objIn":"bp3-6","objOut":"bp3-24"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp3-25","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"innerIn_5v6b98y14","portOut":"Next","objIn":"bp3-6","objOut":"bp3-25"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp3-26","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"a","title":"Directory 1"},{"name":"jyz85fved","value":"0","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"a2ys9tn2s"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link"},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp3-9","objOut":"bp3-26"},{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp3-22","objOut":"bp3-26"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp3-10","objOut":"bp3-26"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Pass Through","portOut":"wg0zcmxag","objIn":"bp3-22","objOut":"bp3-26"},{"portIn":"innerIn_fi3k020k0","portOut":"wg0zcmxag","objIn":"bp3-6","objOut":"bp3-26"}]},{"name":"rzi5x09qq","value":"redirect","title":"Directory 3"},{"name":"wteazgn7z","value":"/a/signin","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp3-27","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"a","title":"Directory 1"},{"name":"jyz85fved","value":"signin","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"ojy4vcaqd"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp3-3","objOut":"bp3-27"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp3-11","objOut":"bp3-27"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp3-12","objOut":"bp3-27"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp3-3","objOut":"bp3-27"}]},{"name":"rzi5x09qq","value":"redirect","title":"Directory 3"},{"name":"wteazgn7z","value":"/a/signin","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp3-28","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"a","title":"Directory 1"},{"name":"jyz85fved","value":"signup","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"9eqd9ood4"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp3-4","objOut":"bp3-28"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp3-13","objOut":"bp3-28"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp3-4","objOut":"bp3-28"}]},{"name":"rzi5x09qq","value":"redirect","title":"Directory 3"},{"name":"wteazgn7z","value":"/a/signin","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp3-29","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"a","title":"Directory 1"},{"name":"jyz85fved","value":"password","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"u8z78i3uj"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp3-24","objOut":"bp3-29"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp3-25","objOut":"bp3-29"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp3-24","objOut":"bp3-29"}]},{"name":"rzi5x09qq","value":"redirect","title":"Directory 3"},{"name":"wteazgn7z","value":"/a/signin","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp3-30","uiAttribs":{"subPatch":"unk1j1w8r"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"1g6z7ujnz"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp3-31","uiAttribs":{"subPatch":"unk1j1w8r"},"portsIn":[{"name":"min distance","value":1},{"name":"max distance","value":999999},{"name":"min rot y","value":0},{"name":"max rot y","value":0},{"name":"initial radius","value":2},{"name":"initial axis y","value":0.5},{"name":"initial axis x","value":0.25},{"name":"Smoothness","value":1},{"name":"Speed X","value":1},{"name":"Speed Y","value":1},{"name":"Active","value":1},{"name":"Allow Panning","value":1},{"name":"Allow Zooming","value":1},{"name":"Allow Rotation","value":1},{"name":"restricted","value":1},{"name":"Identity","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"Render","portOut":"trigger","objIn":"bp3-32","objOut":"bp3-31"}]},{"name":"radius","value":2},{"name":"Rot X","value":81.40563307303756},{"name":"Rot Y","value":90.36}],"storage":{"ref":"bp3-31"},"objName":"Ops.Gl.Matrix.OrbitControls_v3"},{"id":"bp3-32","uiAttribs":{"subPatch":"unk1j1w8r"},"portsIn":[{"name":"Render Mesh","value":1},{"name":"Width","value":1},{"name":"Length","value":1},{"name":"Height","value":1},{"name":"Center","value":1},{"name":"Mapping index","value":0},{"name":"Mapping","value":"Side"},{"name":"Bias","value":0},{"name":"Flip X","value":1},{"name":"Top","value":1},{"name":"Bottom","value":1},{"name":"Left","value":1},{"name":"Right","value":1},{"name":"Front","value":1},{"name":"Back","value":1}],"storage":{"ref":"bp3-32"},"objName":"Ops.Gl.Meshes.Cube_v2"},{"id":"bp3-33","uiAttribs":{"subPatch":"unk1j1w8r"},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":0},{"name":"posZ","value":-1.57},{"name":"scale","value":0.31},{"name":"rotX","value":0},{"name":"rotY","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp3-31","objOut":"bp3-33"}]}],"storage":{"ref":"bp3-33"},"objName":"Ops.Gl.Matrix.Transform"}]}'};const d=e.inObject("i6nnsru1m");d.setUiAttribs({title:"Parent Link"});const g=e.inTrigger("zap5t5tri");g.setUiAttribs({title:"Mainloop"});const m=e.inTrigger("9ozpectyq");m.setUiAttribs({title:"Hash Changed"});const b=e.outNumber("fi3k020k0");b.setUiAttribs({title:"Dir 1-2 Equal"});const h=e.outObject("zrvlu7tf2");h.setUiAttribs({title:"childs"});const f=e.outObject("keb86kcid");f.setUiAttribs({title:"childs"});const v=e.outObject("vceuuccjk");v.setUiAttribs({title:"childs"});const O=e.outTrigger("3r92xsnec");O.setUiAttribs({title:"Next"});const y=e.outTrigger("a9cr2r2x6");y.setUiAttribs({title:"Next"});const x=e.outTrigger("5v6b98y14");x.setUiAttribs({title:"Next"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_i6nnsru1m");n.setUiAttribs({title:"Parent Link"});d.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outTrigger("innerOut_zap5t5tri");r.setUiAttribs({title:"Mainloop"});g.onTriggered=()=>{r.trigger()};const a=t[e].outTrigger("innerOut_9ozpectyq");a.setUiAttribs({title:"Hash Changed"});m.onTriggered=()=>{a.trigger()}}if(t[e].innerOutput){const i=t[e].inFloat("innerIn_fi3k020k0");i.setUiAttribs({title:"Dir 1-2 Equal"});i.on("change",(e,t)=>{b.set(e)});const o=t[e].inObject("innerIn_zrvlu7tf2");o.setUiAttribs({title:"childs"});o.on("change",(e,t)=>{h.setRef(e)});const s=t[e].inObject("innerIn_keb86kcid");s.setUiAttribs({title:"childs"});s.on("change",(e,t)=>{f.setRef(e)});const u=t[e].inObject("innerIn_vceuuccjk");u.setUiAttribs({title:"childs"});u.on("change",(e,t)=>{v.setRef(e)});const l=t[e].inTrigger("innerIn_3r92xsnec");l.setUiAttribs({title:"Next"});l.onTriggered=()=>{O.trigger()};const p=t[e].inTrigger("innerIn_a9cr2r2x6");p.setUiAttribs({title:"Next"});p.onTriggered=()=>{y.trigger()};const c=t[e].inTrigger("innerIn_5v6b98y14");c.setUiAttribs({title:"Next"});c.onTriggered=()=>{x.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PagesA7.prototype=new CABLES.Op;CABLES.OPS["95acafb8-ef69-4afb-be5a-c49b5f973fb8"]={f:Ops.User.rambodc.PagesA7,objName:"Ops.User.rambodc.PagesA7"};Ops.User.rambodc.PagesC=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_i6nnsru1m=op.inObject("i6nnsru1m");\nport_i6nnsru1m.setUiAttribs({title:"Parent Link",});\n\nconst port_zap5t5tri=op.inTrigger("zap5t5tri");\nport_zap5t5tri.setUiAttribs({title:"Mainloop",});\n\nconst port_9ozpectyq=op.inTrigger("9ozpectyq");\nport_9ozpectyq.setUiAttribs({title:"Hash Changed",});\n\nconst port_79by1oqzk=op.outTrigger("79by1oqzk");\nport_79by1oqzk.setUiAttribs({title:"Back Button",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_i6nnsru1m = addedOps[i].outObject("innerOut_i6nnsru1m");\ninnerOut_i6nnsru1m.setUiAttribs({title:"Parent Link"});\nport_i6nnsru1m.on("change", (a,v) => { innerOut_i6nnsru1m.setRef(a); });\n\nconst innerOut_zap5t5tri = addedOps[i].outTrigger("innerOut_zap5t5tri");\ninnerOut_zap5t5tri.setUiAttribs({title:"Mainloop"});\nport_zap5t5tri.onTriggered = () => { innerOut_zap5t5tri.trigger(); };\n\nconst innerOut_9ozpectyq = addedOps[i].outTrigger("innerOut_9ozpectyq");\ninnerOut_9ozpectyq.setUiAttribs({title:"Hash Changed"});\nport_9ozpectyq.onTriggered = () => { innerOut_9ozpectyq.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_79by1oqzk = addedOps[i].inTrigger("innerIn_79by1oqzk");\ninnerIn_79by1oqzk.setUiAttribs({title:"Back Button"});\ninnerIn_79by1oqzk.onTriggered = () => { port_79by1oqzk.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp4-0","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"Back Button History /c"}],"objName":"Ops.Ui.Area"},{"id":"bp4-1","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"3 name"}],"objName":"Ops.Ui.Area"},{"id":"bp4-2","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"4 email"}],"objName":"Ops.Ui.Area"},{"id":"bp4-3","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Collection name","value":"users"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":1},{"name":"Error Message","value":"Missing Arguments: Collection name or Document ID is missing!"},{"name":"Document","links":[{"portIn":"Object","portOut":"Document","objIn":"bp4-7","objOut":"bp4-3"},{"portIn":"Object","portOut":"Document","objIn":"bp4-8","objOut":"bp4-3"},{"portIn":"Object","portOut":"Document","objIn":"bp4-9","objOut":"bp4-3"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-5","objOut":"bp4-3"},{"portIn":"exe","portOut":"Success","objIn":"bp4-24","objOut":"bp4-3"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-6","objOut":"bp4-3"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp4-4","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"Document ID","portOut":"Value","objIn":"bp4-3","objOut":"bp4-4"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-5","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-6","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-7","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-8","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"firstName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp4-23","objOut":"bp4-8"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-9","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"lastName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp4-22","objOut":"bp4-9"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-10","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-3","objOut":"bp4-10"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-11","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp4-25","objOut":"bp4-11"},{"portIn":"Clear","portOut":"Next","objIn":"bp4-466","objOut":"bp4-11"},{"portIn":"Clear","portOut":"Next","objIn":"bp4-467","objOut":"bp4-11"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-12","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Group"},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Parent Link","portOut":"childs","objIn":"bp4-13","objOut":"bp4-12"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-13","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text","value":"Update"},{"name":"Button Width","value":""},{"name":"Button Background Color","value":"rgba(13, 130, 254, 0.9)"},{"name":"Hover Background Color","value":"rgba(13, 130, 254, 1)"},{"name":"Visible","value":1}],"portsOut":[{"name":"Siblings","links":[{"portIn":"Parent Link","portOut":"Siblings","objIn":"bp4-14","objOut":"bp4-13"}]},{"name":"Button Pressed","links":[{"portIn":"Check and Create Object","portOut":"Button Pressed","objIn":"bp4-29","objOut":"bp4-13"}]}],"objName":"Ops.User.rambodc.Button_Right"},{"id":"bp4-14","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text","value":"Cancel"},{"name":"Button Width","value":""},{"name":"Button Background Color","value":"rgba(255,255,255,0.1)"},{"name":"Hover Background Color","value":"rgba(255,255,255,0.2)"},{"name":"Visible","value":1}],"portsOut":[{"name":"Button Pressed","links":[{"portIn":"n6dz5ut5m","portOut":"Button Pressed","objIn":"bp4-255","objOut":"bp4-14"}]}],"objName":"Ops.User.rambodc.Button_Right"},{"id":"bp4-15","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"Document ID","portOut":"Value","objIn":"bp4-85","objOut":"bp4-15"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-16","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Your name has been updated."},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-17","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-18","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-19","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":false}],"objName":"Ops.Html.Notification"},{"id":"bp4-20","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"updateProfile"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-21","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.5}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-20","objOut":"bp4-21"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-22","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Default","portOut":"Result","objIn":"bp4-467","objOut":"bp4-22"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-23","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Default","portOut":"Result","objIn":"bp4-466","objOut":"bp4-23"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-24","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-22","objOut":"bp4-24"},{"portIn":"Trigger","portOut":"next","objIn":"bp4-23","objOut":"bp4-24"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-25","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"String","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Default","portOut":"Result","objIn":"bp4-466","objOut":"bp4-25"},{"portIn":"Default","portOut":"Result","objIn":"bp4-467","objOut":"bp4-25"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-26","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-27","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-28","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-29","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Incoming String 3","value":""},{"name":"Can\'t be Blank 1","value":1},{"name":"Can\'t be Blank 2","value":1},{"name":"Can\'t be Blank 3","value":0},{"name":"Is Updated 3","value":0},{"name":"Key String 1","value":"firstName"},{"name":"Key String 2","value":"lastName"},{"name":"Key String 3","value":""}],"portsOut":[{"name":"Object Output","links":[{"portIn":"Object","portOut":"Object Output","objIn":"bp4-26","objOut":"bp4-29"}]},{"name":"Trigger Success","links":[{"portIn":"exe","portOut":"Trigger Success","objIn":"bp4-27","objOut":"bp4-29"}]},{"name":"Trigger Fail","links":[{"portIn":"exe","portOut":"Trigger Fail","objIn":"bp4-28","objOut":"bp4-29"},{"portIn":"Trigger animation","portOut":"Trigger Fail","objIn":"bp4-30","objOut":"bp4-29"}]}],"objName":"Ops.User.rambodc.Check_String_CreateJSON"},{"id":"bp4-30","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Something went wrong. Update the fields and try again. "},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-31","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"authEmail"}],"portsOut":[{"name":"Value","links":[{"portIn":"String A","portOut":"Value","objIn":"bp4-62","objOut":"bp4-31"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-32","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Width","value":""},{"name":"Button Background Color","value":"rgba(255, 255, 255, 0.0)"},{"name":"Hover Background Color","value":"rgba(255, 255, 255, 0.0)"},{"name":"Is Button","value":0},{"name":"Text Size","value":"18px"},{"name":"Visible","value":1}],"portsOut":[{"name":"Siblings","links":[{"portIn":"Link","portOut":"Siblings","objIn":"bp4-321","objOut":"bp4-32"}]}],"objName":"Ops.User.rambodc.Button_Center"},{"id":"bp4-33","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"message"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text","portOut":"Output","objIn":"bp4-34","objOut":"bp4-33"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-34","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-35","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"logout"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-36","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-35","objOut":"bp4-36"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-37","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"5 password"}],"objName":"Ops.Ui.Area"},{"id":"bp4-38","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-39","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-40","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":6},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-41","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Password Changed"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-42","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"message"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"JSON String","portOut":"Output","objIn":"bp4-63","objOut":"bp4-42"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-43","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Password Change Success","links":[{"portIn":"Trigger animation","portOut":"Password Change Success","objIn":"bp4-41","objOut":"bp4-43"},{"portIn":"exe","portOut":"Password Change Success","objIn":"bp4-38","objOut":"bp4-43"},{"portIn":"exe","portOut":"Password Change Success","objIn":"bp4-61","objOut":"bp4-43"},{"portIn":"n6dz5ut5m","portOut":"Password Change Success","objIn":"bp4-256","objOut":"bp4-43"}]},{"name":"Password Change Fail","links":[{"portIn":"Trigger animation","portOut":"Password Change Fail","objIn":"bp4-40","objOut":"bp4-43"},{"portIn":"exe","portOut":"Password Change Fail","objIn":"bp4-39","objOut":"bp4-43"},{"portIn":"exe","portOut":"Password Change Fail","objIn":"bp4-61","objOut":"bp4-43"}]},{"name":"Password Change Error","links":[{"portIn":"Object","portOut":"Password Change Error","objIn":"bp4-42","objOut":"bp4-43"}]}],"objName":"Ops.User.rambodc.FB_ChangePassword"},{"id":"bp4-44","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text","value":"Change Password"},{"name":"Button Width","value":"130px"},{"name":"Button Background Color","value":"#007bff"},{"name":"Hover Background Color","value":"rgba(13, 130, 254, 1)"},{"name":"Visible","value":1}],"portsOut":[{"name":"Button Pressed","links":[{"portIn":"Change Password","portOut":"Button Pressed","objIn":"bp4-43","objOut":"bp4-44"}]}],"objName":"Ops.User.rambodc.Button_Right"},{"id":"bp4-45","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"bool 3","value":0},{"name":"bool 4","value":0},{"name":"bool 5","value":0},{"name":"bool 6","value":0},{"name":"bool 7","value":0},{"name":"bool 8","value":0},{"name":"bool 9","value":0},{"name":"bool 10","value":0}],"portsOut":[{"name":"result","links":[{"portIn":"Visible","portOut":"result","objIn":"bp4-12","objOut":"bp4-45"}]}],"objName":"Ops.Boolean.Or"},{"id":"bp4-46","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-618","objOut":"bp4-46"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-47","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-619","objOut":"bp4-47"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-48","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-620","objOut":"bp4-48"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-49","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp4-11","objOut":"bp4-49"},{"portIn":"exe","portOut":"Next","objIn":"bp4-56","objOut":"bp4-49"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-50","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"innerOut_i6nnsru1m","title":"Parent Link","links":[{"portIn":"link","portOut":"innerOut_i6nnsru1m","objIn":"bp4-714","objOut":"bp4-50"}]},{"name":"innerOut_zap5t5tri","title":"Mainloop","links":[{"portIn":"0as2n77e5","portOut":"innerOut_zap5t5tri","objIn":"bp4-52","objOut":"bp4-50"}]},{"name":"innerOut_9ozpectyq","title":"Hash Changed","links":[{"portIn":"eabt3o2x7","portOut":"innerOut_9ozpectyq","objIn":"bp4-52","objOut":"bp4-50"},{"portIn":"Execute","portOut":"innerOut_9ozpectyq","objIn":"bp4-71","objOut":"bp4-50"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp4-51","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"innerIn_79by1oqzk","title":"Back Button"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp4-52","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"zzd2dk99r","title":"Parent Link"},{"name":"0as2n77e5","title":"Mainloop"},{"name":"eabt3o2x7","title":"Hash Changed"},{"name":"patchId","value":"4lx5clxoi"}],"portsOut":[{"name":"37k6sbwik","title":"Parent Link","links":[{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-237","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-238","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-239","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-240","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-241","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-242","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-243","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-499","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-527","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-599","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-694","objOut":"bp4-52"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp4-731","objOut":"bp4-52"}]},{"name":"o4ucc2fcw","title":"Mainloop","links":[{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-237","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-238","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-239","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-240","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-241","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-242","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-243","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-499","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-527","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-599","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-694","objOut":"bp4-52"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp4-731","objOut":"bp4-52"}]},{"name":"r4xu39dfu","title":"Hash Changed","links":[{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-237","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-238","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-239","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-240","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-241","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-242","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-243","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-499","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-527","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-599","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-694","objOut":"bp4-52"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp4-731","objOut":"bp4-52"}]}],"objName":"Ops.User.rambodc.PageRouter"},{"id":"bp4-53","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"PageRouter"}],"objName":"Ops.Ui.Area"},{"id":"bp4-54","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-55","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"boolean","portOut":"Value","objIn":"bp4-56","objOut":"bp4-55"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-56","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"exe","portOut":"then","objIn":"bp4-10","objOut":"bp4-56"}]},{"name":"else","links":[{"portIn":"exe","portOut":"else","objIn":"bp4-57","objOut":"bp4-56"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp4-57","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-3","objOut":"bp4-57"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-58","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-59","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-60","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-61","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"Clear","portOut":"trigger","objIn":"bp4-322","objOut":"bp4-61"},{"portIn":"Clear","portOut":"trigger","objIn":"bp4-323","objOut":"bp4-61"},{"portIn":"Clear","portOut":"trigger","objIn":"bp4-324","objOut":"bp4-61"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-62","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"Your current email address is: $a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Button Text","portOut":"Result","objIn":"bp4-32","objOut":"bp4-62"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-63","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-64","objOut":"bp4-63"}]},{"name":"Valid","value":0}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-64","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"error.errors.0.message"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text","portOut":"Output","objIn":"bp4-40","objOut":"bp4-64"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-65","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Your email has been changed. You will be logged out now... "},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-66","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Success","links":[{"portIn":"Update Email","portOut":"Success","objIn":"bp4-69","objOut":"bp4-66"}]},{"name":"Fail","links":[{"portIn":"Trigger animation","portOut":"Fail","objIn":"bp4-67","objOut":"bp4-66"}]},{"name":"Valid Email","value":"rambodc@gmail.com"}],"objName":"Ops.User.rambodc.Check_Email_Validation"},{"id":"bp4-67","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Invalid Email Address"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-68","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text","value":"Change My Email"},{"name":"Button Width","value":""},{"name":"Button Background Color","value":"rgba(67, 138, 44,1)"},{"name":"Hover Background Color","value":"rgba(67, 138, 44,0.8)"},{"name":"Visible","value":1}],"portsOut":[{"name":"Button Pressed","links":[{"portIn":"Trigger","portOut":"Button Pressed","objIn":"bp4-66","objOut":"bp4-68"}]}],"objName":"Ops.User.rambodc.Button_Right"},{"id":"bp4-69","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Update Success","links":[{"portIn":"Trigger animation","portOut":"Update Success","objIn":"bp4-65","objOut":"bp4-69"},{"portIn":"Exec","portOut":"Update Success","objIn":"bp4-70","objOut":"bp4-69"},{"portIn":"n6dz5ut5m","portOut":"Update Success","objIn":"bp4-257","objOut":"bp4-69"}]},{"name":"Update Fail","links":[{"portIn":"Trigger animation","portOut":"Update Fail","objIn":"bp4-34","objOut":"bp4-69"},{"portIn":"exe","portOut":"Update Fail","objIn":"bp4-36","objOut":"bp4-69"}]},{"name":"Update Error","links":[{"portIn":"Object","portOut":"Update Error","objIn":"bp4-33","objOut":"bp4-69"}]}],"objName":"Ops.User.rambodc.FB_UpdateEmail"},{"id":"bp4-70","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Html.ReloadPage"},{"id":"bp4-71","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-78","objOut":"bp4-71"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-72","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"URL","value":"https://sandbox.cables.gl/ui/#/a"},{"name":"Host","value":"sandbox.cables.gl"},{"name":"Hash","links":[{"portIn":"String","portOut":"Hash","objIn":"bp4-74","objOut":"bp4-72"}]},{"name":"Pathname","value":"/ui/"},{"name":"Protocol","value":"https:"},{"name":"Port","value":""}],"objName":"Ops.Website.InfoURL"},{"id":"bp4-73","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":0},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp4-74","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Search For","value":"#"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"Add Value","portOut":"Result","objIn":"bp4-86","objOut":"bp4-74"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp4-75","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-83","objOut":"bp4-75"},{"portIn":"Decrease","portOut":"Next","objIn":"bp4-86","objOut":"bp4-75"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-76","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-77","objOut":"bp4-76"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-77","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-78","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.05}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-79","objOut":"bp4-78"},{"portIn":"exe","portOut":"next","objIn":"bp4-84","objOut":"bp4-78"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-79","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-82","objOut":"bp4-79"},{"portIn":"Increase","portOut":"Trigger out","objIn":"bp4-86","objOut":"bp4-79"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-80","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay","value":0.3}],"portsOut":[{"name":"Output Boolean","links":[{"portIn":"Boolean","portOut":"Output Boolean","objIn":"bp4-81","objOut":"bp4-80"}]}],"objName":"Ops.User.rambodc.delay_boolean_timer"},{"id":"bp4-81","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-79","objOut":"bp4-81"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-82","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-83","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Update","portOut":"next","objIn":"bp4-73","objOut":"bp4-83"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-84","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-85","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Collection Name","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-19","objOut":"bp4-85"}]},{"name":"Success","links":[{"portIn":"Trigger animation","portOut":"Success","objIn":"bp4-16","objOut":"bp4-85"},{"portIn":"exe","portOut":"Success","objIn":"bp4-17","objOut":"bp4-85"},{"portIn":"exe","portOut":"Success","objIn":"bp4-21","objOut":"bp4-85"},{"portIn":"n6dz5ut5m","portOut":"Success","objIn":"bp4-254","objOut":"bp4-85"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-18","objOut":"bp4-85"},{"portIn":"Trigger animation","portOut":"Failure","objIn":"bp4-19","objOut":"bp4-85"}]},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FBUpdateDocument2"},{"id":"bp4-86","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Initial Value","value":"/b"}],"portsOut":[{"name":"Count","value":1},{"name":"Json Object","links":[{"portIn":"JSON String","portOut":"Json Object","objIn":"bp4-76","objOut":"bp4-86"}]},{"name":"Selected","links":[{"portIn":"Hash","portOut":"Selected","objIn":"bp4-73","objOut":"bp4-86"}]}],"objName":"Ops.User.rambodc.Back_Button_History"},{"id":"bp4-87","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-621","objOut":"bp4-87"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-88","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-89","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"buy"}],"objName":"Ops.Ui.Area"},{"id":"bp4-90","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-622","objOut":"bp4-90"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-91","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-92","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"inapp"}],"objName":"Ops.Ui.Area"},{"id":"bp4-93","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-94","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-95","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-96","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-97","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-98","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-99","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"runAI"}],"objName":"Ops.Ui.Area"},{"id":"bp4-100","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-101","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Run AI Success"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-102","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-634","objOut":"bp4-102"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-103","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-634","objOut":"bp4-103"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-104","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-634","objOut":"bp4-104"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-105","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-634","objOut":"bp4-105"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-106","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-634","objOut":"bp4-106"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-107","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"prompt\\": $b,\\n  \\"path\\": \\"$c\\"\\n\\n}\\n"},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-106","objOut":"bp4-107"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-108","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"posts/$a/thumbnail/$a.png"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"String C","portOut":"Result","objIn":"bp4-107","objOut":"bp4-108"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-109","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"AI Process ..","title":"Short Msg"},{"name":"tyq5lu94r","value":0.2,"title":"Delay False"},{"name":"patchId","value":"4mk9hyqz8"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-110","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"postSuccess"}],"portsOut":[{"name":"Triggered","links":[{"portIn":"Open File Dialog","portOut":"Triggered","objIn":"bp4-147","objOut":"bp4-110"}]}],"objName":"Ops.Trigger.TriggerReceive"},{"id":"bp4-111","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-634","objOut":"bp4-111"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-112","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-634","objOut":"bp4-112"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-113","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-623","objOut":"bp4-113"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-114","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-115","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-116","objOut":"bp4-115"},{"portIn":"Execute","portOut":"trigger","objIn":"bp4-207","objOut":"bp4-115"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-116","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-117","objOut":"bp4-116"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-117","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-119","objOut":"bp4-117"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-118","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-120","objOut":"bp4-118"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-119","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-258","objOut":"bp4-119"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-120","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-117","objOut":"bp4-120"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-121","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"invite"}],"objName":"Ops.Ui.Area"},{"id":"bp4-122","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"User ID","portOut":"Value","objIn":"bp4-721","objOut":"bp4-122"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-123","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-124","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-125","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-126","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Upload File","portOut":"next","objIn":"bp4-721","objOut":"bp4-126"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-127","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"Uploading $a%"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"gy342pc5t","portOut":"Result","objIn":"bp4-149","objOut":"bp4-127"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-128","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":0}],"portsOut":[{"name":"result","links":[{"portIn":"Number","portOut":"result","objIn":"bp4-129","objOut":"bp4-128"}]}],"objName":"Ops.Math.Round"},{"id":"bp4-129","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp4-127","objOut":"bp4-129"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-130","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"Upload Media"}],"objName":"Ops.Ui.Area"},{"id":"bp4-131","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-132","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-133","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-134","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-135","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-136","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-137","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-138","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-139","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Post Generated"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-140","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-635","objOut":"bp4-140"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-141","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-635","objOut":"bp4-141"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-142","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-635","objOut":"bp4-142"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-143","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String B","portOut":"Value","objIn":"bp4-459","objOut":"bp4-143"},{"portIn":"UID","portOut":"Value","objIn":"bp4-635","objOut":"bp4-143"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-144","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-131","objOut":"bp4-144"},{"portIn":"Parameters","portOut":"Result","objIn":"bp4-635","objOut":"bp4-144"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-145","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-635","objOut":"bp4-145"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-146","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Upload File","portOut":"Next","objIn":"bp4-721","objOut":"bp4-146"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-147","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Accept Files","value":"image/*,video/*"},{"name":"Allow Multiple Files","value":0},{"name":"Max File Size (MB)","value":50},{"name":"Max Video Length (Seconds)","value":61}],"portsOut":[{"name":"File Object","links":[{"portIn":"Object","portOut":"File Object","objIn":"bp4-123","objOut":"bp4-147"},{"portIn":"File to Upload","portOut":"File Object","objIn":"bp4-721","objOut":"bp4-147"}]},{"name":"File Error","value":""},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-125","objOut":"bp4-147"},{"portIn":"exe","portOut":"Success","objIn":"bp4-126","objOut":"bp4-147"}]}],"objName":"Ops.User.rambodc.Open_File_Dialog"},{"id":"bp4-148","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-149","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","title":"Visible"},{"name":"gy342pc5t","title":"Short Msg"},{"name":"tyq5lu94r","value":0.4,"title":"Delay False"},{"name":"patchId","value":"elg9qz0z4"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-150","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","title":"Visible"},{"name":"gy342pc5t","value":"Creating Post","title":"Short Msg"},{"name":"tyq5lu94r","value":1.2,"title":"Delay False"},{"name":"patchId","value":"1cnzljmfk"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-151","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-635","objOut":"bp4-151"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-152","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"createPost"}],"objName":"Ops.Ui.Area"},{"id":"bp4-153","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-250","objOut":"bp4-153"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-154","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-108","objOut":"bp4-154"},{"portIn":"String A","portOut":"String","objIn":"bp4-107","objOut":"bp4-154"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-155","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-156","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-157","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-158","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-159","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"JSON String","value":"{\\n    \\"functionType\\": \\"post1\\",\\n    \\"functionDescription\\": \\"This function analyzes an image and generates a response object with extracted information.\\",\\n    \\"question\\": {\\n      \\"question\\": \\"Based on the image, create an interesting fun fact in the form of a question. The answers should be simple words or numbers. The question should relate to famous people, places, or organizations, with the answers being the names of famous persons, places, or things.\\",\\n      \\"answer1\\": \\"possible answer\\",\\n      \\"answer2\\": \\"possible answer\\",\\n      \\"answer3\\": \\"possible answer\\",\\n      \\"correctAnswer\\": \\"correct answer key\\"\\n    },\\n    \\"tags\\": [\\n      \\"generate 10 relevant tags based on the content of the image\\"\\n    ],\\n    \\"title\\": \\"suggest a concise title based on the image context, up to 7 words\\",\\n    \\"description\\": \\"suggest a brief description based on the image context, up to 20 words\\"\\n}"}],"portsOut":[{"name":"Result","links":[{"portIn":"Input Object","portOut":"Result","objIn":"bp4-160","objOut":"bp4-159"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-160","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"JSON String","links":[{"portIn":"String B","portOut":"JSON String","objIn":"bp4-107","objOut":"bp4-160"}]}],"objName":"Ops.User.rambodc.Stringify2_Backslash"},{"id":"bp4-161","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-162","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-163","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-164","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-165","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-166","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-167","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"Pinata"}],"objName":"Ops.Ui.Area"},{"id":"bp4-168","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-169","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"IPFS Success"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-170","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-636","objOut":"bp4-170"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-171","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-636","objOut":"bp4-171"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-172","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-636","objOut":"bp4-172"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-173","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-636","objOut":"bp4-173"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-174","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-636","objOut":"bp4-174"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-175","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"path\\": \\"$b\\"\\n\\n}\\n"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-174","objOut":"bp4-175"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-176","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"Tokenizing..","title":"Short Msg"},{"name":"tyq5lu94r","value":0.2,"title":"Delay False"},{"name":"patchId","value":"dnjdpgymx"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-177","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-636","objOut":"bp4-177"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-178","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-636","objOut":"bp4-178"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-179","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-175","objOut":"bp4-179"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-180","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-181","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":1}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-182","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String B","portOut":"String","objIn":"bp4-175","objOut":"bp4-182"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-183","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-184","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-185","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-186","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-187","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-188","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-189","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"tokenizePost"}],"objName":"Ops.Ui.Area"},{"id":"bp4-190","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-191","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Successfully Tokenized"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":2.5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-192","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-637","objOut":"bp4-192"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-193","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-637","objOut":"bp4-193"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-194","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-637","objOut":"bp4-194"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-195","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-637","objOut":"bp4-195"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-196","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","title":"Visible"},{"name":"gy342pc5t","value":"Tokenizing..","title":"Short Msg"},{"name":"tyq5lu94r","value":1,"title":"Delay False"},{"name":"patchId","value":"9wrwceuut"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-197","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-637","objOut":"bp4-197"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-198","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-637","objOut":"bp4-198"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-199","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-392","objOut":"bp4-199"},{"portIn":"String B","portOut":"String","objIn":"bp4-407","objOut":"bp4-199"},{"portIn":"value","portOut":"String","objIn":"bp4-774","objOut":"bp4-199"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-200","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-201","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-202","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"50px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-203","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"20px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-624","objOut":"bp4-203"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-204","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-625","objOut":"bp4-204"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-205","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"username"}],"portsOut":[{"name":"Value","links":[{"portIn":"Text","portOut":"Value","objIn":"bp4-624","objOut":"bp4-205"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-206","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Callback Name","value":"webShare"},{"name":"Parameter 1","value":"Hello World"},{"name":"Parameter 2","value":"https://dev.razzberry.ai/#/d/post/4GOGHNY6EVVNE1VVwy8A"},{"name":"Parameter 3","value":""}],"objName":"Ops.Cables.CallBack_v2"},{"id":"bp4-207","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-208","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String B","portOut":"String","objIn":"bp4-209","objOut":"bp4-208"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-209","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"posts/$a/original/$a.$b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp4-182","objOut":"bp4-209"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-210","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-209","objOut":"bp4-210"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-211","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-718","objOut":"bp4-211"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-212","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp4-311","objOut":"bp4-212"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-213","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-214","objOut":"bp4-213"}]},{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-214","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-215","objOut":"bp4-214"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-215","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-217","objOut":"bp4-215"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-216","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-218","objOut":"bp4-216"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-217","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-260","objOut":"bp4-217"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-218","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-215","objOut":"bp4-218"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-219","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"edit"}],"objName":"Ops.Ui.Area"},{"id":"bp4-220","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-221","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-352","objOut":"bp4-221"},{"portIn":"Object","portOut":"Result","objIn":"bp4-353","objOut":"bp4-221"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-222","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Search For","value":"```json"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"String","portOut":"Result","objIn":"bp4-223","objOut":"bp4-222"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp4-223","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Search For","value":"```"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-221","objOut":"bp4-223"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp4-224","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ai.candidates.0.content.parts.0.text"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp4-222","objOut":"bp4-224"},{"portIn":"String","portOut":"Output","objIn":"bp4-225","objOut":"bp4-224"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-225","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Whitespace","value":0},{"name":"Wrap lines","value":1},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizString"},{"id":"bp4-226","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp4-626","objOut":"bp4-226"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-231","objOut":"bp4-226"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-227","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-228","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-229","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a $b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp4-674","objOut":"bp4-229"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-230","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay True","value":1},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp4-211","objOut":"bp4-230"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp4-231","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"0px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-674","objOut":"bp4-231"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-232","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-512.png?alt=media&token=426ae8b5-1f1b-4d2c-accd-fbcefdef37e8"},{"name":"Text","value":"Collected"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-235","objOut":"bp4-232"}]},{"name":"Pressed Trigger","links":[{"portIn":"Execute","portOut":"Pressed Trigger","objIn":"bp4-716","objOut":"bp4-232"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp4-233","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon","value":"https://upload.wikimedia.org/wikipedia/commons/1/18/Ipfs-logo-1024-ice-text.png"},{"name":"Text","value":"IPFS Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-234","objOut":"bp4-233"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp4-453","objOut":"bp4-233"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp4-234","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FxrpLogo2.png?alt=media&token=e7f5d563-ce1b-4b47-800a-88c5d16d0325"},{"name":"Text","value":"Transaction Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-445","objOut":"bp4-234"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp4-451","objOut":"bp4-234"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp4-235","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon","value":"https://cdn-icons-png.flaticon.com/512/5278/5278402.png"},{"name":"Text","value":"AI"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-233","objOut":"bp4-235"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp4-236","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-343","objOut":"bp4-236"},{"portIn":"Value","portOut":"String","objIn":"bp4-379","objOut":"bp4-236"},{"portIn":"value","portOut":"String","objIn":"bp4-199","objOut":"bp4-236"},{"portIn":"Document ID","portOut":"String","objIn":"bp4-394","objOut":"bp4-236"},{"portIn":"value","portOut":"String","objIn":"bp4-612","objOut":"bp4-236"},{"portIn":"value","portOut":"String","objIn":"bp4-717","objOut":"bp4-236"},{"portIn":"String B","portOut":"String","objIn":"bp4-724","objOut":"bp4-236"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-237","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"name","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"nwewei1ac"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-46","objOut":"bp4-237"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-54","objOut":"bp4-237"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"Execute","portOut":"iyq4pnlwm","objIn":"bp4-49","objOut":"bp4-237"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-295","objOut":"bp4-237"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-46","objOut":"bp4-237"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-302","objOut":"bp4-237"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-238","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"email","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"5mg0vjs8q"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-47","objOut":"bp4-238"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-58","objOut":"bp4-238"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-59","objOut":"bp4-238"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-287","objOut":"bp4-238"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-47","objOut":"bp4-238"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-294","objOut":"bp4-238"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-239","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"password","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"75y4zxenn"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-48","objOut":"bp4-239"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-60","objOut":"bp4-239"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-61","objOut":"bp4-239"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-279","objOut":"bp4-239"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-48","objOut":"bp4-239"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-286","objOut":"bp4-239"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-240","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"buy","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"wtc4sh5yo"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-87","objOut":"bp4-240"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-88","objOut":"bp4-240"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-271","objOut":"bp4-240"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-87","objOut":"bp4-240"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-278","objOut":"bp4-240"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-241","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"inapp","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"mi42nu0fc"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-90","objOut":"bp4-241"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-91","objOut":"bp4-241"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-263","objOut":"bp4-241"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-90","objOut":"bp4-241"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-270","objOut":"bp4-241"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-242","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"invite","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"8vp1ef5u4"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-113","objOut":"bp4-242"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-114","objOut":"bp4-242"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-115","objOut":"bp4-242"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp4-469","objOut":"bp4-242"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-262","objOut":"bp4-242"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-243","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"edit","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"yua4k030u"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-455","objOut":"bp4-243"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-212","objOut":"bp4-243"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-213","objOut":"bp4-243"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-313","objOut":"bp4-243"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-316","objOut":"bp4-243"},{"portIn":"Execute","portOut":"iyq4pnlwm","objIn":"bp4-325","objOut":"bp4-243"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp4-230","objOut":"bp4-243"}]},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"value","portOut":"rzi5x09qq","objIn":"bp4-236","objOut":"bp4-243"}]},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-261","objOut":"bp4-243"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-244","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String B","portOut":"Value","objIn":"bp4-229","objOut":"bp4-244"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-245","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String A","portOut":"Value","objIn":"bp4-229","objOut":"bp4-245"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-246","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"profilePhoto"}],"portsOut":[{"name":"Value","links":[{"portIn":"Icon","portOut":"Value","objIn":"bp4-674","objOut":"bp4-246"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-247","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs.hash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp4-249","objOut":"bp4-247"},{"portIn":"String B","portOut":"Output","objIn":"bp4-454","objOut":"bp4-247"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp4-233","objOut":"bp4-247"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-248","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp4-235","objOut":"bp4-248"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp4-249","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp4-233","objOut":"bp4-249"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp4-250","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-259","objOut":"bp4-250"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-251","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ai"}],"portsOut":[{"name":"Found","links":[{"portIn":"AI","portOut":"Found","objIn":"bp4-319","objOut":"bp4-251"},{"portIn":"Visible","portOut":"Found","objIn":"bp4-416","objOut":"bp4-251"}]}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp4-252","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs"}],"portsOut":[{"name":"Found","links":[{"portIn":"IPFS","portOut":"Found","objIn":"bp4-319","objOut":"bp4-252"}]}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp4-253","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-320","objOut":"bp4-253"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-254","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"2pa49uvs3"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-255","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"bwqc864ht"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-256","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"1h4fpnlrm"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-257","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"phyizo9vp"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-258","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"ssiizr6k1"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-259","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/edit","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"gkkzuofll"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-260","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"u830rqbfq"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-261","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-260","objOut":"bp4-261"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-262","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-258","objOut":"bp4-262"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-263","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-264","objOut":"bp4-263"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-264","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-265","objOut":"bp4-264"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-265","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-267","objOut":"bp4-265"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-266","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-268","objOut":"bp4-266"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-267","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-269","objOut":"bp4-267"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-268","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-265","objOut":"bp4-268"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-269","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"j6myrbkmx"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-270","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-269","objOut":"bp4-270"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-271","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-272","objOut":"bp4-271"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-272","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-273","objOut":"bp4-272"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-273","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-275","objOut":"bp4-273"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-274","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-276","objOut":"bp4-274"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-275","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-277","objOut":"bp4-275"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-276","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-273","objOut":"bp4-276"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-277","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"vxvx64kq8"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-278","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-277","objOut":"bp4-278"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-279","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-280","objOut":"bp4-279"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-280","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-281","objOut":"bp4-280"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-281","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-283","objOut":"bp4-281"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-282","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-284","objOut":"bp4-282"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-283","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-285","objOut":"bp4-283"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-284","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-281","objOut":"bp4-284"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-285","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"0aowb6emw"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-286","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-285","objOut":"bp4-286"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-287","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-288","objOut":"bp4-287"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-288","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-289","objOut":"bp4-288"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-289","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-291","objOut":"bp4-289"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-290","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-292","objOut":"bp4-290"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-291","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-293","objOut":"bp4-291"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-292","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-289","objOut":"bp4-292"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-293","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"qbpdyhj8x"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-294","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-293","objOut":"bp4-294"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-295","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-296","objOut":"bp4-295"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-296","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-297","objOut":"bp4-296"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-297","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-299","objOut":"bp4-297"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-298","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-300","objOut":"bp4-298"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-299","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-301","objOut":"bp4-299"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-300","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-297","objOut":"bp4-300"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-301","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"q7p212n3p"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-302","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-301","objOut":"bp4-302"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-303","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-304","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-305","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-306","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-307","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":4}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-308","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"fileFormat"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"value","portOut":"Output","objIn":"bp4-208","objOut":"bp4-308"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-309","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"postId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"value","portOut":"Output","objIn":"bp4-210","objOut":"bp4-309"},{"portIn":"value","portOut":"Output","objIn":"bp4-179","objOut":"bp4-309"},{"portIn":"value","portOut":"Output","objIn":"bp4-154","objOut":"bp4-309"},{"portIn":"value","portOut":"Output","objIn":"bp4-761","objOut":"bp4-309"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-310","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"workflow"}],"objName":"Ops.Ui.Area"},{"id":"bp4-311","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Was Triggered","links":[{"portIn":"Value","portOut":"Was Triggered","objIn":"bp4-312","objOut":"bp4-311"}]}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp4-312","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Stop Listening","portOut":"Next","objIn":"bp4-394","objOut":"bp4-312"}]}],"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp4-313","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.6}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Check","portOut":"next","objIn":"bp4-319","objOut":"bp4-313"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-314","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"True Text","value":"Tokenize"},{"name":"True Background","value":"rgba(0, 191, 52, 1)"},{"name":"True Hover","value":"rgba(0, 191, 52, 0.5)"},{"name":"False Text","value":"In Progress..."},{"name":"False Background","value":"rgba(1,1,1,0.3)"},{"name":"False Hover","value":"rgba(1,1,1,0.3)"}],"portsOut":[{"name":"Text","links":[{"portIn":"Button Text Right","portOut":"Text","objIn":"bp4-674","objOut":"bp4-314"}]},{"name":"Background","links":[{"portIn":"Button Color Right","portOut":"Background","objIn":"bp4-674","objOut":"bp4-314"}]},{"name":"Hover","links":[{"portIn":"Button Hover Color Right","portOut":"Hover","objIn":"bp4-674","objOut":"bp4-314"}]}],"objName":"Ops.User.rambodc.StringBoolButton"},{"id":"bp4-315","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"exe","portOut":"then","objIn":"bp4-318","objOut":"bp4-315"}]},{"name":"else","links":[{"portIn":"exe","portOut":"else","objIn":"bp4-317","objOut":"bp4-315"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp4-316","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Start Listening","portOut":"next","objIn":"bp4-394","objOut":"bp4-316"},{"portIn":"Minimize","portOut":"next","objIn":"bp4-718","objOut":"bp4-316"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-317","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-318","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"Execute","portOut":"trigger","objIn":"bp4-412","objOut":"bp4-318"}]},{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-319","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"IPFS Required","value":1},{"name":"AI Required","value":1},{"name":"Resized Image","value":0},{"name":"Resized Image Required","value":0},{"name":"TXN","value":0},{"name":"TXN Required","value":0}],"portsOut":[{"name":"IPFS Trigger","links":[{"portIn":"exe","portOut":"IPFS Trigger","objIn":"bp4-303","objOut":"bp4-319"},{"portIn":"exe","portOut":"IPFS Trigger","objIn":"bp4-177","objOut":"bp4-319"}]},{"name":"AI Trigger","links":[{"portIn":"exe","portOut":"AI Trigger","objIn":"bp4-304","objOut":"bp4-319"},{"portIn":"exe","portOut":"AI Trigger","objIn":"bp4-111","objOut":"bp4-319"}]},{"name":"Resized Image Trigger","links":[{"portIn":"exe","portOut":"Resized Image Trigger","objIn":"bp4-305","objOut":"bp4-319"}]},{"name":"TXN Trigger","links":[{"portIn":"exe","portOut":"TXN Trigger","objIn":"bp4-306","objOut":"bp4-319"}]},{"name":"Pass Trigger","links":[{"portIn":"exe","portOut":"Pass Trigger","objIn":"bp4-307","objOut":"bp4-319"}]},{"name":"Pass Bool","links":[{"portIn":"Boolean","portOut":"Pass Bool","objIn":"bp4-314","objOut":"bp4-319"},{"portIn":"boolean","portOut":"Pass Bool","objIn":"bp4-315","objOut":"bp4-319"}]}],"objName":"Ops.User.rambodc.WorkflowCheck"},{"id":"bp4-320","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-416","objOut":"bp4-320"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-321","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":""},{"name":"Default","value":""},{"name":"Placeholder","value":"Email Address"},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Parent Link","portOut":"Children","objIn":"bp4-68","objOut":"bp4-321"}]},{"name":"Result","links":[{"portIn":"Email","portOut":"Result","objIn":"bp4-66","objOut":"bp4-321"},{"portIn":"New Email","portOut":"Result","objIn":"bp4-69","objOut":"bp4-321"}]},{"name":"Focus","value":false},{"name":"Has Changed","value":false},{"name":"Is Valid","value":false}],"objName":"Ops.User.rambodc.Email_Input_Sidebar"},{"id":"bp4-322","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"Old Password"},{"name":"Default","value":""},{"name":"Placeholder","value":"Old Password"},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-323","objOut":"bp4-322"}]},{"name":"Result","links":[{"portIn":"Old Password","portOut":"Result","objIn":"bp4-43","objOut":"bp4-322"}]},{"name":"Focus","value":false},{"name":"Has Changed","value":false}],"objName":"Ops.User.rambodc.TextInput_Password"},{"id":"bp4-323","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"New Password"},{"name":"Default","value":""},{"name":"Placeholder","value":"New Password"},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-324","objOut":"bp4-323"}]},{"name":"Result","links":[{"portIn":"New Password","portOut":"Result","objIn":"bp4-43","objOut":"bp4-323"}]},{"name":"Focus","value":false},{"name":"Has Changed","value":false}],"objName":"Ops.User.rambodc.TextInput_Password"},{"id":"bp4-324","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"Confirm New Password"},{"name":"Default","value":""},{"name":"Placeholder","value":"Confirm New Password"},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Parent Link","portOut":"Children","objIn":"bp4-44","objOut":"bp4-324"}]},{"name":"Result","links":[{"portIn":"Confirm New Password","portOut":"Result","objIn":"bp4-43","objOut":"bp4-324"}]},{"name":"Focus","value":false},{"name":"Has Changed","value":false}],"objName":"Ops.User.rambodc.TextInput_Password"},{"id":"bp4-325","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Clear","portOut":"Next","objIn":"bp4-390","objOut":"bp4-325"},{"portIn":"Clear","portOut":"Next","objIn":"bp4-468","objOut":"bp4-325"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-326","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"If Both Null","value":"untitled"}],"portsOut":[{"name":"String Output","links":[{"portIn":"String B","portOut":"String Output","objIn":"bp4-368","objOut":"bp4-326"},{"portIn":"String","portOut":"String Output","objIn":"bp4-387","objOut":"bp4-326"}]}],"objName":"Ops.User.rambodc.TextInput_NullCheck"},{"id":"bp4-327","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"If Both Null","value":"untitled"}],"portsOut":[{"name":"String Output","links":[{"portIn":"String","portOut":"String Output","objIn":"bp4-376","objOut":"bp4-327"}]}],"objName":"Ops.User.rambodc.TextInput_NullCheck"},{"id":"bp4-328","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-329","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-330","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-331","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-332","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-333","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-334","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-335","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-336","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Title Description Updated"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-337","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-638","objOut":"bp4-337"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-338","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-638","objOut":"bp4-338"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-339","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-638","objOut":"bp4-339"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-340","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-638","objOut":"bp4-340"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-341","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-328","objOut":"bp4-341"},{"portIn":"Parameters","portOut":"Result","objIn":"bp4-638","objOut":"bp4-341"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-342","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-638","objOut":"bp4-342"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-343","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"title\\": \\"$b\\",\\n  \\"description\\": \\"$c\\"\\n}"},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":0},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-341","objOut":"bp4-343"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp4-344","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"Updating Post","title":"Short Msg"},{"name":"tyq5lu94r","value":0.2,"title":"Delay False"},{"name":"patchId","value":"5tsevwnir"}],"objName":"Ops.User.rambodc.LoaderMsg"},{"id":"bp4-345","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-638","objOut":"bp4-345"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-346","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"updatePost (title description)"}],"objName":"Ops.Ui.Area"},{"id":"bp4-347","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-348","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-349","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"result","value":0}],"objName":"Ops.Boolean.Boolean"},{"id":"bp4-350","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"description"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Secondary String","portOut":"Output","objIn":"bp4-327","objOut":"bp4-350"},{"portIn":"Default","portOut":"Output","objIn":"bp4-390","objOut":"bp4-350"},{"portIn":"Text","portOut":"Output","objIn":"bp4-627","objOut":"bp4-350"},{"portIn":"String C","portOut":"Output","objIn":"bp4-770","objOut":"bp4-350"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-351","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"title"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Secondary String","portOut":"Output","objIn":"bp4-326","objOut":"bp4-351"},{"portIn":"Default","portOut":"Output","objIn":"bp4-468","objOut":"bp4-351"},{"portIn":"String A","portOut":"Output","objIn":"bp4-617","objOut":"bp4-351"},{"portIn":"Text","portOut":"Output","objIn":"bp4-626","objOut":"bp4-351"},{"portIn":"String B","portOut":"Output","objIn":"bp4-770","objOut":"bp4-351"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-352","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"title"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String B","portOut":"Output","objIn":"bp4-343","objOut":"bp4-352"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-353","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"description"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String C","portOut":"Output","objIn":"bp4-343","objOut":"bp4-353"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-354","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-355","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-356","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-357","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-358","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-359","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-360","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-361","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Title or Description was updated"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: rgba(1,1,1,0.2) ;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-362","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-639","objOut":"bp4-362"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-363","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-639","objOut":"bp4-363"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-364","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-639","objOut":"bp4-364"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-365","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-639","objOut":"bp4-365"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-366","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-388","objOut":"bp4-366"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-367","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-639","objOut":"bp4-367"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-368","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"title\\": \\"$b\\"\\n}"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":0},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-366","objOut":"bp4-368"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp4-369","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-639","objOut":"bp4-369"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-370","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"updatePost (title desc Auto)"}],"objName":"Ops.Ui.Area"},{"id":"bp4-371","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-372","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-373","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp4-325","objOut":"bp4-373"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-374","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-375","objOut":"bp4-374"}]}],"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp4-375","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"Trigger","portOut":"then","objIn":"bp4-387","objOut":"bp4-375"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp4-376","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp4-386","objOut":"bp4-376"}]},{"name":"Result","links":[{"portIn":"String B","portOut":"Result","objIn":"bp4-385","objOut":"bp4-376"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-377","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-378","objOut":"bp4-377"}]}],"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp4-378","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"Trigger","portOut":"then","objIn":"bp4-376","objOut":"bp4-378"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp4-379","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay","value":1}],"portsOut":[{"name":"Out Value","links":[{"portIn":"String A","portOut":"Out Value","objIn":"bp4-368","objOut":"bp4-379"},{"portIn":"String A","portOut":"Out Value","objIn":"bp4-385","objOut":"bp4-379"}]}],"objName":"Ops.String.DelayStringSimple"},{"id":"bp4-380","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Show Right Button","portOut":"Result","objIn":"bp4-674","objOut":"bp4-380"},{"portIn":"Visible","portOut":"Result","objIn":"bp4-320","objOut":"bp4-380"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-381","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"String 2","value":"completed"}],"portsOut":[{"name":"Result","links":[{"portIn":"Boolean","portOut":"Result","objIn":"bp4-380","objOut":"bp4-381"},{"portIn":"Visible","portOut":"Result","objIn":"bp4-626","objOut":"bp4-381"},{"portIn":"Visible","portOut":"Result","objIn":"bp4-627","objOut":"bp4-381"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp4-382","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"status"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String 1","portOut":"Output","objIn":"bp4-381","objOut":"bp4-382"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-383","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-111","objOut":"bp4-383"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-384","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-386","objOut":"bp4-384"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-385","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"description\\": \\"$b\\"\\n}"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":0},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-384","objOut":"bp4-385"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp4-386","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-367","objOut":"bp4-386"}]},{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-639","objOut":"bp4-386"}]}],"objName":"Ops.Json.ObjectTrigger"},{"id":"bp4-387","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp4-388","objOut":"bp4-387"}]},{"name":"Result","links":[{"portIn":"String B","portOut":"Result","objIn":"bp4-368","objOut":"bp4-387"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-388","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-367","objOut":"bp4-388"}]},{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-639","objOut":"bp4-388"}]}],"objName":"Ops.Json.ObjectTrigger"},{"id":"bp4-389","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"False","value":"Incomplete"},{"name":"True","value":"Completed"}],"portsOut":[{"name":"String","links":[{"portIn":"String Input","portOut":"String","objIn":"bp4-248","objOut":"bp4-389"}]}],"objName":"Ops.Boolean.BoolToString"},{"id":"bp4-390","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"Description"},{"name":"Placeholder","value":0},{"name":"Visible","value":1},{"name":"Max Characters","value":2000},{"name":"Height","value":140},{"name":"Width","value":"100%"}],"portsOut":[{"name":"Result","links":[{"portIn":"Primary String","portOut":"Result","objIn":"bp4-327","objOut":"bp4-390"}]},{"name":"Focus","links":[{"portIn":"Value","portOut":"Focus","objIn":"bp4-377","objOut":"bp4-390"}]},{"name":"Has Changed","links":[{"portIn":"boolean","portOut":"Has Changed","objIn":"bp4-378","objOut":"bp4-390"}]}],"objName":"Ops.User.rambodc.TextInputArea"},{"id":"bp4-391","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-447","objOut":"bp4-391"},{"portIn":"Parameters","portOut":"Result","objIn":"bp4-637","objOut":"bp4-391"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-392","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"transactionObject\\": {\\n    \\"status\\": \\"initialized\\",\\n    \\"txnType\\": \\"postCreate\\",\\n    \\"postId\\": \\"$a\\",\\n    \\"ipfs\\": \\"$c\\",\\n    \\"uid\\": \\"$b\\",\\n    \\"sender\\": {\\n      \\"uid\\": \\"razzberrySender\\",\\n      \\"amount\\": $m,\\n      \\"currency\\": \\"RAZ\\",\\n      \\"account\\": \\"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky\\",\\n      \\"issuer\\": \\"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj\\",\\n      \\"type\\": \\"razzberrySender\\"\\n    },\\n    \\"receivers\\": [\\n      {\\n        \\"uid\\": \\"$b\\",\\n        \\"amount\\": $m,\\n        \\"currency\\": \\"RAZ\\",\\n        \\"account\\": \\"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f\\",\\n        \\"issuer\\": \\"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj\\",\\n        \\"type\\": \\"postCreator\\"\\n      }\\n    ]\\n  },\\n  \\"uid\\": \\"$b\\",\\n  \\"postId\\": \\"$a\\",\\n  \\"txnId\\": \\"$d\\",\\n  \\"amountRaz\\": $m,\\n  \\"firstName\\": \\"$e\\",\\n  \\"lastName\\": \\"$f\\"\\n}"},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"Number N","value":0},{"name":"Number O","value":0},{"name":"Number P","value":0},{"name":"Number Q","value":0},{"name":"Number R","value":0},{"name":"Number S","value":0},{"name":"Number T","value":0},{"name":"Number U","value":0},{"name":"Number V","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-391","objOut":"bp4-392"}]}],"objName":"Ops.User.rambodc.StringCompose3"},{"id":"bp4-393","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String B","portOut":"Value","objIn":"bp4-392","objOut":"bp4-393"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-394","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Collection name","value":"posts"},{"name":"SubCollection name","value":""},{"name":"SubDocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Document Data","links":[{"portIn":"Input Object","portOut":"Document Data","objIn":"bp4-395","objOut":"bp4-394"}]},{"name":"Connection Status","value":"Disconnected"},{"name":"Connected","links":[{"portIn":"exe","portOut":"Connected","objIn":"bp4-227","objOut":"bp4-394"}]},{"name":"Disconnected","links":[{"portIn":"exe","portOut":"Disconnected","objIn":"bp4-228","objOut":"bp4-394"}]}],"objName":"Ops.User.rambodc.FB_Listner"},{"id":"bp4-395","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp4-309","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-308","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-252","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-251","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-247","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-351","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-350","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-382","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-224","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-220","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-408","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-442","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-450","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-456","objOut":"bp4-395"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-461","objOut":"bp4-395"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp4-396","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"wssSelect"}],"portsOut":[{"name":"Value","links":[{"portIn":"WSS URL","portOut":"Value","objIn":"bp4-403","objOut":"bp4-396"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-397","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-398","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-399","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"value","value":"\\u0000\\u001a\\u001d\\u000e\\t2\\u001a\\u0004%1\\b\\u001f%$3\\u001eZ\\u0006>!\\u0002[\\t\\u0005+C>\\u001fX"}],"portsOut":[{"name":"String","links":[{"portIn":"Input A","portOut":"String","objIn":"bp4-403","objOut":"bp4-399"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-400","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Account","value":"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky"},{"name":"Destination","value":"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f"},{"name":"Currency Code","value":"RAZ"},{"name":"Issuer","value":"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj"},{"name":"DestinationTag","value":0},{"name":"InvoiceID","value":""},{"name":"Memo Hex","value":""}],"portsOut":[{"name":"Complete Payment Transaction","links":[{"portIn":"Object","portOut":"Complete Payment Transaction","objIn":"bp4-401","objOut":"bp4-400"},{"portIn":"Transaction","portOut":"Complete Payment Transaction","objIn":"bp4-403","objOut":"bp4-400"}]}],"objName":"Ops.User.rambodc.XRPL_Payment"},{"id":"bp4-401","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-402","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-403","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Transaction Hash","links":[{"portIn":"String A","portOut":"Transaction Hash","objIn":"bp4-433","objOut":"bp4-403"}]},{"name":"Transaction Status","links":[{"portIn":"String B","portOut":"Transaction Status","objIn":"bp4-433","objOut":"bp4-403"}]},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-397","objOut":"bp4-403"},{"portIn":"exe","portOut":"Success","objIn":"bp4-438","objOut":"bp4-403"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-398","objOut":"bp4-403"}]},{"name":"Error","value":""},{"name":"Missing Fields","value":false},{"name":"Has Been Triggered","links":[{"portIn":"exe","portOut":"Has Been Triggered","objIn":"bp4-402","objOut":"bp4-403"}]}],"objName":"Ops.User.rambodc.XRPL_SignTransaction2"},{"id":"bp4-404","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"key"}],"portsOut":[{"name":"Value","links":[{"portIn":"Input B","portOut":"Value","objIn":"bp4-403","objOut":"bp4-404"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-405","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger In","portOut":"next","objIn":"bp4-403","objOut":"bp4-405"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-406","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"CryptoJS CDN URL","value":"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{"name":"Hex Input","value":""}],"portsOut":[{"name":"Hex Output","value":"7b0a20202269706673223a2022516d52334b384e415632664772525472335633663356586b416b39467632685851507532375a5a746b7a6d467931222c0a202022706f73744964223a2022315033434942556b54657a32736a6b4d5439466c222c0a20202274786e54797065223a2022637265617465506f7374222c0a202022756964223a2022484c4352523279566539684b6c613046753647514246744438436b31220a0a7d"},{"name":"Text Output","value":""},{"name":"Text to Hex Success","links":[{"portIn":"exe","portOut":"Text to Hex Success","objIn":"bp4-405","objOut":"bp4-406"},{"portIn":"Add Payment Fields","portOut":"Text to Hex Success","objIn":"bp4-400","objOut":"bp4-406"}]},{"name":"Text to Hex Error","value":""},{"name":"Hex to Text Error","value":""}],"objName":"Ops.User.rambodc.HexConverter"},{"id":"bp4-407","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"ipfs\\": \\"$a\\",\\n  \\"postId\\": \\"$b\\",\\n  \\"txnType\\": \\"$c\\",\\n  \\"uid\\": \\"$d\\"\\n\\n}"},{"name":"String C","value":"createPost"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Input","portOut":"Result","objIn":"bp4-406","objOut":"bp4-407"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-408","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs.hash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-407","objOut":"bp4-408"},{"portIn":"String C","portOut":"Output","objIn":"bp4-392","objOut":"bp4-408"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-409","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Text to Hex Trigger","portOut":"Next","objIn":"bp4-406","objOut":"bp4-409"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-410","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-197","objOut":"bp4-410"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-411","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Generated ID","links":[{"portIn":"String D","portOut":"Generated ID","objIn":"bp4-392","objOut":"bp4-411"}]}],"objName":"Ops.User.rambodc.FB_CreateDocId"},{"id":"bp4-412","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Generate ID","portOut":"Next","objIn":"bp4-411","objOut":"bp4-412"},{"portIn":"Trigger","portOut":"Next","objIn":"bp4-410","objOut":"bp4-412"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-413","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"createTxn"}],"objName":"Ops.Ui.Area"},{"id":"bp4-414","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String D","portOut":"Value","objIn":"bp4-407","objOut":"bp4-414"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-415","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Successfully Tokenized"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":4},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-416","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-468","objOut":"bp4-416"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-417","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":4}],"portsOut":[{"name":"Delaying","links":[{"portIn":"Boolean","portOut":"Delaying","objIn":"bp4-418","objOut":"bp4-417"}]}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-418","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","value":1}],"objName":"Ops.Boolean.Not"},{"id":"bp4-419","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-420","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-421","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-422","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-423","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-424","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-425","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"updatePostTxn"}],"objName":"Ops.Ui.Area"},{"id":"bp4-426","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-427","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-428","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-640","objOut":"bp4-428"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-429","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-640","objOut":"bp4-429"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-430","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-640","objOut":"bp4-430"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-431","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-640","objOut":"bp4-431"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-432","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-640","objOut":"bp4-432"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-433","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"txnHash\\": \\"$a\\",\\n  \\"status\\": \\"$b\\",\\n  \\"txnId\\": \\"$c\\",\\n  \\"postId\\": \\"$d\\"\\n}\\n"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-432","objOut":"bp4-433"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-434","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-640","objOut":"bp4-434"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-435","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-640","objOut":"bp4-435"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-436","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-437","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-438","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-434","objOut":"bp4-438"}]},{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-439","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"In Progress..","title":"Short Msg"},{"name":"tyq5lu94r","value":0,"title":"Delay False"},{"name":"patchId","value":"kte40gzky"}],"objName":"Ops.User.rambodc.LoaderMsg2"},{"id":"bp4-440","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"txnId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String C","portOut":"Output","objIn":"bp4-433","objOut":"bp4-440"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-441","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"postId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp4-433","objOut":"bp4-441"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-442","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"xrpl.txnHash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp4-443","objOut":"bp4-442"},{"portIn":"String B","portOut":"Output","objIn":"bp4-452","objOut":"bp4-442"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp4-234","objOut":"bp4-442"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-443","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp4-234","objOut":"bp4-443"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp4-444","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-232","objOut":"bp4-444"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-445","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon","value":"https://png.pngtree.com/png-clipart/20221115/ourmid/pngtree-share-icon-button-png-image_6454552.png"},{"name":"Text","value":"Share Link"},{"name":"Text Right","value":""},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-449","objOut":"bp4-445"}]},{"name":"Pressed Trigger","links":[{"portIn":"exe","portOut":"Pressed Trigger","objIn":"bp4-611","objOut":"bp4-445"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp4-446","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":2}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp4-464","objOut":"bp4-446"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-447","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"amountRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp4-448","objOut":"bp4-447"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-448","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":2}],"portsOut":[{"name":"Result","links":[{"portIn":"Amount Value","portOut":"Result","objIn":"bp4-400","objOut":"bp4-448"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-449","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"50px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-450","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"ai"}],"portsOut":[{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp4-235","objOut":"bp4-450"},{"portIn":"Boolean","portOut":"Found","objIn":"bp4-389","objOut":"bp4-450"}]}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp4-451","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp4-452","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://livenet.xrpl.org/transactions"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp4-451","objOut":"bp4-452"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-453","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp4-454","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://ipfs.io/ipfs"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp4-453","objOut":"bp4-454"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-455","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-211","objOut":"bp4-455"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-456","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String 1","portOut":"Output","objIn":"bp4-457","objOut":"bp4-456"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-457","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Visible","portOut":"Result","objIn":"bp4-455","objOut":"bp4-457"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp4-458","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String 2","portOut":"Value","objIn":"bp4-457","objOut":"bp4-458"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-459","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"uid\\": \\"$b\\",\\n  \\"version\\": \\"1.1\\",\\n  \\"status\\": \\"uploaded\\",\\n  \\"postType\\": \\"general\\",\\n  \\"isArchived\\": false,\\n  \\"thumbnailUrl\\": \\"$e\\",\\n  \\"fileType\\": \\"$f\\",\\n  \\"fileFormat\\": \\"$g\\",\\n  \\"totalPostRaz\\": $m,\\n  \\"title\\": \\"Untitled\\",\\n  \\"description\\": \\"No description\\"\\n}\\n"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"Number M","value":0},{"name":"Number N","value":0},{"name":"Number O","value":0},{"name":"Number P","value":0},{"name":"Number Q","value":0},{"name":"Number R","value":0},{"name":"Number S","value":0},{"name":"Number T","value":0},{"name":"Number U","value":0},{"name":"Number V","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-144","objOut":"bp4-459"}]}],"objName":"Ops.User.rambodc.StringCompose3"},{"id":"bp4-460","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"postRaz"}],"portsOut":[{"name":"Value","links":[{"portIn":"Amount","portOut":"Value","objIn":"bp4-727","objOut":"bp4-460"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-461","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"totalPostRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp4-446","objOut":"bp4-461"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-462","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"totalRaz"}],"portsOut":[{"name":"Value","links":[{"portIn":"Number","portOut":"Value","objIn":"bp4-463","objOut":"bp4-462"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-463","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"Text 2","portOut":"Result","objIn":"bp4-674","objOut":"bp4-463"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-464","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a RAZ"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Right","portOut":"Result","objIn":"bp4-232","objOut":"bp4-464"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-465","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp4-301","objOut":"bp4-465"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-466","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"First Name: "},{"name":"Placeholder","value":""},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-467","objOut":"bp4-466"}]},{"name":"Result","links":[{"portIn":"Incoming String 1","portOut":"Result","objIn":"bp4-29","objOut":"bp4-466"}]},{"name":"Focus","value":false},{"name":"Has Changed","links":[{"portIn":"bool 2","portOut":"Has Changed","objIn":"bp4-45","objOut":"bp4-466"},{"portIn":"Is Updated 1","portOut":"Has Changed","objIn":"bp4-29","objOut":"bp4-466"}]}],"objName":"Ops.User.rambodc.TextInput_Custom1"},{"id":"bp4-467","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"Last Name: "},{"name":"Placeholder","value":""},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-12","objOut":"bp4-467"}]},{"name":"Result","links":[{"portIn":"Incoming String 2","portOut":"Result","objIn":"bp4-29","objOut":"bp4-467"}]},{"name":"Focus","value":false},{"name":"Has Changed","links":[{"portIn":"bool 1","portOut":"Has Changed","objIn":"bp4-45","objOut":"bp4-467"},{"portIn":"Is Updated 2","portOut":"Has Changed","objIn":"bp4-29","objOut":"bp4-467"}]}],"objName":"Ops.User.rambodc.TextInput_Custom1"},{"id":"bp4-468","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":"Title"},{"name":"Placeholder","value":0},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-390","objOut":"bp4-468"}]},{"name":"Result","links":[{"portIn":"Primary String","portOut":"Result","objIn":"bp4-326","objOut":"bp4-468"}]},{"name":"Focus","links":[{"portIn":"Value","portOut":"Focus","objIn":"bp4-374","objOut":"bp4-468"}]},{"name":"Has Changed","links":[{"portIn":"boolean","portOut":"Has Changed","objIn":"bp4-375","objOut":"bp4-468"}]}],"objName":"Ops.User.rambodc.TextInput_Custom1"},{"id":"bp4-469","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay True","value":0.3},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp4-113","objOut":"bp4-469"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp4-470","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Post OG Update","portOut":"next","objIn":"bp4-780","objOut":"bp4-470"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-471","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-470","objOut":"bp4-471"}]},{"name":"timesTriggered","value":3}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-472","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-628","objOut":"bp4-472"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-473","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-474","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-475","objOut":"bp4-474"},{"portIn":"Execute","portOut":"trigger","objIn":"bp4-495","objOut":"bp4-474"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-475","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-476","objOut":"bp4-475"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-476","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-478","objOut":"bp4-476"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-477","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-479","objOut":"bp4-477"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-478","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-500","objOut":"bp4-478"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-479","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-476","objOut":"bp4-479"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-480","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"search"}],"objName":"Ops.Ui.Area"},{"id":"bp4-481","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Invalid if null","value":1},{"name":"Invalid if undefined","value":1},{"name":"Invalid if empty","value":1},{"name":"Invalid if 0","value":1}],"portsOut":[{"name":"Last Valid String","value":"test3"},{"name":"Is Valid","links":[{"portIn":"Visible","portOut":"Is Valid","objIn":"bp4-484","objOut":"bp4-481"},{"portIn":"Value","portOut":"Is Valid","objIn":"bp4-489","objOut":"bp4-481"}]}],"objName":"Ops.String.FilterValidString"},{"id":"bp4-482","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a $b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp4-675","objOut":"bp4-482"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-483","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"30px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-675","objOut":"bp4-483"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-484","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Group"},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"next","links":[{"portIn":"Link","portOut":"next","objIn":"bp4-485","objOut":"bp4-484"}]},{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-629","objOut":"bp4-484"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-485","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"250px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-486","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"firstName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-482","objOut":"bp4-486"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-487","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"lastName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String B","portOut":"Output","objIn":"bp4-482","objOut":"bp4-487"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-488","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"profilePhoto400Url"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Icon","portOut":"Output","objIn":"bp4-675","objOut":"bp4-488"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-489","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Clear Outputs","portOut":"Next","objIn":"bp4-506","objOut":"bp4-489"}]}],"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp4-490","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"username"}],"portsOut":[{"name":"Value","links":[{"portIn":"Own Username","portOut":"Value","objIn":"bp4-506","objOut":"bp4-490"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-491","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"User not found. Please check your username and try again."},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-492","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger animation","portOut":"Next","objIn":"bp4-491","objOut":"bp4-492"}]}],"objName":"Ops.Boolean.TriggerChangedTrue"},{"id":"bp4-493","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Username","portOut":"Result","objIn":"bp4-506","objOut":"bp4-493"}]}],"objName":"Ops.String.Lowercase_v2"},{"id":"bp4-494","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String","portOut":"String","objIn":"bp4-508","objOut":"bp4-494"},{"portIn":"String","portOut":"String","objIn":"bp4-513","objOut":"bp4-494"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-495","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Clear Outputs","portOut":"Next","objIn":"bp4-506","objOut":"bp4-495"},{"portIn":"Clear","portOut":"Next","objIn":"bp4-518","objOut":"bp4-495"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-496","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"value","portOut":"Output","objIn":"bp4-494","objOut":"bp4-496"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-497","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"usersListner"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Object","portOut":"Value","objIn":"bp4-603","objOut":"bp4-497"},{"portIn":"User Object","portOut":"Value","objIn":"bp4-604","objOut":"bp4-497"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-498","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Compare UID","portOut":"Output","objIn":"bp4-603","objOut":"bp4-498"},{"portIn":"Compare UID","portOut":"Output","objIn":"bp4-604","objOut":"bp4-498"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-499","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"search","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"y088jsog2"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-472","objOut":"bp4-499"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-473","objOut":"bp4-499"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-474","objOut":"bp4-499"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp4-517","objOut":"bp4-499"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-501","objOut":"bp4-499"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-500","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"bu7bfkdxf"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-501","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-500","objOut":"bp4-501"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-502","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-514","objOut":"bp4-502"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-503","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-509","objOut":"bp4-503"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-504","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Check Following","portOut":"Next","objIn":"bp4-603","objOut":"bp4-504"}]}],"objName":"Ops.Boolean.TriggerChangedTrue"},{"id":"bp4-505","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-506","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"User Exists","links":[{"portIn":"Value","portOut":"User Exists","objIn":"bp4-504","objOut":"bp4-506"},{"portIn":"Visible","portOut":"User Exists","objIn":"bp4-675","objOut":"bp4-506"}]},{"name":"User Doesn\'t Exist","links":[{"portIn":"Value","portOut":"User Doesn\'t Exist","objIn":"bp4-492","objOut":"bp4-506"}]},{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp4-486","objOut":"bp4-506"},{"portIn":"Object","portOut":"Result","objIn":"bp4-487","objOut":"bp4-506"},{"portIn":"Object","portOut":"Result","objIn":"bp4-488","objOut":"bp4-506"},{"portIn":"Object","portOut":"Result","objIn":"bp4-496","objOut":"bp4-506"},{"portIn":"Object","portOut":"Result","objIn":"bp4-498","objOut":"bp4-506"}]},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-505","objOut":"bp4-506"}]}],"objName":"Ops.User.rambodc.FB_FindFriendsByUsername"},{"id":"bp4-507","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"followingUid"}],"objName":"Ops.Vars.VarSetString_v2"},{"id":"bp4-508","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-510","objOut":"bp4-508"}]},{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-507","objOut":"bp4-508"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-509","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-508","objOut":"bp4-509"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-510","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-511","objOut":"bp4-510"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-511","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"follow"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-512","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"followingUid"}],"objName":"Ops.Vars.VarSetString_v2"},{"id":"bp4-513","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-515","objOut":"bp4-513"}]},{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-512","objOut":"bp4-513"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-514","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-513","objOut":"bp4-514"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-515","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-516","objOut":"bp4-515"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-516","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"unfollow"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-517","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay True","value":0.3},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp4-472","objOut":"bp4-517"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp4-518","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Label","value":""},{"name":"Default","value":""},{"name":"Placeholder","value":"Search by Username"},{"name":"Visible","value":1},{"name":"Max Characters","value":100}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-484","objOut":"bp4-518"}]},{"name":"Result","links":[{"portIn":"String","portOut":"Result","objIn":"bp4-481","objOut":"bp4-518"},{"portIn":"String","portOut":"Result","objIn":"bp4-493","objOut":"bp4-518"}]},{"name":"Focus","value":false},{"name":"Has Changed","value":false}],"objName":"Ops.User.rambodc.TextInput_Custom1"},{"id":"bp4-519","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-520","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-521","objOut":"bp4-520"},{"portIn":"Execute","portOut":"trigger","objIn":"bp4-526","objOut":"bp4-520"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-521","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-522","objOut":"bp4-521"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-522","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-524","objOut":"bp4-522"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-523","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-525","objOut":"bp4-523"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-524","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-528","objOut":"bp4-524"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-525","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-522","objOut":"bp4-525"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-526","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-527","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"user","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"1r4glovqx"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"Object","portOut":"vjfo5caql","objIn":"bp4-550","objOut":"bp4-527"},{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-552","objOut":"bp4-527"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-519","objOut":"bp4-527"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-520","objOut":"bp4-527"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-554","objOut":"bp4-527"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp4-556","objOut":"bp4-527"}]},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"value","portOut":"rzi5x09qq","objIn":"bp4-553","objOut":"bp4-527"}]},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-529","objOut":"bp4-527"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-528","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"686ue8tea"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-529","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-528","objOut":"bp4-529"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-530","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"user"}],"objName":"Ops.Ui.Area"},{"id":"bp4-531","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"myPosts.posts"}],"portsOut":[{"name":"Output","links":[{"portIn":"Input Array","portOut":"Output","objIn":"bp4-610","objOut":"bp4-531"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetArrayByPath"},{"id":"bp4-532","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"postId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-533","objOut":"bp4-532"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-533","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-546","objOut":"bp4-533"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-534","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"1px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-631","objOut":"bp4-534"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-535","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-536","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Show More.."},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Background Color","value":"rgba(255, 255, 255, 0.0)"},{"name":"Text Color","value":"#000000"},{"name":"Padding","value":"10px 50px"},{"name":"Margin","value":"22px"},{"name":"Border Radius","value":"5px"},{"name":"Font Weight","value":"normal"},{"name":"Font Size","value":"14px"},{"name":"CSS Class","value":"unique-sidebar-button"},{"name":"Hover Background Color","value":"rgba(255, 255, 255, 0.1)"},{"name":"Hover Text Color","value":"#333333"},{"name":"Border Width","value":"0px"},{"name":"Border Color","value":"#000000"}],"portsOut":[{"name":"Pressed Trigger","links":[{"portIn":"Trigger","portOut":"Pressed Trigger","objIn":"bp4-538","objOut":"bp4-536"}]}],"objName":"Ops.User.rambodc.button_customize"},{"id":"bp4-537","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Link","portOut":"next","objIn":"bp4-548","objOut":"bp4-537"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-536","objOut":"bp4-537"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-538","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Starting Number","value":4},{"name":"Increment Number","value":10}],"portsOut":[{"name":"Accumulated Number","links":[{"portIn":"First Page Number","portOut":"Accumulated Number","objIn":"bp4-720","objOut":"bp4-538"}]}],"objName":"Ops.User.rambodc.Accumulator1"},{"id":"bp4-539","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"myFollowing"}],"portsOut":[{"name":"Output","links":[{"portIn":"Object","portOut":"Output","objIn":"bp4-540","objOut":"bp4-539"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp4-540","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"following"}],"portsOut":[{"name":"Output","links":[{"portIn":"Users","portOut":"Output","objIn":"bp4-591","objOut":"bp4-540"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetArrayByPath"},{"id":"bp4-541","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"Following  $a &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Followers $b <br>"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp4-630","objOut":"bp4-541"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-542","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"myFollowing.followingCount"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp4-545","objOut":"bp4-542"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-543","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"myFollowers.followersCount"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp4-544","objOut":"bp4-543"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-544","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"String B","portOut":"Result","objIn":"bp4-541","objOut":"bp4-544"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-545","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp4-541","objOut":"bp4-545"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-546","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/post","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"jny5k9qoi"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-547","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Sort Ascending","value":0},{"name":"Status Must Be","value":"completed"},{"name":"Status Check","value":1}],"portsOut":[{"name":"Output Array","links":[{"portIn":"Data Array","portOut":"Output Array","objIn":"bp4-720","objOut":"bp4-547"}]}],"objName":"Ops.User.rambodc.Post_Array1"},{"id":"bp4-548","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"5px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-630","objOut":"bp4-548"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-549","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp4-633","objOut":"bp4-549"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp4-550","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-551","objOut":"bp4-550"}]}],"objName":"Ops.Json.ObjectIsNull"},{"id":"bp4-551","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp4-552","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Group"},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-584","objOut":"bp4-552"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-553","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"value","portOut":"String","objIn":"bp4-579","objOut":"bp4-553"},{"portIn":"String 1","portOut":"String","objIn":"bp4-586","objOut":"bp4-553"},{"portIn":"Document ID","portOut":"String","objIn":"bp4-607","objOut":"bp4-553"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-554","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-607","objOut":"bp4-554"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-555","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp4-557","objOut":"bp4-555"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-558","objOut":"bp4-555"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-531","objOut":"bp4-555"},{"portIn":"Input Object","portOut":"Output Object","objIn":"bp4-590","objOut":"bp4-555"},{"portIn":"Input Object","portOut":"Output Object","objIn":"bp4-601","objOut":"bp4-555"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp4-556","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay True","value":0.8},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp4-552","objOut":"bp4-556"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp4-557","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-558","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"totalRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp4-549","objOut":"bp4-558"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-559","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"firstName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-561","objOut":"bp4-559"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-560","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"lastName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String B","portOut":"Output","objIn":"bp4-561","objOut":"bp4-560"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-561","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a $b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp4-676","objOut":"bp4-561"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-562","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"30px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-676","objOut":"bp4-562"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-563","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-720","objOut":"bp4-563"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-564","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String","portOut":"String","objIn":"bp4-569","objOut":"bp4-564"},{"portIn":"String","portOut":"String","objIn":"bp4-574","objOut":"bp4-564"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-565","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"usersListner"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Object","portOut":"Value","objIn":"bp4-605","objOut":"bp4-565"},{"portIn":"User Object","portOut":"Value","objIn":"bp4-606","objOut":"bp4-565"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-566","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-575","objOut":"bp4-566"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-567","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-570","objOut":"bp4-567"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-568","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"followingUid"}],"objName":"Ops.Vars.VarSetString_v2"},{"id":"bp4-569","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-571","objOut":"bp4-569"}]},{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-568","objOut":"bp4-569"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-570","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-569","objOut":"bp4-570"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-571","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-572","objOut":"bp4-571"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-572","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"follow"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-573","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"followingUid"}],"objName":"Ops.Vars.VarSetString_v2"},{"id":"bp4-574","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-576","objOut":"bp4-574"}]},{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-573","objOut":"bp4-574"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-575","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-574","objOut":"bp4-575"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-576","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp4-577","objOut":"bp4-576"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-577","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Named Trigger","value":"unfollow"}],"objName":"Ops.Trigger.TriggerSend"},{"id":"bp4-578","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"profilePhoto400Url"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Icon","portOut":"Output","objIn":"bp4-676","objOut":"bp4-578"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-579","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"value","portOut":"String","objIn":"bp4-564","objOut":"bp4-579"},{"portIn":"Compare UID","portOut":"String","objIn":"bp4-605","objOut":"bp4-579"},{"portIn":"Compare UID","portOut":"String","objIn":"bp4-606","objOut":"bp4-579"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-580","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"username"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text 2","portOut":"Output","objIn":"bp4-676","objOut":"bp4-580"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-581","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"profilePhoto800Url"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Image URL","portOut":"Output","objIn":"bp4-584","objOut":"bp4-581"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-582","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Image URL","value":""},{"name":"Size","value":100},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Corner","value":10},{"name":"Visible","value":1}],"objName":"Ops.User.rambodc.Background_Square"},{"id":"bp4-583","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Image URL","value":""},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Corner","value":10},{"name":"Visible","value":1}],"objName":"Ops.User.rambodc.Background2"},{"id":"bp4-584","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Diameter","value":200},{"name":"Visible","value":1}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-534","objOut":"bp4-584"}]}],"objName":"Ops.User.rambodc.Background_square2"},{"id":"bp4-585","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"vzezb7q1g"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-586","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp4-588","objOut":"bp4-586"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp4-587","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String 2","portOut":"Value","objIn":"bp4-586","objOut":"bp4-587"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-588","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp4-585","objOut":"bp4-588"},{"portIn":"exe","portOut":"Next","objIn":"bp4-589","objOut":"bp4-588"}]}],"objName":"Ops.Boolean.TriggerChangedTrue"},{"id":"bp4-589","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-590","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp4-542","objOut":"bp4-590"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-539","objOut":"bp4-590"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-543","objOut":"bp4-590"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp4-591","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"First Page Number","value":30}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-595","objOut":"bp4-591"}]},{"name":"Button Pressed","links":[{"portIn":"exe","portOut":"Button Pressed","objIn":"bp4-596","objOut":"bp4-591"},{"portIn":"n6dz5ut5m","portOut":"Button Pressed","objIn":"bp4-597","objOut":"bp4-591"}]},{"name":"Button Index","value":2},{"name":"Selected Object","links":[{"portIn":"Object","portOut":"Selected Object","objIn":"bp4-594","objOut":"bp4-591"}]},{"name":"Has Second Page","value":false}],"objName":"Ops.User.rambodc.List7"},{"id":"bp4-592","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/user","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"6jldmn8wu"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-593","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-592","objOut":"bp4-593"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-594","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-593","objOut":"bp4-594"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-595","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"5px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-596","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"n6dz5ut5m","portOut":"next","objIn":"bp4-592","objOut":"bp4-596"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-597","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/reset","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"ts7l3rdpc"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-598","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"post"}],"objName":"Ops.Ui.Area"},{"id":"bp4-599","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"post","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"jdm87ux3f"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link"},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-677","objOut":"bp4-599"}]},{"name":"wg0zcmxag","value":0,"title":"Dir 1-2 Equal"},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"String","portOut":"rzi5x09qq","objIn":"bp4-670","objOut":"bp4-599"},{"portIn":"Starting Post ID","portOut":"rzi5x09qq","objIn":"bp4-671","objOut":"bp4-599"}]},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-684","objOut":"bp4-599"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-600","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"follow unfollow"}],"objName":"Ops.Ui.Area"},{"id":"bp4-601","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp4-560","objOut":"bp4-601"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-559","objOut":"bp4-601"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-578","objOut":"bp4-601"},{"portIn":"Object","portOut":"Output Object","objIn":"bp4-580","objOut":"bp4-601"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp4-602","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Check Following","portOut":"Next","objIn":"bp4-605","objOut":"bp4-602"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-603","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Is Following","value":false},{"name":"Button Color","links":[{"portIn":"Button Color Right","portOut":"Button Color","objIn":"bp4-675","objOut":"bp4-603"}]},{"name":"Button Text","links":[{"portIn":"Button Text Right","portOut":"Button Text","objIn":"bp4-675","objOut":"bp4-603"}]}],"objName":"Ops.User.rambodc.IsFollowing1"},{"id":"bp4-604","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Is Following","value":false},{"name":"Button Color","value":"rgba(44, 199, 85,0.1)"},{"name":"Button Text","value":"Follow"},{"name":"True Trigger","links":[{"portIn":"exe","portOut":"True Trigger","objIn":"bp4-502","objOut":"bp4-604"}]},{"name":"False Trigger","links":[{"portIn":"exe","portOut":"False Trigger","objIn":"bp4-503","objOut":"bp4-604"}]}],"objName":"Ops.User.rambodc.IsFollowing1"},{"id":"bp4-605","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Is Following","value":false},{"name":"Button Color","links":[{"portIn":"Button Color Right","portOut":"Button Color","objIn":"bp4-676","objOut":"bp4-605"}]},{"name":"Button Text","links":[{"portIn":"Button Text Right","portOut":"Button Text","objIn":"bp4-676","objOut":"bp4-605"}]}],"objName":"Ops.User.rambodc.IsFollowing1"},{"id":"bp4-606","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Is Following","value":false},{"name":"Button Color","value":"rgba(44, 199, 85,0.1)"},{"name":"Button Text","value":"Follow"},{"name":"True Trigger","links":[{"portIn":"exe","portOut":"True Trigger","objIn":"bp4-566","objOut":"bp4-606"}]},{"name":"False Trigger","links":[{"portIn":"exe","portOut":"False Trigger","objIn":"bp4-567","objOut":"bp4-606"}]}],"objName":"Ops.User.rambodc.IsFollowing1"},{"id":"bp4-607","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Collection name","value":"users"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Document","links":[{"portIn":"Input Object","portOut":"Document","objIn":"bp4-555","objOut":"bp4-607"},{"portIn":"Object","portOut":"Document","objIn":"bp4-581","objOut":"bp4-607"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-608","objOut":"bp4-607"},{"portIn":"Execute","portOut":"Success","objIn":"bp4-602","objOut":"bp4-607"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-609","objOut":"bp4-607"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp4-608","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-609","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-610","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Output Array","links":[{"portIn":"myPosts","portOut":"Output Array","objIn":"bp4-547","objOut":"bp4-610"}]}],"objName":"Ops.User.rambodc.Array_reset_auto"},{"id":"bp4-611","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Callback Name","value":"webShare"},{"name":"Parameter 3","value":""}],"objName":"Ops.Cables.CallBack_v2"},{"id":"bp4-612","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-616","objOut":"bp4-612"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-613","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"urlPath"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp4-616","objOut":"bp4-613"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-614","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp4-615","objOut":"bp4-614"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-615","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp4-616","objOut":"bp4-615"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-616","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media\\n\\n\\n"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 2","portOut":"Result","objIn":"bp4-611","objOut":"bp4-616"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp4-617","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"$a - Razzberry.ai Own Your Content"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 1","portOut":"Result","objIn":"bp4-611","objOut":"bp4-617"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-618","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Update Name:"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-466","objOut":"bp4-618"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-619","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Change Your  Email Address"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Parent Link","portOut":"childs","objIn":"bp4-32","objOut":"bp4-619"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-620","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Change Password:"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-322","objOut":"bp4-620"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-621","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Buy Razz"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-622","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"In-App"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-623","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Invite Friends by sharing your <br> username:"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"22px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-203","objOut":"bp4-623"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-624","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"40px"},{"name":"Line Height","value":"1"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-204","objOut":"bp4-624"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-625","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Invite Friends"},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"rgba(255,255,255,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255, 255, 255,0.1)"},{"name":"Hover Color","value":"rgba(255, 255, 255,0.3)"},{"name":"Margin","value":"0% 30%"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-202","objOut":"bp4-625"}]},{"name":"Clicked","links":[{"portIn":"exe","portOut":"Clicked","objIn":"bp4-206","objOut":"bp4-625"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-626","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.0"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-627","objOut":"bp4-626"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-627","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"14px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-444","objOut":"bp4-627"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-628","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Search by Username:"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"18px"},{"name":"Line Height","value":"1.2"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px 0px 20px"},{"name":"Padding","value":"0px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-518","objOut":"bp4-628"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-629","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Search"},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"rgba(255,255,255,1)"},{"name":"Text Size","value":"15px"},{"name":"Line Height","value":"1."},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(50, 168, 82,0.6)"},{"name":"Hover Color","value":"rgba(50, 168, 82,0.8)"},{"name":"Margin","value":"0% 5%"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-483","objOut":"bp4-629"}]},{"name":"Clicked","links":[{"portIn":"Trigger","portOut":"Clicked","objIn":"bp4-506","objOut":"bp4-629"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-630","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"10px 0px 0px 0px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-591","objOut":"bp4-630"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-631","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(255,255,255,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.1)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-633","objOut":"bp4-631"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-632","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"RAZ"},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"20px"},{"name":"Line Height","value":"1"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.0)"},{"name":"Margin","value":"0px"},{"name":"Padding","value":"0px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-562","objOut":"bp4-632"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-633","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"40px"},{"name":"Line Height","value":"1"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.0)"},{"name":"Margin","value":"0px"},{"name":"Padding","value":"0px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-632","objOut":"bp4-633"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-634","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"runAI"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-100","objOut":"bp4-634"}]},{"name":"Created Document ID","value":"8mMVUGqjyALCgCBhRIG4"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-94","objOut":"bp4-634"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-93","objOut":"bp4-634"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-98","objOut":"bp4-634"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-96","objOut":"bp4-634"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-157","objOut":"bp4-634"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-95","objOut":"bp4-634"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-101","objOut":"bp4-634"},{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-342","objOut":"bp4-634"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-97","objOut":"bp4-634"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-100","objOut":"bp4-634"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-158","objOut":"bp4-634"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-635","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"createPost"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-138","objOut":"bp4-635"}]},{"name":"Created Document ID","value":"rzq0eXiPh5NqNnUuQ6eA"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-133","objOut":"bp4-635"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-132","objOut":"bp4-635"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-137","objOut":"bp4-635"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-135","objOut":"bp4-635"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-155","objOut":"bp4-635"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-134","objOut":"bp4-635"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-139","objOut":"bp4-635"},{"portIn":"n6dz5ut5m","portOut":"Completed Status","objIn":"bp4-259","objOut":"bp4-635"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-136","objOut":"bp4-635"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-138","objOut":"bp4-635"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-156","objOut":"bp4-635"}]},{"name":"Connected","value":0},{"name":"Loading","links":[{"portIn":"02t7hzmhk","portOut":"Loading","objIn":"bp4-150","objOut":"bp4-635"}]}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-636","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"pinata"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-168","objOut":"bp4-636"}]},{"name":"Created Document ID","value":"f2UtRDno5ICe78wUwM6V"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-162","objOut":"bp4-636"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-161","objOut":"bp4-636"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-166","objOut":"bp4-636"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-164","objOut":"bp4-636"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-180","objOut":"bp4-636"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-163","objOut":"bp4-636"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-169","objOut":"bp4-636"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-165","objOut":"bp4-636"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-168","objOut":"bp4-636"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-181","objOut":"bp4-636"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-637","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"tokenizePost"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-190","objOut":"bp4-637"}]},{"name":"Created Document ID","value":"oQWSl6LAyMFtV9zTOhwg"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-184","objOut":"bp4-637"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-183","objOut":"bp4-637"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-188","objOut":"bp4-637"},{"portIn":"Object","portOut":"Data","objIn":"bp4-440","objOut":"bp4-637"},{"portIn":"Object","portOut":"Data","objIn":"bp4-441","objOut":"bp4-637"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-186","objOut":"bp4-637"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-200","objOut":"bp4-637"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-185","objOut":"bp4-637"},{"portIn":"Trigger","portOut":"Completed Status","objIn":"bp4-409","objOut":"bp4-637"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-191","objOut":"bp4-637"},{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-471","objOut":"bp4-637"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-187","objOut":"bp4-637"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-190","objOut":"bp4-637"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-201","objOut":"bp4-637"}]},{"name":"Connected","value":0},{"name":"Loading","links":[{"portIn":"02t7hzmhk","portOut":"Loading","objIn":"bp4-196","objOut":"bp4-637"}]}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-638","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"updatePost"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-335","objOut":"bp4-638"}]},{"name":"Created Document ID","value":"bwJDxxWAXuJHh5RZiN14"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-330","objOut":"bp4-638"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-329","objOut":"bp4-638"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-334","objOut":"bp4-638"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-332","objOut":"bp4-638"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-347","objOut":"bp4-638"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-331","objOut":"bp4-638"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-336","objOut":"bp4-638"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-333","objOut":"bp4-638"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-335","objOut":"bp4-638"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-348","objOut":"bp4-638"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-639","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"updatePost"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-360","objOut":"bp4-639"}]},{"name":"Created Document ID","value":""},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-355","objOut":"bp4-639"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-354","objOut":"bp4-639"}]},{"name":"Status","value":"pending"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-359","objOut":"bp4-639"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-357","objOut":"bp4-639"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-371","objOut":"bp4-639"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-356","objOut":"bp4-639"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-361","objOut":"bp4-639"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-358","objOut":"bp4-639"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-360","objOut":"bp4-639"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-372","objOut":"bp4-639"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-640","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"updatePostTxn"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-426","objOut":"bp4-640"}]},{"name":"Created Document ID","value":"SUdHLzQiZISij1ztntG6"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-420","objOut":"bp4-640"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-419","objOut":"bp4-640"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-424","objOut":"bp4-640"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-422","objOut":"bp4-640"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-436","objOut":"bp4-640"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-421","objOut":"bp4-640"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-423","objOut":"bp4-640"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-426","objOut":"bp4-640"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-437","objOut":"bp4-640"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-641","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-637","objOut":"bp4-641"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-642","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-637","objOut":"bp4-642"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-643","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-638","objOut":"bp4-643"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-644","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-638","objOut":"bp4-644"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-645","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-634","objOut":"bp4-645"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-646","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-634","objOut":"bp4-646"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-647","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-636","objOut":"bp4-647"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-648","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-636","objOut":"bp4-648"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-649","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-635","objOut":"bp4-649"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-650","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-635","objOut":"bp4-650"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-651","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-639","objOut":"bp4-651"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-652","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-639","objOut":"bp4-652"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-653","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-640","objOut":"bp4-653"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-654","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-640","objOut":"bp4-654"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-655","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"myPosts.posts"}],"portsOut":[{"name":"Output","links":[{"portIn":"Posts Array","portOut":"Output","objIn":"bp4-671","objOut":"bp4-655"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetArrayByPath"},{"id":"bp4-656","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":1},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp4-657","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-658","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-659","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.7}],"portsOut":[{"name":"next","links":[{"portIn":"Update","portOut":"next","objIn":"bp4-656","objOut":"bp4-659"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-660","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/c/post/$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Hash","portOut":"Result","objIn":"bp4-656","objOut":"bp4-660"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-661","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Next Trigger","portOut":"Next","objIn":"bp4-671","objOut":"bp4-661"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-662","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":1},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp4-663","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"Next Trigger","portOut":"trigger","objIn":"bp4-671","objOut":"bp4-663"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-664","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-667","objOut":"bp4-664"},{"portIn":"String","portOut":"Output","objIn":"bp4-668","objOut":"bp4-664"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-665","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Reset","portOut":"Next","objIn":"bp4-86","objOut":"bp4-665"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-666","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.5}],"portsOut":[{"name":"next","links":[{"portIn":"Update","portOut":"next","objIn":"bp4-662","objOut":"bp4-666"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-667","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/c/user/$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Hash","portOut":"Result","objIn":"bp4-662","objOut":"bp4-667"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-668","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Changed","links":[{"portIn":"exe","portOut":"Changed","objIn":"bp4-669","objOut":"bp4-668"},{"portIn":"Trigger","portOut":"Changed","objIn":"bp4-670","objOut":"bp4-668"}]}],"objName":"Ops.Trigger.TriggerOnChangeString"},{"id":"bp4-669","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-670","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-672","objOut":"bp4-670"}]},{"name":"Result","value":""}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp4-671","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Post ID","links":[{"portIn":"String A","portOut":"Post ID","objIn":"bp4-660","objOut":"bp4-671"}]},{"name":"Next Exists","value":true},{"name":"Next Found","links":[{"portIn":"exe","portOut":"Next Found","objIn":"bp4-657","objOut":"bp4-671"},{"portIn":"exe","portOut":"Next Found","objIn":"bp4-659","objOut":"bp4-671"},{"portIn":"Execute","portOut":"Next Found","objIn":"bp4-665","objOut":"bp4-671"},{"portIn":"exe","portOut":"Next Found","objIn":"bp4-666","objOut":"bp4-671"}]},{"name":"Next Not Found","links":[{"portIn":"exe","portOut":"Next Not Found","objIn":"bp4-658","objOut":"bp4-671"},{"portIn":"exe","portOut":"Next Not Found","objIn":"bp4-666","objOut":"bp4-671"},{"portIn":"Execute","portOut":"Next Not Found","objIn":"bp4-665","objOut":"bp4-671"}]}],"objName":"Ops.User.rambodc.Post_NextButton"},{"id":"bp4-672","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-673","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp4-670","objOut":"bp4-673"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-674","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text Color Right","value":"#ffffff"},{"name":"Corners","value":40},{"name":"Image Size","value":40},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-253","objOut":"bp4-674"}]},{"name":"Button Right Pressed","links":[{"portIn":"exe","portOut":"Button Right Pressed","objIn":"bp4-315","objOut":"bp4-674"},{"portIn":"Trigger Check","portOut":"Button Right Pressed","objIn":"bp4-319","objOut":"bp4-674"}]}],"objName":"Ops.User.rambodc.Button_icon2"},{"id":"bp4-675","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text 2","value":""},{"name":"Button Text Color Right","value":"#ffffff"},{"name":"Button Hover Color Right","value":"rgba(255,255,255,0.4)"},{"name":"Corners","value":50},{"name":"Image Size","value":60},{"name":"Show Right Button","value":1}],"portsOut":[{"name":"Button Right Pressed","links":[{"portIn":"Check Following","portOut":"Button Right Pressed","objIn":"bp4-604","objOut":"bp4-675"}]}],"objName":"Ops.User.rambodc.Button_icon2"},{"id":"bp4-676","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Button Text Color Right","value":"rgba(1,1,1,1)"},{"name":"Button Hover Color Right","value":"rgba(255,255,255,0.4)"},{"name":"Corners","value":40},{"name":"Image Size","value":40},{"name":"Show Right Button","value":1},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-563","objOut":"bp4-676"}]},{"name":"Button Right Pressed","links":[{"portIn":"Check Following","portOut":"Button Right Pressed","objIn":"bp4-606","objOut":"bp4-676"}]}],"objName":"Ops.User.rambodc.Button_icon2"},{"id":"bp4-677","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-678","objOut":"bp4-677"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-678","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-679","objOut":"bp4-678"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-679","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-681","objOut":"bp4-679"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-680","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-682","objOut":"bp4-680"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-681","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-683","objOut":"bp4-681"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-682","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-679","objOut":"bp4-682"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-683","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"x4dbuyr2b"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-684","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-683","objOut":"bp4-684"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-685","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp4-706","objOut":"bp4-685"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-686","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-687","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-688","objOut":"bp4-687"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-688","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-689","objOut":"bp4-688"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-689","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-691","objOut":"bp4-689"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-690","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-692","objOut":"bp4-690"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-691","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-695","objOut":"bp4-691"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-692","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-689","objOut":"bp4-692"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-693","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"postCollect"}],"objName":"Ops.Ui.Area"},{"id":"bp4-694","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"postCollect","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"5a7wpeidg"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-685","objOut":"bp4-694"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-686","objOut":"bp4-694"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-687","objOut":"bp4-694"},{"portIn":"Fetch","portOut":"iyq4pnlwm","objIn":"bp4-701","objOut":"bp4-694"},{"portIn":"Minimize","portOut":"iyq4pnlwm","objIn":"bp4-706","objOut":"bp4-694"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp4-697","objOut":"bp4-694"}]},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"Post ID","portOut":"rzi5x09qq","objIn":"bp4-701","objOut":"bp4-694"},{"portIn":"String B","portOut":"rzi5x09qq","objIn":"bp4-704","objOut":"bp4-694"}]},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-696","objOut":"bp4-694"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-695","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"4ro44ecdn"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-696","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-695","objOut":"bp4-696"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-697","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Delay True","value":0.3},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp4-685","objOut":"bp4-697"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp4-698","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-699","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-700","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Stride","value":0},{"name":"Start Row","value":0}],"objName":"Ops.Ui.VizArrayTable"},{"id":"bp4-701","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Page Size","value":10},{"name":"Next Page Token Input","value":""}],"portsOut":[{"name":"Documents","links":[{"portIn":"Array","portOut":"Documents","objIn":"bp4-700","objOut":"bp4-701"},{"portIn":"Input Data Array","portOut":"Documents","objIn":"bp4-710","objOut":"bp4-701"}]},{"name":"No Documents Found","value":false},{"name":"Error Message","value":"Post ID is required."},{"name":"Next Page Token Output","value":"1729372079_202000000"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-699","objOut":"bp4-701"}]},{"name":"Error","links":[{"portIn":"exe","portOut":"Error","objIn":"bp4-698","objOut":"bp4-701"}]}],"objName":"Ops.User.rambodc.Fb_query_post_trans"},{"id":"bp4-702","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp4-703","objOut":"bp4-702"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-703","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-704","objOut":"bp4-703"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-704","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/posts%2F$b%2Fthumbnail%2F$b.png?alt=media"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Image URL","portOut":"Result","objIn":"bp4-706","objOut":"bp4-704"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-705","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-706","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Visible","value":1},{"name":"Max Height","value":400},{"name":"Maximize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fmaximize.png?alt=media&token=e51d9873-c159-4967-9447-2a39fb0ff3a0"},{"name":"Minimize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fminimize.png?alt=media&token=dc938f68-fb44-426d-a99c-62a3a1c37405"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-711","objOut":"bp4-706"}]},{"name":"Is Maximized","value":false}],"objName":"Ops.User.rambodc.Background3"},{"id":"bp4-707","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/user/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"5lsg6usfk"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-708","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"1ovs04j4c","portOut":"Output","objIn":"bp4-707","objOut":"bp4-708"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-709","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"n6dz5ut5m","portOut":"next","objIn":"bp4-707","objOut":"bp4-709"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-710","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-512.png?alt=media"},{"name":"First Page Number","value":10}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-712","objOut":"bp4-710"}]},{"name":"Button Pressed","links":[{"portIn":"exe","portOut":"Button Pressed","objIn":"bp4-709","objOut":"bp4-710"}]},{"name":"Button Index","value":3},{"name":"Selected Object","links":[{"portIn":"Object","portOut":"Selected Object","objIn":"bp4-705","objOut":"bp4-710"},{"portIn":"Object","portOut":"Selected Object","objIn":"bp4-708","objOut":"bp4-710"}]},{"name":"Has Second Page","value":false}],"objName":"Ops.User.rambodc.List10_PostTran"},{"id":"bp4-711","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"20px"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp4-710","objOut":"bp4-711"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-712","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Height","value":"80px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp4-713","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/feed","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"wqyli9m24"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-714","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"< Back"},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":1},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"14px"},{"name":"Line Height","value":"1"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.1)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px"},{"name":"Padding","value":"10px 20px 10px 20px"},{"name":"Height","value":"auto"},{"name":"Width","value":"100px"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"},{"name":"Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-512.png?alt=media"}],"portsOut":[{"name":"childs","links":[{"portIn":"zzd2dk99r","portOut":"childs","objIn":"bp4-52","objOut":"bp4-714"}]},{"name":"Clicked","links":[{"portIn":"Trigger","portOut":"Clicked","objIn":"bp4-80","objOut":"bp4-714"},{"portIn":"Execute","portOut":"Clicked","objIn":"bp4-75","objOut":"bp4-714"},{"portIn":"innerIn_79by1oqzk","portOut":"Clicked","objIn":"bp4-51","objOut":"bp4-714"}]},{"name":"Icon Clicked","links":[{"portIn":"n6dz5ut5m","portOut":"Icon Clicked","objIn":"bp4-713","objOut":"bp4-714"},{"portIn":"Execute","portOut":"Icon Clicked","objIn":"bp4-665","objOut":"bp4-714"}]}],"objName":"Ops.User.rambodc.Back_Home_Bar"},{"id":"bp4-715","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/postCollect/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"g4pddpf2g"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-716","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp4-715","objOut":"bp4-716"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-717","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"1ovs04j4c","portOut":"String","objIn":"bp4-715","objOut":"bp4-717"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-718","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Visible","value":1},{"name":"Max Height","value":400},{"name":"Maximize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fmaximize.png?alt=media&token=e51d9873-c159-4967-9447-2a39fb0ff3a0"},{"name":"Minimize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fminimize.png?alt=media&token=dc938f68-fb44-426d-a99c-62a3a1c37405"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-719","objOut":"bp4-718"}]},{"name":"Is Maximized","value":false}],"objName":"Ops.User.rambodc.Background3"},{"id":"bp4-719","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Edit Mode"},{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"28px"},{"name":"Line Height","value":"1.0"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"20px 0px 10px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"Center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-226","objOut":"bp4-719"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-720","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp4-537","objOut":"bp4-720"}]},{"name":"Button Pressed","links":[{"portIn":"n6dz5ut5m","portOut":"Button Pressed","objIn":"bp4-546","objOut":"bp4-720"}]},{"name":"Button Index","value":0},{"name":"Selected Object","links":[{"portIn":"Object","portOut":"Selected Object","objIn":"bp4-532","objOut":"bp4-720"}]},{"name":"Has Second Page","links":[{"portIn":"Visible","portOut":"Has Second Page","objIn":"bp4-536","objOut":"bp4-720"}]}],"objName":"Ops.User.rambodc.List6"},{"id":"bp4-721","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Upload Success","links":[{"portIn":"exe","portOut":"Upload Success","objIn":"bp4-124","objOut":"bp4-721"},{"portIn":"exe","portOut":"Upload Success","objIn":"bp4-145","objOut":"bp4-721"}]},{"name":"Upload Progress","links":[{"portIn":"number","portOut":"Upload Progress","objIn":"bp4-128","objOut":"bp4-721"}]},{"name":"Upload Error","value":""},{"name":"Post ID","links":[{"portIn":"value","portOut":"Post ID","objIn":"bp4-153","objOut":"bp4-721"},{"portIn":"String A","portOut":"Post ID","objIn":"bp4-459","objOut":"bp4-721"}]},{"name":"Download URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/posts%2F1P3CIBUkTez2sjkMT9Fl%2Foriginal%2F1P3CIBUkTez2sjkMT9Fl.png?alt=media&token=00ff6569-4209-42e5-b0a6-6923cee5a83a"},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-148","objOut":"bp4-721"}]},{"name":"In Progress","links":[{"portIn":"02t7hzmhk","portOut":"In Progress","objIn":"bp4-149","objOut":"bp4-721"},{"portIn":"value","portOut":"In Progress","objIn":"bp4-349","objOut":"bp4-721"}]},{"name":"File Type","links":[{"portIn":"String F","portOut":"File Type","objIn":"bp4-459","objOut":"bp4-721"}]},{"name":"File Format","links":[{"portIn":"String G","portOut":"File Format","objIn":"bp4-459","objOut":"bp4-721"}]},{"name":"Upload Fail","links":[{"portIn":"Trigger animation","portOut":"Upload Fail","objIn":"bp4-148","objOut":"bp4-721"}]},{"name":"Thumbnail URL","links":[{"portIn":"String E","portOut":"Thumbnail URL","objIn":"bp4-459","objOut":"bp4-721"}]}],"objName":"Ops.User.rambodc.Create_post_upload"},{"id":"bp4-722","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp4-723","objOut":"bp4-722"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-723","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp4-724","objOut":"bp4-723"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-724","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/posts%2F$b%2Fresized%2F$b_800x800.png?alt=media                              "},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Image URL","portOut":"Result","objIn":"bp4-718","objOut":"bp4-724"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-725","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"usersListner"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp4-726","objOut":"bp4-725"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-726","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"dailyRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Daily Raz","portOut":"Output","objIn":"bp4-727","objOut":"bp4-726"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp4-727","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Max Raz","value":100},{"name":"Min Raz","value":0.2}],"portsOut":[{"name":"Current Raz","links":[{"portIn":"Number M","portOut":"Current Raz","objIn":"bp4-392","objOut":"bp4-727"}]}],"objName":"Ops.User.rambodc.Max_daily_RAZ"},{"id":"bp4-728","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp4-740","objOut":"bp4-728"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp4-729","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp4-730","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"daily"}],"objName":"Ops.Ui.Area"},{"id":"bp4-731","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"c","title":"Directory 1"},{"name":"jyz85fved","value":"daily","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"0ftd1d411"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp4-728","objOut":"bp4-731"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp4-729","objOut":"bp4-731"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp4-732","objOut":"bp4-731"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp4-728","objOut":"bp4-731"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp4-739","objOut":"bp4-731"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp4-732","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp4-733","objOut":"bp4-732"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-733","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp4-734","objOut":"bp4-733"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-734","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp4-736","objOut":"bp4-734"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp4-735","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp4-737","objOut":"bp4-735"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp4-736","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp4-738","objOut":"bp4-736"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-737","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp4-734","objOut":"bp4-737"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp4-738","uiAttribs":{"subPatch":"gonnbya00"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"gyl44a0m0"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp4-739","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp4-738","objOut":"bp4-739"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-740","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Daily RAZ Reset"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp4-741","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String F","portOut":"Value","objIn":"bp4-392","objOut":"bp4-741"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-742","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp4-392","objOut":"bp4-742"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-743","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-744","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-745","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-746","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-747","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-748","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-749","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"runAI2"}],"objName":"Ops.Ui.Area"},{"id":"bp4-750","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-751","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Text","value":"Run AI Success"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp4-752","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp4-767","objOut":"bp4-752"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-753","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp4-767","objOut":"bp4-753"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-754","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp4-767","objOut":"bp4-754"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-755","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp4-767","objOut":"bp4-755"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-756","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp4-767","objOut":"bp4-756"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-757","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"postId\\": \\"$a\\",\\n  \\"prompt\\": $b,\\n  \\"path\\": \\"$c\\"\\n\\n}\\n"},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-756","objOut":"bp4-757"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp4-758","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"posts/$a/thumbnail/$a.png"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"String C","portOut":"Result","objIn":"bp4-757","objOut":"bp4-758"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp4-759","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"delay","value":0.3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp4-767","objOut":"bp4-759"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp4-760","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp4-767","objOut":"bp4-760"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-761","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-758","objOut":"bp4-761"},{"portIn":"String A","portOut":"String","objIn":"bp4-757","objOut":"bp4-761"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-762","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-763","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-764","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"JSON String","value":"{\\n    \\"functionType\\": \\"post1\\",\\n    \\"functionDescription\\": \\"This function analyzes an image and generates a response object with extracted information.\\",\\n    \\"question\\": {\\n      \\"question\\": \\"Based on the image, create an interesting fun fact in the form of a question. The answers should be simple words or numbers. The question should relate to famous people, places, or organizations, with the answers being the names of famous persons, places, or things.\\",\\n      \\"answer1\\": \\"possible answer\\",\\n      \\"answer2\\": \\"possible answer\\",\\n      \\"answer3\\": \\"possible answer\\",\\n      \\"correctAnswer\\": \\"correct answer key\\"\\n    },\\n    \\"tags\\": [\\n      \\"generate 10 relevant tags based on the content of the image\\"\\n    ],\\n    \\"title\\": \\"suggest a concise title based on the image context, up to 7 words\\",\\n    \\"description\\": \\"suggest a brief description based on the image context, up to 20 words\\"\\n}"}],"portsOut":[{"name":"Result","links":[{"portIn":"Input Object","portOut":"Result","objIn":"bp4-765","objOut":"bp4-764"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-765","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"JSON String","links":[{"portIn":"String B","portOut":"JSON String","objIn":"bp4-757","objOut":"bp4-765"}]}],"objName":"Ops.User.rambodc.Stringify2_Backslash"},{"id":"bp4-766","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp4-759","objOut":"bp4-766"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp4-767","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Function Name","value":"runAI2"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp4-750","objOut":"bp4-767"}]},{"name":"Created Document ID","value":"5K0pg6vsrRWq12wIKgTl"},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-744","objOut":"bp4-767"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-743","objOut":"bp4-767"}]},{"name":"Status","value":"completed"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp4-748","objOut":"bp4-767"}]},{"name":"Pending Status","links":[{"portIn":"exe","portOut":"Pending Status","objIn":"bp4-746","objOut":"bp4-767"}]},{"name":"Processing Status","links":[{"portIn":"exe","portOut":"Processing Status","objIn":"bp4-762","objOut":"bp4-767"}]},{"name":"Completed Status","links":[{"portIn":"exe","portOut":"Completed Status","objIn":"bp4-745","objOut":"bp4-767"},{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp4-751","objOut":"bp4-767"}]},{"name":"Error Status","links":[{"portIn":"exe","portOut":"Error Status","objIn":"bp4-747","objOut":"bp4-767"},{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp4-750","objOut":"bp4-767"}]},{"name":"Concurrency Error Status","links":[{"portIn":"exe","portOut":"Concurrency Error Status","objIn":"bp4-763","objOut":"bp4-767"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp4-768","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp4-767","objOut":"bp4-768"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-769","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp4-767","objOut":"bp4-769"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-770","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Format","value":"\\n\\n{\\n  \\"postId\\": \\"$a\\",\\n  \\"title\\": \\"$b\\",\\n  \\"description\\": \\"$c\\",\\n  \\"image\\": \\"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fresized%2F$a_1200x1200.png?alt=media\\",\\n  \\"ogUrl\\": \\"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media\\",\\n  \\"redirectUrl\\": \\"$e#/d/post/$a\\",\\n  \\"refresh\\": \\"1\\"\\n}\\n\\n\\n"},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp4-775","objOut":"bp4-770"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp4-771","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp4-770","objOut":"bp4-771"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp4-772","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp4-771","objOut":"bp4-772"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp4-773","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"urlPath"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp4-770","objOut":"bp4-773"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-774","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp4-770","objOut":"bp4-774"}]}],"objName":"Ops.String.String_v2"},{"id":"bp4-775","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Request Body","portOut":"Result","objIn":"bp4-780","objOut":"bp4-775"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp4-776","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Variable","value":"fbAuthToken"}],"portsOut":[{"name":"Value","links":[{"portIn":"Firebase Auth Token","portOut":"Value","objIn":"bp4-780","objOut":"bp4-776"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp4-777","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":1}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-778","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"timesTriggered","value":2}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp4-779","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp4-780","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsOut":[{"name":"Post OG Response","links":[{"portIn":"Object","portOut":"Post OG Response","objIn":"bp4-779","objOut":"bp4-780"}]},{"name":"Error Message","value":""},{"name":"Is Listening","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp4-777","objOut":"bp4-780"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp4-778","objOut":"bp4-780"}]}],"objName":"Ops.User.rambodc.V1PostOG"},{"id":"bp4-781","uiAttribs":{"subPatch":"gonnbya00"},"storage":{},"portsIn":[{"name":"Title","value":"PostOG"}],"objName":"Ops.Ui.Area"}]}'};const o=e.inObject("i6nnsru1m");o.setUiAttribs({title:"Parent Link"});const s=e.inTrigger("zap5t5tri");s.setUiAttribs({title:"Mainloop"});const u=e.inTrigger("9ozpectyq");u.setUiAttribs({title:"Hash Changed"});const l=e.outTrigger("79by1oqzk");l.setUiAttribs({title:"Back Button"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_i6nnsru1m");n.setUiAttribs({title:"Parent Link"});o.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outTrigger("innerOut_zap5t5tri");r.setUiAttribs({title:"Mainloop"});s.onTriggered=()=>{r.trigger()};const a=t[e].outTrigger("innerOut_9ozpectyq");a.setUiAttribs({title:"Hash Changed"});u.onTriggered=()=>{a.trigger()}}if(t[e].innerOutput){const i=t[e].inTrigger("innerIn_79by1oqzk");i.setUiAttribs({title:"Back Button"});i.onTriggered=()=>{l.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PagesC.prototype=new CABLES.Op;CABLES.OPS["73227645-661d-4da0-a15e-9a202d06b34b"]={f:Ops.User.rambodc.PagesC,objName:"Ops.User.rambodc.PagesC"};Ops.User.rambodc.PageD1=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_i6nnsru1m=op.inObject("i6nnsru1m");\nport_i6nnsru1m.setUiAttribs({title:"Parent Link",});\n\nconst port_zap5t5tri=op.inTrigger("zap5t5tri");\nport_zap5t5tri.setUiAttribs({title:"Mainloop",});\n\nconst port_9ozpectyq=op.inTrigger("9ozpectyq");\nport_9ozpectyq.setUiAttribs({title:"Hash Changed",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_i6nnsru1m = addedOps[i].outObject("innerOut_i6nnsru1m");\ninnerOut_i6nnsru1m.setUiAttribs({title:"Parent Link"});\nport_i6nnsru1m.on("change", (a,v) => { innerOut_i6nnsru1m.setRef(a); });\n\nconst innerOut_zap5t5tri = addedOps[i].outTrigger("innerOut_zap5t5tri");\ninnerOut_zap5t5tri.setUiAttribs({title:"Mainloop"});\nport_zap5t5tri.onTriggered = () => { innerOut_zap5t5tri.trigger(); };\n\nconst innerOut_9ozpectyq = addedOps[i].outTrigger("innerOut_9ozpectyq");\ninnerOut_9ozpectyq.setUiAttribs({title:"Hash Changed"});\nport_9ozpectyq.onTriggered = () => { innerOut_9ozpectyq.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp5-0","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Title","value":"user"}],"objName":"Ops.Ui.Area"},{"id":"bp5-1","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-160","objOut":"bp5-1"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-2","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"innerOut_i6nnsru1m","title":"Parent Link","links":[{"portIn":"Parent Link","portOut":"innerOut_i6nnsru1m","objIn":"bp5-22","objOut":"bp5-2"}]},{"name":"innerOut_zap5t5tri","title":"Mainloop","links":[{"portIn":"0as2n77e5","portOut":"innerOut_zap5t5tri","objIn":"bp5-4","objOut":"bp5-2"}]},{"name":"innerOut_9ozpectyq","title":"Hash Changed","links":[{"portIn":"eabt3o2x7","portOut":"innerOut_9ozpectyq","objIn":"bp5-4","objOut":"bp5-2"},{"portIn":"Execute","portOut":"innerOut_9ozpectyq","objIn":"bp5-23","objOut":"bp5-2"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp5-3","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp5-4","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"zzd2dk99r","title":"Parent Link"},{"name":"0as2n77e5","title":"Mainloop"},{"name":"eabt3o2x7","title":"Hash Changed"},{"name":"patchId","value":"aup017ule"}],"portsOut":[{"name":"37k6sbwik","title":"Parent Link","links":[{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp5-86","objOut":"bp5-4"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp5-87","objOut":"bp5-4"},{"portIn":"4lursd3if","portOut":"37k6sbwik","objIn":"bp5-118","objOut":"bp5-4"}]},{"name":"o4ucc2fcw","title":"Mainloop","links":[{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp5-86","objOut":"bp5-4"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp5-87","objOut":"bp5-4"},{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp5-118","objOut":"bp5-4"}]},{"name":"r4xu39dfu","title":"Hash Changed","links":[{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp5-86","objOut":"bp5-4"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp5-87","objOut":"bp5-4"},{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp5-118","objOut":"bp5-4"}]}],"objName":"Ops.User.rambodc.PageRouter"},{"id":"bp5-5","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Title","value":"PageRouter"}],"objName":"Ops.Ui.Area"},{"id":"bp5-6","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-7","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-8","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp5-9","objOut":"bp5-8"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-9","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp5-10","objOut":"bp5-9"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-10","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp5-12","objOut":"bp5-10"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp5-11","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Pass Through","portOut":"Value","objIn":"bp5-10","objOut":"bp5-11"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp5-12","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp5-88","objOut":"bp5-12"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-13","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Title","value":"inviteExternal"}],"objName":"Ops.Ui.Area"},{"id":"bp5-14","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-56","objOut":"bp5-14"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-15","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-16","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp5-17","objOut":"bp5-16"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-17","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp5-18","objOut":"bp5-17"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-18","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp5-20","objOut":"bp5-18"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp5-19","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Pass Through","portOut":"Value","objIn":"bp5-18","objOut":"bp5-19"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp5-20","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-21","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Title","value":"Back Button History /d"}],"objName":"Ops.Ui.Area"},{"id":"bp5-22","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Button Text","value":"<<< Back"},{"name":"Button Width","value":""},{"name":"Button Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Background Color","value":"rgba(255,255,255,0.1)"},{"name":"Visible","value":1}],"portsOut":[{"name":"Siblings","links":[{"portIn":"zzd2dk99r","portOut":"Siblings","objIn":"bp5-4","objOut":"bp5-22"}]},{"name":"Button Pressed","links":[{"portIn":"Execute","portOut":"Button Pressed","objIn":"bp5-27","objOut":"bp5-22"},{"portIn":"Trigger","portOut":"Button Pressed","objIn":"bp5-32","objOut":"bp5-22"}]}],"objName":"Ops.User.rambodc.Button_Left"},{"id":"bp5-23","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp5-30","objOut":"bp5-23"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-24","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"URL","value":"https://sandbox.cables.gl/ui/#/a"},{"name":"Host","value":"sandbox.cables.gl"},{"name":"Hash","links":[{"portIn":"String","portOut":"Hash","objIn":"bp5-26","objOut":"bp5-24"}]},{"name":"Pathname","value":"/ui/"},{"name":"Protocol","value":"https:"},{"name":"Port","value":""}],"objName":"Ops.Website.InfoURL"},{"id":"bp5-25","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":0},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp5-26","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Search For","value":"#"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"Add Value","portOut":"Result","objIn":"bp5-49","objOut":"bp5-26"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp5-27","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp5-35","objOut":"bp5-27"},{"portIn":"Decrease","portOut":"Next","objIn":"bp5-49","objOut":"bp5-27"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-28","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp5-29","objOut":"bp5-28"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp5-29","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp5-30","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":0.05}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp5-31","objOut":"bp5-30"},{"portIn":"exe","portOut":"next","objIn":"bp5-36","objOut":"bp5-30"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-31","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp5-34","objOut":"bp5-31"},{"portIn":"Increase","portOut":"Trigger out","objIn":"bp5-49","objOut":"bp5-31"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp5-32","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Delay","value":0.3}],"portsOut":[{"name":"Output Boolean","links":[{"portIn":"Boolean","portOut":"Output Boolean","objIn":"bp5-33","objOut":"bp5-32"}]}],"objName":"Ops.User.rambodc.delay_boolean_timer"},{"id":"bp5-33","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp5-31","objOut":"bp5-33"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp5-34","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-35","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Update","portOut":"next","objIn":"bp5-25","objOut":"bp5-35"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-36","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-37","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":"Accept Invitation"},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Background Color","value":"rgb(41, 163, 41, 0.8)"},{"name":"Text Color","value":"#000000"},{"name":"Padding","value":"12px 30px"},{"name":"Margin","value":"10px"},{"name":"Border Radius","value":"5px"},{"name":"Font Weight","value":"normal"},{"name":"Font Size","value":"16px"},{"name":"CSS Class","value":"unique-sidebar-button"},{"name":"Visible","value":1},{"name":"Hover Background Color","value":"rgb(41, 163, 41, 1)"},{"name":"Hover Text Color","value":"#333333"},{"name":"Border Width","value":"0px"},{"name":"Border Color","value":"#000000"}],"portsOut":[{"name":"Pressed Trigger","links":[{"portIn":"exe","portOut":"Pressed Trigger","objIn":"bp5-69","objOut":"bp5-37"}]}],"objName":"Ops.User.rambodc.button_customize"},{"id":"bp5-38","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp5-42","objOut":"bp5-38"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp5-39","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Collection name","value":"invites"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Document","links":[{"portIn":"Object","portOut":"Document","objIn":"bp5-40","objOut":"bp5-39"},{"portIn":"Object","portOut":"Document","objIn":"bp5-50","objOut":"bp5-39"},{"portIn":"Invitation Data","portOut":"Document","objIn":"bp5-58","objOut":"bp5-39"},{"portIn":"Object","portOut":"Document","objIn":"bp5-71","objOut":"bp5-39"},{"portIn":"Object","portOut":"Document","objIn":"bp5-84","objOut":"bp5-39"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp5-45","objOut":"bp5-39"},{"portIn":"Check Invitation","portOut":"Success","objIn":"bp5-58","objOut":"bp5-39"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp5-44","objOut":"bp5-39"},{"portIn":"Trigger animation","portOut":"Failure","objIn":"bp5-46","objOut":"bp5-39"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp5-40","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp5-41","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp5-43","objOut":"bp5-41"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-42","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"Document ID","portOut":"String","objIn":"bp5-39","objOut":"bp5-42"}]}],"objName":"Ops.String.String_v2"},{"id":"bp5-43","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp5-39","objOut":"bp5-43"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-44","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-45","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-46","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":"Unable to find the invite."},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":4},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp5-47","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-48","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":"This Link Has Already Been Used"},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Background Color","value":"#808080"},{"name":"Text Color","value":"#000000"},{"name":"Padding","value":"12px 30px"},{"name":"Margin","value":"10px"},{"name":"Border Radius","value":"5px"},{"name":"Font Weight","value":"normal"},{"name":"Font Size","value":"16px"},{"name":"CSS Class","value":"unique-sidebar-button"},{"name":"Visible","value":1},{"name":"Hover Background Color","value":"#DDDDDD"},{"name":"Hover Text Color","value":"#333333"},{"name":"Border Width","value":"0px"},{"name":"Border Color","value":"#000000"}],"portsOut":[{"name":"Pressed Trigger","links":[{"portIn":"n6dz5ut5m","portOut":"Pressed Trigger","objIn":"bp5-91","objOut":"bp5-48"}]}],"objName":"Ops.User.rambodc.button_customize"},{"id":"bp5-49","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Initial Value","value":"/d"}],"portsOut":[{"name":"Count","value":9},{"name":"Json Object","links":[{"portIn":"JSON String","portOut":"Json Object","objIn":"bp5-28","objOut":"bp5-49"}]},{"name":"Selected","links":[{"portIn":"Hash","portOut":"Selected","objIn":"bp5-25","objOut":"bp5-49"}]}],"objName":"Ops.User.rambodc.Back_Button_History"},{"id":"bp5-50","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"description"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text","portOut":"Output","objIn":"bp5-161","objOut":"bp5-50"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-51","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"themeColors"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp5-52","objOut":"bp5-51"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp5-52","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"logo800"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Image URL","portOut":"Output","objIn":"bp5-53","objOut":"bp5-52"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-53","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":120},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Corner","value":75},{"name":"Visible","value":1}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp5-55","objOut":"bp5-53"}]}],"objName":"Ops.User.rambodc.Background1"},{"id":"bp5-54","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"width"}],"portsOut":[{"name":"Value","value":423}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp5-55","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"100px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp5-61","objOut":"bp5-55"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-56","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"30px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp5-161","objOut":"bp5-56"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-57","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"60px"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp5-53","objOut":"bp5-57"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-58","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Expired Trigger","links":[{"portIn":"exe","portOut":"Expired Trigger","objIn":"bp5-47","objOut":"bp5-58"}]},{"name":"Expired Only","links":[{"portIn":"Visible","portOut":"Expired Only","objIn":"bp5-64","objOut":"bp5-58"}]},{"name":"Invite Exists","links":[{"portIn":"Visible","portOut":"Invite Exists","objIn":"bp5-63","objOut":"bp5-58"}]},{"name":"Not Expired & Not Exists","links":[{"portIn":"Visible","portOut":"Not Expired & Not Exists","objIn":"bp5-61","objOut":"bp5-58"},{"portIn":"Visible","portOut":"Not Expired & Not Exists","objIn":"bp5-67","objOut":"bp5-58"}]}],"objName":"Ops.User.rambodc.InvitesExpiryCheck"},{"id":"bp5-59","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Check Invitation","portOut":"Next","objIn":"bp5-58","objOut":"bp5-59"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp5-60","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":"This Link Has Expired"},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Background Color","value":"#808080"},{"name":"Text Color","value":"#000000"},{"name":"Padding","value":"12px 30px"},{"name":"Margin","value":"10px"},{"name":"Border Radius","value":"5px"},{"name":"Font Weight","value":"normal"},{"name":"Font Size","value":"16px"},{"name":"CSS Class","value":"unique-sidebar-button"},{"name":"Visible","value":1},{"name":"Hover Background Color","value":"#DDDDDD"},{"name":"Hover Text Color","value":"#333333"},{"name":"Border Width","value":"0px"},{"name":"Border Color","value":"#000000"}],"portsOut":[{"name":"Pressed Trigger","links":[{"portIn":"n6dz5ut5m","portOut":"Pressed Trigger","objIn":"bp5-91","objOut":"bp5-60"}]}],"objName":"Ops.User.rambodc.button_customize"},{"id":"bp5-61","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp5-63","objOut":"bp5-61"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-37","objOut":"bp5-61"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-62","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"80px"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp5-67","objOut":"bp5-62"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-63","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp5-64","objOut":"bp5-63"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-48","objOut":"bp5-63"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-64","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp5-65","objOut":"bp5-64"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-60","objOut":"bp5-64"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-65","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0},{"name":"Visible","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-62","objOut":"bp5-65"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-66","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"20px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-67","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"YouTube URL","value":"https://www.youtube.com/watch?v=OvI6RUMLdgc"},{"name":"Height","value":300},{"name":"Width %","value":100},{"name":"Padding","value":"0px 0px 50px 0px "},{"name":"Margin","value":"0px 0px 0px 0px "}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp5-66","objOut":"bp5-67"}]}],"objName":"Ops.User.rambodc.Sidebar_youtube"},{"id":"bp5-68","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"boolean","portOut":"Value","objIn":"bp5-69","objOut":"bp5-68"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp5-69","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"Trigger Update","portOut":"then","objIn":"bp5-76","objOut":"bp5-69"}]},{"name":"else","links":[{"portIn":"Execute","portOut":"else","objIn":"bp5-70","objOut":"bp5-69"},{"portIn":"exe","portOut":"else","objIn":"bp5-85","objOut":"bp5-69"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp5-70","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp5-73","objOut":"bp5-70"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-71","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"inviteId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp5-73","objOut":"bp5-71"}]},{"name":"Found","links":[{"portIn":"Number","portOut":"Found","objIn":"bp5-75","objOut":"bp5-71"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-72","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"inviteId"}],"objName":"Ops.Vars.VarSetString_v2"},{"id":"bp5-73","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Set","portOut":"Next","objIn":"bp5-75","objOut":"bp5-73"},{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp5-89","objOut":"bp5-73"}]},{"name":"Result","links":[{"portIn":"Value","portOut":"Result","objIn":"bp5-72","objOut":"bp5-73"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp5-74","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"inviteId Exists"}],"objName":"Ops.Vars.VarSetNumber_v2"},{"id":"bp5-75","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Out Value","links":[{"portIn":"Value","portOut":"Out Value","objIn":"bp5-74","objOut":"bp5-75"}]}],"objName":"Ops.Trigger.TriggerNumber"},{"id":"bp5-76","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Collection Name","value":"invites"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp5-82","objOut":"bp5-76"},{"portIn":"n6dz5ut5m","portOut":"Success","objIn":"bp5-90","objOut":"bp5-76"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp5-83","objOut":"bp5-76"},{"portIn":"n6dz5ut5m","portOut":"Failure","objIn":"bp5-90","objOut":"bp5-76"}]},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FBUpdateDocument2"},{"id":"bp5-77","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Document Data","portOut":"Result","objIn":"bp5-76","objOut":"bp5-77"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp5-78","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"inviteeExists\\": true,\\n  \\"invitee.uid\\": \\"$a\\",\\n  \\"invitee.firstName\\": \\"$b\\",\\n  \\"invitee.lastName\\": \\"$c\\"\\n}"},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp5-77","objOut":"bp5-78"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp5-79","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String A","portOut":"Value","objIn":"bp5-78","objOut":"bp5-79"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp5-80","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String B","portOut":"Value","objIn":"bp5-78","objOut":"bp5-80"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp5-81","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String C","portOut":"Value","objIn":"bp5-78","objOut":"bp5-81"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp5-82","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-83","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-84","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"inviteId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Document ID","portOut":"Output","objIn":"bp5-76","objOut":"bp5-84"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-85","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-86","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"d","title":"Directory 1"},{"name":"jyz85fved","value":"user","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"qbbfcmy8u"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp5-1","objOut":"bp5-86"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp5-6","objOut":"bp5-86"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp5-7","objOut":"bp5-86"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp5-8","objOut":"bp5-86"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp5-1","objOut":"bp5-86"}]},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","value":"/b","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp5-87","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"d","title":"Directory 1"},{"name":"jyz85fved","value":"invite","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"bqk6zy18l"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp5-14","objOut":"bp5-87"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp5-15","objOut":"bp5-87"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp5-16","objOut":"bp5-87"},{"portIn":"Trigger","portOut":"iyq4pnlwm","objIn":"bp5-38","objOut":"bp5-87"},{"portIn":"Execute","portOut":"iyq4pnlwm","objIn":"bp5-41","objOut":"bp5-87"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Visible","portOut":"wg0zcmxag","objIn":"bp5-14","objOut":"bp5-87"}]},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"String","portOut":"rzi5x09qq","objIn":"bp5-38","objOut":"bp5-87"}]},{"name":"wteazgn7z","value":"/b","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp5-88","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/user","title":"Directory 2"},{"name":"1ovs04j4c","value":"/12345678","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"8slp5l1xz"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-89","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"gvzcbkdgw"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-90","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/b","title":"Directory 1"},{"name":"t9sx2ey0f","value":"","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"oo5yn0y4s"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-91","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/0","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"7j8k1wwqw"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-92","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-110","objOut":"bp5-92"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-93","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp5-123","objOut":"bp5-93"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-94","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp5-95","objOut":"bp5-94"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-95","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp5-96","objOut":"bp5-95"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-96","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp5-98","objOut":"bp5-96"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp5-97","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Pass Through","portOut":"Value","objIn":"bp5-96","objOut":"bp5-97"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp5-98","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp5-122","objOut":"bp5-98"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-99","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Title","value":"post"}],"objName":"Ops.Ui.Area"},{"id":"bp5-100","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp5-101","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp5-102","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Search For","value":"json"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"String","portOut":"Result","objIn":"bp5-103","objOut":"bp5-102"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp5-103","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Search For","value":""},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp5-101","objOut":"bp5-103"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp5-104","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"ai.candidates.0.content.parts.0.text"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp5-102","objOut":"bp5-104"},{"portIn":"String","portOut":"Output","objIn":"bp5-105","objOut":"bp5-104"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-105","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Whitespace","value":0},{"name":"Wrap lines","value":1},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizString"},{"id":"bp5-106","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp5-162","objOut":"bp5-106"}]},{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-112","objOut":"bp5-106"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp5-107","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-108","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp5-109","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"$a $b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp5-164","objOut":"bp5-109"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp5-110","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Corner","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp5-106","objOut":"bp5-110"}]}],"objName":"Ops.User.rambodc.Background2"},{"id":"bp5-111","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Delay True","value":1},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp5-92","objOut":"bp5-111"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp5-112","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"20px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp5-164","objOut":"bp5-112"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-113","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-512.png?alt=media&token=426ae8b5-1f1b-4d2c-accd-fbcefdef37e8"},{"name":"Text","value":"Collected"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-116","objOut":"bp5-113"}]},{"name":"Pressed Trigger","links":[{"portIn":"Execute","portOut":"Pressed Trigger","objIn":"bp5-166","objOut":"bp5-113"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp5-114","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Icon","value":"https://upload.wikimedia.org/wikipedia/commons/1/18/Ipfs-logo-1024-ice-text.png"},{"name":"Text","value":"IPFS Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-115","objOut":"bp5-114"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp5-143","objOut":"bp5-114"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp5-115","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FxrpLogo2.png?alt=media&token=e7f5d563-ce1b-4b47-800a-88c5d16d0325"},{"name":"Text","value":"Transaction Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-147","objOut":"bp5-115"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp5-141","objOut":"bp5-115"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp5-116","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Icon","value":"https://cdn-icons-png.flaticon.com/512/5278/5278402.png"},{"name":"Text","value":"AI"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-114","objOut":"bp5-116"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp5-117","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"value","portOut":"String","objIn":"bp5-149","objOut":"bp5-117"},{"portIn":"Document ID","portOut":"String","objIn":"bp5-155","objOut":"bp5-117"},{"portIn":"1ovs04j4c","portOut":"String","objIn":"bp5-122","objOut":"bp5-117"},{"portIn":"value","portOut":"String","objIn":"bp5-167","objOut":"bp5-117"},{"portIn":"String B","portOut":"String","objIn":"bp5-170","objOut":"bp5-117"}]}],"objName":"Ops.String.String_v2"},{"id":"bp5-118","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"d","title":"Directory 1"},{"name":"jyz85fved","value":"post","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"lm6ghmewc"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link","links":[{"portIn":"link","portOut":"vjfo5caql","objIn":"bp5-92","objOut":"bp5-118"}]},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp5-93","objOut":"bp5-118"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp5-126","objOut":"bp5-118"},{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp5-94","objOut":"bp5-118"}]},{"name":"wg0zcmxag","title":"Dir 1-2 Equal","links":[{"portIn":"Value","portOut":"wg0zcmxag","objIn":"bp5-111","objOut":"bp5-118"}]},{"name":"rzi5x09qq","title":"Directory 3","links":[{"portIn":"value","portOut":"rzi5x09qq","objIn":"bp5-117","objOut":"bp5-118"}]},{"name":"wteazgn7z","value":"/b","title":"Result"}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp5-119","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs.hash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp5-121","objOut":"bp5-119"},{"portIn":"String B","portOut":"Output","objIn":"bp5-144","objOut":"bp5-119"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp5-114","objOut":"bp5-119"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-120","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp5-116","objOut":"bp5-120"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp5-121","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp5-114","objOut":"bp5-121"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp5-122","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/post/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"my0xmy0lc"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-123","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Was Triggered","links":[{"portIn":"Value","portOut":"Was Triggered","objIn":"bp5-124","objOut":"bp5-123"}]}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp5-124","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp5-125","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Boolean","value":1},{"name":"True Text","value":"Sign In "},{"name":"True Background","value":"rgba(78,205,58,0.9)"},{"name":"True Hover","value":"rgba(78,205,58,0.7)"},{"name":"False Text","value":"Sign In"},{"name":"False Background","value":"rgba(1,1,1,0.3)"},{"name":"False Hover","value":"rgba(1,1,1,0.3)"}],"portsOut":[{"name":"Text","links":[{"portIn":"Button Text Right","portOut":"Text","objIn":"bp5-164","objOut":"bp5-125"}]},{"name":"Background","links":[{"portIn":"Button Color Right","portOut":"Background","objIn":"bp5-164","objOut":"bp5-125"}]},{"name":"Hover","links":[{"portIn":"Button Hover Color Right","portOut":"Hover","objIn":"bp5-164","objOut":"bp5-125"}]}],"objName":"Ops.User.rambodc.StringBoolButton"},{"id":"bp5-126","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp5-155","objOut":"bp5-126"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp5-127","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"description"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text","portOut":"Output","objIn":"bp5-163","objOut":"bp5-127"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-128","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"title"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp5-154","objOut":"bp5-128"},{"portIn":"Text","portOut":"Output","objIn":"bp5-162","objOut":"bp5-128"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-129","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"String 2","value":"completed"}],"portsOut":[{"name":"Result","links":[{"portIn":"Visible","portOut":"Result","objIn":"bp5-162","objOut":"bp5-129"},{"portIn":"Visible","portOut":"Result","objIn":"bp5-163","objOut":"bp5-129"},{"portIn":"Show Right Button","portOut":"Result","objIn":"bp5-164","objOut":"bp5-129"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp5-130","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"status"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String 1","portOut":"Output","objIn":"bp5-129","objOut":"bp5-130"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-131","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"False","value":"Incomplete"},{"name":"True","value":"Completed"}],"portsOut":[{"name":"String","links":[{"portIn":"String Input","portOut":"String","objIn":"bp5-120","objOut":"bp5-131"}]}],"objName":"Ops.Boolean.BoolToString"},{"id":"bp5-132","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp5-119","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-128","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-127","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-130","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-104","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-100","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-133","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-145","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-156","objOut":"bp5-132"},{"portIn":"Object","portOut":"Output Object","objIn":"bp5-159","objOut":"bp5-132"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp5-133","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"xrpl.txnHash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp5-134","objOut":"bp5-133"},{"portIn":"String B","portOut":"Output","objIn":"bp5-140","objOut":"bp5-133"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp5-115","objOut":"bp5-133"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-134","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp5-115","objOut":"bp5-134"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp5-135","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp5-113","objOut":"bp5-135"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-136","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Collection name","value":"usersPublic"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Document","links":[{"portIn":"Object","portOut":"Document","objIn":"bp5-137","objOut":"bp5-136"},{"portIn":"Object","portOut":"Document","objIn":"bp5-138","objOut":"bp5-136"},{"portIn":"Object","portOut":"Document","objIn":"bp5-139","objOut":"bp5-136"}]},{"name":"Document Not Found","value":false}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp5-137","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"firstName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp5-109","objOut":"bp5-137"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-138","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"lastName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String B","portOut":"Output","objIn":"bp5-109","objOut":"bp5-138"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-139","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"profilePhoto200Url"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Icon","portOut":"Output","objIn":"bp5-164","objOut":"bp5-139"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-140","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://livenet.xrpl.org/transactions"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp5-141","objOut":"bp5-140"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp5-141","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp5-142","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Height","value":"50px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp5-143","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp5-144","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://ipfs.io/ipfs"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp5-143","objOut":"bp5-144"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp5-145","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"ai"}],"portsOut":[{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp5-116","objOut":"bp5-145"},{"portIn":"Boolean","portOut":"Found","objIn":"bp5-131","objOut":"bp5-145"}]}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp5-146","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","value":"","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"dlec8kcct"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-147","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Icon","value":"https://png.pngtree.com/png-clipart/20221115/ourmid/pngtree-share-icon-button-png-image_6454552.png"},{"name":"Text","value":"Share Link"},{"name":"Text Right","value":""},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-142","objOut":"bp5-147"}]},{"name":"Pressed Trigger","links":[{"portIn":"exe","portOut":"Pressed Trigger","objIn":"bp5-148","objOut":"bp5-147"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp5-148","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Callback Name","value":"webShare"},{"name":"Parameter 3","value":""}],"objName":"Ops.Cables.CallBack_v2"},{"id":"bp5-149","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp5-153","objOut":"bp5-149"}]}],"objName":"Ops.String.String_v2"},{"id":"bp5-150","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"urlPath"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp5-153","objOut":"bp5-150"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp5-151","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp5-152","objOut":"bp5-151"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp5-152","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp5-153","objOut":"bp5-152"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-153","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media\\n\\n\\n"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 2","portOut":"Result","objIn":"bp5-148","objOut":"bp5-153"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp5-154","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"$a - Razzberry.ai Own Your Content"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 1","portOut":"Result","objIn":"bp5-148","objOut":"bp5-154"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp5-155","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Collection name","value":"posts"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Document","links":[{"portIn":"Input Object","portOut":"Document","objIn":"bp5-132","objOut":"bp5-155"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp5-107","objOut":"bp5-155"},{"portIn":"Trigger","portOut":"Success","objIn":"bp5-136","objOut":"bp5-155"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp5-108","objOut":"bp5-155"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp5-156","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"totalPostRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp5-158","objOut":"bp5-156"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp5-157","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Format","value":"$a RAZ"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Right","portOut":"Result","objIn":"bp5-113","objOut":"bp5-157"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp5-158","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp5-157","objOut":"bp5-158"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp5-159","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Document ID","portOut":"Output","objIn":"bp5-136","objOut":"bp5-159"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-160","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text","value":"user"},{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 10px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp5-161","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Id","value":"0"},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"blue"},{"name":"Text Size","value":"24px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.01)"},{"name":"Margin","value":"0px 30px 0px 30px"},{"name":"Padding","value":"10px"},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"center"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-57","objOut":"bp5-161"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp5-162","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.0"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp5-163","objOut":"bp5-162"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp5-163","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"14px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp5-135","objOut":"bp5-163"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp5-164","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsIn":[{"name":"Text 2","value":"RAZ"},{"name":"Button Text Color Right","value":"#ffffff"},{"name":"Corners","value":40},{"name":"Image Size","value":40},{"name":"Visible","value":1}],"portsOut":[{"name":"Button Right Pressed","links":[{"portIn":"n6dz5ut5m","portOut":"Button Right Pressed","objIn":"bp5-146","objOut":"bp5-164"}]}],"objName":"Ops.User.rambodc.Button_icon2"},{"id":"bp5-165","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/postCollect/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"pp91cv4fb"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp5-166","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp5-165","objOut":"bp5-166"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp5-167","uiAttribs":{"subPatch":"z5xpwggvp"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"1ovs04j4c","portOut":"String","objIn":"bp5-165","objOut":"bp5-167"}]}],"objName":"Ops.String.String_v2"},{"id":"bp5-168","uiAttribs":{"subPatch":"z5xpwggvp"},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp5-169","objOut":"bp5-168"}]}],"storage":{"ref":"bp5-168"},"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp5-169","uiAttribs":{"subPatch":"z5xpwggvp"},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp5-170","objOut":"bp5-169"}]},{"name":"Found","value":true}],"storage":{"ref":"bp5-169"},"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp5-170","uiAttribs":{"subPatch":"z5xpwggvp"},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/posts%2F$b%2Fresized%2F$b_800x800.png?alt=media                              "},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Image URL","portOut":"Result","objIn":"bp5-110","objOut":"bp5-170"}]}],"storage":{"ref":"bp5-170"},"objName":"Ops.User.rambodc.StringComposeEditor"}]}'};const i=e.inObject("i6nnsru1m");i.setUiAttribs({title:"Parent Link"});const o=e.inTrigger("zap5t5tri");o.setUiAttribs({title:"Mainloop"});const s=e.inTrigger("9ozpectyq");s.setUiAttribs({title:"Hash Changed"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_i6nnsru1m");n.setUiAttribs({title:"Parent Link"});i.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outTrigger("innerOut_zap5t5tri");r.setUiAttribs({title:"Mainloop"});o.onTriggered=()=>{r.trigger()};const a=t[e].outTrigger("innerOut_9ozpectyq");a.setUiAttribs({title:"Hash Changed"});s.onTriggered=()=>{a.trigger()}}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PageD1.prototype=new CABLES.Op;CABLES.OPS["719085a6-9bb9-4749-a54a-685bf8b91dc8"]={f:Ops.User.rambodc.PageD1,objName:"Ops.User.rambodc.PageD1"};Ops.User.rambodc.PopupMenu=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_wc7xjxfxx=op.inTrigger("wc7xjxfxx");\nport_wc7xjxfxx.setUiAttribs({title:"Mainloop",});\n\nconst port_jkgyh3kxu=op.inTrigger("jkgyh3kxu");\nport_jkgyh3kxu.setUiAttribs({title:"Open-Close",});\n\nconst port_nv2xz3y87=op.inFloat("nv2xz3y87",0);\nport_nv2xz3y87.setUiAttribs({title:"Enable 1",display:"bool",});\n\nconst port_ub3mqqtdd=op.inString("ub3mqqtdd","");\nport_ub3mqqtdd.setUiAttribs({title:"String 1",});\n\nconst port_n2tjog8gu=op.inFloat("n2tjog8gu",0);\nport_n2tjog8gu.setUiAttribs({title:"Enable 2",display:"bool",});\n\nconst port_3jvojxwe9=op.inString("3jvojxwe9","");\nport_3jvojxwe9.setUiAttribs({title:"String 2",});\n\nconst port_lmmev5kvn=op.inFloat("lmmev5kvn",0);\nport_lmmev5kvn.setUiAttribs({title:"Enable 3",display:"bool",});\n\nconst port_0io5ed43a=op.inString("0io5ed43a","");\nport_0io5ed43a.setUiAttribs({title:"String 3",});\n\nconst port_rzkhmfr8a=op.inFloat("rzkhmfr8a",0);\nport_rzkhmfr8a.setUiAttribs({title:"Enable 4",display:"bool",});\n\nconst port_5fx1n7v3d=op.inString("5fx1n7v3d","");\nport_5fx1n7v3d.setUiAttribs({title:"String 4",});\n\nconst port_5gsf1p0tl=op.inFloat("5gsf1p0tl",0);\nport_5gsf1p0tl.setUiAttribs({title:"Enable 5",display:"bool",});\n\nconst port_up5aavev3=op.inString("up5aavev3","");\nport_up5aavev3.setUiAttribs({title:"String 5",});\n\nconst port_z8abbllq9=op.inFloat("z8abbllq9",0);\nport_z8abbllq9.setUiAttribs({title:"Enable 6",display:"bool",});\n\nconst port_3of139532=op.inString("3of139532","");\nport_3of139532.setUiAttribs({title:"String 6",});\n\nconst port_43z0xm2ij=op.outTrigger("43z0xm2ij");\nport_43z0xm2ij.setUiAttribs({title:"Close",});\n\nconst port_t0obwgtww=op.outTrigger("t0obwgtww");\nport_t0obwgtww.setUiAttribs({title:"Button 1",});\n\nconst port_013f6ffi7=op.outTrigger("013f6ffi7");\nport_013f6ffi7.setUiAttribs({title:"Button 2",});\n\nconst port_cyw007cj3=op.outTrigger("cyw007cj3");\nport_cyw007cj3.setUiAttribs({title:"Button 3",});\n\nconst port_ehnih43tt=op.outTrigger("ehnih43tt");\nport_ehnih43tt.setUiAttribs({title:"Button 4",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_wc7xjxfxx = addedOps[i].outTrigger("innerOut_wc7xjxfxx");\ninnerOut_wc7xjxfxx.setUiAttribs({title:"Mainloop"});\nport_wc7xjxfxx.onTriggered = () => { innerOut_wc7xjxfxx.trigger(); };\n\nconst innerOut_jkgyh3kxu = addedOps[i].outTrigger("innerOut_jkgyh3kxu");\ninnerOut_jkgyh3kxu.setUiAttribs({title:"Open-Close"});\nport_jkgyh3kxu.onTriggered = () => { innerOut_jkgyh3kxu.trigger(); };\n\nconst innerOut_nv2xz3y87 = addedOps[i].outNumber("innerOut_nv2xz3y87");\ninnerOut_nv2xz3y87.set(port_nv2xz3y87.get() );\ninnerOut_nv2xz3y87.setUiAttribs({title:"Enable 1"});\nport_nv2xz3y87.on("change", (a,v) => { innerOut_nv2xz3y87.set(a); });\n\nconst innerOut_ub3mqqtdd = addedOps[i].outString("innerOut_ub3mqqtdd");\ninnerOut_ub3mqqtdd.set(port_ub3mqqtdd.get() );\ninnerOut_ub3mqqtdd.setUiAttribs({title:"String 1"});\nport_ub3mqqtdd.on("change", (a,v) => { innerOut_ub3mqqtdd.set(a); });\n\nconst innerOut_n2tjog8gu = addedOps[i].outNumber("innerOut_n2tjog8gu");\ninnerOut_n2tjog8gu.set(port_n2tjog8gu.get() );\ninnerOut_n2tjog8gu.setUiAttribs({title:"Enable 2"});\nport_n2tjog8gu.on("change", (a,v) => { innerOut_n2tjog8gu.set(a); });\n\nconst innerOut_3jvojxwe9 = addedOps[i].outString("innerOut_3jvojxwe9");\ninnerOut_3jvojxwe9.set(port_3jvojxwe9.get() );\ninnerOut_3jvojxwe9.setUiAttribs({title:"String 2"});\nport_3jvojxwe9.on("change", (a,v) => { innerOut_3jvojxwe9.set(a); });\n\nconst innerOut_lmmev5kvn = addedOps[i].outNumber("innerOut_lmmev5kvn");\ninnerOut_lmmev5kvn.set(port_lmmev5kvn.get() );\ninnerOut_lmmev5kvn.setUiAttribs({title:"Enable 3"});\nport_lmmev5kvn.on("change", (a,v) => { innerOut_lmmev5kvn.set(a); });\n\nconst innerOut_0io5ed43a = addedOps[i].outString("innerOut_0io5ed43a");\ninnerOut_0io5ed43a.set(port_0io5ed43a.get() );\ninnerOut_0io5ed43a.setUiAttribs({title:"String 3"});\nport_0io5ed43a.on("change", (a,v) => { innerOut_0io5ed43a.set(a); });\n\nconst innerOut_rzkhmfr8a = addedOps[i].outNumber("innerOut_rzkhmfr8a");\ninnerOut_rzkhmfr8a.set(port_rzkhmfr8a.get() );\ninnerOut_rzkhmfr8a.setUiAttribs({title:"Enable 4"});\nport_rzkhmfr8a.on("change", (a,v) => { innerOut_rzkhmfr8a.set(a); });\n\nconst innerOut_5fx1n7v3d = addedOps[i].outString("innerOut_5fx1n7v3d");\ninnerOut_5fx1n7v3d.set(port_5fx1n7v3d.get() );\ninnerOut_5fx1n7v3d.setUiAttribs({title:"String 4"});\nport_5fx1n7v3d.on("change", (a,v) => { innerOut_5fx1n7v3d.set(a); });\n\nconst innerOut_5gsf1p0tl = addedOps[i].outNumber("innerOut_5gsf1p0tl");\ninnerOut_5gsf1p0tl.set(port_5gsf1p0tl.get() );\ninnerOut_5gsf1p0tl.setUiAttribs({title:"Enable 5"});\nport_5gsf1p0tl.on("change", (a,v) => { innerOut_5gsf1p0tl.set(a); });\n\nconst innerOut_up5aavev3 = addedOps[i].outString("innerOut_up5aavev3");\ninnerOut_up5aavev3.set(port_up5aavev3.get() );\ninnerOut_up5aavev3.setUiAttribs({title:"String 5"});\nport_up5aavev3.on("change", (a,v) => { innerOut_up5aavev3.set(a); });\n\nconst innerOut_z8abbllq9 = addedOps[i].outNumber("innerOut_z8abbllq9");\ninnerOut_z8abbllq9.set(port_z8abbllq9.get() );\ninnerOut_z8abbllq9.setUiAttribs({title:"Enable 6"});\nport_z8abbllq9.on("change", (a,v) => { innerOut_z8abbllq9.set(a); });\n\nconst innerOut_3of139532 = addedOps[i].outString("innerOut_3of139532");\ninnerOut_3of139532.set(port_3of139532.get() );\ninnerOut_3of139532.setUiAttribs({title:"String 6"});\nport_3of139532.on("change", (a,v) => { innerOut_3of139532.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_43z0xm2ij = addedOps[i].inTrigger("innerIn_43z0xm2ij");\ninnerIn_43z0xm2ij.setUiAttribs({title:"Close"});\ninnerIn_43z0xm2ij.onTriggered = () => { port_43z0xm2ij.trigger(); };\n\nconst innerIn_t0obwgtww = addedOps[i].inTrigger("innerIn_t0obwgtww");\ninnerIn_t0obwgtww.setUiAttribs({title:"Button 1"});\ninnerIn_t0obwgtww.onTriggered = () => { port_t0obwgtww.trigger(); };\n\nconst innerIn_013f6ffi7 = addedOps[i].inTrigger("innerIn_013f6ffi7");\ninnerIn_013f6ffi7.setUiAttribs({title:"Button 2"});\ninnerIn_013f6ffi7.onTriggered = () => { port_013f6ffi7.trigger(); };\n\nconst innerIn_cyw007cj3 = addedOps[i].inTrigger("innerIn_cyw007cj3");\ninnerIn_cyw007cj3.setUiAttribs({title:"Button 3"});\ninnerIn_cyw007cj3.onTriggered = () => { port_cyw007cj3.trigger(); };\n\nconst innerIn_ehnih43tt = addedOps[i].inTrigger("innerIn_ehnih43tt");\ninnerIn_ehnih43tt.setUiAttribs({title:"Button 4"});\ninnerIn_ehnih43tt.onTriggered = () => { port_ehnih43tt.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp6-0","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Interactive","value":0},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp6-5","objOut":"bp6-0"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp6-1","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"value","value":"position:absolute;\\nz-index:9999991;\\nheight: 100%;\\nwidth: 100%;\\nbackground-color: $a;"},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","links":[{"portIn":"Format","portOut":"Result","objIn":"bp6-2","objOut":"bp6-1"}]}],"objName":"Ops.String.StringEditor"},{"id":"bp6-2","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"String A","value":"rgb(40, 44, 48, 0.98)"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Style","portOut":"Result","objIn":"bp6-0","objOut":"bp6-2"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp6-3","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Variable","value":"themeColors"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp6-4","objOut":"bp6-3"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp6-4","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Path","value":"BackgroundColorRGB"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","value":"rgb(40, 44, 48, 1)"},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp6-5","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp6-6","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:999999;\\nbackground-color: rgba(1,1,1,0.2);\\npadding:15px;\\nborder-radius: 10px;\\nfont-size: 18px;\\nleft: 50%;\\ntop: 50%;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\nwidth: 300px;\\n\\noverflow-y: auto; /* Allows vertical scrolling if content overflows */\\noverflow-x: hidden; /* Prevents horizontal scrolling */\\n\\n\\n\\n"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-6"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp6-7","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsOut":[{"name":"Parent Out","links":[{"portIn":"Child 1","portOut":"Parent Out","objIn":"bp6-5","objOut":"bp6-7"}]}],"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp6-8","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Text","value":"Close"},{"name":"Id","value":""},{"name":"Class","value":"popupCloseMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 1","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-8"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_43z0xm2ij","portOut":"Clicked","objIn":"bp6-14","objOut":"bp6-8"},{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-8"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-9","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 2","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-9"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"trigger","portOut":"Clicked","objIn":"bp6-12","objOut":"bp6-9"},{"portIn":"innerIn_t0obwgtww","portOut":"Clicked","objIn":"bp6-14","objOut":"bp6-9"},{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-9"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-10","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 3","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-10"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_013f6ffi7","portOut":"Clicked","objIn":"bp6-14","objOut":"bp6-10"},{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-10"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-11","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 4","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-11"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_cyw007cj3","portOut":"Clicked","objIn":"bp6-14","objOut":"bp6-11"},{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-11"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-12","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Default","value":0}],"portsOut":[{"name":"result","value":0}],"objName":"Ops.Boolean.ToggleBool_v2"},{"id":"bp6-13","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsOut":[{"name":"innerOut_jkgyh3kxu","title":"Open-Close","links":[{"portIn":"exe","portOut":"innerOut_jkgyh3kxu","objIn":"bp6-20","objOut":"bp6-13"}]},{"name":"innerOut_nv2xz3y87","title":"Enable 1","links":[{"portIn":"Visible","portOut":"innerOut_nv2xz3y87","objIn":"bp6-9","objOut":"bp6-13"}]},{"name":"innerOut_ub3mqqtdd","title":"String 1","links":[{"portIn":"Text","portOut":"innerOut_ub3mqqtdd","objIn":"bp6-9","objOut":"bp6-13"}]},{"name":"innerOut_n2tjog8gu","title":"Enable 2","links":[{"portIn":"Visible","portOut":"innerOut_n2tjog8gu","objIn":"bp6-10","objOut":"bp6-13"}]},{"name":"innerOut_3jvojxwe9","title":"String 2","links":[{"portIn":"Text","portOut":"innerOut_3jvojxwe9","objIn":"bp6-10","objOut":"bp6-13"}]},{"name":"innerOut_lmmev5kvn","title":"Enable 3","links":[{"portIn":"Visible","portOut":"innerOut_lmmev5kvn","objIn":"bp6-11","objOut":"bp6-13"}]},{"name":"innerOut_0io5ed43a","title":"String 3","links":[{"portIn":"Text","portOut":"innerOut_0io5ed43a","objIn":"bp6-11","objOut":"bp6-13"}]},{"name":"innerOut_rzkhmfr8a","title":"Enable 4","links":[{"portIn":"Visible","portOut":"innerOut_rzkhmfr8a","objIn":"bp6-16","objOut":"bp6-13"}]},{"name":"innerOut_5fx1n7v3d","title":"String 4","links":[{"portIn":"Text","portOut":"innerOut_5fx1n7v3d","objIn":"bp6-16","objOut":"bp6-13"}]},{"name":"innerOut_5gsf1p0tl","title":"Enable 5","links":[{"portIn":"Visible","portOut":"innerOut_5gsf1p0tl","objIn":"bp6-18","objOut":"bp6-13"}]},{"name":"innerOut_up5aavev3","title":"String 5","links":[{"portIn":"Text","portOut":"innerOut_up5aavev3","objIn":"bp6-18","objOut":"bp6-13"}]},{"name":"innerOut_z8abbllq9","title":"Enable 6","links":[{"portIn":"Visible","portOut":"innerOut_z8abbllq9","objIn":"bp6-19","objOut":"bp6-13"}]},{"name":"innerOut_3of139532","title":"String 6","links":[{"portIn":"Text","portOut":"innerOut_3of139532","objIn":"bp6-19","objOut":"bp6-13"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp6-14","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"innerIn_43z0xm2ij","title":"Close"},{"name":"innerIn_t0obwgtww","title":"Button 1"},{"name":"innerIn_013f6ffi7","title":"Button 2"},{"name":"innerIn_cyw007cj3","title":"Button 3"},{"name":"innerIn_ehnih43tt","title":"Button 4"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp6-15","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Default","value":0}],"portsOut":[{"name":"result","links":[{"portIn":"Visible","portOut":"result","objIn":"bp6-0","objOut":"bp6-15"}]}],"objName":"Ops.Boolean.ToggleBool_v2"},{"id":"bp6-16","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 5","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-16"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_ehnih43tt","portOut":"Clicked","objIn":"bp6-14","objOut":"bp6-16"},{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-16"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-17","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"value","value":""},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","value":""}],"objName":"Ops.String.StringEditor"},{"id":"bp6-18","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 6","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-18"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-18"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-19","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 7","portOut":"DOM Element","objIn":"bp6-7","objOut":"bp6-19"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"exe","portOut":"Clicked","objIn":"bp6-20","objOut":"bp6-19"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp6-20","uiAttribs":{"subPatch":"uhvdnldcp"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"trigger","portOut":"next","objIn":"bp6-15","objOut":"bp6-20"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"}]}'};const x=e.inTrigger("wc7xjxfxx");x.setUiAttribs({title:"Mainloop"});const I=e.inTrigger("jkgyh3kxu");I.setUiAttribs({title:"Open-Close"});const S=e.inFloat("nv2xz3y87",0);S.setUiAttribs({title:"Enable 1",display:"bool"});const j=e.inString("ub3mqqtdd","");j.setUiAttribs({title:"String 1"});const _=e.inFloat("n2tjog8gu",0);_.setUiAttribs({title:"Enable 2",display:"bool"});const A=e.inString("3jvojxwe9","");A.setUiAttribs({title:"String 2"});const T=e.inFloat("lmmev5kvn",0);T.setUiAttribs({title:"Enable 3",display:"bool"});const C=e.inString("0io5ed43a","");C.setUiAttribs({title:"String 3"});const w=e.inFloat("rzkhmfr8a",0);w.setUiAttribs({title:"Enable 4",display:"bool"});const k=e.inString("5fx1n7v3d","");k.setUiAttribs({title:"String 4"});const N=e.inFloat("5gsf1p0tl",0);N.setUiAttribs({title:"Enable 5",display:"bool"});const P=e.inString("up5aavev3","");P.setUiAttribs({title:"String 5"});const E=e.inFloat("z8abbllq9",0);E.setUiAttribs({title:"Enable 6",display:"bool"});const L=e.inString("3of139532","");L.setUiAttribs({title:"String 6"});const D=e.outTrigger("43z0xm2ij");D.setUiAttribs({title:"Close"});const M=e.outTrigger("t0obwgtww");M.setUiAttribs({title:"Button 1"});const B=e.outTrigger("013f6ffi7");B.setUiAttribs({title:"Button 2"});const z=e.outTrigger("cyw007cj3");z.setUiAttribs({title:"Button 3"});const V=e.outTrigger("ehnih43tt");V.setUiAttribs({title:"Button 4"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_wc7xjxfxx");n.setUiAttribs({title:"Mainloop"});x.onTriggered=()=>{n.trigger()};const r=t[e].outTrigger("innerOut_jkgyh3kxu");r.setUiAttribs({title:"Open-Close"});I.onTriggered=()=>{r.trigger()};const a=t[e].outNumber("innerOut_nv2xz3y87");a.set(S.get());a.setUiAttribs({title:"Enable 1"});S.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_ub3mqqtdd");i.set(j.get());i.setUiAttribs({title:"String 1"});j.on("change",(e,t)=>{i.set(e)});const o=t[e].outNumber("innerOut_n2tjog8gu");o.set(_.get());o.setUiAttribs({title:"Enable 2"});_.on("change",(e,t)=>{o.set(e)});const s=t[e].outString("innerOut_3jvojxwe9");s.set(A.get());s.setUiAttribs({title:"String 2"});A.on("change",(e,t)=>{s.set(e)});const u=t[e].outNumber("innerOut_lmmev5kvn");u.set(T.get());u.setUiAttribs({title:"Enable 3"});T.on("change",(e,t)=>{u.set(e)});const l=t[e].outString("innerOut_0io5ed43a");l.set(C.get());l.setUiAttribs({title:"String 3"});C.on("change",(e,t)=>{l.set(e)});const p=t[e].outNumber("innerOut_rzkhmfr8a");p.set(w.get());p.setUiAttribs({title:"Enable 4"});w.on("change",(e,t)=>{p.set(e)});const c=t[e].outString("innerOut_5fx1n7v3d");c.set(k.get());c.setUiAttribs({title:"String 4"});k.on("change",(e,t)=>{c.set(e)});const d=t[e].outNumber("innerOut_5gsf1p0tl");d.set(N.get());d.setUiAttribs({title:"Enable 5"});N.on("change",(e,t)=>{d.set(e)});const g=t[e].outString("innerOut_up5aavev3");g.set(P.get());g.setUiAttribs({title:"String 5"});P.on("change",(e,t)=>{g.set(e)});const m=t[e].outNumber("innerOut_z8abbllq9");m.set(E.get());m.setUiAttribs({title:"Enable 6"});E.on("change",(e,t)=>{m.set(e)});const b=t[e].outString("innerOut_3of139532");b.set(L.get());b.setUiAttribs({title:"String 6"});L.on("change",(e,t)=>{b.set(e)})}if(t[e].innerOutput){const h=t[e].inTrigger("innerIn_43z0xm2ij");h.setUiAttribs({title:"Close"});h.onTriggered=()=>{D.trigger()};const f=t[e].inTrigger("innerIn_t0obwgtww");f.setUiAttribs({title:"Button 1"});f.onTriggered=()=>{M.trigger()};const v=t[e].inTrigger("innerIn_013f6ffi7");v.setUiAttribs({title:"Button 2"});v.onTriggered=()=>{B.trigger()};const O=t[e].inTrigger("innerIn_cyw007cj3");O.setUiAttribs({title:"Button 3"});O.onTriggered=()=>{z.trigger()};const y=t[e].inTrigger("innerIn_ehnih43tt");y.setUiAttribs({title:"Button 4"});y.onTriggered=()=>{V.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.PopupMenu.prototype=new CABLES.Op;CABLES.OPS["6bced61d-78f7-4872-894b-5759aad658ab"]={f:Ops.User.rambodc.PopupMenu,objName:"Ops.User.rambodc.PopupMenu"};Ops.User.rambodc.LoaderMsg=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_02t7hzmhk=op.inFloat("02t7hzmhk",false);\nport_02t7hzmhk.setUiAttribs({title:"Visible",display:"bool",});\n\nconst port_gy342pc5t=op.inString("gy342pc5t","loading ..");\nport_gy342pc5t.setUiAttribs({title:"Short Msg",});\nport_gy342pc5t.setUiAttribs({"values":[""]});\n\nconst port_tyq5lu94r=op.inFloat("tyq5lu94r",0.5);\nport_tyq5lu94r.setUiAttribs({title:"Delay False",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_02t7hzmhk = addedOps[i].outNumber("innerOut_02t7hzmhk");\ninnerOut_02t7hzmhk.set(port_02t7hzmhk.get() );\ninnerOut_02t7hzmhk.setUiAttribs({title:"Visible"});\nport_02t7hzmhk.on("change", (a,v) => { innerOut_02t7hzmhk.set(a); });\n\nconst innerOut_gy342pc5t = addedOps[i].outString("innerOut_gy342pc5t");\ninnerOut_gy342pc5t.set(port_gy342pc5t.get() );\ninnerOut_gy342pc5t.setUiAttribs({title:"Short Msg"});\nport_gy342pc5t.on("change", (a,v) => { innerOut_gy342pc5t.set(a); });\n\nconst innerOut_tyq5lu94r = addedOps[i].outNumber("innerOut_tyq5lu94r");\ninnerOut_tyq5lu94r.set(port_tyq5lu94r.get() );\ninnerOut_tyq5lu94r.setUiAttribs({title:"Delay False"});\nport_tyq5lu94r.on("change", (a,v) => { innerOut_tyq5lu94r.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp7-0","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Interactive","value":0},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp7-1","objOut":"bp7-0"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp7-1","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp7-2","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:999999;\\nbackground-color: rgba(1,1,1,0.2);\\npadding:15px;\\nborder-radius: 10px;\\nfont-size: 18px;\\nleft: 50%;\\ntop: 50%;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\n\\n\\n  /*  height: 100%;  /* Set a fixed height */\\n  /*  overflow: auto;  /* Add scroll if content overflows */"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp7-3","objOut":"bp7-2"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp7-3","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsOut":[{"name":"Parent Out","links":[{"portIn":"Child 1","portOut":"Parent Out","objIn":"bp7-1","objOut":"bp7-3"}]}],"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp7-4","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"value","value":"position:absolute;\\nz-index:9999991;\\nheight: 100%;\\nwidth: 100%;\\nbackground-color: $a;"},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","links":[{"portIn":"Format","portOut":"Result","objIn":"bp7-5","objOut":"bp7-4"}]}],"objName":"Ops.String.StringEditor"},{"id":"bp7-5","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Style","portOut":"Result","objIn":"bp7-0","objOut":"bp7-5"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp7-6","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Variable","value":"themeColors"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp7-7","objOut":"bp7-6"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp7-7","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Path","value":"BackgroundColorRGB"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp7-5","objOut":"bp7-7"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp7-8","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsOut":[{"name":"innerOut_02t7hzmhk","title":"Visible","links":[{"portIn":"Value","portOut":"innerOut_02t7hzmhk","objIn":"bp7-12","objOut":"bp7-8"}]},{"name":"innerOut_gy342pc5t","title":"Short Msg","links":[{"portIn":"Text","portOut":"innerOut_gy342pc5t","objIn":"bp7-10","objOut":"bp7-8"}]},{"name":"innerOut_tyq5lu94r","title":"Delay False","links":[{"portIn":"Delay False","portOut":"innerOut_tyq5lu94r","objIn":"bp7-12","objOut":"bp7-8"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp7-9","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp7-10","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"text-align: center;\\ncolor: white;\\nfont-size: 14px;\\n"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 2","portOut":"DOM Element","objIn":"bp7-3","objOut":"bp7-10"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp7-11","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":"progressSpinner"},{"name":"Style","value":""},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 1","portOut":"DOM Element","objIn":"bp7-3","objOut":"bp7-11"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp7-12","uiAttribs":{"subPatch":"xx2sbcork"},"storage":{},"portsIn":[{"name":"Delay True","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp7-0","objOut":"bp7-12"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"}]}'};const i=e.inFloat("02t7hzmhk",false);i.setUiAttribs({title:"Visible",display:"bool"});const o=e.inString("gy342pc5t","loading ..");o.setUiAttribs({title:"Short Msg"});o.setUiAttribs({values:[""]});const s=e.inFloat("tyq5lu94r",.5);s.setUiAttribs({title:"Delay False"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outNumber("innerOut_02t7hzmhk");n.set(i.get());n.setUiAttribs({title:"Visible"});i.on("change",(e,t)=>{n.set(e)});const r=t[e].outString("innerOut_gy342pc5t");r.set(o.get());r.setUiAttribs({title:"Short Msg"});o.on("change",(e,t)=>{r.set(e)});const a=t[e].outNumber("innerOut_tyq5lu94r");a.set(s.get());a.setUiAttribs({title:"Delay False"});s.on("change",(e,t)=>{a.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.LoaderMsg.prototype=new CABLES.Op;CABLES.OPS["64c4d2b5-fc8e-4682-ac97-0f81f58f5246"]={f:Ops.User.rambodc.LoaderMsg,objName:"Ops.User.rambodc.LoaderMsg"};Ops.User.rambodc.PopupConfirm=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_wc7xjxfxx=op.inTrigger("wc7xjxfxx");\nport_wc7xjxfxx.setUiAttribs({title:"Mainloop",display:"button",});\nport_wc7xjxfxx.setUiAttribs({"values":[""]});\n\nconst port_jkgyh3kxu=op.inTrigger("jkgyh3kxu");\nport_jkgyh3kxu.setUiAttribs({title:"Open-Close",display:"button",});\nport_jkgyh3kxu.setUiAttribs({"values":[""]});\n\nconst port_fccmfmizk=op.inString("fccmfmizk","");\nport_fccmfmizk.setUiAttribs({title:"Title",});\n\nconst port_yg7pzsd2h=op.inString("yg7pzsd2h","");\nport_yg7pzsd2h.setUiAttribs({title:"Description",});\n\nconst port_dh4z8d352=op.inString("dh4z8d352","");\nport_dh4z8d352.setUiAttribs({title:"Confirm Name",});\n\nconst port_m7xnkx5rp=op.inString("m7xnkx5rp","");\nport_m7xnkx5rp.setUiAttribs({title:"Cancel Name",});\n\nconst port_43z0xm2ij=op.outTrigger("43z0xm2ij");\nport_43z0xm2ij.setUiAttribs({title:"Confirm",});\n\nconst port_t0obwgtww=op.outTrigger("t0obwgtww");\nport_t0obwgtww.setUiAttribs({title:"Cancel",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_wc7xjxfxx = addedOps[i].outTrigger("innerOut_wc7xjxfxx");\ninnerOut_wc7xjxfxx.setUiAttribs({title:"Mainloop"});\nport_wc7xjxfxx.onTriggered = () => { innerOut_wc7xjxfxx.trigger(); };\n\nconst innerOut_jkgyh3kxu = addedOps[i].outTrigger("innerOut_jkgyh3kxu");\ninnerOut_jkgyh3kxu.setUiAttribs({title:"Open-Close"});\nport_jkgyh3kxu.onTriggered = () => { innerOut_jkgyh3kxu.trigger(); };\n\nconst innerOut_fccmfmizk = addedOps[i].outString("innerOut_fccmfmizk");\ninnerOut_fccmfmizk.set(port_fccmfmizk.get() );\ninnerOut_fccmfmizk.setUiAttribs({title:"Title"});\nport_fccmfmizk.on("change", (a,v) => { innerOut_fccmfmizk.set(a); });\n\nconst innerOut_yg7pzsd2h = addedOps[i].outString("innerOut_yg7pzsd2h");\ninnerOut_yg7pzsd2h.set(port_yg7pzsd2h.get() );\ninnerOut_yg7pzsd2h.setUiAttribs({title:"Description"});\nport_yg7pzsd2h.on("change", (a,v) => { innerOut_yg7pzsd2h.set(a); });\n\nconst innerOut_dh4z8d352 = addedOps[i].outString("innerOut_dh4z8d352");\ninnerOut_dh4z8d352.set(port_dh4z8d352.get() );\ninnerOut_dh4z8d352.setUiAttribs({title:"Confirm Name"});\nport_dh4z8d352.on("change", (a,v) => { innerOut_dh4z8d352.set(a); });\n\nconst innerOut_m7xnkx5rp = addedOps[i].outString("innerOut_m7xnkx5rp");\ninnerOut_m7xnkx5rp.set(port_m7xnkx5rp.get() );\ninnerOut_m7xnkx5rp.setUiAttribs({title:"Cancel Name"});\nport_m7xnkx5rp.on("change", (a,v) => { innerOut_m7xnkx5rp.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_43z0xm2ij = addedOps[i].inTrigger("innerIn_43z0xm2ij");\ninnerIn_43z0xm2ij.setUiAttribs({title:"Confirm"});\ninnerIn_43z0xm2ij.onTriggered = () => { port_43z0xm2ij.trigger(); };\n\nconst innerIn_t0obwgtww = addedOps[i].inTrigger("innerIn_t0obwgtww");\ninnerIn_t0obwgtww.setUiAttribs({title:"Cancel"});\ninnerIn_t0obwgtww.onTriggered = () => { port_t0obwgtww.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp8-0","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Interactive","value":false},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":false}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp8-5","objOut":"bp8-0"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp8-1","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"value","value":"position:absolute;\\nz-index:9999991;\\nheight: 100%;\\nwidth: 100%;\\nbackground-color: $a;"},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","links":[{"portIn":"Format","portOut":"Result","objIn":"bp8-2","objOut":"bp8-1"}]}],"objName":"Ops.String.StringEditor"},{"id":"bp8-2","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Style","portOut":"Result","objIn":"bp8-0","objOut":"bp8-2"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp8-3","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Variable","value":"themeColors"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp8-4","objOut":"bp8-3"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp8-4","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Path","value":"BackgroundColorRGB"},{"name":"Output path if missing","value":false}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp8-2","objOut":"bp8-4"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp8-5","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp8-6","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:999999;\\nbackground-color: rgba(135,135,135,1);\\npadding:10px;\\nborder-radius: 10px;\\nfont-size: 18px;\\nleft: 50%;\\ntop: 50%;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\nwidth: 300px;\\n\\n  /*  height: 100%;  /* Set a fixed height */\\n  /*  overflow: auto;  /* Add scroll if content overflows */\\n  \\n  \\n  \\n"},{"name":"Interactive","value":false},{"name":"Visible","value":true},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":false}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp8-7","objOut":"bp8-6"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp8-7","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsOut":[{"name":"Parent Out","links":[{"portIn":"Child 1","portOut":"Parent Out","objIn":"bp8-5","objOut":"bp8-7"}]}],"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp8-8","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":0},{"name":"Style","value":"font-size: 22px; \\npadding:10px;\\ncolor: #ffffff; \\nfont-weight: bold; \\ntext-align: center;\\nwidth: 300px;"},{"name":"Interactive","value":false},{"name":"Visible","value":true},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":true}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 1","portOut":"DOM Element","objIn":"bp8-7","objOut":"bp8-8"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp8-9","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":0},{"name":"Style","value":"font-size: 16px; \\npadding:10px;\\ncolor: #ffffff; \\nfont-weight: normal; \\ntext-align: left;\\nwidth: 300px;\\n"},{"name":"Interactive","value":false},{"name":"Visible","value":true},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":true}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 2","portOut":"DOM Element","objIn":"bp8-7","objOut":"bp8-9"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"exe","portOut":"Clicked","objIn":"bp8-15","objOut":"bp8-9"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp8-10","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":true},{"name":"Visible","value":true},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":true}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 3","portOut":"DOM Element","objIn":"bp8-7","objOut":"bp8-10"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_43z0xm2ij","portOut":"Clicked","objIn":"bp8-13","objOut":"bp8-10"},{"portIn":"exe","portOut":"Clicked","objIn":"bp8-15","objOut":"bp8-10"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp8-11","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":true},{"name":"Visible","value":true},{"name":"Convert Line Breaks","value":false},{"name":"Propagate Click-Events","value":true}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 4","portOut":"DOM Element","objIn":"bp8-7","objOut":"bp8-11"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_t0obwgtww","portOut":"Clicked","objIn":"bp8-13","objOut":"bp8-11"},{"portIn":"exe","portOut":"Clicked","objIn":"bp8-15","objOut":"bp8-11"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp8-12","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsOut":[{"name":"innerOut_jkgyh3kxu","title":"Open-Close","links":[{"portIn":"exe","portOut":"innerOut_jkgyh3kxu","objIn":"bp8-15","objOut":"bp8-12"}]},{"name":"innerOut_fccmfmizk","title":"Title","links":[{"portIn":"Text","portOut":"innerOut_fccmfmizk","objIn":"bp8-8","objOut":"bp8-12"}]},{"name":"innerOut_yg7pzsd2h","title":"Description","links":[{"portIn":"Text","portOut":"innerOut_yg7pzsd2h","objIn":"bp8-9","objOut":"bp8-12"}]},{"name":"innerOut_dh4z8d352","title":"Confirm Name","links":[{"portIn":"Text","portOut":"innerOut_dh4z8d352","objIn":"bp8-10","objOut":"bp8-12"}]},{"name":"innerOut_m7xnkx5rp","title":"Cancel Name","links":[{"portIn":"Text","portOut":"innerOut_m7xnkx5rp","objIn":"bp8-11","objOut":"bp8-12"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp8-13","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"innerIn_43z0xm2ij","title":"Confirm"},{"name":"innerIn_t0obwgtww","title":"Cancel"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp8-14","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"Default","value":false}],"portsOut":[{"name":"result","links":[{"portIn":"Visible","portOut":"result","objIn":"bp8-0","objOut":"bp8-14"}]}],"objName":"Ops.Boolean.ToggleBool_v2"},{"id":"bp8-15","uiAttribs":{"subPatch":"axev3j71e"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"trigger","portOut":"next","objIn":"bp8-14","objOut":"bp8-15"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"}]}'};const p=e.inTrigger("wc7xjxfxx");p.setUiAttribs({title:"Mainloop",display:"button"});p.setUiAttribs({values:[""]});const c=e.inTrigger("jkgyh3kxu");c.setUiAttribs({title:"Open-Close",display:"button"});c.setUiAttribs({values:[""]});const d=e.inString("fccmfmizk","");d.setUiAttribs({title:"Title"});const g=e.inString("yg7pzsd2h","");g.setUiAttribs({title:"Description"});const m=e.inString("dh4z8d352","");m.setUiAttribs({title:"Confirm Name"});const b=e.inString("m7xnkx5rp","");b.setUiAttribs({title:"Cancel Name"});const h=e.outTrigger("43z0xm2ij");h.setUiAttribs({title:"Confirm"});const f=e.outTrigger("t0obwgtww");f.setUiAttribs({title:"Cancel"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_wc7xjxfxx");n.setUiAttribs({title:"Mainloop"});p.onTriggered=()=>{n.trigger()};const r=t[e].outTrigger("innerOut_jkgyh3kxu");r.setUiAttribs({title:"Open-Close"});c.onTriggered=()=>{r.trigger()};const a=t[e].outString("innerOut_fccmfmizk");a.set(d.get());a.setUiAttribs({title:"Title"});d.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_yg7pzsd2h");i.set(g.get());i.setUiAttribs({title:"Description"});g.on("change",(e,t)=>{i.set(e)});const o=t[e].outString("innerOut_dh4z8d352");o.set(m.get());o.setUiAttribs({title:"Confirm Name"});m.on("change",(e,t)=>{o.set(e)});const s=t[e].outString("innerOut_m7xnkx5rp");s.set(b.get());s.setUiAttribs({title:"Cancel Name"});b.on("change",(e,t)=>{s.set(e)})}if(t[e].innerOutput){const u=t[e].inTrigger("innerIn_43z0xm2ij");u.setUiAttribs({title:"Confirm"});u.onTriggered=()=>{h.trigger()};const l=t[e].inTrigger("innerIn_t0obwgtww");l.setUiAttribs({title:"Cancel"});l.onTriggered=()=>{f.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.PopupConfirm.prototype=new CABLES.Op;CABLES.OPS["713c7ea4-b4fd-4c2e-9755-12098282ee0a"]={f:Ops.User.rambodc.PopupConfirm,objName:"Ops.User.rambodc.PopupConfirm"};Ops.User.rambodc.PopupMessage=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_wc7xjxfxx=op.inTrigger("wc7xjxfxx");\nport_wc7xjxfxx.setUiAttribs({title:"Mainloop",display:"button",});\nport_wc7xjxfxx.setUiAttribs({"values":[""]});\n\nconst port_jkgyh3kxu=op.inTrigger("jkgyh3kxu");\nport_jkgyh3kxu.setUiAttribs({title:"Open-Close",display:"button",});\nport_jkgyh3kxu.setUiAttribs({"values":[""]});\n\nconst port_fccmfmizk=op.inString("fccmfmizk","");\nport_fccmfmizk.setUiAttribs({title:"Title",});\n\nconst port_yg7pzsd2h=op.inString("yg7pzsd2h","");\nport_yg7pzsd2h.setUiAttribs({title:"Description",});\n\nconst port_dh4z8d352=op.inString("dh4z8d352","");\nport_dh4z8d352.setUiAttribs({title:"Confirm Name",});\n\nconst port_m7xnkx5rp=op.inString("m7xnkx5rp","");\nport_m7xnkx5rp.setUiAttribs({title:"Cancel Name",});\n\nconst port_43z0xm2ij=op.outTrigger("43z0xm2ij");\nport_43z0xm2ij.setUiAttribs({title:"Confirm",});\n\nconst port_t0obwgtww=op.outTrigger("t0obwgtww");\nport_t0obwgtww.setUiAttribs({title:"Cancel",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_wc7xjxfxx = addedOps[i].outTrigger("innerOut_wc7xjxfxx");\ninnerOut_wc7xjxfxx.setUiAttribs({title:"Mainloop"});\nport_wc7xjxfxx.onTriggered = () => { innerOut_wc7xjxfxx.trigger(); };\n\nconst innerOut_jkgyh3kxu = addedOps[i].outTrigger("innerOut_jkgyh3kxu");\ninnerOut_jkgyh3kxu.setUiAttribs({title:"Open-Close"});\nport_jkgyh3kxu.onTriggered = () => { innerOut_jkgyh3kxu.trigger(); };\n\nconst innerOut_fccmfmizk = addedOps[i].outString("innerOut_fccmfmizk");\ninnerOut_fccmfmizk.set(port_fccmfmizk.get() );\ninnerOut_fccmfmizk.setUiAttribs({title:"Title"});\nport_fccmfmizk.on("change", (a,v) => { innerOut_fccmfmizk.set(a); });\n\nconst innerOut_yg7pzsd2h = addedOps[i].outString("innerOut_yg7pzsd2h");\ninnerOut_yg7pzsd2h.set(port_yg7pzsd2h.get() );\ninnerOut_yg7pzsd2h.setUiAttribs({title:"Description"});\nport_yg7pzsd2h.on("change", (a,v) => { innerOut_yg7pzsd2h.set(a); });\n\nconst innerOut_dh4z8d352 = addedOps[i].outString("innerOut_dh4z8d352");\ninnerOut_dh4z8d352.set(port_dh4z8d352.get() );\ninnerOut_dh4z8d352.setUiAttribs({title:"Confirm Name"});\nport_dh4z8d352.on("change", (a,v) => { innerOut_dh4z8d352.set(a); });\n\nconst innerOut_m7xnkx5rp = addedOps[i].outString("innerOut_m7xnkx5rp");\ninnerOut_m7xnkx5rp.set(port_m7xnkx5rp.get() );\ninnerOut_m7xnkx5rp.setUiAttribs({title:"Cancel Name"});\nport_m7xnkx5rp.on("change", (a,v) => { innerOut_m7xnkx5rp.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_43z0xm2ij = addedOps[i].inTrigger("innerIn_43z0xm2ij");\ninnerIn_43z0xm2ij.setUiAttribs({title:"Confirm"});\ninnerIn_43z0xm2ij.onTriggered = () => { port_43z0xm2ij.trigger(); };\n\nconst innerIn_t0obwgtww = addedOps[i].inTrigger("innerIn_t0obwgtww");\ninnerIn_t0obwgtww.setUiAttribs({title:"Cancel"});\ninnerIn_t0obwgtww.onTriggered = () => { port_t0obwgtww.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp9-0","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Interactive","value":0},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp9-5","objOut":"bp9-0"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp9-1","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"value","value":"position:absolute;\\nz-index:9999991;\\nheight: 100%;\\nwidth: 100%;\\nbackground-color: $a;"},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","links":[{"portIn":"Format","portOut":"Result","objIn":"bp9-2","objOut":"bp9-1"}]}],"objName":"Ops.String.StringEditor"},{"id":"bp9-2","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Style","portOut":"Result","objIn":"bp9-0","objOut":"bp9-2"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp9-3","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Variable","value":"themeColors"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp9-4","objOut":"bp9-3"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp9-4","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Path","value":"BackgroundColorRGB"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp9-2","objOut":"bp9-4"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp9-5","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp9-6","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:999999;\\nbackground-color: rgba(135,135,135,1);\\npadding:10px;\\nborder-radius: 10px;\\nfont-size: 18px;\\nleft: 50%;\\ntop: 50%;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\nwidth: 300px;\\n\\n  /*  height: 100%;  /* Set a fixed height */\\n  /*  overflow: auto;  /* Add scroll if content overflows */\\n  \\n  \\n  \\n"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp9-7","objOut":"bp9-6"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp9-7","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsOut":[{"name":"Parent Out","links":[{"portIn":"Child 1","portOut":"Parent Out","objIn":"bp9-5","objOut":"bp9-7"}]}],"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp9-8","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":0},{"name":"Style","value":"font-size: 18px; \\npadding:10px;\\ncolor: #ffffff; \\nfont-weight: bold; \\ntext-align: center;\\nwidth: 300px;"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 1","portOut":"DOM Element","objIn":"bp9-7","objOut":"bp9-8"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp9-9","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":0},{"name":"Style","value":"font-size: 14px; \\npadding:10px;\\ncolor: #ffffff; \\nfont-weight: normal; \\ntext-align: left;\\nwidth: 300px;\\n"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 2","portOut":"DOM Element","objIn":"bp9-7","objOut":"bp9-9"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"exe","portOut":"Clicked","objIn":"bp9-14","objOut":"bp9-9"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp9-10","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":"popupMenuButton"},{"name":"Style","value":""},{"name":"Interactive","value":1},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 3","portOut":"DOM Element","objIn":"bp9-7","objOut":"bp9-10"}]},{"name":"Hover","value":0},{"name":"Clicked","links":[{"portIn":"innerIn_43z0xm2ij","portOut":"Clicked","objIn":"bp9-12","objOut":"bp9-10"},{"portIn":"exe","portOut":"Clicked","objIn":"bp9-14","objOut":"bp9-10"}]}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp9-11","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsOut":[{"name":"innerOut_jkgyh3kxu","title":"Open-Close","links":[{"portIn":"exe","portOut":"innerOut_jkgyh3kxu","objIn":"bp9-14","objOut":"bp9-11"}]},{"name":"innerOut_fccmfmizk","title":"Title","links":[{"portIn":"Text","portOut":"innerOut_fccmfmizk","objIn":"bp9-8","objOut":"bp9-11"}]},{"name":"innerOut_yg7pzsd2h","title":"Description","links":[{"portIn":"Text","portOut":"innerOut_yg7pzsd2h","objIn":"bp9-9","objOut":"bp9-11"}]},{"name":"innerOut_dh4z8d352","title":"Confirm Name","links":[{"portIn":"Text","portOut":"innerOut_dh4z8d352","objIn":"bp9-10","objOut":"bp9-11"}]},{"name":"innerOut_m7xnkx5rp","value":"","title":"Cancel Name"}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp9-12","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"innerIn_43z0xm2ij","title":"Confirm"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp9-13","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"Default","value":0}],"portsOut":[{"name":"result","links":[{"portIn":"Visible","portOut":"result","objIn":"bp9-0","objOut":"bp9-13"}]}],"objName":"Ops.Boolean.ToggleBool_v2"},{"id":"bp9-14","uiAttribs":{"subPatch":"r6qrmopjw"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"trigger","portOut":"next","objIn":"bp9-13","objOut":"bp9-14"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"}]}'};const p=e.inTrigger("wc7xjxfxx");p.setUiAttribs({title:"Mainloop",display:"button"});p.setUiAttribs({values:[""]});const c=e.inTrigger("jkgyh3kxu");c.setUiAttribs({title:"Open-Close",display:"button"});c.setUiAttribs({values:[""]});const d=e.inString("fccmfmizk","");d.setUiAttribs({title:"Title"});const g=e.inString("yg7pzsd2h","");g.setUiAttribs({title:"Description"});const m=e.inString("dh4z8d352","");m.setUiAttribs({title:"Confirm Name"});const b=e.inString("m7xnkx5rp","");b.setUiAttribs({title:"Cancel Name"});const h=e.outTrigger("43z0xm2ij");h.setUiAttribs({title:"Confirm"});const f=e.outTrigger("t0obwgtww");f.setUiAttribs({title:"Cancel"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_wc7xjxfxx");n.setUiAttribs({title:"Mainloop"});p.onTriggered=()=>{n.trigger()};const r=t[e].outTrigger("innerOut_jkgyh3kxu");r.setUiAttribs({title:"Open-Close"});c.onTriggered=()=>{r.trigger()};const a=t[e].outString("innerOut_fccmfmizk");a.set(d.get());a.setUiAttribs({title:"Title"});d.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_yg7pzsd2h");i.set(g.get());i.setUiAttribs({title:"Description"});g.on("change",(e,t)=>{i.set(e)});const o=t[e].outString("innerOut_dh4z8d352");o.set(m.get());o.setUiAttribs({title:"Confirm Name"});m.on("change",(e,t)=>{o.set(e)});const s=t[e].outString("innerOut_m7xnkx5rp");s.set(b.get());s.setUiAttribs({title:"Cancel Name"});b.on("change",(e,t)=>{s.set(e)})}if(t[e].innerOutput){const u=t[e].inTrigger("innerIn_43z0xm2ij");u.setUiAttribs({title:"Confirm"});u.onTriggered=()=>{h.trigger()};const l=t[e].inTrigger("innerIn_t0obwgtww");l.setUiAttribs({title:"Cancel"});l.onTriggered=()=>{f.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.PopupMessage.prototype=new CABLES.Op;CABLES.OPS["d5037d7f-9176-4b59-83a8-d6c21aa4d8d1"]={f:Ops.User.rambodc.PopupMessage,objName:"Ops.User.rambodc.PopupMessage"};Ops.User.rambodc.SetURL=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_n6dz5ut5m=op.inTrigger("n6dz5ut5m");\nport_n6dz5ut5m.setUiAttribs({title:"Trigger",display:"button",});\n\nconst port_lgwr24sd3=op.inString("lgwr24sd3","");\nport_lgwr24sd3.setUiAttribs({title:"Directory 1",});\n\nconst port_t9sx2ey0f=op.inString("t9sx2ey0f","");\nport_t9sx2ey0f.setUiAttribs({title:"Directory 2",});\n\nconst port_1ovs04j4c=op.inString("1ovs04j4c","");\nport_1ovs04j4c.setUiAttribs({title:"Directory 3",});\n\nconst port_l3dmhco3f=op.inString("l3dmhco3f","");\nport_l3dmhco3f.setUiAttribs({title:"Directory 4",});\n\nconst port_u4qh8rfom=op.inString("u4qh8rfom","");\nport_u4qh8rfom.setUiAttribs({title:"Directory 5",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_n6dz5ut5m = addedOps[i].outTrigger("innerOut_n6dz5ut5m");\ninnerOut_n6dz5ut5m.setUiAttribs({title:"Trigger"});\nport_n6dz5ut5m.onTriggered = () => { innerOut_n6dz5ut5m.trigger(); };\n\nconst innerOut_lgwr24sd3 = addedOps[i].outString("innerOut_lgwr24sd3");\ninnerOut_lgwr24sd3.set(port_lgwr24sd3.get() );\ninnerOut_lgwr24sd3.setUiAttribs({title:"Directory 1"});\nport_lgwr24sd3.on("change", (a,v) => { innerOut_lgwr24sd3.set(a); });\n\nconst innerOut_t9sx2ey0f = addedOps[i].outString("innerOut_t9sx2ey0f");\ninnerOut_t9sx2ey0f.set(port_t9sx2ey0f.get() );\ninnerOut_t9sx2ey0f.setUiAttribs({title:"Directory 2"});\nport_t9sx2ey0f.on("change", (a,v) => { innerOut_t9sx2ey0f.set(a); });\n\nconst innerOut_1ovs04j4c = addedOps[i].outString("innerOut_1ovs04j4c");\ninnerOut_1ovs04j4c.set(port_1ovs04j4c.get() );\ninnerOut_1ovs04j4c.setUiAttribs({title:"Directory 3"});\nport_1ovs04j4c.on("change", (a,v) => { innerOut_1ovs04j4c.set(a); });\n\nconst innerOut_l3dmhco3f = addedOps[i].outString("innerOut_l3dmhco3f");\ninnerOut_l3dmhco3f.set(port_l3dmhco3f.get() );\ninnerOut_l3dmhco3f.setUiAttribs({title:"Directory 4"});\nport_l3dmhco3f.on("change", (a,v) => { innerOut_l3dmhco3f.set(a); });\n\nconst innerOut_u4qh8rfom = addedOps[i].outString("innerOut_u4qh8rfom");\ninnerOut_u4qh8rfom.set(port_u4qh8rfom.get() );\ninnerOut_u4qh8rfom.setUiAttribs({title:"Directory 5"});\nport_u4qh8rfom.on("change", (a,v) => { innerOut_u4qh8rfom.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp10-0","uiAttribs":{"subPatch":"unedqe2aw"},"storage":{},"portsOut":[{"name":"innerOut_n6dz5ut5m","title":"Trigger","links":[{"portIn":"Update","portOut":"innerOut_n6dz5ut5m","objIn":"bp10-2","objOut":"bp10-0"}]},{"name":"innerOut_lgwr24sd3","title":"Directory 1","links":[{"portIn":"String A","portOut":"innerOut_lgwr24sd3","objIn":"bp10-3","objOut":"bp10-0"}]},{"name":"innerOut_t9sx2ey0f","title":"Directory 2","links":[{"portIn":"String B","portOut":"innerOut_t9sx2ey0f","objIn":"bp10-3","objOut":"bp10-0"}]},{"name":"innerOut_1ovs04j4c","title":"Directory 3","links":[{"portIn":"String C","portOut":"innerOut_1ovs04j4c","objIn":"bp10-3","objOut":"bp10-0"}]},{"name":"innerOut_l3dmhco3f","title":"Directory 4","links":[{"portIn":"String D","portOut":"innerOut_l3dmhco3f","objIn":"bp10-3","objOut":"bp10-0"}]},{"name":"innerOut_u4qh8rfom","title":"Directory 5","links":[{"portIn":"String E","portOut":"innerOut_u4qh8rfom","objIn":"bp10-3","objOut":"bp10-0"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp10-1","uiAttribs":{"subPatch":"unedqe2aw"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp10-2","uiAttribs":{"subPatch":"unedqe2aw"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":0},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp10-3","uiAttribs":{"subPatch":"unedqe2aw"},"storage":{},"portsIn":[{"name":"Format","value":"$a$b$c$d"},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Hash","portOut":"Result","objIn":"bp10-2","objOut":"bp10-3"}]}],"objName":"Ops.String.StringCompose_v3"}]}'};const u=e.inTrigger("n6dz5ut5m");u.setUiAttribs({title:"Trigger",display:"button"});const l=e.inString("lgwr24sd3","");l.setUiAttribs({title:"Directory 1"});const p=e.inString("t9sx2ey0f","");p.setUiAttribs({title:"Directory 2"});const c=e.inString("1ovs04j4c","");c.setUiAttribs({title:"Directory 3"});const d=e.inString("l3dmhco3f","");d.setUiAttribs({title:"Directory 4"});const g=e.inString("u4qh8rfom","");g.setUiAttribs({title:"Directory 5"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_n6dz5ut5m");n.setUiAttribs({title:"Trigger"});u.onTriggered=()=>{n.trigger()};const r=t[e].outString("innerOut_lgwr24sd3");r.set(l.get());r.setUiAttribs({title:"Directory 1"});l.on("change",(e,t)=>{r.set(e)});const a=t[e].outString("innerOut_t9sx2ey0f");a.set(p.get());a.setUiAttribs({title:"Directory 2"});p.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_1ovs04j4c");i.set(c.get());i.setUiAttribs({title:"Directory 3"});c.on("change",(e,t)=>{i.set(e)});const o=t[e].outString("innerOut_l3dmhco3f");o.set(d.get());o.setUiAttribs({title:"Directory 4"});d.on("change",(e,t)=>{o.set(e)});const s=t[e].outString("innerOut_u4qh8rfom");s.set(g.get());s.setUiAttribs({title:"Directory 5"});g.on("change",(e,t)=>{s.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.SetURL.prototype=new CABLES.Op;CABLES.OPS["b055a923-58b3-4b46-80d1-cd522d5f4cca"]={f:Ops.User.rambodc.SetURL,objName:"Ops.User.rambodc.SetURL"};Ops.User.rambodc.LoaderMsg2=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_02t7hzmhk=op.inFloat("02t7hzmhk",false);\nport_02t7hzmhk.setUiAttribs({title:"Visible",display:"bool",});\n\nconst port_gy342pc5t=op.inString("gy342pc5t","loading ..");\nport_gy342pc5t.setUiAttribs({title:"Short Msg",});\nport_gy342pc5t.setUiAttribs({"values":[""]});\n\nconst port_tyq5lu94r=op.inFloat("tyq5lu94r",0.5);\nport_tyq5lu94r.setUiAttribs({title:"Delay False",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_02t7hzmhk = addedOps[i].outNumber("innerOut_02t7hzmhk");\ninnerOut_02t7hzmhk.set(port_02t7hzmhk.get() );\ninnerOut_02t7hzmhk.setUiAttribs({title:"Visible"});\nport_02t7hzmhk.on("change", (a,v) => { innerOut_02t7hzmhk.set(a); });\n\nconst innerOut_gy342pc5t = addedOps[i].outString("innerOut_gy342pc5t");\ninnerOut_gy342pc5t.set(port_gy342pc5t.get() );\ninnerOut_gy342pc5t.setUiAttribs({title:"Short Msg"});\nport_gy342pc5t.on("change", (a,v) => { innerOut_gy342pc5t.set(a); });\n\nconst innerOut_tyq5lu94r = addedOps[i].outNumber("innerOut_tyq5lu94r");\ninnerOut_tyq5lu94r.set(port_tyq5lu94r.get() );\ninnerOut_tyq5lu94r.setUiAttribs({title:"Delay False"});\nport_tyq5lu94r.on("change", (a,v) => { innerOut_tyq5lu94r.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp11-0","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Interactive","value":0},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp11-1","objOut":"bp11-0"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp11-1","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp11-2","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"position:absolute;\\nz-index:999999;\\nbackground-color: rgba(1,1,1,0.9);\\npadding:15px;\\nborder-radius: 10px;\\nfont-size: 18px;\\nleft: 50%;\\ntop: 50%;\\ntransform: translate(-50%, -50%);  /* This shifts the element back by half of its width and height */\\n\\n\\n  /*  height: 100%;  /* Set a fixed height */\\n  /*  overflow: auto;  /* Add scroll if content overflows */"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":0}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Parent","portOut":"DOM Element","objIn":"bp11-3","objOut":"bp11-2"}]},{"name":"Hover","value":0}],"objName":"Ops.Html.DivElement_v3"},{"id":"bp11-3","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsOut":[{"name":"Parent Out","links":[{"portIn":"Child 1","portOut":"Parent Out","objIn":"bp11-1","objOut":"bp11-3"}]}],"objName":"Ops.Html.ElementChilds_v2"},{"id":"bp11-4","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"value","value":"position:absolute;\\nz-index:9999991;\\nheight: 100%;\\nwidth: 100%;\\nbackground-color: $a;"},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"}],"portsOut":[{"name":"Result","links":[{"portIn":"Format","portOut":"Result","objIn":"bp11-5","objOut":"bp11-4"}]}],"objName":"Ops.String.StringEditor"},{"id":"bp11-5","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"String A","value":" rgb(40, 44, 48, 0.1)"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Style","portOut":"Result","objIn":"bp11-0","objOut":"bp11-5"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp11-6","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsOut":[{"name":"innerOut_02t7hzmhk","title":"Visible","links":[{"portIn":"Value","portOut":"innerOut_02t7hzmhk","objIn":"bp11-10","objOut":"bp11-6"}]},{"name":"innerOut_gy342pc5t","title":"Short Msg","links":[{"portIn":"Text","portOut":"innerOut_gy342pc5t","objIn":"bp11-8","objOut":"bp11-6"}]},{"name":"innerOut_tyq5lu94r","title":"Delay False","links":[{"portIn":"Delay False","portOut":"innerOut_tyq5lu94r","objIn":"bp11-10","objOut":"bp11-6"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp11-7","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp11-8","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Class","value":""},{"name":"Style","value":"text-align: center;\\ncolor: white;\\nfont-size: 14px;\\n"},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 2","portOut":"DOM Element","objIn":"bp11-3","objOut":"bp11-8"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp11-9","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Id","value":""},{"name":"Class","value":"progressSpinner"},{"name":"Style","value":""},{"name":"Interactive","value":0},{"name":"Visible","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Propagate Click-Events","value":1}],"portsOut":[{"name":"DOM Element","links":[{"portIn":"Child 1","portOut":"DOM Element","objIn":"bp11-3","objOut":"bp11-9"}]},{"name":"Hover","value":0}],"objName":"Ops.User.rambodc.DivElement_ClickFix"},{"id":"bp11-10","uiAttribs":{"subPatch":"meeigj44f"},"storage":{},"portsIn":[{"name":"Delay True","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp11-0","objOut":"bp11-10"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"}]}'};const i=e.inFloat("02t7hzmhk",false);i.setUiAttribs({title:"Visible",display:"bool"});const o=e.inString("gy342pc5t","loading ..");o.setUiAttribs({title:"Short Msg"});o.setUiAttribs({values:[""]});const s=e.inFloat("tyq5lu94r",.5);s.setUiAttribs({title:"Delay False"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outNumber("innerOut_02t7hzmhk");n.set(i.get());n.setUiAttribs({title:"Visible"});i.on("change",(e,t)=>{n.set(e)});const r=t[e].outString("innerOut_gy342pc5t");r.set(o.get());r.setUiAttribs({title:"Short Msg"});o.on("change",(e,t)=>{r.set(e)});const a=t[e].outNumber("innerOut_tyq5lu94r");a.set(s.get());a.setUiAttribs({title:"Delay False"});s.on("change",(e,t)=>{a.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.LoaderMsg2.prototype=new CABLES.Op;CABLES.OPS["3b538826-5ffa-46f1-898f-ceb622adb5c0"]={f:Ops.User.rambodc.LoaderMsg2,objName:"Ops.User.rambodc.LoaderMsg2"};Ops.User.rambodc.PageE=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_zap5t5tri=op.inTrigger("zap5t5tri");\nport_zap5t5tri.setUiAttribs({title:"Mainloop",});\n\nconst port_9ozpectyq=op.inTrigger("9ozpectyq");\nport_9ozpectyq.setUiAttribs({title:"Hash Changed",});\n\nconst port_j8fjrho2a=op.inFloat("j8fjrho2a",0);\nport_j8fjrho2a.setUiAttribs({title:"isActive",});\nport_j8fjrho2a.setUiAttribs({"values":[""]});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_zap5t5tri = addedOps[i].outTrigger("innerOut_zap5t5tri");\ninnerOut_zap5t5tri.setUiAttribs({title:"Mainloop"});\nport_zap5t5tri.onTriggered = () => { innerOut_zap5t5tri.trigger(); };\n\nconst innerOut_9ozpectyq = addedOps[i].outTrigger("innerOut_9ozpectyq");\ninnerOut_9ozpectyq.setUiAttribs({title:"Hash Changed"});\nport_9ozpectyq.onTriggered = () => { innerOut_9ozpectyq.trigger(); };\n\nconst innerOut_j8fjrho2a = addedOps[i].outNumber("innerOut_j8fjrho2a");\ninnerOut_j8fjrho2a.set(port_j8fjrho2a.get() );\ninnerOut_j8fjrho2a.setUiAttribs({title:"isActive"});\nport_j8fjrho2a.on("change", (a,v) => { innerOut_j8fjrho2a.set(a); });\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp12-0","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Title","value":"test"}],"objName":"Ops.Ui.Area"},{"id":"bp12-1","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"innerOut_zap5t5tri","title":"Mainloop","links":[{"portIn":"0as2n77e5","portOut":"innerOut_zap5t5tri","objIn":"bp12-3","objOut":"bp12-1"}]},{"name":"innerOut_9ozpectyq","title":"Hash Changed","links":[{"portIn":"eabt3o2x7","portOut":"innerOut_9ozpectyq","objIn":"bp12-3","objOut":"bp12-1"},{"portIn":"Execute","portOut":"innerOut_9ozpectyq","objIn":"bp12-8","objOut":"bp12-1"}]},{"name":"innerOut_j8fjrho2a","value":0,"title":"isActive"}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp12-2","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp12-3","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"zzd2dk99r","title":"Parent Link"},{"name":"0as2n77e5","title":"Mainloop"},{"name":"eabt3o2x7","title":"Hash Changed"},{"name":"patchId","value":"v28xel4g7"}],"portsOut":[{"name":"37k6sbwik","title":"Parent Link"},{"name":"o4ucc2fcw","title":"Mainloop","links":[{"portIn":"f8aa3pksk","portOut":"o4ucc2fcw","objIn":"bp12-23","objOut":"bp12-3"}]},{"name":"r4xu39dfu","title":"Hash Changed","links":[{"portIn":"wb8ht3wlb","portOut":"r4xu39dfu","objIn":"bp12-23","objOut":"bp12-3"}]}],"objName":"Ops.User.rambodc.PageRouter"},{"id":"bp12-4","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Title","value":"PageRouter"}],"objName":"Ops.Ui.Area"},{"id":"bp12-5","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp12-6","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp12-7","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Title","value":"Back Button History /e"}],"objName":"Ops.Ui.Area"},{"id":"bp12-8","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp12-15","objOut":"bp12-8"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp12-9","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"URL","value":"https://sandbox.cables.gl/ui/#/a"},{"name":"Host","value":"sandbox.cables.gl"},{"name":"Hash","links":[{"portIn":"String","portOut":"Hash","objIn":"bp12-11","objOut":"bp12-9"}]},{"name":"Pathname","value":"/ui/"},{"name":"Protocol","value":"https:"},{"name":"Port","value":""}],"objName":"Ops.Website.InfoURL"},{"id":"bp12-10","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Active","value":1},{"name":"Silent","value":0},{"name":"Allow Empty","value":0}],"objName":"Ops.Website.SetLocationHash"},{"id":"bp12-11","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Search For","value":"#"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"Add Value","portOut":"Result","objIn":"bp12-22","objOut":"bp12-11"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp12-12","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp12-20","objOut":"bp12-12"},{"portIn":"Decrease","portOut":"Next","objIn":"bp12-22","objOut":"bp12-12"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp12-13","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp12-14","objOut":"bp12-13"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp12-14","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp12-15","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"delay","value":0.05}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp12-16","objOut":"bp12-15"},{"portIn":"exe","portOut":"next","objIn":"bp12-21","objOut":"bp12-15"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp12-16","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp12-19","objOut":"bp12-16"},{"portIn":"Increase","portOut":"Trigger out","objIn":"bp12-22","objOut":"bp12-16"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp12-17","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Delay","value":0.3}],"portsOut":[{"name":"Output Boolean","links":[{"portIn":"Boolean","portOut":"Output Boolean","objIn":"bp12-18","objOut":"bp12-17"}]}],"objName":"Ops.User.rambodc.delay_boolean_timer"},{"id":"bp12-18","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp12-16","objOut":"bp12-18"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp12-19","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp12-20","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Update","portOut":"next","objIn":"bp12-10","objOut":"bp12-20"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp12-21","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp12-22","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Initial Value","value":"/d"}],"portsOut":[{"name":"Count","value":9},{"name":"Json Object","links":[{"portIn":"JSON String","portOut":"Json Object","objIn":"bp12-13","objOut":"bp12-22"}]},{"name":"Selected","links":[{"portIn":"Hash","portOut":"Selected","objIn":"bp12-10","objOut":"bp12-22"}]}],"objName":"Ops.User.rambodc.Back_Button_History"},{"id":"bp12-23","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"4lursd3if","title":"Parent Link"},{"name":"a0hazs8qu","value":"e","title":"Directory 1"},{"name":"jyz85fved","value":"mike","title":"Directory 2"},{"name":"bxzssu5p7","value":"","title":"Directory 3"},{"name":"f8aa3pksk","title":"Mainloop"},{"name":"wb8ht3wlb","title":"Hash Changed"},{"name":"patchId","value":"e4kcbskrm"}],"portsOut":[{"name":"vjfo5caql","title":"Parent Link"},{"name":"rgkrndn64","title":"Mainloop","links":[{"portIn":"Execute","portOut":"rgkrndn64","objIn":"bp12-5","objOut":"bp12-23"},{"portIn":"render","portOut":"rgkrndn64","objIn":"bp12-24","objOut":"bp12-23"}]},{"name":"iyq4pnlwm","title":"Hash Changed","links":[{"portIn":"exe","portOut":"iyq4pnlwm","objIn":"bp12-6","objOut":"bp12-23"}]},{"name":"wg0zcmxag","value":1,"title":"Dir 1-2 Equal"},{"name":"rzi5x09qq","value":"","title":"Directory 3"},{"name":"wteazgn7z","title":"Result","links":[{"portIn":"String A","portOut":"wteazgn7z","objIn":"bp12-33","objOut":"bp12-23"}]}],"objName":"Ops.User.rambodc.PageControls"},{"id":"bp12-24","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"min distance","value":1},{"name":"max distance","value":999999},{"name":"min rot y","value":0},{"name":"max rot y","value":0},{"name":"initial radius","value":2},{"name":"initial axis y","value":0.5},{"name":"initial axis x","value":0.25},{"name":"Smoothness","value":1},{"name":"Speed X","value":1},{"name":"Speed Y","value":1},{"name":"Active","value":1},{"name":"Allow Panning","value":1},{"name":"Allow Zooming","value":1},{"name":"Allow Rotation","value":1},{"name":"restricted","value":1},{"name":"Identity","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"Render","portOut":"trigger","objIn":"bp12-25","objOut":"bp12-24"}]},{"name":"radius","value":3.2960000000000003},{"name":"Rot X","value":56.99763100046457},{"name":"Rot Y","value":115.20000000000006}],"objName":"Ops.Gl.Matrix.OrbitControls_v3"},{"id":"bp12-25","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Render Mesh","value":1},{"name":"Width","value":1},{"name":"Length","value":1},{"name":"Height","value":1},{"name":"Center","value":1},{"name":"Mapping index","value":0},{"name":"Mapping","value":"Side"},{"name":"Bias","value":0},{"name":"Flip X","value":1},{"name":"Top","value":1},{"name":"Bottom","value":1},{"name":"Left","value":1},{"name":"Right","value":1},{"name":"Front","value":1},{"name":"Back","value":1}],"objName":"Ops.Gl.Meshes.Cube_v2"},{"id":"bp12-26","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp12-27","objOut":"bp12-26"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp12-27","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"delay","value":1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp12-28","objOut":"bp12-27"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp12-28","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"exe","portOut":"Trigger out","objIn":"bp12-30","objOut":"bp12-28"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp12-29","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","links":[{"portIn":"Boolean","portOut":"Value","objIn":"bp12-31","objOut":"bp12-29"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp12-30","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"n6dz5ut5m","portOut":"trigger","objIn":"bp12-32","objOut":"bp12-30"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp12-31","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp12-28","objOut":"bp12-31"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp12-32","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/a","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/signin","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"oh097l3z5"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp12-33","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Format","value":"/redirect$a"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"1ovs04j4c","portOut":"Result","objIn":"bp12-32","objOut":"bp12-33"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp12-34","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"File","value":"assets/lib_images_beach.jpg","display":"file"},{"name":"Filter index","value":1},{"name":"Filter","value":"linear"},{"name":"Wrap index","value":0},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":0},{"name":"Data Format index","value":3},{"name":"Data Format","value":"RGBA"},{"name":"Flip","value":0},{"name":"Pre Multiplied Alpha","value":0},{"name":"Active","value":1},{"name":"Save Memory","value":1},{"name":"Add Cachebuster","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"Diffuse Texture","portOut":"Texture","objIn":"bp12-57","objOut":"bp12-34"}]},{"name":"Width","value":1024},{"name":"Height","value":1024},{"name":"Aspect Ratio","value":1},{"name":"Loaded","value":1},{"name":"Loading","value":0}],"objName":"Ops.Gl.Texture_v2"},{"id":"bp12-35","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Mode index","value":2},{"name":"Mode","value":"ABC"},{"name":"Random Seed ","value":0},{"name":"Integer","value":0},{"name":"Last == First","value":0},{"name":"Min A","value":-3},{"name":"Max A","value":3},{"name":"Min B","value":-3},{"name":"Max B","value":3},{"name":"Min C","value":0},{"name":"Max C","value":0.09},{"name":"Min D","value":-1},{"name":"Max D","value":1}],"portsOut":[{"name":"Chunks Amount","links":[{"portIn":"Array length","portOut":"Chunks Amount","objIn":"bp12-62","objOut":"bp12-35"},{"portIn":"Array length","portOut":"Chunks Amount","objIn":"bp12-63","objOut":"bp12-35"}]},{"name":"Array length","value":7500}],"objName":"Ops.Array.RandomNumbersArray_v4"},{"id":"bp12-36","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Array out","links":[{"portIn":"TexCoords","portOut":"Array out","objIn":"bp12-58","objOut":"bp12-36"}]},{"name":"Array length","value":10000}],"objName":"Ops.Array.ArrayPack4"},{"id":"bp12-37","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"number1","value":1}],"portsOut":[{"name":"result","links":[{"portIn":"Value","portOut":"result","objIn":"bp12-38","objOut":"bp12-37"},{"portIn":"Value","portOut":"result","objIn":"bp12-39","objOut":"bp12-37"},{"portIn":"number1","portOut":"result","objIn":"bp12-54","objOut":"bp12-37"},{"portIn":"Default Value","portOut":"result","objIn":"bp12-62","objOut":"bp12-37"}]}],"objName":"Ops.Math.Divide"},{"id":"bp12-38","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Array 2","portOut":"Result","objIn":"bp12-36","objOut":"bp12-38"}]}],"objName":"Ops.Array.ArrayMultiply"},{"id":"bp12-39","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Array 1","portOut":"Result","objIn":"bp12-36","objOut":"bp12-39"}]}],"objName":"Ops.Array.ArrayMultiply"},{"id":"bp12-40","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"r","value":0.2666666666666667},{"name":"g","value":0.2666666666666667},{"name":"b","value":0.2666666666666667},{"name":"a","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp12-65","objOut":"bp12-40"}]}],"objName":"Ops.Gl.ClearColor"},{"id":"bp12-41","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Width","value":2},{"name":"Height","value":2},{"name":"Row Offset","value":0},{"name":"Center","value":1}],"portsOut":[{"name":"Result","links":[{"portIn":"Array 2","portOut":"Result","objIn":"bp12-47","objOut":"bp12-41"}]},{"name":"Total points","links":[{"portIn":"Num Values","portOut":"Total points","objIn":"bp12-35","objOut":"bp12-41"},{"portIn":"Num Values","portOut":"Total points","objIn":"bp12-51","objOut":"bp12-41"}]},{"name":"Array length","value":7500}],"objName":"Ops.Array.PointArray.PointsPlane_v2"},{"id":"bp12-42","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Array Out","links":[{"portIn":"In","portOut":"Array Out","objIn":"bp12-38","objOut":"bp12-42"}]}],"objName":"Ops.Array.ArrayModulo"},{"id":"bp12-43","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Direction index","value":0},{"name":"Direction","value":"Forward"}],"portsOut":[{"name":"Next","links":[{"portIn":"Update","portOut":"Next","objIn":"bp12-67","objOut":"bp12-43"}]},{"name":"index","value":49}],"objName":"Ops.Trigger.Repeat_v2"},{"id":"bp12-44","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Direction index","value":0},{"name":"Direction","value":"Forward"}],"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp12-43","objOut":"bp12-44"}]},{"name":"index","links":[{"portIn":"Number","portOut":"index","objIn":"bp12-67","objOut":"bp12-44"}]}],"objName":"Ops.Trigger.Repeat_v2"},{"id":"bp12-45","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"result","links":[{"portIn":"Repeats","portOut":"result","objIn":"bp12-43","objOut":"bp12-45"},{"portIn":"Repeats","portOut":"result","objIn":"bp12-44","objOut":"bp12-45"}]}],"objName":"Ops.Number.Number"},{"id":"bp12-46","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Update","portOut":"Next","objIn":"bp12-66","objOut":"bp12-46"}]},{"name":"Was Triggered","value":1}],"objName":"Ops.Trigger.TriggerOnce"},{"id":"bp12-47","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Pos","value":1},{"name":"Width","value":0.415},{"name":"Easing index","value":6},{"name":"Easing","value":"Cubic in out"},{"name":"Reverse","value":0}],"portsOut":[{"name":"Next","links":[{"portIn":"Exe","portOut":"Next","objIn":"bp12-60","objOut":"bp12-47"}]},{"name":"Result","links":[{"portIn":"positions","portOut":"Result","objIn":"bp12-58","objOut":"bp12-47"}]}],"objName":"Ops.Array.InterpolateArraysRange"},{"id":"bp12-48","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"value","value":50}],"portsOut":[{"name":"result","links":[{"portIn":"number2","portOut":"result","objIn":"bp12-37","objOut":"bp12-48"},{"portIn":"Rows","portOut":"result","objIn":"bp12-41","objOut":"bp12-48"},{"portIn":"Columns","portOut":"result","objIn":"bp12-41","objOut":"bp12-48"},{"portIn":"Value","portOut":"result","objIn":"bp12-42","objOut":"bp12-48"},{"portIn":"value","portOut":"result","objIn":"bp12-45","objOut":"bp12-48"},{"portIn":"Rows","portOut":"result","objIn":"bp12-49","objOut":"bp12-48"},{"portIn":"Columns","portOut":"result","objIn":"bp12-49","objOut":"bp12-48"},{"portIn":"Value","portOut":"result","objIn":"bp12-53","objOut":"bp12-48"}]}],"objName":"Ops.Number.Number"},{"id":"bp12-49","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Width","value":3},{"name":"Height","value":3},{"name":"Row Offset","value":0},{"name":"Center","value":1}],"portsOut":[{"name":"Result","links":[{"portIn":"array 0","portOut":"Result","objIn":"bp12-50","objOut":"bp12-49"}]},{"name":"Total points","value":2500},{"name":"Array length","value":7500}],"objName":"Ops.Array.PointArray.PointsPlane_v2"},{"id":"bp12-50","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Math function index","value":0},{"name":"Math function","value":"+"}],"portsOut":[{"name":"Array result","links":[{"portIn":"Array3","portOut":"Array result","objIn":"bp12-64","objOut":"bp12-50"}]},{"name":"Array length","value":7500}],"objName":"Ops.Array.ArrayMathArray"},{"id":"bp12-51","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Mode index","value":2},{"name":"Mode","value":"ABC"},{"name":"Random Seed ","value":0},{"name":"Integer","value":0},{"name":"Last == First","value":0},{"name":"Min A","value":0},{"name":"Max A","value":0},{"name":"Min B","value":0},{"name":"Max B","value":0},{"name":"Min C","value":-1},{"name":"Max C","value":1},{"name":"Min D","value":-1},{"name":"Max D","value":1}],"portsOut":[{"name":"Array Out","links":[{"portIn":"array 1","portOut":"Array Out","objIn":"bp12-50","objOut":"bp12-51"}]},{"name":"Chunks Amount","value":2500},{"name":"Array length","value":7500}],"objName":"Ops.Array.RandomNumbersArray_v4"},{"id":"bp12-52","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Render Mesh","value":0},{"name":"Center","value":1},{"name":"Mapping index","value":0},{"name":"Mapping","value":"Side"},{"name":"Bias","value":0},{"name":"Flip X","value":1},{"name":"Top","value":1},{"name":"Bottom","value":1},{"name":"Left","value":1},{"name":"Right","value":1},{"name":"Front","value":1},{"name":"Back","value":1}],"portsOut":[{"name":"geometry","links":[{"portIn":"Geometry","portOut":"geometry","objIn":"bp12-56","objOut":"bp12-52"}]}],"objName":"Ops.Gl.Meshes.Cube_v2"},{"id":"bp12-53","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Reset","portOut":"Next","objIn":"bp12-46","objOut":"bp12-53"}]},{"name":"Number","value":50}],"objName":"Ops.Number.TriggerOnChangeNumber"},{"id":"bp12-54","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"number2","value":0.42}],"portsOut":[{"name":"result","links":[{"portIn":"Width","portOut":"result","objIn":"bp12-52","objOut":"bp12-54"},{"portIn":"Length","portOut":"result","objIn":"bp12-52","objOut":"bp12-54"},{"portIn":"Height","portOut":"result","objIn":"bp12-52","objOut":"bp12-54"}]}],"objName":"Ops.Math.Divide"},{"id":"bp12-55","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"scale","value":1},{"name":"x","value":1},{"name":"y","value":1},{"name":"z","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"Trigger In","portOut":"trigger","objIn":"bp12-57","objOut":"bp12-55"}]}],"objName":"Ops.Gl.Matrix.Scale"},{"id":"bp12-56","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Translate X","value":0},{"name":"Translate Y","value":0},{"name":"Translate Z","value":0},{"name":"Scale X","value":-1},{"name":"Scale Y","value":1},{"name":"Scale Z","value":1},{"name":"Rotation X","value":0},{"name":"Rotation Y","value":0},{"name":"Rotation Z","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"geom","portOut":"Result","objIn":"bp12-58","objOut":"bp12-56"}]}],"objName":"Ops.Graphics.Geometry.TransformGeometry"},{"id":"bp12-57","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"R","value":0.6012656642386913},{"name":"G","value":0.02797977833229237},{"name":"B","value":0.02451434294508359},{"name":"A","value":1},{"name":"Enable","value":0},{"name":"Albedo","value":0.707},{"name":"Roughness","value":0.835},{"name":"Active","value":0},{"name":"Fresnel Intensity","value":0.7},{"name":"Fresnel Width","value":1},{"name":"Fresnel Exponent","value":6},{"name":"Fresnel R","value":1},{"name":"Fresnel G","value":1},{"name":"Fresnel B","value":1},{"name":"Emissive Active","value":0},{"name":"Color Intensity","value":0.3},{"name":"Emissive R","value":0.37588230175789206},{"name":"Emissive G","value":0.8355046975033362},{"name":"Emissive B","value":0.21465261715907702},{"name":"Shininess","value":4},{"name":"Specular Amount","value":0.5},{"name":"Specular Model index","value":0},{"name":"Specular Model","value":"Blinn"},{"name":"Energy Conservation","value":0},{"name":"Double Sided Material","value":0},{"name":"Falloff Mode index","value":0},{"name":"Falloff Mode","value":"A"},{"name":"Colorize Texture","value":0},{"name":"Diffuse Repeat X","value":1},{"name":"Diffuse Repeat Y","value":1},{"name":"Texture Offset X","value":0},{"name":"Texture Offset Y","value":0},{"name":"Specular Intensity","value":1},{"name":"Normal Map Intensity","value":0.5},{"name":"AO Intensity","value":1},{"name":"AO UV Channel index","value":0},{"name":"AO UV Channel","value":1},{"name":"Emissive Intensity","value":1},{"name":"Emissive Mask Intensity","value":1},{"name":"Env Map Intensity","value":1},{"name":"Env Map Blend index","value":0},{"name":"Env Map Blend","value":"Add"},{"name":"Env Mask Intensity","value":1},{"name":"Alpha Mask Source index","value":0},{"name":"Alpha Mask Source","value":"Luminance"},{"name":"Discard Transparent Pixels","value":0}],"portsOut":[{"name":"Trigger Out","links":[{"portIn":"Trigger in","portOut":"Trigger Out","objIn":"bp12-36","objOut":"bp12-57"},{"portIn":"Exe","portOut":"Trigger Out","objIn":"bp12-47","objOut":"bp12-57"},{"portIn":"exe","portOut":"Trigger Out","objIn":"bp12-58","objOut":"bp12-57"}]}],"objName":"Ops.Gl.Phong.PhongMaterial_v6"},{"id":"bp12-58","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Scale","value":0.95},{"name":"Limit Instances","value":0},{"name":"Limit","value":100},{"name":"Scale Array","value":0},{"name":"Rotation Type index","value":0},{"name":"Rotation Type","value":"Euler"},{"name":"Billboarding index","value":0},{"name":"Billboarding","value":"Off"},{"name":"Material blend mode index","value":0},{"name":"Material blend mode","value":"Multiply"},{"name":"Colors","value":0}],"portsOut":[{"name":"Num","value":2500}],"objName":"Ops.Gl.MeshInstancer_v4"},{"id":"bp12-59","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Num Values","value":2500},{"name":"Mode index","value":2},{"name":"Mode","value":"ABC"},{"name":"Random Seed ","value":0},{"name":"Integer","value":0},{"name":"Last == First","value":0},{"name":"Min A","value":0},{"name":"Max A","value":0},{"name":"Min B","value":0},{"name":"Max B","value":0},{"name":"Min C","value":0},{"name":"Max C","value":0},{"name":"Min D","value":0},{"name":"Max D","value":0}],"portsOut":[{"name":"Array Out","links":[{"portIn":"Array 2","portOut":"Array Out","objIn":"bp12-60","objOut":"bp12-59"}]},{"name":"Chunks Amount","value":2500},{"name":"Array length","value":7500}],"objName":"Ops.Array.RandomNumbersArray_v4"},{"id":"bp12-60","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Pos","value":0.187},{"name":"Width","value":0.415},{"name":"Easing index","value":6},{"name":"Easing","value":"Cubic in out"},{"name":"Reverse","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"Rotations","portOut":"Result","objIn":"bp12-58","objOut":"bp12-60"}]}],"objName":"Ops.Array.InterpolateArraysRange"},{"id":"bp12-61","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Num Values","value":2500},{"name":"Mode index","value":2},{"name":"Mode","value":"ABC"},{"name":"Random Seed ","value":0},{"name":"Integer","value":0},{"name":"Last == First","value":0},{"name":"Min A","value":-360},{"name":"Max A","value":360},{"name":"Min B","value":-360},{"name":"Max B","value":360},{"name":"Min C","value":-360},{"name":"Max C","value":360},{"name":"Min D","value":0},{"name":"Max D","value":0}],"portsOut":[{"name":"Array Out","links":[{"portIn":"Array 1","portOut":"Array Out","objIn":"bp12-60","objOut":"bp12-61"}]},{"name":"Chunks Amount","value":2500},{"name":"Array length","value":7500}],"objName":"Ops.Array.RandomNumbersArray_v4"},{"id":"bp12-62","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Mode select index","value":0},{"name":"Mode select","value":"Number"},{"name":"Reverse","value":0}],"portsOut":[{"name":"Array","links":[{"portIn":"Array 3","portOut":"Array","objIn":"bp12-36","objOut":"bp12-62"},{"portIn":"Array 4","portOut":"Array","objIn":"bp12-36","objOut":"bp12-62"}]},{"name":"Array length out","value":2500}],"objName":"Ops.Array.Array_v3"},{"id":"bp12-63","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Mode select index","value":1},{"name":"Mode select","value":"1,2,3,4"},{"name":"Default Value","value":1},{"name":"Reverse","value":0}],"portsOut":[{"name":"Array","links":[{"portIn":"Array In","portOut":"Array","objIn":"bp12-42","objOut":"bp12-63"}]},{"name":"Array length out","value":2500}],"objName":"Ops.Array.Array_v3"},{"id":"bp12-64","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Seed","value":5711}],"portsOut":[{"name":"Result","links":[{"portIn":"Array 1","portOut":"Result","objIn":"bp12-47","objOut":"bp12-64"}]}],"objName":"Ops.Array.ShuffleArray3_v3"},{"id":"bp12-65","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"min distance","value":0.05},{"name":"max distance","value":99999},{"name":"min rot y","value":0},{"name":"max rot y","value":0},{"name":"initial radius","value":2},{"name":"initial axis y","value":0.5},{"name":"initial axis x","value":0.25},{"name":"Smoothness","value":1},{"name":"Speed X","value":1},{"name":"Speed Y","value":1},{"name":"Active","value":1},{"name":"Allow Panning","value":1},{"name":"Allow Zooming","value":1},{"name":"Allow Rotation","value":1},{"name":"restricted","value":1},{"name":"Identity","value":1}],"portsOut":[{"name":"trigger","links":[{"portIn":"Exec","portOut":"trigger","objIn":"bp12-46","objOut":"bp12-65"},{"portIn":"render","portOut":"trigger","objIn":"bp12-55","objOut":"bp12-65"}]},{"name":"radius","value":2},{"name":"Rot X","value":86.5622532292151},{"name":"Rot Y","value":96.12}],"objName":"Ops.Gl.Matrix.OrbitControls_v3"},{"id":"bp12-66","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Active","value":1}],"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp12-44","objOut":"bp12-66"}]},{"name":"Result","links":[{"portIn":"In","portOut":"Result","objIn":"bp12-39","objOut":"bp12-66"}]}],"objName":"Ops.Data.Compose.Array.CompArray"},{"id":"bp12-67","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"objName":"Ops.Data.Compose.Array.CompArrayPushNumber"},{"id":"bp12-68","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsIn":[{"name":"Coordinates index","value":0},{"name":"Coordinates","value":"-1 to 1"},{"name":"Area index","value":0},{"name":"Area","value":"Canvas"},{"name":"flip y","value":1},{"name":"right click prevent default","value":1},{"name":"Touch support","value":1},{"name":"Passive Events","value":0},{"name":"Active","value":1}],"portsOut":[{"name":"x","value":0},{"name":"y","value":0},{"name":"click","links":[{"portIn":"Reset","portOut":"click","objIn":"bp12-46","objOut":"bp12-68"}]},{"name":"Button is down","value":0},{"name":"Mouse is hovering","value":0},{"name":"Movement X","value":362},{"name":"Movement Y","value":96}],"objName":"Ops.Devices.Mouse.Mouse_v3"},{"id":"bp12-69","uiAttribs":{"subPatch":"w6fxxt1zo"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp12-40","objOut":"bp12-69"},{"portIn":"Render","portOut":"Next","objIn":"bp12-52","objOut":"bp12-69"}]}],"objName":"Ops.Trigger.TriggerExtender"}]}'};const i=e.inTrigger("zap5t5tri");i.setUiAttribs({title:"Mainloop"});const o=e.inTrigger("9ozpectyq");o.setUiAttribs({title:"Hash Changed"});const s=e.inFloat("j8fjrho2a",0);s.setUiAttribs({title:"isActive"});s.setUiAttribs({values:[""]});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outTrigger("innerOut_zap5t5tri");n.setUiAttribs({title:"Mainloop"});i.onTriggered=()=>{n.trigger()};const r=t[e].outTrigger("innerOut_9ozpectyq");r.setUiAttribs({title:"Hash Changed"});o.onTriggered=()=>{r.trigger()};const a=t[e].outNumber("innerOut_j8fjrho2a");a.set(s.get());a.setUiAttribs({title:"isActive"});s.on("change",(e,t)=>{a.set(e)})}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PageE.prototype=new CABLES.Op;CABLES.OPS["5ff68fc0-0af2-4e83-9107-dc3d6780a116"]={f:Ops.User.rambodc.PageE,objName:"Ops.User.rambodc.PageE"};Ops.User.rambodc.Post2=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_gomrari2f=op.inObject("gomrari2f");\nport_gomrari2f.setUiAttribs({title:"link",});\n\nconst port_nw0o4y8ut=op.inTrigger("nw0o4y8ut");\nport_nw0o4y8ut.setUiAttribs({title:"Mainloop",display:"button",});\nport_nw0o4y8ut.setUiAttribs({"values":[""]});\n\nconst port_ktz8ivcyy=op.inFloat("ktz8ivcyy",1);\nport_ktz8ivcyy.setUiAttribs({title:"isActive",});\nport_ktz8ivcyy.setUiAttribs({"values":[""]});\n\nconst port_c5w4ricnn=op.inString("c5w4ricnn","9TVNZeF9210m6flUDSpY");\nport_c5w4ricnn.setUiAttribs({title:"postId",});\nport_c5w4ricnn.setUiAttribs({"values":[""]});\n\nconst port_tkjeqas9u=op.inTrigger("tkjeqas9u");\nport_tkjeqas9u.setUiAttribs({title:"exe",});\n\nconst port_6cx1z6hj0=op.outTrigger("6cx1z6hj0");\nport_6cx1z6hj0.setUiAttribs({title:"Button Right Pressed",});\n\nconst port_riq7fj6wq=op.outObject("riq7fj6wq");\nport_riq7fj6wq.setUiAttribs({title:"User Object",});\nport_riq7fj6wq.setUiAttribs({"values":[""]});\n\nconst port_wnpbv6gvw=op.outObject("wnpbv6gvw");\nport_wnpbv6gvw.setUiAttribs({title:"Post Object",});\nport_wnpbv6gvw.setUiAttribs({"values":[""]});\n\nconst port_upe3uf8g9=op.outTrigger("upe3uf8g9");\nport_upe3uf8g9.setUiAttribs({title:"Button 1 Pressed",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_gomrari2f = addedOps[i].outObject("innerOut_gomrari2f");\ninnerOut_gomrari2f.setUiAttribs({title:"link"});\nport_gomrari2f.on("change", (a,v) => { innerOut_gomrari2f.setRef(a); });\n\nconst innerOut_nw0o4y8ut = addedOps[i].outTrigger("innerOut_nw0o4y8ut");\ninnerOut_nw0o4y8ut.setUiAttribs({title:"Mainloop"});\nport_nw0o4y8ut.onTriggered = () => { innerOut_nw0o4y8ut.trigger(); };\n\nconst innerOut_ktz8ivcyy = addedOps[i].outNumber("innerOut_ktz8ivcyy");\ninnerOut_ktz8ivcyy.set(port_ktz8ivcyy.get() );\ninnerOut_ktz8ivcyy.setUiAttribs({title:"isActive"});\nport_ktz8ivcyy.on("change", (a,v) => { innerOut_ktz8ivcyy.set(a); });\n\nconst innerOut_c5w4ricnn = addedOps[i].outString("innerOut_c5w4ricnn");\ninnerOut_c5w4ricnn.set(port_c5w4ricnn.get() );\ninnerOut_c5w4ricnn.setUiAttribs({title:"postId"});\nport_c5w4ricnn.on("change", (a,v) => { innerOut_c5w4ricnn.set(a); });\n\nconst innerOut_tkjeqas9u = addedOps[i].outTrigger("innerOut_tkjeqas9u");\ninnerOut_tkjeqas9u.setUiAttribs({title:"exe"});\nport_tkjeqas9u.onTriggered = () => { innerOut_tkjeqas9u.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_6cx1z6hj0 = addedOps[i].inTrigger("innerIn_6cx1z6hj0");\ninnerIn_6cx1z6hj0.setUiAttribs({title:"Button Right Pressed"});\ninnerIn_6cx1z6hj0.onTriggered = () => { port_6cx1z6hj0.trigger(); };\n\nconst innerIn_riq7fj6wq = addedOps[i].inObject("innerIn_riq7fj6wq");\ninnerIn_riq7fj6wq.setUiAttribs({title:"User Object"});\ninnerIn_riq7fj6wq.on("change", (a,v) => { port_riq7fj6wq.setRef(a); });\n\nconst innerIn_wnpbv6gvw = addedOps[i].inObject("innerIn_wnpbv6gvw");\ninnerIn_wnpbv6gvw.setUiAttribs({title:"Post Object"});\ninnerIn_wnpbv6gvw.on("change", (a,v) => { port_wnpbv6gvw.setRef(a); });\n\nconst innerIn_upe3uf8g9 = addedOps[i].inTrigger("innerIn_upe3uf8g9");\ninnerIn_upe3uf8g9.setUiAttribs({title:"Button 1 Pressed"});\ninnerIn_upe3uf8g9.onTriggered = () => { port_upe3uf8g9.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp13-0","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"next","links":[{"portIn":"link","portOut":"next","objIn":"bp13-102","objOut":"bp13-0"}]},{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-106","objOut":"bp13-0"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp13-1","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp13-21","objOut":"bp13-1"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-2","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp13-3","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Valid","value":0}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp13-4","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Search For","value":"json"},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"String","portOut":"Result","objIn":"bp13-5","objOut":"bp13-4"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp13-5","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Search For","value":""},{"name":"Replace","value":""},{"name":"Replace What index","value":0},{"name":"Replace What","value":"All"}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp13-3","objOut":"bp13-5"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp13-6","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"ai.candidates.0.content.parts.0.text"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String","portOut":"Output","objIn":"bp13-4","objOut":"bp13-6"},{"portIn":"String","portOut":"Output","objIn":"bp13-7","objOut":"bp13-6"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-7","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Whitespace","value":0},{"name":"Wrap lines","value":1},{"name":"Syntax index","value":0},{"name":"Syntax","value":"text"},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizString"},{"id":"bp13-8","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp13-12","objOut":"bp13-8"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp13-9","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":1}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-10","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-11","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Delay True","value":1},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Visible","portOut":"Out Value","objIn":"bp13-0","objOut":"bp13-11"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp13-12","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Height","value":"20px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp13-124","objOut":"bp13-12"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp13-13","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FRazzberry%20PNG-512.png?alt=media&token=426ae8b5-1f1b-4d2c-accd-fbcefdef37e8"},{"name":"Text","value":"Collected"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-16","objOut":"bp13-13"}]},{"name":"Pressed Trigger","links":[{"portIn":"Execute","portOut":"Pressed Trigger","objIn":"bp13-130","objOut":"bp13-13"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp13-14","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Icon","value":"https://upload.wikimedia.org/wikipedia/commons/1/18/Ipfs-logo-1024-ice-text.png"},{"name":"Text","value":"IPFS Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-15","objOut":"bp13-14"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp13-35","objOut":"bp13-14"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp13-15","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Icon","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2FxrpLogo2.png?alt=media&token=e7f5d563-ce1b-4b47-800a-88c5d16d0325"},{"name":"Text","value":"Transaction Hash"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-38","objOut":"bp13-15"}]},{"name":"Pressed Trigger","links":[{"portIn":"Open","portOut":"Pressed Trigger","objIn":"bp13-33","objOut":"bp13-15"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp13-16","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Icon","value":"https://cdn-icons-png.flaticon.com/512/5278/5278402.png"},{"name":"Text","value":"AI"},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-14","objOut":"bp13-16"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp13-17","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"value","portOut":"String","objIn":"bp13-40","objOut":"bp13-17"},{"portIn":"Document ID","portOut":"String","objIn":"bp13-46","objOut":"bp13-17"},{"portIn":"value","portOut":"String","objIn":"bp13-90","objOut":"bp13-17"},{"portIn":"Post ID","portOut":"String","objIn":"bp13-95","objOut":"bp13-17"},{"portIn":"Post ID","portOut":"String","objIn":"bp13-109","objOut":"bp13-17"},{"portIn":"value","portOut":"String","objIn":"bp13-131","objOut":"bp13-17"},{"portIn":"String B","portOut":"String","objIn":"bp13-134","objOut":"bp13-17"}]}],"objName":"Ops.String.String_v2"},{"id":"bp13-18","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs.hash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp13-20","objOut":"bp13-18"},{"portIn":"String B","portOut":"Output","objIn":"bp13-36","objOut":"bp13-18"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp13-14","objOut":"bp13-18"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-19","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp13-16","objOut":"bp13-19"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp13-20","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp13-14","objOut":"bp13-20"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp13-21","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Was Triggered","links":[{"portIn":"Value","portOut":"Was Triggered","objIn":"bp13-22","objOut":"bp13-21"}]}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp13-22","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"objName":"Ops.Boolean.TriggerChangedFalse"},{"id":"bp13-23","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp13-46","objOut":"bp13-23"},{"portIn":"Minimize","portOut":"next","objIn":"bp13-117","objOut":"bp13-23"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp13-24","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"description"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text","portOut":"Output","objIn":"bp13-61","objOut":"bp13-24"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-25","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"title"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp13-45","objOut":"bp13-25"},{"portIn":"Text","portOut":"Output","objIn":"bp13-60","objOut":"bp13-25"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-26","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"False","value":"Incomplete"},{"name":"True","value":"Completed"}],"portsOut":[{"name":"String","links":[{"portIn":"String Input","portOut":"String","objIn":"bp13-19","objOut":"bp13-26"}]}],"objName":"Ops.Boolean.BoolToString"},{"id":"bp13-27","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp13-18","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-25","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-24","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-6","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-2","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-28","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-37","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-47","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-50","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-88","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-89","objOut":"bp13-27"},{"portIn":"innerIn_wnpbv6gvw","portOut":"Output Object","objIn":"bp13-63","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-120","objOut":"bp13-27"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-123","objOut":"bp13-27"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp13-28","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"xrpl.txnHash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String Input","portOut":"Output","objIn":"bp13-29","objOut":"bp13-28"},{"portIn":"String B","portOut":"Output","objIn":"bp13-32","objOut":"bp13-28"}]},{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp13-15","objOut":"bp13-28"}]}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-29","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Max Characters","value":10},{"name":"End With","value":"..."}],"portsOut":[{"name":"Output String","links":[{"portIn":"Text Right","portOut":"Output String","objIn":"bp13-15","objOut":"bp13-29"}]}],"objName":"Ops.User.rambodc.ShortenString"},{"id":"bp13-30","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Height","value":"10px"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp13-13","objOut":"bp13-30"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp13-31","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Collection name","value":"users"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message"},{"name":"Document","links":[{"portIn":"Input Object","portOut":"Document","objIn":"bp13-59","objOut":"bp13-31"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp13-52","objOut":"bp13-31"},{"portIn":"Trigger Query","portOut":"Success","objIn":"bp13-95","objOut":"bp13-31"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp13-53","objOut":"bp13-31"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp13-32","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://livenet.xrpl.org/transactions"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp13-33","objOut":"bp13-32"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp13-33","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp13-34","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Height","value":"50px"}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp13-35","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Target Name","value":"_blank"},{"name":"Specs","value":""}],"objName":"Ops.Html.HyperLink_v2"},{"id":"bp13-36","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"$a/$b"},{"name":"String A","value":"https://ipfs.io/ipfs"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"URL","portOut":"Result","objIn":"bp13-35","objOut":"bp13-36"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp13-37","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"ai"}],"portsOut":[{"name":"Found","links":[{"portIn":"Visible","portOut":"Found","objIn":"bp13-16","objOut":"bp13-37"},{"portIn":"Boolean","portOut":"Found","objIn":"bp13-26","objOut":"bp13-37"}]}],"objName":"Ops.Data.JsonPath.ObjectGetObjectByPath"},{"id":"bp13-38","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Icon","value":"https://png.pngtree.com/png-clipart/20221115/ourmid/pngtree-share-icon-button-png-image_6454552.png"},{"name":"Text","value":"Share Link"},{"name":"Text Right","value":""},{"name":"Icon Right","value":"https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1"},{"name":"Corners","value":0},{"name":"Visible","value":1}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp13-34","objOut":"bp13-38"}]},{"name":"Pressed Trigger","links":[{"portIn":"exe","portOut":"Pressed Trigger","objIn":"bp13-39","objOut":"bp13-38"}]}],"objName":"Ops.User.rambodc.Button_Icon_smaller"},{"id":"bp13-39","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Callback Name","value":"webShare"},{"name":"Parameter 3","value":""}],"objName":"Ops.Cables.CallBack_v2"},{"id":"bp13-40","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp13-44","objOut":"bp13-40"}]}],"objName":"Ops.String.String_v2"},{"id":"bp13-41","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"urlPath"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp13-44","objOut":"bp13-41"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp13-42","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp13-43","objOut":"bp13-42"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp13-43","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp13-44","objOut":"bp13-43"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-44","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media\\n\\n\\n"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 2","portOut":"Result","objIn":"bp13-39","objOut":"bp13-44"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp13-45","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"$a - Razzberry.ai Own Your Content"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Parameter 1","portOut":"Result","objIn":"bp13-39","objOut":"bp13-45"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp13-46","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Collection name","value":"posts"},{"name":"Subcollection name","value":""},{"name":"Subdocument ID","value":""}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message"},{"name":"Document","links":[{"portIn":"Input Object","portOut":"Document","objIn":"bp13-27","objOut":"bp13-46"}]},{"name":"Document Not Found","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp13-9","objOut":"bp13-46"},{"portIn":"Trigger","portOut":"Success","objIn":"bp13-31","objOut":"bp13-46"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp13-10","objOut":"bp13-46"}]}],"objName":"Ops.User.rambodc.FBGetOneDocument1"},{"id":"bp13-47","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"totalPostRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp13-49","objOut":"bp13-47"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp13-48","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"$a RAZ"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Right","portOut":"Result","objIn":"bp13-13","objOut":"bp13-48"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp13-49","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp13-48","objOut":"bp13-49"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp13-50","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Document ID","portOut":"Output","objIn":"bp13-31","objOut":"bp13-50"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-51","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp13-31","objOut":"bp13-51"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-52","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":1}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-53","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-54","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"firstName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp13-56","objOut":"bp13-54"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-55","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"lastName"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String B","portOut":"Output","objIn":"bp13-56","objOut":"bp13-55"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-56","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"$a $b"},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp13-124","objOut":"bp13-56"}]}],"objName":"Ops.String.StringCompose_v3"},{"id":"bp13-57","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"profilePhoto400Url"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Icon","portOut":"Output","objIn":"bp13-124","objOut":"bp13-57"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-58","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"username"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"Text 2","portOut":"Output","objIn":"bp13-124","objOut":"bp13-58"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-59","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Output Object","links":[{"portIn":"Object","portOut":"Output Object","objIn":"bp13-55","objOut":"bp13-59"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-54","objOut":"bp13-59"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-57","objOut":"bp13-59"},{"portIn":"Object","portOut":"Output Object","objIn":"bp13-58","objOut":"bp13-59"},{"portIn":"innerIn_riq7fj6wq","portOut":"Output Object","objIn":"bp13-63","objOut":"bp13-59"}]}],"objName":"Ops.User.rambodc.Object_reset_auto"},{"id":"bp13-60","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"16px"},{"name":"Line Height","value":"1.0"},{"name":"Bold","value":1},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-61","objOut":"bp13-60"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp13-61","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Id","value":""},{"name":"Visible","value":1},{"name":"Button","value":0},{"name":"Text Color","value":"rgba(1,1,1,1)"},{"name":"Text Size","value":"14px"},{"name":"Line Height","value":"1.5"},{"name":"Bold","value":0},{"name":"Background Color","value":"rgba(255,255,255,0.0)"},{"name":"Hover Color","value":"rgba(255,255,255,0.3)"},{"name":"Margin","value":"0px 0px 0px 15px"},{"name":"Padding","value":"5px "},{"name":"Height","value":"auto"},{"name":"Width","value":"auto"},{"name":"Text Align","value":"left"},{"name":"Border Radius","value":"5px"}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp13-30","objOut":"bp13-61"}]}],"objName":"Ops.User.rambodc.Sidebar_Text_customize"},{"id":"bp13-62","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"innerOut_gomrari2f","title":"link","links":[{"portIn":"link","portOut":"innerOut_gomrari2f","objIn":"bp13-0","objOut":"bp13-62"}]},{"name":"innerOut_nw0o4y8ut","title":"Mainloop","links":[{"portIn":"Execute","portOut":"innerOut_nw0o4y8ut","objIn":"bp13-1","objOut":"bp13-62"},{"portIn":"Execute","portOut":"innerOut_nw0o4y8ut","objIn":"bp13-81","objOut":"bp13-62"}]},{"name":"innerOut_ktz8ivcyy","title":"isActive","links":[{"portIn":"Value","portOut":"innerOut_ktz8ivcyy","objIn":"bp13-11","objOut":"bp13-62"}]},{"name":"innerOut_c5w4ricnn","title":"postId","links":[{"portIn":"value","portOut":"innerOut_c5w4ricnn","objIn":"bp13-17","objOut":"bp13-62"}]},{"name":"innerOut_tkjeqas9u","title":"exe","links":[{"portIn":"exe","portOut":"innerOut_tkjeqas9u","objIn":"bp13-23","objOut":"bp13-62"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp13-63","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"innerIn_6cx1z6hj0","title":"Button Right Pressed"},{"name":"innerIn_riq7fj6wq","title":"User Object"},{"name":"innerIn_wnpbv6gvw","title":"Post Object"},{"name":"innerIn_upe3uf8g9","title":"Button 1 Pressed"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp13-64","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String","portOut":"String","objIn":"bp13-68","objOut":"bp13-64"}]}],"objName":"Ops.String.String_v2"},{"id":"bp13-65","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":0},{"name":"posZ","value":0},{"name":"rotX","value":0},{"name":"rotY","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp13-70","objOut":"bp13-65"}]}],"objName":"Ops.Gl.Matrix.Transform"},{"id":"bp13-66","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"posX","value":0},{"name":"posY","value":0},{"name":"posZ","value":0},{"name":"rotX","value":0},{"name":"rotZ","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp13-65","objOut":"bp13-66"}]}],"objName":"Ops.Gl.Matrix.Transform"},{"id":"bp13-67","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"File","display":"file"},{"name":"Filter index","value":2},{"name":"Filter","value":"mipmap"},{"name":"Wrap index","value":0},{"name":"Wrap","value":"repeat"},{"name":"Anisotropic index","value":0},{"name":"Anisotropic","value":"0"},{"name":"Data Format index","value":3},{"name":"Data Format","value":"RGBA"},{"name":"Flip","value":0},{"name":"Pre Multiplied Alpha","value":0},{"name":"Active","value":1},{"name":"Save Memory","value":1},{"name":"Add Cachebuster","value":0}],"portsOut":[{"name":"Texture","links":[{"portIn":"texture","portOut":"Texture","objIn":"bp13-70","objOut":"bp13-67"}]},{"name":"Width","value":545},{"name":"Height","value":263},{"name":"Aspect Ratio","links":[{"portIn":"width","portOut":"Aspect Ratio","objIn":"bp13-69","objOut":"bp13-67"},{"portIn":"number 1","portOut":"Aspect Ratio","objIn":"bp13-74","objOut":"bp13-67"}]},{"name":"Loaded","value":1},{"name":"Loading","value":0}],"objName":"Ops.Gl.Texture_v2"},{"id":"bp13-68","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"File","portOut":"Result","objIn":"bp13-67","objOut":"bp13-68"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp13-69","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"render","title":"Trigger"},{"name":"Render Mesh","title":"Render"},{"name":"height","value":1},{"name":"pivot x index","value":1},{"name":"pivot x","value":"center"},{"name":"pivot y index","value":1},{"name":"pivot y","value":"center"},{"name":"axis index","value":0},{"name":"axis","value":"xy"},{"name":"Flip TexCoord X","value":0},{"name":"Flip TexCoord Y","value":1},{"name":"num columns","value":1},{"name":"num rows","value":1}],"objName":"Ops.Gl.Meshes.Rectangle_v4"},{"id":"bp13-70","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"r","value":0.5681739067801033},{"name":"g","value":0.6591845612789549},{"name":"b","value":0.5606274261205186},{"name":"a","value":1},{"name":"colorizeTexture","value":0},{"name":"Vertex Colors","value":0},{"name":"Alpha Mask Source index","value":0},{"name":"Alpha Mask Source","value":"Luminance"},{"name":"Opacity TexCoords Transform","value":0},{"name":"Discard Transparent Pixels","value":0},{"name":"diffuseRepeatX","value":1},{"name":"diffuseRepeatY","value":1},{"name":"Tex Offset X","value":0},{"name":"Tex Offset Y","value":0},{"name":"Crop TexCoords","value":0},{"name":"billboard","value":0}],"portsOut":[{"name":"trigger","links":[{"portIn":"render","portOut":"trigger","objIn":"bp13-69","objOut":"bp13-70"}]}],"objName":"Ops.Gl.Shader.BasicMaterial_v3"},{"id":"bp13-71","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Speed","value":100},{"name":"Sync to timeline","value":0}],"portsOut":[{"name":"Time","links":[{"portIn":"rotY","portOut":"Time","objIn":"bp13-66","objOut":"bp13-71"}]}],"objName":"Ops.Anim.Timer_v2"},{"id":"bp13-72","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"render","portOut":"Next","objIn":"bp13-66","objOut":"bp13-72"},{"portIn":"exe","portOut":"Next","objIn":"bp13-75","objOut":"bp13-72"}]},{"name":"Was Triggered","links":[{"portIn":"Play","portOut":"Was Triggered","objIn":"bp13-71","objOut":"bp13-72"},{"portIn":"Value","portOut":"Was Triggered","objIn":"bp13-76","objOut":"bp13-72"}]}],"objName":"Ops.Trigger.IsTriggered"},{"id":"bp13-73","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp13-68","objOut":"bp13-73"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-74","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"number 0","value":1},{"name":"math mode index","value":3},{"name":"math mode","value":"/"}],"portsOut":[{"name":"result","links":[{"portIn":"scale","portOut":"result","objIn":"bp13-65","objOut":"bp13-74"}]}],"objName":"Ops.Math.Math"},{"id":"bp13-75","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"start","value":0},{"name":"end","value":0.8},{"name":"duration","value":0.5},{"name":"loop","value":0},{"name":"Wait for Reset","value":1},{"name":"easing index","value":15},{"name":"easing","value":"Quart In Out"}],"portsOut":[{"name":"result","links":[{"portIn":"scale","portOut":"result","objIn":"bp13-66","objOut":"bp13-75"}]},{"name":"finished","value":true}],"objName":"Ops.Anim.SimpleAnim"},{"id":"bp13-76","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp13-77","objOut":"bp13-76"}]}],"objName":"Ops.Boolean.TriggerChangedTrue"},{"id":"bp13-77","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"reset","portOut":"next","objIn":"bp13-75","objOut":"bp13-77"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp13-78","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Delay","value":3}],"portsOut":[{"name":"Output Boolean","links":[{"portIn":"Use Value 1","portOut":"Output Boolean","objIn":"bp13-79","objOut":"bp13-78"}]}],"objName":"Ops.User.rambodc.delay_boolean_timer"},{"id":"bp13-79","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Value 0","value":0},{"name":"Value 1","value":1}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Boolean","portOut":"Out Value","objIn":"bp13-84","objOut":"bp13-79"},{"portIn":"Pass Through","portOut":"Out Value","objIn":"bp13-83","objOut":"bp13-79"},{"portIn":"Value","portOut":"Out Value","objIn":"bp13-87","objOut":"bp13-79"}]}],"objName":"Ops.Boolean.BoolToNumber_v2"},{"id":"bp13-80","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger","portOut":"next","objIn":"bp13-78","objOut":"bp13-80"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp13-81","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Execute","portOut":"Next","objIn":"bp13-83","objOut":"bp13-81"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-82","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Title","value":"Animate"}],"objName":"Ops.Ui.Area"},{"id":"bp13-83","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"Trigger","portOut":"Trigger out","objIn":"bp13-72","objOut":"bp13-83"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp13-84","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","value":1}],"objName":"Ops.Boolean.Not"},{"id":"bp13-85","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp13-80","objOut":"bp13-85"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-86","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp13-73","objOut":"bp13-86"},{"portIn":"Trigger","portOut":"Next","objIn":"bp13-78","objOut":"bp13-86"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-87","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Delay True","value":0.5},{"name":"Delay False","value":0}],"portsOut":[{"name":"Out Value","links":[{"portIn":"Render Mesh","portOut":"Out Value","objIn":"bp13-69","objOut":"bp13-87"}]}],"objName":"Ops.Boolean.DelayBooleanSimple"},{"id":"bp13-88","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"ipfs.hash"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"p997c8y83","portOut":"Output","objIn":"bp13-92","objOut":"bp13-88"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-89","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"f7sipcbln","portOut":"Output","objIn":"bp13-92","objOut":"bp13-89"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-90","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"7z8wqguzm","portOut":"String","objIn":"bp13-92","objOut":"bp13-90"}]}],"objName":"Ops.String.String_v2"},{"id":"bp13-91","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"6o6a9aly0","portOut":"Next","objIn":"bp13-92","objOut":"bp13-91"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-92","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"7z8wqguzm","title":"postId"},{"name":"p997c8y83","title":"ipfs hash"},{"name":"f7sipcbln","title":"Post Creator uid"},{"name":"6o6a9aly0","title":"Execute"},{"name":"patchId","value":"vn4i00m6c"}],"objName":"Ops.User.rambodc.Feed1Txn"},{"id":"bp13-93","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Title","value":""}],"objName":"Ops.Ui.Area"},{"id":"bp13-94","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp13-95","objOut":"bp13-94"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp13-95","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Found","links":[{"portIn":"exe","portOut":"Found","objIn":"bp13-98","objOut":"bp13-95"}]},{"name":"Not Found","links":[{"portIn":"exe","portOut":"Not Found","objIn":"bp13-99","objOut":"bp13-95"}]},{"name":"Does Exist","links":[{"portIn":"Boolean","portOut":"Does Exist","objIn":"bp13-97","objOut":"bp13-95"}]},{"name":"Error Message","value":""}],"objName":"Ops.User.rambodc.PostQuery_HasCollected"},{"id":"bp13-96","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger Query","portOut":"Next","objIn":"bp13-95","objOut":"bp13-96"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-97","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Boolean","portOut":"Result","objIn":"bp13-114","objOut":"bp13-97"},{"portIn":"Show Button 2","portOut":"Result","objIn":"bp13-124","objOut":"bp13-97"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp13-98","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-99","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":1}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-100","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-101","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-102","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp13-116","objOut":"bp13-102"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp13-103","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Image URL","value":"https://cdn.pixabay.com/animation/2023/05/02/04/29/04-29-06-428_512.gif"},{"name":"Height","value":80},{"name":"Position index","value":1},{"name":"Position","value":"Center"},{"name":"Corner","value":0},{"name":"Visible","value":1}],"objName":"Ops.User.rambodc.Background1"},{"id":"bp13-104","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"delay","value":1.8}],"portsOut":[{"name":"Delaying","links":[{"portIn":"Visible","portOut":"Delaying","objIn":"bp13-102","objOut":"bp13-104"},{"portIn":"Boolean","portOut":"Delaying","objIn":"bp13-107","objOut":"bp13-104"}]}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp13-105","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"exe","portOut":"Next","objIn":"bp13-104","objOut":"bp13-105"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-106","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Show Title","value":0},{"name":"Default Minimized","value":0}],"portsOut":[{"name":"childs","links":[{"portIn":"Link","portOut":"childs","objIn":"bp13-117","objOut":"bp13-106"}]}],"objName":"Ops.Sidebar.Group"},{"id":"bp13-107","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Visible","portOut":"Result","objIn":"bp13-106","objOut":"bp13-107"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp13-108","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp13-109","objOut":"bp13-108"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp13-109","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Found","links":[{"portIn":"exe","portOut":"Found","objIn":"bp13-111","objOut":"bp13-109"},{"portIn":"Trigger animation","portOut":"Found","objIn":"bp13-113","objOut":"bp13-109"}]},{"name":"Not Found","links":[{"portIn":"exe","portOut":"Not Found","objIn":"bp13-112","objOut":"bp13-109"},{"portIn":"Execute","portOut":"Not Found","objIn":"bp13-91","objOut":"bp13-109"}]},{"name":"Does Exist","value":false},{"name":"Error Message","value":"No documents found for given postId and txnType."}],"objName":"Ops.User.rambodc.PostQuery_HasCollected"},{"id":"bp13-110","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger Query","portOut":"Next","objIn":"bp13-109","objOut":"bp13-110"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-111","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-112","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp13-113","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Text","value":"Already collected"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: rgba(1,1,1,0.1);\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp13-114","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Show Button 1","portOut":"Result","objIn":"bp13-124","objOut":"bp13-114"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp13-115","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Trigger","portOut":"Next","objIn":"bp13-105","objOut":"bp13-115"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp13-116","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Height","value":"100px"}],"portsOut":[{"name":"Children","links":[{"portIn":"Link","portOut":"Children","objIn":"bp13-103","objOut":"bp13-116"}]}],"objName":"Ops.User.rambodc.Sidebar_Space"},{"id":"bp13-117","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Visible","value":1},{"name":"Max Height","value":400},{"name":"Maximize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fmaximize.png?alt=media&token=e51d9873-c159-4967-9447-2a39fb0ff3a0"},{"name":"Minimize Icon URL","value":"https://firebasestorage.googleapis.com/v0/b/razz5-14781.appspot.com/o/assets%2Fminimize.png?alt=media&token=dc938f68-fb44-426d-a99c-62a3a1c37405"}],"portsOut":[{"name":"Children","links":[{"portIn":"link","portOut":"Children","objIn":"bp13-8","objOut":"bp13-117"}]},{"name":"Is Maximized","value":false}],"objName":"Ops.User.rambodc.Background3"},{"id":"bp13-118","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Boolean","portOut":"Result","objIn":"bp13-121","objOut":"bp13-118"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp13-119","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String 1","portOut":"Value","objIn":"bp13-118","objOut":"bp13-119"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp13-120","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String 2","portOut":"Output","objIn":"bp13-118","objOut":"bp13-120"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-121","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Visible","portOut":"Result","objIn":"bp13-124","objOut":"bp13-121"}]}],"objName":"Ops.Boolean.Not"},{"id":"bp13-122","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/user/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"oaplkpurz"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp13-123","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"uid"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"1ovs04j4c","portOut":"Output","objIn":"bp13-122","objOut":"bp13-123"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-124","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Button 1 Text","value":"Next"},{"name":"Button 1 Color","value":"rgba(1, 1, 1,0.2)"},{"name":"Button 1 Text Color","value":"#ffffff"},{"name":"Button 1 Hover Color","value":"rgba(1, 1, 1, 0.3)"},{"name":"Button 2 Color","value":"rgba(49, 176, 83,0.8)"},{"name":"Button 2 Text Color","value":"#ffffff"},{"name":"Button 2 Hover Color","value":"rgba(49, 176, 83,1)"},{"name":"Corners","value":25},{"name":"Image Size","value":50}],"portsOut":[{"name":"childs","links":[{"portIn":"link","portOut":"childs","objIn":"bp13-60","objOut":"bp13-124"}]},{"name":"Button 1 Pressed","links":[{"portIn":"exe","portOut":"Button 1 Pressed","objIn":"bp13-100","objOut":"bp13-124"},{"portIn":"innerIn_upe3uf8g9","portOut":"Button 1 Pressed","objIn":"bp13-63","objOut":"bp13-124"},{"portIn":"Trigger","portOut":"Button 1 Pressed","objIn":"bp13-105","objOut":"bp13-124"}]},{"name":"Button 2 Pressed","links":[{"portIn":"exe","portOut":"Button 2 Pressed","objIn":"bp13-101","objOut":"bp13-124"},{"portIn":"Trigger","portOut":"Button 2 Pressed","objIn":"bp13-105","objOut":"bp13-124"},{"portIn":"Trigger Query","portOut":"Button 2 Pressed","objIn":"bp13-109","objOut":"bp13-124"},{"portIn":"innerIn_6cx1z6hj0","portOut":"Button 2 Pressed","objIn":"bp13-63","objOut":"bp13-124"}]},{"name":"Icon Pressed","links":[{"portIn":"Execute","portOut":"Icon Pressed","objIn":"bp13-125","objOut":"bp13-124"}]},{"name":"Text 1 Pressed","links":[{"portIn":"Execute","portOut":"Text 1 Pressed","objIn":"bp13-125","objOut":"bp13-124"}]},{"name":"Text 2 Pressed","links":[{"portIn":"Execute","portOut":"Text 2 Pressed","objIn":"bp13-125","objOut":"bp13-124"}]}],"objName":"Ops.User.rambodc.Collect_button1"},{"id":"bp13-125","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp13-122","objOut":"bp13-125"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-126","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"Collect $a RAZ"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Button 2 Text","portOut":"Result","objIn":"bp13-124","objOut":"bp13-126"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp13-127","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"number 1","value":2},{"name":"math mode index","value":3},{"name":"math mode","value":"/"}],"portsOut":[{"name":"result","links":[{"portIn":"Number","portOut":"result","objIn":"bp13-128","objOut":"bp13-127"}]}],"objName":"Ops.Math.Math"},{"id":"bp13-128","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Decimal Places","value":4}],"portsOut":[{"name":"Result","links":[{"portIn":"String A","portOut":"Result","objIn":"bp13-126","objOut":"bp13-128"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp13-129","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"n6dz5ut5m","title":"Trigger"},{"name":"lgwr24sd3","value":"/c","title":"Directory 1"},{"name":"t9sx2ey0f","value":"/postCollect/","title":"Directory 2"},{"name":"1ovs04j4c","title":"Directory 3"},{"name":"l3dmhco3f","value":"","title":"Directory 4"},{"name":"u4qh8rfom","value":"","title":"Directory 5"},{"name":"patchId","value":"q1w7jdpv7"}],"objName":"Ops.User.rambodc.SetURL"},{"id":"bp13-130","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"n6dz5ut5m","portOut":"Next","objIn":"bp13-129","objOut":"bp13-130"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp13-131","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"1ovs04j4c","portOut":"String","objIn":"bp13-129","objOut":"bp13-131"}]}],"objName":"Ops.String.String_v2"},{"id":"bp13-132","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp13-133","objOut":"bp13-132"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp13-133","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String A","portOut":"Output","objIn":"bp13-134","objOut":"bp13-133"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp13-134","uiAttribs":{"subPatch":"l30s5xry3"},"storage":{},"portsIn":[{"name":"Format","value":"https://firebasestorage.googleapis.com/v0/b/$a.appspot.com/o/posts%2F$b%2Fresized%2F$b_800x800.png?alt=media                              "},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp13-64","objOut":"bp13-134"},{"portIn":"Image URL","portOut":"Result","objIn":"bp13-117","objOut":"bp13-134"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp13-135","uiAttribs":{"subPatch":"l30s5xry3"},"portsIn":[{"name":"Variable","value":"splitRaz"}],"portsOut":[{"name":"Value","links":[{"portIn":"Amount","portOut":"Value","objIn":"bp13-138","objOut":"bp13-135"}]}],"storage":{"ref":"bp13-135"},"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp13-136","uiAttribs":{"subPatch":"l30s5xry3"},"portsIn":[{"name":"Variable","value":"usersListner"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp13-137","objOut":"bp13-136"}]}],"storage":{"ref":"bp13-136"},"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp13-137","uiAttribs":{"subPatch":"l30s5xry3"},"portsIn":[{"name":"Path","value":"dailyRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Daily Raz","portOut":"Output","objIn":"bp13-138","objOut":"bp13-137"}]},{"name":"Found","value":true}],"storage":{"ref":"bp13-137"},"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp13-138","uiAttribs":{"subPatch":"l30s5xry3"},"portsIn":[{"name":"Max Raz","value":100},{"name":"Min Raz","value":0.2}],"portsOut":[{"name":"Current Raz","links":[{"portIn":"number 0","portOut":"Current Raz","objIn":"bp13-127","objOut":"bp13-138"}]}],"storage":{"ref":"bp13-138"},"objName":"Ops.User.rambodc.Max_daily_RAZ"}]}'};const c=e.inObject("gomrari2f");c.setUiAttribs({title:"link"});const d=e.inTrigger("nw0o4y8ut");d.setUiAttribs({title:"Mainloop",display:"button"});d.setUiAttribs({values:[""]});const g=e.inFloat("ktz8ivcyy",1);g.setUiAttribs({title:"isActive"});g.setUiAttribs({values:[""]});const m=e.inString("c5w4ricnn","9TVNZeF9210m6flUDSpY");m.setUiAttribs({title:"postId"});m.setUiAttribs({values:[""]});const b=e.inTrigger("tkjeqas9u");b.setUiAttribs({title:"exe"});const h=e.outTrigger("6cx1z6hj0");h.setUiAttribs({title:"Button Right Pressed"});const f=e.outObject("riq7fj6wq");f.setUiAttribs({title:"User Object"});f.setUiAttribs({values:[""]});const v=e.outObject("wnpbv6gvw");v.setUiAttribs({title:"Post Object"});v.setUiAttribs({values:[""]});const O=e.outTrigger("upe3uf8g9");O.setUiAttribs({title:"Button 1 Pressed"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_gomrari2f");n.setUiAttribs({title:"link"});c.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outTrigger("innerOut_nw0o4y8ut");r.setUiAttribs({title:"Mainloop"});d.onTriggered=()=>{r.trigger()};const a=t[e].outNumber("innerOut_ktz8ivcyy");a.set(g.get());a.setUiAttribs({title:"isActive"});g.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_c5w4ricnn");i.set(m.get());i.setUiAttribs({title:"postId"});m.on("change",(e,t)=>{i.set(e)});const o=t[e].outTrigger("innerOut_tkjeqas9u");o.setUiAttribs({title:"exe"});b.onTriggered=()=>{o.trigger()}}if(t[e].innerOutput){const s=t[e].inTrigger("innerIn_6cx1z6hj0");s.setUiAttribs({title:"Button Right Pressed"});s.onTriggered=()=>{h.trigger()};const u=t[e].inObject("innerIn_riq7fj6wq");u.setUiAttribs({title:"User Object"});u.on("change",(e,t)=>{f.setRef(e)});const l=t[e].inObject("innerIn_wnpbv6gvw");l.setUiAttribs({title:"Post Object"});l.on("change",(e,t)=>{v.setRef(e)});const p=t[e].inTrigger("innerIn_upe3uf8g9");p.setUiAttribs({title:"Button 1 Pressed"});p.onTriggered=()=>{O.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.Post2.prototype=new CABLES.Op;CABLES.OPS["b02aa304-b226-473e-95ac-42ebb2c31904"]={f:Ops.User.rambodc.Post2,objName:"Ops.User.rambodc.Post2"};Ops.Patch.Pbhaubb.SubPatch3=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:"op.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n",subpatch_json:'{"ops":[{"id":"bp14-0","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Experimental Stringify","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp14-1","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp14-2","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsOut":[{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp14-3","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsOut":[{"name":"User Status Update Response","links":[{"portIn":"Object","portOut":"User Status Update Response","objIn":"bp14-0","objOut":"bp14-3"}]},{"name":"Error Message","value":""},{"name":"Is Listening","value":false},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp14-2","objOut":"bp14-3"}]},{"name":"Failure","links":[{"portIn":"exe","portOut":"Failure","objIn":"bp14-1","objOut":"bp14-3"}]}],"objName":"Ops.User.rambodc.V1UserStatusUpdate"},{"id":"bp14-4","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"Variable","value":"fbAuthToken"}],"portsOut":[{"name":"Value","links":[{"portIn":"Firebase Auth Token","portOut":"Value","objIn":"bp14-3","objOut":"bp14-4"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp14-5","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Request Body","portOut":"Result","objIn":"bp14-3","objOut":"bp14-5"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp14-6","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"value","value":""}],"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp14-10","objOut":"bp14-6"}]}],"objName":"Ops.String.String_v2"},{"id":"bp14-7","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"Variable","value":"urlPath"}],"portsOut":[{"name":"Value","links":[{"portIn":"String E","portOut":"Value","objIn":"bp14-10","objOut":"bp14-7"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp14-8","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"Variable","value":"fbConfig"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp14-9","objOut":"bp14-8"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp14-9","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"Path","value":"projectId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp14-10","objOut":"bp14-9"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp14-10","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"portsIn":[{"name":"Format","value":"\\n\\n{\\n  \\"postId\\": \\"$a\\",\\n  \\"title\\": \\"$b\\",\\n  \\"description\\": \\"$c\\",\\n  \\"image\\": \\"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fresized%2F$a_1200x1200.png?alt=media\\",\\n  \\"ogUrl\\": \\"https://firebasestorage.googleapis.com/v0/b/$d.appspot.com/o/posts%2F$a%2Fog%2Findex.html?alt=media\\",\\n  \\"redirectUrl\\": \\"$e#/d/post/$a\\",\\n  \\"refresh\\": \\"1\\"\\n}\\n\\n\\n"},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String F","value":""},{"name":"String G","value":""},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"String M","value":""},{"name":"String N","value":""},{"name":"String O","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp14-5","objOut":"bp14-10"}]}],"objName":"Ops.User.rambodc.StringComposeEditorMAX"},{"id":"bp14-11","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"objName":"Ops.Ui.SubPatchInput"},{"id":"bp14-12","uiAttribs":{"subPatch":"k1owm9w8v"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"}]}'};e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){if(!n||!n.subpatch_json)return;const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.Patch.Pbhaubb.SubPatch3.prototype=new CABLES.Op;CABLES.OPS["25859f3a-86f6-40b1-9a7e-ea149b2b5f40"]={f:Ops.Patch.Pbhaubb.SubPatch3,objName:"Ops.Patch.Pbhaubb.SubPatch3"};Ops.Ui.SubPatchInput=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};t.innerInput=true;const n=t.inTriggerButton("Goto SubPatchOp");n.setUiAttribs({hidePort:true});n.onTriggered=()=>{const e=t.patch.getSubPatchOuterOp(t.uiAttribs.subPatch);gui.patchView.centerSelectOp(e.id)}};Ops.Ui.SubPatchInput.prototype=new CABLES.Op;CABLES.OPS["c4e4e933-136e-479e-8de8-0b35b75d9217"]={f:Ops.Ui.SubPatchInput,objName:"Ops.Ui.SubPatchInput"};Ops.Ui.SubPatchOutput=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};e.innerOutput=true};Ops.Ui.SubPatchOutput.prototype=new CABLES.Op;CABLES.OPS["02d45073-7936-4830-81ad-59a162febf1f"]={f:Ops.Ui.SubPatchOutput,objName:"Ops.Ui.SubPatchOutput"};Ops.String.StringEquals=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("String 1"),r=e.inString("String 2"),a=e.outBoolNum("Result");n.onChange=r.onChange=function(){a.set(n.get()==r.get())}};Ops.String.StringEquals.prototype=new CABLES.Op;CABLES.OPS["ef15195a-760b-4ac5-9630-322b0ba7b722"]={f:Ops.String.StringEquals,objName:"Ops.String.StringEquals"};Ops.Website.InfoURL=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.outString("URL"),r=e.outString("Host"),a=e.outString("Hash"),i=e.outString("Pathname"),o=e.outString("Protocol"),s=e.outString("Port"),u=e.outTrigger("Hash Changed");e.onDelete=()=>{window.removeEventListener("hashchange",p)};window.addEventListener("hashchange",p);const l=document.location;n.set(l.href);r.set(l.host);a.set(l.hash);i.set(l.pathname);o.set(l.protocol);s.set(l.port);function p(){const e=document.location;a.set(e.hash);u.trigger()}};Ops.Website.InfoURL.prototype=new CABLES.Op;CABLES.OPS["e72fbd80-f9c7-4572-8b6d-a485ef474b74"]={f:Ops.Website.InfoURL,objName:"Ops.Website.InfoURL"};Ops.User.rambodc.Path_Parser=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Path","/b/hello/world/path/example");const r=e.outString("Directory 1","");const a=e.outString("Directory 2","");const i=e.outString("Directory 3","");const o=e.outString("Directory 4","");const s=e.outString("Directory 5","");function u(){let e=n.get();if(!e.startsWith("/")){e="/"+e}const t=e.split("/").filter(Boolean);r.set(t.length>0?t[0]:"");a.set(t.length>1?t[1]:"");i.set(t.length>2?t[2]:"");o.set(t.length>3?t[3]:"");s.set(t.length>4?t[4]:"")}n.onChange=u;u()};Ops.User.rambodc.Path_Parser.prototype=new CABLES.Op;CABLES.OPS["966c1ad2-20a6-4c6e-b390-a26fe4fdbcfa"]={f:Ops.User.rambodc.Path_Parser,objName:"Ops.User.rambodc.Path_Parser"};Ops.String.StringReplace=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inString("String"),r=t.inString("Search For","foo"),a=t.inString("Replace","bar"),i=t.inSwitch("Replace What",["All","First"],"All"),o=t.outString("Result");a.onChange=n.onChange=i.onChange=r.onChange=s;function s(){t.setUiError("exception",null);let e="";try{if(i.get()=="All")e=String(n.get()).replace(new RegExp(r.get(),"g"),a.get());else e=String(n.get()).replace(r.get(),a.get())}catch(e){t.setUiError("exception","exception "+e.message)}o.set(e)}};Ops.String.StringReplace.prototype=new CABLES.Op;CABLES.OPS["4a053e7a-6b00-4e71-bd51-90cdb190994c"]={f:Ops.String.StringReplace,objName:"Ops.String.StringReplace"};Ops.Trigger.GateTrigger=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Execute"),r=e.inValueBool("Pass Through",true),a=e.outTrigger("Trigger out");n.onTriggered=function(){if(r.get())a.trigger()}};Ops.Trigger.GateTrigger.prototype=new CABLES.Op;CABLES.OPS["65e8b8a2-ba13-485f-883a-2bcf377989da"]={f:Ops.Trigger.GateTrigger,objName:"Ops.Trigger.GateTrigger"};Ops.Trigger.DelayedTrigger=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("exe"),r=e.inValueFloat("delay",1),a=e.inTriggerButton("Cancel"),i=e.outTrigger("next"),o=e.outBool("Delaying");let s=null;a.onTriggered=function(){if(s)clearTimeout(s);s=null};n.onTriggered=function(){o.set(true);if(s)clearTimeout(s);s=setTimeout(function(){o.set(false);s=null;i.trigger()},r.get()*1e3)}};Ops.Trigger.DelayedTrigger.prototype=new CABLES.Op;CABLES.OPS["f4ff66b0-8500-46f7-9117-832aea0c2750"]={f:Ops.Trigger.DelayedTrigger,objName:"Ops.Trigger.DelayedTrigger"};Ops.Boolean.IfTrueThen_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("exe"),r=e.inValueBool("boolean",false),a=e.outTrigger("then"),i=e.outTrigger("else");n.onTriggered=o;function o(){if(r.get())a.trigger();else i.trigger()}};Ops.Boolean.IfTrueThen_v2.prototype=new CABLES.Op;CABLES.OPS["9549e2ed-a544-4d33-a672-05c7854ccf5d"]={f:Ops.Boolean.IfTrueThen_v2,objName:"Ops.Boolean.IfTrueThen_v2"};Ops.Trigger.TriggerReceive=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={};const t=r.outTrigger("Triggered");r.varName=r.inValueSelect("Named Trigger",[],"",true);i();r.patch.addEventListener("namedTriggersChanged",i);let n=null;function a(){t.trigger()}function i(){if(CABLES.UI){let t=[];let n=r.patch.namedTriggers;for(let e in n)t.push(e);t=t.sort();r.varName.uiAttribs.values=t}}r.varName.onChange=function(){if(n){let e=r.patch.namedTriggers[n];let t=e.indexOf(a);if(t!=-1)e.splice(t,1)}r.setTitle(">"+r.varName.get());r.patch.namedTriggers[r.varName.get()]=r.patch.namedTriggers[r.varName.get()]||[];let e=r.patch.namedTriggers[r.varName.get()];e.push(a);n=r.varName.get();o();r.patch.emitEvent("opTriggerNameChanged",r,r.varName.get())};r.on("uiParamPanel",o);function o(){if(!r.varName.get()){r.setUiError("unknowntrigger","unknown trigger")}else r.setUiError("unknowntrigger",null)}};Ops.Trigger.TriggerReceive.prototype=new CABLES.Op;CABLES.OPS["0816c999-f2db-466b-9777-2814573574c5"]={f:Ops.Trigger.TriggerReceive,objName:"Ops.Trigger.TriggerReceive"};Ops.Array.PointArray.SubdivideArray3_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const c=e.inArray("Points"),d=e.inInt("Num Subdivs",5),g=e.inValueBool("Smooth",true),m=e.inValueBool("Loop",false),b=e.inValueBool("Bezier Start/End Points",true),h=e.outArray("Result");e.toWorkPortsNeedToBeLinked(c);let f=[];d.onChange=m.onChange=g.onChange=c.onChange=b.onChange=n;c.onLinkChanged=()=>{c.copyLinkedUiAttrib("stride",h)};function v(e,t,n,r){const a=e*(1-r)*(1-r)+2*t*(1-r)*r+n*r*r;return a}function n(){m.setUiAttribs({greyout:!g.get()});b.setUiAttribs({greyout:!g.get()});if(!c.get()){h.set(null);return}const n=Math.floor(d.get());const r=c.get();if(r.length<3)return;let a=0;let i=0;let o=0;let s=0;if(n>0&&!g.get()){const e=(r.length-3)*n+3;if(e!=f.length){f.length=e}s=0;for(a=0;a<r.length-3;a+=3){for(i=0;i<n;i++){for(o=0;o<3;o++){f[s]=r[a+o]+(r[a+o+3]-r[a+o])*i/n;s++}}}f[e-3]=r[r.length-3];f[e-2]=r[r.length-2];f[e-1]=r[r.length-1]}else if(n>0&&g.get()){let e=(r.length-6)*(n-1);if(b.get())e+=6;if(e!=f.length)f.length=Math.floor(Math.abs(e));s=0;if(b.get()){f[0]=r[0];f[1]=r[1];f[2]=r[2];s=3}const l=m.get();function u(e){if(l)return e%(r.length-3);else return e}let t=r.length-3;if(l)t=r.length;for(a=3;a<t;a+=3){for(i=0;i<n;i++){for(o=0;o<3;o++){const p=v((r[u(a+o-3)]+r[u(a+o)])/2,r[u(a+o+0)],(r[u(a+o+3)]+r[u(a+o+0)])/2,i/n);f[s]=p;s++}}}if(l){f[s+0]=f[0];f[s+1]=f[1];f[s+2]=f[2];s++;s++;s++}if(b.get()){f[s-0]=r[r.length-3];f[s+1]=r[r.length-2];f[s+2]=r[r.length-1]}}if(n==0){f=Array.from(r)}h.setRef(f)}};Ops.Array.PointArray.SubdivideArray3_v2.prototype=new CABLES.Op;CABLES.OPS["d8bb5727-35e4-4e2a-999b-112ebc659720"]={f:Ops.Array.PointArray.SubdivideArray3_v2,objName:"Ops.Array.PointArray.SubdivideArray3_v2"};Ops.Array.RandomNumbersArray_v4=function(){CABLES.Op.apply(this,arguments);const p=this;const e=p.attachments={};const c=p.inValueInt("Num Values",100),d=p.inSwitch("Mode",["A","AB","ABC","ABCD"],"A"),g=p.inValueFloat("Random Seed ",0),m=p.inBool("Integer",false),b=p.inValueBool("Last == First"),h=p.outArray("Array Out"),f=p.outNumber("Chunks Amount"),v=p.outNumber("Array length");const t=["A","B","C","D"];const O=[];const y=t.map(function(e){return{min:p.inValueFloat("Min "+e,-1),max:p.inValueFloat("Max "+e,1)}});for(let e=0;e<y.length;e+=1){const n=y[e];const a=Object.keys(n);p.setPortGroup("Value Range "+t[e],a.map(function(e){return n[e]}));if(e>0)a.forEach(function(e){n[e].setUiAttribs({greyout:true})})}d.onChange=function(){const e=d.get();const t=d.uiAttribs.values;h.setUiAttribs({stride:d.get().length});const a=t.indexOf(e);y.forEach(function(n,r){const e=Object.keys(n);e.forEach(function(e,t){if(r<=a)n[e].setUiAttribs({greyout:false});else n[e].setUiAttribs({greyout:true})})});r()};h.ignoreValueSerialize=true;b.onChange=c.onChange=g.onChange=m.onChange=r;const x=[];r();function r(){const e=d.get();const t=d.uiAttribs.values;const n=t.indexOf(e);const r=Math.floor(Math.abs(c.get()));Math.randomSeed=g.get();p.setUiAttrib({extendTitle:r+"*"+e.length});const a=n+1;const i=r*a;O.length=i;const o=i/a;const s=m.get();for(let t=0;t<a;t+=1){const e=y[t];const u=e.max.get();const l=e.min.get();x[t]=[l,u]}for(let t=0;t<o;t+=1){for(let e=0;e<a;e+=1){const l=x[e][0];const u=x[e][1];const n=t*a+e;if(s)O[n]=Math.floor(Math.seededRandom()*(u+1-l)+l);else O[n]=Math.seededRandom()*(u-l)+l}}if(b.get()&&O.length>a){for(let e=0;e<a;e++)O[O.length-3+e]=O[e]}h.setRef(O);f.set(O.length/a);v.set(O.length)}y.forEach(function(n){Object.keys(n).forEach(function(e){const t=n[e];t.onChange=r})})};Ops.Array.RandomNumbersArray_v4.prototype=new CABLES.Op;CABLES.OPS["8a9fa2c6-c229-49a9-9dc8-247001539217"]={f:Ops.Array.RandomNumbersArray_v4,objName:"Ops.Array.RandomNumbersArray_v4"};Ops.Gl.Meshes.SplineMesh_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Render"),o=e.inArray("Points"),s=e.inBool("Tesselate Edges",false),r=e.inBool("Render Mesh",true),a=e.outTrigger("Next");const i=new CGL.Geometry("splinemesh_2");i.vertices=[];i.clear();let u=[];const l=e.patch.cgl;let p=new Float32Array;let c=new Float32Array;let d=new Float32Array;let g=new Float32Array;let m=null;let b=new Float32Array;const h=new Float32Array;const f=[];const v=[0,0,0];let O=new CGL.Mesh(l,i);O.addVertexNumbers=true;let y=true;s.onChange=o.onChange=()=>{y=true};n.onTriggered=I;let x=null;function I(){if(y)j();if(O&&r.get()){if(x!=l.getShader()){x=l.getShader();if(!x)return;if(x.getName()!="splinemesh_material")e.setUiError("nosplinemat","Splinemesh needs a SplineMeshMaterial!");else e.setUiError("nosplinemat");x=l.getShader()}if(v.length>0)O.render(x)}a.trigger()}function S(){v.length=0;const t=1;const n=-t;for(let e=0;e<u.length/3;e++){v.push(t,n,0,0,n,0,t,t,0,0,n,0,0,t,0,t,t,0)}i.vertices=v;if(!O)O=new CGL.Mesh(l,i);O.addVertexNumbers=true;O.setGeom(i);O.addVertexNumbers=true}function j(){const r=o.get();if(!r||r.length===0){O=null;return}if(r[0]&&r[0].length){const i=[];m=[];let n=0;for(let t=0;t<r.length;t++){for(let e=0;e<r[t].length/3;e++){m[(n-3)/3]=t;i[n++]=r[t][e*3+0];i[n++]=r[t][e*3+1];i[n++]=r[t][e*3+2]}}u=i}else{m=null;u=r}if(s.get())u=A(u);S();const t=u.length*6;let n=0;let e=0;let a=0;if(p.length!=t){p=new Float32Array(t);c=new Float32Array(t);d=new Float32Array(t);g=new Float32Array(t/3);b=new Float32Array(t/3);for(let e=0;e<t/3;e++)b[e]=e/(t/3)}for(let t=0;t<u.length/3;t++){if(m){if(t>1&&e!=m[t])a=0;else a=1;e=m[t]}else a=1;for(let e=0;e<6;e++){g[n/3]=a;for(let e=0;e<3;e++){p[n]=u[Math.max(0,t-1)*3+e];c[n]=u[(t+0)*3+e];d[n]=u[(t+1)*3+e];n++}}}O.setAttribute("spline",p,3);O.setAttribute("spline2",c,3);O.setAttribute("spline3",d,3);O.setAttribute("splineDoDraw",g,1);O.setAttribute("splineProgress",b,1);y=false}function _(e,t,n){return e+n*(t-e)}function A(t){let n=0;const r=.001;const a=1-r;const e=t.length*3-3;f.length=e;const i=[];if(m)i[0]=m[1];for(let e=0;e<t.length-3;e+=3){f[n++]=t[e+0];f[n++]=t[e+1];f[n++]=t[e+2];if(m)i[n/3]=m[e/3];f[n++]=_(t[e+0],t[e+3],r);f[n++]=_(t[e+1],t[e+4],r);f[n++]=_(t[e+2],t[e+5],r);if(m)i[n/3]=m[e/3];f[n++]=_(t[e+0],t[e+3],a);f[n++]=_(t[e+1],t[e+4],a);f[n++]=_(t[e+2],t[e+5],a);if(m)i[n/3]=m[e/3]}if(m)m=i;return f}};Ops.Gl.Meshes.SplineMesh_v2.prototype=new CABLES.Op;CABLES.OPS["287abf6c-5501-4bc9-a627-70ec3c3766d2"]={f:Ops.Gl.Meshes.SplineMesh_v2,objName:"Ops.Gl.Meshes.SplineMesh_v2"};Ops.Gl.Meshes.SplineMeshMaterial_v2=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={splinemat_frag:"IN vec2 texCoord;\nIN float splineDoDrawFrag;\nUNI vec4 color;\nUNI sampler2D tex;\nUNI sampler2D texMask;\n\n{{MODULES_HEAD}}\n\nvoid main()\n{\n    vec4 col=color;\n\n    #ifdef USE_TEXTURE\n        #ifdef TEX_COLORIZE\n            col*=texture(tex,texCoord);\n        #endif\n        #ifndef TEX_COLORIZE\n            col=texture(tex,texCoord);\n        #endif\n    #endif\n\n    col.a=color.a;\n\n    #ifdef USE_TEXMASK\n        col.a*=texture(texMask,texCoord).r;\n        if(col.a==0.0) discard;\n    #endif\n\n    {{MODULE_COLOR}}\n\n    // if(splineDoDrawFrag==0.0) col.rgb=vec3(1.0,0.0,0.0);\n    if(splineDoDrawFrag==0.0) discard;\n\n    outColor = col;\n}",splinemat_vert:"{{MODULES_HEAD}}\n\nIN vec3 vPosition;\nIN float attrVertIndex;\nIN float splineProgress;\nIN vec3 spline,spline2,spline3;\nIN float splineDoDraw;\n\nOUT float splineDoDrawFrag;\nOUT vec2 texCoord;\nOUT vec3 norm;\nUNI mat4 projMatrix;\nUNI mat4 viewMatrix;\nUNI mat4 modelMatrix;\n\nUNI float width;\nUNI float texOffset;\nUNI float aspect;\n\n#define PI 3.1415926538\n\nvec2 rotate(vec2 v, float a)\n{\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvec2 fix( vec4 i )\n{\n    vec2 res = i.xy / i.w;\n    return res;\n}\n\nvoid main()\n{\n    texCoord=vPosition.xy;\n    texCoord.y=texCoord.y*0.5+0.5;\n    #ifdef TEX_MAP_FULL\n        texCoord.x=splineProgress;\n    #endif\n    texCoord.x+=texOffset;\n\n    mat4 mMatrix=modelMatrix;\n    mat4 mvMatrix=viewMatrix * mMatrix;\n\n    splineDoDrawFrag=splineDoDraw;\n\n    // vec4 pos=vec4((spline2+spline3+spline)/3.0*vPosition,1.0);\n    vec4 pos=vec4(spline2,1.0);\n\n    {{MODULE_VERTEX_POSITION}}\n\n    vec4 finalPosition  = projMatrix * mvMatrix * (vec4(spline2,1.0));\n    vec4 finalPosition2 = projMatrix * mvMatrix * (vec4(spline3,1.0));\n\n    vec2 screenPos =fix(projMatrix * mvMatrix * vec4(spline,1.0));\n    vec2 screenPos2=fix(projMatrix * mvMatrix * vec4(spline2,1.0));\n    vec2 screenPos3=fix(projMatrix * mvMatrix * vec4(spline3,1.0));\n\n    float wid=width/10.0;\n\n    #ifndef PERSPWIDTH\n        wid=width*finalPosition.w*0.0025;\n    #endif\n\n    vec2 dir1 = normalize( screenPos2 - screenPos );\n    vec2 dir2 = normalize( screenPos3 - screenPos2 );\n\n\tif( screenPos2 == screenPos ) dir1 = normalize( screenPos3 - screenPos2 );\n\n    vec2 normal = vec2( -dir1.y/aspect, dir1.x ) * 0.5 * wid;\n    vec2 normal2 = vec2( -dir2.y/aspect, dir2.x ) * 0.5 * wid;\n\n    vec4 offset = vec4( mix(normal,normal2,vPosition.x) * vPosition.y, 0.0, 1.0 );\n\n    finalPosition = mix(finalPosition,finalPosition2,vPosition.x);\n\tfinalPosition.xy += offset.xy;\n\n    gl_Position = finalPosition;\n}\n"};const t=n.inTrigger("Render"),r=n.inFloat("Width",.2),a=n.inBool("Width Perspective",true),i=n.inTexture("Texture"),o=n.inTexture("Texture Mask"),s=n.inSwitch("Mapping",["Full","Face"],"Full"),u=n.inBool("Colorize Texture",false),l=n.inFloat("Offset",0),p=n.inValueSlider("r",Math.random()),c=n.inValueSlider("g",Math.random()),d=n.inValueSlider("b",Math.random()),g=n.inValueSlider("a",1),m=n.outTrigger("Trigger"),b=n.outObject("Shader");p.setUiAttribs({colorPick:true});b.ignoreValueSerialize=true;const h=n.patch.cgl;n.toWorkPortsNeedToBeLinked(t);n.setPortGroup("Color",[p,c,d,g]);n.setPortGroup("Texture",[i,s,u]);const f=new CGL.Shader(h,"splinemesh_material",this);f.setModules(["MODULE_VERTEX_POSITION","MODULE_COLOR","MODULE_BEGIN_FRAG"]);f.setSource(e.splinemat_vert,e.splinemat_frag);b.set(f);const v=f.addUniformFrag("t","tex");const O=f.addUniformFrag("t","texMask");let y=1.7777;f.addUniformFrag("4f","color",p,c,d,g);f.addUniformFrag("f","width",r);f.addUniformFrag("f","texOffset",l);f.addUniformFrag("f","aspect",y);f.toggleDefine("PERSPWIDTH",a);f.toggleDefine("USE_TEXTURE",i);f.toggleDefine("TEX_COLORIZE",u);f.toggleDefine("USE_TEXMASK",o);s.on("change",I);t.onTriggered=x;I();function x(){if(!f)return;const e=n.patch.cgl.getViewPort();const t=e[2]/e[3];if(t!=y){y=t;f.addUniformFrag("f","aspect",y)}h.pushShader(f);f.popTextures();if(v&&i.get())f.pushTexture(v,i.get().tex);if(O&&o.get())f.pushTexture(O,o.get().tex);m.trigger();h.popShader()}function I(){f.toggleDefine("TEX_MAP_FULL",s.get()==="Full")}};Ops.Gl.Meshes.SplineMeshMaterial_v2.prototype=new CABLES.Op;CABLES.OPS["5ff7c643-cbea-44cc-9f34-fb18a44bcfff"]={f:Ops.Gl.Meshes.SplineMeshMaterial_v2,objName:"Ops.Gl.Meshes.SplineMeshMaterial_v2"};Ops.Gl.GradientTexture=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const T=n.inGradient("Gradient"),C=n.inValueSelect("Direction",["X","XX","Y","YY","XY","YX","Radial"],"X"),w=n.inValueBool("Smoothstep",false),k=n.inBool("Step",false),N=n.inBool("Flip",false),P=n.inBool("sRGB",false),E=n.inBool("Oklab",false),L=n.inValueInt("Size",256),D=n.inSwitch("filter",["nearest","linear","mipmap"],"linear"),M=n.inValueSelect("wrap",["clamp to edge","repeat","mirrored repeat"],"clamp to edge"),b=n.inFloatSlider("Dither",0),r=n.inArray("Gradient Array"),t=n.inTriggerButton("Randomize Colors"),B=n.outTexture("Texture"),z=n.outArray("Colors",null,3),V=n.outArray("Colors Pos",null,1);const R=n.patch.cgl;let a=null;T.setUiAttribs({editShortcut:true});const i=[221,125,40,94,163,50,214,174,69,229,135,79,25,92,217,129,103,155,16,237,168,75,212,126,203,157,104,223,50,96,115,189,0,104,199,16,185,242,83,26,123,95,191,175,247,159,32,170,0,88,203,133,106,46,227,14,35,246,66,20,240,205,36,159,74,252,148,231,132,117,6,145,254,39,222,5,111,46,67,197,228,116,181,66,25,245,98,139,172,89,190,149,127,177,64,138,210,169,58,28,70,100,206,188,164,107,60,150,203,126,235,142,56,249,38,222,148,178,195,56,115,230,45,108,7,84,234,21,44,90,110,216,178,37,226,53,14,77,212,31,86,180,100,23,82,14,162,93,122,6,81,156,24,209,75,255,163,218,196,121,237,187,9,152,247,136,158,91,128,232,169,137,251,10,216,154,188,131,211,71,200,34,236,216,129,13,179,136,32,54,99,146,33,131,202,49,84,18,64,197,245,114,21,193,52,74,118,44,243,105,173,50,252,110,63,166,41,102,199,62,117,184,15,77,250,162,69,120,231,107,213,2,177,43,67,102,159,238,171,206,64,29,233,10,151,135,185,87,247,147,223,91,241,152,225,175,3,102,220,25,191,170,36,143,81,152,209,224,133,35,93,2,145,87,124,193,97,22,228,1,120,51,171,8,26,210,108,48,205,59,179,92,147,253,124,99,237,186,11,120,19,181,229,112,198,160,220,76,42,210,160,71,202,31,78,190,130,67,86,138,115,156,243,14,46,74,57,219,28,51,90,250,59,81,140,47,255,17,58,181,243,114,56,178,239,139,228,156,251,40,167,232,28,38,82,136,206,161,9,196,106,139,167,204,150,195,218,70,172,35,132,103,146,27,89,128,16,107,96,57,119,201,15,187,239,126,194,225,112,182,234,131,174,240,72,39,109,29,8,100,122,207,231,4,166,224,198,153,217,44,183,212,4,93,143,72,99,172,64,0,97,34,85,66,20,208,3,125,243,164,186,235,156,82,191,67,248,49,80,10,253,68,23,162,244,179,49,215,24,151,246,51,214,153,251,118,45,157,98,224,53,88,134,62,42,23,116,94,140,33,121,188,169,141,113,76,33,131,227,110,11,202,78,122,168,18,141,194,221,80,187,142,177,210,18,249,144,221,180,12,201,215,106,60,91,226,200,236,150,85,61,164,185,133,42,229,187,73,55,101,27,235,59,12,35,75,113,199,101,163,237,57,152,174,234,134,1,37,53,123,193,6,208,253,34,91,145,104,8,240,211,175,129,164,109,253,123,230,171,6,50,79,27,127,73,43,19,246,161,211,103,17,172,96,46,117,70,241,219,27,162,115,88,38,4,148,204,92,189,154,63,130,217,188,111,254,208,101,86,191,144,75,180,249,65,137,233,157,18,171,192,49,66,201,137,246,218,51,71,15,43,214,29,95,239,38,139,165,7,225,124,30,59,112,221,154,28,197,217,106,58,85,209,128,232,151,15,79,182,120,238,168,134,81,248,146,173,16,88,195,65,150,183,205,242,11,41,89,126,80,8,183,121,141,3,98,180,31,108,58,196,97,24,222,107,198,2,116,70,207,52,230,22,109,47,80,165,132,199,235,170,52,148,247,165,23,242,74,45,254,170,226,155,36,142,179,60,158,48,182,223,154,124,98,178,250,140,5,231,96,68,19,116,204,32,227,43,200,113,161,213,122,87,0,130,248,77,13,241,92,229,30,102,13,244,77,160,33,209,119,55,176,143,190,255,103,71,93,186,62,223,145,12,189,68,202,47,211,114,192,41,127,203,141,65,189,40,135,198,61,89,222,158,24,216,45,1,157,213,130,239,83,104,26,55,134,238,29,159,95,63,167,149,7,78,255,119,166,212,1,233,19,105,186,37,244,110,86,135,56,173,11,151,36,176,196,230,94,149,109,184,226,20,236,215,105,175,22,219,52,87,111,174,128,248,149,78,125,63,184,227,242,118,22,220,138,252,119,76,168,39,250,10,136,84,123,54,69,194,37,95,147,241,73,153,48,68,7,194,17,207,161,31,76,201,90,166,69,4,48,215,21,204,57,73,176,200,30,249,155,133,233,163,9,197,32,183,220,205,137,232,167,94,144,9,105,181,44,111,207,99,132,155,182,85,127,219,147,42,97,184,5,83,208,108,61,125,228,21,100,39,90,114,53,218,41,252,129,61,234,143,30,192,245,12,112,236,101,2,244,113,165,225,118,47,20,176,251,142,84,117,160,254,177,26,238,121,72,193,213,153,13,55,173,79,224,65,140,34,195,158,54,17,206,62,144,240,190,72,40,214,54,192,5,146,60,82,185,3,138,169,25,83,245];const h=32;b.onChange=M.onChange=D.onChange=k.onChange=N.onChange=P.onChange=E.onChange=L.onChange=T.onChange=w.onChange=C.onChange=r.onChange=o;T.set('{"keys" : [{"pos":0,"r":0,"g":0,"b":0},{"pos":1,"r":1,"g":1,"b":1}]}');n.onLoaded=o;t.onTriggered=()=>{const e=u();if(e){e.forEach(e=>{e.r=Math.random();e.g=Math.random();e.b=Math.random()});const t=JSON.stringify({keys:e});T.set(t)}};function U(e,t,n){let r=.4122214708*e+.5363325363*t+.0514459929*n;let a=.2119034982*e+.6806995451*t+.1073969566*n;let i=.0883024619*e+.2817188376*t+.6299787005*n;r=Math.cbrt(r);a=Math.cbrt(a);i=Math.cbrt(i);return[r*+.2104542553+a*+.793617785+i*-.0040720468,r*+1.9779984951+a*-2.428592205+i*+.4505937099,r*+.0259040371+a*+.7827717662+i*-.808675766]}function F(e,t,n){let r=e+t*+.3963377774+n*+.2158037573;let a=e+t*-.1055613458+n*-.0638541728;let i=e+t*-.0894841775+n*-1.291485548;r**=3;a**=3;i**=3;let o=r*+4.0767416621+a*-3.3077115913+i*+.2309699292;let s=r*-1.2684380046+a*+2.6097574011+i*-.3413193965;let u=r*-.0041960863+a*-.7034186147+i*+1.707614701;o=CABLES.clamp(o,0,1);s=CABLES.clamp(s,0,1);u=CABLES.clamp(u,0,1);return[o,s,u]}function G(e,t,n){e/=255;const r=.0031308;let a=12.92*e;let i=1.055*Math.pow(e,.41666)-.055;return(e<r?a:i)*255}function o(){R.addNextFrameOnceCallback(s)}function s(){const e=u();if(e)l(e)}function u(){let t=null;n.setUiError("nodata",null);n.setUiError("parse",null);if(Array.isArray(r.get())){t=r.get()}else{let e=null;if(!T.get()||T.get()===""){return null}try{e=JSON.parse(T.get())}catch(e){n.setUiError("parse","could not parse gradient data")}if(!e||!e.keys){n.setUiError("nodata","gradient no data");return null}t=e.keys}return t}function f(e,t){e%=h;t%=h;return i[e+t*h]/255-.5}function H(a,i,o){if(b.get()==0)return a;for(let r=0;r<i;r++)for(let n=0;n<o;n++){const s=a[(r+n*i)*4+0];const u=a[(r+n*i)*4+1];const l=a[(r+n*i)*4+2];let e=i/8*b.get()*f(r,n);let t=o/8*b.get()*f(r+h/2,n+h/2);if(o==1)t=0;if(i==1)e=0;e=Math.round(e);t=Math.round(t);const p=CABLES.clamp(n+t,0,o-1);const c=CABLES.clamp(r+e,0,i-1);const d=a[(c+p*i)*4+0];const g=a[(c+p*i)*4+1];const m=a[(c+p*i)*4+2];a[(r+n*i)*4+0]=d;a[(r+n*i)*4+1]=g;a[(r+n*i)*4+2]=m;a[(c+p*i)*4+0]=s;a[(c+p*i)*4+1]=u;a[(c+p*i)*4+2]=l}return a}function l(t){let a=Math.round(L.get());if(a<4)a=4;T.setUiAttribs({editShortcut:true,gradEditSmoothstep:w.get(),gradEditStep:k.get(),gradOklab:E.get()});let e=0;let n=0;if(M.get()=="repeat")e=CGL.Texture.WRAP_REPEAT;else if(M.get()=="mirrored repeat")e=CGL.Texture.WRAP_MIRRORED_REPEAT;else if(M.get()=="clamp to edge")e=CGL.Texture.WRAP_CLAMP_TO_EDGE;if(D.get()=="nearest")n=CGL.Texture.FILTER_NEAREST;else if(D.get()=="linear")n=CGL.Texture.FILTER_LINEAR;else if(D.get()=="mipmap")n=CGL.Texture.FILTER_MIPMAP;const r=new CGL.Texture(R);let i=new Uint8Array(a*4);for(let e=0;e<t.length-1;e++){const u=t[e];const l=t[e+1];for(let n=u.pos*a;n<l.pos*a;n++){let e=CABLES.map(n,u.pos*a,l.pos*a,0,1);if(k.get())e=Math.round(e);if(w.get())e=CABLES.smoothStep(e);n=Math.round(n);let t=n;if(N.get())t=a-n-1;if(E.get()){const p=U(u.r,u.g,u.b);const c=p[0];const d=p[1];const g=p[2];const m=U(l.r,l.g,l.b);const b=m[0];const h=m[1];const f=m[2];const v=e*b+(1-e)*c;const O=e*h+(1-e)*d;const y=e*f+(1-e)*g;const x=F(v,O,y);i[t*4+0]=Math.round(x[0]*255);i[t*4+1]=Math.round(x[1]*255);i[t*4+2]=Math.round(x[2]*255)}else{i[t*4+0]=Math.round((e*l.r+(1-e)*u.r)*255);i[t*4+1]=Math.round((e*l.g+(1-e)*u.g)*255);i[t*4+2]=Math.round((e*l.b+(1-e)*u.b)*255)}if(typeof u.a!=="undefined"&&typeof l.a!=="undefined"){const I=Math.round((e*l.a+(1-e)*u.a)*255);i[t*4+3]=I}else{i[t*4+3]=Math.round(255)}}}if(P.get())for(let e=0;e<i.length;e+=4){i[e+0]=G(i[e+0]);i[e+1]=G(i[e+1]);i[e+2]=G(i[e+2])}if(C.get()=="X")r.initFromData(H(i,a,1),a,1,n,e);if(C.get()=="Y")r.initFromData(H(i,1,a),1,a,n,e);if(C.get()=="Radial"){const S=new Uint8Array(a*a*4);for(let r=0;r<a;r++){for(let n=0;n<a;n++){const j=r-(a-1)/2;const _=n-(a-1)/2;let e=Math.sqrt(j*j+_*_)/a*2;if(w.get())e=CABLES.smoothStep(e);let t=Math.round(e*a)*4;if(t>=a*4)t=a*4-4;S[r*4+n*4*a+0]=i[t+0];S[r*4+n*4*a+1]=i[t+1];S[r*4+n*4*a+2]=i[t+2];S[r*4+n*4*a+3]=Math.round(255)}}i=S;r.initFromData(H(i,a,a),a,a,n,e)}if(C.get()=="XX"){const S=new Uint8Array(a*a*4);for(let t=0;t<a;t++)for(let e=0;e<a;e++){const A=t*4;S[t*4+e*4*a+0]=i[A+0];S[t*4+e*4*a+1]=i[A+1];S[t*4+e*4*a+2]=i[A+2];S[t*4+e*4*a+3]=Math.round(255)}i=S;r.initFromData(H(i,a,a),a,a,n,e)}if(C.get()=="YY"){const S=new Uint8Array(a*a*4);for(let t=0;t<a;t++)for(let e=0;e<a;e++){const A=t*4;S[e*4+t*4*a+0]=i[A+0];S[e*4+t*4*a+1]=i[A+1];S[e*4+t*4*a+2]=i[A+2];S[e*4+t*4*a+3]=Math.round(255)}i=S;r.initFromData(H(i,a,a),a,a,n,e)}if(C.get()=="XY"||C.get()=="YX"){const S=new Uint8Array(a*a*4);for(let r=0;r<a;r++){let n=r;if(C.get()=="YX")n=a-r-1;for(let t=0;t<a;t++){let e=Math.round((n+t)/2)*4;S[r*4+t*4*a+0]=i[e+0];S[r*4+t*4*a+1]=i[e+1];S[r*4+t*4*a+2]=i[e+2];S[r*4+t*4*a+3]=Math.round(255)}}i=S;r.initFromData(H(i,a,a),a,a,n,e)}const o=[];for(let e=0;e<t.length-1;e++){o.push(t[e].r,t[e].g,t[e].b)}const s=[];for(let e=0;e<t.length-1;e++){s.push(t[e].pos)}z.set(o);V.set(s);B.setRef(r)}};Ops.Gl.GradientTexture.prototype=new CABLES.Op;CABLES.OPS["01380a50-2dbb-4465-ae80-86349b0b717a"]={f:Ops.Gl.GradientTexture,objName:"Ops.Gl.GradientTexture"};Ops.Trigger.Sequence=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const t=i.inTrigger("exe"),n=i.inTriggerButton("Clean up connections");i.setUiAttrib({resizable:true,resizableY:false,stretchPorts:true});const r=[],o=[],a=16;let s=null,u=[];t.onTriggered=c;n.onTriggered=d;n.setUiAttribs({hideParam:true,hidePort:true});for(let t=0;t<a;t++){const g=i.outTrigger("trigger "+t);o.push(g);g.onLinkChanged=p;if(t<a-1){let e=i.inTrigger("exe "+t);e.onTriggered=c;r.push(e)}}l();function l(){u.length=0;for(let e=0;e<o.length;e++)if(o[e].links.length>0)u.push(o[e])}function p(){l();clearTimeout(s);s=setTimeout(()=>{let t=false;for(let e=0;e<o.length;e++)if(o[e].links.length>1)t=true;n.setUiAttribs({hideParam:!t});if(i.isCurrentUiOp())i.refreshParams()},60)}function c(){for(let e=0;e<u.length;e++)u[e].trigger()}function d(){let r=0;for(let n=0;n<o.length;n++){let t=[];if(o[n].links.length>1)for(let e=1;e<o[n].links.length;e++){while(o[r].links.length>0)r++;t.push(o[n].links[e]);const a=o[n].links[e].getOtherPort(o[n]);i.patch.link(i,"trigger "+r,a.op,a.name);r++}for(let e=0;e<t.length;e++)t[e].remove()}p();l()}};Ops.Trigger.Sequence.prototype=new CABLES.Op;CABLES.OPS["a466bc1f-06e9-4595-8849-bffb9fe22f99"]={f:Ops.Trigger.Sequence,objName:"Ops.Trigger.Sequence"};Ops.Gl.ImageCompose.ImageCompose_v4=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={imgcomp_frag:"IN vec2 texCoord;\nUNI vec4 bgColor;\nUNI sampler2D tex;\n#ifdef USE_UVTEX\nUNI sampler2D UVTex;\n#endif\n\nvoid main()\n{\n\n    #ifndef USE_TEX\n        outColor=bgColor;\n    #endif\n    #ifdef USE_TEX\n        #ifndef USE_UVTEX\n        outColor=texture(tex,texCoord);\n        #else\n        outColor=texture(tex,texture(UVTex,texCoord).xy);\n        #endif\n    #endif\n\n\n\n}\n"};const t=n.patch.cgl,r=n.inTrigger("Render"),a=n.inTexture("Base Texture"),i=n.inTexture("UV Texture"),o=n.inSwitch("Size",["Auto","Canvas","Manual"],"Auto"),s=n.inValueInt("Width",640),u=n.inValueInt("Height",480),l=n.inSwitch("Filter",["nearest","linear","mipmap"],"linear"),p=n.inValueSelect("Wrap",["clamp to edge","repeat","mirrored repeat"],"repeat"),c=n.inSwitch("Anisotropic",["0","1","2","4","8","16"],"0"),d=n.inDropDown("Pixel Format",CGL.Texture.PIXELFORMATS,CGL.Texture.PFORMATSTR_RGBA8UB),g=n.inBool("Clear",true),m=n.inValueSlider("R",0),b=n.inValueSlider("G",0),h=n.inValueSlider("B",0),f=n.inValueSlider("A",0),v=n.outTrigger("Next"),O=n.outTexture("texture_out",CGL.Texture.getEmptyTexture(t)),y=n.outNumber("Aspect Ratio"),D=n.outNumber("Texture Width"),M=n.outNumber("Texture Height");n.setPortGroup("Texture Size",[o,s,u]);n.setPortGroup("Texture Parameters",[p,c,l,d]);m.setUiAttribs({colorPick:true});n.setPortGroup("Color",[m,b,h,f,g]);n.toWorkPortsNeedToBeLinked(r);const B=[0,0,0,0];let x=null;let I=null;let S=true;let z=false;let j=null;let V=null;let R=null;let U=null;p.onChange=l.onChange=c.onChange=d.onChange=F;a.onLinkChanged=g.onChange=o.onChange=i.onChange=P;r.onTriggered=n.preRender=L;P();function _(){if(x)x.delete();if(I)I.delete();I=null;x=new CGL.TextureEffect(t,{isFloatingPointTexture:CGL.Texture.isPixelFormatFloat(d.get()),name:n.name});const e=Math.min(t.maxAnisotropic,parseFloat(c.get()));I=new CGL.Texture(t,{anisotropic:e,name:"image_compose_v2_"+n.id,pixelFormat:d.get(),filter:A(),wrap:T(),width:C(),height:w()});x.setSourceTexture(I);D.set(C());M.set(w());y.set(C()/w());O.set(CGL.Texture.getEmptyTexture(t));S=false;P()}function A(){if(l.get()=="nearest")return CGL.Texture.FILTER_NEAREST;else if(l.get()=="linear")return CGL.Texture.FILTER_LINEAR;else if(l.get()=="mipmap")return CGL.Texture.FILTER_MIPMAP}function T(){if(p.get()=="repeat")return CGL.Texture.WRAP_REPEAT;else if(p.get()=="mirrored repeat")return CGL.Texture.WRAP_MIRRORED_REPEAT;else if(p.get()=="clamp to edge")return CGL.Texture.WRAP_CLAMP_TO_EDGE}function C(){let e=0;if(a.get()&&o.get()=="Auto")e=a.get().width;else if(o.get()=="Auto"||o.get()=="Canvas")e=t.canvasWidth;else if(o.get()=="ViewPort")e=t.getViewPort()[2];else e=Math.ceil(s.get());return n.patch.cgl.checkTextureSize(e)}function w(){let e=0;if(a.get()&&o.get()=="Auto")e=a.get().height;else if(o.get()=="Auto"||o.get()=="Canvas")e=t.canvasHeight;else if(o.get()=="ViewPort")e=t.getViewPort()[3];else e=Math.ceil(u.get());return n.patch.cgl.checkTextureSize(e)}function F(){S=true}function G(){if((C()!=I.width||w()!=I.height||I.pixelFormat!=d.get()||I.filter!=A()||I.wrap!=T())&&(C()!==0&&w()!==0)){_();x.setSourceTexture(I);O.set(CGL.Texture.getEmptyTexture(t));O.set(I);k();E()}}function k(){let e=null;if(o.get()=="Manual"){e=null}else if(o.get()=="Auto"){if(a.get())e="Input Texture";else e="Canvas Size";e+=": "+C()+" x "+w()}let t=false;t=o.uiAttribs.info!=e;o.setUiAttribs({info:e});if(t)n.refreshParams()}function N(){if(j)j.toggleDefine("USE_TEX",a.isLinked()||!g.get());if(j)j.toggleDefine("USE_UVTEX",i.isLinked())}function P(){c.setUiAttribs({greyout:A()!=CGL.Texture.FILTER_MIPMAP});m.setUiAttribs({greyout:a.isLinked()});h.setUiAttribs({greyout:a.isLinked()});b.setUiAttribs({greyout:a.isLinked()});f.setUiAttribs({greyout:a.isLinked()});g.setUiAttribs({greyout:a.isLinked()});s.setUiAttribs({greyout:o.get()!="Manual"});u.setUiAttribs({greyout:o.get()!="Manual"});if(I)if(CGL.Texture.isPixelFormatFloat(d.get())&&A()==CGL.Texture.FILTER_MIPMAP)n.setUiError("fpmipmap","Don't use mipmap and 32bit at the same time, many systems do not support this.");else n.setUiError("fpmipmap",null);k();N();E()}function E(){if(I)if(a.isLinked()&&a.get()&&I.isFloatingPoint()!=a.get().isFloatingPoint())n.setUiError("textypediff","Warning: Mixing floating point and non floating point texture can result in data/precision loss",1);else n.setUiError("textypediff",null)}n.preRender=()=>{L()};function H(){if(!j){j=new CGL.Shader(t,"copytextureshader");j.setSource(j.getDefaultVertexShader(),e.imgcomp_frag);V=new CGL.Uniform(j,"t","tex",0);R=new CGL.Uniform(j,"t","UVTex",1);U=new CGL.Uniform(j,"4f","bgColor",m,b,h,f);N()}t.pushShader(j);t.currentTextureEffect.bind();if(a.get())t.setTexture(0,a.get().tex);else if(!g.get()&&O.get())t.setTexture(0,O.get().tex);if(i.get())t.setTexture(1,i.get().tex);t.currentTextureEffect.finish();t.popShader()}function L(){if(!x||S)_();t.pushBlend(false);G();const e=t.currentTextureEffect;t.currentTextureEffect=x;t.currentTextureEffect.imgCompVer=3;t.currentTextureEffect.width=s.get();t.currentTextureEffect.height=u.get();x.setSourceTexture(I);x.startEffect(a.get()||CGL.Texture.getEmptyTexture(t,z),true);H();v.trigger();t.pushViewPort(0,0,s.get(),u.get());x.endEffect();O.setRef(x.getCurrentSourceTexture());t.popViewPort();t.popBlend();t.currentTextureEffect=e}};Ops.Gl.ImageCompose.ImageCompose_v4.prototype=new CABLES.Op;CABLES.OPS["17212e2b-d692-464c-8f8d-2d511dd3410a"]={f:Ops.Gl.ImageCompose.ImageCompose_v4,objName:"Ops.Gl.ImageCompose.ImageCompose_v4"};Ops.Gl.ImageCompose.RepeatTexture_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={repeat_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI sampler2D mulTex;\nUNI float amount;\nUNI float amountX;\nUNI float amountY;\n\n{{CGL.BLENDMODES3}}\n\nvoid main()\n{\n    float am=amount;\n\n    float mul=1.0;\n\n    #ifdef HAS_MASK\n        mul=texture(mulTex,texCoord).r;\n    #endif\n\n    vec2 coord = vec2(\n        mod(texCoord.x*amountX*mul,1.0),\n        mod(texCoord.y*amountY*mul,1.0));\n\n    vec4 col=texture(tex,coord);\n    vec4 base=texture(tex,texCoord);\n\n\n    #ifdef CLEAR\n        base.a=0.0;\n    #endif\n\n    outColor=cgl_blendPixel(base,col,am);\n}"};const n=e.inTrigger("render"),r=CGL.TextureEffect.AddBlendSelect(e,"Blend Mode","normal"),a=e.inValueSlider("Amount",1),i=e.inValue("x",3),o=e.inValue("y",3),s=e.outTrigger("trigger"),u=e.inBool("Clear",true),l=e.inTexture("Multiply");const p=e.patch.cgl;const c=new CGL.Shader(p,e.name,e);c.setSource(c.getDefaultVertexShader(),t.repeat_frag);const d=new CGL.Uniform(c,"t","tex",0),g=new CGL.Uniform(c,"t","mulTex",2),m=new CGL.Uniform(c,"f","amount",a),b=new CGL.Uniform(c,"f","amountX",i),h=new CGL.Uniform(c,"f","amountY",o);CGL.TextureEffect.setupBlending(e,c,r,a);u.onChange=l.onChange=f;function f(){c.toggleDefine("CLEAR",u.get());c.toggleDefine("HAS_MASK",l.get())}n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e,3))return;p.pushShader(c);p.currentTextureEffect.bind();p.setTexture(0,p.currentTextureEffect.getCurrentSourceTexture().tex);if(l.get())p.setTexture(2,l.get().tex);p.currentTextureEffect.finish();p.popShader();s.trigger()}};Ops.Gl.ImageCompose.RepeatTexture_v2.prototype=new CABLES.Op;CABLES.OPS["ff9aa796-d781-444c-a9d4-a62157f82dd5"]={f:Ops.Gl.ImageCompose.RepeatTexture_v2,objName:"Ops.Gl.ImageCompose.RepeatTexture_v2"};Ops.Gl.ImageCompose.ScrollTexture=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={scroll_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI float amountX;\nUNI float amountY;\n\n#ifdef HAS_MASK\n    UNI sampler2D texMask;\n#endif\n\nvoid main()\n{\n    float amX=amountX;\n    float amY=amountY;\n\n    #ifdef HAS_MASK\n        vec4 m=texture(texMask,texCoord);\n\n\n        amX*=(m.r-0.5)*2.0;\n        amY*=(m.g-0.5)*2.0;\n    #endif\n\n    vec4 col=vec4(0.0,0.0,0.0,1.0);\n    float x=mod(texCoord.x+amX,1.0);\n    float y=mod(texCoord.y+amY,1.0);\n\n\n    #ifdef NO_REPEAT\n        x=texCoord.x+amX*0.1;\n        y=texCoord.y+amY*0.1;\n    #endif\n\n    col=texture(tex,vec2(x,y));\n\n    #ifdef NO_REPEAT\n        if(x>1.0 || x<0.0 || y>1.0 || y<0.0) col=vec4(0.0,0.0,0.0,0.0);\n    #endif\n    outColor= col;\n}"};const n=e.inTrigger("render"),r=e.outTrigger("trigger"),a=e.inValue("amountX"),i=e.inValue("amountY"),o=e.inTexture("Mask"),s=e.inValueBool("Repeat",true);s.onChange=m;const u=e.patch.cgl;const l=new CGL.Shader(u,e.name,e);l.setSource(l.getDefaultVertexShader(),t.scroll_frag);const p=new CGL.Uniform(l,"t","tex",0),c=new CGL.Uniform(l,"f","amountX",a),d=new CGL.Uniform(l,"f","amountY",i),g=new CGL.Uniform(l,"t","texMask",1);m();o.onChange=function(){if(o.get())l.define("MASK");else l.removeDefine("MASK")};function m(){if(!s.get())l.define("NO_REPEAT");else l.removeDefine("NO_REPEAT")}n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;u.pushShader(l);u.currentTextureEffect.bind();u.setTexture(0,u.currentTextureEffect.getCurrentSourceTexture().tex);if(o.get())u.setTexture(1,o.get().tex);u.currentTextureEffect.finish();u.popShader();r.trigger()}};Ops.Gl.ImageCompose.ScrollTexture.prototype=new CABLES.Op;CABLES.OPS["9b151d99-7888-4948-81c7-cd23b334e8d4"]={f:Ops.Gl.ImageCompose.ScrollTexture,objName:"Ops.Gl.ImageCompose.ScrollTexture"};Ops.Anim.Timer_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const i=e.inValue("Speed",1),n=e.inValueBool("Play",true),r=e.inTriggerButton("Reset"),a=e.inValueBool("Sync to timeline",false),o=e.outNumber("Time");e.setPortGroup("Controls",[n,r,i]);const s=new CABLES.Timer;let u=null;let l=0;let p=false;n.onChange=c;c();function c(){if(n.get()){s.play();e.patch.addOnAnimFrame(e)}else{s.pause();e.patch.removeOnAnimFrame(e)}}r.onTriggered=d;function d(){l=0;u=null;s.setTime(0);o.set(0)}a.onChange=function(){p=a.get();n.setUiAttribs({greyout:p});r.setUiAttribs({greyout:p})};e.onAnimFrame=function(e,t,n){if(s.isPlaying()){if(CABLES.overwriteTime!==undefined){o.set(CABLES.overwriteTime*i.get())}else if(p){o.set(e*i.get())}else{s.update();const r=s.get();if(u===null){u=r;return}const a=Math.abs(r-u);u=r;l+=a*i.get();if(l!=l)l=0;o.set(l)}}}};Ops.Anim.Timer_v2.prototype=new CABLES.Op;CABLES.OPS["aac7f721-208f-411a-adb3-79adae2e471a"]={f:Ops.Anim.Timer_v2,objName:"Ops.Anim.Timer_v2"};Ops.Gl.Matrix.OrbitControls=function(){CABLES.Op.apply(this,arguments);const a=this;const M=a.attachments={};const B=a.inTrigger("render"),i=a.inValueFloat("min distance"),o=a.inValueFloat("max distance"),s=a.inValue("min rot y",0),u=a.inValue("max rot y",0),t=a.inValue("initial radius",0),n=a.inValueSlider("initial axis y"),r=a.inValueSlider("initial axis x"),l=a.inValueFloat("mul"),e=a.inValueSlider("Smoothness",1),z=a.inValue("Speed X",1),V=a.inValue("Speed Y",1),R=a.inValueBool("Active",true),U=a.inValueBool("Allow Panning",true),F=a.inValueBool("Allow Zooming",true),G=a.inValueBool("Allow Rotation",true),H=a.inValueBool("restricted",true),q=a.outTrigger("trigger"),p=a.outNumber("radius"),W=a.outNumber("Rot X"),X=a.outNumber("Rot Y"),Y=a.inTriggerButton("Reset");a.setPortGroup("Initial Values",[n,r,t]);a.setPortGroup("Interaction",[l,e,z,V]);a.setPortGroup("Boundaries",[s,u,i,o]);l.set(1);i.set(.01);o.set(99999);Y.onTriggered=Q;let c=vec3.create();const d=vec3.create();const g=vec3.create();const m=mat4.create();const J=mat4.create();const b=vec3.create();const Z=vec3.create();n.set(.5);let h=false;let f=5;p.set(f);let v=0,O=0;let y=0,x=0;vec3.set(g,0,0,0);vec3.set(d,0,1,0);const I=vec3.create();const S=vec3.create();const j=vec3.create();const _=vec3.create();let A=0;let T=0;let $=1;let C=null;ee();a.onDelete=de;const K=Math.PI;const w=Math.PI*2;function Q(){let e=0;if(A%w<-K){e=-w;A%=-w}else if(A%w>K){e=w;A%=w}else A%=w;T%=Math.PI;vec3.set(b,0,0,0);vec3.set(g,0,0,0);vec3.set(d,0,1,0);y=r.get()*Math.PI*2+e;x=n.get()-.5;f=t.get();c=P(x)}function ee(){$=e.get()*10+1}e.onChange=ee;let te=true;function k(e,t){if(te)return t;return e+(t-e)/$}let N=0;const ne=0;B.onTriggered=function(){const e=a.patch.cg;if(!e)return;if(!C){pe(e.canvas);ce()}e.pushViewMatrix();A=k(A,y);T=k(T,x);let t=(T+.5)*180;if(s.get()!==0&&t<s.get()){t=s.get();T=N}else if(u.get()!==0&&t>u.get()){t=u.get();T=N}else{N=T}const n=A*CGL.RAD2DEG;X.set(t);W.set(n);re(c,T);vec3.add(I,c,b);vec3.add(j,g,b);S[0]=k(S[0],I[0]);S[1]=k(S[1],I[1]);S[2]=k(S[2],I[2]);_[0]=k(_[0],j[0]);_[1]=k(_[1],j[1]);_[2]=k(_[2],j[2]);const r=vec3.create();mat4.lookAt(m,S,_,d);mat4.rotate(m,m,A,d);mat4.multiply(e.vMatrix,e.vMatrix,m);q.trigger();e.popViewMatrix();te=false};function re(e,t){const n=l.get();if(f<i.get()*n)f=i.get()*n;if(f>o.get()*n)f=o.get()*n;p.set(f*n);let r=0,a=0;a=360*t/2*CGL.DEG2RAD;vec3.set(e,Math.cos(a)*f*n,Math.sin(a)*f*n,0);return e}function P(e){const t=l.get();if(f<i.get()*t)f=i.get()*t;if(f>o.get()*t)f=o.get()*t;p.set(f*t);let n=0,r=0;const a=vec3.create();r=360*e/2*CGL.DEG2RAD;vec3.set(a,Math.cos(r)*f*t,Math.sin(r)*f*t,0);return a}function E(e){if(!h)return;const t=e.clientX;const n=e.clientY;let r=t-v;let a=n-O;r*=z.get();a*=V.get();if(e.buttons==2&&U.get()){b[2]+=r*.01*l.get();b[1]+=a*.01*l.get()}else if(e.buttons==4&&F.get()){f+=a*.05;c=P(x)}else{if(G.get()){y+=r*.003;x+=a*.002;if(H.get()){if(x>.5)x=.5;if(x<-.5)x=-.5}}}v=t;O=n}function L(e){v=e.clientX;O=e.clientY;h=true;try{C.setPointerCapture(e.pointerId)}catch(e){}}function D(e){h=false;try{C.releasePointerCapture(e.pointerId)}catch(e){}}function ae(){const e=a.patch.cg.canvas;if(document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e){document.addEventListener("mousemove",E,false)}}function ie(e){}t.onChange=function(){f=t.get();Q()};r.onChange=function(){A=y=r.get()*Math.PI*2};n.onChange=function(){T=x=n.get()-.5;c=P(x)};const oe=function(e){if(F.get()){const t=CGL.getWheelSpeed(e)*.06;f+=parseFloat(t)*1.2;c=P(x)}};const se=function(e){if(e.touches&&e.touches.length>0)L(e.touches[0])};const ue=function(e){D()};const le=function(e){if(e.touches&&e.touches.length>0)E(e.touches[0])};R.onChange=function(){if(R.get())ce();else de()};function pe(e){de();C=e;ce()}function ce(){if(!C)return;C.addEventListener("pointermove",E);C.addEventListener("pointerdown",L);C.addEventListener("pointerup",D);C.addEventListener("pointerleave",D);C.addEventListener("pointerenter",ie);C.addEventListener("contextmenu",function(e){e.preventDefault()});C.addEventListener("wheel",oe,{passive:true})}function de(){if(!C)return;C.removeEventListener("pointermove",E);C.removeEventListener("pointerdown",L);C.removeEventListener("pointerup",D);C.removeEventListener("pointerleave",D);C.removeEventListener("pointerenter",D);C.removeEventListener("wheel",oe)}c=P(0);r.set(.25);t.set(.05)};Ops.Gl.Matrix.OrbitControls.prototype=new CABLES.Op;CABLES.OPS["eaf4f7ce-08a3-4d1b-b9f4-ebc0b7b1cde1"]={f:Ops.Gl.Matrix.OrbitControls,objName:"Ops.Gl.Matrix.OrbitControls"};Ops.Gl.RenderToTexture_v3=function(){CABLES.Op.apply(this,arguments);const a=this;const e=a.attachments={};const t=a.inTrigger("render"),n=a.inSwitch("Size",["Canvas","Manual"],"Canvas"),r=a.inValueInt("texture width",512),i=a.inValueInt("texture height",512),o=a.inBool("Auto Aspect",true),s=a.inSwitch("filter",["nearest","linear","mipmap"],"linear"),u=a.inSwitch("Wrap",["Clamp","Repeat","Mirror"],"Repeat"),l=a.inSwitch("MSAA",["none","2x","4x","8x"],"none"),p=a.outTrigger("trigger"),c=a.outTexture("texture"),d=a.outTexture("textureDepth"),g=a.inDropDown("Pixel Format",CGL.Texture.PIXELFORMATS,CGL.Texture.PFORMATSTR_RGBA8UB),m=a.inValueBool("Depth",true),b=a.inValueBool("Clear",true);const h=a.patch.cgl;let f=null;let v=true;a.setPortGroup("Size",[n,r,i,o]);g.onChange=m.onChange=b.onChange=s.onChange=u.onChange=l.onChange=y;n.onChange=O;t.onTriggered=a.preRender=x;O();function O(){r.setUiAttribs({greyout:n.get()!="Manual"});i.setUiAttribs({greyout:n.get()!="Manual"});o.setUiAttribs({greyout:n.get()!="Manual"})}function y(){v=true}function x(){CGL.TextureEffect.checkOpNotInTextureEffect(a);if(!f||v){if(f)f.delete();let n=CGL.Texture.WRAP_REPEAT;if(u.get()=="Clamp")n=CGL.Texture.WRAP_CLAMP_TO_EDGE;else if(u.get()=="Mirror")n=CGL.Texture.WRAP_MIRRORED_REPEAT;let r=CGL.Texture.FILTER_NEAREST;if(s.get()=="nearest")r=CGL.Texture.FILTER_NEAREST;else if(s.get()=="linear")r=CGL.Texture.FILTER_LINEAR;else if(s.get()=="mipmap")r=CGL.Texture.FILTER_MIPMAP;if(g.get().indexOf("loat")&&s.get()=="mipmap")a.setUiError("fpmipmap","Can't use mipmap and float texture at the same time");else a.setUiError("fpmipmap",null);if(h.glVersion>=2){let e=true;let t=4;if(l.get()=="none"){t=0;e=false}if(l.get()=="2x")t=2;if(l.get()=="4x")t=4;if(l.get()=="8x")t=8;f=new CGL.Framebuffer2(h,8,8,{name:"render2texture "+a.id,pixelFormat:g.get(),multisampling:e,multisamplingSamples:t,wrap:n,filter:r,depth:m.get(),clear:b.get()})}else{f=new CGL.Framebuffer(h,8,8,{isFloatingPointTexture:false,clear:b.get()})}if(f&&f.valid){d.set(f.getTextureDepth());v=false}else{f=null;v=true}}let e=o.get();if(n.get()=="Canvas"){e=true;r.set(a.patch.cgl.checkTextureSize(h.canvasWidth));i.set(a.patch.cgl.checkTextureSize(h.canvasHeight))}if(f.getWidth()!=a.patch.cgl.checkTextureSize(r.get())||f.getHeight()!=a.patch.cgl.checkTextureSize(i.get())){f.setSize(a.patch.cgl.checkTextureSize(r.get()),a.patch.cgl.checkTextureSize(i.get()))}f.renderStart(h);h.pushViewPort(0,0,r.get(),i.get());if(e)mat4.perspective(h.pMatrix,45,r.get()/i.get(),.1,1e3);p.trigger();f.renderEnd(h);h.popViewPort();d.setRef(f.getTextureDepth());c.setRef(f.getTextureColor())}};Ops.Gl.RenderToTexture_v3.prototype=new CABLES.Op;CABLES.OPS["41eec5c7-c480-477a-be81-04c3efac8357"]={f:Ops.Gl.RenderToTexture_v3,objName:"Ops.Gl.RenderToTexture_v3"};Ops.Gl.ImageCompose.Blur=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={blur_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI float dirX;\nUNI float dirY;\nUNI float amount;\n\n#ifdef HAS_MASK\n    UNI sampler2D imageMask;\n#endif\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main()\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float am=amount;\n    #ifdef HAS_MASK\n        am=amount*texture(imageMask,texCoord).r;\n        if(am<=0.02)\n        {\n            outColor=texture(tex, texCoord);\n            return;\n        }\n    #endif\n\n    vec2 delta=vec2(dirX*am*0.01,dirY*am*0.01);\n\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    #ifdef MOBILE\n        offset = 0.1;\n    #endif\n\n    #if defined(FASTBLUR) && !defined(MOBILE)\n        const float range=5.0;\n    #else\n        const float range=20.0;\n    #endif\n\n    for (float t = -range; t <= range; t+=1.0)\n    {\n        float percent = (t + offset - 0.5) / range;\n        float weight = 1.0 - abs(percent);\n        vec4 smpl = texture(tex, texCoord + delta * percent);\n\n        smpl.rgb *= smpl.a;\n\n        color += smpl * weight;\n        total += weight;\n    }\n\n    outColor= color / total;\n\n    outColor.rgb /= outColor.a + 0.00001;\n\n\n\n}\n"};const n=e.inTrigger("render");const r=e.outTrigger("trigger");const a=e.inValueFloat("amount");const i=e.inSwitch("direction",["both","vertical","horizontal"],"both");const o=e.inValueBool("Fast",true);const s=e.patch.cgl;a.set(10);let u=new CGL.Shader(s,"blur");u.define("FASTBLUR");o.onChange=function(){if(o.get())u.define("FASTBLUR");else u.removeDefine("FASTBLUR")};u.setSource(u.getDefaultVertexShader(),t.blur_frag);let l=new CGL.Uniform(u,"t","tex",0);let p=new CGL.Uniform(u,"f","dirX",0);let c=new CGL.Uniform(u,"f","dirY",0);let d=new CGL.Uniform(u,"f","width",0);let g=new CGL.Uniform(u,"f","height",0);let m=new CGL.Uniform(u,"f","amount",a.get());a.onChange=function(){m.setValue(a.get())};let b=new CGL.Uniform(u,"t","imageMask",1);let h=false;function f(){if(s.currentTextureEffect.getCurrentSourceTexture().width==s.canvasWidth&&s.currentTextureEffect.getCurrentSourceTexture().height==s.canvasHeight){e.setUiError("warning","Full screen blurs are slow! Try reducing the resolution to 1/2 or a 1/4",0)}else{e.setUiError("warning",null)}}let v=0;i.onChange=function(){if(i.get()=="both")v=0;if(i.get()=="horizontal")v=1;if(i.get()=="vertical")v=2};let O=e.inTexture("mask");O.onChange=function(){if(O.get()&&O.get().tex)u.define("HAS_MASK");else u.removeDefine("HAS_MASK")};n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;s.pushShader(u);d.setValue(s.currentTextureEffect.getCurrentSourceTexture().width);g.setValue(s.currentTextureEffect.getCurrentSourceTexture().height);f();if(v===0||v==2){s.currentTextureEffect.bind();s.setTexture(0,s.currentTextureEffect.getCurrentSourceTexture().tex);if(O.get()&&O.get().tex){s.setTexture(1,O.get().tex)}p.setValue(0);c.setValue(1);s.currentTextureEffect.finish()}if(v===0||v==1){s.currentTextureEffect.bind();s.setTexture(0,s.currentTextureEffect.getCurrentSourceTexture().tex);if(O.get()&&O.get().tex){s.setTexture(1,O.get().tex)}p.setValue(1);c.setValue(0);s.currentTextureEffect.finish()}s.popShader();r.trigger()}};Ops.Gl.ImageCompose.Blur.prototype=new CABLES.Op;CABLES.OPS["54f26f53-f637-44c1-9bfb-a2f2b722e998"]={f:Ops.Gl.ImageCompose.Blur,objName:"Ops.Gl.ImageCompose.Blur"};Ops.Gl.Meshes.FullscreenRectangle_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={shader_frag:"UNI sampler2D tex;\nIN vec2 texCoord;\n\nvoid main()\n{\n    outColor= texture(tex,texCoord);\n}\n\n",shader_vert:"{{MODULES_HEAD}}\n\nIN vec3 vPosition;\nUNI mat4 projMatrix;\nUNI mat4 mvMatrix;\n\nOUT vec2 texCoord;\nIN vec2 attrTexCoord;\n\nvoid main()\n{\n   vec4 pos=vec4(vPosition,  1.0);\n\n   texCoord=vec2(attrTexCoord.x,(1.0-attrTexCoord.y));\n\n   gl_Position = projMatrix * mvMatrix * pos;\n}\n"};const n=e.inTrigger("render"),r=e.inSwitch("Scale",["Stretch","Fit"],"Fit"),a=e.inValueBool("Flip Y"),i=e.inValueBool("Flip X"),o=e.inTexture("Texture"),s=e.outTrigger("trigger");const u=e.patch.cgl;let l=null;let p=new CGL.Geometry("fullscreen rectangle");let c=0,d=0,g=0,m=0;e.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_FUNCTION);e.toWorkPortsNeedToBeLinked(n);i.onChange=S;a.onChange=S;n.onTriggered=I;o.onLinkChanged=O;r.onChange=x;const b=new CGL.Shader(u,"fullscreenrectangle",this);b.setModules(["MODULE_VERTEX_POSITION","MODULE_COLOR","MODULE_BEGIN_FRAG"]);b.setSource(t.shader_vert,t.shader_frag);b.fullscreenRectUniform=new CGL.Uniform(b,"t","tex",0);b.aspectUni=new CGL.Uniform(b,"f","aspectTex",0);let h=false;let f=true;let v=false;O();x();o.onChange=function(){f=true};function O(){if(!CABLES.UI)return;a.setUiAttribs({greyout:!o.isLinked()});i.setUiAttribs({greyout:!o.isLinked()});r.setUiAttribs({greyout:!o.isLinked()})}function y(){let e=o.get();if(e)h=true;else h=false}e.preRender=function(){y();b.bind();if(l)l.render(b);I()};function x(){v=r.get()=="Fit"}function I(){if(u.viewPort[2]!=g||u.viewPort[3]!=m||!l)j();if(f)y();u.pushPMatrix();mat4.identity(u.pMatrix);mat4.ortho(u.pMatrix,0,g,m,0,-10,1e3);u.pushModelMatrix();mat4.identity(u.mMatrix);u.pushViewMatrix();mat4.identity(u.vMatrix);if(v&&o.get()){const n=o.get().width/o.get().height;let e=m;let t=m*n;if(t>g){e=g*1/n;t=g}u.pushViewPort((g-t)/2,(m-e)/2,t,e)}if(h){if(o.get())u.setTexture(0,o.get().tex);l.render(b)}else{l.render(u.getShader())}u.gl.clear(u.gl.DEPTH_BUFFER_BIT);u.popPMatrix();u.popModelMatrix();u.popViewMatrix();if(v&&o.get())u.popViewPort();s.trigger()}function S(){l=null}function j(){if(u.viewPort[2]==g&&u.viewPort[3]==m&&l)return;let e=0,t=0;g=u.viewPort[2];m=u.viewPort[3];p.vertices=new Float32Array([e+g,t+m,0,e,t+m,0,e+g,t,0,e,t,0]);let n=null;if(a.get())n=new Float32Array([1,0,0,0,1,1,0,1]);else n=new Float32Array([1,1,0,1,1,0,0,0]);if(i.get()){n[0]=0;n[2]=1;n[4]=0;n[6]=1}p.setTexCoords(n);p.verticesIndices=new Uint16Array([2,1,0,3,1,2]);p.vertexNormals=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]);p.tangents=new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0]);p.biTangents==new Float32Array([0,-1,0,0,-1,0,0,-1,0,0,-1,0]);if(!l)l=new CGL.Mesh(u,p);else l.setGeom(p)}};Ops.Gl.Meshes.FullscreenRectangle_v2.prototype=new CABLES.Op;CABLES.OPS["fb70721a-eac2-4ff5-a5a2-5c59e2393972"]={f:Ops.Gl.Meshes.FullscreenRectangle_v2,objName:"Ops.Gl.Meshes.FullscreenRectangle_v2"};Ops.Gl.ImageCompose.DrawImage_v3=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={drawimage_frag:"#ifdef HAS_TEXTURES\n    IN vec2 texCoord;\n    UNI sampler2D tex;\n    UNI sampler2D image;\n#endif\n\n#ifdef TEX_TRANSFORM\n    IN mat3 transform;\n#endif\n// UNI float rotate;\n\n{{CGL.BLENDMODES}}\n\n#ifdef HAS_TEXTUREALPHA\n   UNI sampler2D imageAlpha;\n#endif\n\nUNI float amount;\n\n#ifdef ASPECT_RATIO\n    UNI float aspectTex;\n    UNI float aspectPos;\n#endif\n\nvoid main()\n{\n    vec4 blendRGBA=vec4(0.0,0.0,0.0,1.0);\n\n    #ifdef HAS_TEXTURES\n        vec2 tc=texCoord;\n\n        #ifdef TEX_FLIP_X\n            tc.x=1.0-tc.x;\n        #endif\n        #ifdef TEX_FLIP_Y\n            tc.y=1.0-tc.y;\n        #endif\n\n        #ifdef ASPECT_RATIO\n            #ifdef ASPECT_AXIS_X\n                tc.y=(1.0-aspectPos)-(((1.0-aspectPos)-tc.y)*aspectTex);\n            #endif\n            #ifdef ASPECT_AXIS_Y\n                tc.x=(1.0-aspectPos)-(((1.0-aspectPos)-tc.x)/aspectTex);\n            #endif\n        #endif\n\n        #ifdef TEX_TRANSFORM\n            vec3 coordinates=vec3(tc.x, tc.y,1.0);\n            tc=(transform * coordinates ).xy;\n        #endif\n\n        blendRGBA=texture(image,tc);\n\n        vec3 blend=blendRGBA.rgb;\n        vec4 baseRGBA=texture(tex,texCoord);\n        vec3 base=baseRGBA.rgb;\n\n\n        #ifdef PREMUL\n            blend.rgb = (blend.rgb) + (base.rgb * (1.0 - blendRGBA.a));\n        #endif\n\n        vec3 colNew=_blend(base,blend);\n\n\n\n\n        #ifdef REMOVE_ALPHA_SRC\n            blendRGBA.a=1.0;\n        #endif\n\n        #ifdef HAS_TEXTUREALPHA\n            vec4 colImgAlpha=texture(imageAlpha,tc);\n            float colImgAlphaAlpha=colImgAlpha.a;\n\n            #ifdef ALPHA_FROM_LUMINANCE\n                vec3 gray = vec3(dot(vec3(0.2126,0.7152,0.0722), colImgAlpha.rgb ));\n                colImgAlphaAlpha=(gray.r+gray.g+gray.b)/3.0;\n            #endif\n\n            #ifdef ALPHA_FROM_INV_UMINANCE\n                vec3 gray = vec3(dot(vec3(0.2126,0.7152,0.0722), colImgAlpha.rgb ));\n                colImgAlphaAlpha=1.0-(gray.r+gray.g+gray.b)/3.0;\n            #endif\n\n            #ifdef INVERT_ALPHA\n                colImgAlphaAlpha=clamp(colImgAlphaAlpha,0.0,1.0);\n                colImgAlphaAlpha=1.0-colImgAlphaAlpha;\n            #endif\n\n            blendRGBA.a=colImgAlphaAlpha*blendRGBA.a;\n        #endif\n    #endif\n\n    float am=amount;\n\n    #ifdef CLIP_REPEAT\n        if(tc.y>1.0 || tc.y<0.0 || tc.x>1.0 || tc.x<0.0)\n        {\n            // colNew.rgb=vec3(0.0);\n            am=0.0;\n        }\n    #endif\n\n    #ifdef ASPECT_RATIO\n        #ifdef ASPECT_CROP\n            if(tc.y>1.0 || tc.y<0.0 || tc.x>1.0 || tc.x<0.0)\n            {\n                colNew.rgb=base.rgb;\n                am=0.0;\n            }\n\n        #endif\n    #endif\n\n\n\n    #ifndef PREMUL\n        blendRGBA.rgb=mix(colNew,base,1.0-(am*blendRGBA.a));\n        blendRGBA.a=clamp(baseRGBA.a+(blendRGBA.a*am),0.,1.);\n    #endif\n\n    #ifdef PREMUL\n        // premultiply\n        // blendRGBA.rgb = (blendRGBA.rgb) + (baseRGBA.rgb * (1.0 - blendRGBA.a));\n        blendRGBA=vec4(\n            mix(colNew.rgb,base,1.0-(am*blendRGBA.a)),\n            blendRGBA.a*am+baseRGBA.a\n            );\n    #endif\n\n    #ifdef ALPHA_MASK\n    blendRGBA.a=baseRGBA.a;\n    #endif\n\n    outColor=blendRGBA;\n}\n\n\n\n\n\n\n\n",drawimage_vert:"IN vec3 vPosition;\nIN vec2 attrTexCoord;\nIN vec3 attrVertNormal;\n\nUNI mat4 projMatrix;\nUNI mat4 mvMatrix;\n\nOUT vec2 texCoord;\n// OUT vec3 norm;\n\n#ifdef TEX_TRANSFORM\n    UNI float posX;\n    UNI float posY;\n    UNI float scaleX;\n    UNI float scaleY;\n    UNI float rotate;\n    OUT mat3 transform;\n#endif\n\nvoid main()\n{\n   texCoord=attrTexCoord;\n//   norm=attrVertNormal;\n\n   #ifdef TEX_TRANSFORM\n        vec3 coordinates=vec3(attrTexCoord.x, attrTexCoord.y,1.0);\n        float angle = radians( rotate );\n        vec2 scale= vec2(scaleX,scaleY);\n        vec2 translate= vec2(posX,posY);\n\n        transform = mat3(   scale.x * cos( angle ), scale.x * sin( angle ), 0.0,\n            - scale.y * sin( angle ), scale.y * cos( angle ), 0.0,\n            - 0.5 * scale.x * cos( angle ) + 0.5 * scale.y * sin( angle ) - 0.5 * translate.x*2.0 + 0.5,  - 0.5 * scale.x * sin( angle ) - 0.5 * scale.y * cos( angle ) - 0.5 * translate.y*2.0 + 0.5, 1.0);\n   #endif\n\n   gl_Position = projMatrix * mvMatrix * vec4(vPosition,  1.0);\n}\n"};const t=r.inTrigger("render"),n=CGL.TextureEffect.AddBlendSelect(r,"blendMode"),a=r.inValueSlider("amount",1),i=r.inTexture("Image"),o=r.inValueBool("Premultiplied",false),s=r.inValueBool("Alpha Mask",false),u=r.inValueBool("removeAlphaSrc",false),l=r.inTexture("Mask"),p=r.inValueSelect("Mask Src",["alpha channel","luminance","luminance inv"],"luminance"),c=r.inValueBool("Invert alpha channel"),d=r.inValueBool("Aspect Ratio",false),g=r.inValueSelect("Stretch Axis",["X","Y"],"X"),m=r.inValueSlider("Position",0),b=r.inValueBool("Crop",false),h=r.outTrigger("trigger");n.set("normal");const f=r.patch.cgl;const v=new CGL.Shader(f,"drawimage");l.onLinkChanged=O;r.setPortGroup("Mask",[l,p,c]);r.setPortGroup("Aspect Ratio",[d,m,b,g]);function O(){if(l.isLinked()){u.setUiAttribs({greyout:true});p.setUiAttribs({greyout:false});c.setUiAttribs({greyout:false})}else{u.setUiAttribs({greyout:false});p.setUiAttribs({greyout:true});c.setUiAttribs({greyout:true})}}r.toWorkPortsNeedToBeLinked(i);v.setSource(e.drawimage_vert,e.drawimage_frag);const y=new CGL.Uniform(v,"t","tex",0),D=new CGL.Uniform(v,"t","image",1),M=new CGL.Uniform(v,"t","imageAlpha",2),x=new CGL.Uniform(v,"f","aspectTex",1),B=new CGL.Uniform(v,"f","aspectPos",m);d.onChange=b.onChange=g.onChange=I;function I(){v.removeDefine("ASPECT_AXIS_X");v.removeDefine("ASPECT_AXIS_Y");v.removeDefine("ASPECT_CROP");m.setUiAttribs({greyout:!d.get()});b.setUiAttribs({greyout:!d.get()});g.setUiAttribs({greyout:!d.get()});if(d.get()){v.define("ASPECT_RATIO");if(b.get())v.define("ASPECT_CROP");if(g.get()=="X")v.define("ASPECT_AXIS_X");if(g.get()=="Y")v.define("ASPECT_AXIS_Y")}else{v.removeDefine("ASPECT_RATIO");if(b.get())v.define("ASPECT_CROP");if(g.get()=="X")v.define("ASPECT_AXIS_X");if(g.get()=="Y")v.define("ASPECT_AXIS_Y")}}const S=r.inValueBool("flip x");const j=r.inValueBool("flip y");let _=r.inValueBool("Transform");let A=r.inValueSlider("Scale X",1);let T=r.inValueSlider("Scale Y",1);let C=r.inValue("Position X",0);let w=r.inValue("Position Y",0);let k=r.inValue("Rotation",0);const N=r.inValueBool("Clip Repeat",false);const z=new CGL.Uniform(v,"f","scaleX",A);const V=new CGL.Uniform(v,"f","scaleY",T);const R=new CGL.Uniform(v,"f","posX",C);const U=new CGL.Uniform(v,"f","posY",w);const F=new CGL.Uniform(v,"f","rotate",k);_.onChange=P;function P(){v.toggleDefine("TEX_TRANSFORM",_.get());A.setUiAttribs({greyout:!_.get()});T.setUiAttribs({greyout:!_.get()});C.setUiAttribs({greyout:!_.get()});w.setUiAttribs({greyout:!_.get()});k.setUiAttribs({greyout:!_.get()})}CGL.TextureEffect.setupBlending(r,v,n,a);const G=new CGL.Uniform(v,"f","amount",a);t.onTriggered=L;N.onChange=l.onChange=o.onChange=s.onChange=c.onChange=j.onChange=S.onChange=u.onChange=p.onChange=E;P();O();I();E();function E(){v.toggleDefine("REMOVE_ALPHA_SRC",u.get());v.toggleDefine("ALPHA_MASK",s.get());v.toggleDefine("CLIP_REPEAT",N.get());v.toggleDefine("HAS_TEXTUREALPHA",l.get()&&l.get().tex);v.toggleDefine("TEX_FLIP_X",S.get());v.toggleDefine("TEX_FLIP_Y",j.get());v.toggleDefine("INVERT_ALPHA",c.get());v.toggleDefine("ALPHA_FROM_LUMINANCE",p.get()=="luminance");v.toggleDefine("ALPHA_FROM_INV_UMINANCE",p.get()=="luminance_inv");v.toggleDefine("PREMUL",o.get())}function L(){if(!CGL.TextureEffect.checkOpInEffect(r))return;const e=i.get();if(e&&e.tex&&a.get()>0){f.pushShader(v);f.currentTextureEffect.bind();const t=f.currentTextureEffect.getCurrentSourceTexture();f.setTexture(0,t.tex);const n=1/(f.currentTextureEffect.getWidth()/f.currentTextureEffect.getHeight())*(e.width/e.height);x.setValue(n);f.setTexture(1,e.tex);if(l.get()&&l.get().tex){f.setTexture(2,l.get().tex)}f.pushBlendMode(CGL.BLEND_NONE,true);f.currentTextureEffect.finish();f.popBlendMode();f.popShader()}h.trigger()}};Ops.Gl.ImageCompose.DrawImage_v3.prototype=new CABLES.Op;CABLES.OPS["8f6b2f15-fcb0-4597-90c0-e5173f2969fe"]={f:Ops.Gl.ImageCompose.DrawImage_v3,objName:"Ops.Gl.ImageCompose.DrawImage_v3"};Ops.Gl.Matrix.Transform=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const t=n.inTrigger("render"),r=n.inValue("posX",0),a=n.inValue("posY",0),i=n.inValue("posZ",0),o=n.inValue("scale",1),s=n.inValue("rotX",0),u=n.inValue("rotY",0),l=n.inValue("rotZ",0),p=n.outTrigger("trigger");n.setPortGroup("Rotation",[s,u,l]);n.setPortGroup("Position",[r,a,i]);n.setPortGroup("Scale",[o]);n.setUiAxisPorts(r,a,i);n.toWorkPortsNeedToBeLinked(t,p);const c=vec3.create();const d=vec3.create();const g=mat4.create();mat4.identity(g);let m=false,b=false,h=true,f=true,v=true;s.onChange=u.onChange=l.onChange=j;r.onChange=a.onChange=i.onChange=I;o.onChange=S;t.onTriggered=function(){let e=false;if(h){y();e=true}if(f){x();e=true}if(v)e=true;if(e)O();const t=n.patch.cg||n.patch.cgl;t.pushModelMatrix();mat4.multiply(t.mMatrix,t.mMatrix,g);p.trigger();t.popModelMatrix();if(CABLES.UI){if(!r.isLinked()&&!a.isLinked()&&!i.isLinked()){gui.setTransform(n.id,r.get(),a.get(),i.get());if(n.isCurrentUiOp())gui.setTransformGizmo({posX:r,posY:a,posZ:i})}}};function O(){mat4.identity(g);if(b)mat4.translate(g,g,c);if(s.get()!==0)mat4.rotateX(g,g,s.get()*CGL.DEG2RAD);if(u.get()!==0)mat4.rotateY(g,g,u.get()*CGL.DEG2RAD);if(l.get()!==0)mat4.rotateZ(g,g,l.get()*CGL.DEG2RAD);if(m)mat4.scale(g,g,d);v=false}function y(){b=false;if(r.get()!==0||a.get()!==0||i.get()!==0)b=true;vec3.set(c,r.get(),a.get(),i.get());h=false}function x(){m=true;vec3.set(d,o.get(),o.get(),o.get());f=false}function I(){h=true}function S(){f=true}function j(){v=true}O()};Ops.Gl.Matrix.Transform.prototype=new CABLES.Op;CABLES.OPS["650baeb1-db2d-4781-9af6-ab4e9d4277be"]={f:Ops.Gl.Matrix.Transform,objName:"Ops.Gl.Matrix.Transform"};Ops.Math.FlipSign=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("Value",1),r=e.outNumber("Result");n.onChange=a;a();function a(){r.set(n.get()*-1)}};Ops.Math.FlipSign.prototype=new CABLES.Op;CABLES.OPS["f5c858a2-2654-4108-86fe-319efa70ecec"]={f:Ops.Math.FlipSign,objName:"Ops.Math.FlipSign"};Ops.Trigger.TriggerExtender=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Execute"),r=e.outTrigger("Next");n.onTriggered=function(){r.trigger()}};Ops.Trigger.TriggerExtender.prototype=new CABLES.Op;CABLES.OPS["7ef594f3-4907-47b0-a2d3-9854eda1679d"]={f:Ops.Trigger.TriggerExtender,objName:"Ops.Trigger.TriggerExtender"};Ops.Number.Number=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("value"),r=e.outNumber("result");n.onChange=a;function a(){r.set(Number(n.get()))}};Ops.Number.Number.prototype=new CABLES.Op;CABLES.OPS["8fb2bb5d-665a-4d0a-8079-12710ae453be"]={f:Ops.Number.Number,objName:"Ops.Number.Number"};Ops.Gl.Texture_v2=function(){CABLES.Op.apply(this,arguments);const a=this;const e=a.attachments={};const i=a.inUrl("File",[".jpg",".png",".webp",".jpeg",".avif"]),t=a.inSwitch("Filter",["nearest","linear","mipmap"]),n=a.inValueSelect("Wrap",["repeat","mirrored repeat","clamp to edge"],"clamp to edge"),r=a.inSwitch("Anisotropic",["0","1","2","4","8","16"],"0"),o=a.inSwitch("Data Format",["R","RG","RGB","RGBA","SRGBA"],"RGBA"),s=a.inValueBool("Flip",false),u=a.inValueBool("Pre Multiplied Alpha",false),l=a.inValueBool("Active",true),p=a.inBool("Save Memory",true),c=a.outTexture("Texture"),d=a.inBool("Add Cachebuster",false),g=a.inTriggerButton("Reload"),m=a.outNumber("Width"),b=a.outNumber("Height"),h=a.outNumber("Aspect Ratio"),f=a.outBoolNum("Loaded",0),v=a.outBoolNum("Loading",0);const O=a.patch.cgl;a.toWorkPortsNeedToBeLinked(c);a.setPortGroup("Size",[m,b]);let y=null;let x=null;let I=null;let S=CGL.Texture.FILTER_MIPMAP;let j=CGL.Texture.WRAP_REPEAT;let _=0;let A=0;u.setUiAttribs({hidePort:true});u.onChange=i.onChange=o.onChange=d.onChange=s.onChange=C;r.onChange=t.onChange=N;n.onChange=P;t.set("mipmap");n.set("repeat");c.set(CGL.Texture.getEmptyTexture(O));g.onTriggered=C;l.onChange=function(){if(l.get()){if(y!=i.get()||!I)C();else c.set(I)}else{c.set(CGL.Texture.getEmptyTexture(O));m.set(CGL.Texture.getEmptyTexture(O).width);b.set(CGL.Texture.getEmptyTexture(O).height);if(I)I.delete();a.setUiAttrib({extendTitle:""});I=null}};const T=function(){const e=CGL.Texture.getTempTexture(O);c.set(e)};function C(e){clearTimeout(A);A=setTimeout(function(){k(e)},1)}function w(){if(o.get()=="R")return CGL.Texture.PFORMATSTR_R8UB;if(o.get()=="RG")return CGL.Texture.PFORMATSTR_RG8UB;if(o.get()=="RGB")return CGL.Texture.PFORMATSTR_RGB8UB;if(o.get()=="SRGBA")return CGL.Texture.PFORMATSTR_SRGBA8;return CGL.Texture.PFORMATSTR_RGBA8UB}function k(e){a.checkMainloopExists();if(!l.get())return;if(x)x=O.patch.loading.finished(x);x=O.patch.loading.start(a.objName,i.get(),a);let t=a.patch.getFilePath(String(i.get()));if(d.get()||e===true)t=CABLES.cacheBust(t);if(String(i.get()).indexOf("data:")==0)t=i.get();let n=false;y=i.get();if(i.get()&&i.get().length>1){f.set(false);v.set(true);const r=i.get();a.setUiAttrib({extendTitle:CABLES.basename(t)});if(n)a.refreshParams();O.patch.loading.addAssetLoadingTask(()=>{a.setUiError("urlerror",null);CGL.Texture.load(O,t,function(e,t){O.checkFrameStarted("texture inittexture");if(i.get()!=r){x=O.patch.loading.finished(x);return}if(I)I.delete();if(e){const n=CGL.Texture.getErrorTexture(O);c.setRef(n);a.setUiError("urlerror",'could not load texture: "'+i.get()+'"',2);x=O.patch.loading.finished(x);return}m.set(t.width);b.set(t.height);h.set(t.width/t.height);I=t;c.setRef(I);v.set(false);f.set(true);if(p.get())I.image=null;if(x){x=O.patch.loading.finished(x)}a.checkMainloopExists()},{anisotropic:_,wrap:j,flip:s.get(),unpackAlpha:u.get(),pixelFormat:w(),filter:S});a.checkMainloopExists()})}else{T();x=O.patch.loading.finished(x)}}function N(){if(t.get()=="nearest")S=CGL.Texture.FILTER_NEAREST;else if(t.get()=="linear")S=CGL.Texture.FILTER_LINEAR;else if(t.get()=="mipmap")S=CGL.Texture.FILTER_MIPMAP;else if(t.get()=="Anisotropic")S=CGL.Texture.FILTER_ANISOTROPIC;r.setUiAttribs({greyout:S!=CGL.Texture.FILTER_MIPMAP});_=parseFloat(r.get());C()}function P(){if(n.get()=="repeat")j=CGL.Texture.WRAP_REPEAT;if(n.get()=="mirrored repeat")j=CGL.Texture.WRAP_MIRRORED_REPEAT;if(n.get()=="clamp to edge")j=CGL.Texture.WRAP_CLAMP_TO_EDGE;C()}a.onFileChanged=function(e){if(i.get()&&i.get().indexOf(e)>-1){c.set(CGL.Texture.getEmptyTexture(a.patch.cgl));c.set(CGL.Texture.getTempTexture(O));k(true)}}};Ops.Gl.Texture_v2.prototype=new CABLES.Op;CABLES.OPS["790f3702-9833-464e-8e37-6f0f813f7e16"]={f:Ops.Gl.Texture_v2,objName:"Ops.Gl.Texture_v2"};Ops.Gl.ImageCompose.ImageCompose=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("render");const r=e.inBool("use viewport size");const a=e.inValueInt("width");const i=e.inValueInt("height");const o=e.inSwitch("filter",["nearest","linear","mipmap"],"linear");const s=e.inValueSelect("wrap",["clamp to edge","repeat","mirrored repeat"]);const u=e.inValueBool("HDR");const l=e.outTrigger("trigger");const p=e.outTexture("texture_out");const c=e.inValueSlider("Background Alpha",0);const d=e.outValue("Aspect Ratio");e.setPortGroup("Texture Size",[r,a,i]);e.setPortGroup("Texture Settings",[s,o,u]);const g=e.patch.cgl;p.set(CGL.Texture.getEmptyTexture(g));let m=null;let b=null;let h=8,f=8;const v=[0,0,0,0];let O=true;const y="".endl()+"uniform float a;".endl()+"void main()".endl()+"{".endl()+"   outColor= vec4(0.0,0.0,0.0,a);".endl()+"}";const x=new CGL.Shader(g,"imgcompose bg");x.setSource(x.getDefaultVertexShader(),y);const I=new CGL.Uniform(x,"f","a",c);let S=CGL.Texture.FILTER_LINEAR;let j=CGL.Texture.WRAP_CLAMP_TO_EDGE;function _(){if(m)m.delete();if(b)b.delete();m=new CGL.TextureEffect(g,{isFloatingPointTexture:u.get()});b=new CGL.Texture(g,{name:"image compose",isFloatingPointTexture:u.get(),filter:S,wrap:j,width:Math.ceil(a.get()),height:Math.ceil(i.get())});m.setSourceTexture(b);p.set(CGL.Texture.getEmptyTexture(g));O=false}u.onChange=function(){O=true};function A(){if(!m)_();if(r.get()){h=g.getViewPort()[2];f=g.getViewPort()[3]}else{h=Math.ceil(a.get());f=Math.ceil(i.get())}if((h!=b.width||f!=b.height)&&(h!==0&&f!==0)){i.set(f);a.set(h);b.setSize(h,f);d.set(h/f);m.setSourceTexture(b);p.set(CGL.Texture.getEmptyTexture(g));p.set(b)}if(p.get()&&S!=CGL.Texture.FILTER_NEAREST){if(!p.get().isPowerOfTwo())e.setUiError("hintnpot","texture dimensions not power of two! - texture filtering when scaling will not work on ios devices.",0);else e.setUiError("hintnpot",null,0)}else e.setUiError("hintnpot",null,0)}function T(){if(r.get()){a.setUiAttribs({greyout:true});i.setUiAttribs({greyout:true})}else{a.setUiAttribs({greyout:false});i.setUiAttribs({greyout:false})}}r.onChange=function(){T();if(r.get()){a.onChange=null;i.onChange=null}else{a.onChange=A;i.onChange=A}A()};e.preRender=function(){C();x.bind()};var C=function(){if(!m||O){_()}const e=g.getViewPort();v[0]=e[0];v[1]=e[1];v[2]=e[2];v[3]=e[3];g.gl.blendFunc(g.gl.SRC_ALPHA,g.gl.ONE_MINUS_SRC_ALPHA);A();g.currentTextureEffect=m;m.setSourceTexture(b);m.startEffect();g.pushShader(x);g.currentTextureEffect.bind();g.setTexture(0,g.currentTextureEffect.getCurrentSourceTexture().tex);g.currentTextureEffect.finish();g.popShader();l.trigger();p.set(m.getCurrentSourceTexture());m.endEffect();g.setViewPort(v[0],v[1],v[2],v[3]);g.gl.blendFunc(g.gl.SRC_ALPHA,g.gl.ONE_MINUS_SRC_ALPHA);g.currentTextureEffect=null};function w(){if(s.get()=="repeat")j=CGL.Texture.WRAP_REPEAT;if(s.get()=="mirrored repeat")j=CGL.Texture.WRAP_MIRRORED_REPEAT;if(s.get()=="clamp to edge")j=CGL.Texture.WRAP_CLAMP_TO_EDGE;O=true;A()}s.set("repeat");s.onChange=w;function k(){if(o.get()=="nearest")S=CGL.Texture.FILTER_NEAREST;if(o.get()=="linear")S=CGL.Texture.FILTER_LINEAR;if(o.get()=="mipmap")S=CGL.Texture.FILTER_MIPMAP;O=true;A()}o.set("linear");o.onChange=k;r.set(true);n.onTriggered=C;e.preRender=C;a.set(640);i.set(360);k();w();T()};Ops.Gl.ImageCompose.ImageCompose.prototype=new CABLES.Op;CABLES.OPS["5c04608d-1e42-4e36-be00-1be4a81fc309"]={f:Ops.Gl.ImageCompose.ImageCompose,objName:"Ops.Gl.ImageCompose.ImageCompose"};Ops.Gl.ImageCompose.ColorMap=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={colormap_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI sampler2D gradient;\nUNI float pos;\nUNI float amount;\nUNI float vmin;\nUNI float vmax;\n\n{{CGL.BLENDMODES}}\n\n\nfloat lumi(vec3 color)\n{\n   return vec3(dot(vec3(0.2126,0.7152,0.0722), color)).r;\n}\n\nvoid main()\n{\n    vec4 base=texture(tex,texCoord);\n\n   base=clamp(base,vmin,vmax);\n\n    #ifdef METH_LUMI\n        vec4 color=texture(gradient,vec2(lumi(base.rgb),pos));\n    #endif\n\n    #ifdef METH_CHANNELS\n        vec4 color=vec4(1.0);\n        color.r=texture(gradient,vec2(base.r,pos)).r;\n        color.g=texture(gradient,vec2(base.g,pos)).g;\n        color.b=texture(gradient,vec2(base.b,pos)).b;\n    #endif\n\n//   outColor= vec4(color);\n   outColor=cgl_blend(base,color,amount);\n\n}\n"};let n=e.inTrigger("render");let r=e.outTrigger("trigger");const a=CGL.TextureEffect.AddBlendSelect(e,"Blend Mode","normal");const i=e.inValueSlider("Amount",1);let o=e.inTexture("Gradient");let s=e.inSwitch("Method",["Luminance","Channels"],"Luminance");let u=e.inFloatSlider("Min",0);let l=e.inFloatSlider("Max",1);let p=e.inValueSlider("Position",.5);e.setPortGroup("Vertical Position",[u,l,p]);let c=e.patch.cgl;let d=new CGL.Shader(c,e.name,e);d.define("METH_LUMI");d.setSource(d.getDefaultVertexShader(),t.colormap_frag);var g=new CGL.Uniform(d,"t","tex",0);var g=new CGL.Uniform(d,"t","gradient",1);let m=new CGL.Uniform(d,"f","pos",p);let b=new CGL.Uniform(d,"f","vmin",u);let h=new CGL.Uniform(d,"f","vmax",l);let f=new CGL.Uniform(d,"f","amount",i);CGL.TextureEffect.setupBlending(e,d,a,i);s.onChange=()=>{d.toggleDefine("METH_LUMI",s.get()=="Luminance");d.toggleDefine("METH_CHANNELS",s.get()=="Channels")};n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;if(!o.get())return;c.pushShader(d);c.currentTextureEffect.bind();c.setTexture(0,c.currentTextureEffect.getCurrentSourceTexture().tex);c.setTexture(1,o.get().tex);c.currentTextureEffect.finish();c.popShader();r.trigger()}};Ops.Gl.ImageCompose.ColorMap.prototype=new CABLES.Op;CABLES.OPS["58e302d7-4b84-4077-aa13-4f3cf0885205"]={f:Ops.Gl.ImageCompose.ColorMap,objName:"Ops.Gl.ImageCompose.ColorMap"};Ops.Gl.ImageCompose.Plasma=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={plasma_frag:"#define PI 3.1415926535897932384626433832795\n\nUNI float time;\nUNI float w;\nUNI float h;\nUNI float mul;\nUNI float amount;\nUNI sampler2D tex;\nUNI float offsetX;\nUNI float offsetY;\n\nIN vec2 texCoord;\n\n{{CGL.BLENDMODES}}\n\nvoid main() {\n   vec2 size=vec2(w,h);\n    float v = 0.0;\n    vec2 c = texCoord * size - size/2.0;\n\n    c.x+=offsetX;\n    c.y+=offsetY;\n\n    v += sin((c.x+time));\n    v += sin((c.y+time)/2.0);\n    v += sin((c.x+c.y+time)/2.0);\n    c += size/2.0 * vec2(sin(time/3.0), cos(time/2.0));\n\n    v += sin(sqrt(c.x*c.x+c.y*c.y+1.0)+time);\n    v = v/2.0;\n\n    vec3 newColor = vec3(sin(PI*v*mul/4.0), sin(PI*v*mul), cos(PI*v*mul))*.5 + .5;\n    vec4 base=texture(tex,texCoord);\n\n    #ifndef GREY\n       vec4 col=vec4( _blend(base.rgb,newColor) ,1.0);\n    #endif\n    #ifdef GREY\n       vec4 col=vec4( _blend(base.rgb,vec3(newColor.g)) ,1.0);\n    #endif\n\n    outColor=cgl_blend(base,col,amount);\n\n}"};const n=e.inTrigger("render"),r=CGL.TextureEffect.AddBlendSelect(e,"Blend Mode","normal"),a=e.inValueSlider("Amount",1),i=e.inValue("Width",20),o=e.inValue("Height",20),s=e.inValue("Mul",1),u=e.inValue("offset X",0),l=e.inValue("offset Y",0),p=e.inValue("Time",1),c=e.inValueBool("Greyscale",true),d=e.outTrigger("trigger");const g=e.patch.cgl;const m=new CGL.Shader(g,e.name,e);m.setSource(m.getDefaultVertexShader(),t.plasma_frag);m.define("GREY");const b=new CGL.Uniform(m,"f","w",i),h=new CGL.Uniform(m,"f","h",o),f=new CGL.Uniform(m,"f","time",p),v=new CGL.Uniform(m,"f","mul",s),O=new CGL.Uniform(m,"f","offsetX",u),y=new CGL.Uniform(m,"f","offsetY",l),x=new CGL.Uniform(m,"t","tex",0),I=new CGL.Uniform(m,"f","amount",a);c.onChange=function(){if(c.get())m.define("GREY");else m.removeDefine("GREY")};CGL.TextureEffect.setupBlending(e,m,r,a);n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;g.pushShader(m);g.currentTextureEffect.bind();g.setTexture(0,g.currentTextureEffect.getCurrentSourceTexture().tex);g.currentTextureEffect.finish();g.popShader();d.trigger()}};Ops.Gl.ImageCompose.Plasma.prototype=new CABLES.Op;CABLES.OPS["6c82c11d-1931-43b1-8e6c-5d20cb1a0d87"]={f:Ops.Gl.ImageCompose.Plasma,objName:"Ops.Gl.ImageCompose.Plasma"};Ops.Gl.ImageCompose.ImageCompose_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={imgcomp_frag:"UNI float a;\nvoid main()\n{\n   outColor= vec4(0.0,0.0,0.0,a);\n}\n"};const n=e.inTrigger("Render"),r=e.inBool("Use viewport size",true),a=e.inValueInt("Width",640),i=e.inValueInt("Height",480),o=e.inSwitch("Filter",["nearest","linear","mipmap"],"linear"),s=e.inValueSelect("Wrap",["clamp to edge","repeat","mirrored repeat"],"repeat"),u=e.inValueBool("HDR"),l=e.inValueBool("Transparent",false),p=e.outTrigger("Next"),c=e.outTexture("texture_out"),d=e.outValue("Aspect Ratio");const g=e.patch.cgl;e.setPortGroup("Texture Size",[r,a,i]);e.setPortGroup("Texture Settings",[s,o,u,l]);c.set(CGL.Texture.getEmptyTexture(g,u.get()));let m=null;let b=null;let h=8,f=8;const v=[0,0,0,0];let O=true;let y=CGL.Texture.FILTER_LINEAR;let x=CGL.Texture.WRAP_CLAMP_TO_EDGE;const I=0;const S=0;s.onChange=C;o.onChange=w;n.onTriggered=e.preRender=T;w();C();A();function j(){if(m)m.delete();if(b)b.delete();if(u.get()&&o.get()=="mipmap")e.setUiError("fpmipmap","Don't use mipmap and HDR at the same time, many systems do not support this.");else e.setUiError("fpmipmap",null);m=new CGL.TextureEffect(g,{isFloatingPointTexture:u.get()});b=new CGL.Texture(g,{name:"image_compose_v2_"+e.id,isFloatingPointTexture:u.get(),filter:y,wrap:x,width:Math.ceil(a.get()),height:Math.ceil(i.get())});m.setSourceTexture(b);c.set(CGL.Texture.getEmptyTexture(g,u.get()));O=false}u.onChange=function(){O=true};function _(){if(!m)j();if(r.get()){h=g.getViewPort()[2];f=g.getViewPort()[3]}else{h=Math.ceil(a.get());f=Math.ceil(i.get())}d.set(h/f);if((h!=b.width||f!=b.height)&&(h!==0&&f!==0)){b.setSize(h,f);m.setSourceTexture(b);c.set(CGL.Texture.getEmptyTexture(g,u.get()));c.set(b)}}function A(){a.setUiAttribs({greyout:r.get()});i.setUiAttribs({greyout:r.get()})}r.onChange=function(){A()};e.preRender=function(){T()};function T(){if(!m||O)j();const e=g.getViewPort();v[0]=e[0];v[1]=e[1];v[2]=e[2];v[3]=e[3];g.pushBlend(false);_();const t=g.currentTextureEffect;g.currentTextureEffect=m;g.currentTextureEffect.width=a.get();g.currentTextureEffect.height=i.get();m.setSourceTexture(b);let n=CGL.Texture.getBlackTexture(g);if(l.get())n=CGL.Texture.getEmptyTexture(g,u.get());m.startEffect(n);p.trigger();c.set(m.getCurrentSourceTexture());m.endEffect();g.setViewPort(v[0],v[1],v[2],v[3]);g.popBlend(false);g.currentTextureEffect=t}function C(){if(s.get()=="repeat")x=CGL.Texture.WRAP_REPEAT;if(s.get()=="mirrored repeat")x=CGL.Texture.WRAP_MIRRORED_REPEAT;if(s.get()=="clamp to edge")x=CGL.Texture.WRAP_CLAMP_TO_EDGE;O=true}function w(){if(o.get()=="nearest")y=CGL.Texture.FILTER_NEAREST;if(o.get()=="linear")y=CGL.Texture.FILTER_LINEAR;if(o.get()=="mipmap")y=CGL.Texture.FILTER_MIPMAP;O=true}};Ops.Gl.ImageCompose.ImageCompose_v2.prototype=new CABLES.Op;CABLES.OPS["a5b43d4c-a9ea-4eaf-9ed0-f257d222659d"]={f:Ops.Gl.ImageCompose.ImageCompose_v2,objName:"Ops.Gl.ImageCompose.ImageCompose_v2"};Ops.Gl.ImageCompose.BrightnessContrast=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={brightness_contrast_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI float amount;\nUNI float amountbright;\n\nvoid main()\n{\n    vec4 col=vec4(1.0,0.0,0.0,1.0);\n    col=texture(tex,texCoord);\n\n    // apply contrast\n    col.rgb = ((col.rgb - 0.5) * max(amount*2.0, 0.0))+0.5;\n\n    // apply brightness\n    col.rgb *= amountbright*2.0;\n\n    outColor = col;\n}"};const n=e.inTrigger("render"),r=e.inValueSlider("contrast",.5),a=e.inValueSlider("brightness",.5),i=e.outTrigger("trigger");const o=e.patch.cgl;const s=new CGL.Shader(o,"brightnesscontrast");s.setSource(s.getDefaultVertexShader(),t.brightness_contrast_frag);const u=new CGL.Uniform(s,"t","tex",0);const l=new CGL.Uniform(s,"f","amount",r);const p=new CGL.Uniform(s,"f","amountbright",a);n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;if(!o.currentTextureEffect.getCurrentSourceTexture())return;if(!CGL.TextureEffect.checkOpInEffect(e))return;o.pushShader(s);o.currentTextureEffect.bind();o.setTexture(0,o.currentTextureEffect.getCurrentSourceTexture().tex);o.currentTextureEffect.finish();o.popShader();i.trigger()}};Ops.Gl.ImageCompose.BrightnessContrast.prototype=new CABLES.Op;CABLES.OPS["54b89199-c594-4dff-bc48-82d6c7a55e8a"]={f:Ops.Gl.ImageCompose.BrightnessContrast,objName:"Ops.Gl.ImageCompose.BrightnessContrast"};Ops.Gl.ImageCompose.Noise.Noise=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={noise_frag:"IN vec2 texCoord;\nUNI sampler2D tex;\nUNI float amount;\nUNI float time;\n\n#ifdef HAS_MULMASK\n    UNI sampler2D texMul;\n#endif\n\n{{CGL.BLENDMODES}}\n{{MODULES_HEAD}}\n\n{{CGL.RANDOM_TEX}}\n\nvoid main()\n{\n    vec4 rnd;\n\n\n    #ifdef RGB\n        rnd=vec4(cgl_random3(texCoord.xy+vec2(time)),1.0);\n    #else\n        float r=cgl_random(texCoord.xy+vec2(time));\n        rnd=vec4( r,r,r,1.0 );\n    #endif\n\n    vec4 base=texture(tex,texCoord);\n    vec4 col=vec4( _blend(base.rgb,rnd.rgb) ,1.0);\n\n    #ifdef NORMALIZE\n        col.rgb=(col.rgb-0.5)*2.0;\n    #endif\n\n    #ifdef HAS_MULMASK\n        col.rgb*=texture(texMul,texCoord).rgb;\n    #endif\n\n    outColor=vec4( mix( col.rgb, base.rgb ,1.0-base.a*amount),1.0);\n}"};const n=e.inTrigger("Render"),r=CGL.TextureEffect.AddBlendSelect(e,"Blend Mode","normal"),a=e.inValueSlider("Amount",1),i=e.inValueBool("Animated",true),o=e.inValueBool("RGB",false),s=e.inValueBool("Normalize",false),u=e.inTexture("Multiply"),l=e.outTrigger("Next");const p=e.patch.cgl,c=new CGL.Shader(p,e.name),d=new CGL.Uniform(c,"f","amount",a),g=new CGL.Uniform(c,"f","time",1),m=new CGL.Uniform(c,"t","tex",0),b=new CGL.Uniform(c,"t","texMul",1);c.setSource(c.getDefaultVertexShader(),t.noise_frag);CGL.TextureEffect.setupBlending(e,c,r,a);e.toWorkPortsNeedToBeLinked(n);u.onChange=s.onChange=o.onChange=function(){c.toggleDefine("HAS_MULMASK",u.get());c.toggleDefine("RGB",o.get());c.toggleDefine("NORMALIZE",s.get())};n.onTriggered=function(){if(!CGL.TextureEffect.checkOpInEffect(e))return;if(i.get())g.setValue(e.patch.freeTimer.get()/1e3%100);else g.setValue(0);p.pushShader(c);p.setTexture(0,p.currentTextureEffect.getCurrentSourceTexture().tex);if(u.get())p.setTexture(1,u.get().tex);p.currentTextureEffect.bind();p.currentTextureEffect.finish();p.popShader();l.trigger()}};Ops.Gl.ImageCompose.Noise.Noise.prototype=new CABLES.Op;CABLES.OPS["81253441-cc73-42fa-b903-6d23806873d9"]={f:Ops.Gl.ImageCompose.Noise.Noise,objName:"Ops.Gl.ImageCompose.Noise.Noise"};Ops.Gl.Textures.SwitchTextures_v2=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inTrigger("exec"),r=this.inValueInt("num"),a=t.inValueBool("Default Texture Transparent",true),i=t.outTrigger("Next"),o=this.outTexture("texture");const s=t.patch.cgl;const u=[];let l=0;let p=-1;let c=CGL.Texture.getEmptyTexture(s);t.toWorkPortsNeedToBeLinked(n);n.onTriggered=function(){g();i.trigger()};a.onChange=function(){if(a.get())c=CGL.Texture.getEmptyTexture(s);else c=CGL.Texture.getTempTexture(s);g(true)};for(let e=0;e<16;e++){const m=t.inTexture("texture"+e);u.push(m);m.onChange=d}function d(){g(true)}function g(e){l=parseInt(r.get(),10);if(!e){if(l==p)return;if(l!=l)return}if(isNaN(l)||l<0||l>u.length-1)l=0;if(u[l].get())o.setRef(u[l].get());else o.setRef(c);p=l}};Ops.Gl.Textures.SwitchTextures_v2.prototype=new CABLES.Op;CABLES.OPS["a82ae429-ac07-4760-882b-595a857c7ae0"]={f:Ops.Gl.Textures.SwitchTextures_v2,objName:"Ops.Gl.Textures.SwitchTextures_v2"};Ops.Gl.Meshes.FullscreenRectangle=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={shader_frag:"UNI sampler2D tex;\nIN vec2 texCoord;\n\nvoid main()\n{\n    outColor= texture(tex,texCoord);\n}\n\n",shader_vert:"{{MODULES_HEAD}}\n\nIN vec3 vPosition;\nUNI mat4 projMatrix;\nUNI mat4 mvMatrix;\n\nOUT vec2 texCoord;\nIN vec2 attrTexCoord;\n\nvoid main()\n{\n   vec4 pos=vec4(vPosition,  1.0);\n\n   texCoord=vec2(attrTexCoord.x,(1.0-attrTexCoord.y));\n\n   gl_Position = projMatrix * mvMatrix * pos;\n}\n"};const n=e.inTrigger("render"),r=e.inSwitch("Scale",["Stretch","Fit"],"Fit"),a=e.inValueBool("Flip Y"),i=e.inValueBool("Flip X"),o=e.inTexture("Texture"),s=e.outTrigger("trigger");const u=e.patch.cgl;let l=null;let p=new CGL.Geometry("fullscreen rectangle");let c=0,d=0,g=0,m=0,b=0;e.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_FUNCTION);e.toWorkPortsNeedToBeLinked(n);i.onChange=_;a.onChange=_;n.onTriggered=j;o.onLinkChanged=x;r.onChange=S;const h=new CGL.Shader(u,"fullscreenrectangle",this);h.setModules(["MODULE_VERTEX_POSITION","MODULE_COLOR","MODULE_BEGIN_FRAG"]);h.setSource(t.shader_vert,t.shader_frag);h.fullscreenRectUniform=new CGL.Uniform(h,"t","tex",0);h.aspectUni=new CGL.Uniform(h,"f","aspectTex",0);let f=false;let v=true;let O=false;let y=[];x();S();o.onChange=function(){v=true};function x(){if(!CABLES.UI)return;a.setUiAttribs({greyout:!o.isLinked()});i.setUiAttribs({greyout:!o.isLinked()});r.setUiAttribs({greyout:!o.isLinked()})}function I(){let e=o.get();if(e)f=true;else f=false}e.preRender=function(){I();h.bind();if(l)l.render(h);j()};function S(){O=r.get()=="Fit"}function j(){if(u.getViewPort()[2]!=m||u.getViewPort()[3]!=b||!l)A();if(v)I();u.pushPMatrix();mat4.identity(u.pMatrix);mat4.ortho(u.pMatrix,0,m,b,0,-10,1e3);u.pushModelMatrix();mat4.identity(u.mMatrix);u.pushViewMatrix();mat4.identity(u.vMatrix);if(O&&o.get()){const n=o.get().width/o.get().height;let e=b;let t=b*n;if(t>m){e=m*1/n;t=m}y[0]=u.getViewPort()[0];y[1]=u.getViewPort()[1];y[2]=u.getViewPort()[2];y[3]=u.getViewPort()[3];u.setViewPort((m-t)/2,(b-e)/2,t,e)}if(f){if(o.get())u.setTexture(0,o.get().tex);l.render(h)}else{l.render(u.getShader())}u.gl.clear(u.gl.DEPTH_BUFFER_BIT);u.popPMatrix();u.popModelMatrix();u.popViewMatrix();if(O&&o.get())u.setViewPort(y[0],y[1],y[2],y[3]);s.trigger()}function _(){l=null}function A(){const e=u.getViewPort();if(e[2]==m&&e[3]==b&&l)return;let t=0,n=0;m=e[2];b=e[3];p.vertices=new Float32Array([t+m,n+b,0,t,n+b,0,t+m,n,0,t,n,0]);let r=null;if(a.get())r=new Float32Array([1,0,0,0,1,1,0,1]);else r=new Float32Array([1,1,0,1,1,0,0,0]);if(i.get()){r[0]=0;r[2]=1;r[4]=0;r[6]=1}p.setTexCoords(r);p.verticesIndices=new Uint16Array([2,1,0,3,1,2]);p.vertexNormals=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1]);p.tangents=new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0]);p.biTangents==new Float32Array([0,-1,0,0,-1,0,0,-1,0,0,-1,0]);if(!l)l=new CGL.Mesh(u,p);else l.setGeom(p)}};Ops.Gl.Meshes.FullscreenRectangle.prototype=new CABLES.Op;CABLES.OPS["255bd15b-cc91-4a12-9b4e-53c710cbb282"]={f:Ops.Gl.Meshes.FullscreenRectangle,objName:"Ops.Gl.Meshes.FullscreenRectangle"};Ops.TimeLine.TimeLineTime=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.outNumber("time");e.onAnimFrame=function(e){n.set(e)}};Ops.TimeLine.TimeLineTime.prototype=new CABLES.Op;CABLES.OPS["3ab26f26-a12a-4c48-9411-20591a5f569d"]={f:Ops.TimeLine.TimeLineTime,objName:"Ops.TimeLine.TimeLineTime"};Ops.Ui.Area=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Title",""),r=e.inTriggerButton("Delete");n.setUiAttribs({hidePort:true});e.setUiAttrib({hasArea:true});e.init=n.onChange=e.onLoaded=a;a();function a(){if(CABLES.UI){gui.savedState.setUnSaved("areaOp",e.getSubPatch());e.uiAttr({comment_title:n.get()||" "});e.name=n.get()}}r.onTriggered=()=>{e.patch.deleteOp(e.id)}};Ops.Ui.Area.prototype=new CABLES.Op;CABLES.OPS["38f79614-b0de-4960-8da5-2827e7f43415"]={f:Ops.Ui.Area,objName:"Ops.Ui.Area"};Ops.Sidebar.Group=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};let n=t.inObject("link");let r=t.inString("Text","Group");const a=t.inBool("Show Title",true);let i=t.inValueBool("Default Minimized");const o=t.inBool("Visible",true);let s=t.outObject("next");let u=t.outObject("childs");o.onChange=function(){l.style.display=o.get()?"block":"none"};let l=document.createElement("div");l.dataset.op=t.id;l.classList.add("sidebar__group");b();let p=document.createElement("div");p.classList.add("sidebar__group-header");p.classList.add("cablesEle");l.appendChild(p);p.addEventListener("click",h);let c=document.createElement("div");c.classList.add("sidebar__group-header-title");p.appendChild(c);let d=document.createElement("span");d.textContent=r.get();d.classList.add("sidebar__group-header-title-text");c.appendChild(d);let g=document.createElement("span");g.classList.add("sidebar__group-header-icon");g.classList.add("iconsidebar-chevron-up");c.appendChild(g);let m=document.createElement("div");m.classList.add("sidebar__group-items");l.appendChild(m);t.toWorkPortsNeedToBeLinked(n);n.onChange=v;r.onChange=f;i.onChange=b;t.onDelete=x;a.onChange=()=>{if(a.get())p.style.display="block";else p.style.display="none"};function b(){if(i.get()){l.classList.add("sidebar__group--closed")}else{l.classList.remove("sidebar__group--closed")}}function h(e){e.stopPropagation();l.classList.toggle("sidebar__group--closed")}function f(){let e=r.get();d.textContent=e;if(CABLES.UI)t.setUiAttrib({extendTitle:e})}function v(){u.set(null);let e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(l);u.set({parentElement:m,parentOp:t});s.set(e)}else{if(l.parentElement){l.parentElement.removeChild(l)}}}function O(e){if(e){e.style.display="block"}}function y(e){if(e){e.style.display="none"}}function x(){I(l)}function I(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.Sidebar.Group.prototype=new CABLES.Op;CABLES.OPS["86ea2333-b51c-48ed-94c2-8b7b6e9ff34c"]={f:Ops.Sidebar.Group,objName:"Ops.Sidebar.Group"};Ops.User.rambodc.PageRouter=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_zzd2dk99r=op.inObject("zzd2dk99r");\nport_zzd2dk99r.setUiAttribs({title:"Parent Link",});\n\nconst port_0as2n77e5=op.inTrigger("0as2n77e5");\nport_0as2n77e5.setUiAttribs({title:"Mainloop",display:"button",});\n\nconst port_eabt3o2x7=op.inTrigger("eabt3o2x7");\nport_eabt3o2x7.setUiAttribs({title:"Hash Changed",display:"button",});\n\nconst port_37k6sbwik=op.outObject("37k6sbwik");\nport_37k6sbwik.setUiAttribs({title:"Parent Link",});\n\nconst port_o4ucc2fcw=op.outTrigger("o4ucc2fcw");\nport_o4ucc2fcw.setUiAttribs({title:"Mainloop",});\n\nconst port_r4xu39dfu=op.outTrigger("r4xu39dfu");\nport_r4xu39dfu.setUiAttribs({title:"Hash Changed",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_zzd2dk99r = addedOps[i].outObject("innerOut_zzd2dk99r");\ninnerOut_zzd2dk99r.setUiAttribs({title:"Parent Link"});\nport_zzd2dk99r.on("change", (a,v) => { innerOut_zzd2dk99r.setRef(a); });\n\nconst innerOut_0as2n77e5 = addedOps[i].outTrigger("innerOut_0as2n77e5");\ninnerOut_0as2n77e5.setUiAttribs({title:"Mainloop"});\nport_0as2n77e5.onTriggered = () => { innerOut_0as2n77e5.trigger(); };\n\nconst innerOut_eabt3o2x7 = addedOps[i].outTrigger("innerOut_eabt3o2x7");\ninnerOut_eabt3o2x7.setUiAttribs({title:"Hash Changed"});\nport_eabt3o2x7.onTriggered = () => { innerOut_eabt3o2x7.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_37k6sbwik = addedOps[i].inObject("innerIn_37k6sbwik");\ninnerIn_37k6sbwik.setUiAttribs({title:"Parent Link"});\ninnerIn_37k6sbwik.on("change", (a,v) => { port_37k6sbwik.setRef(a); });\n\nconst innerIn_o4ucc2fcw = addedOps[i].inTrigger("innerIn_o4ucc2fcw");\ninnerIn_o4ucc2fcw.setUiAttribs({title:"Mainloop"});\ninnerIn_o4ucc2fcw.onTriggered = () => { port_o4ucc2fcw.trigger(); };\n\nconst innerIn_r4xu39dfu = addedOps[i].inTrigger("innerIn_r4xu39dfu");\ninnerIn_r4xu39dfu.setUiAttribs({title:"Hash Changed"});\ninnerIn_r4xu39dfu.onTriggered = () => { port_r4xu39dfu.trigger(); };\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp56-0","uiAttribs":{"subPatch":"322ya1kem"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp56-1","uiAttribs":{"subPatch":"322ya1kem"},"storage":{},"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp56-2","uiAttribs":{"subPatch":"322ya1kem"},"storage":{},"portsOut":[{"name":"innerOut_zzd2dk99r","title":"Parent Link","links":[{"portIn":"innerIn_37k6sbwik","portOut":"innerOut_zzd2dk99r","objIn":"bp56-3","objOut":"bp56-2"}]},{"name":"innerOut_0as2n77e5","title":"Mainloop","links":[{"portIn":"Execute","portOut":"innerOut_0as2n77e5","objIn":"bp56-0","objOut":"bp56-2"},{"portIn":"innerIn_o4ucc2fcw","portOut":"innerOut_0as2n77e5","objIn":"bp56-3","objOut":"bp56-2"}]},{"name":"innerOut_eabt3o2x7","title":"Hash Changed","links":[{"portIn":"innerIn_r4xu39dfu","portOut":"innerOut_eabt3o2x7","objIn":"bp56-3","objOut":"bp56-2"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp56-3","uiAttribs":{"subPatch":"322ya1kem"},"storage":{},"portsIn":[{"name":"innerIn_37k6sbwik","title":"Parent Link"},{"name":"innerIn_o4ucc2fcw","title":"Mainloop"},{"name":"innerIn_r4xu39dfu","title":"Hash Changed"}],"objName":"Ops.Ui.SubPatchOutput"}]}'};const u=e.inObject("zzd2dk99r");u.setUiAttribs({title:"Parent Link"});const l=e.inTrigger("0as2n77e5");l.setUiAttribs({title:"Mainloop",display:"button"});const p=e.inTrigger("eabt3o2x7");p.setUiAttribs({title:"Hash Changed",display:"button"});const c=e.outObject("37k6sbwik");c.setUiAttribs({title:"Parent Link"});const d=e.outTrigger("o4ucc2fcw");d.setUiAttribs({title:"Mainloop"});const g=e.outTrigger("r4xu39dfu");g.setUiAttribs({title:"Hash Changed"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_zzd2dk99r");n.setUiAttribs({title:"Parent Link"});u.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outTrigger("innerOut_0as2n77e5");r.setUiAttribs({title:"Mainloop"});l.onTriggered=()=>{r.trigger()};const a=t[e].outTrigger("innerOut_eabt3o2x7");a.setUiAttribs({title:"Hash Changed"});p.onTriggered=()=>{a.trigger()}}if(t[e].innerOutput){const i=t[e].inObject("innerIn_37k6sbwik");i.setUiAttribs({title:"Parent Link"});i.on("change",(e,t)=>{c.setRef(e)});const o=t[e].inTrigger("innerIn_o4ucc2fcw");o.setUiAttribs({title:"Mainloop"});o.onTriggered=()=>{d.trigger()};const s=t[e].inTrigger("innerIn_r4xu39dfu");s.setUiAttribs({title:"Hash Changed"});s.onTriggered=()=>{g.trigger()}}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PageRouter.prototype=new CABLES.Op;CABLES.OPS["b8f61f61-1cd4-4fc6-9518-2bc6fb1a8718"]={f:Ops.User.rambodc.PageRouter,objName:"Ops.User.rambodc.PageRouter"};Ops.Trigger.TriggerCounter=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("exe"),r=e.inTriggerButton("reset"),a=e.outTrigger("trigger"),i=e.outNumber("timesTriggered");e.toWorkPortsNeedToBeLinked(n);e.setUiAttrib({extendTitle:0});let o=0;r.onTriggered=e.onLoaded=s;n.onTriggered=function(){o++;i.set(o);e.setUiAttrib({extendTitle:o});a.trigger()};function s(){o=0;e.setUiAttrib({extendTitle:o});i.set(o)}};Ops.Trigger.TriggerCounter.prototype=new CABLES.Op;CABLES.OPS["e640619f-235c-4543-bbf8-b358e0283180"]={f:Ops.Trigger.TriggerCounter,objName:"Ops.Trigger.TriggerCounter"};Ops.Gl.Meshes.TextMesh_v2=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={textmesh_frag:"{{MODULES_HEAD}}\n\n#define INSTANCING\n\nUNI sampler2D tex;\n#ifdef DO_MULTEX\n    UNI sampler2D texMul;\n#endif\n#ifdef DO_MULTEX_MASK\n    UNI sampler2D texMulMask;\n#endif\nIN vec2 texCoord;\nIN vec2 texPos;\nUNI float r;\nUNI float g;\nUNI float b;\nUNI float a;\n\nflat IN float frag_instIndex;\n\nvoid main()\n{\n    {{MODULE_BEGIN_FRAG}}\n\n    vec4 col=texture(tex,texCoord);\n    col.a=col.r;\n    col.r*=r;\n    col.g*=g;\n    col.b*=b;\n    col*=a;\n\n    if(col.a==0.0)discard;\n\n    #ifdef DO_MULTEX\n        col*=texture(texMul,texPos);\n    #endif\n\n    #ifdef DO_MULTEX_MASK\n        col*=texture(texMulMask,texPos).r;\n    #endif\n\n    {{MODULE_COLOR}}\n\n    outColor=col;\n}",textmesh_vert:"{{MODULES_HEAD}}\n\nUNI sampler2D tex;\nUNI mat4 projMatrix;\nUNI mat4 modelMatrix;\nUNI mat4 viewMatrix;\nUNI float scale;\nIN vec3 vPosition;\nIN vec2 attrTexCoord;\nIN mat4 instMat;\nIN vec2 attrTexOffsets;\nIN vec2 attrTexSize;\nIN vec2 attrTexPos;\nIN float attrVertIndex;\nIN float instanceIndex;\nflat OUT float frag_instIndex;\n\nOUT vec2 texPos;\n\nOUT vec2 texCoord;\nOUT vec4 modelPos;\n\nvoid main()\n{\n\n    texCoord=(attrTexCoord*(attrTexSize)) + attrTexOffsets;\n    mat4 instMVMat=instMat;\n    instMVMat[3][0]*=scale;\n\n    texPos=attrTexPos;\n\n    vec4 pos=vec4( vPosition.x*(attrTexSize.x/attrTexSize.y)*scale,vPosition.y*scale,vPosition.z*scale, 1. );\n\n    mat4 mvMatrix=viewMatrix * modelMatrix * instMVMat;\n    frag_instIndex=instanceIndex;\n\n    {{MODULE_VERTEX_POSITION}}\n\n    gl_Position = projMatrix * mvMatrix * pos;\n}\n\n"};const n=t.inTrigger("Render"),v=t.inString("Text","cables"),r=t.inFloat("Scale Text",1),a=t.inValueFloat("Scale",1),p=t.inString("Font","Arial"),O=t.inValueSelect("align",["left","center","right"],"center"),i=t.inValueSelect("vertical align",["Top","Middle","Bottom"],"Middle"),y=t.inValueFloat("Line Height",1),x=t.inValueFloat("Letter Spacing"),s=t.inSwitch("filter",["nearest","linear","mipmap"],"mipmap"),u=t.inSwitch("Anisotropic",[0,1,2,4,8,16],0),o=t.inTexture("Texture Color"),l=t.inTexture("Texture Mask"),M=t.outTrigger("Next"),I=t.outTexture("texture"),B=t.outNumber("Total Lines",0),z=t.outNumber("Width",0),V=t.outBoolNum("Font Available",0);const S=t.patch.cgl;const c=vec3.create();vec3.set(c,1,1,1);t.toWorkPortsNeedToBeLinked(n);t.setPortGroup("Masking",[o,l]);a.setUiAttribs({title:"Line Scale"});I.setUiAttribs({hidePort:true});const d=1024;let g=false;let m=true;O.onChange=v.onChange=y.onChange=R;function R(){m=true}let b=null;CABLES.OpTextureMeshCanvas={};let h=0;const U=null;let j=null;let _=true;let A=true;r.onChange=()=>{vec3.set(c,r.get(),r.get(),r.get())};u.onChange=s.onChange=()=>{T().texture=null;A=true};l.onChange=o.onChange=function(){C.toggleDefine("DO_MULTEX",o.get());C.toggleDefine("DO_MULTEX_MASK",l.get())};I.set(null);p.onChange=function(){A=true;_=true;f()};t.patch.on("fontLoaded",e=>{if(e==p.get()){A=true;_=true}});function f(){const e=g;try{g=document.fonts.check('20px "'+p.get()+'"')}catch(e){t.logError(e)}if(!e&&g){V.set(true);A=true;_=true}if(!g)setTimeout(f,250)}i.onChange=function(){if(i.get()=="Middle")h=0;else if(i.get()=="Top")h=1;else if(i.get()=="Bottom")h=2};function T(){b=""+p.get();if(CABLES.OpTextureMeshCanvas.hasOwnProperty(b))return CABLES.OpTextureMeshCanvas[b];const e=document.createElement("canvas");e.dataset.font=p.get();e.id="texturetext_"+CABLES.generateUUID();e.style.display="none";const t=document.getElementsByTagName("body")[0];t.appendChild(e);const n=e.getContext("2d");CABLES.OpTextureMeshCanvas[b]={ctx:n,canvas:e,chars:{},characters:"",fontSize:320};return CABLES.OpTextureMeshCanvas[b]}t.onDelete=function(){if(b&&CABLES.OpTextureMeshCanvas[b])CABLES.OpTextureMeshCanvas[b].canvas.remove()};const C=new CGL.Shader(S,"TextMesh",this);C.setSource(e.textmesh_vert,e.textmesh_frag);const F=new CGL.Uniform(C,"t","tex",0);const G=new CGL.Uniform(C,"t","texMul",1);const H=new CGL.Uniform(C,"t","texMulMask",2);const q=new CGL.Uniform(C,"f","scale",a);const w=t.inValueSlider("r",1),k=t.inValueSlider("g",1),N=t.inValueSlider("b",1),W=t.inValueSlider("a",1),X=new CGL.Uniform(C,"f","r",w),Y=new CGL.Uniform(C,"f","g",k),J=new CGL.Uniform(C,"f","b",N),Z=new CGL.Uniform(C,"f","a",W);w.setUiAttribs({colorPick:true});t.setPortGroup("Display",[a,p]);t.setPortGroup("Alignment",[O,i]);t.setPortGroup("Color",[w,k,N,W]);let P=0;const E=vec3.create();let $=-1;let L=false;n.onTriggered=function(){if(m){K();m=false}const e=T();if(e.lastChange!=$){_=true;$=e.lastChange}if(A)Q();if(_)K();if(j&&j.numInstances>0){S.pushBlendMode(CGL.BLEND_NORMAL,true);S.pushShader(C);S.setTexture(0,I.get().tex);const t=o.get();if(t)S.setTexture(1,t.tex);const n=l.get();if(n)S.setTexture(2,n.tex);if(h===2)vec3.set(E,0,P,0);else if(h===1)vec3.set(E,0,0,0);else if(h===0)vec3.set(E,0,P/2,0);E[1]-=y.get();S.pushModelMatrix();mat4.translate(S.mMatrix,S.mMatrix,E);mat4.scale(S.mMatrix,S.mMatrix,c);if(!L)j.render(S.getShader());S.popModelMatrix();S.setTexture(0,null);S.popShader();S.popBlendMode()}M.trigger()};x.onChange=function(){_=true};function K(){const e=String(v.get()+"");if(!I.get())return;const i=T();if(!i.geom){i.geom=new CGL.Geometry("textmesh");i.geom.vertices=[1,1,0,0,1,0,1,0,0,0,0,0];i.geom.texCoords=new Float32Array([1,1,0,1,1,0,0,0]);i.geom.verticesIndices=[0,1,2,2,1,3]}if(!j)j=new CGL.Mesh(S,i.geom);const o=e.split("\n");B.set(o.length);const s=[];const u=[];const l=[];const p=[];const c=mat4.create();let d=0;let g=0;A=false;for(let a=0;a<o.length;a++){const m=o[a];const b=m.length;let t=0;let n=0;let r=0;for(let e=0;e<b;e++){const h=m.substring(e,e+1);const f=i.chars[String(h)];if(f){r+=f.texCoordWidth/f.texCoordHeight;r+=x.get()}}r-=x.get();P=0;if(O.get()=="left")n=0;else if(O.get()=="right")n=r;else if(O.get()=="center")n=r/2;P=(a+1)*y.get();for(let e=0;e<b;e++){const h=m.substring(e,e+1);const f=i.chars[String(h)];if(!f){A=true;return}else{p.push(t/r*.99+.005,(1-a/(o.length-1))*.99+.005);u.push(f.texCoordX,1-f.texCoordY-f.texCoordHeight);l.push(f.texCoordWidth,f.texCoordHeight);mat4.identity(c);mat4.translate(c,c,[t-n,0-a*y.get(),0]);t+=f.texCoordWidth/f.texCoordHeight+x.get();g=Math.max(g,t-n);s.push(Array.prototype.slice.call(c));d++}}}const t=[].concat.apply([],s);L=false;if(t.length==0)L=true;const n=t.length/16;j.setNumInstances(n);if(j.numInstances==0){L=true;return}z.set(g*a.get());j.setAttribute("instMat",new Float32Array(t),16,{instanced:true});j.setAttribute("attrTexOffsets",new Float32Array(u),2,{instanced:true});j.setAttribute("attrTexSize",new Float32Array(l),2,{instanced:true});j.setAttribute("attrTexPos",new Float32Array(p),2,{instanced:true});_=false;if(A)Q()}function D(t,n){const r=T();if(!n)r.chars={};const a=r.ctx;a.font=t+"px "+p.get();a.textAlign="left";let i=0;let o=0;const s=t*1.4;const e={fits:true};for(let e=0;e<r.characters.length;e++){const u=String(r.characters.substring(e,e+1));const l=a.measureText(u).width;if(o+l>=d){i+=s+2;o=0}if(!n){r.chars[u]={str:u,texCoordX:o/d,texCoordY:i/d,texCoordWidth:l/d,texCoordHeight:s/d};a.fillText(u,o,i+t)}o+=l+12}if(i>d-s){e.fits=false}e.spaceLeft=d-i;return e}function Q(){let e=CGL.Texture.FILTER_LINEAR;if(s.get()=="nearest")e=CGL.Texture.FILTER_NEAREST;if(s.get()=="mipmap")e=CGL.Texture.FILTER_MIPMAP;const t=T();let n=String(v.get());if(n==null||n==undefined)n="";for(let e=0;e<n.length;e++){const o=n.substring(e,e+1);if(t.characters.indexOf(o)==-1){t.characters+=o;A=true}}const r=t.ctx;t.canvas.width=t.canvas.height=d;if(!t.texture)t.texture=CGL.Texture.createFromImage(S,t.canvas,{filter:e,anisotropic:parseFloat(u.get())});t.texture.setSize(d,d);r.fillStyle="transparent";r.clearRect(0,0,d,d);r.fillStyle="rgba(255,255,255,255)";let a=t.fontSize+40;let i=D(a,true);while(!i.fits){a-=5;i=D(a,true)}D(a,false);r.restore();t.texture.initTexture(t.canvas,e);t.texture.unpackAlpha=true;I.set(t.texture);t.lastChange=CABLES.now();_=true;A=false}};Ops.Gl.Meshes.TextMesh_v2.prototype=new CABLES.Op;CABLES.OPS["2390f6b3-2122-412e-8c8d-5c2f574e8bd1"]={f:Ops.Gl.Meshes.TextMesh_v2,objName:"Ops.Gl.Meshes.TextMesh_v2"};Ops.User.rambodc.DivElement_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Text","Hello Div"),r=e.inString("Id"),a=e.inString("Class"),i=e.inStringEditor("Style","position:absolute;\nz-index:100;","inline-css"),o=e.inValueBool("Interactive",false),s=e.inValueBool("Visible",true),u=e.inValueBool("Convert Line Breaks",false),l=e.inValueBool("Propagate Click-Events",true),p=e.outObject("DOM Element",null,"element"),c=e.outValue("Hover"),d=e.outTrigger("Clicked");let g=null;let m=null;let b="block";let h=null;const f=e.patch.cgl.canvas.parentElement;v();a.onChange=A;u.onChange=n.onChange=I;i.onChange=S;o.onChange=N;s.onChange=x;I();S();L();N();e.onDelete=O;p.onLinkChanged=S;function v(){h=document.createElement("div");h.dataset.op=e.id;h.classList.add("cablesEle");if(r.get())h.id=r.get();f.appendChild(h);p.set(h)}function O(){if(h)_();if(h&&h.parentNode)h.parentNode.removeChild(h);m=null;h=null}function y(e){if(!e){h.style.visibility="hidden";b=h.style.display||"block";h.style.display="none"}else{if(b=="none")b="block";h.style.visibility="visible";h.style.display=b}}function x(){y(s.get())}function I(){let e=n.get();if(m===e)return;m=e;if(e&&u.get())e=e.replace(/(?:\r\n|\r|\n)/g,"<br>");if(h.innerHTML!=e)h.innerHTML=e;p.set(null);p.set(h)}function S(){if(!h)return;h.setAttribute("style",i.get());x();p.set(null);p.set(h);if(!h.parentElement){f.appendChild(h)}L()}let j="";function _(){if(!h)return;const t=(a.get()||"").split(" ");for(let e=0;e<t.length;e++){if(t[e])h.classList.remove(t[e])}j=""}function A(){const t=(a.get()||"").split(" ");const n=(j||"").split(" ");let r=false;for(let e=0;e<n.length;e++){if(n[e]&&t.indexOf(n[e].trim())==-1){r=true;h.classList.remove(n[e])}}for(let e=0;e<t.length;e++){if(t[e]){h.classList.add(t[e].trim())}}j=a.get();L()}function T(e){c.set(true)}function C(e){c.set(false)}let w=0;function k(e){const t=(new Date).getTime();const n=t-w;if(n<10){return}w=t;if(!l.get()){e.stopPropagation()}d.trigger()}function N(){P();if(o.get())E()}r.onChange=function(){h.id=r.get()};function P(){if(g){g.removeEventListener("pointerup",k);g.removeEventListener("pointerleave",C);g.removeEventListener("pointerenter",T);g=null}}function E(){if(g)P();g=h;if(g){g.addEventListener("pointerup",k);g.addEventListener("pointerleave",C);g.addEventListener("pointerenter",T)}}e.addEventListener("onEnabledChange",function(e){O();if(e){v();S();A();I();N()}});function L(){if(a.get()&&i.get()){e.setUiError("error","DIV uses external and inline CSS",1)}else{e.setUiError("error",null)}}};Ops.User.rambodc.DivElement_v2.prototype=new CABLES.Op;CABLES.OPS["4a726569-54da-4cb2-98a4-9a56823c19ed"]={f:Ops.User.rambodc.DivElement_v2,objName:"Ops.User.rambodc.DivElement_v2"};Ops.Html.CSS.TransformElement=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Exec"),a=e.inObject("Element"),r=e.outTrigger("Next"),i=e.inFloat("Scale",1),o=e.inBool("Orthogonal",false),s=e.inFloat("Rotate",0),u=e.inBool("Hide out of view",false),l=e.inSwitch("Align Vertical",["Left","Center","Right"],"Left"),p=e.inSwitch("Align Horizontal",["Top","Center","Bottom"],"Top"),c=e.inBool("Active",true);const d=e.patch.cgl;let g=0;let m=0;let b=0;const h=mat4.create();const f=vec3.create();const v=vec3.create();let O=-1;let y=-1;let x=0;n.onTriggered=()=>{if(!c.get())return r.trigger();_();r.trigger()};e.onDelete=A;let I=null;p.onChange=l.onChange=s.onChange=i.onChange=S;function S(){const e=a.get();if(!e){I=null;return}let t="";if(l.get()=="Left")t="0%";if(l.get()=="Center")t="-50%";if(l.get()=="Right")t="-100%";t+=", ";if(p.get()=="Top")t+="0%";if(p.get()=="Center")t+="-50%";if(p.get()=="Bottom")t+="-100%";const n="translate("+t+") scale("+i.get()+") rotate("+s.get()+"deg)";if(e.style.transform!=n){x=n;e.style.transform=n}}a.onChange=function(){const e=a.get();if(!e){A(I);I=null;return}S();_()};a.onLinkChanged=function(){y=-1;O=-1;if(!a.isLinked()){if(I){A(I)}}else{I=a.get()}S()};function j(){mat4.multiply(h,d.vMatrix,d.mMatrix);vec3.transformMat4(f,[0,0,0],h);vec3.transformMat4(v,f,d.pMatrix);const e=d.getViewPort();const t=d.canvasWidth/d.pixelDensity;const n=d.canvasHeight/d.pixelDensity;if(o.get()){g=t*.5+v[0]*t*.5/1;m=n*.5-v[1]*n*.5/1}else{g=t-(t*.5-v[0]*t*.5);m=n-(n*.5+v[1]*n*.5)}b=f[2]<0&&g>0&&g<e[2]&&m>0&&m<e[3]}function _(){const e=a.get();I=e;if(e&&e.style){j();const t=d.canvas.offsetTop+m;const n=d.canvas.styleMarginTop||0;if(t+n!=O){e.style.top=t+n+"px";O=t}const r=d.canvas.styleMarginLeft||0;if(g+r!=y){e.style.left=g+r+"px";y=g}if(u.get()){if(b)e.style.display="initial";else e.style.display="none"}}}function A(e){y=-1;O=-1;if(!e)e=a.get();if(e&&e.style){e.style.top="initial";e.style.left="initial";e.style.transform="initial"}}e.addEventListener("onEnabledChange",function(e){if(e)_();else A()})};Ops.Html.CSS.TransformElement.prototype=new CABLES.Op;CABLES.OPS["caca0307-d460-47df-8674-b7d2601239ab"]={f:Ops.Html.CSS.TransformElement,objName:"Ops.Html.CSS.TransformElement"};Ops.Trigger.IsTriggered=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Trigger"),r=e.outTrigger("Next"),a=e.outBoolNum("Was Triggered",false);let i=0;e.onAnimFrame=function(e){i++;if(i>1)a.set(false)};n.onTriggered=function(){i=0;a.set(true);r.trigger()}};Ops.Trigger.IsTriggered.prototype=new CABLES.Op;CABLES.OPS["7c96fee9-4c2f-45e1-a41b-096b06d286b8"]={f:Ops.Trigger.IsTriggered,objName:"Ops.Trigger.IsTriggered"};Ops.User.rambodc.PageControls=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_4lursd3if=op.inObject("4lursd3if");\nport_4lursd3if.setUiAttribs({title:"Parent Link",});\n\nconst port_a0hazs8qu=op.inString("a0hazs8qu","");\nport_a0hazs8qu.setUiAttribs({title:"Directory 1",});\n\nconst port_jyz85fved=op.inString("jyz85fved","");\nport_jyz85fved.setUiAttribs({title:"Directory 2",});\n\nconst port_bxzssu5p7=op.inString("bxzssu5p7","");\nport_bxzssu5p7.setUiAttribs({title:"Directory 3",});\n\nconst port_f8aa3pksk=op.inTrigger("f8aa3pksk");\nport_f8aa3pksk.setUiAttribs({title:"Mainloop",});\n\nconst port_wb8ht3wlb=op.inTrigger("wb8ht3wlb");\nport_wb8ht3wlb.setUiAttribs({title:"Hash Changed",});\n\nconst port_vjfo5caql=op.outObject("vjfo5caql");\nport_vjfo5caql.setUiAttribs({title:"Parent Link",});\n\nconst port_rgkrndn64=op.outTrigger("rgkrndn64");\nport_rgkrndn64.setUiAttribs({title:"Mainloop",});\n\nconst port_iyq4pnlwm=op.outTrigger("iyq4pnlwm");\nport_iyq4pnlwm.setUiAttribs({title:"Hash Changed",});\n\nconst port_wg0zcmxag=op.outNumber("wg0zcmxag");\nport_wg0zcmxag.setUiAttribs({title:"Dir 1-2 Equal",});\n\nconst port_rzi5x09qq=op.outString("rzi5x09qq");\nport_rzi5x09qq.setUiAttribs({title:"Directory 3",});\n\nconst port_wteazgn7z=op.outString("wteazgn7z");\nport_wteazgn7z.setUiAttribs({title:"Result",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_4lursd3if = addedOps[i].outObject("innerOut_4lursd3if");\ninnerOut_4lursd3if.setUiAttribs({title:"Parent Link"});\nport_4lursd3if.on("change", (a,v) => { innerOut_4lursd3if.setRef(a); });\n\nconst innerOut_a0hazs8qu = addedOps[i].outString("innerOut_a0hazs8qu");\ninnerOut_a0hazs8qu.set(port_a0hazs8qu.get() );\ninnerOut_a0hazs8qu.setUiAttribs({title:"Directory 1"});\nport_a0hazs8qu.on("change", (a,v) => { innerOut_a0hazs8qu.set(a); });\n\nconst innerOut_jyz85fved = addedOps[i].outString("innerOut_jyz85fved");\ninnerOut_jyz85fved.set(port_jyz85fved.get() );\ninnerOut_jyz85fved.setUiAttribs({title:"Directory 2"});\nport_jyz85fved.on("change", (a,v) => { innerOut_jyz85fved.set(a); });\n\nconst innerOut_bxzssu5p7 = addedOps[i].outString("innerOut_bxzssu5p7");\ninnerOut_bxzssu5p7.set(port_bxzssu5p7.get() );\ninnerOut_bxzssu5p7.setUiAttribs({title:"Directory 3"});\nport_bxzssu5p7.on("change", (a,v) => { innerOut_bxzssu5p7.set(a); });\n\nconst innerOut_f8aa3pksk = addedOps[i].outTrigger("innerOut_f8aa3pksk");\ninnerOut_f8aa3pksk.setUiAttribs({title:"Mainloop"});\nport_f8aa3pksk.onTriggered = () => { innerOut_f8aa3pksk.trigger(); };\n\nconst innerOut_wb8ht3wlb = addedOps[i].outTrigger("innerOut_wb8ht3wlb");\ninnerOut_wb8ht3wlb.setUiAttribs({title:"Hash Changed"});\nport_wb8ht3wlb.onTriggered = () => { innerOut_wb8ht3wlb.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\nconst innerIn_vjfo5caql = addedOps[i].inObject("innerIn_vjfo5caql");\ninnerIn_vjfo5caql.setUiAttribs({title:"Parent Link"});\ninnerIn_vjfo5caql.on("change", (a,v) => { port_vjfo5caql.setRef(a); });\n\nconst innerIn_rgkrndn64 = addedOps[i].inTrigger("innerIn_rgkrndn64");\ninnerIn_rgkrndn64.setUiAttribs({title:"Mainloop"});\ninnerIn_rgkrndn64.onTriggered = () => { port_rgkrndn64.trigger(); };\n\nconst innerIn_iyq4pnlwm = addedOps[i].inTrigger("innerIn_iyq4pnlwm");\ninnerIn_iyq4pnlwm.setUiAttribs({title:"Hash Changed"});\ninnerIn_iyq4pnlwm.onTriggered = () => { port_iyq4pnlwm.trigger(); };\n\nconst innerIn_wg0zcmxag = addedOps[i].inFloat("innerIn_wg0zcmxag");\ninnerIn_wg0zcmxag.setUiAttribs({title:"Dir 1-2 Equal"});\ninnerIn_wg0zcmxag.on("change", (a,v) => { port_wg0zcmxag.set(a); });\n\nconst innerIn_rzi5x09qq = addedOps[i].inString("innerIn_rzi5x09qq");\ninnerIn_rzi5x09qq.setUiAttribs({title:"Directory 3"});\ninnerIn_rzi5x09qq.on("change", (a,v) => { port_rzi5x09qq.set(a); });\n\nconst innerIn_wteazgn7z = addedOps[i].inString("innerIn_wteazgn7z");\ninnerIn_wteazgn7z.setUiAttribs({title:"Result"});\ninnerIn_wteazgn7z.on("change", (a,v) => { port_wteazgn7z.set(a); });\n\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp62-0","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Pass Through","portOut":"Result","objIn":"bp62-4","objOut":"bp62-0"},{"portIn":"boolean","portOut":"Result","objIn":"bp62-7","objOut":"bp62-0"},{"portIn":"bool 2","portOut":"Result","objIn":"bp62-9","objOut":"bp62-0"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp62-1","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"URL","value":"https://sandbox.cables.gl/ui/#/a"},{"name":"Host","value":"sandbox.cables.gl"},{"name":"Hash","links":[{"portIn":"String","portOut":"Hash","objIn":"bp62-3","objOut":"bp62-1"}]},{"name":"Pathname","value":"/ui/"},{"name":"Protocol","value":"https:"},{"name":"Port","value":""}],"objName":"Ops.Website.InfoURL"},{"id":"bp62-2","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"Directory 1","links":[{"portIn":"String 2","portOut":"Directory 1","objIn":"bp62-8","objOut":"bp62-2"}]},{"name":"Directory 2","links":[{"portIn":"String 2","portOut":"Directory 2","objIn":"bp62-0","objOut":"bp62-2"}]},{"name":"Directory 3","links":[{"portIn":"innerIn_rzi5x09qq","portOut":"Directory 3","objIn":"bp62-6","objOut":"bp62-2"}]},{"name":"Directory 4","value":""},{"name":"Directory 5","value":""}],"objName":"Ops.User.rambodc.Path_Parser"},{"id":"bp62-3","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsIn":[{"name":"Search For","value":"#"},{"name":"Replace","value":""},{"name":"Replace What index","value":1},{"name":"Replace What","value":"First"}],"portsOut":[{"name":"Result","links":[{"portIn":"Path","portOut":"Result","objIn":"bp62-2","objOut":"bp62-3"},{"portIn":"innerIn_wteazgn7z","portOut":"Result","objIn":"bp62-6","objOut":"bp62-3"}]}],"objName":"Ops.String.StringReplace"},{"id":"bp62-4","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"Trigger out","links":[{"portIn":"innerIn_rgkrndn64","portOut":"Trigger out","objIn":"bp62-6","objOut":"bp62-4"}]}],"objName":"Ops.Trigger.GateTrigger"},{"id":"bp62-5","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"innerOut_4lursd3if","title":"Parent Link","links":[{"portIn":"innerIn_vjfo5caql","portOut":"innerOut_4lursd3if","objIn":"bp62-6","objOut":"bp62-5"}]},{"name":"innerOut_a0hazs8qu","title":"Directory 1","links":[{"portIn":"String 1","portOut":"innerOut_a0hazs8qu","objIn":"bp62-8","objOut":"bp62-5"}]},{"name":"innerOut_jyz85fved","title":"Directory 2","links":[{"portIn":"String 1","portOut":"innerOut_jyz85fved","objIn":"bp62-0","objOut":"bp62-5"}]},{"name":"innerOut_bxzssu5p7","value":"","title":"Directory 3"},{"name":"innerOut_f8aa3pksk","title":"Mainloop","links":[{"portIn":"Execute","portOut":"innerOut_f8aa3pksk","objIn":"bp62-4","objOut":"bp62-5"}]},{"name":"innerOut_wb8ht3wlb","title":"Hash Changed","links":[{"portIn":"exe","portOut":"innerOut_wb8ht3wlb","objIn":"bp62-7","objOut":"bp62-5"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp62-6","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsIn":[{"name":"innerIn_vjfo5caql","title":"Parent Link"},{"name":"innerIn_rgkrndn64","title":"Mainloop"},{"name":"innerIn_iyq4pnlwm","title":"Hash Changed"},{"name":"innerIn_wg0zcmxag","title":"Dir 1-2 Equal"},{"name":"innerIn_rzi5x09qq","title":"Directory 3"},{"name":"innerIn_wteazgn7z","title":"Result"}],"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp62-7","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"then","links":[{"portIn":"innerIn_iyq4pnlwm","portOut":"then","objIn":"bp62-6","objOut":"bp62-7"}]}],"objName":"Ops.Boolean.IfTrueThen_v2"},{"id":"bp62-8","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"bool 1","portOut":"Result","objIn":"bp62-9","objOut":"bp62-8"}]}],"objName":"Ops.String.StringEquals"},{"id":"bp62-9","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsOut":[{"name":"result","links":[{"portIn":"innerIn_wg0zcmxag","portOut":"result","objIn":"bp62-6","objOut":"bp62-9"}]}],"objName":"Ops.Boolean.And"},{"id":"bp62-10","uiAttribs":{"subPatch":"v45pxu9fg"},"storage":{},"portsIn":[{"name":"Variable","value":"isAuth"}],"portsOut":[{"name":"Value","value":true}],"objName":"Ops.Vars.VarGetNumber_v2"}]}'};const m=e.inObject("4lursd3if");m.setUiAttribs({title:"Parent Link"});const b=e.inString("a0hazs8qu","");b.setUiAttribs({title:"Directory 1"});const h=e.inString("jyz85fved","");h.setUiAttribs({title:"Directory 2"});const f=e.inString("bxzssu5p7","");f.setUiAttribs({title:"Directory 3"});const v=e.inTrigger("f8aa3pksk");v.setUiAttribs({title:"Mainloop"});const O=e.inTrigger("wb8ht3wlb");O.setUiAttribs({title:"Hash Changed"});const y=e.outObject("vjfo5caql");y.setUiAttribs({title:"Parent Link"});const x=e.outTrigger("rgkrndn64");x.setUiAttribs({title:"Mainloop"});const I=e.outTrigger("iyq4pnlwm");I.setUiAttribs({title:"Hash Changed"});const S=e.outNumber("wg0zcmxag");S.setUiAttribs({title:"Dir 1-2 Equal"});const j=e.outString("rzi5x09qq");j.setUiAttribs({title:"Directory 3"});const _=e.outString("wteazgn7z");_.setUiAttribs({title:"Result"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outObject("innerOut_4lursd3if");n.setUiAttribs({title:"Parent Link"});m.on("change",(e,t)=>{n.setRef(e)});const r=t[e].outString("innerOut_a0hazs8qu");r.set(b.get());r.setUiAttribs({title:"Directory 1"});b.on("change",(e,t)=>{r.set(e)});const a=t[e].outString("innerOut_jyz85fved");a.set(h.get());a.setUiAttribs({title:"Directory 2"});h.on("change",(e,t)=>{a.set(e)});const i=t[e].outString("innerOut_bxzssu5p7");i.set(f.get());i.setUiAttribs({title:"Directory 3"});f.on("change",(e,t)=>{i.set(e)});const o=t[e].outTrigger("innerOut_f8aa3pksk");o.setUiAttribs({title:"Mainloop"});v.onTriggered=()=>{o.trigger()};const s=t[e].outTrigger("innerOut_wb8ht3wlb");s.setUiAttribs({title:"Hash Changed"});O.onTriggered=()=>{s.trigger()}}if(t[e].innerOutput){const u=t[e].inObject("innerIn_vjfo5caql");u.setUiAttribs({title:"Parent Link"});u.on("change",(e,t)=>{y.setRef(e)});const l=t[e].inTrigger("innerIn_rgkrndn64");l.setUiAttribs({title:"Mainloop"});l.onTriggered=()=>{x.trigger()};const p=t[e].inTrigger("innerIn_iyq4pnlwm");p.setUiAttribs({title:"Hash Changed"});p.onTriggered=()=>{I.trigger()};const c=t[e].inFloat("innerIn_wg0zcmxag");c.setUiAttribs({title:"Dir 1-2 Equal"});c.on("change",(e,t)=>{S.set(e)});const d=t[e].inString("innerIn_rzi5x09qq");d.setUiAttribs({title:"Directory 3"});d.on("change",(e,t)=>{j.set(e)});const g=t[e].inString("innerIn_wteazgn7z");g.setUiAttribs({title:"Result"});g.on("change",(e,t)=>{_.set(e)})}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)}};Ops.User.rambodc.PageControls.prototype=new CABLES.Op;CABLES.OPS["1f610fe2-cc44-411a-a910-01c289272e67"]={f:Ops.User.rambodc.PageControls,objName:"Ops.User.rambodc.PageControls"};Ops.Gl.Matrix.OrbitControls_v3=function(){CABLES.Op.apply(this,arguments);const a=this;const M=a.attachments={};const B=a.inTrigger("render"),i=a.inValueFloat("min distance",1),o=a.inValueFloat("max distance",999999),s=a.inValue("min rot y",0),u=a.inValue("max rot y",0),t=a.inValue("initial radius",2),n=a.inValueSlider("initial axis y",.5),r=a.inValueSlider("initial axis x",.25),e=a.inValueSlider("Smoothness",1),z=a.inValue("Speed X",1),V=a.inValue("Speed Y",1),l=a.inValueBool("Active",true),R=a.inValueBool("Allow Panning",true),U=a.inValueBool("Allow Zooming",true),F=a.inValueBool("Allow Rotation",true),G=a.inValueBool("restricted",true),H=a.inBool("Identity",true),q=a.inTriggerButton("Reset"),W=a.outTrigger("trigger"),X=a.outNumber("radius"),Y=a.outNumber("Rot X"),J=a.outNumber("Rot Y");a.setPortGroup("Initial Values",[n,r,t]);a.setPortGroup("Interaction",[e,z,V]);a.setPortGroup("Boundaries",[s,u,i,o]);const Z=Math.PI;const p=Math.PI*2;const c=vec3.create(),d=vec3.create(),g=mat4.create(),$=mat4.create(),m=vec3.create(),K=vec3.create(),b=vec3.create(),h=vec3.create(),f=vec3.create(),v=vec3.create();let O=vec3.create(),y=false,x=5,I=0,S=0,j=0,_=0,A=0,T=0,Q=1,C=null,ee=true,te=[0,0,0,0,0,0],w=0;a.onDelete=D;e.onChange=re;t.onChange=q.onTriggered=ne;O=N(0);vec3.set(d,0,0,0);vec3.set(c,0,1,0);re();ne();function ne(){let e=0;if(A%p<-Z){e=-p;A%=-p}else if(A%p>Z){e=p;A%=p}else A%=p;T%=Math.PI;vec3.set(m,0,0,0);vec3.set(d,0,0,0);vec3.set(c,0,1,0);j=r.get()*Math.PI*2+e;_=n.get()-.5;x=t.get();O=N(_)}function re(){Q=e.get()*10+1}function k(e,t){if(ee)return t;return e+(t-e)/Q}B.onTriggered=function(){const e=a.patch.cg;if(!e)return;if(!C){ce(e.canvas);de()}e.pushViewMatrix();A=k(A,j);T=k(T,_);let t=(T+.5)*180;if(s.get()!==0&&t<s.get()){t=s.get();T=w}else if(u.get()!==0&&t>u.get()){t=u.get();T=w}else{w=T}const n=A*CGL.RAD2DEG;J.set(t);Y.set(n);ae(O,T);vec3.add(b,O,m);vec3.add(f,d,m);h[0]=k(h[0],b[0]);h[1]=k(h[1],b[1]);h[2]=k(h[2],b[2]);v[0]=k(v[0],f[0]);v[1]=k(v[1],f[1]);v[2]=k(v[2],f[2]);const r=vec3.create();if(H.get())mat4.identity(e.vMatrix);mat4.lookAt(g,h,v,c);mat4.rotate(g,g,A,c);mat4.multiply(e.vMatrix,e.vMatrix,g);W.trigger();e.popViewMatrix();ee=false};function ae(e,t){if(x<i.get())x=i.get();if(x>o.get())x=o.get();X.set(x);let n=0,r=0;r=360*t/2*CGL.DEG2RAD;vec3.set(e,Math.cos(r)*x,Math.sin(r)*x,0);return e}function N(e){if(x<i.get())x=i.get();if(x>o.get())x=o.get();X.set(x);let t=0,n=0;const r=vec3.create();n=360*e/2*CGL.DEG2RAD;vec3.set(r,Math.cos(n)*x,Math.sin(n)*x,0);return r}function P(e){if(!y)return;const t=e.clientX;const n=e.clientY;let r=t-I;let a=n-S;r*=z.get();a*=V.get();if(e.buttons==2&&R.get()){m[2]+=r*.01;m[1]+=a*.01}else if(e.buttons==4&&U.get()){x+=a*.05;O=N(_)}else{if(F.get()){j+=r*.003;_+=a*.002;if(G.get()){if(_>.5)_=.5;if(_<-.5)_=-.5}}}I=t;S=n}function E(e){I=e.clientX;S=e.clientY;y=true;try{C.setPointerCapture(e.pointerId)}catch(e){}}function L(e){y=false;try{C.releasePointerCapture(e.pointerId)}catch(e){}}function ie(){const e=a.patch.cg.canvas;if(document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e)document.addEventListener("mousemove",P,false)}function oe(e){}r.onChange=function(){A=j=r.get()*Math.PI*2};n.onChange=function(){T=_=n.get()-.5;O=N(_)};const se=function(e){if(U.get()){const t=CGL.getWheelSpeed(e)*.06;x+=parseFloat(t)*1.2;O=N(_)}};const ue=function(e){if(e.touches&&e.touches.length>0)E(e.touches[0])};const le=function(e){L()};const pe=function(e){if(e.touches&&e.touches.length>0)P(e.touches[0])};l.onChange=function(){if(l.get())de();else D()};function ce(e){D();C=e;de()}function de(){if(!C)return;if(!l.get())return D();C.addEventListener("pointermove",P);C.addEventListener("pointerdown",E);C.addEventListener("pointerup",L);C.addEventListener("pointerleave",L);C.addEventListener("pointerenter",oe);C.addEventListener("contextmenu",function(e){e.preventDefault()});C.addEventListener("wheel",se,{passive:true})}function D(){if(!C)return;C.removeEventListener("pointermove",P);C.removeEventListener("pointerdown",E);C.removeEventListener("pointerup",L);C.removeEventListener("pointerleave",L);C.removeEventListener("pointerenter",L);C.removeEventListener("wheel",se)}};Ops.Gl.Matrix.OrbitControls_v3.prototype=new CABLES.Op;CABLES.OPS["0655b098-d2a8-4ce2-a0b9-ecb2c78f873a"]={f:Ops.Gl.Matrix.OrbitControls_v3,objName:"Ops.Gl.Matrix.OrbitControls_v3"};Ops.Gl.Meshes.Cube_v2=function(){CABLES.Op.apply(this,arguments);const o=this;const e=o.attachments={};const t=o.inTrigger("Render"),n=o.inValueBool("Render Mesh",true),s=o.inValue("Width",1),u=o.inValue("Length",1),l=o.inValue("Height",1),p=o.inValueBool("Center",true),c=o.inSwitch("Mapping",["Side","Cube +-","SideWrap"],"Side"),d=o.inValue("Bias",0),g=o.inValueBool("Flip X",true),m=o.inValueBool("Top",true),b=o.inValueBool("Bottom",true),h=o.inValueBool("Left",true),f=o.inValueBool("Right",true),v=o.inValueBool("Front",true),O=o.inValueBool("Back",true),r=o.outTrigger("Next"),y=o.outObject("geometry",null,"geometry");const a=o.patch.cgl;o.toWorkPortsNeedToBeLinked(t);o.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_FUNCTION);o.setPortGroup("Mapping",[c,d,g]);o.setPortGroup("Geometry",[s,l,u,p]);o.setPortGroup("Sides",[m,b,h,f,v,O]);let x=null,I=null,S=true,j=true;d.onChange=g.onChange=m.onChange=b.onChange=h.onChange=f.onChange=v.onChange=O.onChange=c.onChange=s.onChange=l.onChange=u.onChange=p.onChange=i;function i(){j=true}t.onLinkChanged=function(){if(!t.isLinked())y.set(null);else y.setRef(x)};t.onTriggered=function(){if(j)_();if(n.get()&&I&&S)I.render(a.getShader());r.trigger()};o.preRender=function(){_();if(I&&a)I.render(a.getShader())};function _(){if(!x)x=new CGL.Geometry("cubemesh");x.clear();let e=s.get();let t=-1*s.get();let n=l.get();let r=-1*l.get();let a=u.get();let i=-1*u.get();if(!p.get()){t=0;r=0;i=0}else{e*=.5;t*=.5;n*=.5;r*=.5;a*=.5;i*=.5}C(x,e,n,a,t,r,i);if(c.get()=="Side")A(x,1,1,1);else if(c.get()=="SideWrap")A(x,e,n,a);else T(x);x.verticesIndices=[];if(m.get())x.verticesIndices.push(8,9,10,8,10,11);if(b.get())x.verticesIndices.push(12,13,14,12,14,15);if(h.get())x.verticesIndices.push(20,21,22,20,22,23);if(f.get())x.verticesIndices.push(16,17,18,16,18,19);if(O.get())x.verticesIndices.push(4,5,6,4,6,7);if(v.get())x.verticesIndices.push(0,1,2,0,2,3);if(x.verticesIndices.length===0)S=false;else S=true;if(I)I.dispose();if(o.patch.cg)I=o.patch.cg.createMesh(x,{opId:o.id});y.setRef(x);j=false}o.onDelete=function(){if(I)I.dispose()};function A(e,t,n,r){const a=d.get();let i=1-a;let o=0+a;if(g.get()){[i,o]=[o,i]}let s=1-a;let u=0+a;e.setTexCoords([t*o,n*s,t*i,n*s,t*i,n*u,t*o,n*u,t*i,n*s,t*i,n*u,t*o,n*u,t*o,n*s,t*o,r*u,t*o,r*s,t*i,r*s,t*i,r*u,t*i,n*u,t*o,n*u,t*o,n*s,t*i,n*s,r*i,n*s,r*i,n*u,r*o,n*u,r*o,n*s,r*o,n*s,r*i,n*s,r*i,n*u,r*o,n*u])}function T(e,t,n,r,a,i,o){const s=.25;const u=1/3;const l=d.get();let p=0;if(g.get())p=1;const c=[];c.push(p+s+l,u*2-l,p+s*2-l,u*2-l,p+s*2-l,u+l,p+s+l,u+l,p+s*4-l,u*2-l,p+s*4-l,u+l,p+s*3+l,u+l,p+s*3+l,u*2-l);if(g.get())c.push(s+l,0-l,s*2-l,0-l,s*2-l,u*1+l,s+l,u*1+l,s+l,u*3+l,s+l,u*2-l,s*2-l,u*2-l,s*2-l,u*3+l);else c.push(s+l,0+l,s+l,u*1-l,s*2-l,u*1-l,s*2-l,0+l,s+l,u*3-l,s*2-l,u*3-l,s*2-l,u*2+l,s+l,u*2+l);c.push(p+s*3-l,1-u-l,p+s*3-l,1-u*2+l,p+s*2+l,1-u*2+l,p+s*2+l,1-u-l,p+s*0+l,1-u-l,p+s*1-l,1-u-l,p+s*1-l,1-u*2+l,p+s*0+l,1-u*2+l);e.setTexCoords(c)}function C(e,t,n,r,a,i,o){e.vertices=[a,i,r,t,i,r,t,n,r,a,n,r,a,i,o,a,n,o,t,n,o,t,i,o,a,n,o,a,n,r,t,n,r,t,n,o,a,i,o,t,i,o,t,i,r,a,i,r,t,i,o,t,n,o,t,n,r,t,i,r,a,i,o,a,i,r,a,n,r,a,n,o];e.vertexNormals=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);e.tangents=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1]);e.biTangents=new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1])}};Ops.Gl.Meshes.Cube_v2.prototype=new CABLES.Op;CABLES.OPS["37b92ba4-cea5-42ae-bf28-a513ca28549c"]={f:Ops.Gl.Meshes.Cube_v2,objName:"Ops.Gl.Meshes.Cube_v2"};Ops.Boolean.And=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueBool("bool 1"),r=e.inValueBool("bool 2"),a=e.outBoolNum("result");n.onChange=r.onChange=i;function i(){a.set(r.get()&&n.get())}};Ops.Boolean.And.prototype=new CABLES.Op;CABLES.OPS["c26e6ce0-8047-44bb-9bc8-5a4f911ed8ad"]={f:Ops.Boolean.And,objName:"Ops.Boolean.And"};Ops.Vars.VarGetNumber_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.outNumber("Value");e.varName=e.inValueSelect("Variable",[],"",true);new CABLES.VarGetOpWrapper(e,"number",e.varName,n)};Ops.Vars.VarGetNumber_v2.prototype=new CABLES.Op;CABLES.OPS["421f5b52-c0fa-47c4-8b7a-012b9e1c864a"]={f:Ops.Vars.VarGetNumber_v2,objName:"Ops.Vars.VarGetNumber_v2"};Ops.Website.SetLocationHash=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const r=n.inString("Hash",""),t=n.inTriggerButton("Update"),a=n.inBool("Active",false),i=n.inBool("Silent",true),o=n.inBool("Allow Empty",false);t.onTriggered=s;function s(){if(!a.get())return;let e="";if(r.get()){e="#"+r.get()}if(window.location.hash==e){return}try{n.setUiError("overload",null);const t=new Event("hashchange");t.oldURL=window.location.href;if(i.get())t.silent=true;if(e){history.replaceState(null,null,window.location.pathname+e)}else if(o.get()){history.replaceState(null,null,window.location.pathname)}t.newURL=window.location.href;n.patch.emitEvent("LocationHashChange",t);window.dispatchEvent(t)}catch(e){n.setUiError("overload","too many changes to the location hash, throttle down");n.log(e.message)}}};Ops.Website.SetLocationHash.prototype=new CABLES.Op;CABLES.OPS["82492357-c11d-4b76-bd57-b296d3b79b83"]={f:Ops.Website.SetLocationHash,objName:"Ops.Website.SetLocationHash"};Ops.String.StringCompose_v3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Format","hello $a, $b $c und $d"),r=e.inString("String A","world"),a=e.inString("String B",1),i=e.inString("String C",2),o=e.inString("String D",3),s=e.inString("String E"),u=e.inString("String F"),l=e.outString("Result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=p;p();function p(){var e=n.get()||"";if(typeof e!="string")e="";e=e.replace(/\$a/g,r.get());e=e.replace(/\$b/g,a.get());e=e.replace(/\$c/g,i.get());e=e.replace(/\$d/g,o.get());e=e.replace(/\$e/g,s.get());e=e.replace(/\$f/g,u.get());l.set(e)}};Ops.String.StringCompose_v3.prototype=new CABLES.Op;CABLES.OPS["6afea9f4-728d-4f3c-9e75-62ddc1448bf0"]={f:Ops.String.StringCompose_v3,objName:"Ops.String.StringCompose_v3"};Ops.User.rambodc.FBGetOneDocument1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inString("Collection name");const a=e.inString("Document ID");const i=e.inString("Subcollection name","");const o=e.inString("Subdocument ID","");const s=e.outBoolNum("Error",false);const u=e.outString("Error Message");const l=e.outObject("Document");const p=e.outValueBool("Document Not Found");const c=e.outTrigger("Success");const d=e.outTrigger("Failure");n.onTriggered=g;function g(){if(!r.get()||!a.get()){s.set(true);u.set("Missing Arguments: Collection name or Document ID is missing!");l.set(null);p.set(false);return}let e;try{e=firebase.firestore()}catch(e){console.log(e)}let t;if(i.get()&&o.get()){t=e.collection(r.get()).doc(a.get()).collection(i.get()).doc(o.get())}else{t=e.collection(r.get()).doc(a.get())}t.get().then(e=>{if(e.exists){l.set(e.data());p.set(false);c.trigger()}else{l.set(null);p.set(true);d.trigger()}s.set(false);u.set(null)}).catch(e=>{s.set(true);u.set(e.message);d.trigger()})}};Ops.User.rambodc.FBGetOneDocument1.prototype=new CABLES.Op;CABLES.OPS["a6ccf5c5-2236-4dd4-895e-98b6240f68e1"]={f:Ops.User.rambodc.FBGetOneDocument1,objName:"Ops.User.rambodc.FBGetOneDocument1"};Ops.Vars.VarGetString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};var n=e.outString("Value");e.varName=e.inValueSelect("Variable",[],"",true);new CABLES.VarGetOpWrapper(e,"string",e.varName,n)};Ops.Vars.VarGetString.prototype=new CABLES.Op;CABLES.OPS["3ad08cfc-bce6-4175-9746-fef2817a3b12"]={f:Ops.Vars.VarGetString,objName:"Ops.Vars.VarGetString"};Ops.Ui.VizObject=function(){CABLES.Op.apply(this,arguments);const a=this;const e=a.attachments={};const i=a.inObject("Object"),t=a.inTriggerButton("console log"),r=a.inBool("ZoomText",false),o=a.inBool("Line Numbers",true),s=a.inBool("Experimental Stringify",true),u=a.inFloat("Font Size",10),l=a.inFloatSlider("Scroll",0);let p=[];t.setUiAttribs({hidePort:true});a.setUiAttrib({height:200,width:400,resizable:true,vizLayerMaxZoom:2500});function c(n,r=0){let a="   ";let i="";let o="";for(let e=0;e<r;e++)i+=a;let s=Object.keys(n).sort();let u=s.length;if(u==0){o+=i+"{}"}else{let t=0;o+=i+"{\n";for(let e=0;e<s.length;e++){const l=n[s[e]];t++;o+=i+a;o+='"'+s[e]+'": ';if(l===null){o+="null"}else if(l===undefined){o+="undefined"}else if(l===true){o+="true"}else if(l===false){o+="false"}else if(typeof l==="number"){o+=String(l)}else if(typeof l==="string"){o+='"'+l+'"'}else if(Array.isArray(l)||l.constructor&&l.constructor.name==="Float32Array"){o+="{"+l.constructor.name+"["+l.length+"]} ";o+="[";for(let e=0;e<Math.min(5,l.length);e++){if(e>0)o+=",";o+=l[e]}o+="...";o+="]"}else if(l.constructor.name==="Object"){if(Object.keys(l).length==0)o+="{}";else o+="\n"+c(l,r+1)}else{o+="["+l.constructor.name+"]";o+="\n"+c(l,r+1)}if(t!=u)o+=",";o+="\n"}o+=i;o+="}"}return o}s.onChange=i.onChange=()=>{let e=i.get();let t="???";if(e&&e.getInfo)e=e.getInfo();if(e&&e.constructor&&e.constructor.name!="Object")a.setUiAttribs({extendTitle:e.constructor.name});if(e===undefined)t="undefined";else if(e==null)t="null";else try{if(s.get())t=c(e);else t=JSON.stringify(e,false,4);if(e.hasOwnProperty("isTrusted")&&Object.keys(e).length==1||t=="{}"&&e&&e.constructor&&e.constructor.name!="Object"){t="could not stringify object: "+e.constructor.name+"\n";const n={};for(const r in e){if(!e[r])continue;if(e[r].constructor){if(e[r].constructor.name=="Number"||e[r].constructor.name=="String"||e[r].constructor.name=="Boolean")n[r]=e[r]}else n[r]="{???}"}e=n;t=JSON.stringify(e,false,4)}}catch(e){t="object can not be displayed as string\n"+e.message}t=String(t);p=t.split("\n")};i.onLinkChanged=()=>{if(i.isLinked()){const e=i.links[0].getOtherPort(i);a.setUiAttrib({extendTitle:e.uiAttribs.objType})}};t.onTriggered=()=>{console.info(i.get())};a.renderVizLayer=(e,t,n)=>{n.clear(e,t);e.save();e.scale(t.scale,t.scale);n.renderText(e,t,p,{zoomText:r.get(),showLineNum:o.get(),syntax:"js",fontSize:u.get(),scroll:l.get()});e.restore()}};Ops.Ui.VizObject.prototype=new CABLES.Op;CABLES.OPS["d09bc53e-9f52-4872-94c7-4ef777512222"]={f:Ops.Ui.VizObject,objName:"Ops.Ui.VizObject"};Ops.Data.JsonPath.ObjectGetStringByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const t=i.inObject("Object"),o=i.inString("Path"),s=i.inBool("Output path if missing",false),u=i.outString("Output"),l=i.outBool("Found");t.ignoreValueSerialize=true;t.onChange=o.onChange=s.onChange=r;o.setUiAttribs({stringTrim:true});o.on("change",n);n();function n(){if(!o.get())i.setUiError("nokey","Missing Key Value");else i.setUiError("nokey",null)}function r(){const e=t.get();const n=o.get();i.setUiError("missing",null);if(e&&n){if(!Array.isArray(e)&&!(typeof e==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof e+" is not travesable by path")}else{i.setUiError("notiterable",null);let t=e[n];const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});if(!t)t=p(n,e);if(t===undefined){const a="could not find element at path "+n;let e=2;t=null;l.set(false);if(s.get()){t=n;e=1}else{t=null}i.setUiError("missing",a,e)}else{l.set(true);t=String(t)}u.set(t)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ObjectGetStringByPath.prototype=new CABLES.Op;CABLES.OPS["497a6b7c-e33c-45e4-8fb2-a9149d972b5b"]={f:Ops.Data.JsonPath.ObjectGetStringByPath,objName:"Ops.Data.JsonPath.ObjectGetStringByPath"};Ops.User.rambodc.Button_Right=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Parent Link");const r=e.inString("Button Text","Button");const a=e.inString("Button Width","100px");const i=e.inString("Button Background Color","#007bff");const o=e.inString("Hover Background Color","rgba(13, 130, 254, 1)");const s=e.inBool("Visible",true);const u=e.outObject("Siblings");const l=e.outTrigger("Button Pressed");const p=document.createElement("div");p.dataset.op=e.id;p.classList.add("cablesEle","sidebar__item","sidebar--button");const c=document.createElement("div");c.classList.add("sidebar__button-input_right");c.textContent=r.get();c.style.width=a.get();c.style.backgroundColor=i.get();p.appendChild(c);c.addEventListener("click",g);function d(e){c.style.backgroundColor=e?o.get():i.get()}c.addEventListener("mouseenter",()=>d(true));c.addEventListener("mouseleave",()=>d(false));n.onChange=function(){const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(p);u.set(e)}else if(p.parentElement){p.parentElement.removeChild(p)}};r.onChange=function(){c.textContent=r.get()};a.onChange=function(){c.style.width=a.get()};i.onChange=function(){c.style.backgroundColor=i.get()};o.onChange=function(){};s.onChange=function(){p.style.display=s.get()?"block":"none"};function g(){l.trigger()}e.onDelete=function(){if(p.parentNode){p.parentNode.removeChild(p)}}};Ops.User.rambodc.Button_Right.prototype=new CABLES.Op;CABLES.OPS["51157250-f52f-4710-a109-b66bef715006"]={f:Ops.User.rambodc.Button_Right,objName:"Ops.User.rambodc.Button_Right"};Ops.Html.Notification=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={defaultstyle_txt:"visibility: hidden;\nbackground-color: #282828;\ncolor: #fff;\n\npadding: 16px;\nposition: absolute;\nz-index: 9999;\nfont-size: 17px;\nopacity:0;\nborder-radius:10px;\ntext-align:center;\nleft: 50%;\ntransform: translate(-50%, 0);\n"};const n=t.inTriggerButton("Trigger animation"),r=t.inString("Text","Hello! <br> This is a pop up"),a=t.inString("Class"),i=t.inStringEditor("Style",e.defaultstyle_txt,"none"),o=t.inValueBool("Active",true),s=t.inValueBool("Convert Line Breaks",false),u=t.inFloat("Fade in",.5),l=t.inFloat("Hold ",2),p=t.inFloat("Fade out",.8),c=t.inSwitch("mode",["%","px"],"%"),d=t.inSwitch("Side",["bottom","top"],"bottom"),g=t.inFloat("Starting position",0),m=t.inFloat("Ending position",5),b=t.outTrigger("Finished trigger"),h=t.outBool("Finished",false),f=t.outObject("DOM Element");t.setPortGroup("Animation",[u,l,p]);t.setPortGroup("HTML CSS",[r,a,i,o,s]);t.setPortGroup("Positioning",[c,d,g,m]);const v="notification_"+CABLES.uuid();const D=null;let O=null;let y="block";const x=document.createElement("div");x.dataset.op=t.id;x.id=v;const I=t.patch.cgl.canvas.parentElement;I.appendChild(x);f.set(x);a.onChange=w;s.onChange=r.onChange=A;i.onChange=C;o.onChange=_;n.onTriggered=N;A();C();k();t.onDelete=T;f.onLinkChanged=C;let S=false;function j(e){if(!e){x.style.visibility="hidden";y=x.style.display||"block";x.style.display="none"}else{if(y=="none")y="block";x.style.visibility="visible";x.style.display="none"}}function _(){j(o.get())}function A(){let e=r.get();if(O===e)return;O=e;if(e&&s.get())e=e.replace(/(?:\r\n|\r|\n)/g,"<br>");if(x.innerHTML!=e)x.innerHTML=e;f.set(null);f.set(x)}function T(){if(x&&x.parentNode)x.parentNode.removeChild(x)}function C(){if(i.get()!=x.style){x.setAttribute("style",i.get());_();f.set(null);f.set(x)}k()}function w(){x.setAttribute("class",a.get());k()}t.addEventListener("onEnabledChange",function(e){t.log("css changed");j(x.style.visibility!="visible")});function k(){if(a.get()&&i.get())t.setUiError("error","DIV uses external and inline CSS",1);else t.setUiError("error",null)}function N(){if(!o.get())return;const e=c.get();const t=g.get()+e;const n=m.get()+e;const r=document.getElementById(v);x.style.display="block";const a={};P(e,t,n,a)}function P(e,t,n,r){if(S)return;h.set(false);S=true;r.easing=["cubic-bezier(0.0, 0.0, 0.2, 1.0)","linear"];r.opacity=[0,1];if(d.get()=="bottom")r.bottom=[t,n];else r.top=[t,n];document.getElementById(v).animate(r,u.get()*1e3).onfinish=function(){E(e,t,n,r)}}function E(e,t,n,r){r.easing=["linear","linear"];r.opacity=[1,1];if(d.get()=="bottom")r.bottom=[n,n];else r.top=[n,n];document.getElementById(v).animate(r,l.get()*1e3).onfinish=function(){L(e,t,n,r)}}function L(e,t,n,r){r.easing=["cubic-bezier(0.0, 0.0, 0.2, 1.0)","linear"];r.opacity=[1,0];if(d.get()=="bottom")r.bottom=[n,t];else r.top=[n,t];document.getElementById(v).animate(r,p.get()*1e3).onfinish=function(){x.style.display="none";S=false;b.trigger();h.set(true)}}};Ops.Html.Notification.prototype=new CABLES.Op;CABLES.OPS["cf3960f3-ced0-4928-9082-a9cf7f8573a6"]={f:Ops.Html.Notification,objName:"Ops.Html.Notification"};Ops.Trigger.TriggerSend=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={};const t=r.inTriggerButton("Trigger");r.varName=r.inValueSelect("Named Trigger",[],"",true);r.varName.onChange=a;t.onTriggered=i;r.patch.addEventListener("namedTriggersChanged",n);n();function n(){if(CABLES.UI){let e=[];const t=r.patch.namedTriggers;e.push("+ create new one");for(const n in t)e.push(n);e=e.sort();r.varName.uiAttribs.values=e}}function a(){if(CABLES.UI){if(r.varName.get()=="+ create new one"){new CABLES.UI.ModalDialog({prompt:true,title:"New Trigger",text:"Enter a name for the new trigger",promptValue:"",promptOk:e=>{r.varName.set(e);r.patch.namedTriggers[e]=r.patch.namedTriggers[e]||[];n()}});return}r.refreshParams()}if(!r.patch.namedTriggers[r.varName.get()]){r.patch.namedTriggers[r.varName.get()]=r.patch.namedTriggers[r.varName.get()]||[];r.patch.emitEvent("namedTriggersChanged")}r.setTitle(">"+r.varName.get());r.refreshParams();r.patch.emitEvent("opTriggerNameChanged",r,r.varName.get())}function i(){const t=r.patch.namedTriggers[r.varName.get()];r.patch.emitEvent("namedTriggerSent",r.varName.get());if(!t){r.setUiError("unknowntrigger","unknown trigger");return}else r.setUiError("unknowntrigger",null);for(let e=0;e<t.length;e++){t[e]()}}};Ops.Trigger.TriggerSend.prototype=new CABLES.Op;CABLES.OPS["ce1eaf2b-943b-4dc0-ab5e-ee11b63c9ed0"]={f:Ops.Trigger.TriggerSend,objName:"Ops.Trigger.TriggerSend"};Ops.Trigger.TriggerString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger"),r=e.inString("String",""),a=e.outTrigger("Next"),i=e.outString("Result");i.changeAlways=true;n.onTriggered=function(){i.set(r.get());a.trigger()}};Ops.Trigger.TriggerString.prototype=new CABLES.Op;CABLES.OPS["217482b8-2ee6-4609-b7ad-4550e6aaa371"]={f:Ops.Trigger.TriggerString,objName:"Ops.Trigger.TriggerString"};Ops.User.rambodc.Check_String_CreateJSON=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Check and Create Object");const r=[e.inString("Incoming String 1",""),e.inString("Incoming String 2",""),e.inString("Incoming String 3","")];const a=[e.inBool("Can't be Blank 1",true),e.inBool("Can't be Blank 2",true),e.inBool("Can't be Blank 3",true)];const i=[e.inBool("Is Updated 1",false),e.inBool("Is Updated 2",false),e.inBool("Is Updated 3",false)];const o=[e.inString("Key String 1","key1"),e.inString("Key String 2","key2"),e.inString("Key String 3","key3")];const s=e.outObject("Object Output");const u=e.outTrigger("Trigger Success");const l=e.outTrigger("Trigger Fail");n.onTriggered=()=>{let t={};let n=false;for(let e=0;e<r.length;e++){if(i[e].get()&&(!a[e].get()||r[e].get()!=="")){t[o[e].get()]=r[e].get();n=true}}if(n){s.set(t);u.trigger()}else{l.trigger()}}};Ops.User.rambodc.Check_String_CreateJSON.prototype=new CABLES.Op;CABLES.OPS["2c63b0a2-bd0d-4c2b-b22e-b8fb4d1f40cf"]={f:Ops.User.rambodc.Check_String_CreateJSON,objName:"Ops.User.rambodc.Check_String_CreateJSON"};Ops.User.rambodc.Button_Center=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Parent Link");const r=e.inString("Button Text","Button");const a=e.inString("Button Width","100px");const i=e.inString("Button Background Color","rgba(255, 255, 255, 0.0)");const o=e.inString("Hover Background Color","rgba(255, 255, 255, 0.0)");const s=e.inBool("Is Button",true);const u=e.inString("Text Size","14px");const l=e.inBool("Visible",true);const p=e.outObject("Siblings");const c=e.outTrigger("Button Pressed");const d=document.createElement("div");d.dataset.op=e.id;d.classList.add("cablesEle","sidebar__item","sidebar--button");const g=document.createElement("div");g.classList.add("sidebar__button-input_center");g.textContent=r.get();g.style.width=a.get();g.style.backgroundColor=i.get();g.style.fontSize=u.get();d.appendChild(g);function m(){g.style.cursor=s.get()?"pointer":"text";g.onmouseenter=s.get()?()=>g.style.backgroundColor=o.get():null;g.onmouseleave=s.get()?()=>g.style.backgroundColor=i.get():null;if(s.get()){g.addEventListener("click",h)}else{g.removeEventListener("click",h)}}function b(){m();r.onChange=()=>g.textContent=r.get();a.onChange=()=>g.style.width=a.get();i.onChange=()=>g.style.backgroundColor=i.get();o.onChange=m;u.onChange=()=>g.style.fontSize=u.get();l.onChange=()=>d.style.display=l.get()?"block":"none"}n.onChange=function(){const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(d);p.set(e)}else if(d.parentElement){d.parentElement.removeChild(d)}};function h(){c.trigger()}e.onDelete=()=>{if(d.parentNode){d.parentNode.removeChild(d)}};b()};Ops.User.rambodc.Button_Center.prototype=new CABLES.Op;CABLES.OPS["f80d1557-ea53-4949-ab2d-75fbf62b2dc9"]={f:Ops.User.rambodc.Button_Center,objName:"Ops.User.rambodc.Button_Center"};Ops.User.rambodc.FB_ChangePassword=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const i=e.inString("Old Password","");const o=e.inString("New Password","");const s=e.inString("Confirm New Password","");const n=e.inTriggerButton("Change Password");const u=e.outTrigger("Password Change Success");const l=e.outTrigger("Password Change Fail");const p=e.outObject("Password Change Error");n.onTriggered=()=>{const e=i.get();const t=o.get();const n=s.get();const r=firebase.auth().currentUser;if(!r){p.set({message:"No authenticated user found."});l.trigger();return}if(t!==n){p.set({message:"New passwords do not match."});l.trigger();return}if(t.length<6){p.set({message:"New password must be at least 6 characters long."});l.trigger();return}const a=firebase.auth.EmailAuthProvider.credential(r.email,e);r.reauthenticateWithCredential(a).then(()=>{return r.updatePassword(t)}).then(()=>{u.trigger()}).catch(e=>{p.set({message:e.message,code:e.code});l.trigger()})}};Ops.User.rambodc.FB_ChangePassword.prototype=new CABLES.Op;CABLES.OPS["4cd52d32-07bc-464a-880d-3844750bef60"]={f:Ops.User.rambodc.FB_ChangePassword,objName:"Ops.User.rambodc.FB_ChangePassword"};Ops.Boolean.Or=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueBool("bool 1"),r=e.inValueBool("bool 2"),a=e.inValueBool("bool 3"),i=e.inValueBool("bool 4"),o=e.inValueBool("bool 5"),s=e.inValueBool("bool 6"),u=e.inValueBool("bool 7"),l=e.inValueBool("bool 8"),p=e.inValueBool("bool 9"),c=e.inValueBool("bool 10"),d=e.outBoolNum("result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=l.onChange=p.onChange=c.onChange=g;function g(){d.set(n.get()||r.get()||a.get()||i.get()||o.get()||s.get()||u.get()||l.get()||p.get()||c.get())}};Ops.Boolean.Or.prototype=new CABLES.Op;CABLES.OPS["b3b36238-4592-4e11-afe3-8361c4fd6be5"]={f:Ops.Boolean.Or,objName:"Ops.Boolean.Or"};Ops.User.rambodc.StringComposeEditor=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inStringEditor("Format","hello $a, $b $c und $d"),r=e.inString("String A"),a=e.inString("String B"),i=e.inString("String C"),o=e.inString("String D"),s=e.inString("String E"),u=e.inString("String F"),l=e.outString("Result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=p;p();function p(){var e=n.get()||"";if(typeof e!="string")e="";e=e.replace(/\$a/g,r.get());e=e.replace(/\$b/g,a.get());e=e.replace(/\$c/g,i.get());e=e.replace(/\$d/g,o.get());e=e.replace(/\$e/g,s.get());e=e.replace(/\$f/g,u.get());l.set(e)}};Ops.User.rambodc.StringComposeEditor.prototype=new CABLES.Op;CABLES.OPS["ecefdac0-9ad1-4591-9940-9ec7b1e422f5"]={f:Ops.User.rambodc.StringComposeEditor,objName:"Ops.User.rambodc.StringComposeEditor"};Ops.Json.ParseObject_v2=function(){CABLES.Op.apply(this,arguments);const s=this;const e=s.attachments={};const u=s.inStringEditor("JSON String","{}","json"),t=s.outObject("Result"),l=s.outBoolNum("Valid");u.onChange=n;n();function n(){if(!u.get()){t.set(null);l.set(false);return}try{const e=JSON.parse(u.get());t.setRef(e);l.set(true);s.setUiError("invalidjson",null)}catch(e){s.logWarn(e);l.set(false);let t="";const n=e.message.split(" ");for(let e=0;e<n.length-1;e++){const r=parseFloat(n[e+1]);if(r&&n[e]=="position"){const a=u.get().substring(r-15,r);const i=u.get().substring(r,r+1);const o=u.get().substring(r+1,r+15);t='<span style="font-family:monospace;background-color:black;">'+a+'<span style="font-weight:bold;background-color:red;">'+i+"</span>"+o+" </span>"}}s.setUiError("invalidjson","INVALID JSON<br/>can not parse string to object:<br/><b> "+e.message+"</b><br/>"+t)}}};Ops.Json.ParseObject_v2.prototype=new CABLES.Op;CABLES.OPS["2ce8a4d3-37d3-4cdc-abd1-a560fbe841ee"]={f:Ops.Json.ParseObject_v2,objName:"Ops.Json.ParseObject_v2"};Ops.User.rambodc.Check_Email_Validation=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Email");const r=e.inTriggerButton("Trigger");const a=e.outTrigger("Success");const i=e.outTrigger("Fail");const o=e.outString("Valid Email");function s(e){const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return t.test(e)}r.onTriggered=function(){const e=n.get();if(s(e)){a.trigger();o.set(e)}else{i.trigger()}}};Ops.User.rambodc.Check_Email_Validation.prototype=new CABLES.Op;CABLES.OPS["0326c352-0e1e-4567-89fa-3839373a1bf2"]={f:Ops.User.rambodc.Check_Email_Validation,objName:"Ops.User.rambodc.Check_Email_Validation"};Ops.User.rambodc.FB_UpdateEmail=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("New Email","");const r=e.inTriggerButton("Update Email");const a=e.outTrigger("Update Success");const i=e.outTrigger("Update Fail");const o=e.outObject("Update Error");r.onTriggered=()=>{const e=n.get();const t=firebase.auth().currentUser;if(t){if(!t.emailVerified){o.set({message:"Please verify your current email before changing to a new email.",code:"auth/require-email-verification"});i.trigger();return}t.updateEmail(e).then(()=>{return t.sendEmailVerification()}).then(()=>{a.trigger()}).catch(e=>{o.set({message:e.message,code:e.code});i.trigger()})}else{o.set({message:"No authenticated user found."});i.trigger()}}};Ops.User.rambodc.FB_UpdateEmail.prototype=new CABLES.Op;CABLES.OPS["11bcb6a3-c260-48b1-82a2-7253de096c8e"]={f:Ops.User.rambodc.FB_UpdateEmail,objName:"Ops.User.rambodc.FB_UpdateEmail"};Ops.Html.ReloadPage=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};let n=e.inTriggerButton("Exec");n.onTriggered=function(){location.reload()}};Ops.Html.ReloadPage.prototype=new CABLES.Op;CABLES.OPS["d0060a4e-ffed-4a8d-8f6d-bfd9a23319de"]={f:Ops.Html.ReloadPage,objName:"Ops.Html.ReloadPage"};Ops.User.rambodc.delay_boolean_timer=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inFloat("Delay",1);const a=e.outValueBool("Output Boolean",false);const i=e.outTrigger("Output Trigger");let o;n.onTriggered=()=>{clearTimeout(o);a.set(true);o=setTimeout(()=>{if(a.get()==true){a.set(false);i.trigger()}},r.get()*1e3)};r.onChange=()=>{if(o){clearTimeout(o);o=setTimeout(()=>{if(a.get()==true){a.set(false);i.trigger()}},r.get()*1e3)}}};Ops.User.rambodc.delay_boolean_timer.prototype=new CABLES.Op;CABLES.OPS["12e7e974-bd91-43b9-8d08-8ff77628aae6"]={f:Ops.User.rambodc.delay_boolean_timer,objName:"Ops.User.rambodc.delay_boolean_timer"};Ops.Boolean.Not=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueBool("Boolean"),r=e.outBoolNum("Result");n.changeAlways=true;n.onChange=function(){r.set(!n.get())}};Ops.Boolean.Not.prototype=new CABLES.Op;CABLES.OPS["6d123c9f-7485-4fd9-a5c2-76e59dcbeb34"]={f:Ops.Boolean.Not,objName:"Ops.Boolean.Not"};Ops.User.rambodc.FBUpdateDocument2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Update");const r=e.inString("Collection Name","");const a=e.inString("Document ID","");const i=e.inObject("Document Data",{});const o=e.outBoolNum("Error",false);const s=e.outString("Error Message","");const u=e.outTrigger("Success");const l=e.outTrigger("Failure");const p=e.outBoolNum("Loading",false);n.onTriggered=async function(){p.set(true);if(!r.get()||!a.get()){o.set(true);s.set("Missing Arguments: Collection name or Document ID is missing!");l.trigger();p.set(false);return}const e=firebase.firestore();const t=e.collection(r.get()).doc(a.get());let n={...i.get()};try{await t.update(n);o.set(false);s.set("");u.trigger();p.set(false)}catch(e){o.set(true);s.set("Update Operation Failed: "+e.message);l.trigger();p.set(false)}}};Ops.User.rambodc.FBUpdateDocument2.prototype=new CABLES.Op;CABLES.OPS["d2b46fbf-3db9-44be-9f97-dbb8a0519129"]={f:Ops.User.rambodc.FBUpdateDocument2,objName:"Ops.User.rambodc.FBUpdateDocument2"};Ops.User.rambodc.Back_Button_History=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Increase");const r=e.inTriggerButton("Decrease");const a=e.inTriggerButton("Reset");const i=e.inString("Add Value","");const o=e.inString("Initial Value","/b");const s=e.outNumber("Count");const u=e.outString("Json Object");const l=e.outString("Selected");let p=1;let c={1:o.get()};s.set(p);u.set(JSON.stringify(c));l.set(c[p]);n.onTriggered=()=>{p++;c[p]=i.get();u.set(JSON.stringify(c));l.set(c[p]);s.set(p)};r.onTriggered=()=>{if(p>1){delete c[p];p--;u.set(JSON.stringify(c));l.set(c[p]||"");s.set(p)}};a.onTriggered=()=>{p=1;c={1:o.get()};u.set(JSON.stringify(c));l.set(c[p]);s.set(p)}};Ops.User.rambodc.Back_Button_History.prototype=new CABLES.Op;CABLES.OPS["c0e5c3e1-f287-4702-b5ca-3cd3cfb71047"]={f:Ops.User.rambodc.Back_Button_History,objName:"Ops.User.rambodc.Back_Button_History"};Ops.Vars.VarGetObject_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.outObject("Value");e.varName=e.inValueSelect("Variable",[],"",true);new CABLES.VarGetOpWrapper(e,"object",e.varName,n)};Ops.Vars.VarGetObject_v2.prototype=new CABLES.Op;CABLES.OPS["321419d9-69c7-4310-a327-93d310bc2b8e"]={f:Ops.Vars.VarGetObject_v2,objName:"Ops.Vars.VarGetObject_v2"};Ops.Math.Round=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("number"),r=e.inInt("Decimal Places",0),a=e.outNumber("result");let i=0;n.onChange=s;r.onChange=o;o();function o(){i=Math.pow(10,r.get());s()}function s(){a.set(Math.round(n.get()*i)/i)}};Ops.Math.Round.prototype=new CABLES.Op;CABLES.OPS["1a1ef636-6d02-42ba-ae1e-627b917d0d2b"]={f:Ops.Math.Round,objName:"Ops.Math.Round"};Ops.String.NumberToString_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValue("Number"),r=e.inInt("Decimal Places",4),a=e.outString("Result");let i=false;let o=1;r.onChange=s;n.onChange=u;s();u();function s(){i=r.get()<100;o=Math.pow(10,r.get());u()}function u(){if(i)a.set(String(Math.round(n.get()*o)/o));else a.set(String(n.get()||0))}};Ops.String.NumberToString_v2.prototype=new CABLES.Op;CABLES.OPS["5c6d375a-82db-4366-8013-93f56b4061a9"]={f:Ops.String.NumberToString_v2,objName:"Ops.String.NumberToString_v2"};Ops.User.rambodc.Open_File_Dialog=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Open File Dialog"),r=e.inString("Accept Files","*/*"),a=e.inBool("Allow Multiple Files",false),i=e.inValue("Max File Size (MB)",10),o=e.inValue("Max Video Length (Seconds)",300);const s=e.outObject("File Object"),u=e.outString("File Error"),l=e.outTrigger("Success"),p=e.outTrigger("Failure");const c=document.createElement("input");c.type="file";c.accept=r.get();c.multiple=a.get();c.style.display="none";document.body.appendChild(c);n.onTriggered=()=>{s.set(null);u.set("");c.value=null;c.click()};c.addEventListener("change",e=>{if(e.target.files.length>0){const t=e.target.files[0];const n=i.get()*1024*1024;const r=t.type;if(t.size>n){u.set(`File size exceeds the maximum allowed size of ${i.get()} MB`);p.trigger();return}if(r.startsWith("video")){const a=document.createElement("video");a.preload="metadata";a.src=URL.createObjectURL(t);a.onloadedmetadata=function(){URL.revokeObjectURL(a.src);if(a.duration>o.get()){u.set(`Video length exceeds the maximum allowed length of ${o.get()} seconds`);p.trigger()}else{s.set(t);l.trigger()}};a.onerror=function(){u.set("Error loading video metadata. Please ensure the file is a valid video.");p.trigger()}}else{s.set(t);l.trigger()}}else{u.set("No file selected.");p.trigger()}});r.onChange=()=>{c.accept=r.get()};a.onChange=()=>{c.multiple=a.get()};e.onDelete=()=>{if(c.parentNode){c.parentNode.removeChild(c)}}};Ops.User.rambodc.Open_File_Dialog.prototype=new CABLES.Op;CABLES.OPS["7bbd2cd1-bb89-4bc7-897a-043b76feefa2"]={f:Ops.User.rambodc.Open_File_Dialog,objName:"Ops.User.rambodc.Open_File_Dialog"};Ops.String.String_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("value",""),r=e.outString("String");n.onChange=function(){if(!n.isLinked())e.setUiAttrib({extendTitle:n.get()});r.set(n.get())}};Ops.String.String_v2.prototype=new CABLES.Op;CABLES.OPS["d697ff82-74fd-4f31-8f54-295bc64e713d"]={f:Ops.String.String_v2,objName:"Ops.String.String_v2"};Ops.User.rambodc.Stringify2_Backslash=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Input Object",{}),r=e.outString("JSON String");n.onChange=a;function a(){try{const e=n.get();const t=JSON.stringify(e);r.set(t)}catch(e){console.error("Error converting object to JSON string:",e);r.set("")}}a()};Ops.User.rambodc.Stringify2_Backslash.prototype=new CABLES.Op;CABLES.OPS["dcf85abf-93dd-444a-9e7e-c32e827f97fe"]={f:Ops.User.rambodc.Stringify2_Backslash,objName:"Ops.User.rambodc.Stringify2_Backslash"};Ops.User.rambodc.Sidebar_Space=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inString("Height","20px");const a=e.outObject("Children");const i=document.createElement("div");i.style.height=r.get();i.style.display="block";n.onChange=o;r.onChange=()=>{i.style.height=r.get()};function o(){a.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(i);a.set(e)}else if(i.parentElement){i.parentElement.removeChild(i)}}e.onDelete=s;function s(){if(i&&i.parentNode){i.parentNode.removeChild(i)}}};Ops.User.rambodc.Sidebar_Space.prototype=new CABLES.Op;CABLES.OPS["1774ec91-7d90-46a5-b422-69f45cc51265"]={f:Ops.User.rambodc.Sidebar_Space,objName:"Ops.User.rambodc.Sidebar_Space"};Ops.Cables.CallBack_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("exe");const r=e.inString("Callback Name","myFunction");const a=e.inString("Parameter 1","");const i=e.inString("Parameter 2","");const o=e.inString("Parameter 3","");let s=[0,0,0];a.onChange=function(){s[0]=a.get()};i.onChange=function(){s[1]=i.get()};o.onChange=function(){s[2]=o.get()};n.onTriggered=function(){if(e.patch.config.hasOwnProperty(r.get())){e.patch.config[r.get()](s)}else{e.log("callback ",r.get()," not found! Parameters: ",s)}}};Ops.Cables.CallBack_v2.prototype=new CABLES.Op;CABLES.OPS["cfc87cb1-a74b-482f-9fad-e1777cb7ffd4"]={f:Ops.Cables.CallBack_v2,objName:"Ops.Cables.CallBack_v2"};Ops.Ui.VizString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inStringEditor("String"),a=e.inBool("ZoomText",false),i=e.inBool("Line Numbers",true),o=e.inBool("Whitespace",false),s=e.inBool("Wrap lines",false),u=e.inValueSelect("Syntax",["text","glsl","css","html","xml","json","javascript","inline-css","sql"],"text"),l=e.inFloat("Font Size",10),p=e.inFloatSlider("Scroll",0);e.setUiAttrib({height:200,width:400,resizable:true,vizLayerMaxZoom:2500});r.ignoreValueSerialize=true;let c=[];r.onLinkChanged=()=>{if(!r.isLinked()){c=[];r.set(null)}};r.onChange=()=>{if(r.get())c=r.get().split("\n");else c=[]};e.renderVizLayer=(e,t,n)=>{n.clear(e,t);if(!r.get())return;e.save();e.scale(t.scale,t.scale);n.renderText(e,t,c,{zoomText:a.get(),showLineNum:i.get(),fontSize:l.get(),scroll:p.get(),syntax:u.get(),showWhitespace:o.get(),wrap:s.get()});e.restore()}};Ops.Ui.VizString.prototype=new CABLES.Op;CABLES.OPS["b4c93fde-85c6-4c7e-9962-a6463a84838b"]={f:Ops.Ui.VizString,objName:"Ops.Ui.VizString"};Ops.Boolean.DelayBooleanSimple=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inFloat("Value"),r=e.inFloat("Delay True",1),a=e.inFloat("Delay False",1),i=e.outBoolNum("Out Value");let o=-1;n.onChange=a.onChange=r.onChange=s;function s(){clearTimeout(o);let e=n.get();let t=1;if(e)t=r.get()*1e3;else t=a.get()*1e3;o=setTimeout(function(){i.set(e)},t)}};Ops.Boolean.DelayBooleanSimple.prototype=new CABLES.Op;CABLES.OPS["4516be54-9077-490f-a094-83696b9011ba"]={f:Ops.Boolean.DelayBooleanSimple,objName:"Ops.Boolean.DelayBooleanSimple"};Ops.User.rambodc.Button_Icon_smaller=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("link");const r=e.inString("Icon","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2FAccountsNodes.png?alt=media&token=36471c6c-5487-491f-ac31-76eddf2abd5d");const a=e.inString("Text","Button");const i=e.inString("Text Right","Button");const o=e.inString("Icon Right","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1");const s=e.inValue("Corners",0);const u=e.outObject("childs");const l=e.outTrigger("Pressed Trigger");const p=e.inBool("Visible",true);const c=document.createElement("div");c.dataset.op=e.id;c.style.height="40px";c.style.display="flex";c.style.justifyContent="space-between";c.style.alignItems="center";c.style.backgroundColor="transparent";c.style.cursor="pointer";c.style.padding="5px 5px";c.style.transition="background-color 0.3s, border-color 0.3s";c.style.fontSize="16px";c.style.color="white";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)";const d=document.createElement("div");d.style.display="flex";d.style.alignItems="center";c.appendChild(d);const g=document.createElement("img");g.src=r.get();g.style.width="30px";g.style.height="30px";g.style.padding="10px";g.style.borderRadius=`${s.get()}px`;d.appendChild(g);const m=document.createElement("div");m.style.textAlign="left";m.style.fontSize="12px";m.style.lineHeight="1";m.style.fontWeight="normal";d.appendChild(m);const b=document.createTextNode(a.get());m.appendChild(b);const h=document.createElement("div");h.style.display="flex";h.style.alignItems="center";c.appendChild(h);const f=document.createElement("div");f.innerText=i.get();f.style.fontWeight="nromal";f.style.fontSize="12px";f.style.lineHeight="1";h.appendChild(f);const v=document.createElement("img");v.src=o.get();v.style.width="15px";v.style.height="15px";v.style.padding="10px 10px";h.appendChild(v);e.toWorkNeedsParent("Ops.Sidebar.Sidebar");c.addEventListener("click",O);c.addEventListener("mouseenter",y);c.addEventListener("mouseleave",x);n.onChange=S;a.onChange=I;r.onChange=j;i.onChange=_;o.onChange=A;s.onChange=T;e.onDelete=w;p.onChange=C;function O(){l.trigger();c.style.borderColor="rgba(255, 255, 255, 0.3)"}function y(){c.style.backgroundColor="rgba(255, 255, 255, 0.15)";c.style.color="rgba(255, 255, 255, 0.9)";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)"}function x(){c.style.backgroundColor="transparent";c.style.color="rgba(255, 255, 255, 0.9)";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)"}function I(){m.textContent=a.get();if(CABLES.UI){e.setTitle("Button: "+a.get())}}function S(){u.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(c);u.set(e)}else{if(c.parentElement){c.parentElement.removeChild(c)}}}function j(){g.src=r.get()}function _(){f.innerText=i.get()}function A(){v.src=o.get()}function T(){g.style.borderRadius=`${s.get()}px`}function C(){c.style.display=p.get()?"flex":"none"}function w(){k(c)}function k(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.User.rambodc.Button_Icon_smaller.prototype=new CABLES.Op;CABLES.OPS["d329d9d6-0432-404a-92ac-291d3feaea19"]={f:Ops.User.rambodc.Button_Icon_smaller,objName:"Ops.User.rambodc.Button_Icon_smaller"};Ops.User.rambodc.ShortenString=function(){CABLES.Op.apply(this,arguments);const a=this;const e=a.attachments={};const i=a.inString("String Input","");const o=a.inValue("Max Characters",5);const s=a.inString("End With","...");const u=a.outString("Output String","");function t(){const e=i.get();const t=o.get();const n=s.get();a.setUiError("exception",null);if(e&&e.length>t){const r=e.substring(0,t)+n;u.set(r)}else{u.set(e)}}i.onChange=o.onChange=s.onChange=t;t()};Ops.User.rambodc.ShortenString.prototype=new CABLES.Op;CABLES.OPS["b68152fd-aef7-49f2-b482-baee52bd683e"]={f:Ops.User.rambodc.ShortenString,objName:"Ops.User.rambodc.ShortenString"};Ops.Data.JsonPath.ObjectGetObjectByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const o=i.inObject("Object"),s=i.inString("Path"),u=i.outObject("Output"),l=i.outBool("Found");o.onChange=s.onChange=n;s.setUiAttribs({stringTrim:true});s.on("change",t);t();function t(){if(!s.get())i.setUiError("nokey","Missing Key Value");else i.setUiError("nokey",null)}function n(){const t=o.get();const n=s.get();i.setUiError("missing",null);if(t&&n){if(!Array.isArray(t)&&!(typeof t==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof t+" is not travesable by path")}else{i.setUiError("notiterable",null);const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});let e=p(n,t);if(e===undefined){const a="could not find element at path "+n;l.set(false);e=null;i.setUiError("missing",a,2)}else if(Array.isArray(e)||e===null||typeof e!=="object"){const a="element at path "+n+" is not an object";l.set(false);e=null;i.setUiError("missing",a,2)}else{l.set(true)}u.setRef(e)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ObjectGetObjectByPath.prototype=new CABLES.Op;CABLES.OPS["574513c7-472b-433c-bf99-d906d3c737cd"]={f:Ops.Data.JsonPath.ObjectGetObjectByPath,objName:"Ops.Data.JsonPath.ObjectGetObjectByPath"};Ops.Boolean.TriggerChangedFalse=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};let n=e.inValueBool("Value",false);let r=e.outTrigger("Next");let a=0;n.onChange=function(){let e=n.get();if(a&&!e){a=false;r.trigger()}else{a=true}}};Ops.Boolean.TriggerChangedFalse.prototype=new CABLES.Op;CABLES.OPS["6387bcb0-6091-4199-8ab7-f96ad4aa3c7d"]={f:Ops.Boolean.TriggerChangedFalse,objName:"Ops.Boolean.TriggerChangedFalse"};Ops.User.rambodc.StringBoolButton=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inBool("Boolean",false);const r=e.inString("True Text","True Text Default");const a=e.inString("True Background","True Background Default");const i=e.inString("True Hover","True Hover Default");const o=e.inString("False Text","False Text Default");const s=e.inString("False Background","False Background Default");const u=e.inString("False Hover","False Hover Default");const l=e.outString("Text","False Text Default");const p=e.outString("Background","False Background Default");const c=e.outString("Hover","False Hover Default");function d(){if(n.get()){l.set(r.get());p.set(a.get());c.set(i.get())}else{l.set(o.get());p.set(s.get());c.set(u.get())}}n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=d;d()};Ops.User.rambodc.StringBoolButton.prototype=new CABLES.Op;CABLES.OPS["ce601884-c55c-4aec-9ba5-985f3fd8d348"]={f:Ops.User.rambodc.StringBoolButton,objName:"Ops.User.rambodc.StringBoolButton"};Ops.User.rambodc.WorkflowCheck=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Check");const l=e.inBool("IPFS",false);const p=e.inBool("IPFS Required",false);const c=e.inBool("AI",false);const d=e.inBool("AI Required",false);const g=e.inBool("Resized Image",false);const m=e.inBool("Resized Image Required",false);const b=e.inBool("TXN",false);const h=e.inBool("TXN Required",false);const f=e.outTrigger("IPFS Trigger");const v=e.outTrigger("AI Trigger");const O=e.outTrigger("Resized Image Trigger");const y=e.outTrigger("TXN Trigger");const x=e.outTrigger("Pass Trigger");const I=e.outBool("Pass Bool",false);function r(){const e=l.get();const t=p.get();const n=c.get();const r=d.get();const a=g.get();const i=m.get();const o=b.get();const s=h.get();let u=true;if(t&&!e){f.trigger();u=false}if(r&&!n){v.trigger();u=false}if(i&&!a){O.trigger();u=false}if(s&&!o){y.trigger();u=false}if(u){x.trigger()}}function a(){const e=l.get();const t=p.get();const n=c.get();const r=d.get();const a=g.get();const i=m.get();const o=b.get();const s=h.get();let u=true;if(t&&!e){u=false}if(r&&!n){u=false}if(i&&!a){u=false}if(s&&!o){u=false}I.set(u)}n.onTriggered=r;l.onChange=a;p.onChange=a;c.onChange=a;d.onChange=a;g.onChange=a;m.onChange=a;b.onChange=a;h.onChange=a;a()};Ops.User.rambodc.WorkflowCheck.prototype=new CABLES.Op;CABLES.OPS["1b4996bd-a077-4f6a-9395-a92bc49ed0cc"]={f:Ops.User.rambodc.WorkflowCheck,objName:"Ops.User.rambodc.WorkflowCheck"};Ops.User.rambodc.Email_Input_Sidebar=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inString("Label","Email");const a=e.inString("Default","");const i=e.inString("Placeholder","Enter email");const o=e.inBool("Visible",true);const s=e.inValue("Max Characters",100);const u=e.inTriggerButton("Clear");const l=e.outObject("Children");const p=e.outString("Result","");const c=e.outBool("Focus",false);const d=e.outBool("Has Changed",false);const g=e.outBool("Is Valid",false);const m=document.createElement("div");m.style.display=o.get()?"flex":"none";m.style.flexDirection="column";m.style.alignItems="stretch";const b=document.createElement("div");b.textContent=r.get();b.style.fontSize="16px";b.style.color="white";b.style.marginBottom="5px";b.style.paddingTop="10px";b.style.paddingLeft="20px";b.style.paddingRight="20px";m.appendChild(b);let h=document.createElement("input");h.type="email";h.style.width="calc(100% - 40px)";h.style.fontSize="18px";h.style.boxSizing="border-box";h.style.backgroundColor="rgba(150, 150, 150, 0.2)";h.style.color="white";h.style.textAlign="left";h.style.margin="5px 20px";h.style.padding="10px";h.style.border="0px solid #ffffff";h.style.outline="none";h.maxLength=s.get();h.value=a.get();h.placeholder=i.get();h.addEventListener("input",v);h.addEventListener("focus",O);h.addEventListener("blur",y);m.appendChild(h);n.onChange=x;o.onChange=()=>m.style.display=o.get()?"flex":"none";u.onTriggered=()=>{h.value="";p.set(h.value);d.set(false);g.set(false)};function f(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)}function v(e){const t=e.target.value;p.set(t);d.set(true);g.set(f(t))}function O(){c.set(true)}function y(){c.set(false)}function x(){l.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(m);l.set(e)}else if(m.parentElement){m.parentElement.removeChild(m)}}r.onChange=()=>b.textContent=r.get();a.onChange=()=>{h.value=a.get();d.set(false);g.set(f(h.value))};i.onChange=()=>h.placeholder=i.get();s.onChange=()=>h.maxLength=s.get();e.onDelete=I;function I(){if(h&&h.parentNode){h.parentNode.removeChild(h)}if(b&&b.parentNode){b.parentNode.removeChild(b)}if(m&&m.parentNode){m.parentNode.removeChild(m)}}e.toWorkPortsNeedToBeLinked(n)};Ops.User.rambodc.Email_Input_Sidebar.prototype=new CABLES.Op;CABLES.OPS["9236315c-eba9-426b-94a6-4e7ee110a6f9"]={f:Ops.User.rambodc.Email_Input_Sidebar,objName:"Ops.User.rambodc.Email_Input_Sidebar"};Ops.User.rambodc.TextInput_Password=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inString("Label","Password");const a=e.inString("Default","");const i=e.inString("Placeholder","Enter password");const o=e.inBool("Visible",true);const s=e.inValue("Max Characters",100);const u=e.inTriggerButton("Clear");const l=e.outObject("Children");const p=e.outString("Result","");const c=e.outBool("Focus",false);const d=e.outBool("Has Changed",false);const g=document.createElement("div");g.style.display=o.get()?"flex":"none";g.style.flexDirection="column";g.style.alignItems="stretch";const m=document.createElement("div");m.textContent=r.get();m.style.fontSize="16px";m.style.color="white";m.style.marginBottom="0px";m.style.paddingTop="10px";m.style.paddingLeft="20px";m.style.paddingRight="20px";g.appendChild(m);let b=document.createElement("input");b.type="password";b.style.width="calc(100% - 40px)";b.style.fontSize="18px";b.style.boxSizing="border-box";b.style.backgroundColor="rgba(150, 150, 150, 0.2)";b.style.color="white";b.style.textAlign="left";b.style.margin="10px 20px";b.style.padding="10px";b.style.border="0px solid #ffffff";b.style.outline="none";b.maxLength=s.get();b.value=a.get();b.placeholder=i.get();b.addEventListener("input",h);b.addEventListener("focus",f);b.addEventListener("blur",v);g.appendChild(b);n.onChange=O;o.onChange=()=>g.style.display=o.get()?"flex":"none";u.onTriggered=()=>{b.value="";p.set(b.value);d.set(false)};function h(e){p.set(e.target.value);d.set(true)}function f(){c.set(true)}function v(){c.set(false)}function O(){l.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(g);l.set(e)}else if(g.parentElement){g.parentElement.removeChild(g)}}r.onChange=()=>m.textContent=r.get();a.onChange=()=>{b.value=a.get();d.set(false)};i.onChange=()=>b.placeholder=i.get();s.onChange=()=>b.maxLength=s.get();e.onDelete=y;function y(){x(g)}function x(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}}e.toWorkPortsNeedToBeLinked(n)};Ops.User.rambodc.TextInput_Password.prototype=new CABLES.Op;CABLES.OPS["6deb6544-b794-4310-8657-3b6fc85afbe8"]={f:Ops.User.rambodc.TextInput_Password,objName:"Ops.User.rambodc.TextInput_Password"};Ops.User.rambodc.TextInput_NullCheck=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inString("Primary String","");const a=e.inString("Secondary String","");const i=e.inString("If Both Null","");const o=e.outString("String Output","");function s(e){return typeof e==="string"&&e.trim()!==""}function n(){const e=r.get();const t=a.get();const n=i.get();if(s(e)){o.set(e.trim())}else if(s(t)){o.set(t.trim())}else{o.set(n.trim())}}r.onChange=n;a.onChange=n;i.onChange=n;n()};Ops.User.rambodc.TextInput_NullCheck.prototype=new CABLES.Op;CABLES.OPS["e4034018-fff4-44e6-8b31-a5b5e9c56312"]={f:Ops.User.rambodc.TextInput_NullCheck,objName:"Ops.User.rambodc.TextInput_NullCheck"};Ops.User.rambodc.StringComposeEditorMAX=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inStringEditor("Format","hello $a, $b $c $d $e $f $g $h $i $j $k $l $m $n $o"),r=e.inString("String A",""),a=e.inString("String B",""),i=e.inString("String C",""),o=e.inString("String D",""),s=e.inString("String E",""),u=e.inString("String F",""),l=e.inString("String G",""),p=e.inString("String H",""),c=e.inString("String I",""),d=e.inString("String J",""),g=e.inString("String K",""),m=e.inString("String L",""),b=e.inString("String M",""),h=e.inString("String N",""),f=e.inString("String O",""),v=e.outString("Result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=l.onChange=p.onChange=c.onChange=d.onChange=g.onChange=m.onChange=b.onChange=h.onChange=f.onChange=O;O();function O(){var e=n.get()||"";if(typeof e!="string")e="";e=e.replace(/\$a/g,r.get());e=e.replace(/\$b/g,a.get());e=e.replace(/\$c/g,i.get());e=e.replace(/\$d/g,o.get());e=e.replace(/\$e/g,s.get());e=e.replace(/\$f/g,u.get());e=e.replace(/\$g/g,l.get());e=e.replace(/\$h/g,p.get());e=e.replace(/\$i/g,c.get());e=e.replace(/\$j/g,d.get());e=e.replace(/\$k/g,g.get());e=e.replace(/\$l/g,m.get());e=e.replace(/\$m/g,b.get());e=e.replace(/\$n/g,h.get());e=e.replace(/\$o/g,f.get());v.set(e)}};Ops.User.rambodc.StringComposeEditorMAX.prototype=new CABLES.Op;CABLES.OPS["052eaf69-3c76-455a-81ad-3fb518a1dd83"]={f:Ops.User.rambodc.StringComposeEditorMAX,objName:"Ops.User.rambodc.StringComposeEditorMAX"};Ops.Boolean.Boolean=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inBool("value",false),r=e.outBoolNum("result");r.set(false);n.onChange=a;function a(){if(r.get()!=n.get())r.set(n.get())}};Ops.Boolean.Boolean.prototype=new CABLES.Op;CABLES.OPS["83e2d74c-9741-41aa-a4d7-1bda4ef55fb3"]={f:Ops.Boolean.Boolean,objName:"Ops.Boolean.Boolean"};Ops.Trigger.TriggerButton=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger"),r=e.outTrigger("Next");n.onTriggered=function(){r.trigger()}};Ops.Trigger.TriggerButton.prototype=new CABLES.Op;CABLES.OPS["21630924-39e4-4df5-9965-b9136510d156"]={f:Ops.Trigger.TriggerButton,objName:"Ops.Trigger.TriggerButton"};Ops.String.DelayStringSimple=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Value"),r=e.inValue("Delay",1),a=e.outString("Out Value");let i=-1;n.onChange=r.onChange=o;function o(){clearTimeout(i);const e=n.get();i=setTimeout(function(){a.set(e)},r.get()*1e3)}};Ops.String.DelayStringSimple.prototype=new CABLES.Op;CABLES.OPS["0e3c0986-071e-4c98-be84-7f17306490c6"]={f:Ops.String.DelayStringSimple,objName:"Ops.String.DelayStringSimple"};Ops.Json.ObjectTrigger=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger"),r=e.inObject("Object"),a=e.outTrigger("Next"),i=e.outObject("Result");n.onTriggered=function(){i.setRef(r.get());a.trigger()}};Ops.Json.ObjectTrigger.prototype=new CABLES.Op;CABLES.OPS["e437c074-190f-4adb-8265-3fddea27fe33"]={f:Ops.Json.ObjectTrigger,objName:"Ops.Json.ObjectTrigger"};Ops.Boolean.BoolToString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inBool("Boolean",false),r=e.inString("False","false"),a=e.inString("True","true"),i=e.outString("String","false");a.onChange=r.onChange=n.onChange=o;function o(){if(n.get())i.set(a.get());else i.set(r.get())}};Ops.Boolean.BoolToString.prototype=new CABLES.Op;CABLES.OPS["22a734aa-8b08-4db7-929b-393d4704e1d6"]={f:Ops.Boolean.BoolToString,objName:"Ops.Boolean.BoolToString"};Ops.User.rambodc.TextInputArea=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inString("Label","Label");const a=e.inString("Default","");const i=e.inString("Placeholder","Enter text");const o=e.inBool("Visible",true);const s=e.inValue("Max Characters",100);const u=e.inValue("Height",100);const l=e.inTriggerButton("Clear");const p=e.inString("Width","100%");const c=e.outObject("Children");const d=e.outString("Result","");const g=e.outBool("Focus",false);const m=e.outBool("Has Changed",false);const b=e.outTrigger("Exceeded Max Characters");let h=false;const f=document.createElement("div");f.style.display=o.get()?"flex":"none";f.style.flexDirection="column";f.style.alignItems="stretch";const v=document.createElement("div");v.textContent=r.get();v.style.fontSize="16px";v.style.color="white";v.style.marginBottom="0px";v.style.paddingTop="10px";v.style.paddingLeft="20px";v.style.paddingRight="20px";f.appendChild(v);let O=document.createElement("textarea");O.style.width=`calc(${p.get()} - 40px)`;O.style.height=`${u.get()}px`;O.style.fontSize="18px";O.style.boxSizing="border-box";O.style.backgroundColor="rgba(150, 150, 150, 0.2)";O.style.color="white";O.style.textAlign="left";O.style.margin="10px 20px";O.style.padding="10px";O.style.border="0px solid #ffffff";O.style.outline="none";O.maxLength=s.get();O.value=a.get();O.placeholder=i.get();O.autocomplete="off";O.addEventListener("input",y);O.addEventListener("focus",I);O.addEventListener("blur",S);O.addEventListener("paste",x);f.appendChild(O);u.onChange=()=>{O.style.height=`${u.get()}px`};p.onChange=()=>{O.style.width=`calc(${p.get()} - 40px)`};n.onChange=j;o.onChange=()=>f.style.display=o.get()?"flex":"none";l.onTriggered=()=>{O.value="";d.set(O.value);m.set(false)};function y(e){const t=e.target.value.length;const n=s.get();d.set(e.target.value);m.set(true);if(t>=n&&!h){b.trigger();h=true}else if(t<n){h=false}}function x(e){setTimeout(()=>{const e=O.value.length;const t=s.get();if(e>=t&&!h){b.trigger();h=true}else if(e<t){h=false}},0)}function I(){g.set(true)}function S(){g.set(false)}function j(){c.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(f);c.set(e)}else if(f.parentElement){f.parentElement.removeChild(f)}}r.onChange=()=>v.textContent=r.get();a.onChange=()=>{O.value=a.get();m.set(false)};i.onChange=()=>O.placeholder=i.get();s.onChange=()=>O.maxLength=s.get();e.onDelete=_;function _(){A(f)}function A(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}}e.toWorkPortsNeedToBeLinked(n)};Ops.User.rambodc.TextInputArea.prototype=new CABLES.Op;CABLES.OPS["8596ed19-c181-4022-988b-dfa3fecc6df1"]={f:Ops.User.rambodc.TextInputArea,objName:"Ops.User.rambodc.TextInputArea"};Ops.User.rambodc.StringCompose3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inStringEditor("Format","hello $a, $b"),r=e.inString("String A"),a=e.inString("String B"),i=e.inString("String C"),o=e.inString("String D"),s=e.inString("String E"),u=e.inString("String F"),l=e.inString("String G"),p=e.inString("String H"),c=e.inString("String I"),d=e.inString("String J"),g=e.inString("String K"),m=e.inString("String L"),b=e.inValue("Number M"),h=e.inValue("Number N"),f=e.inValue("Number O"),v=e.inValue("Number P"),O=e.inValue("Number Q"),y=e.inValue("Number R"),x=e.inValue("Number S"),I=e.inValue("Number T"),S=e.inValue("Number U"),j=e.inValue("Number V"),_=e.outString("Result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=l.onChange=p.onChange=c.onChange=d.onChange=g.onChange=m.onChange=b.onChange=h.onChange=f.onChange=v.onChange=O.onChange=y.onChange=x.onChange=I.onChange=S.onChange=j.onChange=A;A();function A(){var e=n.get()||"";if(typeof e!="string")e="";e=e.replace(/\$a/g,r.get());e=e.replace(/\$b/g,a.get());e=e.replace(/\$c/g,i.get());e=e.replace(/\$d/g,o.get());e=e.replace(/\$e/g,s.get());e=e.replace(/\$f/g,u.get());e=e.replace(/\$g/g,l.get());e=e.replace(/\$h/g,p.get());e=e.replace(/\$i/g,c.get());e=e.replace(/\$j/g,d.get());e=e.replace(/\$k/g,g.get());e=e.replace(/\$l/g,m.get());e=e.replace(/\$m/g,b.get().toString());e=e.replace(/\$n/g,h.get().toString());e=e.replace(/\$o/g,f.get().toString());e=e.replace(/\$p/g,v.get().toString());e=e.replace(/\$q/g,O.get().toString());e=e.replace(/\$r/g,y.get().toString());e=e.replace(/\$s/g,x.get().toString());e=e.replace(/\$t/g,I.get().toString());e=e.replace(/\$u/g,S.get().toString());e=e.replace(/\$v/g,j.get().toString());_.set(e)}};Ops.User.rambodc.StringCompose3.prototype=new CABLES.Op;CABLES.OPS["30179933-bbce-4110-a53f-84d586531595"]={f:Ops.User.rambodc.StringCompose3,objName:"Ops.User.rambodc.StringCompose3"};Ops.User.rambodc.FB_Listner=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const o=e.inString("Collection name");const s=e.inString("Document ID");const u=e.inString("SubCollection name");const l=e.inString("SubDocument ID");const n=e.inTriggerButton("Start Listening");const r=e.inTriggerButton("Stop Listening");const p=e.outBoolNum("Error",false);const c=e.outString("Error Message");const d=e.outObject("Document Data");const g=e.outString("Connection Status");const m=e.outTrigger("Connected");const a=e.outTrigger("Disconnected");const b=e.outTrigger("Updated");const h=e.outTrigger("Document Does Not Exist");let f=null;let v=true;n.onTriggered=i;r.onTriggered=O;function i(){const t=o.get();const n=s.get();const r=u.get();const a=l.get();if(!t){y("Missing Arguments: Collection name is missing!");return}if(!n){y("Missing Arguments: Document ID is missing!");return}try{const i=firebase.firestore();let e=i.collection(t).doc(n);if(r&&a){if(!r.trim()||!a.trim()){y("Sub-collection name or sub-document ID cannot be empty!");return}e=e.collection(r).doc(a)}v=true;f=e.onSnapshot(e=>{if(e.exists){d.set(e.data());g.set("Connected");if(!v){b.trigger()}else{m.trigger();v=false}p.set(false);c.set("")}else{x();y("Document does not exist!");h.trigger()}},e=>{x();y(`Error fetching document: ${e.message}`)})}catch(e){y(`Unexpected error: ${e.message}`)}}function O(){if(f){f();x();g.set("Disconnected");a.trigger()}}function y(e){p.set(true);c.set(e);g.set("Error");x();a.trigger()}function x(){d.set(null)}};Ops.User.rambodc.FB_Listner.prototype=new CABLES.Op;CABLES.OPS["2e1a7820-c9bd-432d-84da-809114049587"]={f:Ops.User.rambodc.FB_Listner,objName:"Ops.User.rambodc.FB_Listner"};Ops.User.rambodc.Object_reset_auto=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Input Object",{});const r=e.outObject("Output Object",{});function a(){const e=n.get();if(e&&Object.keys(e).length>0){r.set(e)}else{i()}}function i(){r.set({})}n.onChange=a};Ops.User.rambodc.Object_reset_auto.prototype=new CABLES.Op;CABLES.OPS["581c187b-36f6-4c1c-af1a-964b02fc5167"]={f:Ops.User.rambodc.Object_reset_auto,objName:"Ops.User.rambodc.Object_reset_auto"};Ops.User.rambodc.XRPL_Payment=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const d=e.inString("Account");const g=e.inString("Destination");const m=e.inString("Amount Value");const b=e.inString("Currency Code");const h=e.inString("Issuer");const f=e.inObject("SendMax");const v=e.inObject("DeliverMin");const O=e.inInt("DestinationTag");const y=e.inString("InvoiceID");const x=e.inObject("Paths");const I=e.inString("Memo Hex");const S=e.outObject("Complete Payment Transaction");const n=e.inTriggerButton("Add Payment Fields");const r=e.inTriggerButton("Clear Fields");n.onTriggered=a;r.onTriggered=i;function a(){let e={};e.TransactionType="Payment";let t=d.get();let n=g.get();let r=m.get();let a=b.get();let i=h.get();let o=f.get();let s=v.get();let u=O.get();let l=y.get();let p=x.get();let c=I.get();if(t)e.Account=t;if(n)e.Destination=n;if(a&&i){e.Amount={currency:a,value:r,issuer:i}}else{e.Amount=r}if(o)e.SendMax=o;if(s)e.DeliverMin=s;if(u)e.DestinationTag=u;if(l)e.InvoiceID=l;if(p)e.Paths=p;if(c){e.Memos=[{Memo:{MemoData:c}}]}S.set(e)}function i(){d.set(null);g.set(null);m.set(null);b.set(null);h.set(null);f.set(null);v.set(null);O.set(null);y.set(null);x.set(null);I.set(null)}};Ops.User.rambodc.XRPL_Payment.prototype=new CABLES.Op;CABLES.OPS["03ae6a97-9639-4a99-95c7-ac0406924001"]={f:Ops.User.rambodc.XRPL_Payment,objName:"Ops.User.rambodc.XRPL_Payment"};Ops.User.rambodc.XRPL_SignTransaction2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const o=e.inString("WSS URL");const s=e.inString("Input A");const u=e.inObject("Transaction");const l=e.inString("Input B");const n=e.inTriggerButton("Trigger In");const p=e.outString("Transaction Hash");const c=e.outString("Transaction Status");const d=e.outObject("Transaction Details");const g=e.outTrigger("Success");const m=e.outTrigger("Failure");const b=e.outString("Error");const h=e.outBool("Missing Fields");const f=e.outTrigger("Has Been Triggered");let v=null;n.onTriggered=r;function O(){p.set("");c.set("");d.set(null);b.set("");h.set(false)}function y(t,n){if(!t||!n)return"";let r="";for(let e=0;e<t.length;e++){r+=String.fromCharCode(t.charCodeAt(e)^n.charCodeAt(e%n.length))}return r}async function r(){f.trigger();O();if(!o.get()||!s.get()||!u.get()||!l.get()){let e=[];if(!o.get())e.push("WSS URL");if(!s.get())e.push("Input A");if(!u.get())e.push("Transaction");if(!l.get())e.push("Input B");b.set("Missing required fields: "+e.join(", "));h.set(true);m.trigger();return}try{const e=y(s.get(),l.get());if(!e){throw new Error("Failed to process inputs A and B.")}if(v===null){v=new xrpl.Client(o.get());await v.connect()}const t=xrpl.Wallet.fromSeed(e);const n=await v.autofill(u.get());const r=t.sign(n);const a=await v.submitAndWait(r.tx_blob);p.set(a.result.hash);const i=await v.request({command:"tx",transaction:a.result.hash});if(i.result.meta.TransactionResult==="tesSUCCESS"){c.set(i.result.meta.TransactionResult);d.set(i.result);g.trigger()}else{c.set(i.result.meta.TransactionResult);m.trigger()}}catch(e){let t=`Error: ${e.message}`;if(e.data)t+=` Data: ${JSON.stringify(e.data)}`;if(e.code)t+=` Code: ${e.code}`;b.set(t);m.trigger()}finally{if(v!==null){await v.disconnect();v=null}}}};Ops.User.rambodc.XRPL_SignTransaction2.prototype=new CABLES.Op;CABLES.OPS["0011445e-de78-448b-9355-e4971209e7da"]={f:Ops.User.rambodc.XRPL_SignTransaction2,objName:"Ops.User.rambodc.XRPL_SignTransaction2"};Ops.User.rambodc.HexConverter=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inString("CryptoJS CDN URL","https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js");const n=e.inTriggerButton("Text to Hex Trigger");const a=e.inTriggerButton("Hex to Text Trigger");const i=e.inString("Text Input","");const o=e.inString("Hex Input","");const s=e.outString("Hex Output","");const u=e.outString("Text Output","");const l=e.outTrigger("Text to Hex Success");const p=e.outTrigger("Hex to Text Success");const c=e.outTrigger("Text to Hex Failure");const d=e.outTrigger("Hex to Text Failure");const g=e.outString("Text to Hex Error");const m=e.outString("Hex to Text Error");let b;function h(){return new Promise((e,t)=>{const n=document.createElement("script");n.src=r.get();n.onload=()=>{b=window.CryptoJS;e()};n.onerror=()=>t(new Error(`Failed to load ${n.src}`));document.head.appendChild(n)})}async function f(){try{if(!b)await h();const e=i.get();const t=b.enc.Hex.stringify(b.enc.Utf8.parse(e));s.set(t);g.set("");l.trigger()}catch(e){s.set("");g.set(e.message);c.trigger()}}async function v(){try{if(!b)await h();const e=o.get();const t=b.enc.Utf8.stringify(b.enc.Hex.parse(e));u.set(t);m.set("");p.trigger()}catch(e){u.set("");m.set(e.message);d.trigger()}}n.onTriggered=f;a.onTriggered=v};Ops.User.rambodc.HexConverter.prototype=new CABLES.Op;CABLES.OPS["7f3febfe-01e6-46d3-8ecf-5df474e05b6a"]={f:Ops.User.rambodc.HexConverter,objName:"Ops.User.rambodc.HexConverter"};Ops.User.rambodc.FB_CreateDocId=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Generate ID");const r=e.outString("Generated ID");function a(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<20;e++){n+=t.charAt(Math.floor(Math.random()*t.length))}return n}n.onTriggered=()=>{const e=a();r.set(e)}};Ops.User.rambodc.FB_CreateDocId.prototype=new CABLES.Op;CABLES.OPS["915ac0de-758e-4d57-8ce0-9bae8a1a2d6d"]={f:Ops.User.rambodc.FB_CreateDocId,objName:"Ops.User.rambodc.FB_CreateDocId"};Ops.Data.JsonPath.ObjectGetNumberByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const o=i.inObject("Object"),s=i.inString("Path"),u=i.outNumber("Output"),l=i.outBool("Found");o.onChange=n;s.onChange=n;s.setUiAttribs({stringTrim:true});s.on("change",t);t();function t(){if(!s.get())i.setUiError("nokey","Missing Key Value");else i.setUiError("nokey",null)}function n(){const t=o.get();const n=s.get();i.setUiError("missing",null);if(t&&n){if(!Array.isArray(t)&&!(typeof t==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof t+" is not travesable by path")}else{i.setUiError("notiterable",null);const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});let e=p(n,t);if(e===undefined){const a="could not find element at path "+n;l.set(false);e=null;i.setUiError("missing",a,2)}else if(typeof e!=="number"){const a="element at path "+n+" is not a number";l.set(false);e=null;i.setUiError("missing",a,2)}else{l.set(true)}u.set(e)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ObjectGetNumberByPath.prototype=new CABLES.Op;CABLES.OPS["ec736baf-feb8-4d8d-b04c-173fc197759c"]={f:Ops.Data.JsonPath.ObjectGetNumberByPath,objName:"Ops.Data.JsonPath.ObjectGetNumberByPath"};Ops.Html.HyperLink_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Open"),r=e.inString("URL","https://cables.gl"),a=e.inString("Target Name","_self"),i=e.inString("Specs","");n.onTriggered=function(){window.open(r.get(),a.get(),i.get())}};Ops.Html.HyperLink_v2.prototype=new CABLES.Op;CABLES.OPS["a669d4f7-1e35-463c-bf8b-08c9f1b68e04"]={f:Ops.Html.HyperLink_v2,objName:"Ops.Html.HyperLink_v2"};Ops.User.rambodc.TextInput_Custom1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inString("Label","Label");const a=e.inString("Default","");const i=e.inString("Placeholder","Enter text");const o=e.inBool("Visible",true);const s=e.inValue("Max Characters",100);const u=e.inTriggerButton("Clear");const l=e.outObject("Children");const p=e.outString("Result","");const c=e.outBool("Focus",false);const d=e.outBool("Has Changed",false);const g=document.createElement("div");g.style.display=o.get()?"flex":"none";g.style.flexDirection="column";g.style.alignItems="stretch";const m=document.createElement("div");m.textContent=r.get();m.style.fontSize="16px";m.style.color="white";m.style.marginBottom="0px";m.style.paddingTop="10px";m.style.paddingLeft="20px";m.style.paddingRight="20px";g.appendChild(m);let b=document.createElement("input");b.type="text";b.style.width="calc(100% - 40px)";b.style.fontSize="18px";b.style.boxSizing="border-box";b.style.backgroundColor="rgba(150, 150, 150, 0.2)";b.style.color="white";b.style.textAlign="left";b.style.margin="10px 20px";b.style.padding="10px";b.style.border="none";b.style.outline="none";b.maxLength=s.get();b.value=a.get();b.placeholder=i.get();b.autocomplete="off";b.autocorrect="off";b.inputmode="text";b.addEventListener("input",h);b.addEventListener("focus",f);b.addEventListener("blur",v);g.appendChild(b);n.onChange=O;o.onChange=()=>g.style.display=o.get()?"flex":"none";u.onTriggered=()=>{b.value="";p.set(b.value);d.set(false)};function h(e){p.set(e.target.value);d.set(true)}function f(){c.set(true)}function v(){c.set(false)}function O(){l.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(g);l.set(e)}else if(g.parentElement){g.parentElement.removeChild(g)}}r.onChange=()=>m.textContent=r.get();a.onChange=()=>{b.value=a.get();d.set(false)};i.onChange=()=>b.placeholder=i.get();s.onChange=()=>b.maxLength=s.get();e.onDelete=y;function y(){x(g)}function x(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}}e.toWorkPortsNeedToBeLinked(n)};Ops.User.rambodc.TextInput_Custom1.prototype=new CABLES.Op;CABLES.OPS["a43f61db-3cf5-460b-908f-279e4e9bde23"]={f:Ops.User.rambodc.TextInput_Custom1,objName:"Ops.User.rambodc.TextInput_Custom1"};Ops.String.FilterValidString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("String",""),r=e.inBool("Invalid if null",true),a=e.inBool("Invalid if undefined",true),i=e.inBool("Invalid if empty",true),o=e.inBool("Invalid if 0",true),s=e.outString("Last Valid String"),u=e.outBoolNum("Is Valid");n.onChange=r.onChange=a.onChange=i.onChange=function(){const e=n.get();let t=true;if(t===false)t=false;if(t&&o.get()&&(e===0||e==="0"))t=false;if(t&&r.get()&&e===null)t=false;if(t&&a.get()&&e===undefined)t=false;if(t&&i.get()&&e==="")t=false;u.set(t);if(t)s.set(e)}};Ops.String.FilterValidString.prototype=new CABLES.Op;CABLES.OPS["a522235d-f220-46ea-bc26-13a5b20ec8c6"]={f:Ops.String.FilterValidString,objName:"Ops.String.FilterValidString"};Ops.Boolean.TriggerChangedTrue=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};let n=e.inValueBool("Value",false);let r=e.outTrigger("Next");let a=0;n.onChange=function(){let e=n.get();if(!a&&e){a=true;r.trigger()}else{a=false}}};Ops.Boolean.TriggerChangedTrue.prototype=new CABLES.Op;CABLES.OPS["385197e1-8b34-4d1c-897f-d1386d99e3b3"]={f:Ops.Boolean.TriggerChangedTrue,objName:"Ops.Boolean.TriggerChangedTrue"};Ops.String.Lowercase_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("String"),r=e.outString("Result","");n.onChange=function(){if(n.get()==0)r.set("");else r.set((n.get()||"").toLowerCase())}};Ops.String.Lowercase_v2.prototype=new CABLES.Op;CABLES.OPS["bff9c3d9-e63a-46d2-a59f-932c715aceab"]={f:Ops.String.Lowercase_v2,objName:"Ops.String.Lowercase_v2"};Ops.User.rambodc.FB_FindFriendsByUsername=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inString("Username");const a=e.inString("Own Username");const i=e.inTriggerButton("Clear Outputs");const o=e.outBool("User Exists");const s=e.outBool("User Doesn't Exist");const u=e.outObject("Result");const l=e.outTrigger("Success");n.onTriggered=c;i.onTriggered=p;function p(){o.set(false);s.set(false);u.set(null)}function c(){p();const e=firebase.firestore();const t=r.get();const n=a.get();if(t===n){o.set(false);s.set(true);return}e.collection("users").where("username","==",t).get().then(e=>{if(!e.empty){e.forEach(e=>{o.set(true);s.set(false);u.set(e.data());l.trigger()})}else{o.set(false);s.set(true);u.set(null)}}).catch(e=>{console.error("Error checking username: ",e);o.set(false);s.set(true);u.set(null)})}};Ops.User.rambodc.FB_FindFriendsByUsername.prototype=new CABLES.Op;CABLES.OPS["6202ea7b-7d88-4dfd-b3eb-d2f809d4c993"]={f:Ops.User.rambodc.FB_FindFriendsByUsername,objName:"Ops.User.rambodc.FB_FindFriendsByUsername"};Ops.Vars.VarSetString_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Value","New String");e.varName=e.inDropDown("Variable",[],"",true);new CABLES.VarSetOpWrapper(e,"string",n,e.varName)};Ops.Vars.VarSetString_v2.prototype=new CABLES.Op;CABLES.OPS["0b4d9229-8024-4a30-9cc0-f6653942c2e4"]={f:Ops.Vars.VarSetString_v2,objName:"Ops.Vars.VarSetString_v2"};Ops.Data.JsonPath.ObjectGetArrayByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const o=i.inObject("Object"),s=i.inString("Path"),u=i.outArray("Output"),l=i.outBool("Found");o.onChange=s.onChange=n;s.setUiAttribs({stringTrim:true});s.on("change",t);t();function t(){if(!s.get())i.setUiError("nokey","Missing Key Value");else i.setUiError("nokey",null)}function n(){const t=o.get();const n=s.get();i.setUiError("missing",null);if(t&&n){if(!Array.isArray(t)&&!(typeof t==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof t+" is not travesable by path")}else{i.setUiError("notiterable",null);const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});let e=p(n,t);if(e===undefined){const a="could not find element at path "+n;l.set(false);e=null;i.setUiError("missing",a,2)}else if(!Array.isArray(e)){const a="element at path "+n+" is not an array";l.set(false);e=null;i.setUiError("missing",a,2)}else{l.set(true)}u.setRef(e)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ObjectGetArrayByPath.prototype=new CABLES.Op;CABLES.OPS["a9354531-a42d-4216-ad8c-364df989a9a1"]={f:Ops.Data.JsonPath.ObjectGetArrayByPath,objName:"Ops.Data.JsonPath.ObjectGetArrayByPath"};Ops.User.rambodc.button_customize=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Text","Button"),a=e.inSwitch("Position",["Left","Center","Right"],"Center"),i=e.inString("Background Color","#FFFFFF"),o=e.inString("Text Color","#000000"),s=e.inString("Padding","10px 20px"),u=e.inString("Margin","10px"),l=e.inString("Border Radius","5px"),p=e.inString("Font Weight","normal"),c=e.inString("Font Size","16px"),d=e.inString("CSS Class","unique-sidebar-button"),g=e.inBool("Visible",true);const m=e.outObject("Children");const b=e.outTrigger("Pressed Trigger");let h,f;function v(){if(h&&h.parentNode){h.parentNode.removeChild(h)}h=document.createElement("div");h.classList.add("button-container");h.style.display="flex";h.style.justifyContent=a.get().toLowerCase();h.style.alignItems="center";h.style.margin=u.get();f=document.createElement("div");f.style.display="flex";f.style.justifyContent=a.get().toLowerCase();const e=document.createElement("button");e.textContent=r.get();e.classList.add(d.get());e.style.backgroundColor=i.get();e.style.color=o.get();e.style.padding=s.get();e.style.borderRadius=l.get();e.style.fontWeight=p.get();e.style.fontSize=c.get();e.addEventListener("click",()=>b.trigger());f.appendChild(e);h.appendChild(f);const t=n.get();if(t&&t.parentElement){t.parentElement.appendChild(h);m.set(t)}}function O(){v();y()}r.onChange=O;a.onChange=O;i.onChange=O;o.onChange=O;s.onChange=O;u.onChange=O;l.onChange=O;p.onChange=O;c.onChange=O;d.onChange=O;g.onChange=y;function y(){if(g.get()){h.style.display="flex";const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(h)}}else{h.style.display="none"}}n.onChange=()=>{const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(h);m.set(e)}else if(h&&h.parentNode){h.parentNode.removeChild(h)}};e.onDelete=()=>{if(h&&h.parentNode){h.parentNode.removeChild(h)}};O();const x=e.inString("Hover Background Color","#DDDDDD");const I=e.inString("Hover Text Color","#333333");const S=e.inString("Border Width","0px");const j=e.inString("Border Color","#000000");function _(){const e=f.firstChild;e.style.backgroundColor=x.get();e.style.color=I.get();e.style.borderColor=j.get()}function A(){const e=f.firstChild;e.style.backgroundColor=i.get();e.style.color=o.get();e.style.borderColor="transparent"}function T(){const e=f.firstChild;e.style.borderWidth=S.get();e.style.borderColor=j.get();e.style.borderStyle=S.get()==="0px"?"none":"solid";e.style.cursor="pointer"}function C(){const e=f.firstChild;e.addEventListener("mouseover",_);e.addEventListener("mouseleave",A)}function w(){T();C()}x.onChange=w;I.onChange=w;S.onChange=w;j.onChange=w;function k(){O();w()}r.onChange=k;a.onChange=k;i.onChange=k;o.onChange=k;s.onChange=k;u.onChange=k;l.onChange=k;p.onChange=k;c.onChange=k;d.onChange=k;g.onChange=k;x.onChange=k;I.onChange=k;S.onChange=k;j.onChange=k;k()};Ops.User.rambodc.button_customize.prototype=new CABLES.Op;CABLES.OPS["14b20a59-6228-4154-aa1f-61505ff62a49"]={f:Ops.User.rambodc.button_customize,objName:"Ops.User.rambodc.button_customize"};Ops.User.rambodc.Accumulator1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("Starting Number",0);const r=e.inValueFloat("Increment Number",1);const a=e.inTriggerButton("Trigger");const i=e.inTriggerButton("Clear");const o=e.outNumber("Accumulated Number");let s=0;function u(){s=n.get()||0;o.set(s)}a.onTriggered=function(){const e=r.get()||1;s+=e;o.set(s)};i.onTriggered=function(){s=n.get()||0;o.set(s)};n.onChange=u;u()};Ops.User.rambodc.Accumulator1.prototype=new CABLES.Op;CABLES.OPS["be1fd7af-1e69-4d7c-90cb-b5e7a8d2ebf4"]={f:Ops.User.rambodc.Accumulator1,objName:"Ops.User.rambodc.Accumulator1"};Ops.User.rambodc.Post_Array1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const i=e.inArray("myPosts");const o=e.inBool("Sort Ascending",true);const s=e.inString("Status Must Be","completed");const u=e.inBool("Status Check",true);const l=e.outArray("Output Array");function p(e){if(e.createdAt&&e.createdAt.seconds!==undefined&&e.createdAt.nanoseconds!==undefined){const t=new Date(e.createdAt.seconds*1e3+e.createdAt.nanoseconds/1e6);const n={month:"short",day:"numeric",year:"numeric"};const r=t.toLocaleDateString("en-US",n);return{postId:e.postId,icon:e.thumbnailUrl,title:e.title,description:e.description,timestamp:r,createdAt:t,isArchived:e.isArchived,postType:e.postType,fileFormat:e.fileFormat,status:e.status,fileType:e.fileType,thumbnailUrl:e.thumbnailUrl}}else{return{postId:e.postId,icon:e.thumbnailUrl,title:e.title,description:e.description,timestamp:"Invalid Date",createdAt:new Date(0),isArchived:e.isArchived,postType:e.postType,fileFormat:e.fileFormat,status:e.status,fileType:e.fileType,thumbnailUrl:e.thumbnailUrl}}}function c(e,n){return e.sort((e,t)=>{if(n){return e.createdAt-t.createdAt}else{return t.createdAt-e.createdAt}})}function n(){const t=i.get();const n=o.get();const r=s.get();const a=u.get();if(Array.isArray(t)){let e=t.map(p);if(a){e=e.filter(e=>!e.isArchived&&e.status===r)}else{e=e.filter(e=>!e.isArchived)}e=c(e,n);e=e.map(({createdAt:e,isArchived:t,...n})=>n);l.set(e)}else{e.setUiError("inputError","Input is not a valid array.")}}i.onChange=n;o.onChange=n;s.onChange=n;u.onChange=n;n()};Ops.User.rambodc.Post_Array1.prototype=new CABLES.Op;CABLES.OPS["fc63c910-5aec-4abe-bccf-d4460b85090b"]={f:Ops.User.rambodc.Post_Array1,objName:"Ops.User.rambodc.Post_Array1"};Ops.Json.ObjectIsNull=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Object");const r=e.outBoolNum("Result");n.onChange=function(){r.set(!n.get())}};Ops.Json.ObjectIsNull.prototype=new CABLES.Op;CABLES.OPS["2fd858a8-3dff-43e4-bd85-a62c7d23b5a2"]={f:Ops.Json.ObjectIsNull,objName:"Ops.Json.ObjectIsNull"};Ops.User.rambodc.Background_Square=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Image URL",""),a=e.inValue("Size",100),i=e.inSwitch("Position",["Left","Center","Right"],"Center"),o=e.inValue("Corner",10),s=e.inBool("Visible",true);const u=e.outObject("Children");let l,p,c;function d(){if(l&&l.parentNode){l.parentNode.removeChild(l)}l=document.createElement("div");l.classList.add("image-container");l.style.display="flex";l.style.justifyContent="center";l.style.alignItems="center";l.style.width="100%";l.style.height=a.get()+"px";l.style.overflow="hidden";l.style.margin="0px 0px 0px 0px";l.style.borderRadius=o.get()+"px";p=document.createElement("div");p.style.display="flex";p.style.justifyContent=i.get().toLowerCase();p.style.width="100%";c=document.createElement("div");c.style.width=a.get()+"px";c.style.height=a.get()+"px";c.style.overflow="hidden";c.style.display="flex";c.style.justifyContent="center";c.style.alignItems="center";const e=document.createElement("img");e.src=r.get();e.alt="Sidebar Image";e.style.width="100%";e.style.height="100%";e.style.objectFit="cover";e.style.borderRadius=o.get()+"px";c.appendChild(e);p.appendChild(c);l.appendChild(p);const t=n.get();if(t&&t.parentElement){t.parentElement.appendChild(l);u.set(t)}}function g(){d();m()}r.onChange=g;a.onChange=g;i.onChange=g;o.onChange=g;s.onChange=m;function m(){l.style.display=s.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(l);u.set(e)}else if(l&&l.parentNode){l.parentNode.removeChild(l)}};e.onDelete=()=>{if(l&&l.parentNode){l.parentNode.removeChild(l)}};g()};Ops.User.rambodc.Background_Square.prototype=new CABLES.Op;CABLES.OPS["c2fee589-4b31-422d-ba28-b8efb762f8c0"]={f:Ops.User.rambodc.Background_Square,objName:"Ops.User.rambodc.Background_Square"};Ops.User.rambodc.Background2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Image URL",""),a=e.inSwitch("Position",["Left","Center","Right"],"Center"),i=e.inValue("Corner",10),o=e.inBool("Visible",true);const s=e.outObject("Children");let u,l,p;function c(){if(!u){u=document.createElement("div");u.classList.add("image-container");u.style.display="flex";u.style.justifyContent="center";u.style.alignItems="center";u.style.overflow="hidden";u.style.margin="0px 0px 0px 0px";u.style.borderRadius=i.get()+"px"}else{u.style.borderRadius=i.get()+"px"}if(!l){l=document.createElement("div");l.style.width="100%";l.style.display="flex";l.style.padding="0px";u.appendChild(l)}l.style.justifyContent=a.get().toLowerCase();if(!p){p=document.createElement("img");p.alt="Sidebar Image";p.style.width="100%";p.style.height="auto";p.style.objectFit="cover";p.style.borderRadius=i.get()+"px";l.appendChild(p)}else{p.style.borderRadius=i.get()+"px"}const e=n.get();if(e&&e.parentElement&&!u.parentElement){e.parentElement.appendChild(u);s.set(e)}}function d(){c();g();m()}function g(){const e=r.get();if(e){p.src=e}}r.onChange=g;a.onChange=d;i.onChange=d;o.onChange=m;function m(){u.style.display=o.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement&&!u.parentElement){e.parentElement.appendChild(u);s.set(e)}else if(!e&&u&&u.parentNode){u.parentNode.removeChild(u)}};e.onDelete=()=>{if(u&&u.parentNode){u.parentNode.removeChild(u)}};d()};Ops.User.rambodc.Background2.prototype=new CABLES.Op;CABLES.OPS["3d59862b-bc5d-4e19-8aca-40d7e281492d"]={f:Ops.User.rambodc.Background2,objName:"Ops.User.rambodc.Background2"};Ops.User.rambodc.Background_square2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Image URL",""),a=e.inValue("Diameter",200),i=e.inBool("Visible",true);const o=e.outObject("Children");let s,u;function l(){if(!s){s=document.createElement("div");s.classList.add("outer-container");s.style.display="flex";s.style.justifyContent="center";s.style.alignItems="center";s.style.margin="0px auto";s.style.overflow="hidden"}if(!u){u=document.createElement("div");u.classList.add("image-element");u.style.borderRadius="50%";u.style.overflow="hidden";u.style.backgroundSize="cover";u.style.backgroundPosition="center";u.style.backgroundRepeat="no-repeat";s.appendChild(u)}const e=n.get();if(e&&e.parentElement&&!s.parentElement){e.parentElement.appendChild(s);o.set(e)}}function p(){const e=a.get()+"px";u.style.width=e;u.style.height=e;s.style.width=e;s.style.height=e}function c(){const e=r.get();if(e){u.style.backgroundImage=`url(${e})`}}function d(){l();c();p();g()}r.onChange=()=>{c();p()};a.onChange=()=>{p()};i.onChange=g;function g(){s.style.display=i.get()?"flex":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement&&!s.parentElement){e.parentElement.appendChild(s);o.set(e)}else if(!e&&s&&s.parentNode){s.parentNode.removeChild(s)}};e.onDelete=()=>{if(s&&s.parentNode){s.parentNode.removeChild(s)}};d()};Ops.User.rambodc.Background_square2.prototype=new CABLES.Op;CABLES.OPS["a8fc7361-9f03-43ca-8284-f00bceb0a311"]={f:Ops.User.rambodc.Background_square2,objName:"Ops.User.rambodc.Background_square2"};Ops.User.rambodc.List7=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Users",[]);const a=e.inValue("First Page Number",10);const i=e.outObject("Children");const d=e.outTrigger("Button Pressed");const g=e.outValue("Button Index");const m=e.outObject("Selected Object");const o=e.outBool("Has Second Page");const b=document.createElement("div");b.dataset.op=e.id;let h=[];let s=[];let u=10;function f(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function l(){h.forEach(e=>b.removeChild(e));h=[];s=r.get()||[];u=a.get()||10;if(!Array.isArray(s)){console.error("Invalid users array");return}const e=s.filter(e=>e.isActive);const t=e.length>u;o.set(t);const c=e.slice(0,u);c.forEach((e,t)=>{const n=document.createElement("div");n.style.position="relative";n.style.cursor="pointer";n.style.backgroundColor="rgba(255,255,255,0)";n.style.margin="1px";n.style.padding="0px";n.style.height="80px";n.style.display="flex";n.style.alignItems="center";n.addEventListener("mouseover",function(){this.style.backgroundColor="rgba(255,255,255,0.02)"});n.addEventListener("mouseout",function(){this.style.backgroundColor="rgba(255,255,255,0)"});n.addEventListener("click",e=>{e.stopPropagation();g.set(t);m.set(c[t]);d.trigger()});const r=document.createElement("img");r.src=e.profilePhoto200Url||"";r.style.margin="5px";r.style.padding="5px";r.style.width="60px";r.style.height="60px";r.style.borderRadius="50%";r.style.objectFit="cover";n.appendChild(r);const a=document.createElement("div");a.style.flexGrow="1";a.style.textAlign="left";a.style.color="rgba(255,255,255,1)";a.style.lineHeight="1.5";const i=document.createElement("div");i.style.fontSize="15px";i.style.fontWeight="bold";const o=`${e.firstName||""} ${e.lastName||""}`.trim();const s=document.createTextNode(f(o));i.appendChild(s);const u=document.createElement("div");u.style.fontSize="14px";u.style.fontWeight="normal";u.style.color="rgba(255,255,255,0.7)";const l=document.createTextNode(f(e.username||""));u.appendChild(l);a.appendChild(i);a.appendChild(u);n.appendChild(a);const p=document.createElement("div");p.style.width="30%";p.style.textAlign="right";p.style.marginRight="10px";p.style.padding="5px";n.appendChild(p);b.appendChild(n);h.push(n)})}function p(){if(s.length>u){u+=10;a.set(u);l()}}function c(){i.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(b);i.set(e)}else{if(b.parentElement){b.parentElement.removeChild(b)}}}n.onChange=c;r.onChange=l;a.onChange=l;e.onDelete=function(){if(b.parentNode){b.parentNode.removeChild(b)}};c()};Ops.User.rambodc.List7.prototype=new CABLES.Op;CABLES.OPS["1e5576e9-79b1-463f-b15b-12a994bb6a6c"]={f:Ops.User.rambodc.List7,objName:"Ops.User.rambodc.List7"};Ops.User.rambodc.IsFollowing1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("User Object");const r=e.inString("Compare UID");const a=e.inTriggerButton("Check Following");const i=e.outBool("Is Following");const o=e.outString("Button Color");const s=e.outString("Button Text");const u=e.outTrigger("True Trigger");const l=e.outTrigger("False Trigger");function p(e,t){if(!e||!e.myFollowing||!e.myFollowing.following){i.set(false);o.set("rgba(44, 199, 85,0.1)");s.set("Follow");return}const n=e.myFollowing.following.some(e=>e.uid===t&&e.isActive===true);i.set(n);const r=n?"rgba(255,255,255,0.1)":"rgba(44, 199, 85,0.7)";const a=n?"Following":"Follow";o.set(r);s.set(a)}function c(){const e=i.get();if(e){u.trigger()}else{l.trigger()}}n.onChange=()=>p(n.get(),r.get());r.onChange=()=>p(n.get(),r.get());a.onTriggered=c};Ops.User.rambodc.IsFollowing1.prototype=new CABLES.Op;CABLES.OPS["0e403d96-3ef9-4a2e-ad97-649762b459b8"]={f:Ops.User.rambodc.IsFollowing1,objName:"Ops.User.rambodc.IsFollowing1"};Ops.User.rambodc.Array_reset_auto=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inArray("Input Array",[]);const r=e.outArray("Output Array",[]);function a(){const e=n.get();if(e&&Array.isArray(e)&&e.length>0){r.set(e)}else{i()}}function i(){r.set([])}n.onChange=a};Ops.User.rambodc.Array_reset_auto.prototype=new CABLES.Op;CABLES.OPS["70b1e9b1-ae36-4088-9d4f-c7869be663cd"]={f:Ops.User.rambodc.Array_reset_auto,objName:"Ops.User.rambodc.Array_reset_auto"};Ops.User.rambodc.Sidebar_Text_customize=function(){CABLES.Op.apply(this,arguments);const t=this;const D=t.attachments={};const n=t.inObject("link");const r=t.inString("Text");const e=t.inValueString("Id","");const a=t.inTriggerButton("Clear");const i=t.inBool("Visible",true);const o=t.inBool("Button",false);const s=t.inString("Text Color","rgba(255,255,255,1)");const u=t.inString("Text Size","16px");const l=t.inString("Line Height","1.5");const p=t.inBool("Bold",false);const c=t.inString("Background Color","rgba(255,255,255,0.1)");const d=t.inString("Hover Color","rgba(255,255,255,0.3)");const g=t.inString("Margin","10px");const m=t.inString("Padding","10px");const b=t.inString("Height","auto");const h=t.inString("Width","auto");const f=t.inString("Text Align","left");const v=t.inString("Border Radius","5px");const O=t.outObject("childs");const y=t.outTrigger("Clicked");const x=document.createElement("div");x.dataset.op=t.id;x.classList.add("cablesEle");x.classList.add("sidebar__item");x.classList.add("sidebar__text");const I=document.createElement("div");I.classList.add("sidebar__item-label-v2");const S=document.createElement("div");I.appendChild(S);x.appendChild(I);n.onChange=w;r.onChange=C;e.onChange=T;a.onTriggered=A;t.onDelete=L;i.onChange=_;o.onChange=k;s.onChange=j;u.onChange=j;l.onChange=j;p.onChange=j;c.onChange=j;d.onChange=j;g.onChange=j;m.onChange=j;b.onChange=j;h.onChange=j;f.onChange=j;v.onChange=j;t.toWorkNeedsParent("Ops.Sidebar.Sidebar");function j(){I.style.setProperty("color",s.get(),"important");I.style.fontSize=u.get();I.style.lineHeight=l.get();I.style.fontWeight=p.get()?"bold":"normal";I.style.whiteSpace="pre-line";x.style.backgroundColor=c.get();x.style.margin=g.get();x.style.padding=m.get();x.style.height=b.get();x.style.width=h.get();x.style.textAlign=f.get();x.style.borderRadius=v.get();if(o.get()){x.style.cursor="pointer";x.style.transition="background-color 0.3s"}else{x.style.cursor="default"}}function _(){x.style.display=i.get()?"block":"none"}function A(){r.set("");C()}function T(){x.id=e.get()}function C(){const e=r.get();I.innerHTML=e;if(CABLES.UI){if(e&&typeof e==="string"){t.setTitle("Text: "+e.substring(0,10))}else{t.setTitle("Text")}}}function w(){O.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(x);O.set(e)}else{if(x.parentElement){x.parentElement.removeChild(x)}}}function k(){if(o.get()){x.addEventListener("click",N);x.addEventListener("mouseover",P);x.addEventListener("mouseout",E)}else{x.removeEventListener("click",N);x.removeEventListener("mouseover",P);x.removeEventListener("mouseout",E)}j()}function N(){y.trigger()}function P(){x.style.backgroundColor=d.get()}function E(){x.style.backgroundColor=c.get()}function L(){M(x)}function M(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.User.rambodc.Sidebar_Text_customize.prototype=new CABLES.Op;CABLES.OPS["4d16ae29-1e59-489c-b582-14213a3f4ff6"]={f:Ops.User.rambodc.Sidebar_Text_customize,objName:"Ops.User.rambodc.Sidebar_Text_customize"};Ops.User.rambodc.FunctionCalls1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Create FunctionCall");const r=e.inString("UID","");const a=e.inString("First Name","");const i=e.inString("Last Name","");const o=e.inObject("Parameters",{});const s=e.inString("Function Name","");const u=e.inString("IP","");const l=e.inObject("IPv6",{});const p=e.inString("Timezone","");const c=e.inString("User Status","");const d=e.outBoolNum("Error",false);const g=e.outString("Error Message","");const m=e.outString("Created Document ID","");const b=e.outTrigger("Success");const h=e.outTrigger("Failure");const f=e.outString("Status","pending");const v=e.outObject("Data",{});const O=e.outObject("Full Object",{});const y=e.outTrigger("Pending Status");const x=e.outTrigger("Processing Status");const I=e.outTrigger("Completed Status");const S=e.outTrigger("Error Status");const j=e.outTrigger("Concurrency Error Status");const _=e.outBoolNum("Connected",false);const A=e.outBoolNum("Loading",false);n.onTriggered=function(){A.set(true);const e=firebase.firestore();const t=e.collection("functionCalls");let n={functionName:s.get(),uid:r.get(),firstName:a.get(),lastName:i.get(),status:"pending",created:firebase.firestore.FieldValue.serverTimestamp(),parameters:o.get(),ip:u.get(),IPv6:l.get(),timezone:p.get(),userStatus:c.get(),response:{result:null,data:{},errorMessage:null,completed:null,error:null}};t.add(n).then(e=>{d.set(false);g.set("");m.set(e.id);T(e.id);b.trigger()}).catch(e=>{d.set(true);g.set(e.message);h.trigger();A.set(false)})};function T(e){const t=firebase.firestore().collection("functionCalls").doc(e);let n=t.onSnapshot(e=>{_.set(true);if(e.exists){const t=e.data();f.set(t.status||"pending");O.set(t);if(t.status==="pending"){y.trigger()}else if(t.status==="processing"){x.trigger()}else if(t.status==="completed"||t.status==="error"||t.status==="concurrencyError"){if(t.status==="completed"){I.trigger();v.set(t.response.data)}else if(t.status==="error"){S.trigger();g.set(t.response.errorMessage)}else if(t.status==="concurrencyError"){j.trigger();g.set(t.response.errorMessage)}if(t.status==="completed"||t.status==="error"){n();_.set(false);A.set(false)}}}},e=>{d.set(true);g.set("Failed to listen to document updates: "+e.message);n();_.set(false);A.set(false)})}};Ops.User.rambodc.FunctionCalls1.prototype=new CABLES.Op;CABLES.OPS["93132489-6f18-4da0-a6ca-0c94a62ea785"]={f:Ops.User.rambodc.FunctionCalls1,objName:"Ops.User.rambodc.FunctionCalls1"};Ops.Trigger.TriggerOnChangeString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("String"),r=e.outTrigger("Changed"),a=e.outString("Result");a.ignoreValueSerialize=true;n.onChange=function(){a.set(n.get());r.trigger()}};Ops.Trigger.TriggerOnChangeString.prototype=new CABLES.Op;CABLES.OPS["319d07e0-5cbe-4bc1-89fb-a934fd41b0c4"]={f:Ops.Trigger.TriggerOnChangeString,objName:"Ops.Trigger.TriggerOnChangeString"};Ops.User.rambodc.Post_NextButton=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inArray("Posts Array");const r=e.inString("Starting Post ID");const a=e.inTriggerButton("Next Trigger");const i=e.outString("Post ID");const o=e.outBool("Next Exists",false);const s=e.outTrigger("Next Found");const u=e.outTrigger("Next Not Found");let l=[];let p=-1;function c(){l=n.get()||[];const t=r.get();l=l.filter(e=>e.isArchived===false&&e.status==="completed");p=l.findIndex(e=>e.postId===t);if(p!==-1){p++}else{p=0}}a.onTriggered=()=>{if(l.length===0){c()}while(p<l.length){const e=l[p];p++;if(e&&!e.isArchived&&e.status==="completed"){i.set(e.postId);o.set(true);s.trigger();return}}o.set(false);u.trigger()};n.onChange=c;r.onChange=c};Ops.User.rambodc.Post_NextButton.prototype=new CABLES.Op;CABLES.OPS["a51d7016-9e7b-435a-94aa-b3a15bf1878c"]={f:Ops.User.rambodc.Post_NextButton,objName:"Ops.User.rambodc.Post_NextButton"};Ops.User.rambodc.Button_icon2=function(){CABLES.Op.apply(this,arguments);const e=this;const D=e.attachments={};const t=e.inObject("link");const n=e.inString("Icon","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2FAccountsNodes.png?alt=media&token=36471c6c-5487-491f-ac31-76eddf2abd5d");const r=e.inString("Text","Button");const a=e.inString("Text 2","Second Line");const i=e.inString("Button Text Right","Click Me");const o=e.inString("Button Color Right","#ff0000");const s=e.inString("Button Text Color Right","#ffffff");const u=e.inString("Button Hover Color Right","#cc0000");const l=e.inValue("Corners",0);const p=e.inValue("Image Size",50);const c=e.inBool("Show Right Button",true);const d=e.outObject("childs");const g=e.outTrigger("Button Right Pressed");const m=e.outTrigger("Icon Pressed");const b=e.outTrigger("Text 1 Pressed");const M=e.outTrigger("Text 2 Pressed");const h=e.inBool("Visible",true);const f=document.createElement("div");f.dataset.op=e.id;f.style.height="60px";f.style.display="flex";f.style.justifyContent="space-between";f.style.alignItems="center";f.style.backgroundColor="transparent";f.style.padding="2px 10px";f.style.transition="background-color 0.3s, border-color 0.3s";f.style.fontSize="16px";f.style.color="white";f.style.border="none";const v=document.createElement("div");v.style.display="flex";v.style.alignItems="center";v.style.flex="1";f.appendChild(v);const O=document.createElement("img");O.src=n.get();O.style.width=`${p.get()}px`;O.style.height=`${p.get()}px`;O.style.objectFit="cover";O.style.borderRadius=`${l.get()}px`;O.style.cursor="pointer";O.addEventListener("click",R);v.appendChild(O);const y=document.createElement("div");y.style.display="flex";y.style.flexDirection="column";y.style.justifyContent="center";y.style.lineHeight="1.2";y.style.marginLeft="10px";v.appendChild(y);const x=document.createElement("div");x.style.textAlign="left";x.style.fontWeight="bold";x.style.marginBottom="5px";x.style.cursor="pointer";x.addEventListener("click",U);y.appendChild(x);const B=document.createTextNode(r.get());x.appendChild(B);const I=document.createElement("div");I.style.textAlign="left";I.style.fontSize="14px";I.style.cursor="pointer";I.addEventListener("click",F);y.appendChild(I);const z=document.createTextNode(a.get());I.appendChild(z);const S=document.createElement("div");S.style.display="flex";S.style.alignItems="center";f.appendChild(S);const j=document.createElement("button");j.innerText=i.get();j.style.backgroundColor=o.get();j.style.color=s.get();j.style.border="none";j.style.padding="10px 20px";j.style.fontSize="14px";j.style.cursor="pointer";j.style.borderRadius="5px";j.addEventListener("click",V);j.addEventListener("mouseenter",G);j.addEventListener("mouseleave",H);S.appendChild(j);e.toWorkNeedsParent("Ops.Sidebar.Sidebar");t.onChange=A;r.onChange=a.onChange=_;n.onChange=T;i.onChange=C;o.onChange=w;s.onChange=k;u.onChange=q;l.onChange=N;p.onChange=P;c.onChange=E;e.onDelete=W;h.onChange=L;function V(){g.trigger()}function R(){m.trigger()}function U(){b.trigger()}function F(){M.trigger()}function G(){j.style.backgroundColor=u.get()}function H(){j.style.backgroundColor=o.get()}function _(){x.textContent=r.get();I.textContent=a.get();if(CABLES.UI){e.setTitle("Button: "+r.get()+"\n"+a.get())}}function A(){d.set(null);const e=t.get();if(e&&e.parentElement){e.parentElement.appendChild(f);d.set(e)}else{if(f.parentElement){f.parentElement.removeChild(f)}}}function T(){O.src=n.get()}function C(){j.innerText=i.get()}function w(){j.style.backgroundColor=o.get()}function k(){j.style.setProperty("color",s.get(),"important")}function q(){}function N(){O.style.borderRadius=`${l.get()}px`}function P(){O.style.width=`${p.get()}px`;O.style.height=`${p.get()}px`}function E(){S.style.display=c.get()?"flex":"none"}function L(){f.style.display=h.get()?"flex":"none"}function W(){X(f)}function X(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}L();A();_();T();C();w();k();N();P();E()};Ops.User.rambodc.Button_icon2.prototype=new CABLES.Op;CABLES.OPS["14cceab4-1059-426d-872e-f99846c0aa19"]={f:Ops.User.rambodc.Button_icon2,objName:"Ops.User.rambodc.Button_icon2"};Ops.Ui.VizArrayTable=function(){CABLES.Op.apply(this,arguments);const m=this;const e=m.attachments={};const b=m.inArray("Array"),h=m.inInt("Stride",0),f=m.inInt("Start Row",0);m.setUiAttrib({height:200,width:400,resizable:true,vizLayerMaxZoom:2500});function v(t){let n="";if(typeof t=="string"){n='"'+t+'"'}else if(CABLES.UTILS.isNumeric(t))n=String(Math.round(t*1e4)/1e4);else if(Array.isArray(t)){let e="...";if(t.length==0)e="";n="["+e+"] ("+t.length+")"}else if(typeof t=="object"){try{n=JSON.stringify(t,true,1)}catch(e){n="{???}"}}else if(t!=t||t===undefined){n+=String(t)}else{n+=String(t)}return n}m.renderVizLayer=(r,a)=>{r.fillStyle="#222";r.fillRect(a.x,a.y,a.width,a.height);r.save();r.scale(a.scale,a.scale);r.font="normal 10px sourceCodePro";r.fillStyle="#ccc";const i=b.get()||[];let o=h.get()||1;if(b.get()===null)m.setUiAttrib({extendTitle:"null"});else if(b.get()===undefined)m.setUiAttrib({extendTitle:"undefined"});else m.setUiAttrib({extendTitle:"length: "+i.length});if(b.links.length>0&&b.links[0].getOtherPort(b))o=b.links[0].getOtherPort(b).uiAttribs.stride||h.get()||1;if(i.length%o!=0)m.setUiError("stride","stride does not fit length of array. some values may not be shown",1);else m.setUiError("stride",null);let e=Math.floor(a.height/a.scale/10-1);let s=4;let u=f.get()*o;let n=[];for(let e=0;e<o;e++)n[e]=0;for(let t=u;t<u+e*o;t+=o){for(let e=0;e<o;e++){const c=i[t+e];n[e]=Math.max(n[e],v(c).length)}}let l=[];let t=30;for(let e=0;e<o;e++){l[e]=t;t+=(n[e]+1)*7}for(let n=u;n<u+e*o;n+=o){if(n<0)continue;if(n+o>i.length)continue;r.fillStyle="#666";const d=n/o;if(d>=0)r.fillText(d,a.x/a.scale+s,a.y/a.scale+10+(n-u)/o*10+s);for(let e=0;e<o;e++){const c=i[n+e];let t=v(c);r.fillStyle="#ccc";if(typeof c=="string"){t=c}else if(CABLES.UTILS.isNumeric(c))t=String(Math.round(c*1e4)/1e4);else if(Array.isArray(c)){t=JSON.stringify(c)}else if(typeof c=="object"){try{t=JSON.stringify(c)}catch(e){t="{object}"}}else if(c!=c||c===undefined){r.fillStyle="#f00";t="?"}r.fillText(t,a.x/a.scale+l[e],a.y/a.scale+10+(n-u)/o*10+s)}}if(b.get()===null)r.fillText("null",a.x/a.scale+10,a.y/a.scale+10+s);else if(b.get()===undefined)r.fillText("undefined",a.x/a.scale+10,a.y/a.scale+10+s);const p=30;if(a.scale<=0)return;if(u>0){const g=r.createLinearGradient(0,a.y/a.scale+5,0,a.y/a.scale+p);g.addColorStop(0,"#222");g.addColorStop(1,"rgba(34,34,34,0.0)");r.fillStyle=g;r.fillRect(a.x/a.scale,a.y/a.scale,2e5,p)}if(u+e*o<i.length){const g=r.createLinearGradient(0,a.y/a.scale+a.height/a.scale-p+5,0,a.y/a.scale+a.height/a.scale-p+p);g.addColorStop(1,"#222");g.addColorStop(0,"rgba(34,34,34,0.0)");r.fillStyle=g;r.fillRect(a.x/a.scale,a.y/a.scale+a.height/a.scale-p,2e5,p)}r.restore()}};Ops.Ui.VizArrayTable.prototype=new CABLES.Op;CABLES.OPS["af2eeaaf-ff86-4bfb-9a27-42f05160a5d8"]={f:Ops.Ui.VizArrayTable,objName:"Ops.Ui.VizArrayTable"};Ops.User.rambodc.Fb_query_post_trans=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Fetch");const o=e.inString("Post ID","");const s=e.inValue("Page Size",10);const u=e.inString("Next Page Token Input","");const l=e.outArray("Documents");const p=e.outBool("No Documents Found");const c=e.outString("Error Message");const d=e.outString("Next Page Token Output");const g=e.outTrigger("Success");const m=e.outTrigger("Error");let b;function h(){if(!b){try{b=firebase.firestore();console.log("Firestore initialized successfully.")}catch(e){console.error("Firebase is not initialized.",e);c.set("Firebase is not initialized.");m.trigger();return false}}return true}n.onTriggered=function(){try{console.log("Fetch triggered.");if(!h())return;const n=o.get();let e=s.get();const r=u.get();if(!n){console.error("Post ID is required.");c.set("Post ID is required.");m.trigger();return}if(e<=0){console.error("Page Size must be a positive number.");c.set("Page Size must be a positive number.");m.trigger();return}const a=b.collection("transactions");let t=a.where("postId","==",n).orderBy("createdAt","desc").limit(e);if(r){const i=new firebase.firestore.Timestamp(parseInt(r.split("_"))[0],parseInt(r.split("_"))[1]);t=t.startAfter(i)}t.get().then(e=>{console.log("Query executed.");let n=[];let r=null;if(!e.empty){e.forEach(e=>{const t=e.data();t.id=e.id;n.push(t);r=e});console.log("Documents found: ",n);l.set(n);p.set(false);g.trigger();if(r){d.set(r.data().createdAt.seconds+"_"+r.data().createdAt.nanoseconds)}else{d.set("")}}else{console.log("No documents found.");p.set(true);l.set(null);m.trigger()}}).catch(e=>{console.error("Error fetching Firestore documents: ",e);c.set("Error fetching Firestore documents: "+e.message);m.trigger()})}catch(e){console.error("An unexpected error occurred: ",e);c.set("An unexpected error occurred: "+e.message);m.trigger()}}};Ops.User.rambodc.Fb_query_post_trans.prototype=new CABLES.Op;CABLES.OPS["96fb78b8-324f-4486-bdce-a5a6df8957dc"]={f:Ops.User.rambodc.Fb_query_post_trans,objName:"Ops.User.rambodc.Fb_query_post_trans"};Ops.User.rambodc.Background3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Image URL",""),a=e.inBool("Visible",true),i=e.inValue("Max Height",200),o=e.inString("Maximize Icon URL",""),s=e.inString("Minimize Icon URL",""),u=e.inTriggerButton("Minimize");const l=e.outObject("Children"),p=e.outBool("Is Maximized",false);let c,d,g,m;let b=false;function h(){if(!c){c=document.createElement("div");c.classList.add("image-container");c.style.display="flex";c.style.justifyContent="center";c.style.alignItems="center";c.style.overflow="hidden";c.style.margin="0px";c.style.position="relative"}if(!d){d=document.createElement("div");d.style.width="100%";d.style.display="flex";d.style.padding="0px";c.appendChild(d)}if(!g){g=document.createElement("img");g.alt="Sidebar Image";g.style.width="100%";g.style.objectFit="cover";g.style.position="relative";d.appendChild(g)}if(!m){m=document.createElement("img");m.style.position="absolute";m.style.width="30px";m.style.height="30px";m.style.bottom="10px";m.style.right="10px";m.style.cursor="pointer";c.appendChild(m);m.addEventListener("click",f)}const e=n.get();if(e&&e.parentElement&&!c.parentElement){e.parentElement.appendChild(c);l.set(e)}O()}function f(){b=!b;v();O();p.set(b)}function v(){if(b){c.style.height="100%";g.style.width="100%";g.style.height="100%";g.style.objectFit="contain"}else{const e=g.naturalHeight>g.naturalWidth;if(e){g.style.width="100%";g.style.height="auto";c.style.height=i.get()+"px";g.style.objectFit="cover"}else{c.style.height="auto";g.style.width="100%";g.style.height="auto";g.style.objectFit="cover"}}}function O(){const e=g.naturalHeight>g.naturalWidth;if(e){m.style.display="block";if(b){m.src=s.get()}else{m.src=o.get()}}else{m.style.display="none"}}u.onTriggered=()=>{b=false;v();O();p.set(b)};function y(){h();x();I()}function x(){const e=r.get();if(e){g.src=e;g.onload=function(){const e=g.naturalHeight>g.naturalWidth;if(e){g.style.width="100%";g.style.height="auto";c.style.height=i.get()+"px";g.style.objectFit="cover"}else{c.style.height="auto";g.style.width="100%";g.style.height="auto";g.style.objectFit="cover"}O()}}}r.onChange=x;i.onChange=y;o.onChange=O;s.onChange=O;a.onChange=I;function I(){c.style.display=a.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement&&!c.parentElement){e.parentElement.appendChild(c);l.set(e)}else if(!e&&c&&c.parentNode){c.parentNode.removeChild(c)}};e.onDelete=()=>{if(c&&c.parentNode){c.parentNode.removeChild(c)}};y()};Ops.User.rambodc.Background3.prototype=new CABLES.Op;CABLES.OPS["c621e75f-6672-413b-9f1e-56b0de3cc56e"]={f:Ops.User.rambodc.Background3,objName:"Ops.User.rambodc.Background3"};Ops.User.rambodc.List10_PostTran=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Input Data Array",[]);const d=e.inString("Icon URL","");const a=e.inValue("First Page Number",10);const i=e.inTriggerButton("Trigger Second Page");const o=e.outObject("Children");const g=e.outTrigger("Button Pressed");const m=e.outValue("Button Index");const b=e.outObject("Selected Object");const s=e.outBool("Has Second Page");const h=document.createElement("div");h.dataset.op=e.id;let f=[];let u=[];let l=10;function v(e){const t=new Date;const n=new Date(e.seconds*1e3);const r=Math.floor((t-n)/1e3);let a=Math.floor(r/31536e3);if(a>=1)return a+"y";a=Math.floor(r/2592e3);if(a>=1)return a+"mo";a=Math.floor(r/86400);if(a>=1)return a+"d";a=Math.floor(r/3600);if(a>=1)return a+"h";a=Math.floor(r/60);if(a>=1)return a+"min";return Math.floor(r)+"s"}function p(){f.forEach(e=>h.removeChild(e));f=[];u=r.get()||[];l=a.get()||10;const e=u.length>l;s.set(e);const c=u.slice(0,l);c.forEach((t,n)=>{try{const r=document.createElement("div");r.style.position="relative";r.style.cursor="pointer";r.style.margin="1px";r.style.padding="0px";r.style.height="50px";r.style.display="flex";r.style.alignItems="center";r.addEventListener("click",e=>{e.stopPropagation();m.set(n);b.set(c[n]);g.trigger()});let e=d.get()||"https://via.placeholder.com/60";const a=document.createElement("img");a.src=e;a.style.margin="5px";a.style.padding="5px";a.style.width="30px";a.style.height="30px";a.style.borderRadius="50%";a.style.objectFit="cover";r.appendChild(a);const i=document.createElement("div");i.style.flexGrow="1";i.style.textAlign="left";i.style.color="rgba(255,255,255,1)";i.style.lineHeight="1.5";const o=document.createElement("div");o.style.fontSize="13px";o.style.fontWeight="bold";const s=`Collected ${t.sender.amount} ${t.sender.currency}`;const u=document.createTextNode(s);o.appendChild(u);i.appendChild(o);r.appendChild(i);const l=document.createElement("div");l.style.width="30%";l.style.textAlign="right";l.style.marginRight="10px";l.style.padding="5px";const p=document.createTextNode(v(t.createdAt||{seconds:0}));l.appendChild(p);r.appendChild(l);h.appendChild(r);f.push(r)}catch(e){console.error("Error rendering item:",e,t)}})}function c(){if(u.length>l){l+=10;a.set(l);p()}}function O(){o.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(h);o.set(e)}else{if(h.parentElement){h.parentElement.removeChild(h)}}}n.onChange=O;r.onChange=p;a.onChange=p;i.onChange=c;e.onDelete=function(){if(h.parentNode){h.parentNode.removeChild(h)}};O()};Ops.User.rambodc.List10_PostTran.prototype=new CABLES.Op;CABLES.OPS["15e172c9-9c7f-4a15-b16f-551a6977f799"]={f:Ops.User.rambodc.List10_PostTran,objName:"Ops.User.rambodc.List10_PostTran"};Ops.User.rambodc.Back_Home_Bar=function(){CABLES.Op.apply(this,arguments);const t=this;const D=t.attachments={};const n=t.inObject("link");const r=t.inString("Text");const e=t.inValueString("Id","");const a=t.inTriggerButton("Clear");const i=t.inBool("Visible",true);const o=t.inBool("Button",false);const s=t.inString("Text Color","rgba(255,255,255,1)");const u=t.inString("Text Size","16px");const l=t.inString("Line Height","1.5");const p=t.inBool("Bold",false);const c=t.inString("Background Color","rgba(255,255,255,0.1)");const d=t.inString("Hover Color","rgba(255,255,255,0.3)");const g=t.inString("Margin","10px");const m=t.inString("Padding","10px");const b=t.inString("Height","auto");const h=t.inString("Width","100%");const f=t.inString("Text Align","center");const v=t.inString("Border Radius","5px");const O=t.inString("Icon URL","");const y=t.outObject("childs");const x=t.outTrigger("Clicked");const I=t.outTrigger("Icon Clicked");const S=document.createElement("div");S.dataset.op=t.id;S.classList.add("cablesEle");S.classList.add("sidebar__item");S.style.display="flex";S.style.justifyContent="space-between";S.style.alignItems="center";const j=document.createElement("div");j.classList.add("sidebar__item-label-button");j.style.flex="0 0 60px";j.style.cursor="pointer";j.style.transition="background-color 0.3s";j.style.display="flex";j.style.alignItems="center";const _=document.createElement("div");_.classList.add("sidebar__item-label-v2");j.appendChild(_);S.appendChild(j);const A=document.createElement("div");A.classList.add("sidebar__item-icon");A.style.width="30px";A.style.height="30px";A.style.backgroundSize="cover";A.style.cursor="pointer";A.style.marginLeft="auto";A.style.transition="transform 1s cubic-bezier(0.68, -0.55, 0.27, 1.55)";S.appendChild(A);n.onChange=M;r.onChange=N;e.onChange=k;a.onTriggered=w;t.onDelete=V;i.onChange=C;o.onChange=B;O.onChange=z;s.onChange=T;u.onChange=T;l.onChange=T;p.onChange=T;c.onChange=T;d.onChange=T;g.onChange=T;m.onChange=T;b.onChange=T;h.onChange=T;f.onChange=T;v.onChange=T;t.toWorkNeedsParent("Ops.Sidebar.Sidebar");function T(){_.style.setProperty("color",s.get(),"important");_.style.fontSize=u.get();_.style.lineHeight=l.get();_.style.fontWeight=p.get()?"bold":"normal";_.style.whiteSpace="pre-line";j.style.backgroundColor=c.get();j.style.margin=g.get();j.style.padding=m.get();j.style.height=b.get();j.style.width=h.get();j.style.textAlign=f.get();j.style.borderRadius=v.get();if(o.get()){j.style.cursor="pointer";j.style.transition="background-color 0.3s"}else{j.style.cursor="default"}}function C(){S.style.display=i.get()?"flex":"none"}function w(){r.set("");N()}function k(){S.id=e.get()}function N(){const e=r.get();_.innerHTML=e;if(CABLES.UI){if(e&&typeof e==="string"){t.setTitle("Text: "+e.substring(0,10))}else{t.setTitle("Text")}}}function M(){y.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(S);y.set(e)}else{if(S.parentElement){S.parentElement.removeChild(S)}}}function B(){if(o.get()){j.addEventListener("click",P);j.addEventListener("mouseover",E);j.addEventListener("mouseout",L)}else{j.removeEventListener("click",P);j.removeEventListener("mouseover",E);j.removeEventListener("mouseout",L)}T()}function z(){const e=O.get();A.style.backgroundImage=`url(${e})`}function P(){x.trigger()}A.addEventListener("click",()=>{I.trigger()});setInterval(()=>{A.style.transform="rotateY(180deg)";setTimeout(()=>{A.style.transform="rotateY(0deg)"},1e3)},5e3);function E(){j.style.backgroundColor=d.get()}function L(){j.style.backgroundColor=c.get()}function V(){R(S)}function R(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.User.rambodc.Back_Home_Bar.prototype=new CABLES.Op;CABLES.OPS["d6e6f004-69c2-40b2-ba24-b4e4344d47e9"]={f:Ops.User.rambodc.Back_Home_Bar,objName:"Ops.User.rambodc.Back_Home_Bar"};Ops.User.rambodc.List6=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Data Array",[]);const a=e.inValue("First Page Number",10);const i=e.inTriggerButton("Trigger Second Page");const o=e.outObject("Children");const m=e.outTrigger("Button Pressed");const b=e.outValue("Button Index");const h=e.outObject("Selected Object");const s=e.outBool("Has Second Page");const f=document.createElement("div");f.dataset.op=e.id;let v=[];let u=[];let l=10;function O(e){if(typeof e!=="string"){return""}return e.length>70?e.substring(0,68)+"..":e}function p(){v.forEach(e=>f.removeChild(e));v=[];u=r.get();l=a.get()||10;if(!u||!Array.isArray(u)){console.error("Invalid data array");return}const e=u.length>l;s.set(e);const g=u.slice(0,l);g.forEach((e,t)=>{const n=document.createElement("div");n.style.position="relative";n.style.cursor="pointer";n.style.margin="1px";n.style.padding="0px";n.style.height="120px";n.style.display="flex";n.style.alignItems="center";n.style.flexWrap="nowrap";if(e.status==="uploaded"){n.style.backgroundColor="rgba(255, 165, 0, 0.5)"}else{n.style.backgroundColor="rgba(255,255,255,0)"}n.addEventListener("mouseover",function(){if(e.status==="uploaded"){this.style.backgroundColor="rgba(255, 165, 0, 0.7)"}else{this.style.backgroundColor="rgba(255,255,255,0.02)"}});n.addEventListener("mouseout",function(){if(e.status==="uploaded"){this.style.backgroundColor="rgba(255, 165, 0, 0.5)"}else{this.style.backgroundColor="rgba(255,255,255,0)"}});n.addEventListener("click",e=>{e.stopPropagation();b.set(t);h.set(g[t]);m.trigger()});const r=document.createElement("div");r.style.flexShrink="0";r.style.width="150px";r.style.height="120px";r.style.overflow="hidden";const a=document.createElement("img");a.src=e.thumbnailUrl;a.style.width="100%";a.style.height="100%";a.style.objectFit="cover";r.appendChild(a);n.appendChild(r);const i=document.createElement("div");i.style.display="flex";i.style.flexDirection="column";i.style.justifyContent="center";i.style.flex="1";i.style.overflow="hidden";i.style.padding="10px";i.style.marginRight="10px";const o=document.createTextNode(O(e.title));const s=document.createElement("div");s.style.color="rgba(255,255,255,1)";s.style.fontSize="14px";s.style.lineHeight="1.5";s.style.fontWeight="bold";s.appendChild(o);i.appendChild(s);const u=document.createTextNode(O(e.description));const l=document.createElement("div");l.style.color="rgba(255,255,255,1)";l.style.fontSize="13px";l.style.lineHeight="1.5";l.style.fontWeight="normal";l.appendChild(u);i.appendChild(l);n.appendChild(i);const p=document.createElement("div");p.style.position="absolute";p.style.top="5px";p.style.right="10px";p.style.fontSize="10px";p.style.fontWeight="normal";if(e.status==="uploaded"){p.style.color="rgba(255, 165, 0, 1)";const c=document.createTextNode("Incomplete");p.appendChild(c)}else{p.style.color="rgba(255,255,255,1)";const d=document.createTextNode(e.timestamp);p.appendChild(d)}n.appendChild(p);f.appendChild(n);v.push(n)})}function c(){if(u.length>l){l+=10;a.set(l);p()}}function d(){o.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(f);o.set(e)}else{if(f.parentElement){f.parentElement.removeChild(f)}}}n.onChange=d;r.onChange=p;a.onChange=p;i.onChange=c;e.onDelete=function(){if(f.parentNode){f.parentNode.removeChild(f)}};d()};Ops.User.rambodc.List6.prototype=new CABLES.Op;CABLES.OPS["04910b95-c77d-4bdc-ba86-dfd98540e9be"]={f:Ops.User.rambodc.List6,objName:"Ops.User.rambodc.List6"};Ops.User.rambodc.Create_post_upload=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Upload File");const c=e.inObject("File to Upload");const d=e.inString("User ID");const g=e.outTrigger("Upload Success");const m=e.outNumber("Upload Progress",0);const b=e.outString("Upload Error","");const h=e.outString("Post ID");const f=e.outString("Download URL");const v=e.outString("Error Message");const O=e.outBool("In Progress",false);const y=e.outString("File Type");const x=e.outString("File Format");const I=e.outTrigger("Upload Fail");const S=e.outString("Thumbnail URL");function j(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let e=0;e<20;e++){n+=t.charAt(Math.floor(Math.random()*t.length))}return n}function _(e,i,o,s,u=true,l){const t=new FileReader;t.onload=function(e){const a=new Image;a.onload=function(){const e=document.createElement("canvas");let t=a.width;let n=a.height;if(t>n){if(t>o){n=Math.round(n*(o/t));t=o}}else{if(n>o){t=Math.round(t*(o/n));n=o}}e.width=t;e.height=n;const r=e.getContext("2d");r.drawImage(a,0,0,t,n);e.toBlob(e=>{const t=firebase.storage();const n=u?`${i}_${o}x${o}.png`:`${i}.png`;const r=t.ref(`posts/${i}/${s}/${n}`);const a=r.put(e);a.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(`${s} upload is `+t+"% done")},e=>{console.error(`${s} upload failed:`,e);l(e)},()=>{r.getDownloadURL().then(e=>{console.log(`${s} uploaded successfully, available at ${e}`);l(null,e)})})},"image/png")};a.src=e.target.result};t.readAsDataURL(e)}n.onTriggered=()=>{const a=c.get();const e=d.get();if(!a){b.set("No file selected.");v.set("Please select a file to upload.");I.trigger();return}if(!e){b.set("No user ID provided.");v.set("User ID is required.");I.trigger();return}const t=a.type.split("/")[0];const n=a.type.split("/")[1];y.set(t);x.set(n);const r=firebase.storage();const i=j();const o=r.ref(`posts/${i}/original/${i}.${n}`);let s=false;let u=false;O.set(true);function l(){if(s&&u){g.trigger();O.set(false)}}const p=o.put(a);p.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;m.set(t);console.log("Upload is "+t+"% done")},e=>{b.set(e.message);v.set(`Upload failed: ${e.message}`);I.trigger();O.set(false)},()=>{p.snapshot.ref.getDownloadURL().then(e=>{f.set(e);h.set(i);s=true;l();const t=[200,400,800,1200,1500];const r="resized";t.forEach(n=>{_(a,i,n,r,true,(e,t)=>{if(e){b.set(`Failed to upload resized image ${n}x${n}.`)}else{console.log(`Resized image ${n}x${n} uploaded successfully.`)}})});_(a,i,400,"thumbnail",false,(e,t)=>{if(e){b.set("Failed to upload thumbnail.");console.error("Thumbnail upload error:",e)}else{S.set(t);console.log("Thumbnail uploaded successfully.");u=true;l()}})})})}};Ops.User.rambodc.Create_post_upload.prototype=new CABLES.Op;CABLES.OPS["ebdf4786-d625-4b32-bbd8-d357ec5fad9c"]={f:Ops.User.rambodc.Create_post_upload,objName:"Ops.User.rambodc.Create_post_upload"};Ops.User.rambodc.Max_daily_RAZ=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValue("Amount",0),r=e.inValue("Daily Raz",0),a=e.inValue("Max Raz",100),i=e.inValue("Min Raz",.1),o=e.outValue("Current Raz");function s(){if(r.get()>a.get()){o.set(i.get())}else{o.set(n.get())}}n.onChange=r.onChange=a.onChange=i.onChange=s;s()};Ops.User.rambodc.Max_daily_RAZ.prototype=new CABLES.Op;CABLES.OPS["80acf43e-5087-4ceb-bfea-c872af2cc322"]={f:Ops.User.rambodc.Max_daily_RAZ,objName:"Ops.User.rambodc.Max_daily_RAZ"};Ops.User.rambodc.V1PostOG=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Post OG Update");const r=e.inObject("Request Body");const a=e.inString("Firebase Auth Token");const i=e.outObject("Post OG Response");const o=e.outString("Error Message");const s=e.outBool("Is Listening",false);const u=e.outTrigger("Success");const l=e.outTrigger("Failure");let p=false;n.onTriggered=function(){const e=r.get();const t=a.get();i.set(null);o.set("");s.set(false);if(!e||!t){o.set("Missing Request Body or Firebase Auth Token.");l.trigger();return}p=true;s.set(true);fetch("https://us-central1-razz5-14781.cloudfunctions.net/v1PostOG",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}).then(e=>{if(!e.ok){if(e.status===403){throw new Error("Unauthorized: User does not have the required permissions.")}else if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(e=>{i.set(e);u.trigger();p=false;s.set(false)}).catch(e=>{console.error("Error during fetch:",e);o.set(`Error: ${e.message}`);l.trigger();p=false;s.set(false)})};e.onDelete=function(){p=false;s.set(false)}};Ops.User.rambodc.V1PostOG.prototype=new CABLES.Op;CABLES.OPS["07e06ac9-4b29-488d-ad16-ffc69c0136fd"]={f:Ops.User.rambodc.V1PostOG,objName:"Ops.User.rambodc.V1PostOG"};Ops.Html.DivElement_v3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Text","Hello Div"),r=e.inString("Id"),a=e.inString("Class"),i=e.inStringEditor("Style","position:absolute;\nz-index:100;","inline-css"),o=e.inValueBool("Interactive",false),s=e.inValueBool("Visible",true),u=e.inValueBool("Convert Line Breaks",false),l=e.inValueBool("Propagate Click-Events",true),p=e.outObject("DOM Element",null,"element"),c=e.outBoolNum("Hover"),d=e.outTrigger("Clicked");let g=null;let m=null;let b="block";let h=null;const f=e.patch.cgl.canvas.parentElement;v();a.onChange=A;u.onChange=n.onChange=I;i.onChange=S;o.onChange=k;s.onChange=x;I();S();E();k();e.onDelete=O;p.onLinkChanged=S;o.onLinkChanged=d.onLinkChanged=()=>{e.setUiError("interactiveProblem",null);if(d.isLinked()&&!o.get()&&!o.isLinked())e.setUiError("interactiveProblem","Interactive should be activated when linking clicked port")};function v(){h=e.patch.getDocument().createElement("div");h.dataset.op=e.id;h.classList.add("cablesEle");if(r.get())h.id=r.get();f.appendChild(h);p.set(h)}function O(){if(h)_();if(h&&h.parentNode)h.parentNode.removeChild(h);m=null;h=null}function y(e){if(!e){h.style.visibility="hidden";b=h.style.display||"inherit";h.style.display="none"}else{if(b=="none")b="inherit";h.style.visibility="visible";h.style.display=b}}function x(){y(s.get())}function I(){let e=n.get();if(m===e)return;m=e;if(e&&u.get())e=e.replace(/(?:\r\n|\r|\n)/g,"<br>");if(h.innerHTML!=e)h.innerHTML=e;p.set(null);p.set(h)}function S(){if(!h)return;h.setAttribute("style",i.get());x();p.set(null);p.set(h);if(!h.parentElement){f.appendChild(h)}E()}let j="";function _(){if(!h)return;const t=(a.get()||"").split(" ");for(let e=0;e<t.length;e++){if(t[e])h.classList.remove(t[e])}j=""}function A(){const t=(a.get()||"").split(" ");const n=(j||"").split(" ");let r=false;for(let e=0;e<n.length;e++){if(n[e]&&t.indexOf(n[e].trim())==-1){r=true;h.classList.remove(n[e])}}for(let e=0;e<t.length;e++){if(t[e]){h.classList.add(t[e].trim())}}j=a.get();E()}function T(e){c.set(true)}function C(e){c.set(false)}function w(e){if(!l.get()){e.stopPropagation()}d.trigger()}function k(){e.setUiError("interactiveProblem",null);N();if(o.get())P()}r.onChange=function(){h.id=r.get()};function N(){if(g){g.removeEventListener("pointerdown",w);g.removeEventListener("pointerleave",C);g.removeEventListener("pointerenter",T);g=null}}function P(){if(g)N();g=h;if(g){g.addEventListener("pointerdown",w);g.addEventListener("pointerleave",C);g.addEventListener("pointerenter",T)}}e.addEventListener("onEnabledChange",function(e){O();if(e){v();S();A();I();k()}});function E(){if(a.get()&&i.get()){e.setUiError("error","Element uses external and inline CSS",1)}else{e.setUiError("error",null)}}};Ops.Html.DivElement_v3.prototype=new CABLES.Op;CABLES.OPS["d55d398c-e68e-486b-b0ce-d9c4bdf7df05"]={f:Ops.Html.DivElement_v3,objName:"Ops.Html.DivElement_v3"};Ops.Html.ElementChilds_v2=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const o=i.inObject("Parent",null,"element"),s=i.outObject("Parent Out",null,"element");const r=i.patch.cgl.canvas.parentElement;const u=[];for(let n=0;n<10;n++){const l=i.inObject("Child "+(n+1),null,"element");u.push(l);l.onChange=()=>{a();if(!l.get()){const e="[data-cables-child-id='"+i.id+"_"+n+"']";const t=r.querySelector(e);if(t)delete t.dataset.cablesChildId}};l.onLinkChanged=()=>{if(!l.isLinked()){const e="[data-cables-child-id='"+i.id+"_"+n+"']";const t=r.querySelector(e);if(t)t.remove()}}}o.onLinkChanged=()=>{if(!o.isLinked()){t()}else{a()}};s.onLinkChanged=()=>{if(!s.isLinked()){const e=o.get();if(e&&e.dataset.op){const t=r.querySelector("[data-op=' "+e.dataset.op+" ']");if(!t){r.appendChild(e)}}}};o.onChange=()=>{if(!o.get()){t()}a()};function t(){for(let e=0;e<u.length;e++){const t="[data-cables-child-id='"+i.id+"_"+e+"']";const n=r.querySelector(t);if(n&&n.parentNode){n.remove()}}s.set(null)}function a(){const n=o.get();if(!n){s.set(null);return}if(!n.querySelector){s.set(null);return}i.setUiError("multilinks",null);for(let t=0;t<u.length;t++){const r="[data-cables-child-id='"+i.id+"_"+t+"']";const a=n.querySelector(r);if(a){a.remove()}const e=u[t].get();if(u[t].links.length>1){i.setUiError("multilinks","Every port should only have not more then one connection")}if(e&&n){if(!e.dataset)console.warn("[elementChilds] p no dataset ?!");else e.dataset.cablesChildId=i.id+"_"+t;n.appendChild(e)}}s.setRef(n)}};Ops.Html.ElementChilds_v2.prototype=new CABLES.Op;CABLES.OPS["ad7eea9a-f4af-4ab7-bb70-922242529681"]={f:Ops.Html.ElementChilds_v2,objName:"Ops.Html.ElementChilds_v2"};Ops.String.StringEditor=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inStringEditor("value",""),r=e.inValueSelect("Syntax",["text","glsl","css","html","xml","json","javascript","inline-css","sql"],"text"),a=e.outString("Result");r.onChange=i;function i(){let e=r.get();if(e=="javascript")e="js";n.setUiAttribs({editorSyntax:e})}n.onChange=function(){a.set(n.get())}};Ops.String.StringEditor.prototype=new CABLES.Op;CABLES.OPS["6468b7c1-f63e-4db4-b809-4b203d27ead3"]={f:Ops.String.StringEditor,objName:"Ops.String.StringEditor"};Ops.User.rambodc.DivElement_ClickFix=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Text","Hello Div"),r=e.inString("Id"),a=e.inString("Class"),i=e.inStringEditor("Style","position:absolute;\nz-index:100;","inline-css"),o=e.inValueBool("Interactive",false),s=e.inValueBool("Visible",true),u=e.inValueBool("Convert Line Breaks",false),l=e.inValueBool("Propagate Click-Events",true),p=e.outObject("DOM Element",null,"element"),c=e.outBoolNum("Hover"),d=e.outTrigger("Clicked");let g=false;let m=null;let b=null;let h="block";let f=null;const v=e.patch.cgl.canvas.parentElement;O();a.onChange=T;u.onChange=n.onChange=S;i.onChange=j;o.onChange=N;s.onChange=I;S();j();L();N();e.onDelete=y;p.onLinkChanged=j;function O(){f=document.createElement("div");f.dataset.op=e.id;f.classList.add("cablesEle");if(r.get())f.id=r.get();v.appendChild(f);p.set(f)}function y(){if(f)A();if(f&&f.parentNode)f.parentNode.removeChild(f);b=null;f=null}function x(e){if(!e){f.style.visibility="hidden";h=f.style.display||"block";f.style.display="none"}else{if(h=="none")h="block";f.style.visibility="visible";f.style.display=h}}function I(){x(s.get())}function S(){let e=n.get();if(b===e)return;b=e;if(e&&u.get())e=e.replace(/(?:\r\n|\r|\n)/g,"<br>");if(f.innerHTML!=e)f.innerHTML=e;p.set(null);p.set(f)}function j(){if(!f)return;f.setAttribute("style",i.get());I();p.set(null);p.set(f);if(!f.parentElement){v.appendChild(f)}L()}let _="";function A(){if(!f)return;const t=(a.get()||"").split(" ");for(let e=0;e<t.length;e++){if(t[e])f.classList.remove(t[e])}_=""}function T(){const t=(a.get()||"").split(" ");const n=(_||"").split(" ");let r=false;for(let e=0;e<n.length;e++){if(n[e]&&t.indexOf(n[e].trim())==-1){r=true;f.classList.remove(n[e])}}for(let e=0;e<t.length;e++){if(t[e]){f.classList.add(t[e].trim())}}_=a.get();L()}function C(e){c.set(true);g=true}function w(e){c.set(false);g=false}function k(e){if(!l.get()){e.stopPropagation()}if(g){d.trigger()}}function N(){P();if(o.get())E()}r.onChange=function(){f.id=r.get()};function P(){if(m){m.removeEventListener("pointerdown",k);m.removeEventListener("pointerleave",w);m.removeEventListener("pointerenter",C);m=null}}function E(){if(m)P();m=f;if(m){m.addEventListener("pointerup",k);m.addEventListener("pointerleave",w);m.addEventListener("pointerenter",C)}}e.addEventListener("onEnabledChange",function(e){y();if(e){O();j();T();S();N()}});function L(){if(a.get()&&i.get()){e.setUiError("error","Element uses external and inline CSS",1)}else{e.setUiError("error",null)}}};Ops.User.rambodc.DivElement_ClickFix.prototype=new CABLES.Op;CABLES.OPS["9b76d8bc-96ea-4aee-9b91-c9b3d9056785"]={f:Ops.User.rambodc.DivElement_ClickFix,objName:"Ops.User.rambodc.DivElement_ClickFix"};Ops.User.rambodc.Button_Left=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Parent Link");const r=e.inString("Button Text","Button");const a=e.inString("Button Width","100px");const i=e.inString("Button Background Color","#007bff");const o=e.inString("Hover Background Color","rgba(13, 130, 254, 1)");const s=e.inBool("Visible",true);const u=e.outObject("Siblings");const l=e.outTrigger("Button Pressed");const p=document.createElement("div");p.dataset.op=e.id;p.classList.add("cablesEle","sidebar__item","sidebar--button");const c=document.createElement("div");c.classList.add("sidebar__button-input_left");c.textContent=r.get();c.style.width=a.get();c.style.backgroundColor=i.get();p.appendChild(c);function d(e){c.style.backgroundColor=e?o.get():i.get()}c.addEventListener("mouseenter",()=>d(true));c.addEventListener("mouseleave",()=>d(false));c.addEventListener("click",g);n.onChange=function(){const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(p);u.set(e)}else if(p.parentElement){p.parentElement.removeChild(p)}};r.onChange=function(){c.textContent=r.get()};a.onChange=function(){c.style.width=a.get()};i.onChange=function(){c.style.backgroundColor=i.get()};o.onChange=function(){};s.onChange=function(){p.style.display=s.get()?"block":"none"};function g(){l.trigger()}e.onDelete=function(){if(p.parentNode){p.parentNode.removeChild(p)}};d(false)};Ops.User.rambodc.Button_Left.prototype=new CABLES.Op;CABLES.OPS["a4502322-281e-4000-8578-de13cc86032a"]={f:Ops.User.rambodc.Button_Left,objName:"Ops.User.rambodc.Button_Left"};Ops.User.rambodc.Background1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Image URL",""),a=e.inValue("Height",100),i=e.inSwitch("Position",["Left","Center","Right"],"Center"),o=e.inValue("Corner",10),s=e.inBool("Visible",true);const u=e.outObject("Children");let l,p;function c(){if(l&&l.parentNode){l.parentNode.removeChild(l)}l=document.createElement("div");l.classList.add("image-container");l.style.display="flex";l.style.justifyContent="center";l.style.alignItems="center";l.style.height=a.get()+"px";l.style.overflow="hidden";l.style.margin="0px 0px 0px 0px";p=document.createElement("div");p.style.height="100%";p.style.display="flex";p.style.padding="0px";p.style.justifyContent=i.get().toLowerCase();p.style.borderRadius=o.get()+"px";const e=document.createElement("img");e.src=r.get();e.alt="Sidebar Image";e.style.maxHeight="100%";e.style.objectFit="contain";e.style.borderRadius=o.get()+"px";p.appendChild(e);l.appendChild(p);const t=n.get();if(t&&t.parentElement){t.parentElement.appendChild(l);u.set(t)}}function d(){c();g()}r.onChange=d;a.onChange=d;i.onChange=d;o.onChange=d;s.onChange=g;function g(){l.style.display=s.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(l);u.set(e)}else if(l&&l.parentNode){l.parentNode.removeChild(l)}};e.onDelete=()=>{if(l&&l.parentNode){l.parentNode.removeChild(l)}};d()};Ops.User.rambodc.Background1.prototype=new CABLES.Op;CABLES.OPS["1318b706-8239-4bc2-ab81-4ae1cedf09f3"]={f:Ops.User.rambodc.Background1,objName:"Ops.User.rambodc.Background1"};Ops.User.rambodc.InvitesExpiryCheck=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Check Invitation");const i=e.inObject("Invitation Data",{});const o=e.outTrigger("Expired Trigger");const s=e.outBool("Expired Only",false);const u=e.outBool("Invite Exists",false);const l=e.outBool("Not Expired & Not Exists",false);n.onTriggered=function(){const e=i.get();const t=new Date;const n=new Date(e.expiresAt);const r=t>n;const a=e.inviteeExists;if(r){s.set(true);o.trigger();u.set(false);l.set(false)}else{s.set(false);if(a){u.set(true);l.set(false)}else{u.set(false);l.set(true)}}}};Ops.User.rambodc.InvitesExpiryCheck.prototype=new CABLES.Op;CABLES.OPS["c8931684-7129-4d34-bf73-f3f2520828bb"]={f:Ops.User.rambodc.InvitesExpiryCheck,objName:"Ops.User.rambodc.InvitesExpiryCheck"};Ops.User.rambodc.Sidebar_youtube=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("YouTube URL",""),a=e.inValue("Height",300),i=e.inValue("Width %",100),o=e.inString("Padding","10px 10px 10px 10px"),s=e.inString("Margin","10px 10px 10px 10px"),u=e.inBool("Visible",true);const l=e.outObject("Children");let p;function c(){if(p&&p.parentNode){p.parentNode.removeChild(p)}p=document.createElement("div");p.style.display="flex";p.style.justifyContent="center";p.style.alignItems="center";p.style.height=a.get()+"px";p.style.width=i.get()+"%";p.style.overflow="hidden";p.style.padding=o.get();p.style.margin=s.get();const e=document.createElement("iframe");e.src=d(r.get());e.frameBorder="0";e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";e.allowFullscreen=true;e.style.width="100%";e.style.height="100%";p.appendChild(e);const t=n.get();if(t&&t.parentElement){t.parentElement.appendChild(p);l.set(t)}}function d(e){const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;const n=e.match(t);if(n&&n[2].length==11){return"https://www.youtube.com/embed/"+n[2]}else{return e}}function g(){c();m()}r.onChange=g;a.onChange=g;i.onChange=g;o.onChange=g;s.onChange=g;u.onChange=m;function m(){p.style.display=u.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(p);l.set(e)}else if(p&&p.parentNode){p.parentNode.removeChild(p)}};e.onDelete=()=>{if(p&&p.parentNode){p.parentNode.removeChild(p)}};g()};Ops.User.rambodc.Sidebar_youtube.prototype=new CABLES.Op;CABLES.OPS["b9e5f693-4196-4f7c-805e-8f9e95923404"]={f:Ops.User.rambodc.Sidebar_youtube,objName:"Ops.User.rambodc.Sidebar_youtube"};Ops.Vars.VarSetNumber_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("Value",0);e.varName=e.inDropDown("Variable",[],"",true);new CABLES.VarSetOpWrapper(e,"number",n,e.varName)};Ops.Vars.VarSetNumber_v2.prototype=new CABLES.Op;CABLES.OPS["b5249226-6095-4828-8a1c-080654e192fa"]={f:Ops.Vars.VarSetNumber_v2,objName:"Ops.Vars.VarSetNumber_v2"};Ops.Trigger.TriggerNumber=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Set"),r=e.inValueFloat("Number"),a=e.outTrigger("Next"),i=e.outNumber("Out Value");i.changeAlways=true;n.onTriggered=function(){i.set(r.get());a.trigger()}};Ops.Trigger.TriggerNumber.prototype=new CABLES.Op;CABLES.OPS["9989b1c0-1073-4d5f-bfa0-36dd98b66e27"]={f:Ops.Trigger.TriggerNumber,objName:"Ops.Trigger.TriggerNumber"};Ops.Boolean.ToggleBool_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("trigger"),r=e.inTriggerButton("reset"),a=e.inBool("Default",false),i=e.outTrigger("Next"),o=e.outBoolNum("result");let s=false;e.onLoadedValueSet=()=>{s=a.get();o.set(a.get());i.trigger()};n.onTriggered=function(){s=!s;o.set(s);i.trigger()};r.onTriggered=function(){s=a.get();o.set(s);i.trigger()}};Ops.Boolean.ToggleBool_v2.prototype=new CABLES.Op;CABLES.OPS["4313d9bb-96b6-43bc-9190-6068cfb2593c"]={f:Ops.Boolean.ToggleBool_v2,objName:"Ops.Boolean.ToggleBool_v2"};Ops.Array.ArrayPack4=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Trigger in"),o=e.inArray("Array 1"),s=e.inArray("Array 2"),u=e.inArray("Array 3"),l=e.inArray("Array 4"),p=e.outTrigger("Trigger out"),c=e.outArray("Array out",4),d=e.outNumber("Array length");let g=false;let m=[];let b=[];let h=true;n.onTriggered=a;o.onChange=s.onChange=u.onChange=l.onChange=r;function r(){h=true}function a(){p.trigger();let n=o.get();let r=s.get();let a=u.get();let i=l.get();if(!n&&!r&&!a&&!i){c.set(null);return}if(h){let t=0;if(!n||!r||!a||!i){if(n)t=n.length;else if(r)t=r.length;else if(a)t=a.length;else if(i)t=i.length;if(b.length!=t)for(let e=0;e<t;e++)b[e]=0;if(!n)n=b;if(!r)r=b;if(!a)a=b;if(!i)i=b}if(n.length!==r.length||r.length!==a.length||a.length!==i.length){if(!g){e.setUiError("arrlength","Arrays do not have the same length !",1);d.set(0);g=true}return}if(g){g=false;e.setUiError("arrlength",null)}m.length=n.length;for(let e=0;e<n.length;e++){m[e*4+0]=n[e];m[e*4+1]=r[e];m[e*4+2]=a[e];m[e*4+3]=i[e]}h=false;c.setRef(m);d.set(m.length)}}};Ops.Array.ArrayPack4.prototype=new CABLES.Op;CABLES.OPS["68ea2c83-05fc-47a7-aba8-3c400f1dd737"]={f:Ops.Array.ArrayPack4,objName:"Ops.Array.ArrayPack4"};Ops.Math.Divide=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("number1",1),r=e.inValueFloat("number2",2),a=e.outNumber("result");e.setUiAttribs({mathTitle:true});n.onChange=r.onChange=i;i();function i(){a.set(n.get()/r.get())}};Ops.Math.Divide.prototype=new CABLES.Op;CABLES.OPS["86fcfd8c-038d-4b91-9820-a08114f6b7eb"]={f:Ops.Math.Divide,objName:"Ops.Math.Divide"};Ops.Array.ArrayMultiply=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inArray("In"),a=e.inValue("Value",1),i=e.outArray("Result");let o=[];i.set(o);r.onChange=a.onChange=r.onChange=function(){let t=r.get();if(!t)return;let n=a.get();if(o.length!=t.length)o.length=t.length;for(let e=0;e<t.length;e++)o[e]=t[e]*n;i.setRef(o)};r.onLinkChanged=()=>{if(r)r.copyLinkedUiAttrib("stride",i)}};Ops.Array.ArrayMultiply.prototype=new CABLES.Op;CABLES.OPS["a01c344b-4129-4b01-9c8f-36cefe86d7cc"]={f:Ops.Array.ArrayMultiply,objName:"Ops.Array.ArrayMultiply"};Ops.Gl.ClearColor=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("render"),r=e.outTrigger("trigger"),a=e.inFloatSlider("r",.1),i=e.inFloatSlider("g",.1),o=e.inFloatSlider("b",.1),s=e.inFloatSlider("a",1);a.setUiAttribs({colorPick:true});const u=e.patch.cgl;n.onTriggered=function(){u.gl.clearColor(a.get(),i.get(),o.get(),s.get());u.gl.clear(u.gl.COLOR_BUFFER_BIT|u.gl.DEPTH_BUFFER_BIT);r.trigger()}};Ops.Gl.ClearColor.prototype=new CABLES.Op;CABLES.OPS["19b441eb-9f63-4f35-ba08-b87841517c4d"]={f:Ops.Gl.ClearColor,objName:"Ops.Gl.ClearColor"};Ops.Array.PointArray.PointsPlane_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const p=e.inValueInt("Rows",32),c=e.inValueInt("Columns",32),d=e.inFloat("Width",2),g=e.inFloat("Height",2),m=e.inFloat("Row Offset",0),b=e.inValueBool("Center",true),h=e.outArray("Result",[],3),f=e.outNumber("Total points"),v=e.outNumber("Array length"),O=e.outArray("Row Numbers",[],1),y=e.outArray("Column Numbers",[],1);p.onChange=c.onChange=b.onChange=g.onChange=m.onChange=d.onChange=n;const x=[];const I=[];const S=[];h.setRef(x);n();function n(){x.length=0;const n=Math.floor(Math.max(0,p.get()));const e=Math.floor(Math.max(0,c.get()));if(!CABLES.UTILS.isNumeric(n)||!CABLES.UTILS.isNumeric(e)||n<0||e<0){O.setRef(0);y.setRef(0);h.setRef([]);f.set(0);v.set(0);return}let r=0;let a=0;if(n==1){r=g.get()/n}else{r=g.get()/(n-1)}if(e==1){a=d.get()/e}else{a=d.get()/(e-1)}let i=0;let o=0;let s=0;if(b.get()){o=g.get()/2;s=d.get()/2}const t=Math.floor(n)*Math.floor(e)*3;x.length=t;S.length=t/3;I.length=t/3;let u=m.get();let l=0;for(let t=0;t<e;t++){for(let e=0;e<n;e++){l=0;if(e%2==0&&u)l=u;S[i/3]=t;I[i/3]=e;x[i++]=a*t-s+l;x[i++]=r*e-o;x[i++]=0}}O.setRef(I);y.setRef(S);h.setRef(x);f.set(x.length/3);v.set(x.length)}};Ops.Array.PointArray.PointsPlane_v2.prototype=new CABLES.Op;CABLES.OPS["d453f898-17d4-4e2c-b8c7-7b7b34c0ff68"]={f:Ops.Array.PointArray.PointsPlane_v2,objName:"Ops.Array.PointArray.PointsPlane_v2"};Ops.Array.ArrayModulo=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inArray("Array In"),a=e.inValue("Value",2),i=e.outArray("Array Out");let o=[];i.set(o);r.onChange=a.onChange=r.onChange=function(){let e=r.get();if(!e)return;let t=a.get();if(o.length!=e.length)o.length=e.length;let n=0;for(n=0;n<e.length;n++){o[n]=e[n]%t}i.setRef(o)};r.onLinkChanged=()=>{if(r)r.copyLinkedUiAttrib("stride",i)}};Ops.Array.ArrayModulo.prototype=new CABLES.Op;CABLES.OPS["30a5568b-31da-4504-9525-578ee404993c"]={f:Ops.Array.ArrayModulo,objName:"Ops.Array.ArrayModulo"};Ops.Trigger.Repeat_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Execute"),r=e.inValueInt("Repeats",5),a=e.inSwitch("Direction",["Forward","Backward"],"Forward"),i=e.outTrigger("Next"),o=e.addOutPort(new CABLES.Port(e,"index"));a.onChange=s;s();function s(){if(a.get()=="Forward")n.onTriggered=u;else n.onTriggered=l}function u(){const e=Math.floor(r.get());for(var t=0;t<e;t++){o.set(t);i.trigger()}}function l(){const e=Math.floor(r.get());for(var t=e-1;t>-1;t--){o.set(t);i.trigger()}}};Ops.Trigger.Repeat_v2.prototype=new CABLES.Op;CABLES.OPS["a4deea80-db97-478f-ad1a-5ee30f2f47cc"]={f:Ops.Trigger.Repeat_v2,objName:"Ops.Trigger.Repeat_v2"};Ops.Trigger.TriggerOnce=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Exec"),r=e.inTriggerButton("Reset"),a=e.outTrigger("Next"),i=e.outBoolNum("Was Triggered");let o=false;e.toWorkPortsNeedToBeLinked(n);r.onTriggered=function(){o=false;i.set(o)};n.onTriggered=function(){if(o)return;o=true;a.trigger();i.set(o)}};Ops.Trigger.TriggerOnce.prototype=new CABLES.Op;CABLES.OPS["cf3544e4-e392-432b-89fd-fcfb5c974388"]={f:Ops.Trigger.TriggerOnce,objName:"Ops.Trigger.TriggerOnce"};Ops.Array.InterpolateArraysRange=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("Exe");const p=e.inArray("Array 1");const c=e.inArray("Array 2");const d=e.inValueSlider("Pos");const g=e.inValueSlider("Width");const r=e.inValueSelect("Easing",["Linear","Expo in","Expo out","Expo in out","Cubic in","Cubic out","Cubic in out"],"Linear");const m=e.inValueBool("Reverse");const b=e.outTrigger("Next");const h=e.outArray("Result");const f=[];let v=null;r.onChange=function(){if(r.get()=="Expo in")v=CABLES.easeExpoIn;else if(r.get()=="Expo out")v=CABLES.easeExpoOut;else if(r.get()=="Expo in out")v=CABLES.easeExpoInOut;else if(r.get()=="Cubic in")v=CABLES.easeCubicIn;else if(r.get()=="Cubic out")v=CABLES.easeCubicOut;else if(r.get()=="Cubic in out")v=CABLES.easeCubicInOut;else v=null};let O=true;p.onChange=c.onChange=d.onChange=g.onChange=()=>{O=true};n.onTriggered=function(){const r=p.get();const a=c.get();if(O)if(!r||!a||a.length<r.length){e.setUiError("arraylength","array length is not the same!");h.set(null)}else{e.setUiError("arraylength",null);if(f.length!=r.length)f.length=r.length;const i=g.get()*(f.length*4);const o=d.get()*(r.length+i);for(let n=0;n<r.length;n++){const s=r[n];const u=a[n];let e=o-n;if(m.get())e=o-(r.length-n);let t=e/i;if(t>1)f[n]=u;else if(t<=0)f[n]=s;else{if(v)t=v(t);const l=(u-s)*t+s;f[n]=l}}h.setRef(f)}b.trigger();O=false}};Ops.Array.InterpolateArraysRange.prototype=new CABLES.Op;CABLES.OPS["f89f5664-7cfa-4598-b09c-e4320b588b45"]={f:Ops.Array.InterpolateArraysRange,objName:"Ops.Array.InterpolateArraysRange"};Ops.Array.ArrayMathArray=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const a=t.inArray("array 0"),i=t.inArray("array 1"),n=t.inSwitch("Math function",["+","-","*","/","%","min","max"],"+"),o=t.outArray("Array result"),s=t.outNumber("Array length");let u;let r=false;const l=[];t.toWorkPortsNeedToBeLinked(i,a);n.onChange=p;a.onChange=i.onChange=c;p();function p(){const e=n.get();if(e==="+")u=function(e,t){return e+t};else if(e==="-")u=function(e,t){return e-t};else if(e==="*")u=function(e,t){return e*t};else if(e==="/")u=function(e,t){return e/t};else if(e==="%")u=function(e,t){return e%t};else if(e==="min")u=function(e,t){return Math.min(e,t)};else if(e==="max")u=function(e,t){return Math.max(e,t)};c();t.setUiAttrib({extendTitle:e})}function c(){const t=a.get();const n=i.get();if(!t||!n){o.set(null);s.set(0);return}const r=l.length=t.length;for(let e=0;e<r;e++){l[e]=u(t[e],n[e])}s.set(l.length);o.setRef(l)}};Ops.Array.ArrayMathArray.prototype=new CABLES.Op;CABLES.OPS["f31a1764-ce14-41de-9b3f-dc2fe249bb52"]={f:Ops.Array.ArrayMathArray,objName:"Ops.Array.ArrayMathArray"};Ops.Number.TriggerOnChangeNumber=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inFloat("Value"),r=e.outTrigger("Next"),a=e.outNumber("Number");n.onChange=function(){a.set(n.get());r.trigger()}};Ops.Number.TriggerOnChangeNumber.prototype=new CABLES.Op;CABLES.OPS["f5c8c433-ce13-49c4-9a33-74e98f110ed0"]={f:Ops.Number.TriggerOnChangeNumber,objName:"Ops.Number.TriggerOnChangeNumber"};Ops.Gl.Matrix.Scale=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inTrigger("render"),r=t.inValueFloat("scale",1),a=t.inValueFloat("x",1),i=t.inValueFloat("y",1),o=t.inValueFloat("z",1),s=t.outTrigger("trigger");t.setPortGroup("Axis",[a,i,o]);const u=vec3.create();a.onChange=i.onChange=o.onChange=r.onChange=l;l();n.onTriggered=function(){const e=t.patch.cg||t.patch.cgl;e.pushModelMatrix();mat4.scale(e.mMatrix,e.mMatrix,u);s.trigger();e.popModelMatrix()};function l(){const e=r.get();vec3.set(u,e*a.get(),e*i.get(),e*o.get())}};Ops.Gl.Matrix.Scale.prototype=new CABLES.Op;CABLES.OPS["50e7f565-0cdb-47ca-912b-87c04e2f00e3"]={f:Ops.Gl.Matrix.Scale,objName:"Ops.Gl.Matrix.Scale"};Ops.Graphics.Geometry.TransformGeometry=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inObject("Geometry"),a=e.inValue("Translate X"),i=e.inValue("Translate Y"),o=e.inValue("Translate Z"),s=e.inValueSlider("Scale X",1),u=e.inValueSlider("Scale Y",1),l=e.inValueSlider("Scale Z",1),p=e.inValue("Rotation X"),c=e.inValue("Rotation Y"),d=e.inValue("Rotation Z"),g=e.outObject("Result",null,"geometry");a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=l.onChange=p.onChange=c.onChange=d.onChange=r.onChange=f;const m=vec3.create();const n=vec3.create();const b=vec3.create();const h=vec3.create();function f(){const e=r.get();const t=0;if(e&&e.copy){const n=e.copy();for(let e=0;e<n.vertices.length;e+=3){n.vertices[e+0]*=s.get();n.vertices[e+1]*=u.get();n.vertices[e+2]*=l.get();n.vertices[e+0]+=a.get();n.vertices[e+1]+=i.get();n.vertices[e+2]+=o.get()}for(let e=0;e<n.vertices.length;e+=3){vec3.set(m,n.vertices[e+0],n.vertices[e+1],n.vertices[e+2]);vec3.rotateX(m,m,b,p.get()*CGL.DEG2RAD);vec3.rotateY(m,m,b,c.get()*CGL.DEG2RAD);vec3.rotateZ(m,m,b,d.get()*CGL.DEG2RAD);n.vertices[e+0]=m[0];n.vertices[e+1]=m[1];n.vertices[e+2]=m[2]}g.setRef(n)}else{g.setRef(null)}}};Ops.Graphics.Geometry.TransformGeometry.prototype=new CABLES.Op;CABLES.OPS["9678fee2-5436-499c-b94d-2603cdbeb380"]={f:Ops.Graphics.Geometry.TransformGeometry,objName:"Ops.Graphics.Geometry.TransformGeometry"};Ops.Gl.Phong.PhongMaterial_v6=function(){CABLES.Op.apply(this,arguments);const e=this;const s=e.attachments={phong_frag:'IN vec3 viewDirection;\nIN vec3 normInterpolated;\nIN vec2 texCoord;\n\n#ifdef AO_CHAN_1\n    #ifndef ATTRIB_texCoord1\n        #define ATTRIB_texCoord1\n\n        IN vec2 texCoord1;\n    #endif\n#endif\n\n#ifdef HAS_TEXTURE_AO\nvec2 tcAo;\n#endif\n\n\n\n#ifdef ENABLE_FRESNEL\n    IN vec4 cameraSpace_pos;\n#endif\n\n// IN mat3 normalMatrix; // when instancing...\n\n#ifdef HAS_TEXTURE_NORMAL\n    IN mat3 TBN_Matrix; // tangent bitangent normal space transform matrix\n#endif\n\nIN vec3 fragPos;\nIN vec3 v_viewDirection;\n\nUNI vec4 inDiffuseColor;\nUNI vec4 inMaterialProperties;\n\n#ifdef ADD_EMISSIVE_COLOR\n    UNI vec4 inEmissiveColor; // .w = intensity\n#endif\n\n#ifdef ENABLE_FRESNEL\n    UNI mat4 viewMatrix;\n    UNI vec4 inFresnel;\n    UNI vec2 inFresnelWidthExponent;\n#endif\n\n#ifdef ENVMAP_MATCAP\n    IN vec3 viewSpaceNormal;\n    IN vec3 viewSpacePosition;\n#endif\n\nstruct Light {\n    vec3 color;\n    vec3 position;\n    vec3 specular;\n\n\n    // * SPOT LIGHT * //\n    #ifdef HAS_SPOT\n        vec3 conePointAt;\n        #define COSCONEANGLE x\n        #define COSCONEANGLEINNER y\n        #define SPOTEXPONENT z\n        vec3 spotProperties;\n    #endif\n\n    #define INTENSITY x\n    #define ATTENUATION y\n    #define FALLOFF z\n    #define RADIUS w\n    vec4 lightProperties;\n\n    int castLight;\n};\n\n/* CONSTANTS */\n#define NONE -1\n#define ALBEDO x\n#define ROUGHNESS y\n#define SHININESS z\n#define SPECULAR_AMT w\n#define NORMAL x\n#define AO y\n#define SPECULAR z\n#define EMISSIVE w\nconst float PI = 3.1415926535897932384626433832795;\nconst float TWO_PI = (2. * PI);\nconst float EIGHT_PI = (8. * PI);\n\n#define RECIPROCAL_PI 1./PI\n#define RECIPROCAL_PI2 RECIPROCAL_PI/2.\n\n// TEXTURES\n// #ifdef HAS_TEXTURES\n    UNI vec4 inTextureIntensities;\n\n    #ifdef HAS_TEXTURE_ENV\n        #ifdef TEX_FORMAT_CUBEMAP\n            UNI samplerCube texEnv;\n            #ifndef WEBGL1\n                #define SAMPLETEX textureLod\n            #endif\n            #ifdef WEBGL1\n                #define SAMPLETEX textureCubeLodEXT\n            #endif\n        #endif\n\n        #ifdef TEX_FORMAT_EQUIRECT\n            UNI sampler2D texEnv;\n            #ifdef WEBGL1\n                // #extension GL_EXT_shader_texture_lod : enable\n                #ifdef GL_EXT_shader_texture_lod\n                    #define textureLod texture2DLodEXT\n                #endif\n                // #define textureLod texture2D\n            #endif\n\n            #define SAMPLETEX sampleEquirect\n\n            const vec2 invAtan = vec2(0.1591, 0.3183);\n            vec4 sampleEquirect(sampler2D tex,vec3 direction,float lod)\n            {\n                #ifndef WEBGL1\n                    vec3 newDirection = normalize(direction);\n            \t\tvec2 sampleUV;\n            \t\tsampleUV.x = -1. * (atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.75);\n            \t\tsampleUV.y = asin( clamp(direction.y, -1., 1.) ) * RECIPROCAL_PI + 0.5;\n                #endif\n\n                #ifdef WEBGL1\n                    vec3 newDirection = normalize(direction);\n                \t\tvec2 sampleUV = vec2(atan(newDirection.z, newDirection.x), asin(newDirection.y+1e-6));\n                        sampleUV *= vec2(0.1591, 0.3183);\n                        sampleUV += 0.5;\n                #endif\n                return textureLod(tex, sampleUV, lod);\n            }\n        #endif\n        #ifdef ENVMAP_MATCAP\n            UNI sampler2D texEnv;\n            #ifdef WEBGL1\n                // #extension GL_EXT_shader_texture_lod : enable\n                #ifdef GL_EXT_shader_texture_lod\n                    #define textureLod texture2DLodEXT\n                #endif\n                // #define textureLod texture2D\n            #endif\n\n\n            // * taken & modified from https://github.com/mrdoob/three.js/blob/dev/src/renderers/shaders/ShaderLib/meshmatcap_frag.glsl.js\n            vec2 getMatCapUV(vec3 viewSpacePosition, vec3 viewSpaceNormal) {\n                vec3 viewDir = normalize(-viewSpacePosition);\n            \tvec3 x = normalize(vec3(viewDir.z, 0.0, - viewDir.x));\n            \tvec3 y = normalize(cross(viewDir, x));\n            \tvec2 uv = vec2(dot(x, viewSpaceNormal), dot(y, viewSpaceNormal)) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n            \treturn uv;\n            }\n        #endif\n\n        UNI float inEnvMapIntensity;\n        UNI float inEnvMapWidth;\n    #endif\n\n    #ifdef HAS_TEXTURE_LUMINANCE_MASK\n        UNI sampler2D texLuminance;\n        UNI float inLuminanceMaskIntensity;\n    #endif\n\n    #ifdef HAS_TEXTURE_DIFFUSE\n        UNI sampler2D texDiffuse;\n    #endif\n\n    #ifdef HAS_TEXTURE_SPECULAR\n        UNI sampler2D texSpecular;\n    #endif\n\n    #ifdef HAS_TEXTURE_NORMAL\n        UNI sampler2D texNormal;\n    #endif\n\n    #ifdef HAS_TEXTURE_AO\n        UNI sampler2D texAO;\n    #endif\n\n    #ifdef HAS_TEXTURE_EMISSIVE\n        UNI sampler2D texEmissive;\n    #endif\n\n    #ifdef HAS_TEXTURE_EMISSIVE_MASK\n        UNI sampler2D texMaskEmissive;\n        UNI float inEmissiveMaskIntensity;\n    #endif\n    #ifdef HAS_TEXTURE_ALPHA\n        UNI sampler2D texAlpha;\n    #endif\n// #endif\n\n{{MODULES_HEAD}}\n\nfloat when_gt(float x, float y) { return max(sign(x - y), 0.0); } // comparator function\nfloat when_lt(float x, float y) { return max(sign(y - x), 0.0); }\nfloat when_eq(float x, float y) { return 1. - abs(sign(x - y)); } // comparator function\nfloat when_neq(float x, float y) { return abs(sign(x - y)); } // comparator function\nfloat when_ge(float x, float y) { return 1.0 - when_lt(x, y); }\nfloat when_le(float x, float y) { return 1.0 - when_gt(x, y); }\n\n#ifdef FALLOFF_MODE_A\n    float CalculateFalloff(float distance, vec3 lightDirection, float falloff, float radius) {\n        // * original falloff\n        float denom = distance / radius + 1.0;\n        float attenuation = 1.0 / (denom*denom);\n        float t = (attenuation - falloff) / (1.0 - falloff);\n        return max(t, 0.0);\n    }\n#endif\n\n#ifdef FALLOFF_MODE_B\n    float CalculateFalloff(float distance, vec3 lightDirection, float falloff, float radius) {\n        float distanceSquared = dot(lightDirection, lightDirection);\n        float factor = distanceSquared * falloff;\n        float smoothFactor = clamp(1. - factor * factor, 0., 1.);\n        float attenuation = smoothFactor * smoothFactor;\n\n        return attenuation * 1. / max(distanceSquared, 0.00001);\n    }\n#endif\n\n#ifdef FALLOFF_MODE_C\n    float CalculateFalloff(float distance, vec3 lightDirection, float falloff, float radius) {\n        // https://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\n        float falloffNumerator = 1. - pow(distance/radius, 4.);\n        falloffNumerator = clamp(falloffNumerator, 0., 1.);\n        falloffNumerator *= falloffNumerator;\n\n        float denominator = distance*distance + falloff;\n\n        return falloffNumerator/denominator;\n    }\n#endif\n\n#ifdef FALLOFF_MODE_D\n    float CalculateFalloff(float distance, vec3 lightDirection, float falloff, float radius) {\n        // inverse square falloff, "physically correct"\n        return 1.0 / max(distance * distance, 0.0001);\n    }\n#endif\n\n#ifdef ENABLE_FRESNEL\n    float CalculateFresnel(vec3 direction, vec3 normal)\n    {\n        vec3 nDirection = normalize( direction );\n        vec3 nNormal = normalize( mat3(viewMatrix) * normal );\n        vec3 halfDirection = normalize( nNormal + nDirection );\n\n        float cosine = dot( halfDirection, nDirection );\n        float product = max( cosine, 0.0 );\n        float factor = pow(product, inFresnelWidthExponent.y);\n\n        return 5. * factor;\n    }\n#endif\n\n#ifdef CONSERVE_ENERGY\n    // http://www.rorydriscoll.com/2009/01/25/energy-conservation-in-games/\n    // http://www.farbrausch.de/~fg/articles/phong.pdf\n    float EnergyConservation(float shininess) {\n        #ifdef SPECULAR_PHONG\n            return (shininess + 2.)/TWO_PI;\n        #endif\n        #ifdef SPECULAR_BLINN\n            return (shininess + 8.)/EIGHT_PI;\n        #endif\n\n        #ifdef SPECULAR_SCHLICK\n            return (shininess + 8.)/EIGHT_PI;\n        #endif\n\n        #ifdef SPECULAR_GAUSS\n            return (shininess + 8.)/EIGHT_PI;\n        #endif\n    }\n#endif\n\n#ifdef ENABLE_OREN_NAYAR_DIFFUSE\n    float CalculateOrenNayar(vec3 lightDirection, vec3 viewDirection, vec3 normal) {\n        float LdotV = dot(lightDirection, viewDirection);\n        float NdotL = dot(lightDirection, normal);\n        float NdotV = dot(normal, viewDirection);\n\n        float albedo = inMaterialProperties.ALBEDO;\n        albedo *= 1.8;\n        float s = LdotV - NdotL * NdotV;\n        float t = mix(1., max(NdotL, NdotV), step(0., s));\n\n        float roughness = inMaterialProperties.ROUGHNESS;\n        float sigma2 = roughness * roughness;\n        float A = 1. + sigma2 * (albedo / (sigma2 + 0.13) + 0.5 / (sigma2 + 0.33));\n        float B = 0.45 * sigma2 / (sigma2 + 0.09);\n\n        float factor = albedo * max(0., NdotL) * (A + B * s / t) / PI;\n\n        return factor;\n\n    }\n#endif\n\nvec3 CalculateDiffuseColor(\n    vec3 lightDirection,\n    vec3 viewDirection,\n    vec3 normal,\n    vec3 lightColor,\n    vec3 materialColor,\n    inout float lambert\n) {\n    #ifndef ENABLE_OREN_NAYAR_DIFFUSE\n        lambert = clamp(dot(lightDirection, normal), 0., 1.);\n    #endif\n\n    #ifdef ENABLE_OREN_NAYAR_DIFFUSE\n        lambert = CalculateOrenNayar(lightDirection, viewDirection, normal);\n    #endif\n\n    vec3 diffuseColor = lambert * lightColor * materialColor;\n    return diffuseColor;\n}\n\nvec3 CalculateSpecularColor(\n    vec3 specularColor,\n    float specularCoefficient,\n    float shininess,\n    vec3 lightDirection,\n    vec3 viewDirection,\n    vec3 normal,\n    float lambertian\n) {\n    vec3 resultColor = vec3(0.);\n\n    #ifdef SPECULAR_PHONG\n        vec3 reflectDirection = reflect(-lightDirection, normal);\n        float specularAngle = max(dot(reflectDirection, viewDirection), 0.);\n        float specularFactor = pow(specularAngle, max(0., shininess));\n    resultColor = lambertian * specularFactor * specularCoefficient * specularColor;\n    #endif\n\n    #ifdef SPECULAR_BLINN\n        vec3 halfDirection = normalize(lightDirection + viewDirection);\n        float specularAngle = max(dot(halfDirection, normal), 0.);\n        float specularFactor = pow(specularAngle, max(0., shininess));\n        resultColor = lambertian * specularFactor * specularCoefficient * specularColor;\n    #endif\n\n    #ifdef SPECULAR_SCHLICK\n        vec3 halfDirection = normalize(lightDirection + viewDirection);\n        float specularAngle = dot(halfDirection, normal);\n        float schlickShininess = max(0., shininess);\n        float specularFactor = specularAngle / (schlickShininess - schlickShininess*specularAngle + specularAngle);\n        resultColor = lambertian * specularFactor * specularCoefficient * specularColor;\n    #endif\n\n    #ifdef SPECULAR_GAUSS\n        vec3 halfDirection = normalize(lightDirection + viewDirection);\n        float specularAngle = acos(max(dot(halfDirection, normal), 0.));\n        float exponent = specularAngle * shininess * 0.17;\n        exponent = -(exponent*exponent);\n        float specularFactor = exp(exponent);\n\n        resultColor = lambertian * specularFactor * specularCoefficient * specularColor;\n    #endif\n\n    #ifdef CONSERVE_ENERGY\n        float conserveEnergyFactor = EnergyConservation(shininess);\n        resultColor = conserveEnergyFactor * resultColor;\n    #endif\n\n    return resultColor;\n}\n\n#ifdef HAS_SPOT\n    float CalculateSpotLightEffect(vec3 lightPosition, vec3 conePointAt, float cosConeAngle, float cosConeAngleInner, float spotExponent, vec3 lightDirection) {\n        vec3 spotLightDirection = normalize(lightPosition-conePointAt);\n        float spotAngle = dot(-lightDirection, spotLightDirection);\n        float epsilon = cosConeAngle - cosConeAngleInner;\n\n        float spotIntensity = clamp((spotAngle - cosConeAngle)/epsilon, 0.0, 1.0);\n        spotIntensity = pow(spotIntensity, max(0.01, spotExponent));\n\n        return max(0., spotIntensity);\n    }\n#endif\n\n\n\n{{PHONG_FRAGMENT_HEAD}}\n\n\nvoid main()\n{\n    {{MODULE_BEGIN_FRAG}}\n\n    vec4 col=vec4(0., 0., 0., inDiffuseColor.a);\n    vec3 calculatedColor = vec3(0.);\n    vec3 normal = normalize(normInterpolated);\n    vec3 baseColor = inDiffuseColor.rgb;\n\n    {{MODULE_BASE_COLOR}}\n\n\n\n    #ifdef AO_CHAN_0\n        vec2 tcAo=texCoord;\n    #endif\n    #ifdef AO_CHAN_1\n        vec2 tcAo=texCoord1;\n    #endif\n\n\n    vec3 viewDirection = normalize(v_viewDirection);\n\n    #ifdef DOUBLE_SIDED\n        if(!gl_FrontFacing) normal = normal * -1.0;\n    #endif\n\n    #ifdef HAS_TEXTURES\n        #ifdef HAS_TEXTURE_DIFFUSE\n            baseColor = texture(texDiffuse, texCoord).rgb;\n\n            #ifdef COLORIZE_TEXTURE\n                baseColor *= inDiffuseColor.rgb;\n            #endif\n        #endif\n\n        #ifdef HAS_TEXTURE_NORMAL\n            normal = texture(texNormal, texCoord).rgb;\n            normal = normalize(normal * 2. - 1.);\n            float normalIntensity = inTextureIntensities.NORMAL;\n            normal = normalize(mix(vec3(0., 0., 1.), normal, 2. * normalIntensity));\n            normal = normalize(TBN_Matrix * normal);\n        #endif\n    #endif\n\n    {{PHONG_FRAGMENT_BODY}}\n\n\n\n\n\n\n    #ifdef ENABLE_FRESNEL\n        calculatedColor += inFresnel.rgb * (CalculateFresnel(vec3(cameraSpace_pos), normal) * inFresnel.w * inFresnelWidthExponent.x);\n    #endif\n\n     #ifdef HAS_TEXTURE_ALPHA\n        #ifdef ALPHA_MASK_ALPHA\n            col.a*=texture(texAlpha,texCoord).a;\n        #endif\n        #ifdef ALPHA_MASK_LUMI\n            col.a*= dot(vec3(0.2126,0.7152,0.0722), texture(texAlpha,texCoord).rgb);\n        #endif\n        #ifdef ALPHA_MASK_R\n            col.a*=texture(texAlpha,texCoord).r;\n        #endif\n        #ifdef ALPHA_MASK_G\n            col.a*=texture(texAlpha,texCoord).g;\n        #endif\n        #ifdef ALPHA_MASK_B\n            col.a*=texture(texAlpha,texCoord).b;\n        #endif\n    #endif\n\n    #ifdef DISCARDTRANS\n        if(col.a<0.2) discard;\n    #endif\n\n\n    #ifdef HAS_TEXTURE_ENV\n        vec3 luminanceColor = vec3(0.);\n\n        #ifndef ENVMAP_MATCAP\n            float environmentMapWidth = inEnvMapWidth;\n            float glossyExponent = inMaterialProperties.SHININESS;\n            float glossyCoefficient = inMaterialProperties.SPECULAR_AMT;\n\n            vec3 envMapNormal =  normal;\n            vec3 reflectDirection = reflect(normalize(-viewDirection), normal);\n\n            float lambertianCoefficient = dot(viewDirection, reflectDirection); //0.44; // TODO: need prefiltered map for this\n            // lambertianCoefficient = 1.;\n            float specularAngle = max(dot(reflectDirection, viewDirection), 0.);\n            float specularFactor = pow(specularAngle, max(0., inMaterialProperties.SHININESS));\n\n            glossyExponent = specularFactor;\n\n            float maxMIPLevel = 10.;\n            float MIPlevel = log2(environmentMapWidth / 1024. * sqrt(3.)) - 0.5 * log2(glossyExponent + 1.);\n\n            luminanceColor = inEnvMapIntensity * (\n                inDiffuseColor.rgb *\n                SAMPLETEX(texEnv, envMapNormal, maxMIPLevel).rgb\n                +\n                glossyCoefficient * SAMPLETEX(texEnv, reflectDirection, MIPlevel).rgb\n            );\n        #endif\n        #ifdef ENVMAP_MATCAP\n            luminanceColor = inEnvMapIntensity * (\n                texture(texEnv, getMatCapUV(viewSpacePosition, viewSpaceNormal)).rgb\n                //inDiffuseColor.rgb\n                //* textureLod(texEnv, getMatCapUV(envMapNormal), maxMIPLevel).rgb\n                //+\n                //glossyCoefficient * textureLod(texEnv, getMatCapUV(reflectDirection), MIPlevel).rgb\n            );\n        #endif\n\n\n\n        #ifdef HAS_TEXTURE_LUMINANCE_MASK\n            luminanceColor *= texture(texLuminance, texCoord).r * inLuminanceMaskIntensity;\n        #endif\n\n        #ifdef HAS_TEXTURE_AO\n            luminanceColor *= texture(texAO, tcAo).r*inTextureIntensities.AO;\n        #endif\n\n        #ifdef ENV_BLEND_ADD\n            calculatedColor.rgb += luminanceColor;\n        #endif\n        #ifdef ENV_BLEND_MUL\n            calculatedColor.rgb *= luminanceColor;\n        #endif\n\n        #ifdef ENV_BLEND_MIX\n            calculatedColor.rgb=mix(luminanceColor,calculatedColor.rgb,luminanceColor);\n        #endif\n\n\n    #endif\n\n    #ifdef ADD_EMISSIVE_COLOR\n        vec3 emissiveRadiance = mix(calculatedColor, inEmissiveColor.rgb, inEmissiveColor.w); // .w = intensity of color;\n\n        #ifdef HAS_TEXTURE_EMISSIVE\n            float emissiveIntensity = inTextureIntensities.EMISSIVE;\n            emissiveRadiance = mix(calculatedColor, texture(texEmissive, texCoord).rgb, emissiveIntensity);\n        #endif\n\n        #ifdef HAS_TEXTURE_EMISSIVE_MASK\n           float emissiveMixValue = mix(1., texture(texMaskEmissive, texCoord).r, inEmissiveMaskIntensity);\n           calculatedColor = mix(calculatedColor, emissiveRadiance, emissiveMixValue);\n        #endif\n\n        #ifndef HAS_TEXTURE_EMISSIVE_MASK\n            calculatedColor = emissiveRadiance;\n        #endif\n    #endif\n\n    col.rgb = clamp(calculatedColor, 0., 1.);\n\n\n    {{MODULE_COLOR}}\n\n    outColor = col;\n\n}\n',phong_vert:"\n{{MODULES_HEAD}}\n\n#define NONE -1\n#define AMBIENT 0\n#define POINT 1\n#define DIRECTIONAL 2\n#define SPOT 3\n\n#define TEX_REPEAT_X x;\n#define TEX_REPEAT_Y y;\n#define TEX_OFFSET_X z;\n#define TEX_OFFSET_Y w;\n\nIN vec3 vPosition;\nIN vec2 attrTexCoord;\nIN vec3 attrVertNormal;\nIN float attrVertIndex;\nIN vec3 attrTangent;\nIN vec3 attrBiTangent;\n\nOUT vec2 texCoord;\nOUT vec3 normInterpolated;\nOUT vec3 fragPos;\n\n#ifdef AO_CHAN_1\n    #ifndef ATTRIB_attrTexCoord1\n        IN vec2 attrTexCoord1;\n        OUT vec2 texCoord1;\n        #define ATTRIB_attrTexCoord1\n        #define ATTRIB_texCoord1\n    #endif\n#endif\n\n#ifdef HAS_TEXTURE_NORMAL\n    OUT mat3 TBN_Matrix; // tangent bitangent normal space transform matrix\n#endif\n\n#ifdef ENABLE_FRESNEL\n    OUT vec4 cameraSpace_pos;\n#endif\n\nOUT vec3 v_viewDirection;\nOUT mat3 normalMatrix;\nOUT mat4 mvMatrix;\n\n#ifdef HAS_TEXTURES\n    UNI vec4 inTextureRepeatOffset;\n#endif\n\nUNI vec3 camPos;\nUNI mat4 projMatrix;\nUNI mat4 viewMatrix;\nUNI mat4 modelMatrix;\n\n#ifdef ENVMAP_MATCAP\n    OUT vec3 viewSpaceNormal;\n    OUT vec3 viewSpacePosition;\n#endif\n\n\nmat3 transposeMat3(mat3 m)\n{\n    return mat3(m[0][0], m[1][0], m[2][0],\n        m[0][1], m[1][1], m[2][1],\n        m[0][2], m[1][2], m[2][2]);\n}\n\nmat3 inverseMat3(mat3 m)\n{\n    float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n    float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n    float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n\n    float b01 = a22 * a11 - a12 * a21;\n    float b11 = -a22 * a10 + a12 * a20;\n    float b21 = a21 * a10 - a11 * a20;\n\n    float det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    return mat3(b01, (-a22 * a01 + a02 * a21), (a12 * a01 - a02 * a11),\n        b11, (a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n        b21, (-a21 * a00 + a01 * a20), (a11 * a00 - a01 * a10)) / det;\n}\n\nvoid main()\n{\n    mat4 mMatrix=modelMatrix;\n    vec4 pos=vec4(vPosition,  1.0);\n\n    texCoord=attrTexCoord;\n    texCoord.y = 1. - texCoord.y;\n\n    #ifdef ATTRIB_texCoord1\n        texCoord1=attrTexCoord1;\n    #endif\n\n    vec3 norm=attrVertNormal;\n    vec3 tangent = attrTangent;\n    vec3 bitangent = attrBiTangent;\n\n    {{MODULE_VERTEX_POSITION}}\n\n    normalMatrix = transposeMat3(inverseMat3(mat3(mMatrix)));\n    mvMatrix = (viewMatrix * mMatrix);\n\n\n\n    #ifdef ENABLE_FRESNEL\n        cameraSpace_pos = mvMatrix * pos;\n    #endif\n\n    #ifdef HAS_TEXTURES\n        float repeatX = inTextureRepeatOffset.TEX_REPEAT_X;\n        float offsetX = inTextureRepeatOffset.TEX_OFFSET_X;\n        float repeatY = inTextureRepeatOffset.TEX_REPEAT_Y;\n        float offsetY = inTextureRepeatOffset.TEX_OFFSET_Y;\n\n        texCoord.x *= repeatX;\n        texCoord.x += offsetX;\n        texCoord.y *= repeatY;\n        texCoord.y += offsetY;\n    #endif\n\n   normInterpolated = vec3(normalMatrix*norm);\n\n    #ifdef HAS_TEXTURE_NORMAL\n        vec3 normCameraSpace = normalize((vec4(normInterpolated, 0.0)).xyz);\n        vec3 tangCameraSpace = normalize((mMatrix * vec4(tangent, 0.0)).xyz);\n        vec3 bitangCameraSpace = normalize((mMatrix * vec4(bitangent, 0.0)).xyz);\n\n        // re orthogonalization for smoother normals\n        tangCameraSpace = normalize(tangCameraSpace - dot(tangCameraSpace, normCameraSpace) * normCameraSpace);\n        bitangCameraSpace = cross(normCameraSpace, tangCameraSpace);\n\n        TBN_Matrix = mat3(tangCameraSpace, bitangCameraSpace, normCameraSpace);\n    #endif\n\n    fragPos = vec3((mMatrix) * pos);\n    v_viewDirection = normalize(camPos - fragPos);\n    // modelPos=mMatrix*pos;\n\n    #ifdef ENVMAP_MATCAP\n        mat3 viewSpaceNormalMatrix = normalMatrix = transposeMat3(inverseMat3(mat3(mvMatrix)));\n        viewSpaceNormal = normalize(viewSpaceNormalMatrix * norm);\n        viewSpacePosition = vec3(mvMatrix * pos);\n    #endif\n\n    mat4 modelViewMatrix=mvMatrix;\n    {{MODULE_VERTEX_MODELVIEW}}\n\n\n    gl_Position = projMatrix * modelViewMatrix * pos;\n}\n",snippet_body_ambient_frag:"    // * AMBIENT LIGHT {{LIGHT_INDEX}} *\n    vec3 diffuseColor{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.lightProperties.INTENSITY*phongLight{{LIGHT_INDEX}}.color;\n    calculatedColor += diffuseColor{{LIGHT_INDEX}};\n",snippet_body_directional_frag:"    // * DIRECTIONAL LIGHT {{LIGHT_INDEX}} *\n\n    if (phongLight{{LIGHT_INDEX}}.castLight == 1) {\n        vec3 phongLightDirection{{LIGHT_INDEX}} = normalize(phongLight{{LIGHT_INDEX}}.position);\n\n        float phongLambert{{LIGHT_INDEX}} = 1.; // inout variable\n\n        vec3 lightColor{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.color;\n        vec3 lightSpecular{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.specular;\n\n        #ifdef HAS_TEXTURES\n            #ifdef HAS_TEXTURE_AO\n                // lightColor{{LIGHT_INDEX}} *= mix(vec3(1.), texture(texAO, texCoord).rgb, inTextureIntensities.AO);\n                lightColor{{LIGHT_INDEX}} *= texture(texAO, tcAo).g, inTextureIntensities.AO;\n\n            #endif\n\n            #ifdef HAS_TEXTURE_SPECULAR\n                lightSpecular{{LIGHT_INDEX}} *= mix(1., texture(texSpecular, texCoord).r, inTextureIntensities.SPECULAR);\n            #endif\n        #endif\n\n        vec3 diffuseColor{{LIGHT_INDEX}} = CalculateDiffuseColor(phongLightDirection{{LIGHT_INDEX}}, viewDirection, normal, lightColor{{LIGHT_INDEX}}, baseColor, phongLambert{{LIGHT_INDEX}});\n        vec3 specularColor{{LIGHT_INDEX}} = CalculateSpecularColor(\n            lightSpecular{{LIGHT_INDEX}},\n            inMaterialProperties.SPECULAR_AMT,\n            inMaterialProperties.SHININESS,\n            phongLightDirection{{LIGHT_INDEX}},\n            viewDirection,\n            normal,\n            phongLambert{{LIGHT_INDEX}}\n        );\n\n        vec3 combinedColor{{LIGHT_INDEX}} = (diffuseColor{{LIGHT_INDEX}} + specularColor{{LIGHT_INDEX}});\n\n        vec3 lightModelDiff{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.position - fragPos.xyz;\n\n        combinedColor{{LIGHT_INDEX}} *= phongLight{{LIGHT_INDEX}}.lightProperties.INTENSITY;\n        calculatedColor += combinedColor{{LIGHT_INDEX}};\n    }",snippet_body_point_frag:"// * POINT LIGHT {{LIGHT_INDEX}} *\n    if (phongLight{{LIGHT_INDEX}}.castLight == 1) {\n        vec3 phongLightDirection{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.position - fragPos.xyz;\n        // * get length before normalization for falloff calculation\n        phongLightDirection{{LIGHT_INDEX}} = normalize(phongLightDirection{{LIGHT_INDEX}});\n        float phongLightDistance{{LIGHT_INDEX}} = length(phongLightDirection{{LIGHT_INDEX}});\n\n        float phongLambert{{LIGHT_INDEX}} = 1.; // inout variable\n\n        vec3 lightColor{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.color;\n        vec3 lightSpecular{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.specular;\n\n        #ifdef HAS_TEXTURES\n            #ifdef HAS_TEXTURE_AO\n                lightColor{{LIGHT_INDEX}} -= (1.0-texture(texAO, tcAo).g)* (inTextureIntensities.AO);\n            #endif\n\n            #ifdef HAS_TEXTURE_SPECULAR\n                lightSpecular{{LIGHT_INDEX}} *= mix(1., texture(texSpecular, texCoord).r, inTextureIntensities.SPECULAR);\n            #endif\n        #endif\n\n        vec3 diffuseColor{{LIGHT_INDEX}} = CalculateDiffuseColor(phongLightDirection{{LIGHT_INDEX}}, viewDirection, normal, lightColor{{LIGHT_INDEX}}, baseColor, phongLambert{{LIGHT_INDEX}});\n        vec3 specularColor{{LIGHT_INDEX}} = CalculateSpecularColor(\n            lightSpecular{{LIGHT_INDEX}},\n            inMaterialProperties.SPECULAR_AMT,\n            inMaterialProperties.SHININESS,\n            phongLightDirection{{LIGHT_INDEX}},\n            viewDirection,\n            normal,\n            phongLambert{{LIGHT_INDEX}}\n        );\n\n        vec3 combinedColor{{LIGHT_INDEX}} = (diffuseColor{{LIGHT_INDEX}} + specularColor{{LIGHT_INDEX}});\n\n        combinedColor{{LIGHT_INDEX}} *= phongLight{{LIGHT_INDEX}}.lightProperties.INTENSITY;\n\n        float attenuation{{LIGHT_INDEX}} = CalculateFalloff(\n            phongLightDistance{{LIGHT_INDEX}},\n            phongLightDirection{{LIGHT_INDEX}},\n            phongLight{{LIGHT_INDEX}}.lightProperties.FALLOFF,\n            phongLight{{LIGHT_INDEX}}.lightProperties.RADIUS\n        );\n\n        attenuation{{LIGHT_INDEX}} *= when_gt(phongLambert{{LIGHT_INDEX}}, 0.);\n        combinedColor{{LIGHT_INDEX}} *= attenuation{{LIGHT_INDEX}};\n\n        calculatedColor += combinedColor{{LIGHT_INDEX}};\n    }\n",snippet_body_spot_frag:"    // * SPOT LIGHT {{LIGHT_INDEX}} *\n    if (phongLight{{LIGHT_INDEX}}.castLight == 1) {\n        vec3 phongLightDirection{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.position - fragPos.xyz;\n        phongLightDirection{{LIGHT_INDEX}} = normalize( phongLightDirection{{LIGHT_INDEX}});\n        float phongLightDistance{{LIGHT_INDEX}} = length(phongLightDirection{{LIGHT_INDEX}});\n\n        float phongLambert{{LIGHT_INDEX}} = 1.; // inout variable\n\n        vec3 lightColor{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.color;\n        vec3 lightSpecular{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.specular;\n\n        #ifdef HAS_TEXTURES\n            #ifdef HAS_TEXTURE_AO\n                // lightColor{{LIGHT_INDEX}} *= mix(vec3(1.), texture(texAO, texCoord).rgb, inTextureIntensities.AO);\n                lightColor{{LIGHT_INDEX}} *= texture(texAO, texCoord).g, inTextureIntensities.AO;\n\n            #endif\n\n            #ifdef HAS_TEXTURE_SPECULAR\n                lightSpecular{{LIGHT_INDEX}} *= mix(1., texture(texSpecular, texCoord).r, inTextureIntensities.SPECULAR);\n            #endif\n        #endif\n\n        vec3 diffuseColor{{LIGHT_INDEX}} = CalculateDiffuseColor(phongLightDirection{{LIGHT_INDEX}}, viewDirection, normal, lightColor{{LIGHT_INDEX}}, baseColor, phongLambert{{LIGHT_INDEX}});\n        vec3 specularColor{{LIGHT_INDEX}} = CalculateSpecularColor(\n            lightSpecular{{LIGHT_INDEX}},\n            inMaterialProperties.SPECULAR_AMT,\n            inMaterialProperties.SHININESS,\n            phongLightDirection{{LIGHT_INDEX}},\n            viewDirection,\n            normal,\n            phongLambert{{LIGHT_INDEX}}\n        );\n\n        vec3 combinedColor{{LIGHT_INDEX}} = (diffuseColor{{LIGHT_INDEX}} + specularColor{{LIGHT_INDEX}});\n\n        float spotIntensity{{LIGHT_INDEX}} = CalculateSpotLightEffect(\n            phongLight{{LIGHT_INDEX}}.position, phongLight{{LIGHT_INDEX}}.conePointAt, phongLight{{LIGHT_INDEX}}.spotProperties.COSCONEANGLE,\n            phongLight{{LIGHT_INDEX}}.spotProperties.COSCONEANGLEINNER, phongLight{{LIGHT_INDEX}}.spotProperties.SPOTEXPONENT,\n            phongLightDirection{{LIGHT_INDEX}}\n        );\n\n        combinedColor{{LIGHT_INDEX}} *= spotIntensity{{LIGHT_INDEX}};\n\n        vec3 lightModelDiff{{LIGHT_INDEX}} = phongLight{{LIGHT_INDEX}}.position - fragPos.xyz;\n\n        float attenuation{{LIGHT_INDEX}} = CalculateFalloff(\n            phongLightDistance{{LIGHT_INDEX}},\n            phongLightDirection{{LIGHT_INDEX}},\n            phongLight{{LIGHT_INDEX}}.lightProperties.FALLOFF,\n            phongLight{{LIGHT_INDEX}}.lightProperties.RADIUS\n        );\n\n        attenuation{{LIGHT_INDEX}} *= when_gt(phongLambert{{LIGHT_INDEX}}, 0.);\n\n        combinedColor{{LIGHT_INDEX}} *= attenuation{{LIGHT_INDEX}};\n\n        combinedColor{{LIGHT_INDEX}} *= phongLight{{LIGHT_INDEX}}.lightProperties.INTENSITY;\n        calculatedColor += combinedColor{{LIGHT_INDEX}};\n    }",snippet_head_frag:"UNI Light phongLight{{LIGHT_INDEX}};\n"};const t=e.patch.cgl;const M=s.snippet_head_frag;const B={point:s.snippet_body_point_frag,spot:s.snippet_body_spot_frag,ambient:s.snippet_body_ambient_frag,directional:s.snippet_body_directional_frag,area:s.snippet_body_area_frag};const z=new RegExp("{{LIGHT_INDEX}}","g");const V=e=>{return M.replace("{{LIGHT_INDEX}}",e)};const R=(e,t)=>{return B[t].replace(z,e)};function U(){const e=s.phong_vert;let t=s.phong_frag;let n=V(0);let r=R(0,at[0].type);t=t.replace(Ie,n);t=t.replace(Se,r);w.setSource(e,t);w.define("HAS_POINT");w.removeDefine("HAS_SPOT");w.removeDefine("HAS_DIRECTIONAL");w.removeDefine("HAS_AMBIENT")}const F=e.inTrigger("Trigger In");const G=e.inFloat("R",Math.random());const H=e.inFloat("G",Math.random());const q=e.inFloat("B",Math.random());const W=e.inFloatSlider("A",1);const X=[G,H,q,W];e.setPortGroup("Diffuse Color",X);const n=e.inBool("Enable",false);const r=e.inFloatSlider("Albedo",.707);const a=e.inFloatSlider("Roughness",.835);n.setUiAttribs({hidePort:true});r.setUiAttribs({greyout:true});a.setUiAttribs({greyout:true});G.setUiAttribs({colorPick:true});e.setPortGroup("Oren-Nayar Diffuse",[n,r,a]);e.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_FUNCTION);n.onChange=function(){w.toggleDefine("ENABLE_OREN_NAYAR_DIFFUSE",n);r.setUiAttribs({greyout:!n.get()});a.setUiAttribs({greyout:!n.get()})};const i=e.inValueBool("Active",false);i.setUiAttribs({hidePort:true});const Y=e.inValueSlider("Fresnel Intensity",.7);const J=e.inFloat("Fresnel Width",1);const Z=e.inFloat("Fresnel Exponent",6);const $=e.inFloat("Fresnel R",1);const K=e.inFloat("Fresnel G",1);const Q=e.inFloat("Fresnel B",1);$.setUiAttribs({colorPick:true});const ee=[Y,J,Z,$,K,Q];ee.forEach(function(e){e.setUiAttribs({greyout:true})});e.setPortGroup("Fresnel",ee.concat([i]));let o=null;let te=null;i.onChange=function(){w.toggleDefine("ENABLE_FRESNEL",i);if(i.get()){if(!o)o=new CGL.Uniform(w,"4f","inFresnel",$,K,Q,Y);if(!te)te=new CGL.Uniform(w,"2f","inFresnelWidthExponent",J,Z)}else{if(o){w.removeUniform("inFresnel");o=null}if(te){w.removeUniform("inFresnelWidthExponent");te=null}}ee.forEach(function(e){e.setUiAttribs({greyout:!i.get()})})};const u=e.inBool("Emissive Active",false);const l=e.inFloatSlider("Color Intensity",.3);const p=e.inFloatSlider("Emissive R",Math.random());const c=e.inFloatSlider("Emissive G",Math.random());const d=e.inFloatSlider("Emissive B",Math.random());p.setUiAttribs({colorPick:true});e.setPortGroup("Emissive Color",[u,l,p,c,d]);l.setUiAttribs({greyout:!u.get()});p.setUiAttribs({greyout:!u.get()});c.setUiAttribs({greyout:!u.get()});d.setUiAttribs({greyout:!u.get()});let ne=null;u.onChange=()=>{w.toggleDefine("ADD_EMISSIVE_COLOR",u);if(u.get()){ne=new CGL.Uniform(w,"4f","inEmissiveColor",p,c,d,l);O.setUiAttribs({greyout:false});y.setUiAttribs({greyout:false});if(O.get())j.setUiAttribs({greyout:false});if(y.get())_.setUiAttribs({greyout:false})}else{e.log("ayayay");O.setUiAttribs({greyout:true});y.setUiAttribs({greyout:true});j.setUiAttribs({greyout:true});_.setUiAttribs({greyout:true});w.removeUniform("inEmissiveColor");ne=null}if(O.get()){l.setUiAttribs({greyout:true});p.setUiAttribs({greyout:true});c.setUiAttribs({greyout:true});d.setUiAttribs({greyout:true})}else{if(u.get()){l.setUiAttribs({greyout:false});p.setUiAttribs({greyout:false});c.setUiAttribs({greyout:false});d.setUiAttribs({greyout:false})}else{l.setUiAttribs({greyout:true});p.setUiAttribs({greyout:true});c.setUiAttribs({greyout:true});d.setUiAttribs({greyout:true})}}};const re=e.inFloat("Shininess",4);const ae=e.inFloatSlider("Specular Amount",.5);const g=e.inSwitch("Specular Model",["Blinn","Schlick","Phong","Gauss"],"Blinn");g.setUiAttribs({hidePort:true});const ie=[re,ae,g];e.setPortGroup("Specular",ie);const oe=e.inValueBool("Energy Conservation",false);const se=e.inBool("Double Sided Material",false);const m=e.inSwitch("Falloff Mode",["A","B","C","D"],"A");oe.setUiAttribs({hidePort:true});se.setUiAttribs({hidePort:true});m.setUiAttribs({hidePort:true});m.onChange=()=>{const e=["A","B","C","D"];w.define("FALLOFF_MODE_"+m.get());e.filter(e=>{return e!==m.get()}).forEach(e=>{return w.removeDefine("FALLOFF_MODE_"+e)})};const ue=[oe,se,m];e.setPortGroup("Light Options",ue);const b=e.inTexture("Diffuse Texture");const h=e.inTexture("Specular Texture");const f=e.inTexture("Normal Map");const v=e.inTexture("AO Texture");const O=e.inTexture("Emissive Texture");const y=e.inTexture("Emissive Mask");const x=e.inTexture("Opacity Texture");const I=e.inTexture("Environment Map");const S=e.inTexture("Env Map Mask");e.setPortGroup("Textures",[b,h,f,v,O,y,x,I,S]);const le=e.inBool("Colorize Texture",false);const pe=e.inFloat("Diffuse Repeat X",1);const ce=e.inFloat("Diffuse Repeat Y",1);const de=e.inFloat("Texture Offset X",0);const ge=e.inFloat("Texture Offset Y",0);const me=e.inFloatSlider("Specular Intensity",1);const be=e.inFloatSlider("Normal Map Intensity",.5);const he=e.inFloatSlider("AO Intensity",1);const fe=e.inSwitch("AO UV Channel",["1","2"],1);const j=e.inFloatSlider("Emissive Intensity",1);const _=e.inFloatSlider("Emissive Mask Intensity",1);const ve=e.inFloatSlider("Env Map Intensity",1);const A=e.inSwitch("Env Map Blend",["Add","Multiply","Mix"],"Add");const Oe=e.inFloatSlider("Env Mask Intensity",1);le.setUiAttribs({hidePort:true});e.setPortGroup("Texture Transforms",[le,ce,pe,ge,de]);e.setPortGroup("Texture Intensities",[be,he,me,j,A,_,ve,Oe]);const T=e.inSwitch("Alpha Mask Source",["Luminance","R","G","B","A"],"Luminance");T.setUiAttribs({greyout:true});const C=e.inValueBool("Discard Transparent Pixels");C.setUiAttribs({hidePort:true});e.setPortGroup("Opacity Texture",[T,C]);fe.onChange=A.onChange=T.onChange=He;const ye=e.outTrigger("Trigger Out");const xe=e.outObject("Shader",null,"shader");xe.ignoreValueSerialize=true;const w=new CGL.Shader(t,"phongmaterial_"+e.id,this);w.op=this;w.setModules(["MODULE_VERTEX_POSITION","MODULE_COLOR","MODULE_BEGIN_FRAG","MODULE_BASE_COLOR","MODULE_VERTEX_MODELVIEW"]);w.setSource(s.simosphong_vert,s.simosphong_frag);w.define("FALLOFF_MODE_A");if(t.glVersion<2){w.enableExtension("GL_OES_standard_derivatives");if(t.enableExtension("OES_texture_float"))w.enableExtension("GL_OES_texture_float");else e.log("error loading extension OES_texture_float");if(t.enableExtension("OES_texture_float_linear"))w.enableExtension("GL_OES_texture_float_linear");else e.log("error loading extention OES_texture_float_linear");if(t.enableExtension("GL_OES_texture_half_float"))w.enableExtension("GL_OES_texture_half_float");else e.log("error loading extention GL_OES_texture_half_float");if(t.enableExtension("GL_OES_texture_half_float_linear"))w.enableExtension("GL_OES_texture_half_float_linear");else e.log("error loading extention GL_OES_texture_half_float_linear")}const Ie=new RegExp("{{PHONG_FRAGMENT_HEAD}}","g");const Se=new RegExp("{{PHONG_FRAGMENT_BODY}}","g");const k={directional:false,spot:false,ambient:false,point:false};function je(t){let e=s.phong_frag;let n="";let r="";k.directional=false;k.spot=false;k.ambient=false;k.point=false;for(let e=0;e<t.length;e+=1){const a=t[e];const i=a.type;if(!k[i]){k[i]=true}n=n.concat(V(e));r=r.concat(R(e,a.type))}e=e.replace(Ie,n);e=e.replace(Se,r);w.setSource(s.phong_vert,e);for(let e=0,t=Object.keys(k);e<t.length;e+=1){const o=t[e];if(k[o]){if(!w.hasDefine("HAS_"+o.toUpperCase())){w.define("HAS_"+o.toUpperCase())}}else{if(w.hasDefine("HAS_"+o.toUpperCase())){w.removeDefine("HAS_"+o.toUpperCase())}}}}xe.set(w);let _e=null;let Ae=null;let Te=null;let Ce=null;let we=null;let ke=null;let Ne=null;let N=null;let P=null;let E=null;let Pe=null;let Ee=null;let Le=null;le.onChange=function(){w.toggleDefine("COLORIZE_TEXTURE",le.get())};function De(){if(b.get()){if(!w.hasDefine("HAS_TEXTURE_DIFFUSE")){w.define("HAS_TEXTURE_DIFFUSE");if(!_e)_e=new CGL.Uniform(w,"t","texDiffuse",0)}}else{w.removeUniform("texDiffuse");w.removeDefine("HAS_TEXTURE_DIFFUSE");_e=null}}function Me(){if(h.get()){me.setUiAttribs({greyout:false});if(!w.hasDefine("HAS_TEXTURE_SPECULAR")){w.define("HAS_TEXTURE_SPECULAR");if(!Ae)Ae=new CGL.Uniform(w,"t","texSpecular",0)}}else{me.setUiAttribs({greyout:true});w.removeUniform("texSpecular");w.removeDefine("HAS_TEXTURE_SPECULAR");Ae=null}}function Be(){if(f.get()){be.setUiAttribs({greyout:false});if(!w.hasDefine("HAS_TEXTURE_NORMAL")){w.define("HAS_TEXTURE_NORMAL");if(!Te)Te=new CGL.Uniform(w,"t","texNormal",0)}}else{be.setUiAttribs({greyout:true});w.removeUniform("texNormal");w.removeDefine("HAS_TEXTURE_NORMAL");Te=null}}Ce=new CGL.Uniform(w,"t","texAO");function ze(){w.toggleDefine("HAS_TEXTURE_AO",v.get());he.setUiAttribs({greyout:!v.get()})}function Ve(){if(O.get()){p.setUiAttribs({greyout:true});c.setUiAttribs({greyout:true});d.setUiAttribs({greyout:true});l.setUiAttribs({greyout:true});if(u.get()){j.setUiAttribs({greyout:false})}if(!w.hasDefine("HAS_TEXTURE_EMISSIVE")){w.define("HAS_TEXTURE_EMISSIVE");if(!we)we=new CGL.Uniform(w,"t","texEmissive",0)}}else{j.setUiAttribs({greyout:true});if(u.get()){p.setUiAttribs({greyout:false});c.setUiAttribs({greyout:false});d.setUiAttribs({greyout:false});l.setUiAttribs({greyout:false})}else{O.setUiAttribs({greyout:true})}w.removeUniform("texEmissive");w.removeDefine("HAS_TEXTURE_EMISSIVE");we=null}}function Re(){if(y.get()){if(u.get()){_.setUiAttribs({greyout:false})}if(!w.hasDefine("HAS_TEXTURE_EMISSIVE_MASK")){w.define("HAS_TEXTURE_EMISSIVE_MASK");if(!ke)ke=new CGL.Uniform(w,"t","texMaskEmissive",0);if(!Ne)Ne=new CGL.Uniform(w,"f","inEmissiveMaskIntensity",_)}}else{if(!u.get()){y.setUiAttribs({greyout:true})}_.setUiAttribs({greyout:true});w.removeUniform("texMaskEmissive");w.removeUniform("inEmissiveMaskIntensity");w.removeDefine("HAS_TEXTURE_EMISSIVE_MASK");ke=null;Ne=null}}let Ue=false;function Fe(){w.toggleDefine("HAS_TEXTURE_ENV",I.get());ve.setUiAttribs({greyout:!I.get()});if(I.get()){if(!P)P=new CGL.Uniform(w,"t","texEnv",0);w.toggleDefine("TEX_FORMAT_CUBEMAP",I.get().cubemap);if(I.get().cubemap){w.removeDefine("TEX_FORMAT_EQUIRECT");w.removeDefine("ENVMAP_MATCAP");if(!E)E=new CGL.Uniform(w,"f","inEnvMapIntensity",ve);if(!Pe)Pe=new CGL.Uniform(w,"f","inEnvMapWidth",I.get().cubemap.width)}else{const e=I.get().width===I.get().height;w.toggleDefine("TEX_FORMAT_EQUIRECT",!e);w.toggleDefine("ENVMAP_MATCAP",e);if(!E)E=new CGL.Uniform(w,"f","inEnvMapIntensity",ve);if(!Pe)Pe=new CGL.Uniform(w,"f","inEnvMapWidth",I.get().width)}}else{w.removeUniform("inEnvMapIntensity");w.removeUniform("inEnvMapWidth");w.removeUniform("texEnv");w.removeDefine("HAS_TEXTURE_ENV");w.removeDefine("ENVMAP_MATCAP");P=null;E=null}Ue=false}function Ge(){if(S.get()){Oe.setUiAttribs({greyout:false});if(!Ee){w.define("HAS_TEXTURE_LUMINANCE_MASK");Ee=new CGL.Uniform(w,"t","texLuminance",0);Le=new CGL.Uniform(w,"f","inLuminanceMaskIntensity",Oe)}}else{Oe.setUiAttribs({greyout:true});w.removeDefine("HAS_TEXTURE_LUMINANCE_MASK");w.removeUniform("inLuminanceMaskIntensity");w.removeUniform("texLuminance");Ee=null;Le=null}}function He(){w.toggleDefine("ENV_BLEND_ADD",A.get()=="Add");w.toggleDefine("ENV_BLEND_MUL",A.get()=="Multiply");w.toggleDefine("ENV_BLEND_MIX",A.get()=="Mix");w.toggleDefine("ALPHA_MASK_ALPHA",T.get()=="A"||T.get()=="Alpha");w.toggleDefine("ALPHA_MASK_LUMI",T.get()=="Luminance");w.toggleDefine("ALPHA_MASK_R",T.get()=="R");w.toggleDefine("ALPHA_MASK_G",T.get()=="G");w.toggleDefine("ALPHA_MASK_B",T.get()=="B");w.toggleDefine("AO_CHAN_0",fe.get()=="1");w.toggleDefine("AO_CHAN_1",fe.get()=="2")}function qe(){if(x.get()){if(N!==null)return;w.removeUniform("texAlpha");w.define("HAS_TEXTURE_ALPHA");if(!N)N=new CGL.Uniform(w,"t","texAlpha",0);T.setUiAttribs({greyout:false});C.setUiAttribs({greyout:false})}else{w.removeUniform("texAlpha");w.removeDefine("HAS_TEXTURE_ALPHA");N=null;T.setUiAttribs({greyout:true});C.setUiAttribs({greyout:true})}He()}C.onChange=function(){w.toggleDefine("DISCARDTRANS",C.get())};b.onChange=De;h.onChange=Me;f.onChange=Be;v.onChange=ze;O.onChange=Ve;y.onChange=Re;x.onChange=qe;I.onChange=()=>{Ue=true};S.onChange=Ge;const We=t.maxUniformsFrag;const Xe=We===64?6:16;w.define("MAX_LIGHTS",Xe.toString());w.define("SPECULAR_PHONG");g.onChange=function(){if(g.get()==="Phong"){w.define("SPECULAR_PHONG");w.removeDefine("SPECULAR_BLINN");w.removeDefine("SPECULAR_GAUSS");w.removeDefine("SPECULAR_SCHLICK")}else if(g.get()==="Blinn"){w.define("SPECULAR_BLINN");w.removeDefine("SPECULAR_PHONG");w.removeDefine("SPECULAR_GAUSS");w.removeDefine("SPECULAR_SCHLICK")}else if(g.get()==="Gauss"){w.define("SPECULAR_GAUSS");w.removeDefine("SPECULAR_BLINN");w.removeDefine("SPECULAR_PHONG");w.removeDefine("SPECULAR_SCHLICK")}else if(g.get()==="Schlick"){w.define("SPECULAR_SCHLICK");w.removeDefine("SPECULAR_BLINN");w.removeDefine("SPECULAR_PHONG");w.removeDefine("SPECULAR_GAUSS")}};oe.onChange=function(){w.toggleDefine("CONSERVE_ENERGY",oe.get())};se.onChange=function(){w.toggleDefine("DOUBLE_SIDED",se.get())};const Ye=new CGL.Uniform(w,"4f","inMaterialProperties",r,a,re,ae);const Je=new CGL.Uniform(w,"4f","inDiffuseColor",G,H,q,W);const Ze=new CGL.Uniform(w,"4f","inTextureIntensities",be,he,me,j);const $e=new CGL.Uniform(w,"4f","inTextureRepeatOffset",pe,ce,de,ge);w.uniformColorDiffuse=Je;const L=[];let Ke=0;function Qe(t){for(let e=0;e<L.length;e+=1){L[e]=null}for(let e=0;e<t;e+=1){L[e]=null;if(!L[e]){L[e]={color:new CGL.Uniform(w,"3f","phongLight"+e+".color",[1,1,1]),position:new CGL.Uniform(w,"3f","phongLight"+e+".position",[0,11,0]),specular:new CGL.Uniform(w,"3f","phongLight"+e+".specular",[1,1,1]),lightProperties:new CGL.Uniform(w,"4f","phongLight"+e+".lightProperties",[1,1,1,1]),conePointAt:new CGL.Uniform(w,"3f","phongLight"+e+".conePointAt",vec3.create()),spotProperties:new CGL.Uniform(w,"3f","phongLight"+e+".spotProperties",[0,0,0,0]),castLight:new CGL.Uniform(w,"i","phongLight"+e+".castLight",1)}}}}function et(e){D.position.setValue(e.position);D.color.setValue(e.color);D.specular.setValue(e.specular);D.lightProperties.setValue([e.intensity,e.attenuation,e.falloff,e.radius]);D.conePointAt.setValue(e.conePointAt);D.spotProperties.setValue([e.cosConeAngle,e.cosConeAngleInner,e.spotExponent])}function tt(t){for(let e=0;e<t.length;e+=1){const n=t[e];n.isUsed=true;L[e].position.setValue(n.position);L[e].color.setValue(n.color);L[e].specular.setValue(n.specular);L[e].lightProperties.setValue([n.intensity,n.attenuation,n.falloff,n.radius]);L[e].conePointAt.setValue(n.conePointAt);L[e].spotProperties.setValue([n.cosConeAngle,n.cosConeAngleInner,n.spotExponent]);L[e].castLight.setValue(n.castLight)}}function nt(e){if(e.length!==Ke){je(e);Qe(e.length);Ke=e.length;tt(e)}else{tt(e)}}let D=null;function rt(){D={color:new CGL.Uniform(w,"3f","phongLight"+0+".color",[1,1,1]),specular:new CGL.Uniform(w,"3f","phongLight"+0+".specular",[1,1,1]),position:new CGL.Uniform(w,"3f","phongLight"+0+".position",[0,11,0]),lightProperties:new CGL.Uniform(w,"4f","phongLight"+0+".lightProperties",[1,1,1,1]),conePointAt:new CGL.Uniform(w,"3f","phongLight"+0+".conePointAt",vec3.create()),spotProperties:new CGL.Uniform(w,"3f","phongLight"+0+".spotProperties",[0,0,0,0]),castLight:new CGL.Uniform(w,"i","phongLight"+0+".castLight",1)}}const at=[{type:"point",position:[5,5,5],color:[1,1,1],specular:[1,1,1],intensity:1,attenuation:0,falloff:.5,radius:80,castLight:1}];const it=mat4.create();function ot(){if(t.frameStore.lightStack){if(t.frameStore.lightStack.length===0){e.setUiError("deflight","Default light is enabled. Please add lights to your patch to make this warning disappear.",1)}else e.setUiError("deflight",null)}if(!t.frameStore.lightStack||!t.frameStore.lightStack.length){if(!D){U();rt()}mat4.invert(it,t.vMatrix);at[0].position=[it[12],it[13],it[14]];et(at[0]);Ke=-1}else{if(w){if(t.frameStore.lightStack){if(t.frameStore.lightStack.length){D=null;nt(t.frameStore.lightStack)}}}}}const st=function(){if(!w){e.log("NO SHADER");return}t.pushShader(w);w.popTextures();ye.trigger();t.popShader()};e.preRender=function(){w.bind();st()};const ut=mat4.create();const lt=vec3.create();const pt=vec3.create();F.onTriggered=function(){if(!w){e.log("phong has no shader...");return}if(Ue)Fe();t.pushShader(w);w.popTextures();if(b.get())w.pushTexture(_e,b.get());if(h.get())w.pushTexture(Ae,h.get());if(f.get())w.pushTexture(Te,f.get());if(v.get())w.pushTexture(Ce,v.get());if(O.get())w.pushTexture(we,O.get());if(y.get())w.pushTexture(ke,y.get());if(x.get())w.pushTexture(N,x.get());if(I.get()){if(I.get().cubemap)w.pushTexture(P,I.get().cubemap,t.gl.TEXTURE_CUBE_MAP);else w.pushTexture(P,I.get())}if(S.get()){w.pushTexture(Ee,S.get())}ot();ye.trigger();t.popShader()};if(t.glVersion==1){if(!t.enableExtension("EXT_shader_texture_lod")){e.log("no EXT_shader_texture_lod texture extension")}else{w.enableExtension("GL_EXT_shader_texture_lod");t.enableExtension("OES_texture_float");t.enableExtension("OES_texture_float_linear");t.enableExtension("OES_texture_half_float");t.enableExtension("OES_texture_half_float_linear");w.enableExtension("GL_OES_standard_derivatives");w.enableExtension("GL_OES_texture_float");w.enableExtension("GL_OES_texture_float_linear");w.enableExtension("GL_OES_texture_half_float");w.enableExtension("GL_OES_texture_half_float_linear")}}De();Me();Be();ze();qe();Ve();Re();Fe();Ge()};Ops.Gl.Phong.PhongMaterial_v6.prototype=new CABLES.Op;CABLES.OPS["0d83ed06-cdbe-4fe0-87bb-0ccece7fb6e1"]={f:Ops.Gl.Phong.PhongMaterial_v6,objName:"Ops.Gl.Phong.PhongMaterial_v6"};Ops.Gl.MeshInstancer_v4=function(){CABLES.Op.apply(this,arguments);const b=this;const e=b.attachments={billboard_vert:"\n#ifdef BILLBOARDING\n\n    modelViewMatrix[0][0] = 1.0;\n    modelViewMatrix[0][1] = 0.0;\n    modelViewMatrix[0][2] = 0.0;\n\n    #ifndef BILLBOARDING_CYLINDRIC\n        modelViewMatrix[1][0] = 0.0;\n        modelViewMatrix[1][1] = 1.0;\n        modelViewMatrix[1][2] = 0.0;\n    #endif\n\n    modelViewMatrix[2][0] = 0.0;\n    modelViewMatrix[2][1] = 0.0;\n    modelViewMatrix[2][2] = 1.0;\n\n#endif",instancer_body_frag:"#define INSTANCING\n#ifdef COLORIZE_INSTANCES\n    #ifdef BLEND_MODE_MULTIPLY\n        col.rgb *= frag_instColor.rgb;\n        col.a *= frag_instColor.a;\n    #endif\n\n    #ifdef BLEND_MODE_ADD\n        col.rgb += frag_instColor.rgb;\n        col.a += frag_instColor.a;\n    #endif\n\n    #ifdef BLEND_MODE_NONE\n        col.rgb = frag_instColor.rgb;\n        col.a = frag_instColor.a;\n    #endif\n#endif\n",instancer_body_vert:"\n\n#ifdef HAS_TEXCOORDS\ntexCoord=(texCoord*instTexCoords.zw)+instTexCoords.xy;\n#endif\n\nmMatrix*=instMat;\npos.xyz*=MOD_scale;\n\n#ifdef HAS_COLORS\nfrag_instColor=instColor;\n#endif\n#ifndef HAS_COLORS\nfrag_instColor=vec4(1.0);\n#endif\n\n\nfrag_instIndex=instanceIndex;\n\n",instancer_head_frag:"IN vec4 frag_instColor;\n\n#ifdef WEBGL2\n    flat IN float frag_instIndex;\n#endif\n#ifdef WEBGL1\n    IN float frag_instIndex;\n#endif\n",instancer_head_vert:"\nIN vec4 instColor;\nIN mat4 instMat;\nIN vec4 instTexCoords;\nIN float instanceIndex;\nOUT mat4 instModelMat;\nOUT vec4 frag_instColor;\n\n#ifdef WEBGL2\n    flat OUT float frag_instIndex;\n#endif\n#ifdef WEBGL1\n    OUT float frag_instIndex;\n#endif\n\n\n\n#define INSTANCING\n\n"};const t=b.inTrigger("exe"),n=b.inObject("geom",null,"geometry"),r=b.inValue("Scale",1),a=b.inValueBool("Limit Instances",false),i=b.inValueInt("Limit",100),h=b.inArray("positions",3),f=b.inArray("Scale Array",3),v=b.inArray("Rotations",3),O=b.inSwitch("Rotation Type",["Euler","Quaternions","Normals"],"Euler"),o=b.inSwitch("Billboarding",["Off","Spherical","Cylindrical"],"Off"),s=b.inSwitch("Material blend mode",["Multiply","Add","Normal"],"Multiply"),y=b.inArray("Colors",4),x=b.inArray("TexCoords",4),u=b.outTrigger("Trigger Out"),l=b.outNumber("Num");b.setPortGroup("Limit Number of Instances",[i,a]);b.setPortGroup("Parameters",[f,v,h,O]);b.toWorkPortsNeedToBeLinked(n);b.toWorkPortsNeedToBeLinked(t);n.ignoreValueSerialize=true;const p=b.patch.cgl;const I=mat4.create();let S=new Float32Array(1),j=new Float32Array(1),_=new Float32Array(1),A=null,T=true,C=0,w=true,k=true,N=true;const P=new CGL.ShaderModifier(p,b.name,{opId:b.id});P.addModule({name:"MODULE_VERTEX_POSITION",title:b.name,priority:-2,srcHeadVert:e.instancer_head_vert,srcBodyVert:e.instancer_body_vert});P.addModule({name:"MODULE_VERTEX_MODELVIEW",title:b.name+"_billboard",srcBodyVert:e.billboard_vert});P.addModule({name:"MODULE_COLOR",priority:-2,title:b.name,srcHeadFrag:e.instancer_head_frag,srcBodyFrag:e.instancer_body_frag});P.addUniformVert("f","MOD_scale",r);let E=true;s.onChange=()=>{E=true};a.onChange=m;t.onTriggered=D;t.onLinkChanged=function(){if(!t.isLinked())d()};m();v.onChange=f.onChange=h.onChange=O.onChange=function(){N=true;T=true};o.onChange=x.onChange=function(){k=true;T=true;E=true};y.onChange=function(){w=true;T=true;E=true};function c(){w=true,N=true;T=true}function L(){P.toggleDefine("BILLBOARDING",o.get()!="Off");P.toggleDefine("BILLBOARDING_CYLINDRIC",o.get()=="Cylindrical");P.toggleDefine("COLORIZE_INSTANCES",y.get());P.toggleDefine("TEXCOORDS_INSTANCES",x.get());P.toggleDefine("BLEND_MODE_MULTIPLY",s.get()==="Multiply");P.toggleDefine("BLEND_MODE_ADD",s.get()==="Add");P.toggleDefine("BLEND_MODE_NONE",s.get()==="Normal");E=false}n.onChange=function(){if(A)A.dispose();if(!n.get()){A=null;return}A=new CGL.Mesh(p,n.get());c()};function d(){}function g(){if(!A)return;let e=h.get();if(!e)e=[0,0,0];C=Math.floor(e.length/3);if(E)L();const n=y.get();const r=x.get();const a=f.get();const i=O.get()=="Quaternions";const o=O.get()=="Euler";const s=O.get()=="Normals";let t=3;if(i)t=4;v.setUiAttribs({stride:t});if(a&&a.length!=e.length)b.setUiError("lengthScales","Scales array has wrong length");else b.setUiError("lengthScales",null);if(S.length!=C*16)S=new Float32Array(C*16);if(j.length!=C*4){w=true;j=new Float32Array(C*4)}if(_.length!=C*4){k=true;_=new Float32Array(C*4)}const u=v.get();for(let t=0;t<C;t++){mat4.identity(I);mat4.translate(I,I,[e[t*3],e[t*3+1],e[t*3+2]]);if(u){if(i){const l=mat4.create();const p=[u[t*4+0],u[t*4+1],u[t*4+2],u[t*4+3]];quat.normalize(p,p);mat4.fromQuat(l,p);mat4.mul(I,I,l)}else if(s){const c=[u[t*3+0],u[t*3+1],u[t*3+2]];const d=[1,0,0];const g=vec3.create();vec3.cross(g,d,c);vec3.normalize(g,g);const m=Math.acos(vec3.dot(d,c));const p=quat.create();quat.setAxisAngle(p,g,m);quat.normalize(p,p);const l=mat4.create();mat4.fromQuat(l,p);mat4.mul(I,I,l)}if(o){mat4.rotateX(I,I,u[t*3+0]*CGL.DEG2RAD);mat4.rotateY(I,I,u[t*3+1]*CGL.DEG2RAD);mat4.rotateZ(I,I,u[t*3+2]*CGL.DEG2RAD)}}if(w&&n){j[t*4+0]=n[t*4+0];j[t*4+1]=n[t*4+1];j[t*4+2]=n[t*4+2];j[t*4+3]=n[t*4+3]}if(k&&r){_[t*4+0]=r[t*4+0];_[t*4+1]=r[t*4+1];_[t*4+2]=r[t*4+2];_[t*4+3]=r[t*4+3]}if(a&&a.length>t)mat4.scale(I,I,[a[t*3],a[t*3+1],a[t*3+2]]);else mat4.scale(I,I,[1,1,1]);for(let e=0;e<16;e++)S[t*16+e]=I[e]}A.setNumInstances(C);if(N)A.addAttribute("instMat",S,16);if(w)A.addAttribute("instColor",j,4,{instanced:true});if(k)A.addAttribute("instTexCoords",_,4,{instanced:true});P.toggleDefine("HAS_TEXCOORDS",r);P.toggleDefine("HAS_COLORS",n);w=false;T=false}function m(){i.setUiAttribs({greyout:!a.get()})}function D(){if(!A)return;if(T)g();P.bind();if(a.get())A.setNumInstances(Math.min(C,i.get()));else A.setNumInstances(C);l.set(A.numInstances);if(A.numInstances>0)A.render(p.getShader());u.trigger();P.unbind()}};Ops.Gl.MeshInstancer_v4.prototype=new CABLES.Op;CABLES.OPS["cb58f461-a0bd-4159-a3cb-5e396198b4e9"]={f:Ops.Gl.MeshInstancer_v4,objName:"Ops.Gl.MeshInstancer_v4"};Ops.Array.Array_v3=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const r=t.inValueInt("Array length",10),n=t.inSwitch("Mode select",["Number","1,2,3,4","0-1"],"Number"),a=t.inValueFloat("Default Value"),i=t.inBool("Reverse",false),o=t.outArray("Array"),s=t.outNumber("Array length out");let u=[];let l=0;const p=0;const c=1;const d=2;n.onChange=g;i.onChange=a.onChange=r.onChange=m;g();m();function g(){let e=n.get();if(e==="Number")l=p;else if(e==="1,2,3,4")l=c;else if(e==="0-1")l=d;a.setUiAttribs({greyout:l!==p});t.setUiAttrib({extendTitle:n.get()});m()}function m(){u.length=0;let e=r.get();let t=a.get();let n;if(l===p){for(n=0;n<e;n++){u[n]=t}}else if(l===c){for(n=0;n<e;n++){u[n]=n}}else if(l===d){if(e>1){for(n=0;n<e;n++){u[n]=n/(e-1)}}else{u=[0]}}if(i.get())u=u.reverse();o.setRef(u);s.set(u.length)}};Ops.Array.Array_v3.prototype=new CABLES.Op;CABLES.OPS["e4d31a46-bf64-42a8-be34-4cbb2bbc2600"]={f:Ops.Array.Array_v3,objName:"Ops.Array.Array_v3"};Ops.Array.ShuffleArray3_v3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const a=e.inArray("Array3"),i=e.inFloat("Seed",1),o=e.outArray("Result");const s=[];const u=[];a.onChange=n;i.onChange=n;function l(e){let t=0;let n=0;let r=null;for(t=e.length-1;t>=0;t-=1){n=Math.floor(Math.seededRandom()*(t+1));r=e[t];e[t]=e[n];e[n]=r}}function n(){const e=a.get();if(!e||e.length%3!==0)return;if(e.length!=s.length)s.length=e.length;let t=0;let n=0;const r=null;Math.setRandomSeed(i.get());for(t=0;t<e.length;t+=3)u[t/3]=t;for(let e=0;e<4;e++)l(u);for(t=0;t<e.length;t+=3){n=u[t/3];s[t+0]=e[n+0];s[t+1]=e[n+1];s[t+2]=e[n+2]}o.set(null);o.set(s)}};Ops.Array.ShuffleArray3_v3.prototype=new CABLES.Op;CABLES.OPS["4b0e42bf-380b-4504-8857-08e1d451df07"]={f:Ops.Array.ShuffleArray3_v3,objName:"Ops.Array.ShuffleArray3_v3"};Ops.Data.Compose.Array.CompArray=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inTrigger("Update"),r=t.inBool("Active",true),a=t.inTrigger("Reset"),i=t.outTrigger("Next"),o=t.outArray("Result");a.onTriggered=()=>{o.setRef([])};n.onTriggered=()=>{if(!r.get())return i.trigger();t.patch.frameStore.compArray=t.patch.frameStore.compArray||[];let e=[];t.patch.frameStore.compArray.push(e);i.trigger();o.setRef(t.patch.frameStore.compArray.pop())}};Ops.Data.Compose.Array.CompArray.prototype=new CABLES.Op;CABLES.OPS["16f1ce37-9e0d-4632-a9ba-dfd42c4eb254"]={f:Ops.Data.Compose.Array.CompArray,objName:"Ops.Data.Compose.Array.CompArray"};Ops.Data.Compose.Array.CompArrayPushNumber=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inTrigger("Update"),r=t.inFloat("Number",0),a=t.outTrigger("Next");n.onTriggered=()=>{if(t.patch.frameStore.compArray&&t.patch.frameStore.compArray.length>0){let e=t.patch.frameStore.compArray[t.patch.frameStore.compArray.length-1];if(e)e.push(r.get())}a.trigger()}};Ops.Data.Compose.Array.CompArrayPushNumber.prototype=new CABLES.Op;CABLES.OPS["49741334-d249-4f62-96ea-3ff582f38598"]={f:Ops.Data.Compose.Array.CompArrayPushNumber,objName:"Ops.Data.Compose.Array.CompArrayPushNumber"};Ops.Devices.Mouse.Mouse_v3=function(){CABLES.Op.apply(this,arguments);const e=this;const D=e.attachments={};const t=e.inSwitch("Coordinates",["-1 to 1","Pixel Display","Pixel","0 to 1"],"-1 to 1"),a=e.inValueSelect("Area",["Canvas","Document","Parent Element","Canvas Area"],"Canvas"),i=e.inValueBool("flip y",true),n=e.inBool("right click prevent default",true),r=e.inValueBool("Touch support",true),o=e.inValueBool("Passive Events",false),s=e.inValueBool("Active",true),u=e.outNumber("x",0),l=e.outNumber("y",0),p=e.outTrigger("click"),c=e.outTrigger("click right"),d=e.outBoolNum("Button is down"),g=e.outBoolNum("Mouse is hovering"),m=e.outNumber("Movement X",0),b=e.outNumber("Movement Y",0);const h=e.patch.cgl;let f=1;let v=null;let O=null;o.onChange=a.onChange=L;t.onChange=B;e.onDelete=E;L();e.on("loadedValueSet",y);function y(){if(f==0){if(O.clientWidth===0)setTimeout(y,50);u.set(O.clientWidth/2);l.set(O.clientHeight/2)}else if(f==1){u.set(0);l.set(0)}else if(f==2){u.set(.5);l.set(.5)}else if(f==3){if(O.clientWidth===0){setTimeout(y,50)}u.set(O.clientWidth/2/h.pixelDensity);l.set(O.clientHeight/2/h.pixelDensity)}else console.error("unknown normalize mouse",f)}function M(a,i){a=a||0;i=i||0;if(f==0){u.set(a);l.set(i)}else if(f==3){u.set(a*h.pixelDensity);l.set(i*h.pixelDensity)}else{let n=O.clientWidth/h.pixelDensity;let r=O.clientHeight/h.pixelDensity;n=n||1;r=r||1;if(f==1){let e=a/n*2-1;let t=i/r*2-1;e=CABLES.clamp(e,-1,1);t=CABLES.clamp(t,-1,1);u.set(e);l.set(t)}else if(f==2){let e=a/n;let t=i/r;e=CABLES.clamp(e,0,1);t=CABLES.clamp(t,0,1);u.set(e);l.set(t)}}}function x(e){const t=O.getBoundingClientRect();return e.clientX>t.left&&e.clientX<t.left+t.width&&e.clientY>t.top&&e.clientY<t.top+t.height}r.onChange=function(){E();L()};s.onChange=function(){if(v)E();if(s.get())L()};function B(){if(t.get()=="Pixel")f=0;else if(t.get()=="-1 to 1")f=1;else if(t.get()=="0 to 1")f=2;else if(t.get()=="Pixel Display")f=3}function I(e){d.set(false);g.set(x(e))}function S(e){if(!x(e))return;d.set(true)}function j(e){d.set(false)}function _(e){if(!x(e))return;c.trigger();if(n.get())e.preventDefault()}function A(e){if(!x(e))return;p.trigger()}function T(e){d.set(false);g.set(x(e))}function C(e){let t=e.clientX;let n=e.clientY;if(a.get()!="Document"){t=e.offsetX;n=e.offsetY}if(a.get()==="Canvas Area"){const r=O.getBoundingClientRect();t=e.clientX-r.left;n=e.clientY-r.top}if(i.get())n=O.clientHeight-n;M(t/h.pixelDensity,n/h.pixelDensity)}function w(e){g.set(x(e));C(e);m.set(e.movementX/h.pixelDensity);b.set(e.movementY/h.pixelDensity)}function k(e){if(event.touches&&event.touches.length>0)C(e.touches[0])}function N(e){d.set(true);if(e.touches&&e.touches.length>0)S(e.touches[0])}function P(e){d.set(false);j()}function E(){if(!v)return;v.removeEventListener("touchend",P);v.removeEventListener("touchstart",N);v.removeEventListener("touchmove",k);v.removeEventListener("click",A);v.removeEventListener("mousemove",w);v.removeEventListener("mouseleave",T);v.removeEventListener("mousedown",S);v.removeEventListener("mouseup",j);v.removeEventListener("mouseenter",I);v.removeEventListener("contextmenu",_);v=null}function L(){if(v||!s.get())E();if(!s.get())return;v=O=h.canvas;if(a.get()=="Canvas Area"){O=h.canvas.parentElement;v=document.body}if(a.get()=="Document")O=v=document.body;if(a.get()=="Parent Element")v=O=h.canvas.parentElement;let e=false;if(o.get())e={passive:true};if(r.get()){v.addEventListener("touchend",P,e);v.addEventListener("touchstart",N,e);v.addEventListener("touchmove",k,e)}v.addEventListener("mousemove",w,e);v.addEventListener("mouseleave",T,e);v.addEventListener("mousedown",S,e);v.addEventListener("mouseup",j,e);v.addEventListener("mouseenter",I,e);v.addEventListener("contextmenu",_,e);v.addEventListener("click",A,e)}};Ops.Devices.Mouse.Mouse_v3.prototype=new CABLES.Op;CABLES.OPS["6d1edbc0-088a-43d7-9156-918fb3d7f24b"]={f:Ops.Devices.Mouse.Mouse_v3,objName:"Ops.Devices.Mouse.Mouse_v3"};Ops.Gl.Meshes.Rectangle_v4=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inTrigger("render"),r=t.inValueBool("Render Mesh",true),T=t.inValue("width",1),C=t.inValue("height",1),w=t.inSwitch("pivot x",["left","center","right"],"center"),k=t.inSwitch("pivot y",["top","center","bottom"],"center"),N=t.inSwitch("axis",["xy","xz"],"xy"),P=t.inBool("Flip TexCoord X",false),E=t.inBool("Flip TexCoord Y",true),L=t.inValueInt("num columns",1),D=t.inValueInt("num rows",1),a=t.outTrigger("trigger"),M=t.outObject("geometry",null,"geometry");M.ignoreValueSerialize=true;const B=new CGL.Geometry("rectangle");r.setUiAttribs({title:"Render"});n.setUiAttribs({title:"Trigger"});a.setUiAttribs({title:"Next"});t.setPortGroup("Pivot",[w,k,N]);t.setPortGroup("Size",[T,C]);t.setPortGroup("Structure",[L,D]);t.toWorkPortsNeedToBeLinked(n);t.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_TRIGGER);const z=0;const V=1;let R=z;let U=null;let F=true;let G=true;const i=vec3.create();vec3.set(i,1,1,1);N.onChange=w.onChange=k.onChange=P.onChange=E.onChange=D.onChange=L.onChange=o;H();T.onChange=C.onChange=()=>{if(G)H();else F=true};function H(){if(R===z)vec3.set(i,T.get(),C.get(),1);if(R===V)vec3.set(i,T.get(),1,C.get())}M.onLinkChanged=()=>{G=!M.isLinked();H();F=true};function o(){F=true}n.onTriggered=()=>{if(F)s();const e=t.patch.cg;if(e&&U&&r.get()){if(G){e.pushModelMatrix();mat4.scale(e.mMatrix,e.mMatrix,i)}U.render(e.getShader());if(G)e.popModelMatrix()}a.trigger()};t.onDelete=()=>{if(U)U.dispose();o()};function s(){if(N.get()=="xy")R=z;if(N.get()=="xz")R=V;H();let n=T.get();let r=C.get();if(G)n=r=1;let a=0;let i=0;if(w.get()=="center")a=0;else if(w.get()=="right")a=-n/2;else if(w.get()=="left")a=+n/2;if(k.get()=="center")i=0;else if(k.get()=="top")i=-r/2;else if(k.get()=="bottom")i=+r/2;const o=Math.max(1,Math.round(D.get()));const s=Math.max(1,Math.round(L.get()));const u=n/s;const l=r/o;const p=[];const c=new Float32Array((s+1)*(o+1)*2);const d=new Float32Array((s+1)*(o+1)*3);const g=new Float32Array((s+1)*(o+1)*3);const m=new Float32Array((s+1)*(o+1)*3);const b=new Float32Array((s+1)*(o+1)*3);let h=0;let f=0;let v=0;let O=0;let y=0;for(let t=0;t<=o;t++){for(let e=0;e<=s;e++){d[f++]=e*u-n/2+a;if(R==V)d[f++]=0;d[f++]=t*l-r/2+i;if(R==z)d[f++]=0;c[h++]=e/s;c[h++]=t/o;if(R==z){g[v++]=0;g[v++]=0;g[v++]=1;m[O++]=1;m[O++]=0;m[O++]=0;b[y++]=0;b[y++]=1;b[y++]=0}else if(R==V){g[v++]=0;g[v++]=1;g[v++]=0;b[y++]=0;b[y++]=0;b[y++]=1}}}p.length=s*o*6;let x=0;for(let t=0;t<s;t++){for(let e=0;e<o;e++){const I=t+(s+1)*e;const S=I;const j=I+1;const _=I+s+1;const A=I+1+s+1;if(R==z){p[x++]=S;p[x++]=j;p[x++]=_;p[x++]=_;p[x++]=j;p[x++]=A}else if(R==V){p[x++]=S;p[x++]=_;p[x++]=j;p[x++]=j;p[x++]=_;p[x++]=A}}}if(E.get())for(let e=0;e<c.length;e+=2)c[e+1]=1-c[e+1];if(P.get())for(let e=0;e<c.length;e+=2)c[e]=1-c[e];B.clear();B.vertices=d;B.texCoords=c;B.verticesIndices=p;B.vertexNormals=g;B.tangents=m;B.biTangents=b;if(t.patch.cg)if(!U)U=t.patch.cg.createMesh(B,{opId:t.id});else U.setGeom(B);M.setRef(B);F=false}};Ops.Gl.Meshes.Rectangle_v4.prototype=new CABLES.Op;CABLES.OPS["cc8c3ede-7103-410b-849f-a645793cab39"]={f:Ops.Gl.Meshes.Rectangle_v4,objName:"Ops.Gl.Meshes.Rectangle_v4"};Ops.Gl.Shader.BasicMaterial_v3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={basicmaterial_frag:"{{MODULES_HEAD}}\n\nIN vec2 texCoord;\n\n#ifdef VERTEX_COLORS\nIN vec4 vertCol;\n#endif\n\n#ifdef HAS_TEXTURES\n    IN vec2 texCoordOrig;\n    #ifdef HAS_TEXTURE_DIFFUSE\n        UNI sampler2D tex;\n    #endif\n    #ifdef HAS_TEXTURE_OPACITY\n        UNI sampler2D texOpacity;\n   #endif\n#endif\n\n\n\nvoid main()\n{\n    {{MODULE_BEGIN_FRAG}}\n    vec4 col=color;\n\n\n    #ifdef HAS_TEXTURES\n        vec2 uv=texCoord;\n\n        #ifdef CROP_TEXCOORDS\n            if(uv.x<0.0 || uv.x>1.0 || uv.y<0.0 || uv.y>1.0) discard;\n        #endif\n\n        #ifdef HAS_TEXTURE_DIFFUSE\n            col=texture(tex,uv);\n\n            #ifdef COLORIZE_TEXTURE\n                col.r*=color.r;\n                col.g*=color.g;\n                col.b*=color.b;\n            #endif\n        #endif\n        col.a*=color.a;\n        #ifdef HAS_TEXTURE_OPACITY\n            #ifdef TRANSFORMALPHATEXCOORDS\n                uv=texCoordOrig;\n            #endif\n            #ifdef ALPHA_MASK_IR\n                col.a*=1.0-texture(texOpacity,uv).r;\n            #endif\n            #ifdef ALPHA_MASK_IALPHA\n                col.a*=1.0-texture(texOpacity,uv).a;\n            #endif\n            #ifdef ALPHA_MASK_ALPHA\n                col.a*=texture(texOpacity,uv).a;\n            #endif\n            #ifdef ALPHA_MASK_LUMI\n                col.a*=dot(vec3(0.2126,0.7152,0.0722), texture(texOpacity,uv).rgb);\n            #endif\n            #ifdef ALPHA_MASK_R\n                col.a*=texture(texOpacity,uv).r;\n            #endif\n            #ifdef ALPHA_MASK_G\n                col.a*=texture(texOpacity,uv).g;\n            #endif\n            #ifdef ALPHA_MASK_B\n                col.a*=texture(texOpacity,uv).b;\n            #endif\n            // #endif\n        #endif\n    #endif\n\n    {{MODULE_COLOR}}\n\n    #ifdef DISCARDTRANS\n        if(col.a<0.2) discard;\n    #endif\n\n    #ifdef VERTEX_COLORS\n        col*=vertCol;\n    #endif\n\n    outColor = col;\n}\n",basicmaterial_vert:"\n{{MODULES_HEAD}}\n\nOUT vec2 texCoord;\nOUT vec2 texCoordOrig;\n\nUNI mat4 projMatrix;\nUNI mat4 modelMatrix;\nUNI mat4 viewMatrix;\n\n#ifdef HAS_TEXTURES\n    UNI float diffuseRepeatX;\n    UNI float diffuseRepeatY;\n    UNI float texOffsetX;\n    UNI float texOffsetY;\n#endif\n\n#ifdef VERTEX_COLORS\n    in vec4 attrVertColor;\n    out vec4 vertCol;\n\n#endif\n\n\nvoid main()\n{\n    mat4 mMatrix=modelMatrix;\n    mat4 modelViewMatrix;\n\n    norm=attrVertNormal;\n    texCoordOrig=attrTexCoord;\n    texCoord=attrTexCoord;\n    #ifdef HAS_TEXTURES\n        texCoord.x=texCoord.x*diffuseRepeatX+texOffsetX;\n        texCoord.y=(1.0-texCoord.y)*diffuseRepeatY+texOffsetY;\n    #endif\n\n    #ifdef VERTEX_COLORS\n        vertCol=attrVertColor;\n    #endif\n\n    vec4 pos = vec4(vPosition, 1.0);\n\n    #ifdef BILLBOARD\n       vec3 position=vPosition;\n       modelViewMatrix=viewMatrix*modelMatrix;\n\n       gl_Position = projMatrix * modelViewMatrix * vec4((\n           position.x * vec3(\n               modelViewMatrix[0][0],\n               modelViewMatrix[1][0],\n               modelViewMatrix[2][0] ) +\n           position.y * vec3(\n               modelViewMatrix[0][1],\n               modelViewMatrix[1][1],\n               modelViewMatrix[2][1]) ), 1.0);\n    #endif\n\n    {{MODULE_VERTEX_POSITION}}\n\n    #ifndef BILLBOARD\n        modelViewMatrix=viewMatrix * mMatrix;\n\n        {{MODULE_VERTEX_MODELVIEW}}\n\n    #endif\n\n    // mat4 modelViewMatrix=viewMatrix*mMatrix;\n\n    #ifndef BILLBOARD\n        // gl_Position = projMatrix * viewMatrix * modelMatrix * pos;\n        gl_Position = projMatrix * modelViewMatrix * pos;\n    #endif\n}\n"};const n=e.inTrigger("render");const r=e.outTrigger("trigger");const a=e.outObject("shader",null,"shader");a.ignoreValueSerialize=true;e.toWorkPortsNeedToBeLinked(n);e.toWorkShouldNotBeChild("Ops.Gl.TextureEffects.ImageCompose",CABLES.OP_PORT_TYPE_FUNCTION);const i=e.patch.cgl;const o=new CGL.Shader(i,"basicmaterialnew",this);o.addAttribute({type:"vec3",name:"vPosition"});o.addAttribute({type:"vec2",name:"attrTexCoord"});o.addAttribute({type:"vec3",name:"attrVertNormal",nameFrag:"norm"});o.addAttribute({type:"float",name:"attrVertIndex"});o.setModules(["MODULE_VERTEX_POSITION","MODULE_COLOR","MODULE_BEGIN_FRAG","MODULE_VERTEX_MODELVIEW"]);o.setSource(t.basicmaterial_vert,t.basicmaterial_frag);a.setRef(o);n.onTriggered=T;const s=e.inValueSlider("r",Math.random());const u=e.inValueSlider("g",Math.random());const l=e.inValueSlider("b",Math.random());const p=e.inValueSlider("a",1);s.setUiAttribs({colorPick:true});const c=o.addUniformFrag("4f","color",s,u,l,p);o.uniformColorDiffuse=c;const d=e.inTexture("texture");let g=null;d.onChange=w;const m=e.inValueBool("colorizeTexture",false);const b=e.inValueBool("Vertex Colors",false);const h=e.inTexture("textureOpacity");let f=null;const v=e.inSwitch("Alpha Mask Source",["Luminance","R","G","B","A","1-A","1-R"],"Luminance");v.setUiAttribs({greyout:true});h.onChange=C;const O=e.inValueBool("Opacity TexCoords Transform",false);const y=e.inValueBool("Discard Transparent Pixels");const x=e.inValue("diffuseRepeatX",1),I=e.inValue("diffuseRepeatY",1),S=e.inValue("Tex Offset X",0),j=e.inValue("Tex Offset Y",0),_=e.inBool("Crop TexCoords",false);o.addUniformFrag("f","diffuseRepeatX",x);o.addUniformFrag("f","diffuseRepeatY",I);o.addUniformFrag("f","texOffsetX",S);o.addUniformFrag("f","texOffsetY",j);const A=e.inValueBool("billboard",false);v.onChange=A.onChange=y.onChange=O.onChange=_.onChange=b.onChange=m.onChange=N;e.setPortGroup("Color",[s,u,l,p]);e.setPortGroup("Color Texture",[d,b,m]);e.setPortGroup("Opacity",[h,v,y,O]);e.setPortGroup("Texture Transform",[x,I,S,j,_]);C();w();e.preRender=function(){o.bind();T()};function T(){if(!o)return;i.pushShader(o);o.popTextures();if(g&&d.get())o.pushTexture(g,d.get());if(f&&h.get())o.pushTexture(f,h.get());r.trigger();i.popShader()}function C(){if(h.get()){if(f!==null)return;o.removeUniform("texOpacity");o.define("HAS_TEXTURE_OPACITY");if(!f)f=new CGL.Uniform(o,"t","texOpacity")}else{o.removeUniform("texOpacity");o.removeDefine("HAS_TEXTURE_OPACITY");f=null}N()}function w(){if(d.get()){if(!o.hasDefine("HAS_TEXTURE_DIFFUSE"))o.define("HAS_TEXTURE_DIFFUSE");if(!g)g=new CGL.Uniform(o,"t","texDiffuse")}else{o.removeUniform("texDiffuse");o.removeDefine("HAS_TEXTURE_DIFFUSE");g=null}k()}function k(){const e=d.isLinked()||h.isLinked();x.setUiAttribs({greyout:!e});I.setUiAttribs({greyout:!e});S.setUiAttribs({greyout:!e});j.setUiAttribs({greyout:!e});m.setUiAttribs({greyout:!e});v.setUiAttribs({greyout:!h.get()});O.setUiAttribs({greyout:!h.get()});let t=true;t=d.get()&&!m.get();s.setUiAttribs({greyout:t});u.setUiAttribs({greyout:t});l.setUiAttribs({greyout:t})}function N(){o.toggleDefine("VERTEX_COLORS",b.get());o.toggleDefine("CROP_TEXCOORDS",_.get());o.toggleDefine("COLORIZE_TEXTURE",m.get());o.toggleDefine("TRANSFORMALPHATEXCOORDS",O.get());o.toggleDefine("DISCARDTRANS",y.get());o.toggleDefine("BILLBOARD",A.get());o.toggleDefine("ALPHA_MASK_ALPHA",v.get()=="A");o.toggleDefine("ALPHA_MASK_IALPHA",v.get()=="1-A");o.toggleDefine("ALPHA_MASK_IR",v.get()=="1-R");o.toggleDefine("ALPHA_MASK_LUMI",v.get()=="Luminance");o.toggleDefine("ALPHA_MASK_R",v.get()=="R");o.toggleDefine("ALPHA_MASK_G",v.get()=="G");o.toggleDefine("ALPHA_MASK_B",v.get()=="B");k()}};Ops.Gl.Shader.BasicMaterial_v3.prototype=new CABLES.Op;CABLES.OPS["ec55d252-3843-41b1-b731-0482dbd9e72b"]={f:Ops.Gl.Shader.BasicMaterial_v3,objName:"Ops.Gl.Shader.BasicMaterial_v3"};Ops.Math.Math=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inFloat("number 0",0),r=t.inFloat("number 1",0),a=t.inSwitch("math mode",["+","-","*","/","%","min","max"],"+"),i=t.outNumber("result");let o;n.onChange=r.onChange=f;a.onChange=h;let s=0;let u=0;const l=function(e,t){return e+t};const p=function(e,t){return e-t};const c=function(e,t){return e*t};const d=function(e,t){return e/t};const g=function(e,t){return e%t};const m=function(e,t){return Math.min(e,t)};const b=function(e,t){return Math.max(e,t)};function h(){let e=a.get();if(e=="+")o=l;else if(e=="-")o=p;else if(e=="*")o=c;else if(e=="/")o=d;else if(e=="%")o=g;else if(e=="min")o=m;else if(e=="max")o=b;f();t.setUiAttrib({extendTitle:e})}function f(){s=n.get();u=r.get();i.set(o(s,u))}h()};Ops.Math.Math.prototype=new CABLES.Op;CABLES.OPS["e9fdcaca-a007-4563-8a4d-e94e08506e0f"]={f:Ops.Math.Math,objName:"Ops.Math.Math"};Ops.Anim.SimpleAnim=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTrigger("exe"),r=e.inTriggerButton("reset"),a=e.inTriggerButton("rewind"),i=e.inValueFloat("start",0),o=e.inValueFloat("end",1),s=e.inValueFloat("duration",.5),u=e.inValueBool("loop"),l=e.inValueBool("Wait for Reset",true),p=e.outTrigger("Next"),c=e.outNumber("result"),d=e.outNumber("finished"),g=e.outTrigger("Finished Trigger");const m=new CABLES.Anim;let b=false;m.createPort(e,"easing",f);let h=-1;u.onChange=f;f();s.onChange=f;function f(){if(m.keys.length!=3){m.setValue(0,0);m.setValue(1,0);m.setValue(2,0)}m.keys[0].time=CABLES.now()/1e3;m.keys[0].value=i.get();if(m.defaultEasing!=h)m.keys[0].setEasing(m.defaultEasing);m.keys[1].time=s.get()+CABLES.now()/1e3;m.keys[1].value=o.get();if(m.defaultEasing!=h)m.keys[1].setEasing(m.defaultEasing);m.loop=u.get();if(m.loop){}else{m.keys[2].time=m.keys[1].time;m.keys[2].value=m.keys[1].value;if(m.defaultEasing!=h)m.keys[2].setEasing(m.defaultEasing)}d.set(false);h=m.defaultEasing}r.onTriggered=function(){b=true;f()};a.onTriggered=function(){m.keys[0].time=CABLES.now()/1e3;m.keys[0].value=i.get();m.keys[1].time=CABLES.now()/1e3;m.keys[1].value=i.get();m.keys[2].time=CABLES.now()/1e3;m.keys[2].value=i.get();c.set(i.get())};n.onTriggered=function(){if(l.get()&&!b){c.set(i.get());return}let e=CABLES.now()/1e3;let t=m.getValue(e);c.set(t);if(m.hasEnded(e)){if(!d.get())g.trigger();d.set(true)}p.trigger()}};Ops.Anim.SimpleAnim.prototype=new CABLES.Op;CABLES.OPS["5b244b6e-c505-4743-b2cc-8119ef720028"]={f:Ops.Anim.SimpleAnim,objName:"Ops.Anim.SimpleAnim"};Ops.Boolean.BoolToNumber_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inBool("Use Value 1",false),r=e.inFloat("Value 0",0),a=e.inFloat("Value 1",1),i=e.outNumber("Out Value",0);r.onChange=a.onChange=n.onChange=o;function o(){const e=n.get();if(e){i.set(a.get())}else{i.set(r.get())}}};Ops.Boolean.BoolToNumber_v2.prototype=new CABLES.Op;CABLES.OPS["400eea7d-5a68-4dda-a94d-2bb2ee7c2331"]={f:Ops.Boolean.BoolToNumber_v2,objName:"Ops.Boolean.BoolToNumber_v2"};Ops.User.rambodc.Feed1Txn=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_7z8wqguzm=op.inString("7z8wqguzm","5DlgEPX28xiwKQJwPVOm");\nport_7z8wqguzm.setUiAttribs({title:"postId",});\nport_7z8wqguzm.setUiAttribs({"values":[""]});\n\nconst port_p997c8y83=op.inString("p997c8y83","QmVMCHWygJkvyBYPKjuQKeggB1mRCPcdsz9YuzyZg1849q");\nport_p997c8y83.setUiAttribs({title:"ipfs hash",});\nport_p997c8y83.setUiAttribs({"values":[""]});\n\nconst port_f7sipcbln=op.inString("f7sipcbln","Evg33pXyM8aCS58X0dh7ShgbHXw2");\nport_f7sipcbln.setUiAttribs({title:"Post Creator uid",});\nport_f7sipcbln.setUiAttribs({"values":[""]});\n\nconst port_6o6a9aly0=op.inTrigger("6o6a9aly0");\nport_6o6a9aly0.setUiAttribs({title:"Execute",display:"button",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_7z8wqguzm = addedOps[i].outString("innerOut_7z8wqguzm");\ninnerOut_7z8wqguzm.set(port_7z8wqguzm.get() );\ninnerOut_7z8wqguzm.setUiAttribs({title:"postId"});\nport_7z8wqguzm.on("change", (a,v) => { innerOut_7z8wqguzm.set(a); });\n\nconst innerOut_p997c8y83 = addedOps[i].outString("innerOut_p997c8y83");\ninnerOut_p997c8y83.set(port_p997c8y83.get() );\ninnerOut_p997c8y83.setUiAttribs({title:"ipfs hash"});\nport_p997c8y83.on("change", (a,v) => { innerOut_p997c8y83.set(a); });\n\nconst innerOut_f7sipcbln = addedOps[i].outString("innerOut_f7sipcbln");\ninnerOut_f7sipcbln.set(port_f7sipcbln.get() );\ninnerOut_f7sipcbln.setUiAttribs({title:"Post Creator uid"});\nport_f7sipcbln.on("change", (a,v) => { innerOut_f7sipcbln.set(a); });\n\nconst innerOut_6o6a9aly0 = addedOps[i].outTrigger("innerOut_6o6a9aly0");\ninnerOut_6o6a9aly0.setUiAttribs({title:"Execute"});\nport_6o6a9aly0.onTriggered = () => { innerOut_6o6a9aly0.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp192-0","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsOut":[{"name":"innerOut_7z8wqguzm","title":"postId","links":[{"portIn":"value","portOut":"innerOut_7z8wqguzm","objIn":"bp192-6","objOut":"bp192-0"}]},{"name":"innerOut_p997c8y83","title":"ipfs hash","links":[{"portIn":"value","portOut":"innerOut_p997c8y83","objIn":"bp192-8","objOut":"bp192-0"}]},{"name":"innerOut_f7sipcbln","title":"Post Creator uid","links":[{"portIn":"value","portOut":"innerOut_f7sipcbln","objIn":"bp192-7","objOut":"bp192-0"}]},{"name":"innerOut_6o6a9aly0","title":"Execute","links":[{"portIn":"Increment","portOut":"innerOut_6o6a9aly0","objIn":"bp192-3","objOut":"bp192-0"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp192-1","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp192-2","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsIn":[{"name":"delay","value":0.1}],"portsOut":[{"name":"next","links":[{"portIn":"Execute","portOut":"next","objIn":"bp192-4","objOut":"bp192-2"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp192-3","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsIn":[{"name":"Limit","value":1},{"name":"Length","value":6},{"name":"Mode index","value":0},{"name":"Mode","value":"Rewind"},{"name":"Default","value":0}],"portsOut":[{"name":"Changed","links":[{"portIn":"exe","portOut":"Changed","objIn":"bp192-2","objOut":"bp192-3"}]},{"name":"Value","links":[{"portIn":"Switch Value","portOut":"Value","objIn":"bp192-4","objOut":"bp192-3"}]}],"objName":"Ops.Math.Incrementor"},{"id":"bp192-4","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsOut":[{"name":"Switched Value","value":4},{"name":"Trigger 0","links":[{"portIn":"xi745qlga","portOut":"Trigger 0","objIn":"bp192-9","objOut":"bp192-4"}]},{"name":"Trigger 1","links":[{"portIn":"xi745qlga","portOut":"Trigger 1","objIn":"bp192-10","objOut":"bp192-4"}]},{"name":"Trigger 2","links":[{"portIn":"xi745qlga","portOut":"Trigger 2","objIn":"bp192-11","objOut":"bp192-4"}]},{"name":"Trigger 3","links":[{"portIn":"xi745qlga","portOut":"Trigger 3","objIn":"bp192-14","objOut":"bp192-4"}]},{"name":"Trigger 4","links":[{"portIn":"xi745qlga","portOut":"Trigger 4","objIn":"bp192-13","objOut":"bp192-4"}]},{"name":"Trigger 5","links":[{"portIn":"xi745qlga","portOut":"Trigger 5","objIn":"bp192-12","objOut":"bp192-4"}]},{"name":"Highest Index","value":5}],"objName":"Ops.Trigger.RouteTrigger"},{"id":"bp192-5","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsIn":[{"name":"Title","value":"FeedTxn"}],"objName":"Ops.Ui.Area"},{"id":"bp192-6","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-9","objOut":"bp192-6"},{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-10","objOut":"bp192-6"},{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-11","objOut":"bp192-6"},{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-12","objOut":"bp192-6"},{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-13","objOut":"bp192-6"},{"portIn":"q3f05iib4","portOut":"String","objIn":"bp192-14","objOut":"bp192-6"}]}],"objName":"Ops.String.String_v2"},{"id":"bp192-7","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"wveux5407","portOut":"String","objIn":"bp192-9","objOut":"bp192-7"},{"portIn":"wveux5407","portOut":"String","objIn":"bp192-10","objOut":"bp192-7"},{"portIn":"wveux5407","portOut":"String","objIn":"bp192-11","objOut":"bp192-7"},{"portIn":"wveux5407","portOut":"String","objIn":"bp192-12","objOut":"bp192-7"},{"portIn":"wveux5407","portOut":"String","objIn":"bp192-13","objOut":"bp192-7"},{"portIn":"wveux5407","portOut":"String","objIn":"bp192-14","objOut":"bp192-7"}]}],"objName":"Ops.String.String_v2"},{"id":"bp192-8","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-9","objOut":"bp192-8"},{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-10","objOut":"bp192-8"},{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-11","objOut":"bp192-8"},{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-12","objOut":"bp192-8"},{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-13","objOut":"bp192-8"},{"portIn":"5gn4zb262","portOut":"String","objIn":"bp192-14","objOut":"bp192-8"}]}],"objName":"Ops.String.String_v2"},{"id":"bp192-9","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"l1apxrkz8"}],"objName":"Ops.User.rambodc.FeedCollect1"},{"id":"bp192-10","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"jac4je67a"}],"objName":"Ops.User.rambodc.FeedCollect1"},{"id":"bp192-11","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"erpupwfwc"}],"objName":"Ops.User.rambodc.FeedCollect1"},{"id":"bp192-12","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"2lgjlnz44"}],"objName":"Ops.User.rambodc.FeedCollect1"},{"id":"bp192-13","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"m0usbivy9"}],"objName":"Ops.User.rambodc.FeedCollect1"},{"id":"bp192-14","uiAttribs":{"subPatch":"ezlzoz3ep"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"q3f05iib4","title":"postId"},{"name":"5gn4zb262","title":"ipfs hash"},{"name":"wveux5407","title":"post creator uid"},{"name":"xi745qlga","title":"exe"},{"name":"patchId","value":"e4h51ca5x"}],"objName":"Ops.User.rambodc.FeedCollect1"}]}'};const o=e.inString("7z8wqguzm","5DlgEPX28xiwKQJwPVOm");o.setUiAttribs({title:"postId"});o.setUiAttribs({values:[""]});const s=e.inString("p997c8y83","QmVMCHWygJkvyBYPKjuQKeggB1mRCPcdsz9YuzyZg1849q");s.setUiAttribs({title:"ipfs hash"});s.setUiAttribs({values:[""]});const u=e.inString("f7sipcbln","Evg33pXyM8aCS58X0dh7ShgbHXw2");u.setUiAttribs({title:"Post Creator uid"});u.setUiAttribs({values:[""]});const l=e.inTrigger("6o6a9aly0");l.setUiAttribs({title:"Execute",display:"button"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outString("innerOut_7z8wqguzm");n.set(o.get());n.setUiAttribs({title:"postId"});o.on("change",(e,t)=>{n.set(e)});const r=t[e].outString("innerOut_p997c8y83");r.set(s.get());r.setUiAttribs({title:"ipfs hash"});s.on("change",(e,t)=>{r.set(e)});const a=t[e].outString("innerOut_f7sipcbln");a.set(u.get());a.setUiAttribs({title:"Post Creator uid"});u.on("change",(e,t)=>{a.set(e)});const i=t[e].outTrigger("innerOut_6o6a9aly0");i.setUiAttribs({title:"Execute"});l.onTriggered=()=>{i.trigger()}}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.Feed1Txn.prototype=new CABLES.Op;CABLES.OPS["80de59f4-e9bf-42e1-b743-96ba36d20753"]={f:Ops.User.rambodc.Feed1Txn,objName:"Ops.User.rambodc.Feed1Txn"};Ops.User.rambodc.PostQuery_HasCollected=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Query");const r=e.inString("UID");const a=e.inString("Post ID");const o=e.outTrigger("Found");const s=e.outTrigger("Not Found");const u=e.outBool("Does Exist",false);const l=e.outString("Error Message");let p;function c(){if(!p){try{p=firebase.firestore()}catch(e){console.error("Firebase is not initialized.");l.set("Firebase is not initialized.");s.trigger();return false}}return true}n.onTriggered=()=>{u.set(false);l.set("");if(!c())return;const i=r.get();const e=a.get();if(!i){console.error("UID is missing.");l.set("UID is missing.");s.trigger();return}if(!e){console.error("Post ID is missing.");l.set("Post ID is missing.");s.trigger();return}p.collection("transactions").where("postId","==",e).where("txnType","==","feedCollect").get().then(e=>{if(e.empty){console.warn("No documents found for given postId and txnType.");l.set("No documents found for given postId and txnType.");u.set(false);s.trigger();return}let a=false;e.forEach(e=>{const t=e.data();if(!t||!t.receivers){console.warn("Invalid document structure or missing receivers array.");l.set("Invalid document structure or missing receivers array.");return}const n=t.receivers;const r=n.find(e=>e.type==="feedCollector"&&e.uid===i);if(r){a=true}});if(a){u.set(true);o.trigger()}else{u.set(false);s.trigger()}}).catch(e=>{console.error("Error fetching documents: "+e.message);l.set("Error fetching documents: "+e.message);u.set(false);s.trigger()})}};Ops.User.rambodc.PostQuery_HasCollected.prototype=new CABLES.Op;CABLES.OPS["04aaf3e7-16b3-4a9b-8ab3-5c69255162ee"]={f:Ops.User.rambodc.PostQuery_HasCollected,objName:"Ops.User.rambodc.PostQuery_HasCollected"};Ops.User.rambodc.Collect_button1=function(){CABLES.Op.apply(this,arguments);const e=this;const M=e.attachments={};const t=e.inObject("link");const n=e.inString("Icon","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2FAccountsNodes.png?alt=media&token=36471c6c-5487-491f-ac31-76eddf2abd5d");const r=e.inString("Text","Button 1");const a=e.inString("Text 2","Second Line");const i=e.inString("Button 1 Text","Button 1");const o=e.inString("Button 1 Color","#ff0000");const s=e.inString("Button 1 Text Color","#ffffff");const u=e.inString("Button 1 Hover Color","#cc0000");const l=e.inString("Button 2 Text","Button 2");const p=e.inString("Button 2 Color","#00ff00");const c=e.inString("Button 2 Text Color","#ffffff");const d=e.inString("Button 2 Hover Color","#00cc00");const g=e.inValue("Corners",0);const m=e.inValue("Image Size",50);const b=e.inBool("Show Button 1",true);const h=e.inBool("Show Button 2",true);const f=e.outObject("childs");const B=e.outTrigger("Button 1 Pressed");const z=e.outTrigger("Button 2 Pressed");const V=e.outTrigger("Icon Pressed");const R=e.outTrigger("Text 1 Pressed");const U=e.outTrigger("Text 2 Pressed");const v=e.inBool("Visible",true);const O=document.createElement("div");O.dataset.op=e.id;O.style.height="60px";O.style.display="flex";O.style.justifyContent="space-between";O.style.alignItems="center";O.style.backgroundColor="transparent";O.style.padding="2px 10px";O.style.transition="background-color 0.3s, border-color 0.3s";O.style.fontSize="16px";O.style.color="white";O.style.border="none";const y=document.createElement("div");y.style.display="flex";y.style.alignItems="center";y.style.flex="1";O.appendChild(y);const x=document.createElement("img");x.src=n.get();x.style.width=`${m.get()}px`;x.style.height=`${m.get()}px`;x.style.objectFit="cover";x.style.borderRadius=`${g.get()}px`;x.style.cursor="pointer";x.addEventListener("click",Z);y.appendChild(x);const I=document.createElement("div");I.style.display="flex";I.style.flexDirection="column";I.style.justifyContent="center";I.style.lineHeight="1.2";I.style.marginLeft="10px";y.appendChild(I);const S=document.createElement("div");S.style.textAlign="left";S.style.fontWeight="bold";S.style.marginBottom="5px";S.style.cursor="pointer";S.addEventListener("click",$);I.appendChild(S);const F=document.createTextNode(r.get());S.appendChild(F);const j=document.createElement("div");j.style.textAlign="left";j.style.fontSize="14px";j.style.cursor="pointer";j.addEventListener("click",K);I.appendChild(j);const G=document.createTextNode(a.get());j.appendChild(G);const _=document.createElement("div");_.style.display="flex";_.style.alignItems="center";O.appendChild(_);const A=document.createElement("button");A.innerText=i.get();A.style.backgroundColor=o.get();A.style.color=s.get();A.style.border="none";A.style.padding="10px 20px";A.style.fontSize="14px";A.style.cursor="pointer";A.style.borderRadius="5px";A.addEventListener("click",H);A.addEventListener("mouseenter",q);A.addEventListener("mouseleave",W);_.appendChild(A);const T=document.createElement("button");T.innerText=l.get();T.style.backgroundColor=p.get();T.style.color=c.get();T.style.border="none";T.style.padding="10px 20px";T.style.fontSize="14px";T.style.cursor="pointer";T.style.borderRadius="5px";T.addEventListener("click",X);T.addEventListener("mouseenter",Y);T.addEventListener("mouseleave",J);_.appendChild(T);e.toWorkNeedsParent("Ops.Sidebar.Sidebar");t.onChange=k;r.onChange=a.onChange=C;i.onChange=w;n.onChange=N;o.onChange=P;s.onChange=E;u.onChange=Q;l.onChange=L;p.onChange=D;c.onChange=ee;d.onChange=te;g.onChange=ne;m.onChange=re;b.onChange=ae;h.onChange=ie;e.onDelete=se;v.onChange=oe;function H(){B.trigger()}function q(){A.style.backgroundColor=u.get()}function W(){A.style.backgroundColor=o.get()}function X(){z.trigger()}function Y(){T.style.backgroundColor=d.get()}function J(){T.style.backgroundColor=p.get()}function Z(){V.trigger()}function $(){R.trigger()}function K(){U.trigger()}function C(){S.textContent=r.get();j.textContent=a.get();if(CABLES.UI){e.setTitle("Button: "+r.get()+"\n"+a.get())}}function w(){A.innerText=i.get()}function k(){f.set(null);const e=t.get();if(e&&e.parentElement){e.parentElement.appendChild(O);f.set(e)}else{if(O.parentElement){O.parentElement.removeChild(O)}}}function N(){x.src=n.get()}function P(){A.style.backgroundColor=o.get()}function E(){A.style.setProperty("color",s.get(),"important")}function Q(){}function L(){T.innerText=l.get()}function D(){T.style.backgroundColor=p.get()}function ee(){T.style.setProperty("color",c.get(),"important")}function te(){}function ne(){x.style.borderRadius=`${g.get()}px`}function re(){x.style.width=`${m.get()}px`;x.style.height=`${m.get()}px`}function ae(){A.style.display=b.get()?"inline-block":"none"}function ie(){T.style.display=h.get()?"inline-block":"none"}function oe(){O.style.display=v.get()?"flex":"none"}function se(){ue(O)}function ue(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}oe();k();C();N();w();P();E();L();D();ee();ne();re();ae();ie()};Ops.User.rambodc.Collect_button1.prototype=new CABLES.Op;CABLES.OPS["93aca4db-758d-4d00-91f6-929608a02e0d"]={f:Ops.User.rambodc.Collect_button1,objName:"Ops.User.rambodc.Collect_button1"};Ops.Math.Incrementor=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Increment"),r=e.inTriggerButton("Decrement"),a=e.inBool("Limit",false),i=e.inValueInt("Length"),o=e.inSwitch("Mode",["Rewind","Stop at Max"],"Rewind"),s=e.inValueInt("Default",0),u=e.inTriggerButton("Reset"),l=e.outTrigger("Changed"),p=e.outNumber("Value"),c=e.outTrigger("Restarted");const d=0;const g=1;p.ignoreValueSerialize=true;i.set(10);let m=0;let b=d;p.set(0);i.onTriggered=u;s.onChange=f;u.onTriggered=f;a.onChange=h;h();o.onChange=()=>{if(o.get()=="Rewind"){b=d}if(o.get()=="Stop at Max"){b=g}};function h(){i.setUiAttribs({greyout:!a.get()});o.setUiAttribs({greyout:!a.get()})}function f(){p.set(null);m=s.get();p.set(m);c.trigger()}r.onTriggered=function(){m--;if(a.get()){if(b==d&&m<0)m=i.get()-1;if(b==g&&m<0)m=0}p.set(m);l.trigger()};n.onTriggered=function(){m++;if(a.get()){if(b==d&&m>=i.get()){m=0;c.trigger()}if(b==g&&m>=i.get())m=i.get()-1}p.set(m);l.trigger()}};Ops.Math.Incrementor.prototype=new CABLES.Op;CABLES.OPS["45cc0011-ada8-4423-8f5b-39a3810b8389"]={f:Ops.Math.Incrementor,objName:"Ops.Math.Incrementor"};Ops.Trigger.RouteTrigger=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=24;const r=t.inTriggerButton("Execute"),a=t.inValueInt("Switch Value"),i=t.outTrigger("Next Trigger"),o=t.outNumber("Switched Value");const s=[];r.onTriggered=p;for(let e=0;e<n;e++){s[e]=t.outTrigger("Trigger "+e);s[e].onLinkChanged=c}const u=t.outTrigger("Default Trigger"),l=t.outNumber("Highest Index");function p(){const e=Math.round(a.get());if(e>=0&&e<n){o.set(e);s[e].trigger()}else{o.set(-1);u.trigger()}i.trigger()}function c(){let t=0;for(let e=0;e<s.length;e++)if(s[e]&&s[e].isLinked())t=e;l.set(t)}};Ops.Trigger.RouteTrigger.prototype=new CABLES.Op;CABLES.OPS["44ceb5d8-b040-4722-b189-a6fb8172517d"]={f:Ops.Trigger.RouteTrigger,objName:"Ops.Trigger.RouteTrigger"};Ops.User.rambodc.FeedCollect1=function(){CABLES.Op.apply(this,arguments);const e=this;const n=e.attachments={inc_gen_ports_js:'const port_q3f05iib4=op.inString("q3f05iib4","jXOvDdRtiiG1dHhQdmBc");\nport_q3f05iib4.setUiAttribs({title:"postId",});\nport_q3f05iib4.setUiAttribs({"values":[""]});\n\nconst port_5gn4zb262=op.inString("5gn4zb262","QmVUtM6vA3Kd1BGXqzQE9wJFMM8wDZFE71ePx57WVvhfXc");\nport_5gn4zb262.setUiAttribs({title:"ipfs hash",});\nport_5gn4zb262.setUiAttribs({"values":[""]});\n\nconst port_wveux5407=op.inString("wveux5407","BBVlZFmlB7bPk9EAxkbZYr00xZE3");\nport_wveux5407.setUiAttribs({title:"post creator uid",});\nport_wveux5407.setUiAttribs({"values":[""]});\n\nconst port_xi745qlga=op.inTrigger("xi745qlga");\nport_xi745qlga.setUiAttribs({title:"exe",display:"button",});\n\nop.initInnerPorts=function(addedOps)\n{\n  for(let i=0;i<addedOps.length;i++)\n  {\n    if(addedOps[i].innerInput)\n    {\nconst innerOut_q3f05iib4 = addedOps[i].outString("innerOut_q3f05iib4");\ninnerOut_q3f05iib4.set(port_q3f05iib4.get() );\ninnerOut_q3f05iib4.setUiAttribs({title:"postId"});\nport_q3f05iib4.on("change", (a,v) => { innerOut_q3f05iib4.set(a); });\n\nconst innerOut_5gn4zb262 = addedOps[i].outString("innerOut_5gn4zb262");\ninnerOut_5gn4zb262.set(port_5gn4zb262.get() );\ninnerOut_5gn4zb262.setUiAttribs({title:"ipfs hash"});\nport_5gn4zb262.on("change", (a,v) => { innerOut_5gn4zb262.set(a); });\n\nconst innerOut_wveux5407 = addedOps[i].outString("innerOut_wveux5407");\ninnerOut_wveux5407.set(port_wveux5407.get() );\ninnerOut_wveux5407.setUiAttribs({title:"post creator uid"});\nport_wveux5407.on("change", (a,v) => { innerOut_wveux5407.set(a); });\n\nconst innerOut_xi745qlga = addedOps[i].outTrigger("innerOut_xi745qlga");\ninnerOut_xi745qlga.setUiAttribs({title:"exe"});\nport_xi745qlga.onTriggered = () => { innerOut_xi745qlga.trigger(); };\n\n    }\nif(addedOps[i].innerOutput)\n{\n}\n}\n};\n',subpatch_json:'{"ops":[{"id":"bp197-0","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp197-1","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"feedCollect"}],"objName":"Ops.Ui.Area"},{"id":"bp197-2","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Text","value":"Unable to collect"},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: rgba(1,1,1,0.1);\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0},{"name":"Hold ","value":1.5},{"name":"Fade out","value":0},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-3","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp197-88","objOut":"bp197-3"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-4","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp197-88","objOut":"bp197-4"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-5","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp197-88","objOut":"bp197-5"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp197-6","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp197-88","objOut":"bp197-6"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-7","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp197-88","objOut":"bp197-7"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-8","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp197-10","objOut":"bp197-8"},{"portIn":"String B","portOut":"String","objIn":"bp197-20","objOut":"bp197-8"},{"portIn":"String B","portOut":"String","objIn":"bp197-62","objOut":"bp197-8"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-9","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Object","portOut":"Result","objIn":"bp197-45","objOut":"bp197-9"},{"portIn":"Object","portOut":"Result","objIn":"bp197-47","objOut":"bp197-9"},{"portIn":"Object","portOut":"Result","objIn":"bp197-83","objOut":"bp197-9"},{"portIn":"Parameters","portOut":"Result","objIn":"bp197-88","objOut":"bp197-9"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp197-10","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"transactionObject\\": {\\n    \\"status\\": \\"initialized\\",\\n    \\"txnId\\": \\"$d\\",\\n    \\"txnType\\": \\"feedCollect\\",\\n    \\"postId\\": \\"$a\\",\\n    \\"ipfs\\": \\"$c\\",\\n    \\"uid\\": \\"$b\\",\\n    \\"firstName\\": \\"$f\\",\\n    \\"lastName\\": \\"$g\\",\\n    \\"sender\\": {\\n      \\"uid\\": \\"razzberrySender\\",\\n      \\"amount\\": $m,\\n      \\"currency\\": \\"RAZ\\",\\n      \\"account\\": \\"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky\\",\\n      \\"issuer\\": \\"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj\\",\\n      \\"type\\": \\"razzberrySender\\"\\n    },\\n    \\"receivers\\": [\\n      {\\n        \\"uid\\": \\"$b\\",\\n        \\"amount\\": $n,\\n        \\"currency\\": \\"RAZ\\",\\n        \\"account\\": \\"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f\\",\\n        \\"issuer\\": \\"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj\\",\\n        \\"type\\": \\"feedCollector\\"\\n      },\\n      {\\n        \\"uid\\": \\"$e\\",\\n        \\"amount\\": $n,\\n        \\"currency\\": \\"RAZ\\",\\n        \\"account\\": \\"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f\\",\\n        \\"issuer\\": \\"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj\\",\\n        \\"type\\": \\"postCreator\\"\\n      }\\n    ]\\n  }\\n}\\n"},{"name":"String H","value":""},{"name":"String I","value":""},{"name":"String J","value":""},{"name":"String K","value":""},{"name":"String L","value":""},{"name":"Number O","value":0},{"name":"Number P","value":0},{"name":"Number Q","value":0},{"name":"Number R","value":0},{"name":"Number S","value":0},{"name":"Number T","value":0},{"name":"Number U","value":0},{"name":"Number V","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp197-9","objOut":"bp197-10"}]}],"objName":"Ops.User.rambodc.StringCompose3"},{"id":"bp197-11","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String B","portOut":"Value","objIn":"bp197-10","objOut":"bp197-11"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-12","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"wssSelect"}],"portsOut":[{"name":"Value","links":[{"portIn":"WSS URL","portOut":"Value","objIn":"bp197-16","objOut":"bp197-12"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-13","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"value","value":"\\u0000\\u001a\\u001d\\u000e\\t2\\u001a\\u0004%1\\b\\u001f%$3\\u001eZ\\u0006>!\\u0002[\\t\\u0005+C>\\u001fX"}],"portsOut":[{"name":"String","links":[{"portIn":"Input A","portOut":"String","objIn":"bp197-16","objOut":"bp197-13"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-14","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Account","value":"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky"},{"name":"Destination","value":"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f"},{"name":"Currency Code","value":"RAZ"},{"name":"Issuer","value":"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj"},{"name":"DestinationTag","value":0},{"name":"InvoiceID","value":""},{"name":"Memo Hex","value":""}],"portsOut":[{"name":"Complete Payment Transaction","links":[{"portIn":"Object","portOut":"Complete Payment Transaction","objIn":"bp197-15","objOut":"bp197-14"},{"portIn":"Transaction","portOut":"Complete Payment Transaction","objIn":"bp197-16","objOut":"bp197-14"}]}],"objName":"Ops.User.rambodc.XRPL_Payment"},{"id":"bp197-15","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp197-16","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Transaction Hash","links":[{"portIn":"String A","portOut":"Transaction Hash","objIn":"bp197-35","objOut":"bp197-16"}]},{"name":"Transaction Status","links":[{"portIn":"String B","portOut":"Transaction Status","objIn":"bp197-35","objOut":"bp197-16"}]},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp197-38","objOut":"bp197-16"}]},{"name":"Error","value":""},{"name":"Missing Fields","value":false}],"objName":"Ops.User.rambodc.XRPL_SignTransaction2"},{"id":"bp197-17","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"key"}],"portsOut":[{"name":"Value","links":[{"portIn":"Input B","portOut":"Value","objIn":"bp197-16","objOut":"bp197-17"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-18","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"delay","value":0.3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger In","portOut":"next","objIn":"bp197-16","objOut":"bp197-18"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp197-19","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"CryptoJS CDN URL","value":"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{"name":"Hex Input","value":""}],"portsOut":[{"name":"Hex Output","value":"7b0a20202269706673223a2022516d547165714848636b5a32666d3348716e527a414a485752664d69457774663637554d72337a6f614a77664d6b222c0a202022706f73744964223a2022465a6f7665584d5438534f4f646f52745a416f45222c0a20202274786e54797065223a202266656564436f6c6c656374222c0a202022756964223a20226847384a31334e7655686266694d4645594676664376677057695332220a0a7d"},{"name":"Text Output","value":""},{"name":"Text to Hex Success","links":[{"portIn":"exe","portOut":"Text to Hex Success","objIn":"bp197-18","objOut":"bp197-19"},{"portIn":"Add Payment Fields","portOut":"Text to Hex Success","objIn":"bp197-14","objOut":"bp197-19"}]},{"name":"Text to Hex Error","value":""},{"name":"Hex to Text Error","value":""}],"objName":"Ops.User.rambodc.HexConverter"},{"id":"bp197-20","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"ipfs\\": \\"$a\\",\\n  \\"postId\\": \\"$b\\",\\n  \\"txnType\\": \\"$c\\",\\n  \\"uid\\": \\"$d\\"\\n\\n}"},{"name":"String C","value":"feedCollect"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Input","portOut":"Result","objIn":"bp197-19","objOut":"bp197-20"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp197-21","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Text to Hex Trigger","portOut":"Next","objIn":"bp197-19","objOut":"bp197-21"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp197-22","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Generated ID","links":[{"portIn":"String D","portOut":"Generated ID","objIn":"bp197-10","objOut":"bp197-22"}]}],"objName":"Ops.User.rambodc.FB_CreateDocId"},{"id":"bp197-23","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Generate ID","portOut":"Next","objIn":"bp197-22","objOut":"bp197-23"},{"portIn":"exe","portOut":"Next","objIn":"bp197-86","objOut":"bp197-23"}]}],"objName":"Ops.Trigger.TriggerExtender"},{"id":"bp197-24","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"createTxnFeedCollector"}],"objName":"Ops.Ui.Area"},{"id":"bp197-25","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String D","portOut":"Value","objIn":"bp197-20","objOut":"bp197-25"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-26","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp197-27","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"updateFeedTxnCollector"}],"objName":"Ops.Ui.Area"},{"id":"bp197-28","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-29","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-30","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp197-89","objOut":"bp197-30"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-31","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp197-89","objOut":"bp197-31"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-32","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp197-89","objOut":"bp197-32"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp197-33","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp197-89","objOut":"bp197-33"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-34","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp197-89","objOut":"bp197-34"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp197-35","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"txnHash\\": \\"$a\\",\\n  \\"status\\": \\"$b\\",\\n  \\"txnId\\": \\"$c\\",\\n  \\"postId\\": \\"$d\\"\\n}\\n"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp197-34","objOut":"bp197-35"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp197-36","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp197-89","objOut":"bp197-36"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp197-37","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp197-89","objOut":"bp197-37"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-38","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp197-36","objOut":"bp197-38"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp197-39","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"In Progress..","title":"Short Msg"},{"name":"tyq5lu94r","value":0,"title":"Delay False"},{"name":"patchId","value":"xkl226bk1"}],"objName":"Ops.User.rambodc.LoaderMsg2"},{"id":"bp197-40","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"txnId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String C","portOut":"Output","objIn":"bp197-35","objOut":"bp197-40"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp197-41","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"postId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp197-35","objOut":"bp197-41"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp197-42","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Decimal Places","value":2}],"portsOut":[{"name":"Result","links":[{"portIn":"Amount Value","portOut":"Result","objIn":"bp197-14","objOut":"bp197-42"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp197-43","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"number 1","value":2},{"name":"math mode index","value":3},{"name":"math mode","value":"/"}],"portsOut":[{"name":"result","links":[{"portIn":"Number N","portOut":"result","objIn":"bp197-10","objOut":"bp197-43"}]}],"objName":"Ops.Math.Math"},{"id":"bp197-44","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: rgba(1,1,1,0.1);\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0},{"name":"Hold ","value":1.5},{"name":"Fade out","value":0},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-45","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"transactionObject.receivers.0.amount"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number G","portOut":"Output","objIn":"bp197-46","objOut":"bp197-45"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp197-46","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"You collected $g RAZ"},{"name":"String A","value":""},{"name":"String B","value":""},{"name":"String C","value":""},{"name":"String D","value":""},{"name":"String E","value":""},{"name":"String F","value":""},{"name":"Number H","value":0},{"name":"Number I","value":0},{"name":"Number J","value":0},{"name":"Number K","value":0}],"portsOut":[{"name":"Result","links":[{"portIn":"Text","portOut":"Result","objIn":"bp197-44","objOut":"bp197-46"}]}],"objName":"Ops.User.rambodc.StringCompose2"},{"id":"bp197-47","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"transactionObject.receivers.0.amount"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp197-42","objOut":"bp197-47"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp197-48","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp197-20","objOut":"bp197-48"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-49","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp197-8","objOut":"bp197-49"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp197-50","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp197-53","objOut":"bp197-50"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp197-51","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"value","portOut":"Result","objIn":"bp197-52","objOut":"bp197-51"}]}],"objName":"Ops.Trigger.TriggerString"},{"id":"bp197-52","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String E","portOut":"String","objIn":"bp197-10","objOut":"bp197-52"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-53","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String C","portOut":"String","objIn":"bp197-10","objOut":"bp197-53"},{"portIn":"value","portOut":"String","objIn":"bp197-48","objOut":"bp197-53"},{"portIn":"value","portOut":"String","objIn":"bp197-84","objOut":"bp197-53"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-54","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"wssSelect"}],"portsOut":[{"name":"Value","links":[{"portIn":"WSS URL","portOut":"Value","objIn":"bp197-58","objOut":"bp197-54"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-55","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"value","value":"\\u0000\\u001a\\u001d\\u000e\\t2\\u001a\\u0004%1\\b\\u001f%$3\\u001eZ\\u0006>!\\u0002[\\t\\u0005+C>\\u001fX"}],"portsOut":[{"name":"String","links":[{"portIn":"Input A","portOut":"String","objIn":"bp197-58","objOut":"bp197-55"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-56","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Account","value":"r4a4JzC7H7BY4acKkUR8bMnvjpZD2aTtky"},{"name":"Destination","value":"rfNJt8ska3pM4jdys8tLiqWZJgoq1LEt5f"},{"name":"Currency Code","value":"RAZ"},{"name":"Issuer","value":"rUhwR4gM7KS2M6xLHMeL2hVCF86WhqocTj"},{"name":"DestinationTag","value":0},{"name":"InvoiceID","value":""},{"name":"Memo Hex","value":""}],"portsOut":[{"name":"Complete Payment Transaction","links":[{"portIn":"Object","portOut":"Complete Payment Transaction","objIn":"bp197-57","objOut":"bp197-56"},{"portIn":"Transaction","portOut":"Complete Payment Transaction","objIn":"bp197-58","objOut":"bp197-56"}]}],"objName":"Ops.User.rambodc.XRPL_Payment"},{"id":"bp197-57","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp197-58","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Transaction Hash","links":[{"portIn":"String A","portOut":"Transaction Hash","objIn":"bp197-75","objOut":"bp197-58"}]},{"name":"Transaction Status","links":[{"portIn":"String B","portOut":"Transaction Status","objIn":"bp197-75","objOut":"bp197-58"}]},{"name":"Success","links":[{"portIn":"exe","portOut":"Success","objIn":"bp197-78","objOut":"bp197-58"}]},{"name":"Error","value":""},{"name":"Missing Fields","value":false}],"objName":"Ops.User.rambodc.XRPL_SignTransaction2"},{"id":"bp197-59","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"key"}],"portsOut":[{"name":"Value","links":[{"portIn":"Input B","portOut":"Value","objIn":"bp197-58","objOut":"bp197-59"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-60","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"delay","value":0.3}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger In","portOut":"next","objIn":"bp197-58","objOut":"bp197-60"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp197-61","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"CryptoJS CDN URL","value":"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"},{"name":"Hex Input","value":""}],"portsOut":[{"name":"Hex Output","value":"7b0a20202269706673223a2022516d547165714848636b5a32666d3348716e527a414a485752664d69457774663637554d72337a6f614a77664d6b222c0a202022706f73744964223a2022465a6f7665584d5438534f4f646f52745a416f45222c0a20202274786e54797065223a202266656564436f6c6c656374222c0a202022756964223a20226847384a31334e7655686266694d4645594676664376677057695332220a0a7d"},{"name":"Text Output","value":""},{"name":"Text to Hex Success","links":[{"portIn":"exe","portOut":"Text to Hex Success","objIn":"bp197-60","objOut":"bp197-61"},{"portIn":"Add Payment Fields","portOut":"Text to Hex Success","objIn":"bp197-56","objOut":"bp197-61"}]},{"name":"Text to Hex Error","value":""},{"name":"Hex to Text Error","value":""}],"objName":"Ops.User.rambodc.HexConverter"},{"id":"bp197-62","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"ipfs\\": \\"$a\\",\\n  \\"postId\\": \\"$b\\",\\n  \\"txnType\\": \\"$c\\",\\n  \\"uid\\": \\"$d\\"\\n\\n}"},{"name":"String C","value":"feedCollect"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"Text Input","portOut":"Result","objIn":"bp197-61","objOut":"bp197-62"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp197-63","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Next","links":[{"portIn":"Text to Hex Trigger","portOut":"Next","objIn":"bp197-61","objOut":"bp197-63"}]}],"objName":"Ops.Trigger.TriggerButton"},{"id":"bp197-64","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"createTxnFeedCreator"}],"objName":"Ops.Ui.Area"},{"id":"bp197-65","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"String D","portOut":"Value","objIn":"bp197-62","objOut":"bp197-65"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-66","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"ZoomText","value":0},{"name":"Line Numbers","value":1},{"name":"Font Size","value":10},{"name":"Scroll","value":0}],"objName":"Ops.Ui.VizObject"},{"id":"bp197-67","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"updateFeedTxnCreator"}],"objName":"Ops.Ui.Area"},{"id":"bp197-68","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: orange;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":5},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-69","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Text","value":""},{"name":"Class","value":""},{"name":"Style","value":"visibility: hidden;\\nbackground-color: green;\\ncolor: #fff;\\n\\npadding: 16px;\\nposition: absolute;\\nz-index: 999999;\\nfont-size: 17px;\\nopacity:0;\\nborder-radius:10px;\\ntext-align:center;\\nleft: 50%;\\ntransform: translate(-50%, 0);\\n"},{"name":"Active","value":1},{"name":"Convert Line Breaks","value":0},{"name":"Fade in","value":0.5},{"name":"Hold ","value":1},{"name":"Fade out","value":0.8},{"name":"mode index","value":0},{"name":"mode","value":"%"},{"name":"Side index","value":0},{"name":"Side","value":"bottom"},{"name":"Starting position","value":0},{"name":"Ending position","value":5}],"portsOut":[{"name":"Finished","value":true}],"objName":"Ops.Html.Notification"},{"id":"bp197-70","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ip"}],"portsOut":[{"name":"Value","links":[{"portIn":"IP","portOut":"Value","objIn":"bp197-90","objOut":"bp197-70"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-71","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"timezone"}],"portsOut":[{"name":"Value","links":[{"portIn":"Timezone","portOut":"Value","objIn":"bp197-90","objOut":"bp197-71"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-72","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"ipv6"}],"portsOut":[{"name":"Value","links":[{"portIn":"IPv6","portOut":"Value","objIn":"bp197-90","objOut":"bp197-72"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp197-73","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"uid"}],"portsOut":[{"name":"Value","links":[{"portIn":"UID","portOut":"Value","objIn":"bp197-90","objOut":"bp197-73"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-74","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"Result","links":[{"portIn":"Parameters","portOut":"Result","objIn":"bp197-90","objOut":"bp197-74"}]},{"name":"Valid","value":1}],"objName":"Ops.Json.ParseObject_v2"},{"id":"bp197-75","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Format","value":"{\\n  \\"txnHash\\": \\"$a\\",\\n  \\"status\\": \\"$b\\",\\n  \\"txnId\\": \\"$c\\",\\n  \\"postId\\": \\"$d\\"\\n}\\n"},{"name":"String E","value":""},{"name":"String F","value":""}],"portsOut":[{"name":"Result","links":[{"portIn":"JSON String","portOut":"Result","objIn":"bp197-74","objOut":"bp197-75"}]}],"objName":"Ops.User.rambodc.StringComposeEditor"},{"id":"bp197-76","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp197-90","objOut":"bp197-76"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp197-77","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"userStatus"}],"portsOut":[{"name":"Value","links":[{"portIn":"User Status","portOut":"Value","objIn":"bp197-90","objOut":"bp197-77"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-78","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"exe","portOut":"trigger","objIn":"bp197-76","objOut":"bp197-78"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp197-79","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{"blueprintVer":2,"subPatchVer":2},"portsIn":[{"name":"02t7hzmhk","value":0,"title":"Visible"},{"name":"gy342pc5t","value":"In Progress..","title":"Short Msg"},{"name":"tyq5lu94r","value":0,"title":"Delay False"},{"name":"patchId","value":"sigu2hdtv"}],"objName":"Ops.User.rambodc.LoaderMsg2"},{"id":"bp197-80","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"txnId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String C","portOut":"Output","objIn":"bp197-75","objOut":"bp197-80"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp197-81","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"postId"},{"name":"Output path if missing","value":0}],"portsOut":[{"name":"Output","links":[{"portIn":"String D","portOut":"Output","objIn":"bp197-75","objOut":"bp197-81"}]},{"name":"Found","value":false}],"objName":"Ops.Data.JsonPath.ObjectGetStringByPath"},{"id":"bp197-82","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Decimal Places","value":2}],"portsOut":[{"name":"Result","links":[{"portIn":"Amount Value","portOut":"Result","objIn":"bp197-56","objOut":"bp197-82"}]}],"objName":"Ops.String.NumberToString_v2"},{"id":"bp197-83","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"transactionObject.receivers.0.amount"}],"portsOut":[{"name":"Output","links":[{"portIn":"Number","portOut":"Output","objIn":"bp197-82","objOut":"bp197-83"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp197-84","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"String","links":[{"portIn":"String A","portOut":"String","objIn":"bp197-62","objOut":"bp197-84"}]}],"objName":"Ops.String.String_v2"},{"id":"bp197-85","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Title","value":"0"}],"objName":"Ops.Ui.Area"},{"id":"bp197-86","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"delay","value":0.2}],"portsOut":[{"name":"next","links":[{"portIn":"Trigger Create FunctionCall","portOut":"next","objIn":"bp197-88","objOut":"bp197-86"}]},{"name":"Delaying","value":false}],"objName":"Ops.Trigger.DelayedTrigger"},{"id":"bp197-87","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"trigger","links":[{"portIn":"Trigger","portOut":"trigger","objIn":"bp197-49","objOut":"bp197-87"},{"portIn":"Trigger","portOut":"trigger","objIn":"bp197-50","objOut":"bp197-87"},{"portIn":"Trigger","portOut":"trigger","objIn":"bp197-51","objOut":"bp197-87"},{"portIn":"Execute","portOut":"trigger","objIn":"bp197-23","objOut":"bp197-87"}]},{"name":"timesTriggered","value":0}],"objName":"Ops.Trigger.TriggerCounter"},{"id":"bp197-88","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Function Name","value":"feedCollect"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","value":""},{"name":"Created Document ID","value":""},{"name":"Status","value":"pending"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp197-0","objOut":"bp197-88"},{"portIn":"Object","portOut":"Data","objIn":"bp197-40","objOut":"bp197-88"},{"portIn":"Object","portOut":"Data","objIn":"bp197-41","objOut":"bp197-88"},{"portIn":"Object","portOut":"Data","objIn":"bp197-81","objOut":"bp197-88"},{"portIn":"Object","portOut":"Data","objIn":"bp197-80","objOut":"bp197-88"}]},{"name":"Completed Status","links":[{"portIn":"Trigger animation","portOut":"Completed Status","objIn":"bp197-44","objOut":"bp197-88"},{"portIn":"Trigger","portOut":"Completed Status","objIn":"bp197-21","objOut":"bp197-88"},{"portIn":"Trigger","portOut":"Completed Status","objIn":"bp197-63","objOut":"bp197-88"}]},{"name":"Error Status","links":[{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp197-2","objOut":"bp197-88"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp197-89","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"First Name","value":""},{"name":"Last Name","value":""},{"name":"Function Name","value":"updateFeedTxnCollector"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp197-28","objOut":"bp197-89"}]},{"name":"Created Document ID","value":""},{"name":"Status","value":"pending"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp197-26","objOut":"bp197-89"}]},{"name":"Error Status","links":[{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp197-28","objOut":"bp197-89"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp197-90","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"First Name","value":""},{"name":"Last Name","value":""},{"name":"Function Name","value":"updateFeedTxnCreator"}],"portsOut":[{"name":"Error","value":0},{"name":"Error Message","links":[{"portIn":"Text","portOut":"Error Message","objIn":"bp197-68","objOut":"bp197-90"}]},{"name":"Created Document ID","value":""},{"name":"Status","value":"pending"},{"name":"Data","links":[{"portIn":"Object","portOut":"Data","objIn":"bp197-66","objOut":"bp197-90"}]},{"name":"Error Status","links":[{"portIn":"Trigger animation","portOut":"Error Status","objIn":"bp197-68","objOut":"bp197-90"}]},{"name":"Connected","value":0},{"name":"Loading","value":0}],"objName":"Ops.User.rambodc.FunctionCalls1"},{"id":"bp197-91","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"First Name","portOut":"Value","objIn":"bp197-88","objOut":"bp197-91"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-92","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"Last Name","portOut":"Value","objIn":"bp197-88","objOut":"bp197-92"}]}],"objName":"Ops.Vars.VarGetString"},{"id":"bp197-93","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsOut":[{"name":"innerOut_q3f05iib4","title":"postId","links":[{"portIn":"String","portOut":"innerOut_q3f05iib4","objIn":"bp197-49","objOut":"bp197-93"}]},{"name":"innerOut_5gn4zb262","title":"ipfs hash","links":[{"portIn":"String","portOut":"innerOut_5gn4zb262","objIn":"bp197-50","objOut":"bp197-93"}]},{"name":"innerOut_wveux5407","title":"post creator uid","links":[{"portIn":"String","portOut":"innerOut_wveux5407","objIn":"bp197-51","objOut":"bp197-93"}]},{"name":"innerOut_xi745qlga","title":"exe","links":[{"portIn":"exe","portOut":"innerOut_xi745qlga","objIn":"bp197-87","objOut":"bp197-93"}]}],"objName":"Ops.Ui.SubPatchInput"},{"id":"bp197-94","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"objName":"Ops.Ui.SubPatchOutput"},{"id":"bp197-95","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"splitRaz"}],"portsOut":[{"name":"Value","links":[{"portIn":"Amount","portOut":"Value","objIn":"bp197-98","objOut":"bp197-95"}]}],"objName":"Ops.Vars.VarGetNumber_v2"},{"id":"bp197-96","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Variable","value":"usersListner"}],"portsOut":[{"name":"Value","links":[{"portIn":"Object","portOut":"Value","objIn":"bp197-97","objOut":"bp197-96"}]}],"objName":"Ops.Vars.VarGetObject_v2"},{"id":"bp197-97","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Path","value":"dailyRaz"}],"portsOut":[{"name":"Output","links":[{"portIn":"Daily Raz","portOut":"Output","objIn":"bp197-98","objOut":"bp197-97"}]},{"name":"Found","value":true}],"objName":"Ops.Data.JsonPath.ObjectGetNumberByPath"},{"id":"bp197-98","uiAttribs":{"subPatch":"yv9ap2q5v"},"storage":{},"portsIn":[{"name":"Max Raz","value":100},{"name":"Min Raz","value":0.2}],"portsOut":[{"name":"Current Raz","links":[{"portIn":"number 0","portOut":"Current Raz","objIn":"bp197-43","objOut":"bp197-98"},{"portIn":"Number M","portOut":"Current Raz","objIn":"bp197-10","objOut":"bp197-98"}]}],"objName":"Ops.User.rambodc.Max_daily_RAZ"},{"id":"bp197-99","uiAttribs":{"subPatch":"yv9ap2q5v"},"portsIn":[{"name":"Variable","value":"firstName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String F","portOut":"Value","objIn":"bp197-10","objOut":"bp197-99"}]}],"storage":{"ref":"bp197-99"},"objName":"Ops.Vars.VarGetString"},{"id":"bp197-100","uiAttribs":{"subPatch":"yv9ap2q5v"},"portsIn":[{"name":"Variable","value":"lastName"}],"portsOut":[{"name":"Value","links":[{"portIn":"String G","portOut":"Value","objIn":"bp197-10","objOut":"bp197-100"}]}],"storage":{"ref":"bp197-100"},"objName":"Ops.Vars.VarGetString"}]}'};const o=e.inString("q3f05iib4","jXOvDdRtiiG1dHhQdmBc");o.setUiAttribs({title:"postId"});o.setUiAttribs({values:[""]});const s=e.inString("5gn4zb262","QmVUtM6vA3Kd1BGXqzQE9wJFMM8wDZFE71ePx57WVvhfXc");s.setUiAttribs({title:"ipfs hash"});s.setUiAttribs({values:[""]});const u=e.inString("wveux5407","BBVlZFmlB7bPk9EAxkbZYr00xZE3");u.setUiAttribs({title:"post creator uid"});u.setUiAttribs({values:[""]});const l=e.inTrigger("xi745qlga");l.setUiAttribs({title:"exe",display:"button"});e.initInnerPorts=function(t){for(let e=0;e<t.length;e++){if(t[e].innerInput){const n=t[e].outString("innerOut_q3f05iib4");n.set(o.get());n.setUiAttribs({title:"postId"});o.on("change",(e,t)=>{n.set(e)});const r=t[e].outString("innerOut_5gn4zb262");r.set(s.get());r.setUiAttribs({title:"ipfs hash"});s.on("change",(e,t)=>{r.set(e)});const a=t[e].outString("innerOut_wveux5407");a.set(u.get());a.setUiAttribs({title:"post creator uid"});u.on("change",(e,t)=>{a.set(e)});const i=t[e].outTrigger("innerOut_xi745qlga");i.setUiAttribs({title:"exe"});l.onTriggered=()=>{i.trigger()}}if(t[e].innerOutput){}}};const r="bp2sub_"+e.id;new CABLES.SubPatchOp(e,{subId:r});t();function t(){const t=JSON.parse(n.subpatch_json);CABLES.Patch.replaceOpIds(t,{parentSubPatchId:r,prefixHash:r,oldIdAsRef:true,doNotUnlinkLostLinks:true});for(let e=0;e<t.ops.length;e++){t.ops[e].uiAttribs.blueprintSubpatch2=true}e.loadDependencies(t,()=>{e.patch.deSerialize(t,{opsCreated:e.initInnerPorts});if(CABLES.UI)gui.savedState.setSaved("blueprintloaded",r);e.patch.emitEvent("subpatchExpose",r);e.setStorage({blueprintVer:2});e.patch.emitEvent("subpatchExpose",r)})}};Ops.User.rambodc.FeedCollect1.prototype=new CABLES.Op;CABLES.OPS["a6ddbc9e-09f6-46b5-857e-4750e6044798"]={f:Ops.User.rambodc.FeedCollect1,objName:"Ops.User.rambodc.FeedCollect1"};Ops.User.rambodc.StringCompose2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Format","hello $a, $b $c und $d $g $h $i $j $k"),r=e.inString("String A"),a=e.inString("String B"),i=e.inString("String C"),o=e.inString("String D"),s=e.inString("String E"),u=e.inString("String F"),l=e.inValue("Number G"),p=e.inValue("Number H"),c=e.inValue("Number I"),d=e.inValue("Number J"),g=e.inValue("Number K"),m=e.outString("Result");n.onChange=r.onChange=a.onChange=i.onChange=o.onChange=s.onChange=u.onChange=l.onChange=p.onChange=c.onChange=d.onChange=g.onChange=b;b();function b(){var e=n.get()||"";if(typeof e!="string")e="";e=e.replace(/\$a/g,r.get());e=e.replace(/\$b/g,a.get());e=e.replace(/\$c/g,i.get());e=e.replace(/\$d/g,o.get());e=e.replace(/\$e/g,s.get());e=e.replace(/\$f/g,u.get());e=e.replace(/\$g/g,l.get().toString());e=e.replace(/\$h/g,p.get().toString());e=e.replace(/\$i/g,c.get().toString());e=e.replace(/\$j/g,d.get().toString());e=e.replace(/\$k/g,g.get().toString());m.set(e)}};Ops.User.rambodc.StringCompose2.prototype=new CABLES.Op;CABLES.OPS["7607fdde-309d-4ab9-b38f-58611ed08903"]={f:Ops.User.rambodc.StringCompose2,objName:"Ops.User.rambodc.StringCompose2"};Ops.User.rambodc.V1UserStatusUpdate=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger User Status Update");const r=e.inObject("Request Body");const a=e.inString("Firebase Auth Token");const i=e.outObject("User Status Update Response");const o=e.outString("Error Message");const s=e.outBool("Is Listening",false);const u=e.outTrigger("Success");const l=e.outTrigger("Failure");let p=false;n.onTriggered=function(){const e=r.get();const t=a.get();i.set(null);o.set("");s.set(false);if(!e||!t){o.set("Missing Request Body or Firebase Auth Token.");l.trigger();return}p=true;s.set(true);fetch("https://us-central1-razz5-14781.cloudfunctions.net/v1UserStatusUpdate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}).then(e=>{if(!e.ok){if(e.status===403){throw new Error("Unauthorized: User does not have the required permissions.")}else if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(e=>{i.set(e);u.trigger();p=false;s.set(false)}).catch(e=>{console.error("Error during fetch:",e);o.set(`Error: ${e.message}`);l.trigger();p=false;s.set(false)})};e.onDelete=function(){p=false;s.set(false)}};Ops.User.rambodc.V1UserStatusUpdate.prototype=new CABLES.Op;CABLES.OPS["87481f85-4012-46ab-bb73-e1eb8c89400a"]={f:Ops.User.rambodc.V1UserStatusUpdate,objName:"Ops.User.rambodc.V1UserStatusUpdate"};Ops.Gl.MainLoop=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={};const t=r.inValue("FPS Limit",0),n=r.outTrigger("trigger"),a=r.outNumber("width"),i=r.outNumber("height"),o=r.inValueBool("Reduce FPS not focussed",false),s=r.inValueBool("Reduce FPS loading"),u=r.inValueBool("Clear",true),l=r.inValueBool("ClearAlpha",true),p=r.inValueBool("Fullscreen Button",false),c=r.inValueBool("Active",true),d=r.inValueBool("Hires Displays",false),g=r.inSwitch("Pixel Unit",["Display","CSS"],"Display");r.onAnimFrame=A;d.onChange=function(){if(d.get())r.patch.cgl.pixelDensity=window.devicePixelRatio;else r.patch.cgl.pixelDensity=1;r.patch.cgl.updateSize();if(CABLES.UI)gui.setLayout()};c.onChange=function(){r.patch.removeOnAnimFrame(r);if(c.get()){r.setUiAttrib({extendTitle:""});r.onAnimFrame=A;r.patch.addOnAnimFrame(r);r.log("adding again!")}else{r.setUiAttrib({extendTitle:"Inactive"})}};const m=r.patch.cgl;let b=0;let h=0;let f=null;let v=false;if(!r.patch.cgl)r.uiAttr({error:"No webgl cgl context"});const O=vec3.create();vec3.set(O,0,0,0);const y=vec3.create();vec3.set(y,0,0,-2);p.onChange=_;setTimeout(_,100);let x=null;let I=true;let S=true;window.addEventListener("blur",()=>{I=false});window.addEventListener("focus",()=>{I=true});document.addEventListener("visibilitychange",()=>{S=!document.hidden});T();m.mainloopOp=this;g.onChange=()=>{a.set(0);i.set(0)};function j(){if(s.get()&&r.patch.loading.getProgress()<1)return 5;if(o.get()){if(!S)return 10;if(!I)return 30}return t.get()}function _(){function e(){if(x)x.style.display="block"}function t(){if(x)x.style.display="none"}r.patch.cgl.canvas.addEventListener("mouseleave",t);r.patch.cgl.canvas.addEventListener("mouseenter",e);if(p.get()){if(!x){x=document.createElement("div");const n=r.patch.cgl.canvas.parentElement;if(n)n.appendChild(x);x.addEventListener("mouseenter",e);x.addEventListener("click",function(e){if(CABLES.UI&&!e.shiftKey)gui.cycleFullscreen();else m.fullScreen()})}x.style.padding="10px";x.style.position="absolute";x.style.right="5px";x.style.top="5px";x.style.width="20px";x.style.height="20px";x.style.cursor="pointer";x.style["border-radius"]="40px";x.style.background="#444";x.style["z-index"]="9999";x.style.display="none";x.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 490 490" style="width:20px;height:20px;" xml:space="preserve" width="512px" height="512px"><g><path d="M173.792,301.792L21.333,454.251v-80.917c0-5.891-4.776-10.667-10.667-10.667C4.776,362.667,0,367.442,0,373.333V480     c0,5.891,4.776,10.667,10.667,10.667h106.667c5.891,0,10.667-4.776,10.667-10.667s-4.776-10.667-10.667-10.667H36.416     l152.459-152.459c4.093-4.237,3.975-10.99-0.262-15.083C184.479,297.799,177.926,297.799,173.792,301.792z" fill="#FFFFFF"/><path d="M480,0H373.333c-5.891,0-10.667,4.776-10.667,10.667c0,5.891,4.776,10.667,10.667,10.667h80.917L301.792,173.792     c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262c0.089-0.086,0.176-0.173,0.262-0.262     L469.333,36.416v80.917c0,5.891,4.776,10.667,10.667,10.667s10.667-4.776,10.667-10.667V10.667C490.667,4.776,485.891,0,480,0z" fill="#FFFFFF"/><path d="M36.416,21.333h80.917c5.891,0,10.667-4.776,10.667-10.667C128,4.776,123.224,0,117.333,0H10.667     C4.776,0,0,4.776,0,10.667v106.667C0,123.224,4.776,128,10.667,128c5.891,0,10.667-4.776,10.667-10.667V36.416l152.459,152.459     c4.237,4.093,10.99,3.975,15.083-0.262c3.992-4.134,3.992-10.687,0-14.82L36.416,21.333z" fill="#FFFFFF"/><path d="M480,362.667c-5.891,0-10.667,4.776-10.667,10.667v80.917L316.875,301.792c-4.237-4.093-10.99-3.976-15.083,0.261     c-3.993,4.134-3.993,10.688,0,14.821l152.459,152.459h-80.917c-5.891,0-10.667,4.776-10.667,10.667s4.776,10.667,10.667,10.667     H480c5.891,0,10.667-4.776,10.667-10.667V373.333C490.667,367.442,485.891,362.667,480,362.667z" fill="#FFFFFF"/></g></svg>'}else{if(x){x.style.display="none";x.remove();x=null}}}r.onDelete=function(){m.gl.clearColor(0,0,0,0);m.gl.clear(m.gl.COLOR_BUFFER_BIT|m.gl.DEPTH_BUFFER_BIT)};function A(e){if(!c.get())return;if(m.aborted||m.canvas.clientWidth===0||m.canvas.clientHeight===0)return;r.patch.cg=m;if(d.get())r.patch.cgl.pixelDensity=window.devicePixelRatio;const t=performance.now();r.patch.config.fpsLimit=j();if(m.canvasWidth==-1){m.setCanvas(r.patch.config.glCanvasId);return}if(m.canvasWidth!=a.get()||m.canvasHeight!=i.get()){let e=1;if(g.get()=="CSS")e=r.patch.cgl.pixelDensity;a.set(m.canvasWidth/e);i.set(m.canvasHeight/e)}if(CABLES.now()-h>1e3){CGL.fpsReport=CGL.fpsReport||[];if(r.patch.loading.getProgress()>=1&&h!==0)CGL.fpsReport.push(b);b=0;h=CABLES.now()}CGL.MESH.lastShader=null;CGL.MESH.lastMesh=null;m.renderStart(m,O,y);if(u.get()){m.gl.clearColor(0,0,0,1);m.gl.clear(m.gl.COLOR_BUFFER_BIT|m.gl.DEPTH_BUFFER_BIT)}n.trigger();if(CGL.MESH.lastMesh)CGL.MESH.lastMesh.unBind();if(CGL.Texture.previewTexture){if(!CGL.Texture.texturePreviewer)CGL.Texture.texturePreviewer=new CGL.Texture.texturePreview(m);CGL.Texture.texturePreviewer.render(CGL.Texture.previewTexture)}m.renderEnd(m);r.patch.cg=null;if(l.get()){m.gl.clearColor(1,1,1,1);m.gl.colorMask(false,false,false,true);m.gl.clear(m.gl.COLOR_BUFFER_BIT);m.gl.colorMask(true,true,true,true)}if(!m.frameStore.phong)m.frameStore.phong={};b++;r.patch.cgl.profileData.profileMainloopMs=performance.now()-t}function T(){clearTimeout(f);f=setTimeout(()=>{if(r.patch.getOpsByObjName(r.name).length>1){r.setUiError("multimainloop","there should only be one mainloop op!");if(!v)v=r.patch.addEventListener("onOpDelete",T)}else r.setUiError("multimainloop",null,1)},500)}};Ops.Gl.MainLoop.prototype=new CABLES.Op;CABLES.OPS["b0472a1d-db16-4ba6-8787-f300fbdc77bb"]={f:Ops.Gl.MainLoop,objName:"Ops.Gl.MainLoop"};Ops.User.rambodc.XRPL_Library=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};function n(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r);n.addEventListener("load",e);n.addEventListener("error",t);document.body.appendChild(n)})}n("https://unpkg.com/xrpl/build/xrpl-latest-min.js")};Ops.User.rambodc.XRPL_Library.prototype=new CABLES.Op;CABLES.OPS["d7d91b26-8822-4483-87cb-ab03775df4a5"]={f:Ops.User.rambodc.XRPL_Library,objName:"Ops.User.rambodc.XRPL_Library"};Ops.User.rambodc.XRPL_SecretNumbers_Library=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};function n(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r);n.addEventListener("load",e);n.addEventListener("error",t);document.body.appendChild(n)})}n("https://cdn.jsdelivr.net/npm/xrpl-secret-numbers/dist/browserified.js")};Ops.User.rambodc.XRPL_SecretNumbers_Library.prototype=new CABLES.Op;CABLES.OPS["6917fed5-225f-47ef-bee9-39793386f809"]={f:Ops.User.rambodc.XRPL_SecretNumbers_Library,objName:"Ops.User.rambodc.XRPL_SecretNumbers_Library"};Ops.User.rambodc.Veriff_incontext_Library=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};function n(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r);n.addEventListener("load",e);n.addEventListener("error",t);document.body.appendChild(n)})}n("https://cdn.veriff.me/incontext/js/v1/veriff.js")};Ops.User.rambodc.Veriff_incontext_Library.prototype=new CABLES.Op;CABLES.OPS["ea7da1f4-a432-4c33-8de6-c0b40910262a"]={f:Ops.User.rambodc.Veriff_incontext_Library,objName:"Ops.User.rambodc.Veriff_incontext_Library"};Ops.User.rambodc.Orientation_is_Portrait=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValue("Width"),r=e.inValue("Height"),a=e.outBool("IsPortrait");n.onChange=r.onChange=i;function i(){let e=n.get();let t=r.get();a.set(t>e)}};Ops.User.rambodc.Orientation_is_Portrait.prototype=new CABLES.Op;CABLES.OPS["43fed3b4-761c-4d1c-b64a-f8ab15c26991"]={f:Ops.User.rambodc.Orientation_is_Portrait,objName:"Ops.User.rambodc.Orientation_is_Portrait"};Ops.Extension.Deprecated.NumberSwitchBoolean=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueBool("Boolean"),r=e.inValue("Value false",0),a=e.inValue("Value true",1),i=e.outNumber("Result");n.onChange=a.onChange=r.onChange=o;e.setPortGroup("Output Values",[a,r]);function o(){if(n.get())i.set(a.get());else i.set(r.get())}};Ops.Extension.Deprecated.NumberSwitchBoolean.prototype=new CABLES.Op;CABLES.OPS["637c5fa8-840d-4535-96ab-3d27b458a8ba"]={f:Ops.Extension.Deprecated.NumberSwitchBoolean,objName:"Ops.Extension.Deprecated.NumberSwitchBoolean"};Ops.Extension.ECharts.ECharts=function(){CABLES.Op.apply(this,arguments);const e=this;const D=e.attachments={};const t=e.inTriggerButton("Create");const n=e.inObject("Parent DOM element");const r=e.inString("Id");const a=e.inInt("Width",640);const i=e.inInt("Height",480);const o=e.inObject("Chart Object");const s=e.inObject("Merge options");const u=e.inSwitch("Renderer",["canvas","svg"],"canvas");const l=e.inSwitch("Theme",["default","light","dark"],"dark");const p=e.inObject("Custom theme obj");const c=e.inObject("Init extra Options");const d=e.inValueEditor("Style","position:absolute;\nz-index:100;\nbackground:white;","inline-css");const g=e.inValueBool("Visible",true);const m=e.outObject("DOM Element");const b=e.outObject("ECharts instance");const h=e.outTrigger("Chart updated");const f=e.outTrigger("Theme changed");const M=0;const B=1;const z=2;let v=false;const O=document.createElement("div");O.dataset.op=e.id;const y=e.patch.cgl.canvas.parentElement;let x=null;let I="block";e.onDelete=R;n.onChange=C;d.onChange=L;g.onChange=E;r.onChange=V;a.onChange=N;i.onChange=N;o.onChange=k;s.onChange=k;l.onChange=T;p.onChange=T;u.onChange=A;function S(e){if(e&&typeof e==="object"&&e!==0&&e!==null)return true;return false}function j(){C();L();v=true;_();N();b.set(x);f.trigger();h.trigger()}function _(){if(!v)return;if(x){x.dispose();x=null}let e=p.get();if(!e){e=l.get()}let t=c.get();if(!S(t)){const n=u.get();t={renderer:n}}x=echarts.init(O,e,t);w()}function A(){_();b.set(x);h.trigger()}function T(){_();b.set(x);f.trigger();h.trigger()}function C(){const e=n.get();if(!e){y.append(O)}else{e.append(O)}}function w(){const e=o.get();const t=s.get();if(!x)return;if(S(e)){if(S(t)){x.setOption(e,t)}else{x.setOption(e,false,true)}}}function k(){w();h.trigger()}function N(){const e=Math.max(0,a.get());const t=Math.max(0,i.get());L();if(x)x.resize(e,t)}function P(e){if(!e){O.style.visibility="hidden";I=O.style.display||"block";O.style.display="none"}else{if(I=="none")I="block";O.style.visibility="visible";O.style.display=I}}function E(){P(g.get())}function V(){O.id=r.get()}function L(){const e=Math.max(0,a.get());const t=Math.max(0,i.get());let n=d.get();if(e>0){n+="width:"+e+"px;"}if(t>0){n+="height:"+t+"px;"}if(n!=O.style){O.setAttribute("style",n);E();m.set(null);m.set(O)}if(!O.parentElement){y.appendChild(O)}}function R(){if(x)x.dispose();if(O)O.remove()}t.onTriggered=j};Ops.Extension.ECharts.ECharts.prototype=new CABLES.Op;CABLES.OPS["576db162-78fc-422d-86df-0d4a4e66a44e"]={f:Ops.Extension.ECharts.ECharts,objName:"Ops.Extension.ECharts.ECharts"};Ops.Html.CSS.CSSPropertyString=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inObject("Element"),r=t.inString("Property"),a=t.inString("Value"),i=t.inBool("Active",true),o=t.outObject("HTML Element");t.setPortGroup("Element",[n]);t.setPortGroup("Attributes",[r,a]);r.onChange=l;a.onChange=p;let s=null;n.onChange=o.onLinkChanged=n.onLinkChanged=u;i.onChange=()=>{if(!i.get())u();else p()};function u(){if(s&&s.style)s.style[r.get()]="initial";p()}function l(){p();t.setUiAttrib({extendTitle:r.get()+""})}function p(){if(!i.get())return;s=n.get();if(s&&s.style){const e=a.get();try{s.style[r.get()]=e}catch(e){t.logError(e)}}o.setRef(n.get())}};Ops.Html.CSS.CSSPropertyString.prototype=new CABLES.Op;CABLES.OPS["a7abdfb9-4c2a-4ddb-8fc6-55b3fdfbdaf3"]={f:Ops.Html.CSS.CSSPropertyString,objName:"Ops.Html.CSS.CSSPropertyString"};Ops.Extension.ECharts.EChartsEvent=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const r=n.inObject("ECharts instance");const a=n.inString("Event name");const i=n.inString("Query string");const o=n.inObject("Query object");const t=n.inTriggerButton("Refresh event binding");const s=n.outObject("Out Chart");const u=n.outTrigger("Trigger");const l=n.outObject("Event params");const p=n.outBool("Dirty (needs rebind)");n.onDelete=h;t.onTriggered=v;a.onChange=i.onChange=o.onChange=m;r.onChange=g;let c=null;let d=null;function g(){if(!r.isLinked()){h();m();return}f()}function m(){b(true)}function b(e){p.set(null);p.set(e)}function h(){if(c&&d){c.off(d);c=null}}function f(){const e=r.get();if(!e){h();b(true);s.set(null);return}if(e==c){return}c=e;try{d=a.get();let e=o.get();if(!e){e=i.get()}c.on(d,e,e=>{delete e.$vars;delete e.event.event;delete e.event.target;delete e.event.topTarget;l.set(e);u.trigger()});n.setUiError("error",null);b(false);s.set(c)}catch(e){b(true);c=null;const t=e+" - check if input is ECharts instance";n.setUiError("error",t);s.set(null)}}function v(){h();f()}};Ops.Extension.ECharts.EChartsEvent.prototype=new CABLES.Op;CABLES.OPS["70116802-623a-461b-8aad-59aaa3bd9d3c"]={f:Ops.Extension.ECharts.EChartsEvent,objName:"Ops.Extension.ECharts.EChartsEvent"};Ops.Json.RouteObject=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={};const a=10,t={},n=r.inInt("index"),i=r.inObject("Object in"),o=r.inObject("default object",t),s=u(t);n.onChange=i.onChange=o.onChange=p;l();p();function u(){let n=[];for(let t=0;t<a;t++){let e=r.outObject("Index "+t+" Object");n.push(e)}o.set(null);return n}function l(){let t=o.get();s.forEach(e=>{return e.set(null)});if(o.get()){s.forEach(e=>{return e.set(t)})}}function p(){l();let e=n.get();let t=i.get();e=Math.floor(e);e=c(e,0,a-1);s[e].setRef(t)}function c(e,t,n){return Math.min(Math.max(e,t),n)}};Ops.Json.RouteObject.prototype=new CABLES.Op;CABLES.OPS["bc969951-32b5-4226-9944-80a719a65497"]={f:Ops.Json.RouteObject,objName:"Ops.Json.RouteObject"};Ops.Cables.LoadingStatus_v2=function(){CABLES.Op.apply(this,arguments);const r=this;const e=r.attachments={};const t=r.inTrigger("exe"),a=r.inValueBool("PreRender Ops"),i=r.inBool("Play Timeline",true),n=r.outTrigger("Next"),o=r.outBoolNum("Finished Initial Loading",false),s=r.outBoolNum("Loading"),u=r.outNumber("Progress"),l=r.outArray("Jobs"),p=r.outTrigger("Trigger Loading Finished ");const c=r.patch.cgl;const d=r.patch;let g=false;const m=[];let b=true;let h=0;document.body.classList.add("cables-loading");let f=c.patch.loading.start("loadingStatusInit","loadingStatusInit",r);r.patch.loading.on("finishedTask",v.bind(this));r.patch.loading.on("startTask",v.bind(this));function v(){const e=r.patch.loading.getListJobs();u.set(d.loading.getProgress());let t=e.length===0;const n=!t;if(n){l.set(r.patch.loading.getListJobs())}if(n){if(b){if(a.get())r.patch.preRenderOps();r.patch.timer.setTime(0);if(i.get()){r.patch.timer.play()}else{r.patch.timer.pause()}}b=false;document.body.classList.remove("cables-loading");document.body.classList.add("cables-loaded")}else{g=true;l.set(r.patch.loading.getListJobs());if(d.loading.getProgress()<1){r.patch.timer.setTime(0);r.patch.timer.pause()}}o.set(g);if(s.get()&&t)p.trigger();s.set(n);r.setUiAttribs({loading:n})}t.onTriggered=()=>{v();n.trigger();if(f){c.patch.loading.finished(f);f=null}}};Ops.Cables.LoadingStatus_v2.prototype=new CABLES.Op;CABLES.OPS["e62f7f4c-7436-437e-8451-6bc3c28545f7"]={f:Ops.Cables.LoadingStatus_v2,objName:"Ops.Cables.LoadingStatus_v2"};Ops.User.rambodc.URL_Empty_Redirect=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Set Hash");const r=e.inString("New Hash Route","/home");n.onTriggered=function(){a()};function a(){const e=window.location.hash;if(!e||e==="#"){window.location.hash=r.get()}}};Ops.User.rambodc.URL_Empty_Redirect.prototype=new CABLES.Op;CABLES.OPS["ba2c15e2-f6d6-4fd7-bedc-b26dcd033253"]={f:Ops.User.rambodc.URL_Empty_Redirect,objName:"Ops.User.rambodc.URL_Empty_Redirect"};Ops.Json.HttpRequest_v3=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const r=i.inUrl("file"),o=i.inObject("headers",{}),s=i.inStringEditor("body",""),u=i.inDropDown("HTTP Method",["GET","POST","PUT","DELETE","PATCH","HEAD","CONNECT","OPTIONS","TRACE"],"GET"),l=i.inString("Content-Type","application/json"),p=i.inSwitch("Content",["JSON","String","Binary","Binary Base64"],"JSON"),c=i.inBool("Auto request",true),d=i.inBool("Send Credentials",false),t=i.inTriggerButton("reload"),g=i.outObject("Response Json Object"),m=i.outString("Response String"),b=i.outString("Response Data Url"),h=i.outNumber("Duration MS",0),f=i.outNumber("Status Code",0),v=i.outBoolNum("Is Loading",false),O=i.outTrigger("Loaded");p.setUiAttribs({title:"Response Content"});r.setUiAttribs({title:"URL"});t.setUiAttribs({buttonTitle:"trigger request"});g.ignoreValueSerialize=true;m.ignoreValueSerialize=true;m.onLinkChanged=b.onLinkChanged=g.onLinkChanged=y;p.onChange=()=>{const e=p.get()==="Binary";u.setUiAttribs({greyout:e});a(false)};c.onChange=r.onChange=o.onChange=u.onChange=()=>{a(false)};t.onTriggered=()=>{a(true)};let n=0;function a(e=false){clearTimeout(n);n=setTimeout(()=>{x(null,e)},100)}i.onFileChanged=e=>{if(r.get()&&r.get().indexOf(e)>-1)x(true)};function y(){if(!r.get())i.setUiError("nourl","URL is empty",1);else i.setUiError("nourl",null)}function x(e,t=false){if(!c.get()&&!t)return;y();if(!r.get()){return}const a=i.patch.loading.start(i.objName,""+r.get(),i);v.set(true);i.setUiAttrib({extendTitle:CABLES.basename(r.get())});i.setUiError("jsonerr",null);i.setUiError("jsonParse",null);let n=i.patch.getFilePath(r.get());if(e)n+="?rnd="+CABLES.generateUUID();i.patch.loading.addAssetLoadingTask(()=>{const e=s.get();const r=performance.now();const t={};if(d.get())t.credentials="include";if(p.get().contains("Binary")){fetch(n,t).then(e=>{h.set(Math.round(performance.now()-r));f.set(e.status);e.blob().then(e=>{b.set(URL.createObjectURL(e));if(p.get().contains("Base64")){const t=new FileReader;t.onloadend=function(){const e=t.result;b.set(e);v.set(false);O.trigger();i.patch.loading.finished(a)};t.readAsDataURL(e)}else{v.set(false);O.trigger();i.patch.loading.finished(a)}}).catch(e=>{i.logError(e);i.setUiError("jsonerr","Problem while loading data:<br/>"+e,1);v.set(false);g.setRef(null);m.set("");O.trigger();i.patch.loading.finished(a)})}).catch(e=>{i.logError(e);i.setUiError("jsonerr","Problem while loading data:<br/>"+e,1);v.set(false);g.setRef(null);m.set("");O.trigger();i.patch.loading.finished(a)})}else{CABLES.ajax(n,(e,t,n)=>{h.set(Math.round(performance.now()-r));f.set(n.status);try{let e=t;if(typeof e==="string"&&p.get()==="JSON"){try{e=JSON.parse(t);g.setRef(e)}catch(e){i.setUiError("jsonParse","could not parse json"+e.message,1);g.setRef({})}}m.set(t);i.uiAttr({error:null});O.trigger();v.set(false);i.patch.loading.finished(a)}catch(e){i.logError(e);i.setUiError("jsonerr","Problem while loading data:<br/>"+e,1);v.set(false);g.setRef(null);m.set("");i.patch.loading.finished(a)}},u.get(),e&&e.length>0?e:null,l.get(),null,o.get()||{},t)}})}};Ops.Json.HttpRequest_v3.prototype=new CABLES.Op;CABLES.OPS["ba2131a6-782d-40fe-9710-57a8e57051bb"]={f:Ops.Json.HttpRequest_v3,objName:"Ops.Json.HttpRequest_v3"};Ops.User.rambodc.StringEquals_Triggers=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("String 1"),r=e.inString("String 2"),a=e.inTriggerButton("Check Equality");const i=e.outBoolNum("Result"),o=e.outTrigger("True"),s=e.outTrigger("False");n.onChange=r.onChange=function(){i.set(n.get()==r.get())};a.onTriggered=function(){if(n.get()==r.get()){o.trigger()}else{s.trigger()}}};Ops.User.rambodc.StringEquals_Triggers.prototype=new CABLES.Op;CABLES.OPS["bf09a225-d7da-43cb-9b34-a457846defe2"]={f:Ops.User.rambodc.StringEquals_Triggers,objName:"Ops.User.rambodc.StringEquals_Triggers"};Ops.Sidebar.Sidebar=function(){CABLES.Op.apply(this,arguments);const o=this;const n=o.attachments={style_css:" /*\n * SIDEBAR\n  http://danielstern.ca/range.css/#/\n  https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-progress-value\n */\n\n.sidebar-icon-undo\n{\n    width:10px;\n    height:10px;\n    background-image: url(\"data:image/svg+xml;charset=utf8, %3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none' stroke='grey' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 7v6h6'/%3E%3Cpath d='M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13'/%3E%3C/svg%3E\");\n    background-size: 19px;\n    background-repeat: no-repeat;\n    top: -19px;\n    margin-top: -7px;\n}\n\n.icon-chevron-down {\n    top: 2px;\n    right: 9px;\n}\n\n.iconsidebar-chevron-up,.sidebar__close-button {\n\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM4ODg4ODgiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNoZXZyb24tdXAiPjxwb2x5bGluZSBwb2ludHM9IjE4IDE1IDEyIDkgNiAxNSI+PC9wb2x5bGluZT48L3N2Zz4=);\n}\n\n.iconsidebar-minimizebutton {\n    background-position: 98% center;\n    background-repeat: no-repeat;\n}\n\n.sidebar-cables-right\n{\n    right: 15px;\n    left: initial !important;\n}\n\n.sidebar-cables *\n{\n    color: #BBBBBB !important;\n    font-family: Arial;\n}\n\n.sidebar-cables {\n    --sidebar-color: #07f78c;\n    --sidebar-width: 220px;\n    --sidebar-border-radius: 10px;\n    --sidebar-monospace-font-stack: \"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\n    --sidebar-hover-transition-time: .2s;\n\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    border-radius: var(--sidebar-border-radius);\n    z-index: 100000;\n    width: var(--sidebar-width);\n    max-height: 100%;\n    box-sizing: border-box;\n    overflow-y: auto;\n    overflow-x: hidden;\n    font-size: 13px;\n    line-height: 1em; /* prevent emojis from breaking height of the title */\n}\n\n.sidebar-cables::selection {\n    background-color: var(--sidebar-color);\n    color: #EEEEEE;\n}\n\n.sidebar-cables::-webkit-scrollbar {\n    background-color: transparent;\n    --cables-scrollbar-width: 8px;\n    width: var(--cables-scrollbar-width);\n}\n\n.sidebar-cables::-webkit-scrollbar-track {\n    background-color: transparent;\n    width: var(--cables-scrollbar-width);\n}\n\n.sidebar-cables::-webkit-scrollbar-thumb {\n    background-color: #333333;\n    border-radius: 4px;\n    width: var(--cables-scrollbar-width);\n}\n\n.sidebar-cables--closed {\n    width: auto;\n}\n\n.sidebar__close-button {\n    background-color: #222;\n    /*-webkit-user-select: none;  */\n    /*-moz-user-select: none;     */\n    /*-ms-user-select: none;      */\n    /*user-select: none;          */\n    /*transition: background-color var(--sidebar-hover-transition-time);*/\n    /*color: #CCCCCC;*/\n    height: 2px;\n    /*border-bottom:20px solid #222;*/\n\n    /*box-sizing: border-box;*/\n    /*padding-top: 2px;*/\n    /*text-align: center;*/\n    /*cursor: pointer;*/\n    /*border-radius: 0 0 var(--sidebar-border-radius) var(--sidebar-border-radius);*/\n    /*opacity: 1.0;*/\n    /*transition: opacity 0.3s;*/\n    /*overflow: hidden;*/\n}\n\n.sidebar__close-button-icon {\n    display: inline-block;\n    /*opacity: 0;*/\n    width: 20px;\n    height: 20px;\n    /*position: relative;*/\n    /*top: -1px;*/\n\n\n}\n\n.sidebar--closed {\n    width: auto;\n    margin-right: 20px;\n}\n\n.sidebar--closed .sidebar__close-button {\n    margin-top: 8px;\n    margin-left: 8px;\n    padding:10px;\n\n    height: 25px;\n    width:25px;\n    border-radius: 50%;\n    cursor: pointer;\n    opacity: 0.3;\n    background-repeat: no-repeat;\n    background-position: center center;\n    transform:rotate(180deg);\n}\n\n.sidebar--closed .sidebar__group\n{\n    display:none;\n\n}\n.sidebar--closed .sidebar__close-button-icon {\n    background-position: 0px 0px;\n}\n\n.sidebar__close-button:hover {\n    background-color: #111111;\n    opacity: 1.0 !important;\n}\n\n/*\n * SIDEBAR ITEMS\n */\n\n.sidebar__items {\n    /* max-height: 1000px; */\n    /* transition: max-height 0.5;*/\n    background-color: #222;\n    padding-bottom: 20px;\n}\n\n.sidebar--closed .sidebar__items {\n    /* max-height: 0; */\n    height: 0;\n    display: none;\n    pointer-interactions: none;\n}\n\n.sidebar__item__right {\n    float: right;\n}\n\n/*\n * SIDEBAR GROUP\n */\n\n.sidebar__group {\n    /*background-color: #1A1A1A;*/\n    overflow: hidden;\n    box-sizing: border-box;\n    animate: height;\n    /*background-color: #151515;*/\n    /* max-height: 1000px; */\n    /* transition: max-height 0.5s; */\n--sidebar-group-header-height: 33px;\n}\n\n.sidebar__group-items\n{\n    padding-top: 15px;\n    padding-bottom: 15px;\n}\n\n.sidebar__group--closed {\n    /* max-height: 13px; */\n    height: var(--sidebar-group-header-height);\n}\n\n.sidebar__group-header {\n    box-sizing: border-box;\n    color: #EEEEEE;\n    background-color: #151515;\n    -webkit-user-select: none;  /* Chrome all / Safari all */\n    -moz-user-select: none;     /* Firefox all */\n    -ms-user-select: none;      /* IE 10+ */\n    user-select: none;          /* Likely future */\n\n    /*height: 100%;//var(--sidebar-group-header-height);*/\n\n    padding-top: 7px;\n    text-transform: uppercase;\n    letter-spacing: 0.08em;\n    cursor: pointer;\n    /*transition: background-color var(--sidebar-hover-transition-time);*/\n    position: relative;\n}\n\n.sidebar__group-header:hover {\n  background-color: #111111;\n}\n\n.sidebar__group-header-title {\n  /*float: left;*/\n  overflow: hidden;\n  padding: 0 15px;\n  padding-top:5px;\n  padding-bottom:10px;\n  font-weight:bold;\n}\n\n.sidebar__group-header-undo {\n    float: right;\n    overflow: hidden;\n    padding-right: 15px;\n    padding-top:5px;\n    font-weight:bold;\n  }\n\n.sidebar__group-header-icon {\n    width: 17px;\n    height: 14px;\n    background-repeat: no-repeat;\n    display: inline-block;\n    position: absolute;\n    background-size: cover;\n\n    /* icon open */\n    /* feather icon: chevron up */\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM4ODg4ODgiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNoZXZyb24tdXAiPjxwb2x5bGluZSBwb2ludHM9IjE4IDE1IDEyIDkgNiAxNSI+PC9wb2x5bGluZT48L3N2Zz4=);\n    top: 4px;\n    right: 5px;\n    opacity: 0.0;\n    transition: opacity 0.3;\n}\n\n.sidebar__group-header:hover .sidebar__group-header-icon {\n    opacity: 1.0;\n}\n\n/* icon closed */\n.sidebar__group--closed .sidebar__group-header-icon {\n    /* feather icon: chevron down */\n    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM4ODg4ODgiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNoZXZyb24tZG93biI+PHBvbHlsaW5lIHBvaW50cz0iNiA5IDEyIDE1IDE4IDkiPjwvcG9seWxpbmU+PC9zdmc+);\n    top: 4px;\n    right: 5px;\n}\n\n/*\n * SIDEBAR ITEM\n */\n\n.sidebar__item\n{\n    box-sizing: border-box;\n    padding: 7px;\n    padding-left:15px;\n    padding-right:15px;\n\n    overflow: hidden;\n    position: relative;\n}\n\n.sidebar__item-label {\n    display: inline-block;\n    -webkit-user-select: none;  /* Chrome all / Safari all */\n    -moz-user-select: none;     /* Firefox all */\n    -ms-user-select: none;      /* IE 10+ */\n    user-select: none;          /* Likely future */\n    width: calc(50% - 7px);\n    margin-right: 7px;\n    margin-top: 2px;\n    text-overflow: ellipsis;\n    /* overflow: hidden; */\n}\n\n.sidebar__item-value-label {\n    font-family: var(--sidebar-monospace-font-stack);\n    display: inline-block;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    max-width: 60%;\n}\n\n.sidebar__item-value-label::selection {\n    background-color: var(--sidebar-color);\n    color: #EEEEEE;\n}\n\n.sidebar__item + .sidebar__item,\n.sidebar__item + .sidebar__group,\n.sidebar__group + .sidebar__item,\n.sidebar__group + .sidebar__group {\n    /*border-top: 1px solid #272727;*/\n}\n\n/*\n * SIDEBAR ITEM TOGGLE\n */\n\n/*.sidebar__toggle */\n.icon_toggle{\n    cursor: pointer;\n}\n\n.sidebar__toggle-input {\n    --sidebar-toggle-input-color: #CCCCCC;\n    --sidebar-toggle-input-color-hover: #EEEEEE;\n    --sidebar-toggle-input-border-size: 2px;\n    display: inline;\n    float: right;\n    box-sizing: border-box;\n    border-radius: 50%;\n    cursor: pointer;\n    --toggle-size: 11px;\n    margin-top: 2px;\n    background-color: transparent !important;\n    border: var(--sidebar-toggle-input-border-size) solid var(--sidebar-toggle-input-color);\n    width: var(--toggle-size);\n    height: var(--toggle-size);\n    transition: background-color var(--sidebar-hover-transition-time);\n    transition: border-color var(--sidebar-hover-transition-time);\n}\n.sidebar__toggle:hover .sidebar__toggle-input {\n    border-color: var(--sidebar-toggle-input-color-hover);\n}\n\n.sidebar__toggle .sidebar__item-value-label {\n    -webkit-user-select: none;  /* Chrome all / Safari all */\n    -moz-user-select: none;     /* Firefox all */\n    -ms-user-select: none;      /* IE 10+ */\n    user-select: none;          /* Likely future */\n    max-width: calc(50% - 12px);\n}\n.sidebar__toggle-input::after { clear: both; }\n\n.sidebar__toggle--active .icon_toggle\n{\n\n    background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE1cHgiIHdpZHRoPSIzMHB4IiBmaWxsPSIjMDZmNzhiIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGcgZGlzcGxheT0ibm9uZSI+PGcgZGlzcGxheT0iaW5saW5lIj48Zz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzA2Zjc4YiIgZD0iTTMwLDI3QzE3LjM1LDI3LDcsMzcuMzUsNyw1MGwwLDBjMCwxMi42NSwxMC4zNSwyMywyMywyM2g0MCBjMTIuNjUsMCwyMy0xMC4zNSwyMy0yM2wwLDBjMC0xMi42NS0xMC4zNS0yMy0yMy0yM0gzMHogTTcwLDY3Yy05LjM4OSwwLTE3LTcuNjEtMTctMTdzNy42MTEtMTcsMTctMTdzMTcsNy42MSwxNywxNyAgICAgUzc5LjM4OSw2Nyw3MCw2N3oiPjwvcGF0aD48L2c+PC9nPjwvZz48Zz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwLDI3QzE3LjM1LDI3LDcsMzcuMzUsNyw1MGwwLDBjMCwxMi42NSwxMC4zNSwyMywyMywyM2g0MCAgIGMxMi42NSwwLDIzLTEwLjM1LDIzLTIzbDAsMGMwLTEyLjY1LTEwLjM1LTIzLTIzLTIzSDMweiBNNzAsNjdjLTkuMzg5LDAtMTctNy42MS0xNy0xN3M3LjYxMS0xNywxNy0xN3MxNyw3LjYxLDE3LDE3ICAgUzc5LjM4OSw2Nyw3MCw2N3oiPjwvcGF0aD48L2c+PGcgZGlzcGxheT0ibm9uZSI+PGcgZGlzcGxheT0iaW5saW5lIj48cGF0aCBmaWxsPSIjMDZmNzhiIiBzdHJva2U9IiMwNmY3OGIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNyw1MGMwLDEyLjY1LDEwLjM1LDIzLDIzLDIzaDQwICAgIGMxMi42NSwwLDIzLTEwLjM1LDIzLTIzbDAsMGMwLTEyLjY1LTEwLjM1LTIzLTIzLTIzSDMwQzE3LjM1LDI3LDcsMzcuMzUsNyw1MEw3LDUweiI+PC9wYXRoPjwvZz48Y2lyY2xlIGRpc3BsYXk9ImlubGluZSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwNmY3OGIiIHN0cm9rZT0iIzA2Zjc4YiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSI3MCIgY3k9IjUwIiByPSIxNyI+PC9jaXJjbGU+PC9nPjxnIGRpc3BsYXk9Im5vbmUiPjxwYXRoIGRpc3BsYXk9ImlubGluZSIgZD0iTTcwLDI1SDMwQzE2LjIxNSwyNSw1LDM2LjIxNSw1LDUwczExLjIxNSwyNSwyNSwyNWg0MGMxMy43ODUsMCwyNS0xMS4yMTUsMjUtMjVTODMuNzg1LDI1LDcwLDI1eiBNNzAsNzEgICBIMzBDMTguNDIxLDcxLDksNjEuNTc5LDksNTBzOS40MjEtMjEsMjEtMjFoNDBjMTEuNTc5LDAsMjEsOS40MjEsMjEsMjFTODEuNTc5LDcxLDcwLDcxeiBNNzAsMzFjLTEwLjQ3NywwLTE5LDguNTIzLTE5LDE5ICAgczguNTIzLDE5LDE5LDE5czE5LTguNTIzLDE5LTE5UzgwLjQ3NywzMSw3MCwzMXogTTcwLDY1Yy04LjI3MSwwLTE1LTYuNzI5LTE1LTE1czYuNzI5LTE1LDE1LTE1czE1LDYuNzI5LDE1LDE1Uzc4LjI3MSw2NSw3MCw2NXoiPjwvcGF0aD48L2c+PC9zdmc+);\n    opacity: 1;\n    transform: rotate(0deg);\n}\n\n\n.icon_toggle\n{\n    float: right;\n    width:40px;\n    height:18px;\n    background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE1cHgiIHdpZHRoPSIzMHB4IiBmaWxsPSIjYWFhYWFhIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTAwIDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGcgZGlzcGxheT0ibm9uZSI+PGcgZGlzcGxheT0iaW5saW5lIj48Zz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2FhYWFhYSIgZD0iTTMwLDI3QzE3LjM1LDI3LDcsMzcuMzUsNyw1MGwwLDBjMCwxMi42NSwxMC4zNSwyMywyMywyM2g0MCBjMTIuNjUsMCwyMy0xMC4zNSwyMy0yM2wwLDBjMC0xMi42NS0xMC4zNS0yMy0yMy0yM0gzMHogTTcwLDY3Yy05LjM4OSwwLTE3LTcuNjEtMTctMTdzNy42MTEtMTcsMTctMTdzMTcsNy42MSwxNywxNyAgICAgUzc5LjM4OSw2Nyw3MCw2N3oiPjwvcGF0aD48L2c+PC9nPjwvZz48Zz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMwLDI3QzE3LjM1LDI3LDcsMzcuMzUsNyw1MGwwLDBjMCwxMi42NSwxMC4zNSwyMywyMywyM2g0MCAgIGMxMi42NSwwLDIzLTEwLjM1LDIzLTIzbDAsMGMwLTEyLjY1LTEwLjM1LTIzLTIzLTIzSDMweiBNNzAsNjdjLTkuMzg5LDAtMTctNy42MS0xNy0xN3M3LjYxMS0xNywxNy0xN3MxNyw3LjYxLDE3LDE3ICAgUzc5LjM4OSw2Nyw3MCw2N3oiPjwvcGF0aD48L2c+PGcgZGlzcGxheT0ibm9uZSI+PGcgZGlzcGxheT0iaW5saW5lIj48cGF0aCBmaWxsPSIjYWFhYWFhIiBzdHJva2U9IiNhYWFhYWEiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNyw1MGMwLDEyLjY1LDEwLjM1LDIzLDIzLDIzaDQwICAgIGMxMi42NSwwLDIzLTEwLjM1LDIzLTIzbDAsMGMwLTEyLjY1LTEwLjM1LTIzLTIzLTIzSDMwQzE3LjM1LDI3LDcsMzcuMzUsNyw1MEw3LDUweiI+PC9wYXRoPjwvZz48Y2lyY2xlIGRpc3BsYXk9ImlubGluZSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiNhYWFhYWEiIHN0cm9rZT0iI2FhYWFhYSIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSI3MCIgY3k9IjUwIiByPSIxNyI+PC9jaXJjbGU+PC9nPjxnIGRpc3BsYXk9Im5vbmUiPjxwYXRoIGRpc3BsYXk9ImlubGluZSIgZD0iTTcwLDI1SDMwQzE2LjIxNSwyNSw1LDM2LjIxNSw1LDUwczExLjIxNSwyNSwyNSwyNWg0MGMxMy43ODUsMCwyNS0xMS4yMTUsMjUtMjVTODMuNzg1LDI1LDcwLDI1eiBNNzAsNzEgICBIMzBDMTguNDIxLDcxLDksNjEuNTc5LDksNTBzOS40MjEtMjEsMjEtMjFoNDBjMTEuNTc5LDAsMjEsOS40MjEsMjEsMjFTODEuNTc5LDcxLDcwLDcxeiBNNzAsMzFjLTEwLjQ3NywwLTE5LDguNTIzLTE5LDE5ICAgczguNTIzLDE5LDE5LDE5czE5LTguNTIzLDE5LTE5UzgwLjQ3NywzMSw3MCwzMXogTTcwLDY1Yy04LjI3MSwwLTE1LTYuNzI5LTE1LTE1czYuNzI5LTE1LDE1LTE1czE1LDYuNzI5LDE1LDE1Uzc4LjI3MSw2NSw3MCw2NXoiPjwvcGF0aD48L2c+PC9zdmc+);\n    background-size: 50px 37px;\n    background-position: -6px -10px;\n    transform: rotate(180deg);\n    opacity: 0.4;\n}\n\n\n\n/*.sidebar__toggle--active .sidebar__toggle-input {*/\n/*    transition: background-color var(--sidebar-hover-transition-time);*/\n/*    background-color: var(--sidebar-toggle-input-color);*/\n/*}*/\n/*.sidebar__toggle--active .sidebar__toggle-input:hover*/\n/*{*/\n/*    background-color: var(--sidebar-toggle-input-color-hover);*/\n/*    border-color: var(--sidebar-toggle-input-color-hover);*/\n/*    transition: background-color var(--sidebar-hover-transition-time);*/\n/*    transition: border-color var(--sidebar-hover-transition-time);*/\n/*}*/\n\n/*\n * SIDEBAR ITEM BUTTON\n */\n\n.sidebar__button {}\n\n.sidebar__button-input:active\n{\n    background-color: #555 !important;\n}\n\n.sidebar__button-input {\n    -webkit-user-select: none;  /* Chrome all / Safari all */\n    -moz-user-select: none;     /* Firefox all */\n    -ms-user-select: none;      /* IE 10+ */\n    user-select: none;          /* Likely future */\n    min-height: 24px;\n    background-color: transparent;\n    color: #CCCCCC;\n    box-sizing: border-box;\n    padding-top: 3px;\n    text-align: center;\n    border-radius: 125px;\n    border:2px solid #555;\n    cursor: pointer;\n    padding-bottom: 3px;\n}\n\n.sidebar__button-input.plus, .sidebar__button-input.minus {\n    display: inline-block;\n    min-width: 20px;\n}\n\n.sidebar__button-input:hover {\n  background-color: #333;\n  border:2px solid var(--sidebar-color);\n}\n\n/*\n * VALUE DISPLAY (shows a value)\n */\n\n.sidebar__value-display {}\n\n/*\n * SLIDER\n */\n\n.sidebar__slider {\n    --sidebar-slider-input-height: 3px;\n}\n\n.sidebar__slider-input-wrapper {\n    width: 100%;\n\n    margin-top: 8px;\n    position: relative;\n}\n\n.sidebar__slider-input {\n    -webkit-appearance: none;\n    appearance: none;\n    margin: 0;\n    width: 100%;\n    height: var(--sidebar-slider-input-height);\n    background: #555;\n    cursor: pointer;\n    outline: 0;\n\n    -webkit-transition: .2s;\n    transition: background-color .2s;\n    border: none;\n}\n\n.sidebar__slider-input:focus, .sidebar__slider-input:hover {\n    border: none;\n}\n\n.sidebar__slider-input-active-track {\n    user-select: none;\n    position: absolute;\n    z-index: 11;\n    top: 0;\n    left: 0;\n    background-color: var(--sidebar-color);\n    pointer-events: none;\n    height: var(--sidebar-slider-input-height);\n    max-width: 100%;\n}\n\n/* Mouse-over effects */\n.sidebar__slider-input:hover {\n    /*background-color: #444444;*/\n}\n\n/*.sidebar__slider-input::-webkit-progress-value {*/\n/*    background-color: green;*/\n/*    color:green;*/\n\n/*    }*/\n\n/* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */\n\n.sidebar__slider-input::-moz-range-thumb\n{\n    position: absolute;\n    height: 15px;\n    width: 15px;\n    z-index: 900 !important;\n    border-radius: 20px !important;\n    cursor: pointer;\n    background: var(--sidebar-color) !important;\n    user-select: none;\n\n}\n\n.sidebar__slider-input::-webkit-slider-thumb\n{\n    position: relative;\n    appearance: none;\n    -webkit-appearance: none;\n    user-select: none;\n    height: 15px;\n    width: 15px;\n    display: block;\n    z-index: 900 !important;\n    border: 0;\n    border-radius: 20px !important;\n    cursor: pointer;\n    background: #777 !important;\n}\n\n.sidebar__slider-input:hover ::-webkit-slider-thumb {\n    background-color: #EEEEEE !important;\n}\n\n/*.sidebar__slider-input::-moz-range-thumb {*/\n\n/*    width: 0 !important;*/\n/*    height: var(--sidebar-slider-input-height);*/\n/*    background: #EEEEEE;*/\n/*    cursor: pointer;*/\n/*    border-radius: 0 !important;*/\n/*    border: none;*/\n/*    outline: 0;*/\n/*    z-index: 100 !important;*/\n/*}*/\n\n.sidebar__slider-input::-moz-range-track {\n    background-color: transparent;\n    z-index: 11;\n}\n\n/*.sidebar__slider-input::-moz-range-thumb:hover {*/\n  /* background-color: #EEEEEE; */\n/*}*/\n\n\n/*.sidebar__slider-input-wrapper:hover .sidebar__slider-input-active-track {*/\n/*    background-color: #EEEEEE;*/\n/*}*/\n\n/*.sidebar__slider-input-wrapper:hover .sidebar__slider-input::-moz-range-thumb {*/\n/*    background-color: #fff !important;*/\n/*}*/\n\n/*.sidebar__slider-input-wrapper:hover .sidebar__slider-input::-webkit-slider-thumb {*/\n/*    background-color: #EEEEEE;*/\n/*}*/\n\n.sidebar__slider input[type=text],\n.sidebar__slider input[type=paddword]\n{\n    box-sizing: border-box;\n    /*background-color: #333333;*/\n    text-align: right;\n    color: #BBBBBB;\n    display: inline-block;\n    background-color: transparent !important;\n\n    width: 40%;\n    height: 18px;\n    outline: none;\n    border: none;\n    border-radius: 0;\n    padding: 0 0 0 4px !important;\n    margin: 0;\n}\n\n.sidebar__slider input[type=text]:active,\n.sidebar__slider input[type=text]:focus,\n.sidebar__slider input[type=text]:hover\n.sidebar__slider input[type=password]:active,\n.sidebar__slider input[type=password]:focus,\n.sidebar__slider input[type=password]:hover\n{\n\n    color: #EEEEEE;\n}\n\n/*\n * TEXT / DESCRIPTION\n */\n\n.sidebar__text .sidebar__item-label {\n    width: auto;\n    display: block;\n    max-height: none;\n    margin-right: 0;\n    line-height: 1.1em;\n}\n\n/*\n * SIDEBAR INPUT\n */\n.sidebar__text-input textarea,\n.sidebar__text-input input[type=date],\n.sidebar__text-input input[type=datetime-local],\n.sidebar__text-input input[type=text],\n.sidebar__text-input input[type=password] {\n    box-sizing: border-box;\n    background-color: #333333;\n    color: #BBBBBB;\n    display: inline-block;\n    width: 50%;\n    height: 18px;\n    outline: none;\n    border: none;\n    border-radius: 0;\n    border:1px solid #666;\n    padding: 0 0 0 4px !important;\n    margin: 0;\n    color-scheme: dark;\n}\n\n.sidebar__text-input textarea:focus::placeholder {\n  color: transparent;\n}\n\n.sidebar__color-picker .sidebar__item-label\n{\n    width:45%;\n}\n\n.sidebar__text-input textarea,\n.sidebar__text-input input[type=text]:active,\n.sidebar__text-input input[type=text]:focus,\n.sidebar__text-input input[type=text]:hover,\n.sidebar__text-input input[type=password]:active,\n.sidebar__text-input input[type=password]:focus,\n.sidebar__text-input input[type=password]:hover {\n    background-color: transparent;\n    color: #EEEEEE;\n}\n\n.sidebar__text-input textarea\n{\n    margin-top:10px;\n    height:60px;\n    width:100%;\n}\n\n/*\n * SIDEBAR SELECT\n */\n\n\n\n .sidebar__select {}\n .sidebar__select-select {\n    color: #BBBBBB;\n    /*-webkit-appearance: none;*/\n    /*-moz-appearance: none;*/\n    appearance: none;\n    /*box-sizing: border-box;*/\n    width: 50%;\n    /*height: 20px;*/\n    background-color: #333333;\n    /*background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM4ODg4ODgiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0iZmVhdGhlciBmZWF0aGVyLWNoZXZyb24tZG93biI+PHBvbHlsaW5lIHBvaW50cz0iNiA5IDEyIDE1IDE4IDkiPjwvcG9seWxpbmU+PC9zdmc+);*/\n    background-repeat: no-repeat;\n    background-position: right center;\n    background-size: 16px 16px;\n    margin: 0;\n    /*padding: 0 2 2 6px;*/\n    border-radius: 5px;\n    border: 1px solid #777;\n    background-color: #444;\n    cursor: pointer;\n    outline: none;\n    padding-left: 5px;\n\n }\n\n.sidebar__select-select:hover,\n.sidebar__select-select:active,\n.sidebar__select-select:inactive {\n    background-color: #444444;\n    color: #EEEEEE;\n}\n\n/*.sidebar__select-select option*/\n/*{*/\n/*    background-color: #444444;*/\n/*    color: #bbb;*/\n/*}*/\n\n.sidebar__select-select option:checked\n{\n    background-color: #000;\n    color: #FFF;\n}\n\n\n/*\n * COLOR PICKER\n */\n\n\n .sidebar__color-picker input[type=text] {\n    box-sizing: border-box;\n    background-color: #333333;\n    color: #BBBBBB;\n    display: inline-block;\n    width: calc(50% - 21px); /* 50% minus space of picker circle */\n    height: 18px;\n    outline: none;\n    border: none;\n    border-radius: 0;\n    padding: 0 0 0 4px !important;\n    margin: 0;\n    margin-right: 7px;\n}\n\n.sidebar__color-picker input[type=text]:active,\n.sidebar__color-picker input[type=text]:focus,\n.sidebar__color-picker input[type=text]:hover {\n    background-color: #444444;\n    color: #EEEEEE;\n}\n\ndiv.sidebar__color-picker-color-input,\n.sidebar__color-picker input[type=color],\n.sidebar__palette-picker input[type=color] {\n    display: inline-block;\n    border-radius: 100%;\n    height: 14px;\n    width: 14px;\n\n    padding: 0;\n    border: none;\n    /*border:2px solid red;*/\n    border-color: transparent;\n    outline: none;\n    background: none;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    cursor: pointer;\n    position: relative;\n    top: 3px;\n}\n.sidebar__color-picker input[type=color]:focus,\n.sidebar__palette-picker input[type=color]:focus {\n    outline: none;\n}\n.sidebar__color-picker input[type=color]::-moz-color-swatch,\n.sidebar__palette-picker input[type=color]::-moz-color-swatch {\n    border: none;\n}\n.sidebar__color-picker input[type=color]::-webkit-color-swatch-wrapper,\n.sidebar__palette-picker input[type=color]::-webkit-color-swatch-wrapper {\n    padding: 0;\n}\n.sidebar__color-picker input[type=color]::-webkit-color-swatch,\n.sidebar__palette-picker input[type=color]::-webkit-color-swatch {\n    border: none;\n    border-radius: 100%;\n}\n\n/*\n * Palette Picker\n */\n.sidebar__palette-picker .sidebar__palette-picker-color-input.first {\n    margin-left: 0;\n}\n.sidebar__palette-picker .sidebar__palette-picker-color-input.last {\n    margin-right: 0;\n}\n.sidebar__palette-picker .sidebar__palette-picker-color-input {\n    margin: 0 4px;\n}\n\n.sidebar__palette-picker .circlebutton {\n    width: 14px;\n    height: 14px;\n    border-radius: 1em;\n    display: inline-block;\n    top: 3px;\n    position: relative;\n}\n\n/*\n * Preset\n */\n.sidebar__item-presets-preset\n{\n    padding:4px;\n    cursor:pointer;\n    padding-left:8px;\n    padding-right:8px;\n    margin-right:4px;\n    background-color:#444;\n}\n\n.sidebar__item-presets-preset:hover\n{\n    background-color:#666;\n}\n\n.sidebar__greyout\n{\n    background: #222;\n    opacity: 0.8;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1000;\n    right: 0;\n    top: 0;\n}\n\n.sidebar_tabs\n{\n    background-color: #151515;\n    padding-bottom: 0px;\n}\n\n.sidebar_switchs\n{\n    float: right;\n}\n\n.sidebar_tab\n{\n    float:left;\n    background-color: #151515;\n    border-bottom:1px solid transparent;\n    padding-right:7px;\n    padding-left:7px;\n    padding-bottom: 5px;\n    padding-top: 5px;\n    cursor:pointer;\n}\n\n.sidebar_tab_active\n{\n    background-color: #272727;\n    color:white;\n}\n\n.sidebar_tab:hover\n{\n    border-bottom:1px solid #777;\n    color:white;\n}\n\n\n.sidebar_switch\n{\n    float:left;\n    background-color: #444;\n    padding-right:7px;\n    padding-left:7px;\n    padding-bottom: 5px;\n    padding-top: 5px;\n    cursor:pointer;\n}\n\n.sidebar_switch:last-child\n{\n    border-top-right-radius: 7px;\n    border-bottom-right-radius: 7px;\n}\n\n.sidebar_switch:first-child\n{\n    border-top-left-radius: 7px;\n    border-bottom-left-radius: 7px;\n}\n\n\n.sidebar_switch_active\n{\n    background-color: #999;\n    color:white;\n}\n\n.sidebar_switch:hover\n{\n    color:white;\n}\n\n"};const r="cables-sidebar-style";const a="cables-sidebar-dynamic-style";const s="sidebar-cables";const u="sidebar"+CABLES.uuid();const l="sidebar__items";const p="sidebar__close-button";const i="";const c="";let d=null;let D=null;let g=null;const e=o.inValueBool("Visible",true);const t=o.inValueSlider("Opacity",1);const m=o.inValueBool("Default Minimized");const b=o.inValueSlider("Minimized Opacity",.5);const h=o.inValueBool("Show undo button",false);const f=o.inValueBool("Show Minimize",false);const v=o.inString("Title","");const O=o.inValueBool("Side");const y=o.inValueBool("Default CSS",true);let x=o.patch.cgl.canvas.ownerDocument;const I=o.outObject("childs");I.setUiAttribs({title:"Children"});const S=o.outBool("Opfened");S.setUiAttribs({title:"Opened"});let j=x.querySelector("."+u);if(!j)j=B();const _=j.querySelector("."+l);I.set({parentElement:_,parentOp:o});k();L();P();y.onChange=()=>{L();P()};e.onChange=M;t.onChange=N;m.onChange=k;b.onChange=A;h.onChange=C;o.onDelete=V;function A(){P()}f.onChange=T;function T(e){if(!e||e.uiAttribs)e=x.querySelector(".sidebar-cables .sidebar__group-header");if(!e)return;const t=x.querySelector(".sidebar-cables .sidebar__group-header .sidebar__group-header-undo");if(f.get()){e.classList.add("iconsidebar-chevron-up");e.classList.add("iconsidebar-minimizebutton");if(t)t.style.marginRight="20px"}else{e.classList.remove("iconsidebar-chevron-up");e.classList.remove("iconsidebar-minimizebutton");if(t)t.style.marginRight="initial"}}O.onChange=function(){if(!j)return;if(O.get())j.classList.add("sidebar-cables-right");else j.classList.remove("sidebar-cables-right")};function C(){const e=x.querySelector(".sidebar-cables .sidebar__group-header");if(e){w(e)}}function w(e){if(e){const t=x.querySelector(".sidebar-cables .sidebar__group-header .sidebar__group-header-undo");if(t){if(!h.get()){t.remove()}}else{if(h.get()){const n=x.createElement("span");n.classList.add("sidebar__group-header-undo");n.classList.add("sidebar-icon-undo");n.addEventListener("click",function(e){e.stopPropagation();const t=x.querySelectorAll(".sidebar-cables .sidebar__reloadable");const n=x.createEvent("MouseEvents");n.initEvent("dblclick",true,true);t.forEach(e=>{e.dispatchEvent(n)})});e.appendChild(n)}}}T(e)}function k(){if(!d){return}if(m.get()){j.classList.add("sidebar--closed");if(e.get())S.set(false)}else{j.classList.remove("sidebar--closed");if(e.get())S.set(true)}}function N(){const e=t.get();j.style.opacity=e}function M(){if(!j)return;if(e.get()){j.style.display="block";if(!j.classList.contains("sidebar--closed"))S.set(true)}else{j.style.display="none";S.set(false)}}O.onChanged=function(){};function P(){const e=x.querySelectorAll("."+a);if(e){e.forEach(function(e){e.parentNode.removeChild(e)})}if(!y.get())return;const t=x.createElement("style");t.classList.add("cablesEle");t.classList.add(a);let n=".sidebar--closed .sidebar__close-button { ";n+="opacity: "+b.get();n+="}";const r=x.createTextNode(n);t.appendChild(r);x.body.appendChild(t)}function B(){const e=x.createElement("div");e.classList.add(s);e.classList.add(u);const t=o.patch.cgl.canvas.parentElement;const n=x.createElement("div");n.classList.add("sidebar__group");e.appendChild(n);const r=x.createElement("div");r.classList.add("sidebar__group-header");e.appendChild(r);const a=x.createElement("span");a.classList.add("sidebar__group-header-title");g=x.createElement("span");g.classList.add("sidebar__group-header-title-text");g.innerHTML=v.get();a.appendChild(g);r.appendChild(a);w(r);T(r);n.appendChild(r);e.appendChild(n);n.addEventListener("click",E);if(!t){o.warn("[sidebar] no canvas parentelement found...");return}t.appendChild(e);const i=x.createElement("div");i.classList.add(l);e.appendChild(i);d=x.createElement("div");d.classList.add(p);d.addEventListener("click",E);e.appendChild(d);return e}v.onChange=function(){if(g)g.innerHTML=v.get()};function z(e){}function E(e){e.stopPropagation();if(!j){o.logError("Sidebar could not be closed...");return}j.classList.toggle("sidebar--closed");const t=e.target;let n=i;if(j.classList.contains("sidebar--closed")){n=c;S.set(false)}else{S.set(true)}}function L(){const e=x.querySelectorAll("."+r);if(e){e.forEach(e=>{e.parentNode.removeChild(e)})}if(!y.get())return;const t=x.createElement("style");t.innerHTML=n.style_css;t.classList.add(r);t.classList.add("cablesEle");x.body.appendChild(t)}function V(){R(j)}function R(e){if(e&&e.parentNode&&e.parentNode.removeChild)e.parentNode.removeChild(e)}};Ops.Sidebar.Sidebar.prototype=new CABLES.Op;CABLES.OPS["5a681c35-78ce-4cb3-9858-bc79c34c6819"]={f:Ops.Sidebar.Sidebar,objName:"Ops.Sidebar.Sidebar"};Ops.Color.HexToRGB_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const a=e.inString("Hex","#ff0000"),i=e.inValueBool("Bytes"),o=e.outNumber("R"),s=e.outNumber("G"),u=e.outNumber("B");function l(e){return parseInt(n(e).substring(0,2),16)||0}function p(e){return parseInt(n(e).substring(2,4),16)||0}function c(e){return parseInt(n(e).substring(4,6),16)||0}function n(e=""){return e.charAt(0)=="#"?e.substring(1,7):e}a.onChange=r;i.onChange=r;function r(){let e=a.get()||"";let t=l(e);let n=p(e);let r=c(e);if(!i.get()){t/=255;n/=255;r/=255}o.set(t);u.set(r);s.set(n)}};Ops.Color.HexToRGB_v2.prototype=new CABLES.Op;CABLES.OPS["9877f198-8dac-48e5-9310-244ef1a8dec5"]={f:Ops.Color.HexToRGB_v2,objName:"Ops.Color.HexToRGB_v2"};Ops.Json.SwitchObject=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const t=n.inValueInt("Object Index",0);const r=n.outObject("object out");const a=8;const i=[];n.onLoaded=function(){o()};t.onChange=o;for(let t=0;t<a;t++){let e=n.inObject("object port "+t);e.inputNum=t;e.onChange=s.bind(e);i[t]=e}function o(){let e=Math.max(0,Math.floor(t.get()));if(e<0)e=0;else if(e>a-1)e=a-1;r.setRef(i[e].get())}function s(){if(this.inputNum!=t.get())return;r.setRef(this.get())}};Ops.Json.SwitchObject.prototype=new CABLES.Op;CABLES.OPS["345d535e-267d-49fb-98c0-c8a8f9424160"]={f:Ops.Json.SwitchObject,objName:"Ops.Json.SwitchObject"};Ops.Vars.VarSetObject_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Value",null);e.varName=e.inDropDown("Variable",[],"",true);new CABLES.VarSetOpWrapper(e,"object",n,e.varName)};Ops.Vars.VarSetObject_v2.prototype=new CABLES.Op;CABLES.OPS["c7608375-5b45-4bca-87ef-d0c5e970779a"]={f:Ops.Vars.VarSetObject_v2,objName:"Ops.Vars.VarSetObject_v2"};Ops.User.rambodc.FBAddDocumentSubCol=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const a=e.inString("Collection name");const i=e.inString("SubCollection name");const o=e.inString("Parent Document ID");const s=e.inObject("Document");const u=e.inBool("Create Timestamp");const l=e.inBool("Include Document ID",false);const p=e.outBoolNum("Error",false);const c=e.outString("Error Message");const d=e.outObject("Created Document");const g=e.outString("Created Document ID");const m=e.outTrigger("Success");const b=e.outTrigger("Failure");n.onTriggered=r;async function r(){if(!a.get()||!s.get()){p.set(true);c.set("Missing Arguments: Collection name or Document is missing!");return}const e=firebase.firestore();let t;if(i.get()&&o.get()){t=e.collection(a.get()).doc(o.get()).collection(i.get())}else{t=e.collection(a.get())}let n={...s.get()};if(!u.get()&&n.hasOwnProperty("createdAt")){delete n.createdAt}if(u.get()){n.createdAt=firebase.firestore.FieldValue.serverTimestamp()}try{const r=await t.add(n);if(l.get()){await r.update({documentID:r.id});n.documentID=r.id}p.set(false);c.set("");d.set(n);g.set(r.id);m.trigger()}catch(e){p.set(true);d.set(null);g.set(null);c.set(e.message);b.trigger()}}};Ops.User.rambodc.FBAddDocumentSubCol.prototype=new CABLES.Op;CABLES.OPS["017e8190-b88f-4c14-9193-a9d646707885"]={f:Ops.User.rambodc.FBAddDocumentSubCol,objName:"Ops.User.rambodc.FBAddDocumentSubCol"};Ops.User.rambodc.SidebarText_Prompt=function(){CABLES.Op.apply(this,arguments);const t=this;const D=t.attachments={};const n=t.inObject("link");const r=t.inString("Text");const e=t.inValueString("Id","");const a=t.inTriggerButton("Clear");const i=t.inBool("Visible",true);const o=t.inBool("Button",false);const s=t.inString("Text Color","rgba(255,255,255,1)");const u=t.inString("Text Size","16px");const l=t.inString("Line Height","1.5");const p=t.inBool("Bold",false);const c=t.inString("Background Color","rgba(255,255,255,0.1)");const d=t.inString("Hover Color","rgba(255,255,255,0.3)");const g=t.inString("Margin","10px");const m=t.inString("Padding","10px");const b=t.inString("Height","auto");const h=t.inString("Width","auto");const f=t.inString("Text Align","left");const v=t.outObject("childs");const O=t.outTrigger("Clicked");const y=document.createElement("div");y.dataset.op=t.id;y.classList.add("cablesEle");y.classList.add("sidebar__item");y.classList.add("sidebar__text");const x=document.createElement("div");x.classList.add("sidebar__item-label-v2");const I=document.createElement("div");x.appendChild(I);y.appendChild(x);n.onChange=C;r.onChange=T;e.onChange=A;a.onTriggered=_;t.onDelete=E;i.onChange=j;o.onChange=w;s.onChange=S;u.onChange=S;l.onChange=S;p.onChange=S;c.onChange=S;d.onChange=S;g.onChange=S;m.onChange=S;b.onChange=S;h.onChange=S;f.onChange=S;t.toWorkNeedsParent("Ops.Sidebar.Sidebar");function S(){x.style.color=s.get();x.style.fontSize=u.get();x.style.lineHeight=l.get();x.style.fontWeight=p.get()?"bold":"normal";x.style.whiteSpace="pre-line";y.style.backgroundColor=c.get();y.style.margin=g.get();y.style.padding=m.get();y.style.height=b.get();y.style.width=h.get();x.style.textAlign=f.get();if(o.get()){y.style.cursor="pointer";y.style.transition="background-color 0.3s"}else{y.style.cursor="default"}}function j(){y.style.display=i.get()?"block":"none"}function _(){r.set("");T()}function A(){y.id=e.get()}function T(){const e=r.get();x.innerHTML=e;if(CABLES.UI){if(e&&typeof e==="string"){t.setTitle("Text: "+e.substring(0,10))}else{t.setTitle("Text")}}}function C(){v.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(y);v.set(e)}else{if(y.parentElement){y.parentElement.removeChild(y)}}}function w(){if(o.get()){y.addEventListener("click",k);y.addEventListener("mouseover",N);y.addEventListener("mouseout",P)}else{y.removeEventListener("click",k);y.removeEventListener("mouseover",N);y.removeEventListener("mouseout",P)}S()}function k(){O.trigger()}function N(){y.style.backgroundColor=d.get()}function P(){y.style.backgroundColor=c.get()}function E(){L(y)}function L(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.User.rambodc.SidebarText_Prompt.prototype=new CABLES.Op;CABLES.OPS["8820d980-08bb-4e5c-9307-2117f7dcd322"]={f:Ops.User.rambodc.SidebarText_Prompt,objName:"Ops.User.rambodc.SidebarText_Prompt"};Ops.User.rambodc.AIStringArrayAttach=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const o=e.inString("Message");const s=e.inArray("Query");const u=e.outObject("Object");function n(){const e=o.get();const t=s.get();if(Array.isArray(t)&&t.length>0){const n=JSON.stringify(t);const r=`${e}. ${n}`;const a={prompt:r};u.set(a)}else{const i="";console.error(i);u.set({prompt:`${e}. ${i}`})}}o.onChange=n;s.onChange=n;n()};Ops.User.rambodc.AIStringArrayAttach.prototype=new CABLES.Op;CABLES.OPS["afb52e17-80b4-4bce-9092-8b512e290c99"]={f:Ops.User.rambodc.AIStringArrayAttach,objName:"Ops.User.rambodc.AIStringArrayAttach"};Ops.User.rambodc.Empty_String_Check1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Exe");const r=e.inString("String Input 1","");const a=e.inString("Error Message 1","");const i=e.inBool("Bool 1",false);const o=e.inString("String Input 2","");const s=e.inString("Error Message 2","");const u=e.inBool("Bool 2",false);const l=e.inString("String Input 3","");const p=e.inString("Error Message 3","");const c=e.inBool("Bool 3",false);const d=e.inString("String Input 4","");const g=e.inString("Error Message 4","");const m=e.inBool("Bool 4",false);const b=e.outTrigger("Success");const h=e.outTrigger("Fail");const f=e.outString("Output Error Message");f.changeAlways=true;n.onTriggered=function(){let e="";if(i.get()&&r.get().trim()===""){e+=a.get()+" "}if(u.get()&&o.get().trim()===""){e+=s.get()+" "}if(c.get()&&l.get().trim()===""){e+=p.get()+" "}if(m.get()&&d.get().trim()===""){e+=g.get()+" "}if(e!==""){f.set(e.trim());h.trigger()}else{b.trigger()}}};Ops.User.rambodc.Empty_String_Check1.prototype=new CABLES.Op;CABLES.OPS["7b6873fb-d5db-45fe-9330-73a8290e8795"]={f:Ops.User.rambodc.Empty_String_Check1,objName:"Ops.User.rambodc.Empty_String_Check1"};Ops.Boolean.BoolByTrigger=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("True"),r=e.inTriggerButton("false"),a=e.outBoolNum("Result");n.onTriggered=function(){a.set(true)};r.onTriggered=function(){a.set(false)}};Ops.Boolean.BoolByTrigger.prototype=new CABLES.Op;CABLES.OPS["31f65abe-9d6c-4ba6-a291-ef2de41d2087"]={f:Ops.Boolean.BoolByTrigger,objName:"Ops.Boolean.BoolByTrigger"};Ops.Devices.Browser.ColorScheme=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.outString("Color Scheme",""),r=e.outBoolNum("Dark Mode"),a=e.outBoolNum("Light Mode"),i=e.outBoolNum("Supported");o();if(window.matchMedia)window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{o()});function o(){i.set(!!window.matchMedia);if(window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;n.set(e?"dark":"light");r.set(e);a.set(!e)}}};Ops.Devices.Browser.ColorScheme.prototype=new CABLES.Op;CABLES.OPS["2c54d518-f110-4faf-afa9-436ffd5a6870"]={f:Ops.Devices.Browser.ColorScheme,objName:"Ops.Devices.Browser.ColorScheme"};Ops.User.rambodc.Echarts_Sidebar=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("link");const r=e.inValueString("Id","");const a=e.inBool("Visible",true);const i=e.inTriggerButton("Create");const o=e.inString("Width","640px");const s=e.inString("Height","480px");const u=e.inObject("Chart Object");const l=e.inObject("Merge options");const p=e.inSwitch("Renderer",["canvas","svg"],"canvas");const c=e.inSwitch("Theme",["default","light","dark"],"dark");const d=e.inObject("Custom theme obj");const g=e.inObject("Init extra Options");const m=e.inValueEditor("Style","position:relative;\nz-index:100;\nbackground:white;","inline-css");const b=e.outObject("childs");const h=e.outObject("ECharts instance");const f=e.outTrigger("Chart updated");const v=e.outTrigger("Theme changed");const O=document.createElement("div");O.dataset.op=e.id;O.classList.add("cablesEle");O.classList.add("sidebar__item");O.classList.add("sidebar__chart");const y=document.createElement("div");y.dataset.op=e.id;O.appendChild(y);let x=null;n.onChange=j;r.onChange=S;a.onChange=I;u.onChange=T;l.onChange=T;i.onTriggered=C;p.onChange=w;c.onChange=k;d.onChange=k;o.onChange=N;s.onChange=N;m.onChange=P;j();function I(){O.style.display=a.get()?"block":"none"}function S(){O.id=r.get()}function j(){b.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(O);b.set(e);_();C()}else{if(O.parentElement){O.parentElement.removeChild(O)}}}function _(){if(x){x.dispose();x=null}x=echarts.init(y);A();h.set(x)}function A(){const e=u.get();const t=l.get();if(!x)return;if(e&&typeof e==="object"&&e!==null){if(t&&typeof t==="object"&&t!==null){x.setOption(e,t)}else{x.setOption(e,false,true)}}}function T(){A();f.trigger()}function C(){_();f.trigger()}function w(){_();f.trigger()}function k(){_();v.trigger();f.trigger()}function N(){let e=String(o.get());let t=String(s.get());if(!e.endsWith("%")&&!e.endsWith("px")){e=Math.max(0,parseInt(e))+"px"}if(!t.endsWith("%")&&!t.endsWith("px")){t=Math.max(0,parseInt(t))+"px"}y.style.width=e;y.style.height=t;if(x){if(e.endsWith("px")&&t.endsWith("px")){x.resize({width:parseInt(e),height:parseInt(t)})}else{x.resize()}}}function P(){const e=m.get();y.setAttribute("style",e);N()}e.onDelete=function(){if(x)x.dispose();if(O)O.remove()}};Ops.User.rambodc.Echarts_Sidebar.prototype=new CABLES.Op;CABLES.OPS["e9c22e08-3abc-4486-aad0-d736abfff85c"]={f:Ops.User.rambodc.Echarts_Sidebar,objName:"Ops.User.rambodc.Echarts_Sidebar"};Ops.Math.MapRange=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const d=e.inValueFloat("value",0),g=e.inValueFloat("old min",0),m=e.inValueFloat("old max",1),b=e.inValueFloat("new min",0),h=e.inValueFloat("new max",1),n=e.inValueSelect("Easing",["Linear","Smoothstep","Smootherstep"],"Linear"),r=e.inBool("Clamp",true),f=e.outNumber("result",0);e.setPortGroup("Input Range",[g,m]);e.setPortGroup("Output Range",[b,h]);let v=true;let O=0;let y=0;d.onChange=g.onChange=m.onChange=b.onChange=h.onChange=a;a();r.onChange=()=>{v=r.get();a()};n.onChange=function(){if(n.get()=="Smoothstep")O=1;else if(n.get()=="Smootherstep")O=2;else O=0};function a(){const e=b.get();const t=h.get();const n=g.get();const r=m.get();let a=d.get();if(v){if(a>=Math.max(r,n)){f.set(t);return}else if(a<=Math.min(r,n)){f.set(e);return}}let i=false;const o=Math.min(n,r);const s=Math.max(n,r);if(o!=n)i=true;let u=false;const l=Math.min(e,t);const p=Math.max(e,t);if(l!=e)u=true;let c=0;if(i)c=(s-a)*(p-l)/(s-o);else c=(a-o)*(p-l)/(s-o);if(u)y=p-c;else y=c+l;if(O===0){f.set(y)}else if(O==1){a=Math.max(0,Math.min(1,(y-e)/(t-e)));f.set(e+a*a*(3-2*a)*(t-e))}else if(O==2){a=Math.max(0,Math.min(1,(y-e)/(t-e)));f.set(e+a*a*a*(a*(a*6-15)+10)*(t-e))}}};Ops.Math.MapRange.prototype=new CABLES.Op;CABLES.OPS["2617b407-60a0-4ff6-b4a7-18136cfa7817"]={f:Ops.Math.MapRange,objName:"Ops.Math.MapRange"};Ops.User.rambodc.FB_Password_VerEmail=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Resend Verification Email");const r=e.inTriggerButton("Reset Password");const a=e.inString("Email for Password Reset","");const i=e.outTrigger("Resend Verification Success");const o=e.outTrigger("Resend Verification Fail");const s=e.outTrigger("Reset Password Success");const u=e.outTrigger("Reset Password Fail");const l=e.outString("Error Message","");n.onTriggered=p;function p(){const e=firebase.auth().currentUser;if(e){e.sendEmailVerification().then(()=>{i.trigger()}).catch(e=>{console.error("Resend verification email error: ",e);l.set(e.message);o.trigger()})}else{l.set("No user is logged in.");o.trigger()}}r.onTriggered=c;function c(){const e=a.get();if(e){firebase.auth().sendPasswordResetEmail(e).then(()=>{s.trigger()}).catch(e=>{console.error("Reset password error: ",e);l.set(e.message);u.trigger()})}else{l.set("Please enter an email address.");u.trigger()}}};Ops.User.rambodc.FB_Password_VerEmail.prototype=new CABLES.Op;CABLES.OPS["c1c4d9c3-d79b-414a-9fed-48681a08e58e"]={f:Ops.User.rambodc.FB_Password_VerEmail,objName:"Ops.User.rambodc.FB_Password_VerEmail"};Ops.User.rambodc.FBAddDocument=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inString("Collection name");const a=e.inObject("Document");const i=e.inBool("Create Timestamp");const o=e.outBoolNum("Error",false);const s=e.outString("Error Message");const u=e.outObject("Created Document");const l=e.outString("Created Document ID");const p=e.outTrigger("Success");const c=e.outTrigger("Failure");n.onTriggered=d;function d(){if(!r.get()||!a.get()){o.set(true);s.set("Missing Arguments: Collection name or Document is missing!");return}const e=firebase.firestore();let t=e.collection(r.get());let n=a.get();if(i.get()){n.createdAt=firebase.firestore.FieldValue.serverTimestamp()}t.add(n).then(e=>{o.set(false);s.set("");u.set(n);l.set(e.id);p.trigger()}).catch(e=>{o.set(true);u.set(null);l.set(null);s.set(e.message);c.trigger()})}};Ops.User.rambodc.FBAddDocument.prototype=new CABLES.Op;CABLES.OPS["7c17d7ea-69b7-4384-a276-71077b367fed"]={f:Ops.User.rambodc.FBAddDocument,objName:"Ops.User.rambodc.FBAddDocument"};Ops.User.rambodc.Timezone_From_IP=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Get Timezone");const r=e.outString("TimeZone","");const a=e.outBoolNum("Error",false);const i=e.outString("Error Message","");function o(){return new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js";n.onload=()=>e();n.onerror=()=>t(new Error(`Failed to load ${n.src}`));document.head.appendChild(n)})}async function s(){try{await o();const e=moment.tz.guess();r.set(e);a.set(false);i.set("")}catch(e){r.set("");a.set(true);i.set(`Error determining timezone: ${e.message}`)}}n.onTriggered=s};Ops.User.rambodc.Timezone_From_IP.prototype=new CABLES.Op;CABLES.OPS["e87138a9-13ac-4b63-b84d-3483e86c8dc3"]={f:Ops.User.rambodc.Timezone_From_IP,objName:"Ops.User.rambodc.Timezone_From_IP"};Ops.User.rambodc.IP_Address1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Get IP Address");const r=e.outString("IP Address","");const a=e.outBoolNum("Error",false);const i=e.outString("Error Message","");async function o(){try{const e=await fetch("https://api.ipify.org?format=json");const t=await e.json();r.set(t.ip);a.set(false);i.set("")}catch(e){r.set("");a.set(true);i.set(`Error fetching IP address: ${e.message}`)}}n.onTriggered=o};Ops.User.rambodc.IP_Address1.prototype=new CABLES.Op;CABLES.OPS["dd1a65d7-2232-4e4a-aaaa-29ea3addf005"]={f:Ops.User.rambodc.IP_Address1,objName:"Ops.User.rambodc.IP_Address1"};Ops.User.rambodc.Storage_Path_Replace=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inObject("JSON Object");const a=e.inString("Project ID");const i=e.outObject("Modified JSON Object");r.onChange=n;a.onChange=n;function n(){if(!r.get()||!a.get()){console.error("Input JSON or Project ID is missing.");return}try{const e=r.get();const t=a.get();const n=o(e,t);i.set(n)}catch(e){console.error("Error processing JSON:",e)}}function o(n,r){if(Array.isArray(n)){return n.map(e=>o(e,r))}else if(typeof n==="object"&&n!==null){return Object.keys(n).reduce((e,t)=>{e[t]=o(n[t],r);return e},{})}else if(typeof n==="string"&&n.startsWith("$a")){return n.replace("$a",r)}else{return n}}};Ops.User.rambodc.Storage_Path_Replace.prototype=new CABLES.Op;CABLES.OPS["41837c47-b7ce-4027-971c-45e19370ac5a"]={f:Ops.User.rambodc.Storage_Path_Replace,objName:"Ops.User.rambodc.Storage_Path_Replace"};Ops.User.rambodc.Ipv6=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Get Location");const r=e.outString("IP Address","");const a=e.outObject("Location",{});const i=e.outBoolNum("Error",false);const o=e.outString("Error Message","");const s=e.outTrigger("Success");const u=e.outBoolNum("Success Bool",false);const l=e.outTrigger("Fail");async function p(){try{const e=await fetch("https://ipapi.co/json/");const t=await e.json();r.set(t.ip);a.set(t);i.set(false);o.set("");s.trigger();u.set(true)}catch(e){r.set("");a.set({});i.set(true);o.set(`Error fetching IP address or location: ${e.message}`);u.set(false);l.trigger()}}n.onTriggered=p};Ops.User.rambodc.Ipv6.prototype=new CABLES.Op;CABLES.OPS["b7bf3ce3-522d-4057-93ce-a5bacc91c004"]={f:Ops.User.rambodc.Ipv6,objName:"Ops.User.rambodc.Ipv6"};Ops.Json.ObjectGetNumber_v2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Data"),r=e.inString("Key"),a=e.outNumber("Result"),i=e.outBoolNum("Found");a.ignoreValueSerialize=true;n.ignoreValueSerialize=true;e.setUiAttrib({extendTitlePort:r.name});r.setUiAttribs({stringTrim:true});r.onChange=n.onChange=s;r.on("change",o);o();function o(){if(!r.get())e.setUiError("nokey","Missing Key Value");else e.setUiError("nokey",null)}function s(){const e=n.get();if(e){const t=e[r.get()];a.set(parseFloat(t));if(t===undefined)i.set(0);else i.set(1)}else{a.set(0);i.set(0)}}};Ops.Json.ObjectGetNumber_v2.prototype=new CABLES.Op;CABLES.OPS["a7335e79-046e-40da-9e9c-db779b0a5e53"]={f:Ops.Json.ObjectGetNumber_v2,objName:"Ops.Json.ObjectGetNumber_v2"};Ops.Json.ObjectGetString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("data"),r=e.inString("Key"),a=e.outString("Result");a.ignoreValueSerialize=true;n.ignoreValueSerialize=true;e.setUiAttrib({extendTitlePort:r.name});r.setUiAttribs({stringTrim:true});r.onChange=n.onChange=i;function i(){if(n.get()){const e=n.get()[r.get()];const t=e===undefined||e===null;if(t){a.setRef(null)}else{a.set(String(e))}}else{a.setRef(null)}}};Ops.Json.ObjectGetString.prototype=new CABLES.Op;CABLES.OPS["7d86cd28-f7d8-44a1-a4da-466c4782aaec"]={f:Ops.Json.ObjectGetString,objName:"Ops.Json.ObjectGetString"};Ops.User.rambodc.Upload_Profile_Photo=function(){CABLES.Op.apply(this,arguments);const l=this;const e=l.attachments={};const t=l.inTriggerButton("Open File Dialog");const n=l.inTriggerButton("Upload File");const r=l.inString("Accept Files","image/*");const m=l.inString("User ID","");const b=l.inString("Storage Path","users/");const h=l.inString("User Folder","");const f=l.inString("Resize px","400x400,800x800");const v=l.outTrigger("Upload Success");const O=l.outNumber("Upload Progress",0);const y=l.outString("Upload Error","");const x=l.outBool("Is Loading",false);const a=l.outTrigger("File Selected");const i=document.createElement("input");i.type="file";i.accept=r.get();i.style.display="none";document.body.appendChild(i);t.onTriggered=()=>{i.click()};i.addEventListener("change",e=>{if(e.target.files.length>0){const t=e.target.files[0];l.fileToUpload=t;a.trigger()}});n.onTriggered=async()=>{const p=m.get();const c=b.get();const d=h.get();const t=f.get();const n=l.fileToUpload;if(!p||!n||!t){y.set("Missing required inputs or file not selected!");return}x.set(true);try{const g=firebase.storage();const r=t.split(",").map(e=>e.trim());const a=async(s,u)=>{const r=document.createElement("canvas");const a=r.getContext("2d");const l=new Image;return new Promise((i,o)=>{l.onload=async()=>{const e=l.width/l.height;let t,n;if(e>1){t=s;n=s/e}else{t=u*e;n=u}r.width=t;r.height=n;a.drawImage(l,0,0,t,n);r.toBlob(async e=>{const t=`${p}_${s}x${u}.png`;let n=`${c}${p}/`;if(d){n+=`${d}/`}n+=t;const r=g.ref(n);const a=r.put(e);a.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;O.set(t);console.log("Upload is "+t+"% done")},e=>{o(e)},async()=>{const e=await a.snapshot.ref.getDownloadURL();i(e)})},"image/png")};l.src=URL.createObjectURL(n)})};const i=`${p}.png`;let e=`${c}${p}/`;if(d){e+=`${d}/`}e+=i;const o=g.ref(e);const s=o.put(n);await new Promise((t,n)=>{s.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;O.set(t);console.log("Upload is "+t+"% done")},e=>{y.set(e.message);x.set(false);n(e)},async()=>{const e=await s.snapshot.ref.getDownloadURL();t(e)})});const u=r.map(e=>{const[t,n]=e.split("x").map(Number);return a(t,n)});await Promise.all(u);v.trigger();x.set(false)}catch(e){y.set(e.message);x.set(false)}};l.onDelete=()=>{if(i.parentNode){i.parentNode.removeChild(i)}}};Ops.User.rambodc.Upload_Profile_Photo.prototype=new CABLES.Op;CABLES.OPS["3e024b9c-3ba1-4360-b27c-6542768a02e1"]={f:Ops.User.rambodc.Upload_Profile_Photo,objName:"Ops.User.rambodc.Upload_Profile_Photo"};Ops.User.rambodc.Frame_Type=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValue("Width");const r=e.inStringEditor("Frame1");const a=e.inStringEditor("Frame2");const i=e.inStringEditor("Frame3");const o=e.outString("Result");const s=e.outString("Frame Type");function u(){let e="";let t="";if(n.get()<600){e=r.get();t="Frame1"}else if(n.get()>=600&&n.get()<1200){e=a.get();t="Frame2"}else if(n.get()>=1200){e=i.get();t="Frame3"}o.set(e);s.set(t)}n.onChange=u;r.onChange=u;a.onChange=u;i.onChange=u;u()};Ops.User.rambodc.Frame_Type.prototype=new CABLES.Op;CABLES.OPS["7b11ff6d-acbd-426a-806c-9c0076affd41"]={f:Ops.User.rambodc.Frame_Type,objName:"Ops.User.rambodc.Frame_Type"};Ops.User.rambodc.XRPL_SignTransaction1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger In");const i=e.inString("WSS URL");const o=e.inString("Sender Secret Key");const s=e.inObject("Transaction");const u=e.outString("Transaction Hash");const l=e.outString("Transaction Status");const p=e.outObject("Transaction Details");const c=e.outTrigger("Success");const d=e.outTrigger("Failure");const g=e.outString("Error");const m=e.outBool("Missing Fields");let b=null;n.onTriggered=r;function h(){u.set("");l.set("");p.set(null);g.set("");m.set(false)}async function r(){h();if(!i.get()||!o.get()||!s.get()){let e="";if(!i.get()){e+="WSS URL, "}if(!o.get()){e+="Sender Secret Key, "}if(!s.get()){e+="Transaction, "}g.set(e+"should not be empty");m.set(true);d.trigger();return}try{if(b===null){b=new xrpl.Client(i.get());await b.connect()}const e=xrpl.Wallet.fromSeed(o.get());const t=await b.autofill(s.get());const n=e.sign(t);const r=await b.submitAndWait(n.tx_blob);u.set(r.result.hash);const a=await b.request({command:"tx",transaction:r.result.hash});if(a.result.meta.TransactionResult==="tesSUCCESS"){l.set(a.result.meta.TransactionResult);p.set(a.result);c.trigger()}else{l.set(a.result.meta.TransactionResult);d.trigger()}}catch(e){let t=e.message;if(e.data){t+=" Data: "+JSON.stringify(e.data)}if(e.code){t+=" Code: "+e.code}g.set(t);d.trigger()}finally{if(b!==null){await b.disconnect();b=null}}}};Ops.User.rambodc.XRPL_SignTransaction1.prototype=new CABLES.Op;CABLES.OPS["e4528fbf-7e7c-4963-92d1-2a8fe00c75dd"]={f:Ops.User.rambodc.XRPL_SignTransaction1,objName:"Ops.User.rambodc.XRPL_SignTransaction1"};Ops.User.rambodc.XRPL_AccountSet=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};function d(t){if(typeof t!=="string"){throw new Error("Expected domainString to be a string, but received: "+typeof t)}let n="";for(let e=0;e<t.length;e++){n+=t.charCodeAt(e).toString(16)}return n}const g=e.inString("Account Address");const m=e.inInt("ClearFlag");const b=e.inString("Domain");const h=e.inString("EmailHash");const f=e.inString("MessageKey");const v=e.inString("NFTokenMinter");const O=e.inInt("SetFlag");const y=e.inInt("TransferRate");const x=e.inInt("TickSize");const I=e.inString("WalletLocator");const S=e.inInt("WalletSize");const j=e.inBool("Require Destination Tag");const _=e.inBool("Require Authorization");const A=e.inBool("Disallow XRP");const T=e.inBool("Default Ripple");const C=e.inBool("Deposit Authorization");const w=e.inBool("Allow Trust Line Clawback");const k=e.inObject("Additional Object");const N=e.outObject("Complete AccountSet Transaction");const n=e.inTriggerButton("Add AccountSet Fields");const r=e.inTriggerButton("Clear Fields");n.onTriggered=a;r.onTriggered=i;function a(){let e=k.get()||{};e.TransactionType="AccountSet";let t=g.get();let n=m.get();let r=b.get();let a=h.get();let i=f.get();let o=v.get();let s=O.get();let u=y.get();let l=x.get();let p=I.get();let c=S.get();if(t)e.Account=t;if(n)e.ClearFlag=n;if(r)e.Domain=d(r);if(a)e.EmailHash=a;if(i)e.MessageKey=i;if(o)e.NFTokenMinter=o;if(s)e.SetFlag=s;if(u)e.TransferRate=u;if(l)e.TickSize=l;if(p)e.WalletLocator=p;if(c)e.WalletSize=c;if(j.get())e.SetFlag=1;if(_.get())e.SetFlag=2;if(A.get())e.SetFlag=3;if(T.get())e.SetFlag=8;if(C.get())e.SetFlag=9;if(w.get())e.SetFlag=16;N.set(e)}function i(){g.set(null);m.set(null);b.set(null);h.set(null);f.set(null);v.set(null);O.set(null);y.set(null);x.set(null);I.set(null);S.set(null);k.set(null);j.set(false);_.set(false);A.set(false);T.set(false);C.set(false);w.set(false)}};Ops.User.rambodc.XRPL_AccountSet.prototype=new CABLES.Op;CABLES.OPS["5a1bd0b2-580a-4d05-b883-3b540f34d914"]={f:Ops.User.rambodc.XRPL_AccountSet,objName:"Ops.User.rambodc.XRPL_AccountSet"};Ops.User.rambodc.XRPL_TrustSet=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const u=e.inString("Account");const l=e.inString("LimitAmount Currency");const p=e.inString("LimitAmount Value");const c=e.inString("LimitAmount Issuer");const d=e.inInt("QualityIn");const g=e.inInt("QualityOut");const m=e.inBool("Authorize Other Party");const b=e.inBool("Enable No Ripple");const h=e.inBool("Disable No Ripple");const f=e.inBool("Freeze Trust Line");const v=e.inBool("Unfreeze Trust Line");const O=e.inObject("Additional Object");const y=e.outObject("Complete TrustSet Transaction");const n=e.inTriggerButton("Add TrustSet Fields");const r=e.inTriggerButton("Clear Fields");n.onTriggered=a;r.onTriggered=i;function a(){let e=O.get()||{};e.TransactionType="TrustSet";let t=u.get();let n=l.get();let r=p.get();let a=c.get();let i=d.get();let o=g.get();if(t)e.Account=t;if(n&&r&&a){e.LimitAmount={currency:n,value:r,issuer:a}}if(i)e.QualityIn=i;if(o)e.QualityOut=o;let s=0;if(m.get())s|=65536;if(b.get())s|=131072;if(h.get())s|=262144;if(f.get())s|=1048576;if(v.get())s|=2097152;if(s!==0)e.Flags=s;y.set(e)}function i(){u.set(null);l.set(null);p.set(null);c.set(null);d.set(null);g.set(null);m.set(false);b.set(false);h.set(false);f.set(false);v.set(false);O.set(null)}};Ops.User.rambodc.XRPL_TrustSet.prototype=new CABLES.Op;CABLES.OPS["9f823a3b-04bf-479c-bbdd-0a6c231d0e45"]={f:Ops.User.rambodc.XRPL_TrustSet,objName:"Ops.User.rambodc.XRPL_TrustSet"};Ops.User.rambodc.FB_Timestamp_Converter=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inObject("Timestamp");const a=e.outNumber("Timestamp in Seconds");const i=e.outNumber("Timestamp in Milliseconds");const o=e.outTrigger("Success");const s=e.outTrigger("Fail");const u=e.outString("Error Message");r.onChange=n;function n(){try{const e=r.get();if(typeof e!=="object"||typeof e.seconds!=="number"||typeof e.nanoseconds!=="number"){throw new Error("Invalid Firestore timestamp")}const t=e.seconds;const n=e.seconds*1e3+Math.floor(e.nanoseconds/1e6);a.set(t);i.set(n);o.trigger()}catch(e){u.set(e.message);s.trigger()}}};Ops.User.rambodc.FB_Timestamp_Converter.prototype=new CABLES.Op;CABLES.OPS["34a01816-b7be-4e65-8715-cb950e1bef87"]={f:Ops.User.rambodc.FB_Timestamp_Converter,objName:"Ops.User.rambodc.FB_Timestamp_Converter"};Ops.User.rambodc.PasswordLength=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("Password","");const r=e.inTriggerButton("Check");const a=e.outTrigger("Error");const i=e.outTrigger("Success Trigger");const o=e.outString("Valid Password","");const s=e.outString("Error Message","");function u(){let e=n.get();if(e.length<6){s.set("Password must be a minimum of 6 characters long.");o.set(null);a.trigger()}else{i.trigger();o.set(e)}}r.onTriggered=u;u()};Ops.User.rambodc.PasswordLength.prototype=new CABLES.Op;CABLES.OPS["fd97d40e-a4ac-473a-8197-d76c8f057021"]={f:Ops.User.rambodc.PasswordLength,objName:"Ops.User.rambodc.PasswordLength"};Ops.User.rambodc.Timer_Expiry_Countdown=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const d=e.inValue("Timestamp (Seconds)");const g=e.inValue("Expiry Time (Minutes)",60);const n=e.inValue("Speed",1);const r=e.inValueBool("Play",true);const a=e.inTriggerButton("Reset");const i=e.inValueBool("Sync to timeline",false);const m=e.outString("Time Remaining");const b=e.outTrigger("Expired");const h=e.outBool("Expired Bool");const f=new CABLES.Timer;let v=null;let o=0;let s=false;r.onChange=O;a.onTriggered=u;i.onChange=l;O();function O(){if(r.get()){f.play();e.patch.addOnAnimFrame(e)}else{f.pause();e.patch.removeOnAnimFrame(e)}}function u(){o=0;v=null;f.setTime(0);m.set("0:00");h.set(false)}function l(){s=i.get();r.setUiAttribs({greyout:s});a.setUiAttribs({greyout:s})}e.onAnimFrame=function(e,t,n){if(f.isPlaying()){const r=d.get();if(typeof r!=="number"||isNaN(r)){m.set("Invalid Timestamp");h.set(false);return}const a=g.get()*60*1e3;const i=Date.now();const o=r*1e3+a;let e=o-i;if(e<=0){m.set("Expired");b.trigger();h.set(true);O(false);return}else{h.set(false)}const s=Math.floor(e/1e3);const u=Math.floor(s/60);if(v!==null&&u===v){return}v=u;const l=Math.floor(u/1440);const p=Math.floor(u%1440/60);const c=u%60;let t;if(l>0){t=`${l} day${l>1?"s":""}`}else if(p>0){t=`${p} hour${p>1?"s":""}, ${c} min${c>1?"s":""}`}else if(c>0){t=`${c} min${c>1?"s":""}`}else{t="Less than a min"}m.set(t)}}};Ops.User.rambodc.Timer_Expiry_Countdown.prototype=new CABLES.Op;CABLES.OPS["6d94e185-0083-4047-8e39-8bb9b211bbf2"]={f:Ops.User.rambodc.Timer_Expiry_Countdown,objName:"Ops.User.rambodc.Timer_Expiry_Countdown"};Ops.User.rambodc.UtcOffset_Checker=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inString("UTC Offset","0000");const r=e.outString("UTC Offset Output","0000");function a(e){const t=/^([+-])([01][0-9]|2[0-3])[0-5][0-9]$/;if(t.test(e)){return e}return"+0000"}n.onChange=()=>{const e=n.get();const t=a(e);r.set(t)};r.set(a(n.get()))};Ops.User.rambodc.UtcOffset_Checker.prototype=new CABLES.Op;CABLES.OPS["4bd257af-1467-4da5-a6ce-e3d03cce5608"]={f:Ops.User.rambodc.UtcOffset_Checker,objName:"Ops.User.rambodc.UtcOffset_Checker"};Ops.User.rambodc.URL_Hash=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Read Hash");const r=e.outTrigger("Changed");const a=e.outString("Path");const i=e.outString("Folder1");const o=e.outString("Folder2");const s=e.outString("Folder3");const u=e.outString("Folder4");const l=e.outString("Folder5");let p=null;let c=null;e.onLoadedValueSet=d;function d(){if("onhashchange"in window){g()}else{e.setUiError("unsupported","Your browser does not support listening to hash changes!")}}function g(){if(c){e.patch.removeEventListener(c);c=null}c=e.patch.addEventListener("LocationHashChange",f);window.removeEventListener("hashchange",m);window.addEventListener("hashchange",m);f({newURL:window.location.href})}function m(e){f(e)}e.onDelete=function(){if(c){e.patch.removeEventListener(c);c=null}window.removeEventListener("hashchange",m)};n.onTriggered=function(){b()};function b(){const e=window.location.hash.substring(1);if(e!==p){p=e;a.set(e);h(e);r.trigger()}}function h(e){const t=e.split("/");i.set(t[1]||"");o.set(t[2]||"");s.set(t[3]||"");u.set(t[4]||"");l.set(t[5]||"")}function f(e){b()}};Ops.User.rambodc.URL_Hash.prototype=new CABLES.Op;CABLES.OPS["66091d88-39e5-4a39-b164-002e147822dd"]={f:Ops.User.rambodc.URL_Hash,objName:"Ops.User.rambodc.URL_Hash"};Ops.User.rambodc.XRPL_FundWallet=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger In");const r=e.inObject("Wallet");const a=e.inString("Wss");const i=e.inString("Amount","1000");const o=e.outObject("Fund Wallet");const s=e.outTrigger("Success");const u=e.outTrigger("Failure");const l=e.outString("Error");const p=e.outBool("Missing Wss");n.onTriggered=d;let c=null;async function d(){if(!a.get()){l.set(true);p.set(true);u.trigger();return}try{if(c===null){c=new xrpl.Client(a.get());await c.connect()}let e;if(r.get()){e=await c.fundWallet(r.get(),{amount:i.get()})}else{e=await c.fundWallet(null,{amount:i.get()})}o.set(e);s.trigger()}catch(e){l.set(e);u.trigger()}}};Ops.User.rambodc.XRPL_FundWallet.prototype=new CABLES.Op;CABLES.OPS["a09799a9-fc66-47eb-801d-4c3de4a33769"]={f:Ops.User.rambodc.XRPL_FundWallet,objName:"Ops.User.rambodc.XRPL_FundWallet"};Ops.User.rambodc.XRPL_account_lines=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const i=e.inString("Account");const o=e.inString("Ledger Index","validated");const s=e.inString("WebSocket Server (WSS)");const u=e.outObject("Account Lines");const l=e.outTrigger("Success");const p=e.outTrigger("Failure");const c=e.outString("Error");n.onTriggered=r;async function r(){const e=i.get();const t=o.get();const n=s.get();const r={command:"account_lines",account:e,ledger_index:t};const a=new WebSocket(n);a.onopen=()=>{a.send(JSON.stringify(r))};a.onmessage=e=>{const t=JSON.parse(e.data);if(t.error){c.set(t.error+": "+t.error_message);p.trigger();return}u.set(t.result);l.trigger()};a.onerror=e=>{c.set("WebSocket error: "+e.message);p.trigger()};a.onclose=e=>{if(!e.wasClean){c.set(`WebSocket connection closed unexpectedly: code ${e.code} reason ${e.reason}`);p.trigger()}}}};Ops.User.rambodc.XRPL_account_lines.prototype=new CABLES.Op;CABLES.OPS["9d1be230-aecc-4127-a531-1708070ac87c"]={f:Ops.User.rambodc.XRPL_account_lines,objName:"Ops.User.rambodc.XRPL_account_lines"};Ops.User.rambodc.XRPL_SeedPrivKey=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const i=e.inObject("XRPL Wallet");const o=e.inInt("Switch Character");const s=e.outObject("Updated Wallet Object");function u(e,t){if(typeof e!=="string"||e.length<t||t<1){console.error("Invalid string or switch character index.");return e}const n=e.split("");const r=n.length-1;const a=n[t-1];const i=n[r];n[t-1]=i;n[r]=a;return n.join("")}function n(){const e=i.get();const t=o.get();if(!e||typeof e.seed!=="string"||typeof e.privateKey!=="string"||t<=0){console.error("Invalid input data for wallet or switch character number.");s.set(e);return}const n=u(e.seed,t);const r=u(e.privateKey,t);const a={...e,seed:n,privateKey:r};s.set(a)}i.onChange=n;o.onChange=n;n()};Ops.User.rambodc.XRPL_SeedPrivKey.prototype=new CABLES.Op;CABLES.OPS["a2ae3e5e-c5e5-4701-9365-28d5a8347140"]={f:Ops.User.rambodc.XRPL_SeedPrivKey,objName:"Ops.User.rambodc.XRPL_SeedPrivKey"};Ops.User.rambodc.RedirectPath=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inString("Full Path","");const a=e.outString("Redirect Path","");function n(){const e=r.get();if(e&&typeof e==="string"){const t=e.indexOf("/redirect");if(t!==-1){const n=e.substring(t);a.set(n)}else{a.set("")}}else{a.set("")}}r.onChange=n;n()};Ops.User.rambodc.RedirectPath.prototype=new CABLES.Op;CABLES.OPS["f00824b7-323b-44fe-aa62-4f837fbab81a"]={f:Ops.User.rambodc.RedirectPath,objName:"Ops.User.rambodc.RedirectPath"};Ops.Json.ObjectStringify_v2=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inObject("Object"),r=t.inValueBool("Beautify",true),a=t.outString("Result"),i=t.outBoolNum("Error");r.onChange=n.onChange=o;function o(){try{if(!r.get())a.set(JSON.stringify(n.get()));else a.set(JSON.stringify(n.get(),false,4));i.set(0)}catch(e){t.error(e);a.set("error");i.set(1)}}};Ops.Json.ObjectStringify_v2.prototype=new CABLES.Op;CABLES.OPS["89fc70ea-2350-4a0e-9a24-4efca10cced6"]={f:Ops.Json.ObjectStringify_v2,objName:"Ops.Json.ObjectStringify_v2"};Ops.User.rambodc.XRPL_tx=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger In");const r=e.inString("WSS URL");const a=e.inString("Transaction ID");const i=e.outObject("Transaction");const o=e.outTrigger("Success");const s=e.outTrigger("Failure");const u=e.outString("Error");const l=e.outBool("Missing Fields");let p=null;n.onTriggered=c;async function c(){if(!r.get()||!a.get()){u.set("Missing fields");l.set(true);s.trigger();return}try{if(p===null){p=new xrpl.Client(r.get());await p.connect()}const e={command:"tx",transaction:a.get()};const t=await p.request(e);i.set(t.result);o.trigger()}catch(e){u.set(e.message);s.trigger()}finally{if(p!==null){p.disconnect();p=null}}}};Ops.User.rambodc.XRPL_tx.prototype=new CABLES.Op;CABLES.OPS["cbc9601c-a030-4f14-af18-dd5169b30eb4"]={f:Ops.User.rambodc.XRPL_tx,objName:"Ops.User.rambodc.XRPL_tx"};Ops.String.SwitchString=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueInt("Index"),r=e.outString("Result");const a=[];n.onChange=s;for(var i=0;i<10;i++){var o=e.inString("String "+i);a.push(o);o.onChange=s}function s(){if(n.get()>=0&&a[n.get()]){r.set(a[n.get()].get())}}};Ops.String.SwitchString.prototype=new CABLES.Op;CABLES.OPS["2a7a0c68-f7c9-4249-b19a-d2de5cb4862c"]={f:Ops.String.SwitchString,objName:"Ops.String.SwitchString"};Ops.User.rambodc.FB_Feed1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Query");const r=e.inTriggerButton("Next Trigger");const a=e.inString("UID");const i=e.inValue("Query Expiry (seconds)",10);const o=e.outString("Post ID");const s=e.outValue("Number of Records Fetched");const u=e.outValue("Current Record Number");const l=e.outTrigger("Found Doc");const p=e.outTrigger("Not Found Doc");const c=e.outTrigger("Doc Next Found");const d=e.outTrigger("Doc Next Not Found");const g=e.outString("Error Message");let m;let b=[];let h=0;let f=0;function v(){if(!m){try{m=firebase.firestore()}catch(e){g.set("Firebase is not initialized.");p.trigger();return false}}return true}function O(){const e=Date.now();const t=i.get()*1e3;return e-f>=t}n.onTriggered=()=>{if(!O()){g.set("Query triggered too soon. Please wait.");return}f=Date.now();if(!v())return;const n=a.get();if(!n){g.set("UID is missing.");p.trigger();return}m.collection("postActions").where("isArchived","==",false).where("status","==","completed").where("followers","array-contains",n).orderBy("createdAt","desc").limit(100).get().then(e=>{if(e.empty){p.trigger();return}b=[];h=0;e.forEach(e=>{const t=e.data();if(t.uid!==n&&(!t.txn||!t.txn.includes(n))){b.push(e)}});s.set(b.length);if(b.length>0){y(true)}else{p.trigger()}}).catch(e=>{g.set("Error fetching documents: "+e.message);p.trigger()})};function y(e=false){if(b.length===0||h>=b.length){p.trigger();return}const t=b[h];o.set(t.id);u.set(h+1);if(e){l.trigger()}else{c.trigger()}}r.onTriggered=()=>{if(b.length===0){g.set("No records available. Please trigger the query first.");return}h++;if(h>=b.length){d.trigger()}else{y(false)}}};Ops.User.rambodc.FB_Feed1.prototype=new CABLES.Op;CABLES.OPS["7c8c0a9d-7440-4823-bfa5-c0b7d66dda3d"]={f:Ops.User.rambodc.FB_Feed1,objName:"Ops.User.rambodc.FB_Feed1"};Ops.User.rambodc.StringTypeAnimationFix1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};let n=e.inStringEditor("text","hello world");let r=e.inTriggerButton("Restart");let a=e.inValue("Speed",500);let i=e.inValueSlider("Speed Variation");const o=e.inBool("Show Cursor",true);const s=e.inBool("Active",true);let u=e.outString("Result");let l=e.outTrigger("Changed");let p=e.outTrigger("Finished");u.set("  \n  ");let c=0;let d=0;let g=true;let m=false;function b(){clearTimeout(d);if(!s.get()||m)return;let e=a.get()*(Math.random()*(i.get()*2-1));d=setTimeout(h,a.get()+e)}r.onTriggered=function(){if(!s.get())return;m=false;c=0;b()};function h(){if(!s.get())return;if(!n.get()||n.get()===""||n.get()==="0"||n.get()=="0"){u.set(" ");return}if(m)return;let e=n.get().substring(0,c);g=!g;if(c>=n.get().length){if(o.get()&&g){e+="_"}if(!m){p.trigger();m=true;return}}else{if(o.get()){e+="_"}c++}u.set(e);l.trigger();b()}n.onChange=function(){m=false;c=0;if(s.get()){b();u.set("")}}};Ops.User.rambodc.StringTypeAnimationFix1.prototype=new CABLES.Op;CABLES.OPS["c35dc874-e704-42c7-aed0-ab2859c66299"]={f:Ops.User.rambodc.StringTypeAnimationFix1,objName:"Ops.User.rambodc.StringTypeAnimationFix1"};Ops.User.rambodc.FBQueryAllDocuments1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inString("Collection name");const a=e.inBool("Use Query");const i=e.inString("Query Field");const o=e.inDropDown("Query Operator",["<","<=","==",">",">="],"==");const s=e.inDropDown("Query Value As",["String","Number","Boolean","Array","Object"],"String");const u=e.inString("Query Value String");const l=e.inValue("Query Value Number");const p=e.inBool("Query Value Boolean");const c=e.inArray("Query Value Array");const d=e.inObject("Query Value Object");const g=e.inBool("Filter On or Off");const m=e.inString("Filter Key");const b=e.inString("Value Must Be");const h=e.outTrigger("Success");const f=e.outTrigger("Error");const v=e.outString("Error Message");const O=e.outBool("Document Not Found");const y=e.outArray("Documents");n.onTriggered=x;function x(){const e=firebase.firestore();let t=e.collection(r.get());if(a.get()){if(!i.get()||!o.get()||!s.get()){v.set("Missing Arguments: Collection name, Query Field, Query Operator or Query Value is missing!");f.trigger();y.set(null);O.set(false);return}let e=I();t=t.where(i.get(),o.get(),e)}if(g.get()){t=t.where(m.get(),"==",b.get())}t.get().then(e=>{if(!e.empty){let n=[];e.forEach(e=>{let t=e.data();t.id=e.id;n.push(t)});y.set(n);O.set(false);h.trigger()}else{y.set(null);O.set(true);f.trigger()}}).catch(e=>{v.set(e.message);f.trigger()})}function I(){let e=s.get();if(e==="String"){return u.get()}if(e==="Number"){return Number(l.get())}if(e==="Boolean"){return p.get()}if(e==="Array"){return c.get()}if(e==="Object"){return d.get()}}};Ops.User.rambodc.FBQueryAllDocuments1.prototype=new CABLES.Op;CABLES.OPS["91e23fdd-6b9b-4ec5-adf1-49560eb2d388"]={f:Ops.User.rambodc.FBQueryAllDocuments1,objName:"Ops.User.rambodc.FBQueryAllDocuments1"};Ops.Html.CSS.CSS_v2=function(){CABLES.Op.apply(this,arguments);const n=this;const e=n.attachments={};const r=n.inStringEditor("css code"),t=n.inBool("Active",true);r.setUiAttribs({editorSyntax:"css",ignoreBigPort:true});let a=null;const i="css_"+CABLES.uuid();r.onChange=s;s();t.onChange=()=>{if(!t.get())a.remove();else u()};function o(){let t=r.get();if(t){let e=null;if(n.storage&&n.storage.blueprint&&n.storage.blueprint.patchId){e=n.storage.blueprint.patchId}t=t.replace(new RegExp("{{ASSETPATH}}","g"),n.patch.getAssetPath(e))}return t}function s(){a=n.patch.getDocument().getElementById(i);if(a){a.textContent=o()}else{a=n.patch.getDocument().createElement("style");a.type="text/css";a.id=i;a.textContent=e.css_spinner;a.classList.add("cablesEle");u()}}function u(){const e=n.patch.getDocument().getElementsByTagName("body")[0];e.appendChild(a)}n.onDelete=function(){a=n.patch.getDocument().getElementById(i);if(a)a.remove()}};Ops.Html.CSS.CSS_v2.prototype=new CABLES.Op;CABLES.OPS["a56d3edd-06ad-44ed-9810-dbf714600c67"]={f:Ops.Html.CSS.CSS_v2,objName:"Ops.Html.CSS.CSS_v2"};Ops.User.rambodc.Base64_components=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Decode Base64");const r=e.inString("Base64 String");const a=e.outString("MIME Type");const i=e.outString("Base64 Data");const o=e.outString("File Type");const s=e.outString("File Format");const u=e.outString("Error");function l(e){try{const t=e.match(/^data:(.+);base64,/);if(!t){throw new Error("Invalid base64 format. Expected 'data:[mime-type];base64,[data]'.")}const n=t[1];const[r,a]=n.split("/");const i=e.replace(/^data:(.+);base64,/,"");return{mimeType:n,fileType:r,fileFormat:a,base64Data:i}}catch(e){u.set(e.message);return null}}n.onTriggered=()=>{const e=r.get();if(!e){u.set("No base64 string provided.");return}const t=l(e);if(t){a.set(t.mimeType);i.set(t.base64Data);o.set(t.fileType);s.set(t.fileFormat)}}};Ops.User.rambodc.Base64_components.prototype=new CABLES.Op;CABLES.OPS["6ae84d5c-af67-485f-a274-050e3beb27fd"]={f:Ops.User.rambodc.Base64_components,objName:"Ops.User.rambodc.Base64_components"};Ops.User.rambodc.Test5=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger GPT Request");const l=e.inString("API Key");const p=e.inString("Prompt");const c=e.inString("Image URL");const d=e.inString("Model","gpt-4o-mini");const g=e.inString("System Message","You are a helpful assistant.");const m=e.inValue("Max Tokens",512);const b=e.inValue("Temperature",.7);const h=e.inValue("Top P",1);const f=e.outString("GPT JSON Response");const v=e.outString("Error Message");const O=e.outBool("Is Listening",false);const y=e.outNumber("Tokens Used");let x=false;n.onTriggered=function(){const e=l.get();const t=p.get();const n=c.get();const r=d.get();const a=g.get();const i=m.get();const o=b.get();const s=h.get();if(!e||!t||!n){v.set("Missing API Key, Prompt, or Image URL.");return}x=true;O.set(true);const u=JSON.stringify({model:r,messages:[{role:"system",content:a},{role:"user",content:[{type:"text",text:`${t}. Respond only with a valid JSON object.`},{type:"image_url",image_url:{url:n}}]}],max_tokens:i,temperature:o,top_p:s});fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:u}).then(e=>{if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}`)}return e.json()}).then(e=>{const t=e.choices[0].message.content;const n=e.usage.total_tokens;y.set(n);try{const r=JSON.parse(t);f.set(JSON.stringify(r))}catch(e){const a=t.match(/\{(?:[^{}]|)*\}/);if(a){f.set(a[0])}else{v.set("Invalid JSON response.")}}x=false;O.set(false)}).catch(e=>{v.set(`Error: ${e.message}`);x=false;O.set(false)})};e.onDelete=function(){x=false;O.set(false)}};Ops.User.rambodc.Test5.prototype=new CABLES.Op;CABLES.OPS["08558a2e-2ae5-4335-b709-24b926df5566"]={f:Ops.User.rambodc.Test5,objName:"Ops.User.rambodc.Test5"};Ops.User.rambodc.Test6=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger GPT Request");const c=e.inString("API Key");const d=e.inString("Prompt");const g=e.inString("Model","gpt-4o");const m=e.inString("System Message","You are a helpful assistant.");const b=e.inValue("Max Tokens",1024);const h=e.inValue("Temperature",.7);const f=e.inValue("Top P",1);const v=e.inValue("Frequency Penalty",0);const O=e.inValue("Presence Penalty",0);const y=e.inArray("Stop Sequences",[]);const x=e.outString("GPT Response");const I=e.outString("Error Message");const S=e.outBool("Is Listening",false);const j=e.outNumber("Tokens Used");let _=false;n.onTriggered=function(){const e=c.get();const t=d.get();const n=g.get();const r=m.get();const a=b.get();const i=h.get();const o=f.get();const s=v.get();const u=O.get();const l=y.get();if(!e||!t){I.set("Missing API Key or Prompt.");return}_=true;S.set(true);const p=JSON.stringify({model:n,messages:[{role:"system",content:r},{role:"user",content:t}],max_tokens:a,temperature:i,top_p:o,frequency_penalty:s,presence_penalty:u,stop:l.length>0?l:null});fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:p}).then(e=>{if(!e.ok){throw new Error(`HTTP error! Status: ${e.status}`)}return e.json()}).then(e=>{const t=e.choices[0].message.content;const n=e.usage.total_tokens;x.set(t);j.set(n);_=false;S.set(false)}).catch(e=>{I.set(`Error: ${e.message}`);_=false;S.set(false)})};e.onDelete=function(){_=false;S.set(false)}};Ops.User.rambodc.Test6.prototype=new CABLES.Op;CABLES.OPS["4451ce1d-4b22-4c81-a111-d7fb07fd5ad3"]={f:Ops.User.rambodc.Test6,objName:"Ops.User.rambodc.Test6"};Ops.User.rambodc.List9=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Query",[]);const a=e.inArray("Following",[]);const i=e.inArray("Followers",[]);const o=e.inString("Self UID","");const s=e.inValue("First Page Number",10);const u=e.inTriggerButton("Trigger Second Page");const l=e.outObject("Children");const g=e.outTrigger("Button Pressed");const m=e.outValue("Button Index");const b=e.outObject("Selected Object");const p=e.outBool("Has Second Page");const h=e.outTrigger("Follow Button Pressed");const f=e.outString("Follow UID");const v=document.createElement("div");v.classList.add("cables-element-container");v.dataset.op=e.id;let O=[];let c=[];let y=[];let x=[];let I="";let S=10;function j(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function d(){O.forEach(e=>v.removeChild(e));O=[];c=r.get()||[];y=a.get()||[];x=i.get()||[];I=o.get()||"";S=s.get()||10;if(!Array.isArray(c)||!Array.isArray(y)||!Array.isArray(x)){console.error("Invalid input arrays");return}const e=c.filter(t=>{const e=y.some(e=>e.uid===t.uid&&e.isActive);const n=x.some(e=>e.uid===t.uid&&e.isActive);const r=t.uid===I;return!e&&!n&&!r});const t=e.length>S;p.set(t);const d=e.slice(0,S);d.forEach((t,n)=>{const e=document.createElement("div");e.style.position="relative";e.style.cursor="pointer";e.style.backgroundColor="rgba(255,255,255,0)";e.style.margin="1px";e.style.padding="0px";e.style.height="80px";e.style.display="flex";e.style.alignItems="center";e.addEventListener("mouseover",function(){this.style.backgroundColor="rgba(255,255,255,0.02)"});e.addEventListener("mouseout",function(){this.style.backgroundColor="rgba(255,255,255,0)"});e.addEventListener("click",e=>{e.stopPropagation();m.set(n);b.set(d[n]);g.trigger()});const r=document.createElement("img");r.src=t.profilePhoto200Url||"";r.style.margin="5px";r.style.padding="5px";r.style.width="60px";r.style.height="60px";r.style.borderRadius="50%";r.style.objectFit="cover";e.appendChild(r);const a=document.createElement("div");a.style.flexGrow="1";a.style.textAlign="left";a.style.color="rgba(255,255,255,1)";a.style.lineHeight="1.5";const i=document.createElement("div");i.style.fontSize="15px";i.style.fontWeight="bold";const o=`${t.firstName||""} ${t.lastName||""}`.trim();const s=document.createTextNode(j(o));i.appendChild(s);const u=document.createElement("div");u.style.fontSize="14px";u.style.fontWeight="normal";u.style.color="rgba(255,255,255,0.7)";const l=document.createTextNode(j(t.username||""));u.appendChild(l);a.appendChild(i);a.appendChild(u);e.appendChild(a);const p=document.createElement("div");p.style.width="30%";p.style.textAlign="right";p.style.marginRight="10px";p.style.padding="5px";const c=document.createElement("button");c.innerText="Follow";c.style.backgroundColor="rgba(0,102,255,0.6)";c.style.setProperty("color","white","important");c.style.fontSize="12px";c.style.borderRadius="5px";c.style.padding="10px";c.style.border="none";c.style.cursor="pointer";c.addEventListener("click",e=>{e.stopPropagation();f.set(t.uid);h.trigger()});c.addEventListener("mouseover",()=>{c.style.backgroundColor="rgba(0,102,255,0.8)"});c.addEventListener("mouseout",()=>{c.style.backgroundColor="rgba(0,102,255,0.6)"});p.appendChild(c);e.appendChild(p);v.appendChild(e);O.push(e)})}function _(){if(c.length>S){S+=10;s.set(S);d()}}function A(){l.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(v);l.set(e)}else{if(v.parentElement){v.parentElement.removeChild(v)}}}n.onChange=A;r.onChange=d;a.onChange=d;i.onChange=d;o.onChange=d;s.onChange=d;u.onChange=_;e.onDelete=function(){if(v.parentNode){v.parentNode.removeChild(v)}};A()};Ops.User.rambodc.List9.prototype=new CABLES.Op;CABLES.OPS["effa8920-1733-4736-9f65-440180134ce8"]={f:Ops.User.rambodc.List9,objName:"Ops.User.rambodc.List9"};Ops.User.rambodc.Button_Bar=function(){CABLES.Op.apply(this,arguments);const t=this;const e=t.attachments={};const n=t.inObject("link");const r=t.inBool("Visible",true);const a=t.inString("Icon URL 1");const i=t.inString("Icon URL 2");const o=t.inString("Icon URL 3");const s=t.inString("Icon URL 4");const u=t.inString("Icon URL 5");const l=t.outObject("childs");const p=[];for(let e=0;e<5;e++){p.push(t.outTrigger(`Pressed Trigger ${e}`))}const c="30px";const d=5;const g=["Feed","My Page","Assistant","History","Settings"];const m="active-button";const b=document.createElement("div");b.dataset.op=t.id;b.classList.add("cablesEle","sidebar__item");b.style.display="flex";b.style.flexDirection="row";b.style.alignItems="center";b.style.justifyContent="space-around";b.style.width="100%";function h(){const e=b.getElementsByClassName(m);while(e.length){e[0].classList.remove(m)}}for(let e=0;e<d;e++){const x=document.createElement("div");x.style.display="flex";x.style.flexDirection="column";x.style.alignItems="center";x.style.justifyContent="center";x.style.cursor="pointer";const I=document.createElement("div");I.style.width=c;I.style.height=c;I.style.backgroundImage=`url('')`;I.style.backgroundSize="cover";I.style.backgroundColor="transparent";const S=document.createElement("div");S.textContent=g[e];S.style.textAlign="center";S.style.marginTop="5px";S.style.fontSize="11px";x.addEventListener("click",()=>{h();S.classList.add(m);p[e].trigger()});x.appendChild(I);x.appendChild(S);b.appendChild(x)}const f=document.createElement("style");f.innerHTML=`
    .active-button {
        position: relative; /* Needed for positioning the pseudo-element */
    }
    .active-button::after {
        content: ''; /* Required for the pseudo-element to display */
        position: absolute; /* Positions the pseudo-element relative to its parent */
        bottom: -5px; /* Lower the underline away from the text */
        left: 0;
        width: 100%; /* Makes the pseudo-element as wide as its parent */
        height: 3px; /* The thickness of your underline */
        background-color: #007bff; /* The color of your underline */
        z-index: 1; /* Ensures the underline is rendered above the text */
    }
`;document.head.appendChild(f);a.onChange=v;i.onChange=v;o.onChange=v;s.onChange=v;u.onChange=v;function v(){const n=[a.get(),i.get(),o.get(),s.get(),u.get()];const r=b.children;for(let t=0;t<d;t++){const e=r[t].children[0];e.style.backgroundImage=`url('${n[t]}')`}}n.onChange=O;r.onChange=()=>b.style.display=r.get()?"flex":"none";function O(){l.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(b);l.set(e)}else{if(b.parentElement){b.parentElement.removeChild(b)}}}function y(){if(b&&b.parentElement){b.parentElement.removeChild(b)}}t.onDelete=y};Ops.User.rambodc.Button_Bar.prototype=new CABLES.Op;CABLES.OPS["745e9130-af2f-46f8-8cee-d8159323e241"]={f:Ops.User.rambodc.Button_Bar,objName:"Ops.User.rambodc.Button_Bar"};Ops.User.rambodc.List5=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Input Data Array",[]);const v=e.inString("Storage Path","");const a=e.inValue("First Page Number",10);const i=e.inTriggerButton("Trigger Second Page");const o=e.outObject("Children");const O=e.outTrigger("Button Pressed");const y=e.outValue("Button Index");const x=e.outObject("Selected Object");const s=e.outBool("Has Second Page");const I=document.createElement("div");I.dataset.op=e.id;let S=[];let u=[];let l=10;function j(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function _(e){const t=new Date;const n=new Date(e.seconds*1e3);const r=Math.floor((t-n)/1e3);let a=Math.floor(r/31536e3);if(a>1)return a+"y";a=Math.floor(r/2592e3);if(a>1)return a+"m";a=Math.floor(r/604800);if(a>1)return a+"w";a=Math.floor(r/86400);if(a>1)return a+"d";a=Math.floor(r/3600);if(a>1)return a+"h";a=Math.floor(r/60);if(a>1)return a+"min";return Math.floor(r)+"s"}function p(){S.forEach(e=>I.removeChild(e));S=[];u=r.get()||[];l=a.get()||10;const e=u.length>l;s.set(e);const f=u.slice(0,l);f.forEach((n,r)=>{try{const a=document.createElement("div");a.style.position="relative";a.style.cursor="pointer";a.style.backgroundColor=n.functionName==="follow"?"rgba(0, 255, 0, 0.1)":n.functionName==="feedCollect"?"rgba(0, 0, 255, 0.1)":"rgba(255, 255, 255, 0)";a.style.margin="1px";a.style.padding="0px";a.style.height="80px";a.style.display="flex";a.style.alignItems="center";a.addEventListener("mouseover",function(){this.style.backgroundColor=n.functionName==="follow"?"rgba(0, 255, 0, 0.2)":n.functionName==="feedCollect"?"rgba(0, 0, 255, 0.2)":"rgba(255, 255, 255, 0.1)"});a.addEventListener("mouseout",function(){this.style.backgroundColor=n.functionName==="follow"?"rgba(0, 255, 0, 0.1)":n.functionName==="feedCollect"?"rgba(0, 0, 255, 0.1)":"rgba(255, 255, 255, 0)"});a.addEventListener("click",e=>{e.stopPropagation();y.set(r);x.set(f[r]);O.trigger()});let e="";if(n.functionName==="feedCollect"&&v.get()&&n.uid&&n.parameters&&n.parameters.transactionObject&&n.parameters.transactionObject.postId){const m=n.parameters.transactionObject.postId;e=`${v.get()}posts%2F${m}%2Fthumbnail%2F${m}.png?alt=media`}else if(n.functionName==="follow"&&v.get()&&n.uid){const b=n.uid;e=`${v.get()}users%2F${b}%2FprofilePhoto%2F${b}_200x200.png?alt=media`}else{e="https://via.placeholder.com/60"}console.log("Generated Image URL:",e);const i=document.createElement("img");i.src=e;i.style.margin="5px";i.style.padding="5px";i.style.width="60px";i.style.height="60px";i.style.borderRadius="50%";i.style.objectFit="cover";a.appendChild(i);const o=document.createElement("div");o.style.flexGrow="1";o.style.textAlign="left";o.style.color="rgba(255,255,255,1)";o.style.lineHeight="1.5";const s=document.createElement("div");s.style.fontSize="15px";s.style.fontWeight="bold";const u=`${n.firstName||""} ${n.lastName||""}`.trim();const l=document.createTextNode(j(u));s.appendChild(l);const p=document.createElement("div");p.style.fontSize="14px";p.style.fontWeight="normal";p.style.color="rgba(255,255,255,0.7)";let t="";if(n.functionName==="feedCollect"&&n.parameters&&n.parameters.transactionObject&&n.parameters.transactionObject.sender){const h=n.parameters.transactionObject.sender;t=`${h.amount} ${h.currency} was split equally`}else if(n.functionName==="follow"){t="Is now following you"}else{t=n.functionName||""}const c=document.createTextNode(j(t));p.appendChild(c);o.appendChild(s);o.appendChild(p);a.appendChild(o);const d=document.createElement("div");d.style.width="30%";d.style.textAlign="right";d.style.marginRight="10px";d.style.padding="5px";const g=document.createTextNode(_(n.created||{seconds:0}));d.appendChild(g);a.appendChild(d);I.appendChild(a);S.push(a)}catch(e){console.error("Error rendering item:",e,n)}})}function c(){if(u.length>l){l+=10;a.set(l);p()}}function d(){o.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(I);o.set(e)}else{if(I.parentElement){I.parentElement.removeChild(I)}}}n.onChange=d;r.onChange=p;a.onChange=p;i.onChange=c;e.onDelete=function(){if(I.parentNode){I.parentNode.removeChild(I)}};d()};Ops.User.rambodc.List5.prototype=new CABLES.Op;CABLES.OPS["dcf9f4bd-810f-430d-aadc-605b91d29b7b"]={f:Ops.User.rambodc.List5,objName:"Ops.User.rambodc.List5"};Ops.User.rambodc.List8=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const a=e.inArray("Followers",[]);const i=e.inArray("Following",[]);const o=e.inValue("First Page Number",10);const r=e.inTriggerButton("Trigger Second Page");const s=e.outObject("Children");const b=e.outTrigger("Button Pressed");const h=e.outValue("Button Index");const f=e.outObject("Selected Object");const u=e.outBool("Has Second Page");const v=e.outTrigger("Follow Back Button Pressed");const O=e.outString("Follow Back UID");const y=document.createElement("div");y.classList.add("cables-element-container");y.dataset.op=e.id;let x=[];let l=[];let p=[];let c=10;function I(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function d(e){return parseFloat(e).toFixed(2)}function g(){x.forEach(e=>y.removeChild(e));x=[];l=a.get()||[];p=i.get()||[];c=o.get()||10;if(!Array.isArray(l)||!Array.isArray(p)){console.error("Invalid followers or following array");return}const r=[];p.forEach(t=>{const e=l.find(e=>e.uid===t.uid);let n=t.totalRaz;if(e){n+=e.totalRaz}n=d(n);if(e&&t.isActive&&e.isActive){r.push({...t,isMutual:true,totalRaz:n})}else if(t.isActive){r.push({...t,isMutual:false,totalRaz:n})}});l.forEach(t=>{const e=r.find(e=>e.uid===t.uid);if(!e){let e=t.totalRaz;const n=p.find(e=>e.uid===t.uid);if(n){e+=n.totalRaz}e=d(e);r.push({...t,totalRaz:e,showFollowBack:true})}});const e=r.length>c;u.set(e);const m=r.slice(0,c);m.forEach((t,n)=>{const e=document.createElement("div");e.style.position="relative";e.style.cursor="pointer";e.style.backgroundColor="rgba(255,255,255,0)";e.style.margin="1px";e.style.padding="0px";e.style.height="80px";e.style.display="flex";e.style.alignItems="center";e.addEventListener("mouseover",function(){this.style.backgroundColor="rgba(255,255,255,0.02)"});e.addEventListener("mouseout",function(){this.style.backgroundColor="rgba(255,255,255,0)"});e.addEventListener("click",e=>{e.stopPropagation();h.set(n);f.set(m[n]);b.trigger()});const r=document.createElement("img");r.src=t.profilePhoto200Url||"";r.style.margin="5px";r.style.padding="5px";r.style.width="60px";r.style.height="60px";r.style.borderRadius="50%";r.style.objectFit="cover";e.appendChild(r);const a=document.createElement("div");a.style.flexGrow="1";a.style.textAlign="left";a.style.color="rgba(255,255,255,1)";a.style.lineHeight="1.5";const i=document.createElement("div");i.style.fontSize="15px";i.style.fontWeight="bold";const o=`${t.firstName||""} ${t.lastName||""}`.trim();const s=document.createTextNode(I(o));i.appendChild(s);const u=document.createElement("div");u.style.fontSize="14px";u.style.fontWeight="normal";u.style.color="rgba(255,255,255,0.7)";const l=document.createTextNode(I(t.username||""));u.appendChild(l);if(t.showFollowBack){const c=document.createTextNode(`, ${t.totalRaz} RAZ`);u.appendChild(c)}a.appendChild(i);a.appendChild(u);e.appendChild(a);const p=document.createElement("div");p.style.width="30%";p.style.textAlign="right";p.style.marginRight="10px";p.style.padding="5px";if(t.isMutual){const d=document.createTextNode(`${t.totalRaz} RAZ`);p.appendChild(d)}else if(t.showFollowBack){const g=document.createElement("button");g.innerText="Follow Back";g.style.backgroundColor="rgba(0,102,255,0.6)";g.style.setProperty("color","white","important");g.style.fontSize="12px";g.style.borderRadius="5px";g.style.padding="10px";g.style.border="none";g.style.cursor="pointer";g.addEventListener("click",e=>{e.stopPropagation();O.set(t.uid);v.trigger()});g.addEventListener("mouseover",()=>{g.style.backgroundColor="rgba(0,102,255,0.8)"});g.addEventListener("mouseout",()=>{g.style.backgroundColor="rgba(0,102,255,0.6)"});p.appendChild(g)}else{const d=document.createTextNode(`${t.totalRaz} RAZ`);p.appendChild(d)}e.appendChild(p);y.appendChild(e);x.push(e)})}function m(){if(l.length+p.length>c){c+=10;o.set(c);g()}}function S(){s.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(y);s.set(e)}else{if(y.parentElement){y.parentElement.removeChild(y)}}}n.onChange=S;a.onChange=g;i.onChange=g;o.onChange=g;r.onChange=m;e.onDelete=function(){if(y.parentNode){y.parentNode.removeChild(y)}};S()};Ops.User.rambodc.List8.prototype=new CABLES.Op;CABLES.OPS["2a5b800b-745d-44ef-a94c-24fcfcbeecba"]={f:Ops.User.rambodc.List8,objName:"Ops.User.rambodc.List8"};Ops.User.rambodc.button_Icon=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("link");const r=e.inString("Icon","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2FAccountsNodes.png?alt=media&token=36471c6c-5487-491f-ac31-76eddf2abd5d");const a=e.inString("Text","Button");const i=e.inString("Text Right","Button");const o=e.inString("Icon Right","https://firebasestorage.googleapis.com/v0/b/cables-5b10a.appspot.com/o/assets%2Fright-arrow%20(1).png?alt=media&token=d86bbe34-2ced-42f6-b4e4-7f5d752ff5f1");const s=e.inValue("Corners",0);const u=e.outObject("childs");const l=e.outTrigger("Pressed Trigger");const p=e.inBool("Visible",true);const c=document.createElement("div");c.dataset.op=e.id;c.style.height="44px";c.style.display="flex";c.style.justifyContent="space-between";c.style.alignItems="center";c.style.backgroundColor="transparent";c.style.cursor="pointer";c.style.padding="5px 5px";c.style.transition="background-color 0.3s, border-color 0.3s";c.style.fontSize="16px";c.style.color="white";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)";const d=document.createElement("div");d.style.display="flex";d.style.alignItems="center";c.appendChild(d);const g=document.createElement("img");g.src=r.get();g.style.width="30px";g.style.height="30px";g.style.padding="10px";g.style.borderRadius=`${s.get()}px`;d.appendChild(g);const m=document.createElement("div");m.style.textAlign="left";m.style.fontSize="15px";m.style.lineHeight="1";m.style.fontWeight="normal";d.appendChild(m);const b=document.createTextNode(a.get());m.appendChild(b);const h=document.createElement("div");h.style.display="flex";h.style.alignItems="center";c.appendChild(h);const f=document.createElement("div");f.innerText=i.get();f.style.fontWeight="normal";f.style.fontSize="14px";f.style.lineHeight="1";h.appendChild(f);const v=document.createElement("img");v.src=o.get();v.style.width="15px";v.style.height="15px";v.style.padding="10px 10px";h.appendChild(v);e.toWorkNeedsParent("Ops.Sidebar.Sidebar");c.addEventListener("click",O);c.addEventListener("mouseenter",y);c.addEventListener("mouseleave",x);n.onChange=S;a.onChange=I;r.onChange=j;i.onChange=_;o.onChange=A;s.onChange=T;e.onDelete=w;p.onChange=C;function O(){l.trigger();c.style.borderColor="rgba(255, 255, 255, 0.3)"}function y(){c.style.backgroundColor="rgba(255, 255, 255, 0.15)";c.style.color="rgba(255, 255, 255, 0.9)";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)"}function x(){c.style.backgroundColor="transparent";c.style.color="rgba(255, 255, 255, 0.9)";c.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";c.style.borderBottom="1px solid rgba(255, 255, 255, 0.1)"}function I(){m.textContent=a.get();if(CABLES.UI){e.setTitle("Button: "+a.get())}}function S(){u.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(c);u.set(e)}else{if(c.parentElement){c.parentElement.removeChild(c)}}}function j(){g.src=r.get()}function _(){f.innerText=i.get()}function A(){v.src=o.get()}function T(){g.style.borderRadius=`${s.get()}px`}function C(){c.style.display=p.get()?"flex":"none"}function w(){k(c)}function k(e){if(e&&e.parentNode&&e.parentNode.removeChild){e.parentNode.removeChild(e)}}};Ops.User.rambodc.button_Icon.prototype=new CABLES.Op;CABLES.OPS["e2e2f70c-0496-455c-8868-675cf1fe9f51"]={f:Ops.User.rambodc.button_Icon,objName:"Ops.User.rambodc.button_Icon"};Ops.User.rambodc.URL_Check1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.inString("Path","hello");const a=e.inString("Path Equals","hello");const i=e.inBool("isAuth",false);const o=e.inString("Host","sandbox.cables.gl");const s=e.outTrigger("Trigger Result");n.onTriggered=function(){u()};function u(){if(r.get()===a.get()&&!i.get()&&!o.get().endsWith(".html")){s.trigger()}}};Ops.User.rambodc.URL_Check1.prototype=new CABLES.Op;CABLES.OPS["672bd809-86af-4361-86fe-61993c6daec0"]={f:Ops.User.rambodc.URL_Check1,objName:"Ops.User.rambodc.URL_Check1"};Ops.User.rambodc.UTC_DateNow=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const r=e.outNumber("Timestamp");n.onTriggered=a;function a(){const e=Date.now();r.set(e)}};Ops.User.rambodc.UTC_DateNow.prototype=new CABLES.Op;CABLES.OPS["18971461-76c1-4590-8191-70821d9c5360"]={f:Ops.User.rambodc.UTC_DateNow,objName:"Ops.User.rambodc.UTC_DateNow"};Ops.User.rambodc.LastResetTime1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger");const i=e.inValue("lastResetTime (UTC Milliseconds)");const o=e.inString("UTC Offset","0000");const s=e.outTrigger("Changed Trigger");const u=e.outTrigger("No Changed Trigger");const l=e.outValue("New lastResetTime (UTC Milliseconds)",0);function p(e){const t=/^([+-])(\d{2})(\d{2})$/.exec(e);if(t){const n=t[1]==="-"?-1:1;const r=parseInt(t[2],10);const a=parseInt(t[3],10);return n*((r*60+a)*60*1e3)}return 0}function c(e,t){const n=new Date(e+t);n.setUTCHours(23,59,59,999);return n.getTime()-t}function r(){const e=i.get();const t=o.get();const n=p(t);const r=Date.now();if(typeof e!=="number"||isNaN(e)){console.error("Invalid lastResetTime input");u.trigger();l.set(0);return}if(r>e){const a=c(r,n);l.set(a);s.trigger()}else{l.set(0);u.trigger()}}n.onTriggered=r};Ops.User.rambodc.LastResetTime1.prototype=new CABLES.Op;CABLES.OPS["355f4f41-4ad2-4faf-b14a-c39388b780ae"]={f:Ops.User.rambodc.LastResetTime1,objName:"Ops.User.rambodc.LastResetTime1"};Ops.Math.Compare.BetweenEquals=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inValueFloat("Value",2),r=e.inValueFloat("Range 1",1),a=e.inValueFloat("Range 2",3),i=e.outNumber("Result");n.onChange=r.onChange=a.onChange=o;o();function o(){i.set(n.get()>=Math.min(r.get(),a.get())&&n.get()<=Math.max(r.get(),a.get()))}};Ops.Math.Compare.BetweenEquals.prototype=new CABLES.Op;CABLES.OPS["e2d6d6c4-84c7-42d7-a1b2-e9c5d4c5c13e"]={f:Ops.Math.Compare.BetweenEquals,objName:"Ops.Math.Compare.BetweenEquals"};Ops.User.rambodc.ListHistoryTxn1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Input Data Array",[]);const b=e.inString("Storage Path","");const a=e.outObject("Children");const h=e.outTrigger("Button Pressed");const f=e.outValue("Button Index");const v=e.outObject("Selected Object");const i=e.outBool("Has Second Page");const O=document.createElement("div");O.dataset.op=e.id;let y=[];let o=[];function x(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function I(e){const t=new Date;const n=new Date(e.seconds*1e3);const r=Math.floor((t-n)/1e3);let a=Math.floor(r/31536e3);if(a>1)return a+"y";a=Math.floor(r/2592e3);if(a>1)return a+"m";a=Math.floor(r/604800);if(a>1)return a+"w";a=Math.floor(r/86400);if(a>1)return a+"d";a=Math.floor(r/3600);if(a>1)return a+"h";a=Math.floor(r/60);if(a>1)return a+"min";return Math.floor(r)+"s"}function s(){y.forEach(e=>O.removeChild(e));y=[];o=r.get()||[];const e=o.length>10;i.set(e);const m=o.slice(0,10);m.forEach((n,r)=>{try{const a=document.createElement("div");a.style.position="relative";a.style.cursor="pointer";a.style.backgroundColor=n.txnType==="feedCollect"?"rgba(0, 0, 255, 0.1)":"rgba(128, 0, 128, 0.1)";a.style.margin="1px";a.style.padding="0px";a.style.height="80px";a.style.display="flex";a.style.alignItems="center";a.addEventListener("mouseover",function(){this.style.backgroundColor=n.txnType==="feedCollect"?"rgba(0, 0, 255, 0.2)":"rgba(128, 0, 128, 0.2)"});a.addEventListener("mouseout",function(){this.style.backgroundColor=n.txnType==="feedCollect"?"rgba(0, 0, 255, 0.1)":"rgba(128, 0, 128, 0.1)"});a.addEventListener("click",e=>{e.stopPropagation();f.set(r);v.set(m[r]);h.trigger()});let e=`${b.get()}posts%2F${n.postId}%2Fthumbnail%2F${n.postId}.png?alt=media`;console.log("Generated Image URL:",e);const i=document.createElement("img");i.src=e;i.style.margin="5px";i.style.padding="5px";i.style.width="60px";i.style.height="60px";i.style.borderRadius="50%";i.style.objectFit="cover";a.appendChild(i);const o=document.createElement("div");o.style.flexGrow="1";o.style.textAlign="left";o.style.color="rgba(255,255,255,1)";o.style.lineHeight="1.5";const s=document.createElement("div");s.style.fontSize="15px";s.style.fontWeight="bold";const u=`${n.firstName||""} ${n.lastName||""}`.trim();const l=document.createTextNode(x(u));s.appendChild(l);const p=document.createElement("div");p.style.fontSize="14px";p.style.fontWeight="normal";p.style.color="rgba(255,255,255,0.7)";let t="";if(n.txnType==="feedCollect"){t=`${n.sender.amount} ${n.sender.currency} Split`}else if(n.txnType==="postCreate"){t=`${n.sender.amount} ${n.sender.currency} New Post`}const c=document.createTextNode(x(t));p.appendChild(c);o.appendChild(s);o.appendChild(p);a.appendChild(o);const d=document.createElement("div");d.style.width="30%";d.style.textAlign="right";d.style.marginRight="10px";d.style.padding="5px";const g=document.createTextNode(I(n.createdAt||{seconds:0}));d.appendChild(g);a.appendChild(d);O.appendChild(a);y.push(a)}catch(e){console.error("Error rendering item:",e,n)}})}function u(){a.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(O);a.set(e)}else{if(O.parentElement){O.parentElement.removeChild(O)}}}n.onChange=u;r.onChange=s;e.onDelete=function(){if(O.parentNode){O.parentNode.removeChild(O)}};u()};Ops.User.rambodc.ListHistoryTxn1.prototype=new CABLES.Op;CABLES.OPS["e53343e9-e77f-42f2-9195-e4dfdabb68fc"]={f:Ops.User.rambodc.ListHistoryTxn1,objName:"Ops.User.rambodc.ListHistoryTxn1"};Ops.User.rambodc.ListHistoryFollow=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link");const r=e.inArray("Input Data Array",[]);const d=e.inString("Storage Path","");const a=e.outObject("Children");const g=e.outTrigger("Button Pressed");const m=e.outValue("Button Index");const b=e.outObject("Selected Object");const i=e.outBool("Has Second Page");const h=document.createElement("div");h.dataset.op=e.id;let f=[];let o=[];function s(e){if(typeof e!=="string"){return""}return e.length>40?e.substring(0,38)+"..":e}function v(e){const t=new Date;const n=new Date(e.seconds*1e3);const r=Math.floor((t-n)/1e3);let a=Math.floor(r/31536e3);if(a>1)return a+"y";a=Math.floor(r/2592e3);if(a>1)return a+"m";a=Math.floor(r/604800);if(a>1)return a+"w";a=Math.floor(r/86400);if(a>1)return a+"d";a=Math.floor(r/3600);if(a>1)return a+"h";a=Math.floor(r/60);if(a>1)return a+"min";return Math.floor(r)+"s"}function u(){f.forEach(e=>h.removeChild(e));f=[];o=r.get()||[];const e=o.length>10;i.set(e);const c=o.slice(0,10);c.forEach((t,n)=>{try{const r=document.createElement("div");r.style.position="relative";r.style.cursor="pointer";r.style.backgroundColor="rgba(128, 0, 128, 0.1)";r.style.margin="1px";r.style.padding="0px";r.style.height="80px";r.style.display="flex";r.style.alignItems="center";r.addEventListener("mouseover",function(){this.style.backgroundColor="rgba(128, 0, 128, 0.2)"});r.addEventListener("mouseout",function(){this.style.backgroundColor="rgba(128, 0, 128, 0.1)"});r.addEventListener("click",e=>{e.stopPropagation();m.set(n);b.set(c[n]);g.trigger()});let e=`${d.get()}users%2F${t.uid}%2FprofilePhoto%2F${t.uid}_200x200.png?alt=media`;console.log("Generated Image URL:",e);const a=document.createElement("img");a.src=e;a.style.margin="5px";a.style.padding="5px";a.style.width="60px";a.style.height="60px";a.style.borderRadius="50%";a.style.objectFit="cover";r.appendChild(a);const i=document.createElement("div");i.style.flexGrow="1";i.style.textAlign="left";i.style.color="rgba(255,255,255,1)";i.style.lineHeight="1.5";const o=document.createElement("div");o.style.fontSize="15px";o.style.fontWeight="bold";const s=`${t.firstName||""} ${t.lastName||""}`.trim();const u=document.createTextNode(`${s} is now following you`);o.appendChild(u);i.appendChild(o);r.appendChild(i);const l=document.createElement("div");l.style.width="30%";l.style.textAlign="right";l.style.marginRight="10px";l.style.padding="5px";const p=document.createTextNode(v(t.created||{seconds:0}));l.appendChild(p);r.appendChild(l);h.appendChild(r);f.push(r)}catch(e){console.error("Error rendering item:",e,t)}})}function l(){a.set(null);const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(h);a.set(e)}else{if(h.parentElement){h.parentElement.removeChild(h)}}}n.onChange=l;r.onChange=u;e.onDelete=function(){if(h.parentNode){h.parentNode.removeChild(h)}};l()};Ops.User.rambodc.ListHistoryFollow.prototype=new CABLES.Op;CABLES.OPS["5bd641c1-4130-49a4-8a46-4d1ce3d80013"]={f:Ops.User.rambodc.ListHistoryFollow,objName:"Ops.User.rambodc.ListHistoryFollow"};Ops.User.rambodc.History1=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Query");const a=e.inString("Signed In UID","");const i=e.inString("Collection name","functionCalls");const o=e.inValue("Page Limit",10);const r=e.inTriggerButton("Fetch Next Page");const s=e.outArray("Documents");const u=e.outBool("No Documents Found");const l=e.outString("Error Message");let p=null;n.onTriggered=function(){const e=a.get();if(!e){l.set("Signed In UID is required.");return}const t=firebase.firestore();const n=i.get();const r=o.get();if(!n){l.set("Collection name is required.");return}t.collection(n).where("functionName","==","follow").where("parameters.followingUid","==",e).orderBy("created","desc").limit(r).get().then(e=>{let n=[];if(!e.empty){e.forEach(e=>{const t=e.data();t.id=e.id;n.push(t)});p=e.docs[e.docs.length-1];s.set(n);u.set(false)}else{u.set(true);s.set([])}}).catch(e=>{l.set("Error querying Firestore: "+e.message)})};r.onTriggered=function(){if(!p){u.set(true);s.set([]);return;return}const e=firebase.firestore();const t=i.get();const n=o.get();if(!t){l.set("Collection name is required.");return}e.collection(t).where("functionName","==","follow").where("parameters.followingUid","==",a.get()).orderBy("created.seconds","desc").startAfter(p).limit(n).get().then(e=>{let n=[];if(!e.empty){e.forEach(e=>{const t=e.data();t.id=e.id;n.push(t)});p=e.docs[e.docs.length-1];const t=s.get()||[];s.set(t.concat(n));u.set(false)}else{u.set(true)}}).catch(e=>{l.set("Error fetching documents: "+e.message)})}};Ops.User.rambodc.History1.prototype=new CABLES.Op;CABLES.OPS["6c8bf448-7dd2-4f3f-8cbc-e9510e057d6a"]={f:Ops.User.rambodc.History1,objName:"Ops.User.rambodc.History1"};Ops.User.rambodc.History2=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Query");const r=e.inString("Signed In UID","");const i=e.inString("Collection name","transactions");const o=e.inValue("Page Limit",10);const a=e.inTriggerButton("Fetch Next Page");const s=e.outArray("Documents");const u=e.outBool("No Documents Found");const l=e.outString("Error Message");let p=null;n.onTriggered=function(){const a=r.get();if(!a){l.set("Signed In UID is required.");return}const e=firebase.firestore();const t=i.get();const n=o.get();if(!t){l.set("Collection name is required.");return}e.collection(t).orderBy("createdAt","desc").limit(n).get().then(e=>{let r=[];if(!e.empty){e.forEach(e=>{const t=e.data();t.id=e.id;if(t.txnType==="feedCollect"){const n=t.receivers.filter(e=>e.uid===a&&e.type==="postCreator");if(n.length>0){r.push(t)}}else if(t.txnType==="postCreate"&&t.uid===a){r.push(t)}});p=e.docs[e.docs.length-1];s.set(r);u.set(false)}else{u.set(true);s.set([])}}).catch(e=>{l.set("Error querying Firestore: "+e.message)})};a.onTriggered=function(){const a=r.get();if(!a){l.set("Signed In UID is required for pagination.");return}if(!p){l.set("No more pages to fetch.");return}const e=firebase.firestore();const t=i.get();const n=o.get();e.collection(t).orderBy("createdAt","desc").startAfter(p).limit(n).get().then(e=>{let r=[];if(!e.empty){e.forEach(e=>{const t=e.data();t.id=e.id;if(t.txnType==="feedCollect"){const n=t.receivers.filter(e=>e.uid===a&&e.type==="postCreator");if(n.length>0){r.push(t)}}else if(t.txnType==="postCreate"&&t.uid===a){r.push(t)}});p=e.docs[e.docs.length-1];const t=s.get()||[];s.set(t.concat(r));u.set(false)}else{u.set(true)}}).catch(e=>{l.set("Error fetching documents: "+e.message)})}};Ops.User.rambodc.History2.prototype=new CABLES.Op;CABLES.OPS["dd39b64a-a669-456d-b511-f3cf04665ccc"]={f:Ops.User.rambodc.History2,objName:"Ops.User.rambodc.History2"};Ops.User.rambodc.Sidebar_video=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inObject("Link"),r=e.inString("Media URL",""),a=e.inSwitch("Position",["Left","Center","Right"],"Center"),i=e.inValue("Corner",10),o=e.inBool("Visible",true),s=e.inBool("Autoplay",true),u=e.inBool("Loop",true),l=e.inBool("Mute",true);const p=e.outObject("Children");let c,d;function g(){if(c&&c.parentNode){c.parentNode.removeChild(c)}c=document.createElement("div");c.classList.add("media-container");c.style.display="flex";c.style.justifyContent="center";c.style.alignItems="center";c.style.width="100%";c.style.overflow="hidden";c.style.margin="0px 0px 0px 0px";d=document.createElement("div");d.style.width="100%";d.style.display="flex";d.style.padding="0px";d.style.justifyContent=a.get().toLowerCase();d.style.borderRadius=i.get()+"px";const e=document.createElement("video");e.src=r.get();e.alt="Sidebar Media";e.style.width="100%";e.style.objectFit="contain";e.style.borderRadius=i.get()+"px";e.controls=true;e.autoplay=s.get();e.loop=u.get();e.muted=l.get();d.appendChild(e);c.appendChild(d);const t=n.get();if(t&&t.parentElement){t.parentElement.appendChild(c);p.set(t)}}function m(){g();b()}r.onChange=m;a.onChange=m;i.onChange=m;o.onChange=b;s.onChange=m;u.onChange=m;l.onChange=m;function b(){c.style.display=o.get()?"block":"none"}n.onChange=()=>{const e=n.get();if(e&&e.parentElement){e.parentElement.appendChild(c);p.set(e)}else if(c&&c.parentNode){c.parentNode.removeChild(c)}};e.onDelete=()=>{if(c&&c.parentNode){c.parentNode.removeChild(c)}};m()};Ops.User.rambodc.Sidebar_video.prototype=new CABLES.Op;CABLES.OPS["b749fa9f-42c6-4844-b294-1eed12a479b9"]={f:Ops.User.rambodc.Sidebar_video,objName:"Ops.User.rambodc.Sidebar_video"};Ops.User.rambodc.Test7=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger RunAI3 Request");const a=e.inString("Prompt");const i=e.inString("Type");const o=e.inString("Firebase Auth Token");const s=e.outObject("RunAI3 Response");const u=e.outString("Error Message");const l=e.outBool("Is Listening",false);const p=e.outTrigger("Success");const c=e.outTrigger("Failure");let d=false;n.onTriggered=function(){const e=a.get();const t=i.get();const n=o.get();s.set(null);u.set("");l.set(false);if(!e||!t||!n){u.set("Missing Prompt, Type, or Firebase Auth Token.");c.trigger();return}d=true;l.set(true);const r=JSON.stringify({prompt:e,type:t});fetch("https://us-central1-razz5-14781.cloudfunctions.net/runAI3",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:r}).then(e=>{if(!e.ok){if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(e=>{s.set(e);p.trigger();d=false;l.set(false)}).catch(e=>{console.error("Error during fetch:",e);u.set(`Error: ${e.message}`);c.trigger();d=false;l.set(false)})};e.onDelete=function(){d=false;l.set(false)}};Ops.User.rambodc.Test7.prototype=new CABLES.Op;CABLES.OPS["fc519861-e30e-4ea2-a86d-53d79698f473"]={f:Ops.User.rambodc.Test7,objName:"Ops.User.rambodc.Test7"};Ops.User.rambodc.BigQueryInit=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inString("Google API CDN URL","https://apis.google.com/js/api.js");const p=e.inString("OAuth Client ID");const c=e.inString("Project ID");const d=e.inString("SQL Query");const n=e.inTriggerButton("Trigger Query");const a=e.outValueBool("Initialized",false);const g=e.outObject("Query Result");const m=e.outString("Error Message");const b=e.outTrigger("Query Success");const h=e.outTrigger("Query Failure");const f=e.outBool("In Progress",false);let i=false;let v=null;function o(){return new Promise((e,t)=>{if(i){console.log("Google API client already loaded.");e();return}console.log("Loading Google API client...");const n=document.createElement("script");n.src=r.get();n.onload=()=>{i=true;console.log("Google API client loaded successfully.");e()};n.onerror=()=>{const e=`Failed to load ${n.src}`;console.error(e);t(new Error(e))};document.head.appendChild(n)})}function O(){return o().then(()=>{return new Promise((t,n)=>{console.log("Initializing BigQuery client...");if(typeof google==="undefined"){const e="google is not defined. Make sure the Google API script is loaded properly.";console.error(e);n(new Error(e));return}google.accounts.id.initialize({client_id:p.get(),callback:e=>{console.log("User authenticated successfully.",e);v=e;a.set(true);t()},error_callback:e=>{console.error("Authentication failed: ",e);a.set(false);n(e)}})})})}async function y(){try{if(v){console.log("User authenticated successfully.")}else{throw new Error("Auth instance not initialized.")}}catch(e){console.error("Authentication failed: ",e);throw e}}async function s(){const e=c.get();const t=d.get();if(!p.get()||!e||!t){const n=[];if(!p.get())n.push("OAuth Client ID");if(!e)n.push("Project ID");if(!t)n.push("SQL Query");const r=`Missing required inputs: ${n.join(", ")}`;console.error(r);m.set(r);h.trigger();return}f.set(true);console.log("Running BigQuery with query: ",t);try{await O();await y();const a=v.credential;const i=new Headers;i.append("Authorization",`Bearer ${a}`);const o={projectId:e,query:t};console.log("Sending query request to BigQuery...");const s=await fetch(`https://bigquery.googleapis.com/bigquery/v2/projects/${e}/queries`,{method:"POST",headers:i,body:JSON.stringify(o)});const u=await s.json();console.log("Query response received: ",u);if(u.rows){g.set(u.rows);b.trigger();console.log("Query succeeded with result: ",u.rows)}else{const l="Query executed successfully, but no data was returned.";console.warn(l);m.set(l);h.trigger()}}catch(e){console.error("BigQuery Error: ",e);const r=e.message||JSON.stringify(e);m.set(r);h.trigger()}finally{f.set(false);console.log("BigQuery query execution completed.")}}n.onTriggered=s};Ops.User.rambodc.BigQueryInit.prototype=new CABLES.Op;CABLES.OPS["8da64908-5704-4e18-a19a-f1f0501a0b77"]={f:Ops.User.rambodc.BigQueryInit,objName:"Ops.User.rambodc.BigQueryInit"};Ops.Data.JsonPath.ArrayGetObjectByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const o=i.inArray("Array");const s=i.inString("Path");const u=i.outObject("Output");const l=i.outBool("Found");o.onChange=t;s.onChange=t;s.setUiAttribs({stringTrim:true});function t(){const t=o.get();const n=s.get();i.setUiError("missing",null);if(t&&n){if(!Array.isArray(t)&&!(typeof t==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof t+" is not travesable by path")}else{i.setUiError("notiterable",null);const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});let e=p(n,t);if(e===undefined){const a="could not find element at path "+n;l.set(false);e=null;i.setUiError("missing",a,2)}else if(Array.isArray(e)||e===null||typeof e!=="object"){const a="element at path "+n+" is not an object";l.set(false);e=null;i.setUiError("missing",a,2)}else{l.set(true)}u.setRef(e)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ArrayGetObjectByPath.prototype=new CABLES.Op;CABLES.OPS["c73970f0-f8fb-4d12-af19-649d17b0195f"]={f:Ops.Data.JsonPath.ArrayGetObjectByPath,objName:"Ops.Data.JsonPath.ArrayGetObjectByPath"};Ops.Data.JsonPath.ArrayGetStringByPath=function(){CABLES.Op.apply(this,arguments);const i=this;const e=i.attachments={};const t=i.inArray("Array");const o=i.inString("Path");const s=i.inBool("Return path if missing",false);const u=i.outString("Output");const l=i.outBool("Found");t.onChange=n;o.onChange=n;s.onChange=n;function n(){const e=t.get();const n=o.get();i.setUiError("missing",null);if(e&&n){if(!Array.isArray(e)&&!(typeof e==="object")){l.set(false);i.setUiError("notiterable","input object of type "+typeof e+" is not travesable by path")}else{i.setUiError("notiterable",null);const r=n.split(".");i.setUiAttrib({extendTitle:r[r.length-1]+""});let t=p(n,e);if(t===undefined){const a="could not find element at path "+n;let e=2;t=null;l.set(false);if(s.get()){t=n;e=1}else{t=null}i.setUiError("missing",a,e)}else{l.set(true);t=String(t)}u.set(t)}}else{l.set(false)}}function p(e,t=self,n="."){const r=Array.isArray(e)?e:e.split(n);return r.reduce((e,t)=>{return e&&e[t]},t)}};Ops.Data.JsonPath.ArrayGetStringByPath.prototype=new CABLES.Op;CABLES.OPS["064fc275-f61d-4c5f-9692-28c2062248bf"]={f:Ops.Data.JsonPath.ArrayGetStringByPath,objName:"Ops.Data.JsonPath.ArrayGetStringByPath"};Ops.Ui.VizArrayTable_v2=function(){CABLES.Op.apply(this,arguments);const m=this;const e=m.attachments={};const b=m.inArray("Array"),h=m.inInt("Stride",0),f=m.inFloatSlider("Scroll",0);m.setUiAttrib({height:200,width:400,resizable:true,vizLayerMaxZoom:2500});function v(t){let n="";if(typeof t=="string"){n='"'+t+'"'}else if(CABLES.UTILS.isNumeric(t))n=String(Math.round(t*1e4)/1e4);else if(Array.isArray(t)){let e="...";if(t.length==0)e="";n="["+e+"] ("+t.length+")"}else if(typeof t=="object"){try{n=JSON.stringify(t,true,1)}catch(e){n="{???}"}}else if(t!=t||t===undefined){n+=String(t)}else{n+=String(t)}return n}m.renderVizLayer=(r,a)=>{r.fillStyle="#222";r.fillRect(a.x,a.y,a.width,a.height);r.save();r.scale(a.scale,a.scale);r.font="normal 10px sourceCodePro";r.fillStyle="#ccc";const i=b.get()||[];let o=h.get()||1;if(b.get()===null)m.setUiAttrib({extendTitle:"null"});else if(b.get()===undefined)m.setUiAttrib({extendTitle:"undefined"});else m.setUiAttrib({extendTitle:"length: "+i.length});if(b.links.length>0&&b.links[0].getOtherPort(b))o=b.links[0].getOtherPort(b).uiAttribs.stride||h.get()||1;if(i.length%o!=0)m.setUiError("stride","stride does not fit length of array. some values may not be shown",1);else m.setUiError("stride",null);let s=Math.floor(a.height/a.scale/10-1);let u=4;let l=Math.floor(f.get()*i.length/o);l=Math.max(0,l);if(s*o>i.length)l=0;else l=Math.min(i.length-s*o,l*o);let n=[];for(let e=0;e<o;e++)n[e]=0;for(let t=l;t<l+s*o;t+=o){for(let e=0;e<o;e++){const c=i[t+e];n[e]=Math.max(n[e],v(c).length)}}let p=[];let t=30;for(let e=0;e<o;e++){p[e]=t;t+=(n[e]+1)*7}for(let n=l;n<l+s*o;n+=o){if(n<0)continue;if(n+o>i.length)continue;r.fillStyle="#666";const d=n/o;if(d>=0)r.fillText(d,a.x/a.scale+u,a.y/a.scale+10+(n-l)/o*10+u);for(let e=0;e<o;e++){const c=i[n+e];let t=v(c);r.fillStyle="#ccc";if(typeof c=="string"){t=c}else if(CABLES.UTILS.isNumeric(c))t=String(Math.round(c*1e4)/1e4);else if(Array.isArray(c)){t=JSON.stringify(c)}else if(typeof c=="object"){try{t=JSON.stringify(c)}catch(e){t="{object}"}}else if(c!=c||c===undefined){r.fillStyle="#f00";t="?"}r.fillText(t,a.x/a.scale+p[e],a.y/a.scale+10+(n-l)/o*10+u)}}if(b.get()===null)r.fillText("null",a.x/a.scale+10,a.y/a.scale+10+u);else if(b.get()===undefined)r.fillText("undefined",a.x/a.scale+10,a.y/a.scale+10+u);const e=30;if(a.scale<=0)return;if(l>0){const g=r.createLinearGradient(0,a.y/a.scale+5,0,a.y/a.scale+e);g.addColorStop(0,"#222");g.addColorStop(1,"rgba(34,34,34,0.0)");r.fillStyle=g;r.fillRect(a.x/a.scale,a.y/a.scale,2e5,e)}if(l+s*o<i.length){const g=r.createLinearGradient(0,a.y/a.scale+a.height/a.scale-e+5,0,a.y/a.scale+a.height/a.scale-e+e);g.addColorStop(1,"#222");g.addColorStop(0,"rgba(34,34,34,0.0)");r.fillStyle=g;r.fillRect(a.x/a.scale,a.y/a.scale+a.height/a.scale-e,2e5,e)}if(s*o/i.length<1){let e=a.height-20;let t=l/i.length;t*=e;r.fillStyle="#000";r.fillRect((a.x+a.width-15)/a.scale,(a.y+10)/a.scale,5/a.scale,e/a.scale);e*=s*o/i.length;r.fillStyle="#555";r.fillRect((a.x+a.width-15)/a.scale,(a.y+10+t)/a.scale,5/a.scale,e/a.scale)}r.restore()}};Ops.Ui.VizArrayTable_v2.prototype=new CABLES.Op;CABLES.OPS["6c3bf614-a734-4539-98cd-7a7d5bfc38c9"]={f:Ops.Ui.VizArrayTable_v2,objName:"Ops.Ui.VizArrayTable_v2"};Ops.User.rambodc.Test8=function(){CABLES.Op.apply(this,arguments);const op=this;const attachments=op.attachments={};const inTrigger=op.inTriggerButton("Trigger RunAI4 Request");const inQuery=op.inString("Query");const inCustomFilter=op.inString("Custom Filter (JavaScript)");const inType=op.inString("Type");const inAuthToken=op.inString("Firebase Auth Token");const outResponse=op.outArray("RunAI4 Response");const outError=op.outString("Error Message");const outIsListening=op.outBool("Is Listening",false);const outSuccess=op.outTrigger("Success");const outFailure=op.outTrigger("Failure");let isListening=false;inTrigger.onTriggered=function(){const query=inQuery.get();const type=inType.get();const authToken=inAuthToken.get();const customFilter=inCustomFilter.get();outResponse.set([]);outError.set("");outIsListening.set(false);if(!query||!type||!authToken){outError.set("Missing Query, Type, or Firebase Auth Token.");outFailure.trigger();return}isListening=true;outIsListening.set(true);const requestBody=JSON.stringify({query:query,type:type});fetch("https://us-central1-razz5-14781.cloudfunctions.net/runAI4",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${authToken}`},body:requestBody}).then(e=>{if(!e.ok){if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(data=>{const parsedData=data.data.map(t=>{if(typeof t.data==="string"){try{return{...t,data:JSON.parse(t.data)}}catch(e){console.error("Error parsing data field: ",e);return t}}return t});let filteredData=parsedData;if(customFilter){try{filteredData=parsedData.filter(item=>eval(customFilter))}catch(e){console.error("Error applying custom filter: ",e);outError.set(`Error applying custom filter: ${e.message}`);outFailure.trigger();isListening=false;outIsListening.set(false);return}}outResponse.set(filteredData);outSuccess.trigger();isListening=false;outIsListening.set(false)}).catch(e=>{console.error("Error during fetch:",e);outError.set(`Error: ${e.message}`);outFailure.trigger();isListening=false;outIsListening.set(false)})};op.onDelete=function(){isListening=false;outIsListening.set(false)}};Ops.User.rambodc.Test8.prototype=new CABLES.Op;CABLES.OPS["7efd988a-7c21-4ae5-b260-b8b79b64853a"]={f:Ops.User.rambodc.Test8,objName:"Ops.User.rambodc.Test8"};Ops.User.rambodc.V1UserSetup=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger User Setup Request");const r=e.inObject("Request Body");const a=e.inString("Firebase Auth Token");const i=e.outObject("User Setup Response");const o=e.outString("Error Message");const s=e.outBool("Is Listening",false);const u=e.outTrigger("Success");const l=e.outTrigger("Failure");let p=false;n.onTriggered=function(){const e=r.get();const t=a.get();i.set(null);o.set("");s.set(false);if(!e||!t){o.set("Missing Request Body or Firebase Auth Token.");l.trigger();return}p=true;s.set(true);fetch("https://us-central1-razz5-14781.cloudfunctions.net/v1UserSetup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}).then(e=>{if(!e.ok){if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(e=>{i.set(e);u.trigger();p=false;s.set(false)}).catch(e=>{console.error("Error during fetch:",e);o.set(`Error: ${e.message}`);l.trigger();p=false;s.set(false)})};e.onDelete=function(){p=false;s.set(false)}};Ops.User.rambodc.V1UserSetup.prototype=new CABLES.Op;CABLES.OPS["a4e4edf8-79e9-4e04-908b-bced3b2dc603"]={f:Ops.User.rambodc.V1UserSetup,objName:"Ops.User.rambodc.V1UserSetup"};Ops.User.rambodc.V1lastResetTime=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const n=e.inTriggerButton("Trigger Last Reset Time Update");const r=e.inObject("Request Body");const a=e.inString("Firebase Auth Token");const i=e.outObject("Last Reset Time Response");const o=e.outString("Error Message");const s=e.outBool("Is Listening",false);const u=e.outTrigger("Success");const l=e.outTrigger("Failure");let p=false;n.onTriggered=function(){const e=r.get();const t=a.get();i.set(null);o.set("");s.set(false);if(!e||!t){o.set("Missing Request Body or Firebase Auth Token.");l.trigger();return}p=true;s.set(true);fetch("https://us-central1-razz5-14781.cloudfunctions.net/v1lastResetTime",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)}).then(e=>{if(!e.ok){if(e.status===403){throw new Error("Unauthorized: User does not have the required permissions.")}else if(e.status===405){throw new Error("Method Not Allowed - Check if the Cloud Function URL is correct and supports POST requests.")}else if(e.status===500){throw new Error("Internal Server Error - There may be an issue with the Cloud Function logic.")}else{throw new Error(`HTTP error! Status: ${e.status}`)}}return e.json()}).then(e=>{i.set(e);u.trigger();p=false;s.set(false)}).catch(e=>{console.error("Error during fetch:",e);o.set(`Error: ${e.message}`);l.trigger();p=false;s.set(false)})};e.onDelete=function(){p=false;s.set(false)}};Ops.User.rambodc.V1lastResetTime.prototype=new CABLES.Op;CABLES.OPS["66fdef50-cc28-482e-bac1-0dbd4212dc52"]={f:Ops.User.rambodc.V1lastResetTime,objName:"Ops.User.rambodc.V1lastResetTime"};Ops.User.rambodc.Firebase_Auth3=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};const r=e.inString("Firebase CDN URL","https://www.gstatic.com/firebasejs/8.10.0/firebase.js");const n=e.inObject("Configuration");const a=e.inString("Email for Sign In","");const i=e.inString("Password for Sign In","");const o=e.inString("Email for Sign Up","");const s=e.inString("Password for Sign Up","");const u=e.inTriggerButton("Sign in");const l=e.inTriggerButton("Sign up");const p=e.inTriggerButton("Sign out");const c=e.outValueBool("Logged in",false);const d=e.outObject("User");const g=e.outObject("User Simple");const m=e.outObject("Authentication error");const b=e.outValueBool("Initialized",false);const h=e.outTrigger("Signin Success");const f=e.outTrigger("Signin Fail");const v=e.outTrigger("Signup Success");const O=e.outTrigger("Signup Fail");const y=e.outString("Firebase ID Token","");const x=e.outString("Auth Token","");const I=e.outTrigger("Not Registered");const S=e.outBool("In Progress",false);let j;function _(){return new Promise((e,t)=>{const n=document.createElement("script");n.src=r.get();n.onload=()=>e();n.onerror=()=>t(new Error(`Failed to load ${n.src}`));document.head.appendChild(n)})}function A(){if(j||!n.get()){b.set(true);return}_().then(()=>{try{j=firebase.initializeApp(n.get());const e=firebase.analytics();b.set(true);T()}catch(e){console.error("Error initializing Firebase: ",e);b.set(false)}}).catch(e=>{console.error("Firebase CDN load error: ",e);b.set(false)})}function T(){firebase.auth().onAuthStateChanged(e=>{if(e){c.set(true);d.set(e);const t={uid:e.uid,displayName:e.displayName,email:e.email,emailVerified:e.emailVerified};g.set(t)}else{c.set(false);d.set(null);g.set(null);y.set("");x.set("")}});firebase.auth().onIdTokenChanged(e=>{if(e){e.getIdToken().then(e=>{y.set(e);x.set(e)}).catch(e=>{console.error("Error getting refreshed ID token: ",e)})}})}r.onChange=A;n.onChange=A;u.onTriggered=C;function C(){const e=a.get();const t=i.get();S.set(true);firebase.auth().signInWithEmailAndPassword(e,t).then(()=>{h.trigger();firebase.analytics().logEvent("login",{method:"email"})}).catch(e=>{console.error("Sign-in error: ",e);m.set(e);f.trigger();if(e.code==="auth/user-not-found"){I.trigger()}}).finally(()=>{S.set(false)})}l.onTriggered=w;function w(){const e=o.get();const t=s.get();S.set(true);firebase.auth().createUserWithEmailAndPassword(e,t).then(e=>{return e.user.sendEmailVerification().then(()=>{v.trigger();console.log("Verification email sent.")})}).catch(e=>{console.error("Sign-up error: ",e);m.set(e);O.trigger()}).finally(()=>{S.set(false)})}p.onTriggered=k;function k(){S.set(true);firebase.auth().signOut().then(()=>{}).catch(e=>{console.error("Sign-out error: ",e);m.set(e)}).finally(()=>{S.set(false)})}A()};Ops.User.rambodc.Firebase_Auth3.prototype=new CABLES.Op;CABLES.OPS["27d043c1-337e-494f-bcc0-c1ea6e670cec"]={f:Ops.User.rambodc.Firebase_Auth3,objName:"Ops.User.rambodc.Firebase_Auth3"};Ops.Ui.Subpatch2Template=function(){CABLES.Op.apply(this,arguments);const e=this;const t=e.attachments={};new CABLES.SubPatchOp(e);e.on("loadedValueSet",()=>{e.patch.emitEvent("subpatchExpose",e.patchId.get())})};Ops.Ui.Subpatch2Template.prototype=new CABLES.Op;CABLES.OPS["3e5e6eb2-756a-4e5e-b157-29526cefeb7a"]={f:Ops.Ui.Subpatch2Template,objName:"Ops.Ui.Subpatch2Template"};window.addEventListener("load",function(e){CABLES.jsLoaded=new Event("CABLES.jsLoaded");document.dispatchEvent(CABLES.jsLoaded)});(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports):typeof define==="function"&&define.amd?define(["exports"],t):(e=typeof globalThis!=="undefined"?globalThis:e||self,t(e.echarts={}))})(this,function(e){"use strict";var r=function(e,t){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]};return r(e,t)};function b(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var I=function(){I=Object.assign||function e(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]}return t};return I.apply(this,arguments)};function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}var n=function(){function e(){this.firefox=false;this.ie=false;this.edge=false;this.newEdge=false;this.weChat=false}return e}();var a=function(){function e(){this.browser=new n;this.node=false;this.wxa=false;this.worker=false;this.canvasSupported=false;this.svgSupported=false;this.touchEventsSupported=false;this.pointerEventsSupported=false;this.domSupported=false;this.transformSupported=false;this.transform3dSupported=false}return e}();var S=new a;if(typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"){S.wxa=true;S.canvasSupported=true;S.touchEventsSupported=true}else if(typeof document==="undefined"&&typeof self!=="undefined"){S.worker=true;S.canvasSupported=true}else if(typeof navigator==="undefined"){S.node=true;S.canvasSupported=true;S.svgSupported=true}else{i(navigator.userAgent,S)}function i(e,t){var n=t.browser;var r=e.match(/Firefox\/([\d.]+)/);var a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/);var i=e.match(/Edge?\/([\d.]+)/);var o=/micromessenger/i.test(e);if(r){n.firefox=true;n.version=r[1]}if(a){n.ie=true;n.version=a[1]}if(i){n.edge=true;n.version=i[1];n.newEdge=+i[1].split(".")[0]>18}if(o){n.weChat=true}t.canvasSupported=!!document.createElement("canvas").getContext;t.svgSupported=typeof SVGRect!=="undefined";t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge;t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11);t.domSupported=typeof document!=="undefined";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s);t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var s={"[object Function]":true,"[object RegExp]":true,"[object Date]":true,"[object Error]":true,"[object CanvasGradient]":true,"[object CanvasPattern]":true,"[object Image]":true,"[object Canvas]":true};var u={"[object Int8Array]":true,"[object Uint8Array]":true,"[object Uint8ClampedArray]":true,"[object Int16Array]":true,"[object Uint16Array]":true,"[object Int32Array]":true,"[object Uint32Array]":true,"[object Float32Array]":true,"[object Float64Array]":true};var l=Object.prototype.toString;var p=Array.prototype;var c=p.forEach;var d=p.filter;var T=p.slice;var J=p.map;var Z=function(){}.constructor;var $=Z?Z.prototype:null;var K={};function Q(e,t){K[e]=t}var ee=2311;function te(){return ee++}function ne(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(typeof console!=="undefined"){console.error.apply(console,e)}}function j(e){if(e==null||typeof e!=="object"){return e}var t=e;var n=l.call(e);if(n==="[object Array]"){if(!Ce(e)){t=[];for(var r=0,a=e.length;r<a;r++){t[r]=j(e[r])}}}else if(u[n]){if(!Ce(e)){var i=e.constructor;if(i.from){t=i.from(e)}else{t=new i(e.length);for(var r=0,a=e.length;r<a;r++){t[r]=j(e[r])}}}}else if(!s[n]&&!Ce(e)&&!he(e)){t={};for(var o in e){if(e.hasOwnProperty(o)){t[o]=j(e[o])}}}return t}function f(e,t,n){if(!E(t)||!E(e)){return n?j(t):e}for(var r in t){if(t.hasOwnProperty(r)){var a=e[r];var i=t[r];if(E(i)&&E(a)&&!N(i)&&!N(a)&&!he(i)&&!he(a)&&!me(i)&&!me(a)&&!Ce(i)&&!Ce(a)){f(a,i,n)}else if(n||!(r in e)){e[r]=j(t[r])}}}return e}function re(e,t){var n=e[0];for(var r=1,a=e.length;r<a;r++){n=f(n,e[r],t)}return n}function U(e,t){if(Object.assign){Object.assign(e,t)}else{for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e}function M(e,t,n){var r=k(t);for(var a=0;a<r.length;a++){var i=r[a];if(n?t[i]!=null:e[i]==null){e[i]=t[i]}}return e}var ae=function(){return K.createCanvas()};K.createCanvas=function(){return document.createElement("canvas")};function C(e,t){if(e){if(e.indexOf){return e.indexOf(t)}for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}}return-1}function ie(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype;e.prototype=new r;for(var a in n){if(n.hasOwnProperty(a)){e.prototype[a]=n[a]}}e.prototype.constructor=e;e.superClass=t}function oe(e,t,n){e="prototype"in e?e.prototype:e;t="prototype"in t?t.prototype:t;if(Object.getOwnPropertyNames){var r=Object.getOwnPropertyNames(t);for(var a=0;a<r.length;a++){var i=r[a];if(i!=="constructor"){if(n?t[i]!=null:e[i]==null){e[i]=t[i]}}}}else{M(e,t,n)}}function se(e){if(!e){return false}if(typeof e==="string"){return false}return typeof e.length==="number"}function q(e,t,n){if(!(e&&t)){return}if(e.forEach&&e.forEach===c){e.forEach(t,n)}else if(e.length===+e.length){for(var r=0,a=e.length;r<a;r++){t.call(n,e[r],r,e)}}else{for(var i in e){if(e.hasOwnProperty(i)){t.call(n,e[i],i,e)}}}}function w(e,t,n){if(!e){return[]}if(!t){return Se(e)}if(e.map&&e.map===J){return e.map(t,n)}else{var r=[];for(var a=0,i=e.length;a<i;a++){r.push(t.call(n,e[a],a,e))}return r}}function ue(e,t,n,r){if(!(e&&t)){return}for(var a=0,i=e.length;a<i;a++){n=t.call(r,n,e[a],a,e)}return n}function le(e,t,n){if(!e){return[]}if(!t){return Se(e)}if(e.filter&&e.filter===d){return e.filter(t,n)}else{var r=[];for(var a=0,i=e.length;a<i;a++){if(t.call(n,e[a],a,e)){r.push(e[a])}}return r}}function pe(e,t,n){if(!(e&&t)){return}for(var r=0,a=e.length;r<a;r++){if(t.call(n,e[r],r,e)){return e[r]}}}function k(e){if(!e){return[]}if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t}function ce(e,t){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}return function(){return e.apply(t,n.concat(T.call(arguments)))}}var O=$&&x($.bind)?$.call.bind($.bind):ce;function y(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return function(){return e.apply(this,t.concat(T.call(arguments)))}}function N(e){if(Array.isArray){return Array.isArray(e)}return l.call(e)==="[object Array]"}function x(e){return typeof e==="function"}function P(e){return typeof e==="string"}function de(e){return l.call(e)==="[object String]"}function ge(e){return typeof e==="number"}function E(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function me(e){return!!s[l.call(e)]}function be(e){return!!u[l.call(e)]}function he(e){return typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.ownerDocument==="object"}function fe(e){return e.colorStops!=null}function ve(e){return e.image!=null}function Oe(e){return l.call(e)==="[object RegExp]"}function ye(e){return e!==e}function xe(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var n=0,r=e.length;n<r;n++){if(e[n]!=null){return e[n]}}}function L(e,t){return e!=null?e:t}function Ie(e,t,n){return e!=null?e:t!=null?t:n}function Se(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}return T.apply(e,t)}function je(e){if(typeof e==="number"){return[e,e,e,e]}var t=e.length;if(t===2){return[e[0],e[1],e[0],e[1]]}else if(t===3){return[e[0],e[1],e[2],e[1]]}return e}function D(e,t){if(!e){throw new Error(t)}}function _e(e){if(e==null){return null}else if(typeof e.trim==="function"){return e.trim()}else{return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}var Ae="__ec_primitive__";function Te(e){e[Ae]=true}function Ce(e){return e[Ae]}var we=function(){function a(e){this.data={};var n=N(e);this.data={};var r=this;e instanceof a?e.each(t):e&&q(e,t);function t(e,t){n?r.set(e,t):r.set(t,e)}}a.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null};a.prototype.set=function(e,t){return this.data[e]=t};a.prototype.each=function(e,t){for(var n in this.data){if(this.data.hasOwnProperty(n)){e.call(t,this.data[n],n)}}};a.prototype.keys=function(){return k(this.data)};a.prototype.removeKey=function(e){delete this.data[e]};return a}();function _(e){return new we(e)}function ke(e,t){var n=new e.constructor(e.length+t.length);for(var r=0;r<e.length;r++){n[r]=e[r]}var a=e.length;for(var r=0;r<t.length;r++){n[r+a]=t[r]}return n}function Ne(e,t){var n;if(Object.create){n=Object.create(e)}else{var r=function(){};r.prototype=e;n=new r}if(t){U(n,t)}return n}function B(e,t){return e.hasOwnProperty(t)}function Pe(){}var Ee=Object.freeze({__proto__:null,$override:Q,guid:te,logError:ne,clone:j,merge:f,mergeAll:re,extend:U,defaults:M,createCanvas:ae,indexOf:C,inherits:ie,mixin:oe,isArrayLike:se,each:q,map:w,reduce:ue,filter:le,find:pe,keys:k,bind:O,curry:y,isArray:N,isFunction:x,isString:P,isStringSafe:de,isNumber:ge,isObject:E,isBuiltInObject:me,isTypedArray:be,isDom:he,isGradientObject:fe,isImagePatternObject:ve,isRegExp:Oe,eqNaN:ye,retrieve:xe,retrieve2:L,retrieve3:Ie,slice:Se,normalizeCssArray:je,assert:D,trim:_e,setAsPrimitive:Te,isPrimitive:Ce,HashMap:we,createHashMap:_,concatArray:ke,createObject:Ne,hasOwn:B,noop:Pe});function Le(e,t){if(e==null){e=0}if(t==null){t=0}return[e,t]}function De(e,t){e[0]=t[0];e[1]=t[1];return e}function Me(e){return[e[0],e[1]]}function Be(e,t,n){e[0]=t;e[1]=n;return e}function ze(e,t,n){e[0]=t[0]+n[0];e[1]=t[1]+n[1];return e}function Ve(e,t,n,r){e[0]=t[0]+n[0]*r;e[1]=t[1]+n[1]*r;return e}function Re(e,t,n){e[0]=t[0]-n[0];e[1]=t[1]-n[1];return e}function Ue(e){return Math.sqrt(Ge(e))}var Fe=Ue;function Ge(e){return e[0]*e[0]+e[1]*e[1]}var He=Ge;function qe(e,t,n){e[0]=t[0]*n[0];e[1]=t[1]*n[1];return e}function We(e,t,n){e[0]=t[0]/n[0];e[1]=t[1]/n[1];return e}function Xe(e,t){return e[0]*t[0]+e[1]*t[1]}function Ye(e,t,n){e[0]=t[0]*n;e[1]=t[1]*n;return e}function Je(e,t){var n=Ue(t);if(n===0){e[0]=0;e[1]=0}else{e[0]=t[0]/n;e[1]=t[1]/n}return e}function Ze(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var $e=Ze;function Ke(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Qe=Ke;function et(e,t){e[0]=-t[0];e[1]=-t[1];return e}function tt(e,t,n,r){e[0]=t[0]+r*(n[0]-t[0]);e[1]=t[1]+r*(n[1]-t[1]);return e}function nt(e,t,n){var r=t[0];var a=t[1];e[0]=n[0]*r+n[2]*a+n[4];e[1]=n[1]*r+n[3]*a+n[5];return e}function rt(e,t,n){e[0]=Math.min(t[0],n[0]);e[1]=Math.min(t[1],n[1]);return e}function at(e,t,n){e[0]=Math.max(t[0],n[0]);e[1]=Math.max(t[1],n[1]);return e}var it=Object.freeze({__proto__:null,create:Le,copy:De,clone:Me,set:Be,add:ze,scaleAndAdd:Ve,sub:Re,len:Ue,length:Fe,lenSquare:Ge,lengthSquare:He,mul:qe,div:We,dot:Xe,scale:Ye,normalize:Je,distance:Ze,dist:$e,distanceSquare:Ke,distSquare:Qe,negate:et,lerp:tt,applyTransform:nt,min:rt,max:at});var ot=function(){function e(e,t){this.target=e;this.topTarget=t&&t.topTarget}return e}();var st=function(){function e(e){this.handler=e;e.on("mousedown",this._dragStart,this);e.on("mousemove",this._drag,this);e.on("mouseup",this._dragEnd,this)}e.prototype._dragStart=function(e){var t=e.target;while(t&&!t.draggable){t=t.parent}if(t){this._draggingTarget=t;t.dragging=true;this._x=e.offsetX;this._y=e.offsetY;this.handler.dispatchToElement(new ot(t,e),"dragstart",e.event)}};e.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX;var r=e.offsetY;var a=n-this._x;var i=r-this._y;this._x=n;this._y=r;t.drift(a,i,e);this.handler.dispatchToElement(new ot(t,e),"drag",e.event);var o=this.handler.findHover(n,r,t).target;var s=this._dropTarget;this._dropTarget=o;if(t!==o){if(s&&o!==s){this.handler.dispatchToElement(new ot(s,e),"dragleave",e.event)}if(o&&o!==s){this.handler.dispatchToElement(new ot(o,e),"dragenter",e.event)}}}};e.prototype._dragEnd=function(e){var t=this._draggingTarget;if(t){t.dragging=false}this.handler.dispatchToElement(new ot(t,e),"dragend",e.event);if(this._dropTarget){this.handler.dispatchToElement(new ot(this._dropTarget,e),"drop",e.event)}this._draggingTarget=null;this._dropTarget=null};return e}();var ut=function(){function e(e){if(e){this._$eventProcessor=e}}e.prototype.on=function(e,t,n,r){if(!this._$handlers){this._$handlers={}}var a=this._$handlers;if(typeof t==="function"){r=n;n=t;t=null}if(!n||!e){return this}var i=this._$eventProcessor;if(t!=null&&i&&i.normalizeQuery){t=i.normalizeQuery(t)}if(!a[e]){a[e]=[]}for(var o=0;o<a[e].length;o++){if(a[e][o].h===n){return this}}var s={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast};var u=a[e].length-1;var l=a[e][u];l&&l.callAtLast?a[e].splice(u,0,s):a[e].push(s);return this};e.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length};e.prototype.off=function(e,t){var n=this._$handlers;if(!n){return this}if(!e){this._$handlers={};return this}if(t){if(n[e]){var r=[];for(var a=0,i=n[e].length;a<i;a++){if(n[e][a].h!==t){r.push(n[e][a])}}n[e]=r}if(n[e]&&n[e].length===0){delete n[e]}}else{delete n[e]}return this};e.prototype.trigger=function(e){var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}if(!this._$handlers){return this}var r=this._$handlers[e];var a=this._$eventProcessor;if(r){var i=t.length;var o=r.length;for(var s=0;s<o;s++){var u=r[s];if(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)){continue}switch(i){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}}a&&a.afterTrigger&&a.afterTrigger(e);return this};e.prototype.triggerWithContext=function(e){if(!this._$handlers){return this}var t=this._$handlers[e];var n=this._$eventProcessor;if(t){var r=arguments;var a=r.length;var i=r[a-1];var o=t.length;for(var s=0;s<o;s++){var u=t[s];if(n&&n.filter&&u.query!=null&&!n.filter(e,u.query)){continue}switch(a){case 0:u.h.call(i);break;case 1:u.h.call(i,r[0]);break;case 2:u.h.call(i,r[0],r[1]);break;default:u.h.apply(i,r.slice(1,a-1));break}}}n&&n.afterTrigger&&n.afterTrigger(e);return this};return e}();var lt=Math.log(2);function pt(e,t,n,r,a,i){var o=r+"-"+a;var s=e.length;if(i.hasOwnProperty(o)){return i[o]}if(t===1){var u=Math.round(Math.log((1<<s)-1&~a)/lt);return e[n][u]}var l=r|1<<n;var p=n+1;while(r&1<<p){p++}var c=0;for(var d=0,g=0;d<s;d++){var m=1<<d;if(!(m&a)){c+=(g%2?-1:1)*e[n][d]*pt(e,t-1,p,l,a|m,i);g++}}i[o]=c;return c}function ct(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]];var r={};var a=pt(n,8,0,0,0,r);if(a===0){return}var i=[];for(var o=0;o<8;o++){for(var s=0;s<8;s++){i[s]==null&&(i[s]=0);i[s]+=((o+s)%2?-1:1)*pt(n,7,o===0?1:0,1<<o,1<<s,r)/a*t[o]}}return function(e,t,n){var r=t*i[6]+n*i[7]+1;e[0]=(t*i[0]+n*i[1]+i[2])/r;e[1]=(t*i[3]+n*i[4]+i[5])/r}}var dt="___zrEVENTSAVED";var gt=[];function mt(e,t,n,r,a){return bt(gt,t,r,a,true)&&bt(e,n,gt[0],gt[1])}function bt(e,t,n,r,a){if(t.getBoundingClientRect&&S.domSupported&&!vt(t)){var i=t[dt]||(t[dt]={});var o=ht(t,i);var s=ft(o,i,a);if(s){s(e,n,r);return true}}return false}function ht(e,t){var n=t.markers;if(n){return n}n=t.markers=[];var r=["left","right"];var a=["top","bottom"];for(var i=0;i<4;i++){var o=document.createElement("div");var s=o.style;var u=i%2;var l=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",a[l]+":0",r[1-u]+":auto",a[1-l]+":auto",""].join("!important;");e.appendChild(o);n.push(o)}return n}function ft(e,t,n){var r=n?"invTrans":"trans";var a=t[r];var i=t.srcCoords;var o=[];var s=[];var u=true;for(var l=0;l<4;l++){var p=e[l].getBoundingClientRect();var c=2*l;var d=p.left;var g=p.top;o.push(d,g);u=u&&i&&d===i[c]&&g===i[c+1];s.push(e[l].offsetLeft,e[l].offsetTop)}return u&&a?a:(t.srcCoords=o,t[r]=n?ct(s,o):ct(o,s))}function vt(e){return e.nodeName.toUpperCase()==="CANVAS"}var Ot=typeof window!=="undefined"&&!!window.addEventListener;var yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;var xt=[];function It(e,t,n,r){n=n||{};if(r||!S.canvasSupported){St(e,t,n)}else if(S.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX){n.zrX=t.layerX;n.zrY=t.layerY}else if(t.offsetX!=null){n.zrX=t.offsetX;n.zrY=t.offsetY}else{St(e,t,n)}return n}function St(e,t,n){if(S.domSupported&&e.getBoundingClientRect){var r=t.clientX;var a=t.clientY;if(vt(e)){var i=e.getBoundingClientRect();n.zrX=r-i.left;n.zrY=a-i.top;return}else{if(bt(xt,e,r,a)){n.zrX=xt[0];n.zrY=xt[1];return}}}n.zrX=n.zrY=0}function jt(e){return e||window.event}function _t(e,t,n){t=jt(t);if(t.zrX!=null){return t}var r=t.type;var a=r&&r.indexOf("touch")>=0;if(!a){It(e,t,t,n);var i=At(t);t.zrDelta=i?i/120:-(t.detail||0)/3}else{var o=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&It(e,o,t,n)}var s=t.button;if(t.which==null&&s!==undefined&&yt.test(t.type)){t.which=s&1?1:s&2?3:s&4?2:0}return t}function At(e){var t=e.wheelDelta;if(t){return t}var n=e.deltaX;var r=e.deltaY;if(n==null||r==null){return t}var a=r!==0?Math.abs(r):Math.abs(n);var i=r>0?-1:r<0?1:n>0?-1:1;return 3*a*i}function Tt(e,t,n,r){if(Ot){e.addEventListener(t,n,r)}else{e.attachEvent("on"+t,n)}}function Ct(e,t,n,r){if(Ot){e.removeEventListener(t,n,r)}else{e.detachEvent("on"+t,n)}}var wt=Ot?function(e){e.preventDefault();e.stopPropagation();e.cancelBubble=true}:function(e){e.returnValue=false;e.cancelBubble=true};function kt(e){return e.which===2||e.which===3}var Nt=function(){function e(){this._track=[]}e.prototype.recognize=function(e,t,n){this._doTrack(e,t,n);return this._recognize(e)};e.prototype.clear=function(){this._track.length=0;return this};e.prototype._doTrack=function(e,t,n){var r=e.touches;if(!r){return}var a={points:[],touches:[],target:t,event:e};for(var i=0,o=r.length;i<o;i++){var s=r[i];var u=It(n,s,{});a.points.push([u.zrX,u.zrY]);a.touches.push(s)}this._track.push(a)};e.prototype._recognize=function(e){for(var t in Lt){if(Lt.hasOwnProperty(t)){var n=Lt[t](this._track,e);if(n){return n}}}};return e}();function Pt(e){var t=e[1][0]-e[0][0];var n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function Et(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var Lt={pinch:function(e,t){var n=e.length;if(!n){return}var r=(e[n-1]||{}).points;var a=(e[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var i=Pt(r)/Pt(a);!isFinite(i)&&(i=1);t.pinchScale=i;var o=Et(r);t.pinchX=o[0];t.pinchY=o[1];return{type:"pinch",target:e[0].target,event:t}}}};var Dt="silent";function Mt(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:false,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Bt}}function Bt(){wt(this.event)}var zt=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.handler=null;return e}e.prototype.dispose=function(){};e.prototype.setCursor=function(){};return e}(ut);var Vt=function(){function e(e,t){this.x=e;this.y=t}return e}();var Rt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var Ut=function(i){b(e,i);function e(e,t,n,r){var a=i.call(this)||this;a._hovered=new Vt(0,0);a.storage=e;a.painter=t;a.painterRoot=r;n=n||new zt;a.proxy=null;a.setHandlerProxy(n);a._draggingMgr=new st(a);return a}e.prototype.setHandlerProxy=function(t){if(this.proxy){this.proxy.dispose()}if(t){q(Rt,function(e){t.on&&t.on(e,this[e],this)},this);t.handler=this}this.proxy=t};e.prototype.mousemove=function(e){var t=e.zrX;var n=e.zrY;var r=Gt(this,t,n);var a=this._hovered;var i=a.target;if(i&&!i.__zr){a=this.findHover(a.x,a.y);i=a.target}var o=this._hovered=r?new Vt(t,n):this.findHover(t,n);var s=o.target;var u=this.proxy;u.setCursor&&u.setCursor(s?s.cursor:"default");if(i&&s!==i){this.dispatchToElement(a,"mouseout",e)}this.dispatchToElement(o,"mousemove",e);if(s&&s!==i){this.dispatchToElement(o,"mouseover",e)}};e.prototype.mouseout=function(e){var t=e.zrEventControl;if(t!=="only_globalout"){this.dispatchToElement(this._hovered,"mouseout",e)}if(t!=="no_globalout"){this.trigger("globalout",{type:"globalout",event:e})}};e.prototype.resize=function(){this._hovered=new Vt(0,0)};e.prototype.dispatch=function(e,t){var n=this[e];n&&n.call(this,t)};e.prototype.dispose=function(){this.proxy.dispose();this.storage=null;this.proxy=null;this.painter=null};e.prototype.setCursorStyle=function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)};e.prototype.dispatchToElement=function(e,t,n){e=e||{};var r=e.target;if(r&&r.silent){return}var a="on"+t;var i=Mt(t,e,n);while(r){r[a]&&(i.cancelBubble=!!r[a].call(r,i));r.trigger(t,i);r=r.__hostTarget?r.__hostTarget:r.parent;if(i.cancelBubble){break}}if(!i.cancelBubble){this.trigger(t,i);if(this.painter&&this.painter.eachOtherLayer){this.painter.eachOtherLayer(function(e){if(typeof e[a]==="function"){e[a].call(e,i)}if(e.trigger){e.trigger(t,i)}})}}};e.prototype.findHover=function(e,t,n){var r=this.storage.getDisplayList();var a=new Vt(e,t);for(var i=r.length-1;i>=0;i--){var o=void 0;if(r[i]!==n&&!r[i].ignore&&(o=Ft(r[i],e,t))){!a.topTarget&&(a.topTarget=r[i]);if(o!==Dt){a.target=r[i];break}}}return a};e.prototype.processGesture=function(e,t){if(!this._gestureMgr){this._gestureMgr=new Nt}var n=this._gestureMgr;t==="start"&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);t==="end"&&n.clear();if(r){var a=r.type;e.gestureEvent=a;var i=new Vt;i.target=r.target;this.dispatchToElement(i,a,r.event)}};return e}(ut);q(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(o){Ut.prototype[o]=function(e){var t=e.zrX;var n=e.zrY;var r=Gt(this,t,n);var a;var i;if(o!=="mouseup"||!r){a=this.findHover(t,n);i=a.target}if(o==="mousedown"){this._downEl=i;this._downPoint=[e.zrX,e.zrY];this._upEl=i}else if(o==="mouseup"){this._upEl=i}else if(o==="click"){if(this._downEl!==this._upEl||!this._downPoint||$e(this._downPoint,[e.zrX,e.zrY])>4){return}this._downPoint=null}this.dispatchToElement(a,o,e)}});function Ft(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){var r=e;var a=void 0;var i=false;while(r){if(r.ignoreClip){i=true}if(!i){var o=r.getClipPath();if(o&&!o.contain(t,n)){return false}if(r.silent){a=true}}var s=r.__hostTarget;r=s?s:r.parent}return a?Dt:true}return false}function Gt(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var Ht=32;var qt=7;function Wt(e){var t=0;while(e>=Ht){t|=e&1;e>>=1}return e+t}function Xt(e,t,n,r){var a=t+1;if(a===n){return 1}if(r(e[a++],e[t])<0){while(a<n&&r(e[a],e[a-1])<0){a++}Yt(e,t,a)}else{while(a<n&&r(e[a],e[a-1])>=0){a++}}return a-t}function Yt(e,t,n){n--;while(t<n){var r=e[t];e[t++]=e[n];e[n--]=r}}function Jt(e,t,n,r,a){if(r===t){r++}for(;r<n;r++){var i=e[r];var o=t;var s=r;var u;while(o<s){u=o+s>>>1;if(a(i,e[u])<0){s=u}else{o=u+1}}var l=r-o;switch(l){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:while(l>0){e[o+l]=e[o+l-1];l--}}e[o]=i}}function Zt(e,t,n,r,a,i){var o=0;var s=0;var u=1;if(i(e,t[n+a])>0){s=r-a;while(u<s&&i(e,t[n+a+u])>0){o=u;u=(u<<1)+1;if(u<=0){u=s}}if(u>s){u=s}o+=a;u+=a}else{s=a+1;while(u<s&&i(e,t[n+a-u])<=0){o=u;u=(u<<1)+1;if(u<=0){u=s}}if(u>s){u=s}var l=o;o=a-u;u=a-l}o++;while(o<u){var p=o+(u-o>>>1);if(i(e,t[n+p])>0){o=p+1}else{u=p}}return u}function $t(e,t,n,r,a,i){var o=0;var s=0;var u=1;if(i(e,t[n+a])<0){s=a+1;while(u<s&&i(e,t[n+a-u])<0){o=u;u=(u<<1)+1;if(u<=0){u=s}}if(u>s){u=s}var l=o;o=a-u;u=a-l}else{s=r-a;while(u<s&&i(e,t[n+a+u])>=0){o=u;u=(u<<1)+1;if(u<=0){u=s}}if(u>s){u=s}o+=a;u+=a}o++;while(o<u){var p=o+(u-o>>>1);if(i(e,t[n+p])<0){u=p}else{o=p+1}}return u}function Kt(m,b){var h=qt;var e=0;var o;var s;var u=0;e=m.length;var f=[];o=[];s=[];function t(e,t){o[u]=e;s[u]=t;u+=1}function n(){while(u>1){var e=u-2;if(e>=1&&s[e-1]<=s[e]+s[e+1]||e>=2&&s[e-2]<=s[e]+s[e-1]){if(s[e-1]<s[e+1]){e--}}else if(s[e]>s[e+1]){break}a(e)}}function r(){while(u>1){var e=u-2;if(e>0&&s[e-1]<s[e+1]){e--}a(e)}}function a(e){var t=o[e];var n=s[e];var r=o[e+1];var a=s[e+1];s[e]=n+a;if(e===u-3){o[e+1]=o[e+2];s[e+1]=s[e+2]}u--;var i=$t(m[r],m,t,n,0,b);t+=i;n-=i;if(n===0){return}a=Zt(m[t+n-1],m,r,a,a-1,b);if(a===0){return}if(n<=a){l(t,n,r,a)}else{p(t,n,r,a)}}function l(e,t,n,r){var a=0;for(a=0;a<t;a++){f[a]=m[e+a]}var i=0;var o=n;var s=e;m[s++]=m[o++];if(--r===0){for(a=0;a<t;a++){m[s+a]=f[i+a]}return}if(t===1){for(a=0;a<r;a++){m[s+a]=m[o+a]}m[s+r]=f[i];return}var u=h;var l;var p;var c;while(1){l=0;p=0;c=false;do{if(b(m[o],f[i])<0){m[s++]=m[o++];p++;l=0;if(--r===0){c=true;break}}else{m[s++]=f[i++];l++;p=0;if(--t===1){c=true;break}}}while((l|p)<u);if(c){break}do{l=$t(m[o],f,i,t,0,b);if(l!==0){for(a=0;a<l;a++){m[s+a]=f[i+a]}s+=l;i+=l;t-=l;if(t<=1){c=true;break}}m[s++]=m[o++];if(--r===0){c=true;break}p=Zt(f[i],m,o,r,0,b);if(p!==0){for(a=0;a<p;a++){m[s+a]=m[o+a]}s+=p;o+=p;r-=p;if(r===0){c=true;break}}m[s++]=f[i++];if(--t===1){c=true;break}u--}while(l>=qt||p>=qt);if(c){break}if(u<0){u=0}u+=2}h=u;h<1&&(h=1);if(t===1){for(a=0;a<r;a++){m[s+a]=m[o+a]}m[s+r]=f[i]}else if(t===0){throw new Error}else{for(a=0;a<t;a++){m[s+a]=f[i+a]}}}function p(e,t,n,r){var a=0;for(a=0;a<r;a++){f[a]=m[n+a]}var i=e+t-1;var o=r-1;var s=n+r-1;var u=0;var l=0;m[s--]=m[i--];if(--t===0){u=s-(r-1);for(a=0;a<r;a++){m[u+a]=f[a]}return}if(r===1){s-=t;i-=t;l=s+1;u=i+1;for(a=t-1;a>=0;a--){m[l+a]=m[u+a]}m[s]=f[o];return}var p=h;while(true){var c=0;var d=0;var g=false;do{if(b(f[o],m[i])<0){m[s--]=m[i--];c++;d=0;if(--t===0){g=true;break}}else{m[s--]=f[o--];d++;c=0;if(--r===1){g=true;break}}}while((c|d)<p);if(g){break}do{c=t-$t(f[o],m,e,t,t-1,b);if(c!==0){s-=c;i-=c;t-=c;l=s+1;u=i+1;for(a=c-1;a>=0;a--){m[l+a]=m[u+a]}if(t===0){g=true;break}}m[s--]=f[o--];if(--r===1){g=true;break}d=r-Zt(m[i],f,0,r,r-1,b);if(d!==0){s-=d;o-=d;r-=d;l=s+1;u=o+1;for(a=0;a<d;a++){m[l+a]=f[u+a]}if(r<=1){g=true;break}}m[s--]=m[i--];if(--t===0){g=true;break}p--}while(c>=qt||d>=qt);if(g){break}if(p<0){p=0}p+=2}h=p;if(h<1){h=1}if(r===1){s-=t;i-=t;l=s+1;u=i+1;for(a=t-1;a>=0;a--){m[l+a]=m[u+a]}m[s]=f[o]}else if(r===0){throw new Error}else{u=s-(r-1);for(a=0;a<r;a++){m[u+a]=f[a]}}}return{mergeRuns:n,forceMergeRuns:r,pushRun:t}}function Qt(e,t,n,r){if(!n){n=0}if(!r){r=e.length}var a=r-n;if(a<2){return}var i=0;if(a<Ht){i=Xt(e,n,r,t);Jt(e,n,r,n+i,t);return}var o=Kt(e,t);var s=Wt(a);do{i=Xt(e,n,r,t);if(i<s){var u=a;if(u>s){u=s}Jt(e,n,n+u,n+i,t);i=u}o.pushRun(n,i);o.mergeRuns();a-=i;n+=i}while(a!==0);o.forceMergeRuns()}var en=1;var tn=2;var nn=4;var rn=false;function an(){if(rn){return}rn=true;console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors")}function on(e,t){if(e.zlevel===t.zlevel){if(e.z===t.z){return e.z2-t.z2}return e.z-t.z}return e.zlevel-t.zlevel}var sn=function(){function e(){this._roots=[];this._displayList=[];this._displayListLen=0;this.displayableSortFunc=on}e.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++){this._roots[n].traverse(e,t)}};e.prototype.getDisplayList=function(e,t){t=t||false;var n=this._displayList;if(e||!n.length){this.updateDisplayList(t)}return n};e.prototype.updateDisplayList=function(e){this._displayListLen=0;var t=this._roots;var n=this._displayList;for(var r=0,a=t.length;r<a;r++){this._updateAndAddDisplayable(t[r],null,e)}n.length=this._displayListLen;S.canvasSupported&&Qt(n,on)};e.prototype._updateAndAddDisplayable=function(e,t,n){if(e.ignore&&!n){return}e.beforeUpdate();e.update();e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip){t=null}else if(r){if(t){t=t.slice()}else{t=[]}var a=r;var i=e;while(a){a.parent=i;a.updateTransform();t.push(a);i=a;a=a.getClipPath()}}if(e.childrenRef){var o=e.childrenRef();for(var s=0;s<o.length;s++){var u=o[s];if(e.__dirty){u.__dirty|=en}this._updateAndAddDisplayable(u,t,n)}e.__dirty=0}else{var l=e;if(t&&t.length){l.__clipPaths=t}else if(l.__clipPaths&&l.__clipPaths.length>0){l.__clipPaths=[]}if(isNaN(l.z)){an();l.z=0}if(isNaN(l.z2)){an();l.z2=0}if(isNaN(l.zlevel)){an();l.zlevel=0}this._displayList[this._displayListLen++]=l}var p=e.getDecalElement&&e.getDecalElement();if(p){this._updateAndAddDisplayable(p,t,n)}var c=e.getTextGuideLine();if(c){this._updateAndAddDisplayable(c,t,n)}var d=e.getTextContent();if(d){this._updateAndAddDisplayable(d,t,n)}};e.prototype.addRoot=function(e){if(e.__zr&&e.__zr.storage===this){return}this._roots.push(e)};e.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++){this.delRoot(e[t])}return}var r=C(this._roots,e);if(r>=0){this._roots.splice(r,1)}};e.prototype.delAllRoots=function(){this._roots=[];this._displayList=[];this._displayListLen=0;return};e.prototype.getRoots=function(){return this._roots};e.prototype.dispose=function(){this._displayList=null;this._roots=null};return e}();var un;un=typeof window!=="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var ln=un;var pn={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1){return.5*e*e}return-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){if((e*=2)<1){return.5*e*e*e}return.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){if((e*=2)<1){return.5*e*e*e*e}return-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1){return.5*e*e*e*e*e}return.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(e===0){return 0}if(e===1){return 1}if((e*=2)<1){return.5*Math.pow(1024,e-1)}return.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){if((e*=2)<1){return-.5*(Math.sqrt(1-e*e)-1)}return.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t;var n=.1;var r=.4;if(e===0){return 0}if(e===1){return 1}if(!n||n<1){n=1;t=r/4}else{t=r*Math.asin(1/n)/(2*Math.PI)}return-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))},elasticOut:function(e){var t;var n=.1;var r=.4;if(e===0){return 0}if(e===1){return 1}if(!n||n<1){n=1;t=r/4}else{t=r*Math.asin(1/n)/(2*Math.PI)}return n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1},elasticInOut:function(e){var t;var n=.1;var r=.4;if(e===0){return 0}if(e===1){return 1}if(!n||n<1){n=1;t=r/4}else{t=r*Math.asin(1/n)/(2*Math.PI)}if((e*=2)<1){return-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))}return n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=1.70158*1.525;if((e*=2)<1){return.5*(e*e*((t+1)*e-t))}return.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-pn.bounceOut(1-e)},bounceOut:function(e){if(e<1/2.75){return 7.5625*e*e}else if(e<2/2.75){return 7.5625*(e-=1.5/2.75)*e+.75}else if(e<2.5/2.75){return 7.5625*(e-=2.25/2.75)*e+.9375}else{return 7.5625*(e-=2.625/2.75)*e+.984375}},bounceInOut:function(e){if(e<.5){return pn.bounceIn(e*2)*.5}return pn.bounceOut(e*2-1)*.5+.5}};var cn=function(){function e(e){this._initialized=false;this._startTime=0;this._pausedTime=0;this._paused=false;this._life=e.life||1e3;this._delay=e.delay||0;this.loop=e.loop==null?false:e.loop;this.gap=e.gap||0;this.easing=e.easing||"linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart}e.prototype.step=function(e,t){if(!this._initialized){this._startTime=e+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=t;return}var n=(e-this._startTime-this._pausedTime)/this._life;if(n<0){n=0}n=Math.min(n,1);var r=this.easing;var a=typeof r==="string"?pn[r]:r;var i=typeof a==="function"?a(n):n;this.onframe&&this.onframe(i);if(n===1){if(this.loop){this._restart(e);this.onrestart&&this.onrestart()}else{return true}}return false};e.prototype._restart=function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap;this._pausedTime=0};e.prototype.pause=function(){this._paused=true};e.prototype.resume=function(){this._paused=false};return e}();var dn=function(){function e(e){this.value=e}return e}();var gn=function(){function e(){this._len=0}e.prototype.insert=function(e){var t=new dn(e);this.insertEntry(t);return t};e.prototype.insertEntry=function(e){if(!this.head){this.head=this.tail=e}else{this.tail.next=e;e.prev=this.tail;e.next=null;this.tail=e}this._len++};e.prototype.remove=function(e){var t=e.prev;var n=e.next;if(t){t.next=n}else{this.head=n}if(n){n.prev=t}else{this.tail=t}e.next=e.prev=null;this._len--};e.prototype.len=function(){return this._len};e.prototype.clear=function(){this.head=this.tail=null;this._len=0};return e}();var mn=function(){function e(e){this._list=new gn;this._maxSize=10;this._map={};this._maxSize=e}e.prototype.put=function(e,t){var n=this._list;var r=this._map;var a=null;if(r[e]==null){var i=n.len();var o=this._lastRemovedEntry;if(i>=this._maxSize&&i>0){var s=n.head;n.remove(s);delete r[s.key];a=s.value;this._lastRemovedEntry=s}if(o){o.value=t}else{o=new dn(t)}o.key=e;n.insertEntry(o);r[e]=o}return a};e.prototype.get=function(e){var t=this._map[e];var n=this._list;if(t!=null){if(t!==n.tail){n.remove(t);n.insertEntry(t)}return t.value}};e.prototype.clear=function(){this._list.clear();this._map={}};e.prototype.len=function(){return this._list.len()};return e}();var bn={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hn(e){e=Math.round(e);return e<0?0:e>255?255:e}function fn(e){e=Math.round(e);return e<0?0:e>360?360:e}function vn(e){return e<0?0:e>1?1:e}function On(e){var t=e;if(t.length&&t.charAt(t.length-1)==="%"){return hn(parseFloat(t)/100*255)}return hn(parseInt(t,10))}function yn(e){var t=e;if(t.length&&t.charAt(t.length-1)==="%"){return vn(parseFloat(t)/100)}return vn(parseFloat(t))}function xn(e,t,n){if(n<0){n+=1}else if(n>1){n-=1}if(n*6<1){return e+(t-e)*n*6}if(n*2<1){return t}if(n*3<2){return e+(t-e)*(2/3-n)*6}return e}function In(e,t,n){return e+(t-e)*n}function Sn(e,t,n,r,a){e[0]=t;e[1]=n;e[2]=r;e[3]=a;return e}function jn(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];return e}var _n=new mn(20);var An=null;function Tn(e,t){if(An){jn(An,t)}An=_n.put(e,An||t.slice())}function Cn(e,t){if(!e){return}t=t||[];var n=_n.get(e);if(n){return jn(t,n)}e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in bn){jn(t,bn[r]);Tn(e,t);return t}var a=r.length;if(r.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(r.slice(1,4),16);if(!(i>=0&&i<=4095)){Sn(t,0,0,0,1);return}Sn(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(r.slice(4),16)/15:1);Tn(e,t);return t}else if(a===7||a===9){var i=parseInt(r.slice(1,7),16);if(!(i>=0&&i<=16777215)){Sn(t,0,0,0,1);return}Sn(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(r.slice(7),16)/255:1);Tn(e,t);return t}return}var o=r.indexOf("(");var s=r.indexOf(")");if(o!==-1&&s+1===a){var u=r.substr(0,o);var l=r.substr(o+1,s-(o+1)).split(",");var p=1;switch(u){case"rgba":if(l.length!==4){return l.length===3?Sn(t,+l[0],+l[1],+l[2],1):Sn(t,0,0,0,1)}p=yn(l.pop());case"rgb":if(l.length!==3){Sn(t,0,0,0,1);return}Sn(t,On(l[0]),On(l[1]),On(l[2]),p);Tn(e,t);return t;case"hsla":if(l.length!==4){Sn(t,0,0,0,1);return}l[3]=yn(l[3]);wn(l,t);Tn(e,t);return t;case"hsl":if(l.length!==3){Sn(t,0,0,0,1);return}wn(l,t);Tn(e,t);return t;default:return}}Sn(t,0,0,0,1);return}function wn(e,t){var n=(parseFloat(e[0])%360+360)%360/360;var r=yn(e[1]);var a=yn(e[2]);var i=a<=.5?a*(r+1):a+r-a*r;var o=a*2-i;t=t||[];Sn(t,hn(xn(o,i,n+1/3)*255),hn(xn(o,i,n)*255),hn(xn(o,i,n-1/3)*255),1);if(e.length===4){t[3]=e[3]}return t}function kn(e){if(!e){return}var t=e[0]/255;var n=e[1]/255;var r=e[2]/255;var a=Math.min(t,n,r);var i=Math.max(t,n,r);var o=i-a;var s=(i+a)/2;var u;var l;if(o===0){u=0;l=0}else{if(s<.5){l=o/(i+a)}else{l=o/(2-i-a)}var p=((i-t)/6+o/2)/o;var c=((i-n)/6+o/2)/o;var d=((i-r)/6+o/2)/o;if(t===i){u=d-c}else if(n===i){u=1/3+p-d}else if(r===i){u=2/3+c-p}if(u<0){u+=1}if(u>1){u-=1}}var g=[u*360,l,s];if(e[3]!=null){g.push(e[3])}return g}function Nn(e,t){var n=Cn(e);if(n){for(var r=0;r<3;r++){if(t<0){n[r]=n[r]*(1-t)|0}else{n[r]=(255-n[r])*t+n[r]|0}if(n[r]>255){n[r]=255}else if(n[r]<0){n[r]=0}}return Vn(n,n.length===4?"rgba":"rgb")}}function Pn(e){var t=Cn(e);if(t){return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}}function En(e,t,n){if(!(t&&t.length)||!(e>=0&&e<=1)){return}n=n||[];var r=e*(t.length-1);var a=Math.floor(r);var i=Math.ceil(r);var o=t[a];var s=t[i];var u=r-a;n[0]=hn(In(o[0],s[0],u));n[1]=hn(In(o[1],s[1],u));n[2]=hn(In(o[2],s[2],u));n[3]=vn(In(o[3],s[3],u));return n}var Ln=En;function Dn(e,t,n){if(!(t&&t.length)||!(e>=0&&e<=1)){return}var r=e*(t.length-1);var a=Math.floor(r);var i=Math.ceil(r);var o=Cn(t[a]);var s=Cn(t[i]);var u=r-a;var l=Vn([hn(In(o[0],s[0],u)),hn(In(o[1],s[1],u)),hn(In(o[2],s[2],u)),vn(In(o[3],s[3],u))],"rgba");return n?{color:l,leftIndex:a,rightIndex:i,value:r}:l}var Mn=Dn;function Bn(e,t,n,r){var a=Cn(e);if(e){a=kn(a);t!=null&&(a[0]=fn(t));n!=null&&(a[1]=yn(n));r!=null&&(a[2]=yn(r));return Vn(wn(a),"rgba")}}function zn(e,t){var n=Cn(e);if(n&&t!=null){n[3]=vn(t);return Vn(n,"rgba")}}function Vn(e,t){if(!e||!e.length){return}var n=e[0]+","+e[1]+","+e[2];if(t==="rgba"||t==="hsva"||t==="hsla"){n+=","+e[3]}return t+"("+n+")"}function Rn(e,t){var n=Cn(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}function Un(){var e=Math.round(Math.random()*255);var t=Math.round(Math.random()*255);var n=Math.round(Math.random()*255);return"rgb("+e+","+t+","+n+")"}var Fn=Object.freeze({__proto__:null,parse:Cn,lift:Nn,toHex:Pn,fastLerp:En,fastMapToColor:Ln,lerp:Dn,mapToColor:Mn,modifyHSL:Bn,modifyAlpha:zn,stringify:Vn,lum:Rn,random:Un});var Gn=Array.prototype.slice;function Hn(e,t,n){return(t-e)*n+e}function qn(e,t,n){return n>.5?t:e}function Wn(e,t,n,r){var a=t.length;for(var i=0;i<a;i++){e[i]=Hn(t[i],n[i],r)}}function Xn(e,t,n,r){var a=t.length;var i=a&&t[0].length;for(var o=0;o<a;o++){if(!e[o]){e[o]=[]}for(var s=0;s<i;s++){e[o][s]=Hn(t[o][s],n[o][s],r)}}}function Yn(e,t,n,r){var a=t.length;for(var i=0;i<a;i++){e[i]=t[i]+n[i]*r}return e}function Jn(e,t,n,r){var a=t.length;var i=a&&t[0].length;for(var o=0;o<a;o++){if(!e[o]){e[o]=[]}for(var s=0;s<i;s++){e[o][s]=t[o][s]+n[o][s]*r}}return e}function Zn(e,t,n){var r=e;var a=t;if(!r.push||!a.push){return}var i=r.length;var o=a.length;if(i!==o){var s=i>o;if(s){r.length=o}else{for(var u=i;u<o;u++){r.push(n===1?a[u]:Gn.call(a[u]))}}}var l=r[0]&&r[0].length;for(var u=0;u<r.length;u++){if(n===1){if(isNaN(r[u])){r[u]=a[u]}}else{for(var p=0;p<l;p++){if(isNaN(r[u][p])){r[u][p]=a[u][p]}}}}}function $n(e,t){var n=e.length;if(n!==t.length){return false}for(var r=0;r<n;r++){if(e[r]!==t[r]){return false}}return true}function Kn(e,t,n,r,a,i,o){var s=(n-e)*.5;var u=(r-t)*.5;return(2*(t-n)+s+u)*o+(-3*(t-n)-2*s-u)*i+s*a+t}function Qn(e,t,n,r,a,i,o,s){var u=t.length;for(var l=0;l<u;l++){e[l]=Kn(t[l],n[l],r[l],a[l],i,o,s)}}function er(e,t,n,r,a,i,o,s){var u=t.length;var l=t[0].length;for(var p=0;p<u;p++){if(!e[p]){e[1]=[]}for(var c=0;c<l;c++){e[p][c]=Kn(t[p][c],n[p][c],r[p][c],a[p][c],i,o,s)}}}function tr(e){if(se(e)){var t=e.length;if(se(e[0])){var n=[];for(var r=0;r<t;r++){n.push(Gn.call(e[r]))}return n}return Gn.call(e)}return e}function nr(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function rr(e){return se(e&&e[0])?2:1}var ar=[0,0,0,0];var ir=function(){function e(e){this.keyframes=[];this.maxTime=0;this.arrDim=0;this.interpolable=true;this._needsSort=false;this._isAllValueEqual=true;this._lastFrame=0;this._lastFramePercent=0;this.propName=e}e.prototype.isFinished=function(){return this._finished};e.prototype.setFinished=function(){this._finished=true;if(this._additiveTrack){this._additiveTrack.setFinished()}};e.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable};e.prototype.getAdditiveTrack=function(){return this._additiveTrack};e.prototype.addKeyframe=function(e,t){if(e>=this.maxTime){this.maxTime=e}else{this._needsSort=true}var n=this.keyframes;var r=n.length;if(this.interpolable){if(se(t)){var a=rr(t);if(r>0&&this.arrDim!==a){this.interpolable=false;return}if(a===1&&typeof t[0]!=="number"||a===2&&typeof t[0][0]!=="number"){this.interpolable=false;return}if(r>0){var i=n[r-1];if(this._isAllValueEqual){if(a===1){if(!$n(t,i.value)){this._isAllValueEqual=false}}else{this._isAllValueEqual=false}}}this.arrDim=a}else{if(this.arrDim>0){this.interpolable=false;return}if(typeof t==="string"){var o=Cn(t);if(o){t=o;this.isValueColor=true}else{this.interpolable=false}}else if(typeof t!=="number"||isNaN(t)){this.interpolable=false;return}if(this._isAllValueEqual&&r>0){var i=n[r-1];if(this.isValueColor&&!$n(i.value,t)){this._isAllValueEqual=false}else if(i.value!==t){this._isAllValueEqual=false}}}}var s={time:e,value:t,percent:0};this.keyframes.push(s);return s};e.prototype.prepare=function(e){var t=this.keyframes;if(this._needsSort){t.sort(function(e,t){return e.time-t.time})}var n=this.arrDim;var r=t.length;var a=t[r-1];for(var i=0;i<r;i++){t[i].percent=t[i].time/this.maxTime;if(n>0&&i!==r-1){Zn(t[i].value,a.value,n)}}if(e&&this.needsAnimate()&&e.needsAnimate()&&n===e.arrDim&&this.isValueColor===e.isValueColor&&!e._finished){this._additiveTrack=e;var o=t[0].value;for(var i=0;i<r;i++){if(n===0){if(this.isValueColor){t[i].additiveValue=Yn([],t[i].value,o,-1)}else{t[i].additiveValue=t[i].value-o}}else if(n===1){t[i].additiveValue=Yn([],t[i].value,o,-1)}else if(n===2){t[i].additiveValue=Jn([],t[i].value,o,-1)}}}};e.prototype.step=function(e,t){if(this._finished){return}if(this._additiveTrack&&this._additiveTrack._finished){this._additiveTrack=null}var n=this._additiveTrack!=null;var r=n?"additiveValue":"value";var a=this.keyframes;var i=this.keyframes.length;var o=this.propName;var s=this.arrDim;var u=this.isValueColor;var l;if(t<0){l=0}else if(t<this._lastFramePercent){var p=Math.min(this._lastFrame+1,i-1);for(l=p;l>=0;l--){if(a[l].percent<=t){break}}l=Math.min(l,i-2)}else{for(l=this._lastFrame;l<i;l++){if(a[l].percent>t){break}}l=Math.min(l-1,i-2)}var c=a[l+1];var d=a[l];if(!(d&&c)){return}this._lastFrame=l;this._lastFramePercent=t;var g=c.percent-d.percent;if(g===0){return}var m=(t-d.percent)/g;var b=n?this._additiveValue:u?ar:e[o];if((s>0||u)&&!b){b=this._additiveValue=[]}if(this.useSpline){var h=a[l][r];var f=a[l===0?l:l-1][r];var v=a[l>i-2?i-1:l+1][r];var O=a[l>i-3?i-1:l+2][r];if(s>0){s===1?Qn(b,f,h,v,O,m,m*m,m*m*m):er(b,f,h,v,O,m,m*m,m*m*m)}else if(u){Qn(b,f,h,v,O,m,m*m,m*m*m);if(!n){e[o]=nr(b)}}else{var y=void 0;if(!this.interpolable){y=v}else{y=Kn(f,h,v,O,m,m*m,m*m*m)}if(n){this._additiveValue=y}else{e[o]=y}}}else{if(s>0){s===1?Wn(b,d[r],c[r],m):Xn(b,d[r],c[r],m)}else if(u){Wn(b,d[r],c[r],m);if(!n){e[o]=nr(b)}}else{var y=void 0;if(!this.interpolable){y=qn(d[r],c[r],m)}else{y=Hn(d[r],c[r],m)}if(n){this._additiveValue=y}else{e[o]=y}}}if(n){this._addToTarget(e)}};e.prototype._addToTarget=function(e){var t=this.arrDim;var n=this.propName;var r=this._additiveValue;if(t===0){if(this.isValueColor){Cn(e[n],ar);Yn(ar,ar,r,1);e[n]=nr(ar)}else{e[n]=e[n]+r}}else if(t===1){Yn(e[n],e[n],r,1)}else if(t===2){Jn(e[n],e[n],r,1)}};return e}();var or=function(){function e(e,t,n){this._tracks={};this._trackKeys=[];this._delay=0;this._maxTime=0;this._paused=false;this._started=0;this._clip=null;this._target=e;this._loop=t;if(t&&n){ne("Can' use additive animation on looped animation.");return}this._additiveAnimators=n}e.prototype.getTarget=function(){return this._target};e.prototype.changeTarget=function(e){this._target=e};e.prototype.when=function(e,t){return this.whenWithKeys(e,t,k(t))};e.prototype.whenWithKeys=function(e,t,n){var r=this._tracks;for(var a=0;a<n.length;a++){var i=n[a];var o=r[i];if(!o){o=r[i]=new ir(i);var s=void 0;var u=this._getAdditiveTrack(i);if(u){var l=u.keyframes[u.keyframes.length-1];s=l&&l.value;if(u.isValueColor&&s){s=nr(s)}}else{s=this._target[i]}if(s==null){continue}if(e!==0){o.addKeyframe(0,tr(s))}this._trackKeys.push(i)}o.addKeyframe(e,tr(t[i]))}this._maxTime=Math.max(this._maxTime,e);return this};e.prototype.pause=function(){this._clip.pause();this._paused=true};e.prototype.resume=function(){this._clip.resume();this._paused=false};e.prototype.isPaused=function(){return!!this._paused};e.prototype._doneCallback=function(){this._setTracksFinished();this._clip=null;var e=this._doneList;if(e){var t=e.length;for(var n=0;n<t;n++){e[n].call(this)}}};e.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation;var t=this._abortedList;if(e){e.removeClip(this._clip)}this._clip=null;if(t){for(var n=0;n<t.length;n++){t[n].call(this)}}};e.prototype._setTracksFinished=function(){var e=this._tracks;var t=this._trackKeys;for(var n=0;n<t.length;n++){e[t[n]].setFinished()}};e.prototype._getAdditiveTrack=function(e){var t;var n=this._additiveAnimators;if(n){for(var r=0;r<n.length;r++){var a=n[r].getTrack(e);if(a){t=a}}}return t};e.prototype.start=function(e,t){if(this._started>0){return}this._started=1;var i=this;var o=[];for(var n=0;n<this._trackKeys.length;n++){var r=this._trackKeys[n];var a=this._tracks[r];var s=this._getAdditiveTrack(r);var u=a.keyframes;a.prepare(s);if(a.needsAnimate()){o.push(a)}else if(!a.interpolable){var l=u[u.length-1];if(l){i._target[a.propName]=l.value}}}if(o.length||t){var p=new cn({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(e){i._started=2;var t=i._additiveAnimators;if(t){var n=false;for(var r=0;r<t.length;r++){if(t[r]._clip){n=true;break}}if(!n){i._additiveAnimators=null}}for(var r=0;r<o.length;r++){o[r].step(i._target,e)}var a=i._onframeList;if(a){for(var r=0;r<a.length;r++){a[r](i._target,e)}}},ondestroy:function(){i._doneCallback()}});this._clip=p;if(this.animation){this.animation.addClip(p)}if(e&&e!=="spline"){p.easing=e}}else{this._doneCallback()}return this};e.prototype.stop=function(e){if(!this._clip){return}var t=this._clip;if(e){t.onframe(1)}this._abortedCallback()};e.prototype.delay=function(e){this._delay=e;return this};e.prototype.during=function(e){if(e){if(!this._onframeList){this._onframeList=[]}this._onframeList.push(e)}return this};e.prototype.done=function(e){if(e){if(!this._doneList){this._doneList=[]}this._doneList.push(e)}return this};e.prototype.aborted=function(e){if(e){if(!this._abortedList){this._abortedList=[]}this._abortedList.push(e)}return this};e.prototype.getClip=function(){return this._clip};e.prototype.getTrack=function(e){return this._tracks[e]};e.prototype.stopTracks=function(e,t){if(!e.length||!this._clip){return true}var n=this._tracks;var r=this._trackKeys;for(var a=0;a<e.length;a++){var i=n[e[a]];if(i){if(t){i.step(this._target,1)}else if(this._started===1){i.step(this._target,0)}i.setFinished()}}var o=true;for(var a=0;a<r.length;a++){if(!n[r[a]].isFinished()){o=false;break}}if(o){this._abortedCallback()}return o};e.prototype.saveFinalToTarget=function(e,t){if(!e){return}t=t||this._trackKeys;for(var n=0;n<t.length;n++){var r=t[n];var a=this._tracks[r];if(!a||a.isFinished()){continue}var i=a.keyframes;var o=i[i.length-1];if(o){var s=tr(o.value);if(a.isValueColor){s=nr(s)}e[r]=s}}};e.prototype.__changeFinalValue=function(e,t){t=t||k(e);for(var n=0;n<t.length;n++){var r=t[n];var a=this._tracks[r];if(!a){continue}var i=a.keyframes;if(i.length>1){var o=i.pop();a.addKeyframe(o.time,e[r]);a.prepare(a.getAdditiveTrack())}}};return e}();var sr=function(n){b(e,n);function e(e){var t=n.call(this)||this;t._running=false;t._time=0;t._pausedTime=0;t._pauseStart=0;t._paused=false;e=e||{};t.stage=e.stage||{};t.onframe=e.onframe||function(){};return t}e.prototype.addClip=function(e){if(e.animation){this.removeClip(e)}if(!this._clipsHead){this._clipsHead=this._clipsTail=e}else{this._clipsTail.next=e;e.prev=this._clipsTail;e.next=null;this._clipsTail=e}e.animation=this};e.prototype.addAnimator=function(e){e.animation=this;var t=e.getClip();if(t){this.addClip(t)}};e.prototype.removeClip=function(e){if(!e.animation){return}var t=e.prev;var n=e.next;if(t){t.next=n}else{this._clipsHead=n}if(n){n.prev=t}else{this._clipsTail=t}e.next=e.prev=e.animation=null};e.prototype.removeAnimator=function(e){var t=e.getClip();if(t){this.removeClip(t)}e.animation=null};e.prototype.update=function(e){var t=(new Date).getTime()-this._pausedTime;var n=t-this._time;var r=this._clipsHead;while(r){var a=r.next;var i=r.step(t,n);if(i){r.ondestroy&&r.ondestroy();this.removeClip(r);r=a}else{r=a}}this._time=t;if(!e){this.onframe(n);this.trigger("frame",n);this.stage.update&&this.stage.update()}};e.prototype._startLoop=function(){var e=this;this._running=true;function t(){if(e._running){ln(t);!e._paused&&e.update()}}ln(t)};e.prototype.start=function(){if(this._running){return}this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()};e.prototype.stop=function(){this._running=false};e.prototype.pause=function(){if(!this._paused){this._pauseStart=(new Date).getTime();this._paused=true}};e.prototype.resume=function(){if(this._paused){this._pausedTime+=(new Date).getTime()-this._pauseStart;this._paused=false}};e.prototype.clear=function(){var e=this._clipsHead;while(e){var t=e.next;e.prev=e.next=e.animation=null;e=t}this._clipsHead=this._clipsTail=null};e.prototype.isFinished=function(){return this._clipsHead==null};e.prototype.animate=function(e,t){t=t||{};this.start();var n=new or(e,t.loop);this.addAnimator(n);return n};return e}(ut);var ur=300;var lr=S.domSupported;var pr=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var t=["touchstart","touchend","touchmove"];var n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var r=w(e,function(e){var t=e.replace("mouse","pointer");return n.hasOwnProperty(t)?t:e});return{mouse:e,touch:t,pointer:r}}();var cr={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};var dr=false;function gr(e){var t=e.pointerType;return t==="pen"||t==="touch"}function mr(e){e.touching=true;if(e.touchTimer!=null){clearTimeout(e.touchTimer);e.touchTimer=null}e.touchTimer=setTimeout(function(){e.touching=false;e.touchTimer=null},700)}function br(e){e&&(e.zrByTouch=true)}function hr(e,t){return _t(e.dom,new vr(e,t),true)}function fr(e,t){var n=t;var r=false;while(n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot)){n=n.parentNode}return r}var vr=function(){function e(e,t){this.stopPropagation=Pe;this.stopImmediatePropagation=Pe;this.preventDefault=Pe;this.type=t.type;this.target=this.currentTarget=e.dom;this.pointerType=t.pointerType;this.clientX=t.clientX;this.clientY=t.clientY}return e}();var Or={mousedown:function(e){e=_t(this.dom,e);this.__mayPointerCapture=[e.zrX,e.zrY];this.trigger("mousedown",e)},mousemove:function(e){e=_t(this.dom,e);var t=this.__mayPointerCapture;if(t&&(e.zrX!==t[0]||e.zrY!==t[1])){this.__togglePointerCapture(true)}this.trigger("mousemove",e)},mouseup:function(e){e=_t(this.dom,e);this.__togglePointerCapture(false);this.trigger("mouseup",e)},mouseout:function(e){e=_t(this.dom,e);var t=e.toElement||e.relatedTarget;if(!fr(this,t)){if(this.__pointerCapturing){e.zrEventControl="no_globalout"}this.trigger("mouseout",e)}},wheel:function(e){dr=true;e=_t(this.dom,e);this.trigger("mousewheel",e)},mousewheel:function(e){if(dr){return}e=_t(this.dom,e);this.trigger("mousewheel",e)},touchstart:function(e){e=_t(this.dom,e);br(e);this.__lastTouchMoment=new Date;this.handler.processGesture(e,"start");Or.mousemove.call(this,e);Or.mousedown.call(this,e)},touchmove:function(e){e=_t(this.dom,e);br(e);this.handler.processGesture(e,"change");Or.mousemove.call(this,e)},touchend:function(e){e=_t(this.dom,e);br(e);this.handler.processGesture(e,"end");Or.mouseup.call(this,e);if(+new Date-+this.__lastTouchMoment<ur){Or.click.call(this,e)}},pointerdown:function(e){Or.mousedown.call(this,e)},pointermove:function(e){if(!gr(e)){Or.mousemove.call(this,e)}},pointerup:function(e){Or.mouseup.call(this,e)},pointerout:function(e){if(!gr(e)){Or.mouseout.call(this,e)}}};q(["click","dblclick","contextmenu"],function(t){Or[t]=function(e){e=_t(this.dom,e);this.trigger(t,e)}});var yr={pointermove:function(e){if(!gr(e)){yr.mousemove.call(this,e)}},pointerup:function(e){yr.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(false);this.trigger("mouseup",e);if(t){e.zrEventControl="only_globalout";this.trigger("mouseout",e)}}};function xr(n,r){var a=r.domHandlers;if(S.pointerEventsSupported){q(pr.pointer,function(t){Sr(r,t,function(e){a[t].call(n,e)})})}else{if(S.touchEventsSupported){q(pr.touch,function(t){Sr(r,t,function(e){a[t].call(n,e);mr(r)})})}q(pr.mouse,function(t){Sr(r,t,function(e){e=jt(e);if(!r.touching){a[t].call(n,e)}})})}}function Ir(n,r){if(S.pointerEventsSupported){q(cr.pointer,e)}else if(!S.touchEventsSupported){q(cr.mouse,e)}function e(t){function e(e){e=jt(e);if(!fr(n,e.target)){e=hr(n,e);r.domHandlers[t].call(n,e)}}Sr(r,t,e,{capture:true})}}function Sr(e,t,n,r){e.mounted[t]=n;e.listenerOpts[t]=r;Tt(e.domTarget,t,n,r)}function jr(e){var t=e.mounted;for(var n in t){if(t.hasOwnProperty(n)){Ct(e.domTarget,n,t[n],e.listenerOpts[n])}}e.mounted={}}var _r=function(){function e(e,t){this.mounted={};this.listenerOpts={};this.touching=false;this.domTarget=e;this.domHandlers=t}return e}();var Ar=function(r){b(e,r);function e(e,t){var n=r.call(this)||this;n.__pointerCapturing=false;n.dom=e;n.painterRoot=t;n._localHandlerScope=new _r(e,Or);if(lr){n._globalHandlerScope=new _r(document,yr)}xr(n,n._localHandlerScope);return n}e.prototype.dispose=function(){jr(this._localHandlerScope);if(lr){jr(this._globalHandlerScope)}};e.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};e.prototype.__togglePointerCapture=function(e){this.__mayPointerCapture=null;if(lr&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var t=this._globalHandlerScope;e?Ir(this,t):jr(t)}};return e}(ut);var Tr=1;if(typeof window!=="undefined"){Tr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1)}var Cr=Tr;var wr=.4;var kr="#333";var Nr="#ccc";var Pr="#eee";function Er(){return[1,0,0,1,0,0]}function Lr(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e}function Dr(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e}function Mr(e,t,n){var r=t[0]*n[0]+t[2]*n[1];var a=t[1]*n[0]+t[3]*n[1];var i=t[0]*n[2]+t[2]*n[3];var o=t[1]*n[2]+t[3]*n[3];var s=t[0]*n[4]+t[2]*n[5]+t[4];var u=t[1]*n[4]+t[3]*n[5]+t[5];e[0]=r;e[1]=a;e[2]=i;e[3]=o;e[4]=s;e[5]=u;return e}function Br(e,t,n){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4]+n[0];e[5]=t[5]+n[1];return e}function zr(e,t,n){var r=t[0];var a=t[2];var i=t[4];var o=t[1];var s=t[3];var u=t[5];var l=Math.sin(n);var p=Math.cos(n);e[0]=r*p+o*l;e[1]=-r*l+o*p;e[2]=a*p+s*l;e[3]=-a*l+p*s;e[4]=p*i+l*u;e[5]=p*u-l*i;return e}function Vr(e,t,n){var r=n[0];var a=n[1];e[0]=t[0]*r;e[1]=t[1]*a;e[2]=t[2]*r;e[3]=t[3]*a;e[4]=t[4]*r;e[5]=t[5]*a;return e}function Rr(e,t){var n=t[0];var r=t[2];var a=t[4];var i=t[1];var o=t[3];var s=t[5];var u=n*o-i*r;if(!u){return null}u=1/u;e[0]=o*u;e[1]=-i*u;e[2]=-r*u;e[3]=n*u;e[4]=(r*s-o*a)*u;e[5]=(i*a-n*s)*u;return e}function Ur(e){var t=Er();Dr(t,e);return t}var Fr=Object.freeze({__proto__:null,create:Er,identity:Lr,copy:Dr,mul:Mr,translate:Br,rotate:zr,scale:Vr,invert:Rr,clone:Ur});var Gr=Lr;var Hr=5e-5;function qr(e){return e>Hr||e<-Hr}var Wr=[];var Xr=[];var Yr=Er();var Jr=Math.abs;var Zr=function(){function t(){}t.prototype.setPosition=function(e){this.x=e[0];this.y=e[1]};t.prototype.setScale=function(e){this.scaleX=e[0];this.scaleY=e[1]};t.prototype.setSkew=function(e){this.skewX=e[0];this.skewY=e[1]};t.prototype.setOrigin=function(e){this.originX=e[0];this.originY=e[1]};t.prototype.needLocalTransform=function(){return qr(this.rotation)||qr(this.x)||qr(this.y)||qr(this.scaleX-1)||qr(this.scaleY-1)};t.prototype.updateTransform=function(){var e=this.parent;var t=e&&e.transform;var n=this.needLocalTransform();var r=this.transform;if(!(n||t)){r&&Gr(r);return}r=r||Er();if(n){this.getLocalTransform(r)}else{Gr(r)}if(t){if(n){Mr(r,e.transform,r)}else{Dr(r,e.transform)}}this.transform=r;this._resolveGlobalScaleRatio(r)};t.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Wr);var n=Wr[0]<0?-1:1;var r=Wr[1]<0?-1:1;var a=((Wr[0]-n)*t+n)/Wr[0]||0;var i=((Wr[1]-r)*t+r)/Wr[1]||0;e[0]*=a;e[1]*=a;e[2]*=i;e[3]*=i}this.invTransform=this.invTransform||Er();Rr(this.invTransform,e)};t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)};t.prototype.getComputedTransform=function(){var e=this;var t=[];while(e){t.push(e);e=e.parent}while(e=t.pop()){e.updateTransform()}return this.transform};t.prototype.setLocalTransform=function(e){if(!e){return}var t=e[0]*e[0]+e[1]*e[1];var n=e[2]*e[2]+e[3]*e[3];var r=Math.atan2(e[1],e[0]);var a=Math.PI/2+r-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(a);t=Math.sqrt(t);this.skewX=a;this.skewY=0;this.rotation=-r;this.x=+e[4];this.y=+e[5];this.scaleX=t;this.scaleY=n;this.originX=0;this.originY=0};t.prototype.decomposeTransform=function(){if(!this.transform){return}var e=this.parent;var t=this.transform;if(e&&e.transform){Mr(Xr,e.invTransform,t);t=Xr}var n=this.originX;var r=this.originY;if(n||r){Yr[4]=n;Yr[5]=r;Mr(Xr,t,Yr);Xr[4]-=n;Xr[5]-=r;t=Xr}this.setLocalTransform(t)};t.prototype.getGlobalScale=function(e){var t=this.transform;e=e||[];if(!t){e[0]=1;e[1]=1;return e}e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]);e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]);if(t[0]<0){e[0]=-e[0]}if(t[3]<0){e[1]=-e[1]}return e};t.prototype.transformCoordToLocal=function(e,t){var n=[e,t];var r=this.invTransform;if(r){nt(n,n,r)}return n};t.prototype.transformCoordToGlobal=function(e,t){var n=[e,t];var r=this.transform;if(r){nt(n,n,r)}return n};t.prototype.getLineScale=function(){var e=this.transform;return e&&Jr(e[0]-1)>1e-10&&Jr(e[3]-1)>1e-10?Math.sqrt(Jr(e[0]*e[3]-e[2]*e[1])):1};t.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0;var r=e.originY||0;var a=e.scaleX;var i=e.scaleY;var o=e.rotation||0;var s=e.x;var u=e.y;var l=e.skewX?Math.tan(e.skewX):0;var p=e.skewY?Math.tan(-e.skewY):0;if(n||r){t[4]=-n*a-l*r*i;t[5]=-r*i-p*n*a}else{t[4]=t[5]=0}t[0]=a;t[3]=i;t[1]=p*a;t[2]=l*i;o&&zr(t,t,o);t[4]+=n+s;t[5]+=r+u;return t};t.initDefaultProps=function(){var e=t.prototype;e.x=0;e.y=0;e.scaleX=1;e.scaleY=1;e.originX=0;e.originY=0;e.skewX=0;e.skewY=0;e.rotation=0;e.globalScaleRatio=1}();return t}();var W=function(){function e(e,t){this.x=e||0;this.y=t||0}e.prototype.copy=function(e){this.x=e.x;this.y=e.y;return this};e.prototype.clone=function(){return new e(this.x,this.y)};e.prototype.set=function(e,t){this.x=e;this.y=t;return this};e.prototype.equal=function(e){return e.x===this.x&&e.y===this.y};e.prototype.add=function(e){this.x+=e.x;this.y+=e.y;return this};e.prototype.scale=function(e){this.x*=e;this.y*=e};e.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t;this.y+=e.y*t};e.prototype.sub=function(e){this.x-=e.x;this.y-=e.y;return this};e.prototype.dot=function(e){return this.x*e.x+this.y*e.y};e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y};e.prototype.normalize=function(){var e=this.len();this.x/=e;this.y/=e;return this};e.prototype.distance=function(e){var t=this.x-e.x;var n=this.y-e.y;return Math.sqrt(t*t+n*n)};e.prototype.distanceSquare=function(e){var t=this.x-e.x;var n=this.y-e.y;return t*t+n*n};e.prototype.negate=function(){this.x=-this.x;this.y=-this.y;return this};e.prototype.transform=function(e){if(!e){return}var t=this.x;var n=this.y;this.x=e[0]*t+e[2]*n+e[4];this.y=e[1]*t+e[3]*n+e[5];return this};e.prototype.toArray=function(e){e[0]=this.x;e[1]=this.y;return e};e.prototype.fromArray=function(e){this.x=e[0];this.y=e[1]};e.set=function(e,t,n){e.x=t;e.y=n};e.copy=function(e,t){e.x=t.x;e.y=t.y};e.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};e.lenSquare=function(e){return e.x*e.x+e.y*e.y};e.dot=function(e,t){return e.x*t.x+e.y*t.y};e.add=function(e,t,n){e.x=t.x+n.x;e.y=t.y+n.y};e.sub=function(e,t,n){e.x=t.x-n.x;e.y=t.y-n.y};e.scale=function(e,t,n){e.x=t.x*n;e.y=t.y*n};e.scaleAndAdd=function(e,t,n,r){e.x=t.x+n.x*r;e.y=t.y+n.y*r};e.lerp=function(e,t,n,r){var a=1-r;e.x=a*t.x+r*n.x;e.y=a*t.y+r*n.y};return e}();var $r=Math.min;var Kr=Math.max;var Qr=new W;var ea=new W;var ta=new W;var na=new W;var ra=new W;var aa=new W;var z=function(){function y(e,t,n,r){if(n<0){e=e+n;n=-n}if(r<0){t=t+r;r=-r}this.x=e;this.y=t;this.width=n;this.height=r}y.prototype.union=function(e){var t=$r(e.x,this.x);var n=$r(e.y,this.y);if(isFinite(this.x)&&isFinite(this.width)){this.width=Kr(e.x+e.width,this.x+this.width)-t}else{this.width=e.width}if(isFinite(this.y)&&isFinite(this.height)){this.height=Kr(e.y+e.height,this.y+this.height)-n}else{this.height=e.height}this.x=t;this.y=n};y.prototype.applyTransform=function(e){y.applyTransform(this,this,e)};y.prototype.calculateTransform=function(e){var t=this;var n=e.width/t.width;var r=e.height/t.height;var a=Er();Br(a,a,[-t.x,-t.y]);Vr(a,a,[n,r]);Br(a,a,[e.x,e.y]);return a};y.prototype.intersect=function(e,t){if(!e){return false}if(!(e instanceof y)){e=y.create(e)}var n=this;var r=n.x;var a=n.x+n.width;var i=n.y;var o=n.y+n.height;var s=e.x;var u=e.x+e.width;var l=e.y;var p=e.y+e.height;var c=!(a<s||u<r||o<l||p<i);if(t){var d=Infinity;var g=0;var m=Math.abs(a-s);var b=Math.abs(u-r);var h=Math.abs(o-l);var f=Math.abs(p-i);var v=Math.min(m,b);var O=Math.min(h,f);if(a<s||u<r){if(v>g){g=v;if(m<b){W.set(aa,-m,0)}else{W.set(aa,b,0)}}}else{if(v<d){d=v;if(m<b){W.set(ra,m,0)}else{W.set(ra,-b,0)}}}if(o<l||p<i){if(O>g){g=O;if(h<f){W.set(aa,0,-h)}else{W.set(aa,0,f)}}}else{if(v<d){d=v;if(h<f){W.set(ra,0,h)}else{W.set(ra,0,-f)}}}}if(t){W.copy(t,c?ra:aa)}return c};y.prototype.contain=function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height};y.prototype.clone=function(){return new y(this.x,this.y,this.width,this.height)};y.prototype.copy=function(e){y.copy(this,e)};y.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}};y.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};y.prototype.isZero=function(){return this.width===0||this.height===0};y.create=function(e){return new y(e.x,e.y,e.width,e.height)};y.copy=function(e,t){e.x=t.x;e.y=t.y;e.width=t.width;e.height=t.height};y.applyTransform=function(e,t,n){if(!n){if(e!==t){y.copy(e,t)}return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0];var a=n[3];var i=n[4];var o=n[5];e.x=t.x*r+i;e.y=t.y*a+o;e.width=t.width*r;e.height=t.height*a;if(e.width<0){e.x+=e.width;e.width=-e.width}if(e.height<0){e.y+=e.height;e.height=-e.height}return}Qr.x=ta.x=t.x;Qr.y=na.y=t.y;ea.x=na.x=t.x+t.width;ea.y=ta.y=t.y+t.height;Qr.transform(n);na.transform(n);ea.transform(n);ta.transform(n);e.x=$r(Qr.x,ea.x,ta.x,na.x);e.y=$r(Qr.y,ea.y,ta.y,na.y);var s=Kr(Qr.x,ea.x,ta.x,na.x);var u=Kr(Qr.y,ea.y,ta.y,na.y);e.width=s-e.x;e.height=u-e.y};return y}();var ia={};var oa="12px sans-serif";var sa;var ua;function la(e,t){if(!sa){sa=ae().getContext("2d")}if(ua!==t){ua=sa.font=t||oa}return sa.measureText(e)}var pa={measureText:la};function ca(e,t){t=t||oa;var n=ia[t];if(!n){n=ia[t]=new mn(500)}var r=n.get(e);if(r==null){r=pa.measureText(e,t).width;n.put(e,r)}return r}function da(e,t,n,r){var a=ca(e,t);var i=ha(t);var o=ma(0,a,n);var s=ba(0,i,r);var u=new z(o,s,a,i);return u}function ga(e,t,n,r){var a=((e||"")+"").split("\n");var i=a.length;if(i===1){return da(a[0],t,n,r)}else{var o=new z(0,0,0,0);for(var s=0;s<a.length;s++){var u=da(a[s],t,n,r);s===0?o.copy(u):o.union(u)}return o}}function ma(e,t,n){if(n==="right"){e-=t}else if(n==="center"){e-=t/2}return e}function ba(e,t,n){if(n==="middle"){e-=t/2}else if(n==="bottom"){e-=t}return e}function ha(e){return ca("",e)}function fa(e,t){if(typeof e==="string"){if(e.lastIndexOf("%")>=0){return parseFloat(e)/100*t}return parseFloat(e)}return e}function va(e,t,n){var r=t.position||"inside";var a=t.distance!=null?t.distance:5;var i=n.height;var o=n.width;var s=i/2;var u=n.x;var l=n.y;var p="left";var c="top";if(r instanceof Array){u+=fa(r[0],n.width);l+=fa(r[1],n.height);p=null;c=null}else{switch(r){case"left":u-=a;l+=s;p="right";c="middle";break;case"right":u+=a+o;l+=s;c="middle";break;case"top":u+=o/2;l-=a;p="center";c="bottom";break;case"bottom":u+=o/2;l+=i+a;p="center";break;case"inside":u+=o/2;l+=s;p="center";c="middle";break;case"insideLeft":u+=a;l+=s;c="middle";break;case"insideRight":u+=o-a;l+=s;p="right";c="middle";break;case"insideTop":u+=o/2;l+=a;p="center";break;case"insideBottom":u+=o/2;l+=i-a;p="center";c="bottom";break;case"insideTopLeft":u+=a;l+=a;break;case"insideTopRight":u+=o-a;l+=a;p="right";break;case"insideBottomLeft":u+=a;l+=i-a;c="bottom";break;case"insideBottomRight":u+=o-a;l+=i-a;p="right";c="bottom";break}}e=e||{};e.x=u;e.y=l;e.align=p;e.verticalAlign=c;return e}var Oa="__zr_normal__";var ya=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"];var xa={x:true,y:true,scaleX:true,scaleY:true,originX:true,originY:true,rotation:true,ignore:false};var Ia={};var Sa=new z(0,0,0,0);var ja=function(){function n(e){this.id=te();this.animators=[];this.currentStates=[];this.states={};this._init(e)}n.prototype._init=function(e){this.attr(e)};n.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;if(!r){r=this.transform=[1,0,0,1,0,0]}r[4]+=e;r[5]+=t;this.decomposeTransform();this.markRedraw()};n.prototype.beforeUpdate=function(){};n.prototype.afterUpdate=function(){};n.prototype.update=function(){this.updateTransform();if(this.__dirty){this.updateInnerText()}};n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){if(!this.textConfig){this.textConfig={}}var n=this.textConfig;var r=n.local;var a=t.attachedTransform;var i=void 0;var o=void 0;var s=false;if(r){a.parent=this}else{a.parent=null}var u=false;a.x=t.x;a.y=t.y;a.originX=t.originX;a.originY=t.originY;a.rotation=t.rotation;a.scaleX=t.scaleX;a.scaleY=t.scaleY;if(n.position!=null){var l=Sa;if(n.layoutRect){l.copy(n.layoutRect)}else{l.copy(this.getBoundingRect())}if(!r){l.applyTransform(this.transform)}if(this.calculateTextPosition){this.calculateTextPosition(Ia,n,l)}else{va(Ia,n,l)}a.x=Ia.x;a.y=Ia.y;i=Ia.align;o=Ia.verticalAlign;var p=n.origin;if(p&&n.rotation!=null){var c=void 0;var d=void 0;if(p==="center"){c=l.width*.5;d=l.height*.5}else{c=fa(p[0],l.width);d=fa(p[1],l.height)}u=true;a.originX=-a.x+c+(r?0:l.x);a.originY=-a.y+d+(r?0:l.y)}}if(n.rotation!=null){a.rotation=n.rotation}var g=n.offset;if(g){a.x+=g[0];a.y+=g[1];if(!u){a.originX=-g[0];a.originY=-g[1]}}var m=n.inside==null?typeof n.position==="string"&&n.position.indexOf("inside")>=0:n.inside;var b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});var h=void 0;var f=void 0;var v=void 0;if(m&&this.canBeInsideText()){h=n.insideFill;f=n.insideStroke;if(h==null||h==="auto"){h=this.getInsideTextFill()}if(f==null||f==="auto"){f=this.getInsideTextStroke(h);v=true}}else{h=n.outsideFill;f=n.outsideStroke;if(h==null||h==="auto"){h=this.getOutsideFill()}if(f==null||f==="auto"){f=this.getOutsideStroke(h);v=true}}h=h||"#000";if(h!==b.fill||f!==b.stroke||v!==b.autoStroke||i!==b.align||o!==b.verticalAlign){s=true;b.fill=h;b.stroke=f;b.autoStroke=v;b.align=i;b.verticalAlign=o;t.setDefaultTextStyle(b)}t.__dirty|=en;if(s){t.dirtyStyle(true)}}};n.prototype.canBeInsideText=function(){return true};n.prototype.getInsideTextFill=function(){return"#fff"};n.prototype.getInsideTextStroke=function(e){return"#000"};n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Nr:kr};n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor();var n=typeof t==="string"&&Cn(t);if(!n){n=[255,255,255,1]}var r=n[3];var a=this.__zr.isDarkMode();for(var i=0;i<3;i++){n[i]=n[i]*r+(a?0:255)*(1-r)}n[3]=1;return Vn(n,"rgba")};n.prototype.traverse=function(e,t){};n.prototype.attrKV=function(e,t){if(e==="textConfig"){this.setTextConfig(t)}else if(e==="textContent"){this.setTextContent(t)}else if(e==="clipPath"){this.setClipPath(t)}else if(e==="extra"){this.extra=this.extra||{};U(this.extra,t)}else{this[e]=t}};n.prototype.hide=function(){this.ignore=true;this.markRedraw()};n.prototype.show=function(){this.ignore=false;this.markRedraw()};n.prototype.attr=function(e,t){if(typeof e==="string"){this.attrKV(e,t)}else if(E(e)){var n=e;var r=k(n);for(var a=0;a<r.length;a++){var i=r[a];this.attrKV(i,e[i])}}this.markRedraw();return this};n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);var t=this._normalState;for(var n=0;n<this.animators.length;n++){var r=this.animators[n];var a=r.__fromStateTransition;if(a&&a!==Oa){continue}var i=r.targetName;var o=i?t[i]:t;r.saveFinalToTarget(o)}};n.prototype._innerSaveToNormal=function(e){var t=this._normalState;if(!t){t=this._normalState={}}if(e.textConfig&&!t.textConfig){t.textConfig=this.textConfig}this._savePrimaryToNormal(e,t,ya)};n.prototype._savePrimaryToNormal=function(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];if(e[a]!=null&&!(a in t)){t[a]=this[a]}}};n.prototype.hasState=function(){return this.currentStates.length>0};n.prototype.getState=function(e){return this.states[e]};n.prototype.ensureState=function(e){var t=this.states;if(!t[e]){t[e]={}}return t[e]};n.prototype.clearStates=function(e){this.useState(Oa,false,e)};n.prototype.useState=function(e,t,n,r){var a=e===Oa;var i=this.hasState();if(!i&&a){return}var o=this.currentStates;var s=this.stateTransition;if(C(o,e)>=0&&(t||o.length===1)){return}var u;if(this.stateProxy&&!a){u=this.stateProxy(e)}if(!u){u=this.states&&this.states[e]}if(!u&&!a){ne("State "+e+" not exists.");return}if(!a){this.saveCurrentToNormalState(u)}var l=!!(u&&u.hoverLayer||r);if(l){this._toggleHoverLayerFlag(true)}this._applyStateObj(e,u,this._normalState,t,!n&&!this.__inHover&&s&&s.duration>0,s);var p=this._textContent;var c=this._textGuide;if(p){p.useState(e,t,n,l)}if(c){c.useState(e,t,n,l)}if(a){this.currentStates=[];this._normalState={}}else{if(!t){this.currentStates=[e]}else{this.currentStates.push(e)}}this._updateAnimationTargets();this.markRedraw();if(!l&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~en}return u};n.prototype.useStates=function(e,t,n){if(!e.length){this.clearStates()}else{var r=[];var a=this.currentStates;var i=e.length;var o=i===a.length;if(o){for(var s=0;s<i;s++){if(e[s]!==a[s]){o=false;break}}}if(o){return}for(var s=0;s<i;s++){var u=e[s];var l=void 0;if(this.stateProxy){l=this.stateProxy(u,e)}if(!l){l=this.states[u]}if(l){r.push(l)}}var p=r[i-1];var c=!!(p&&p.hoverLayer||n);if(c){this._toggleHoverLayerFlag(true)}var d=this._mergeStates(r);var g=this.stateTransition;this.saveCurrentToNormalState(d);this._applyStateObj(e.join(","),d,this._normalState,false,!t&&!this.__inHover&&g&&g.duration>0,g);var m=this._textContent;var b=this._textGuide;if(m){m.useStates(e,t,c)}if(b){b.useStates(e,t,c)}this._updateAnimationTargets();this.currentStates=e.slice();this.markRedraw();if(!c&&this.__inHover){this._toggleHoverLayerFlag(false);this.__dirty&=~en}}};n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];if(t.targetName){t.changeTarget(this[t.targetName])}}};n.prototype.removeState=function(e){var t=C(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1);this.useStates(n)}};n.prototype.replaceState=function(e,t,n){var r=this.currentStates.slice();var a=C(r,e);var i=C(r,t)>=0;if(a>=0){if(!i){r[a]=t}else{r.splice(a,1)}}else if(n&&!i){r.push(t)}this.useStates(r)};n.prototype.toggleState=function(e,t){if(t){this.useState(e,true)}else{this.removeState(e)}};n.prototype._mergeStates=function(e){var t={};var n;for(var r=0;r<e.length;r++){var a=e[r];U(t,a);if(a.textConfig){n=n||{};U(n,a.textConfig)}}if(n){t.textConfig=n}return t};n.prototype._applyStateObj=function(e,t,n,r,a,i){var o=!(t&&r);if(t&&t.textConfig){this.textConfig=U({},r?this.textConfig:n.textConfig);U(this.textConfig,t.textConfig)}else if(o){if(n.textConfig){this.textConfig=n.textConfig}}var s={};var u=false;for(var l=0;l<ya.length;l++){var p=ya[l];var c=a&&xa[p];if(t&&t[p]!=null){if(c){u=true;s[p]=t[p]}else{this[p]=t[p]}}else if(o){if(n[p]!=null){if(c){u=true;s[p]=n[p]}else{this[p]=n[p]}}}}if(!a){for(var l=0;l<this.animators.length;l++){var d=this.animators[l];var g=d.targetName;d.__changeFinalValue(g?(t||n)[g]:t||n)}}if(u){this._transitionState(e,s,i)}};n.prototype._attachComponent=function(e){if(e.__zr&&!e.__hostTarget){throw new Error("Text element has been added to zrender.")}if(e===this){throw new Error("Recursive component attachment.")}var t=this.__zr;if(t){e.addSelfToZr(t)}e.__zr=t;e.__hostTarget=this};n.prototype._detachComponent=function(e){if(e.__zr){e.removeSelfFromZr(e.__zr)}e.__zr=null;e.__hostTarget=null};n.prototype.getClipPath=function(){return this._clipPath};n.prototype.setClipPath=function(e){if(this._clipPath&&this._clipPath!==e){this.removeClipPath()}this._attachComponent(e);this._clipPath=e;this.markRedraw()};n.prototype.removeClipPath=function(){var e=this._clipPath;if(e){this._detachComponent(e);this._clipPath=null;this.markRedraw()}};n.prototype.getTextContent=function(){return this._textContent};n.prototype.setTextContent=function(e){var t=this._textContent;if(t===e){return}if(t&&t!==e){this.removeTextContent()}if(e.__zr&&!e.__hostTarget){throw new Error("Text element has been added to zrender.")}e.attachedTransform=new Zr;this._attachComponent(e);this._textContent=e;this.markRedraw()};n.prototype.setTextConfig=function(e){if(!this.textConfig){this.textConfig={}}U(this.textConfig,e);this.markRedraw()};n.prototype.removeTextConfig=function(){this.textConfig=null;this.markRedraw()};n.prototype.removeTextContent=function(){var e=this._textContent;if(e){e.attachedTransform=null;this._detachComponent(e);this._textContent=null;this._innerTextDefaultStyle=null;this.markRedraw()}};n.prototype.getTextGuideLine=function(){return this._textGuide};n.prototype.setTextGuideLine=function(e){if(this._textGuide&&this._textGuide!==e){this.removeTextGuideLine()}this._attachComponent(e);this._textGuide=e;this.markRedraw()};n.prototype.removeTextGuideLine=function(){var e=this._textGuide;if(e){this._detachComponent(e);this._textGuide=null;this.markRedraw()}};n.prototype.markRedraw=function(){this.__dirty|=en;var e=this.__zr;if(e){if(this.__inHover){e.refreshHover()}else{e.refresh()}}if(this.__hostTarget){this.__hostTarget.markRedraw()}};n.prototype.dirty=function(){this.markRedraw()};n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent;var n=this._textGuide;if(t){t.__inHover=e}if(n){n.__inHover=e}};n.prototype.addSelfToZr=function(e){this.__zr=e;var t=this.animators;if(t){for(var n=0;n<t.length;n++){e.animation.addAnimator(t[n])}}if(this._clipPath){this._clipPath.addSelfToZr(e)}if(this._textContent){this._textContent.addSelfToZr(e)}if(this._textGuide){this._textGuide.addSelfToZr(e)}};n.prototype.removeSelfFromZr=function(e){this.__zr=null;var t=this.animators;if(t){for(var n=0;n<t.length;n++){e.animation.removeAnimator(t[n])}}if(this._clipPath){this._clipPath.removeSelfFromZr(e)}if(this._textContent){this._textContent.removeSelfFromZr(e)}if(this._textGuide){this._textGuide.removeSelfFromZr(e)}};n.prototype.animate=function(e,t){var n=e?this[e]:this;if(!n){ne('Property "'+e+'" is not existed in element '+this.id);return}var r=new or(n,t);this.addAnimator(r,e);return r};n.prototype.addAnimator=function(n,e){var t=this.__zr;var r=this;n.during(function(){r.updateDuringAnimation(e)}).done(function(){var e=r.animators;var t=C(e,n);if(t>=0){e.splice(t,1)}});this.animators.push(n);if(t){t.animation.addAnimator(n)}t&&t.wakeUp()};n.prototype.updateDuringAnimation=function(e){this.markRedraw()};n.prototype.stopAnimation=function(e,t){var n=this.animators;var r=n.length;var a=[];for(var i=0;i<r;i++){var o=n[i];if(!e||e===o.scope){o.stop(t)}else{a.push(o)}}this.animators=a;return this};n.prototype.animateTo=function(e,t,n){_a(this,e,t,n)};n.prototype.animateFrom=function(e,t,n){_a(this,e,t,n,true)};n.prototype._transitionState=function(e,t,n,r){var a=_a(this,t,n,r);for(var i=0;i<a.length;i++){a[i].__fromStateTransition=e}};n.prototype.getBoundingRect=function(){return null};n.prototype.getPaintRect=function(){return null};n.initDefaultProps=function(){var e=n.prototype;e.type="element";e.name="";e.ignore=false;e.silent=false;e.isGroup=false;e.draggable=false;e.dragging=false;e.ignoreClip=false;e.__inHover=false;e.__dirty=en;var r={};function o(e,t,n){if(!r[e+t+n]){console.warn("DEPRECATED: '"+e+"' has been deprecated. use '"+t+"', '"+n+"' instead");r[e+t+n]=true}}function t(t,n,r,a){Object.defineProperty(e,t,{get:function(){o(t,r,a);if(!this[n]){var e=this[n]=[];i(this,e)}return this[n]},set:function(e){o(t,r,a);this[r]=e[0];this[a]=e[1];this[n]=e;i(this,e)}});function i(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}});Object.defineProperty(e,1,{get:function(){return t[a]},set:function(e){t[a]=e}})}}if(Object.defineProperty&&(!S.browser.ie||S.browser.version>8)){t("position","_legacyPos","x","y");t("scale","_legacyScale","scaleX","scaleY");t("origin","_legacyOrigin","originX","originY")}}();return n}();oe(ja,ut);oe(ja,Zr);function _a(e,t,n,r,a){n=n||{};var i=[];wa(e,"",e,t,n,r,i,a);var o=i.length;var s=false;var u=n.done;var l=n.aborted;var p=function(){s=true;o--;if(o<=0){s?u&&u():l&&l()}};var c=function(){o--;if(o<=0){s?u&&u():l&&l()}};if(!o){u&&u()}if(i.length>0&&n.during){i[0].during(function(e,t){n.during(t)})}for(var d=0;d<i.length;d++){var g=i[d];if(p){g.done(p)}if(c){g.aborted(c)}g.start(n.easing,n.force)}return i}function Aa(e,t,n){for(var r=0;r<n;r++){e[r]=t[r]}}function Ta(e){return se(e[0])}function Ca(e,t,n){if(se(t[n])){if(!se(e[n])){e[n]=[]}if(be(t[n])){var r=t[n].length;if(e[n].length!==r){e[n]=new t[n].constructor(r);Aa(e[n],t[n],r)}}else{var a=t[n];var i=e[n];var o=a.length;if(Ta(a)){var s=a[0].length;for(var u=0;u<o;u++){if(!i[u]){i[u]=Array.prototype.slice.call(a[u])}else{Aa(i[u],a[u],s)}}}else{Aa(i,a,o)}i.length=a.length}}else{e[n]=t[n]}}function wa(e,t,n,r,a,i,o,s){var u=[];var l=[];var p=k(r);var c=a.duration;var d=a.delay;var g=a.additive;var m=a.setToFinal;var b=!E(i);for(var h=0;h<p.length;h++){var f=p[h];if(n[f]!=null&&r[f]!=null&&(b||i[f])){if(E(r[f])&&!se(r[f])){if(t){if(!s){n[f]=r[f];e.updateDuringAnimation(t)}continue}wa(e,f,n[f],r[f],a,i&&i[f],o,s)}else{u.push(f);l.push(f)}}else if(!s){n[f]=r[f];e.updateDuringAnimation(t);l.push(f)}}var v=u.length;if(v>0||a.force&&!o.length){var O=e.animators;var y=[];for(var x=0;x<O.length;x++){if(O[x].targetName===t){y.push(O[x])}}if(!g&&y.length){for(var x=0;x<y.length;x++){var I=y[x].stopTracks(l);if(I){var S=C(O,y[x]);O.splice(S,1)}}}var j=void 0;var _=void 0;var A=void 0;if(s){_={};if(m){j={}}for(var x=0;x<v;x++){var f=u[x];_[f]=n[f];if(m){j[f]=r[f]}else{n[f]=r[f]}}}else if(m){A={};for(var x=0;x<v;x++){var f=u[x];A[f]=tr(n[f]);Ca(n,r,f)}}var T=new or(n,false,g?y:null);T.targetName=t;if(a.scope){T.scope=a.scope}if(m&&j){T.whenWithKeys(0,j,u)}if(A){T.whenWithKeys(0,A,u)}T.whenWithKeys(c==null?500:c,s?_:r,u).delay(d||0);e.addAnimator(T,t);o.push(T)}}var F=function(r){b(e,r);function e(e){var t=r.call(this)||this;t.isGroup=true;t._children=[];t.attr(e);return t}e.prototype.childrenRef=function(){return this._children};e.prototype.children=function(){return this._children.slice()};e.prototype.childAt=function(e){return this._children[e]};e.prototype.childOfName=function(e){var t=this._children;for(var n=0;n<t.length;n++){if(t[n].name===e){return t[n]}}};e.prototype.childCount=function(){return this._children.length};e.prototype.add=function(e){if(e){if(e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}if(e.__hostTarget){throw"This elemenet has been used as an attachment"}}return this};e.prototype.addBefore=function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children;var r=n.indexOf(t);if(r>=0){n.splice(r,0,e);this._doAdd(e)}}return this};e.prototype.replaceAt=function(e,t){var n=this._children;var r=n[t];if(e&&e!==this&&e.parent!==this&&e!==r){n[t]=e;r.parent=null;var a=this.__zr;if(a){r.removeSelfFromZr(a)}this._doAdd(e)}return this};e.prototype._doAdd=function(e){if(e.parent){e.parent.remove(e)}e.parent=this;var t=this.__zr;if(t&&t!==e.__zr){e.addSelfToZr(t)}t&&t.refresh()};e.prototype.remove=function(e){var t=this.__zr;var n=this._children;var r=C(n,e);if(r<0){return this}n.splice(r,1);e.parent=null;if(t){e.removeSelfFromZr(t)}t&&t.refresh();return this};e.prototype.removeAll=function(){var e=this._children;var t=this.__zr;for(var n=0;n<e.length;n++){var r=e[n];if(t){r.removeSelfFromZr(t)}r.parent=null}e.length=0;return this};e.prototype.eachChild=function(e,t){var n=this._children;for(var r=0;r<n.length;r++){var a=n[r];e.call(t,a,r)}return this};e.prototype.traverse=function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n];var a=e.call(t,r);if(r.isGroup&&!a){r.traverse(e,t)}}return this};e.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var t=0;t<this._children.length;t++){var n=this._children[t];n.addSelfToZr(e)}};e.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var t=0;t<this._children.length;t++){var n=this._children[t];n.removeSelfFromZr(e)}};e.prototype.getBoundingRect=function(e){var t=new z(0,0,0,0);var n=e||this._children;var r=[];var a=null;for(var i=0;i<n.length;i++){var o=n[i];if(o.ignore||o.invisible){continue}var s=o.getBoundingRect();var u=o.getLocalTransform(r);if(u){z.applyTransform(t,s,u);a=a||t.clone();a.union(t)}else{a=a||s.clone();a.union(s)}}return a||t};return e}(ja);F.prototype.type="group";var ka=!S.canvasSupported;var Na={};var Pa={};function Ea(e){delete Pa[e]}function La(e){if(!e){return false}if(typeof e==="string"){return Rn(e,1)<wr}else if(e.colorStops){var t=e.colorStops;var n=0;var r=t.length;for(var a=0;a<r;a++){n+=Rn(t[a].color,1)}n/=r;return n<wr}return false}var Da=function(){function e(e,t,n){var r=this;this._sleepAfterStill=10;this._stillFrameAccum=0;this._needsRefresh=true;this._needsRefreshHover=true;this._darkMode=false;n=n||{};this.dom=t;this.id=e;var a=new sn;var i=n.renderer||"canvas";if(ka){throw new Error("IE8 support has been dropped since 5.0")}if(!Na[i]){i=k(Na)[0]}if(!Na[i]){throw new Error("Renderer '"+i+"' is not imported. Please import it first.")}n.useDirtyRect=n.useDirtyRect==null?false:n.useDirtyRect;var o=new Na[i](t,a,n,e);this.storage=a;this.painter=o;var s=!S.node&&!S.worker?new Ar(o.getViewportRoot(),o.root):null;this.handler=new Ut(a,o,s,o.root);this.animation=new sr({stage:{update:function(){return r._flush(true)}}});this.animation.start()}e.prototype.add=function(e){if(!e){return}this.storage.addRoot(e);e.addSelfToZr(this);this.refresh()};e.prototype.remove=function(e){if(!e){return}this.storage.delRoot(e);e.removeSelfFromZr(this);this.refresh()};e.prototype.configLayer=function(e,t){if(this.painter.configLayer){this.painter.configLayer(e,t)}this.refresh()};e.prototype.setBackgroundColor=function(e){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(e)}this.refresh();this._backgroundColor=e;this._darkMode=La(e)};e.prototype.getBackgroundColor=function(){return this._backgroundColor};e.prototype.setDarkMode=function(e){this._darkMode=e};e.prototype.isDarkMode=function(){return this._darkMode};e.prototype.refreshImmediately=function(e){if(!e){this.animation.update(true)}this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false};e.prototype.refresh=function(){this._needsRefresh=true;this.animation.start()};e.prototype.flush=function(){this._flush(false)};e.prototype._flush=function(e){var t;var n=(new Date).getTime();if(this._needsRefresh){t=true;this.refreshImmediately(e)}if(this._needsRefreshHover){t=true;this.refreshHoverImmediately()}var r=(new Date).getTime();if(t){this._stillFrameAccum=0;this.trigger("rendered",{elapsedTime:r-n})}else if(this._sleepAfterStill>0){this._stillFrameAccum++;if(this._stillFrameAccum>this._sleepAfterStill){this.animation.stop()}}};e.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e};e.prototype.wakeUp=function(){this.animation.start();this._stillFrameAccum=0};e.prototype.addHover=function(e){};e.prototype.removeHover=function(e){};e.prototype.clearHover=function(){};e.prototype.refreshHover=function(){this._needsRefreshHover=true};e.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=false;if(this.painter.refreshHover&&this.painter.getType()==="canvas"){this.painter.refreshHover()}};e.prototype.resize=function(e){e=e||{};this.painter.resize(e.width,e.height);this.handler.resize()};e.prototype.clearAnimation=function(){this.animation.clear()};e.prototype.getWidth=function(){return this.painter.getWidth()};e.prototype.getHeight=function(){return this.painter.getHeight()};e.prototype.pathToImage=function(e,t){if(this.painter.pathToImage){return this.painter.pathToImage(e,t)}};e.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)};e.prototype.findHover=function(e,t){return this.handler.findHover(e,t)};e.prototype.on=function(e,t,n){this.handler.on(e,t,n);return this};e.prototype.off=function(e,t){this.handler.off(e,t)};e.prototype.trigger=function(e,t){this.handler.trigger(e,t)};e.prototype.clear=function(){var e=this.storage.getRoots();for(var t=0;t<e.length;t++){if(e[t]instanceof F){e[t].removeSelfFromZr(this)}}this.storage.delAllRoots();this.painter.clear()};e.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;Ea(this.id)};return e}();function Ma(e,t){var n=new Da(te(),e,t);Pa[n.id]=n;return n}function Ba(e){e.dispose()}function za(){for(var e in Pa){if(Pa.hasOwnProperty(e)){Pa[e].dispose()}}Pa={}}function Va(e){return Pa[e]}function Ra(e,t){Na[e]=t}var Ua="5.1.1";var Fa=Object.freeze({__proto__:null,init:Ma,dispose:Ba,disposeAll:za,getInstance:Va,registerPainter:Ra,version:Ua});var Ga=1e-4;var Ha=20;function qa(e){return e.replace(/^\s+|\s+$/g,"")}function V(e,t,n,r){var a=t[0];var i=t[1];var o=n[0];var s=n[1];var u=i-a;var l=s-o;if(u===0){return l===0?o:(o+s)/2}if(r){if(u>0){if(e<=a){return o}else if(e>=i){return s}}else{if(e>=a){return o}else if(e<=i){return s}}}else{if(e===a){return o}if(e===i){return s}}return(e-a)/u*l+o}function X(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}if(typeof e==="string"){if(qa(e).match(/%$/)){return parseFloat(e)/100*t}return parseFloat(e)}return e==null?NaN:+e}function Wa(e,t,n){if(t==null){t=10}t=Math.min(Math.max(0,t),Ha);e=(+e).toFixed(t);return n?e:+e}function Xa(e){e.sort(function(e,t){return e-t});return e}function Ya(e){e=+e;if(isNaN(e)){return 0}if(e>1e-14){var t=1;for(var n=0;n<15;n++,t*=10){if(Math.round(e*t)/t===e){return n}}}return Ja(e)}function Ja(e){var t=e.toString().toLowerCase();var n=t.indexOf("e");var r=n>0?+t.slice(n+1):0;var a=n>0?n:t.length;var i=t.indexOf(".");var o=i<0?0:a-1-i;return Math.max(0,o-r)}function Za(e,t){var n=Math.log;var r=Math.LN10;var a=Math.floor(n(e[1]-e[0])/r);var i=Math.round(n(Math.abs(t[1]-t[0]))/r);var o=Math.min(Math.max(-a+i,0),20);return!isFinite(o)?20:o}function $a(e,t,n){if(!e[t]){return 0}var r=ue(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(r===0){return 0}var a=Math.pow(10,n);var i=w(e,function(e){return(isNaN(e)?0:e)/r*a*100});var o=a*100;var s=w(i,function(e){return Math.floor(e)});var u=ue(s,function(e,t){return e+t},0);var l=w(i,function(e,t){return e-s[t]});while(u<o){var p=Number.NEGATIVE_INFINITY;var c=null;for(var d=0,g=l.length;d<g;++d){if(l[d]>p){p=l[d];c=d}}++s[c];l[c]=0;++u}return s[t]/a}function Ka(e,t){var n=Math.max(Ya(e),Ya(t));var r=e+t;return n>Ha?r:Wa(r,n)}var Qa=9007199254740991;function ei(e){var t=Math.PI*2;return(e%t+t)%t}function ti(e){return e>-Ga&&e<Ga}var ni=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ri(e){if(e instanceof Date){return e}else if(typeof e==="string"){var t=ni.exec(e);if(!t){return new Date(NaN)}if(!t[8]){return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}else{var n=+t[4]||0;if(t[8].toUpperCase()!=="Z"){n-=+t[8].slice(0,3)}return new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,+t[7]||0))}}else if(e==null){return new Date(NaN)}return new Date(Math.round(e))}function ai(e){return Math.pow(10,ii(e))}function ii(e){if(e===0){return 0}var t=Math.floor(Math.log(e)/Math.LN10);if(e/Math.pow(10,t)>=10){t++}return t}function oi(e,t){var n=ii(e);var r=Math.pow(10,n);var a=e/r;var i;if(t){if(a<1.5){i=1}else if(a<2.5){i=2}else if(a<4){i=3}else if(a<7){i=5}else{i=10}}else{if(a<1){i=1}else if(a<2){i=2}else if(a<3){i=3}else if(a<5){i=5}else{i=10}}e=i*r;return n>=-20?+e.toFixed(n<0?-n:0):e}function si(e,t){var n=(e.length-1)*t+1;var r=Math.floor(n);var a=+e[r-1];var i=n-r;return i?a+i*(e[r]-a):a}function ui(e){e.sort(function(e,t){return s(e,t,0)?-1:1});var t=-Infinity;var n=1;for(var r=0;r<e.length;){var a=e[r].interval;var i=e[r].close;for(var o=0;o<2;o++){if(a[o]<=t){a[o]=t;i[o]=!o?1-n:1}t=a[o];n=i[o]}if(a[0]===a[1]&&i[0]*i[1]!==1){e.splice(r,1)}else{r++}}return e;function s(e,t,n){return e.interval[n]<t.interval[n]||e.interval[n]===t.interval[n]&&(e.close[n]-t.close[n]===(!n?1:-1)||!n&&s(e,t,1))}}function li(e){var t=parseFloat(e);return t==e&&(t!==0||typeof e!=="string"||e.indexOf("x")<=0)?t:NaN}function pi(e){return!isNaN(li(e))}function ci(){return Math.round(Math.random()*9)}function di(e,t){if(t===0){return e}return di(t,e%t)}function gi(e,t){if(e==null){return t}if(t==null){return e}return e*t/di(e,t)}var mi="[ECharts] ";var bi={};var hi=typeof console!=="undefined"&&console.warn&&console.log;function fi(e){if(hi){console.warn(mi+e)}}function vi(e){if(hi){console.error(mi+e)}}function Oi(e){if("development"!=="production"){if(bi[e]){return}if(hi){bi[e]=true;console.warn(mi+"DEPRECATED: "+e)}}}function yi(e,t,n){if("development"!=="production"){Oi((n?"["+n+"]":"")+(e+" is deprecated, use "+t+" instead."))}}function xi(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if("development"!=="production"){if(typeof console!=="undefined"&&console.log){console.log.apply(console,e)}}}function Ii(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n="";if("development"!=="production"){var r=function(e){return e===void 0?"undefined":e===Infinity?"Infinity":e===-Infinity?"-Infinity":ye(e)?"NaN":e instanceof Date?"Date("+e.toISOString()+")":x(e)?"function () { ... }":Oe(e)?e+"":null};n=w(e,function(e){if(P(e)){return e}else{var t=r(e);if(t!=null){return t}else if(typeof JSON!=="undefined"&&JSON.stringify){try{return JSON.stringify(e,function(e,t){var n=r(t);return n==null?t:n})}catch(e){return"?"}}else{return"?"}}}).join(" ")}return n}function h(e){throw new Error(e)}var Si="series\0";var ji="\0_ec_\0";function _i(e){return e instanceof Array?e:e==null?[]:[e]}function Ai(e,t,n){if(e){e[t]=e[t]||{};e.emphasis=e.emphasis||{};e.emphasis[t]=e.emphasis[t]||{};for(var r=0,a=n.length;r<a;r++){var i=n[r];if(!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)){e.emphasis[t][i]=e[t][i]}}}}var Ti=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Ci(e){return E(e)&&!N(e)&&!(e instanceof Date)?e.value:e}function wi(e){return E(e)&&!(e instanceof Array)}function ki(e,n,t){var r=t==="normalMerge";var a=t==="replaceMerge";var i=t==="replaceAll";e=e||[];n=(n||[]).slice();var o=_();q(n,function(e,t){if(!E(e)){n[t]=null;return}if("development"!=="production"){if(e.id!=null&&!Ui(e.id)){Ri(e.id)}if(e.name!=null&&!Ui(e.name)){Ri(e.name)}}});var s=Ni(e,o,t);if(r||a){Pi(s,e,o,n)}if(r){Ei(s,n)}if(r||a){Li(s,n,a)}else if(i){Di(s,n)}Mi(s);return s}function Ni(e,t,n){var r=[];if(n==="replaceAll"){return r}for(var a=0;a<e.length;a++){var i=e[a];if(i&&i.id!=null){t.set(i.id,a)}r.push({existing:n==="replaceMerge"||Gi(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return r}function Pi(i,o,s,u){q(u,function(e,t){if(!e||e.id==null){return}var n=zi(e.id);var r=s.get(n);if(r!=null){var a=i[r];D(!a.newOption,'Duplicated option on id "'+n+'".');a.newOption=e;a.existing=o[r];u[t]=null}})}function Ei(a,i){q(i,function(e,t){if(!e||e.name==null){return}for(var n=0;n<a.length;n++){var r=a[n].existing;if(!a[n].newOption&&r&&(r.id==null||e.id==null)&&!Gi(e)&&!Gi(r)&&Bi("name",r,e)){a[n].newOption=e;i[t]=null;return}}})}function Li(r,e,a){q(e,function(e){if(!e){return}var t;var n=0;while((t=r[n])&&(t.newOption||Gi(t.existing)||t.existing&&e.id!=null&&!Bi("id",e,t.existing))){n++}if(t){t.newOption=e;t.brandNew=a}else{r.push({newOption:e,brandNew:a,existing:null,keyInfo:null})}n++})}function Di(t,e){q(e,function(e){t.push({newOption:e,brandNew:true,existing:null,keyInfo:null})})}function Mi(e){var o=_();q(e,function(e){var t=e.existing;t&&o.set(t.id,e)});q(e,function(e){var t=e.newOption;D(!t||t.id==null||!o.get(t.id)||o.get(t.id)===e,"id duplicates: "+(t&&t.id));t&&t.id!=null&&o.set(t.id,e);!e.keyInfo&&(e.keyInfo={})});q(e,function(e,t){var n=e.existing;var r=e.newOption;var a=e.keyInfo;if(!E(r)){return}a.name=r.name!=null?zi(r.name):n?n.name:Si+t;if(n){a.id=zi(n.id)}else if(r.id!=null){a.id=zi(r.id)}else{var i=0;do{a.id="\0"+a.name+"\0"+i++}while(o.get(a.id))}o.set(a.id,e)})}function Bi(e,t,n){var r=Vi(t[e],null);var a=Vi(n[e],null);return r!=null&&a!=null&&r===a}function zi(e){if("development"!=="production"){if(e==null){throw new Error}}return Vi(e,"")}function Vi(e,t){if(e==null){return t}var n=typeof e;return n==="string"?e:n==="number"||de(e)?e+"":t}function Ri(e){if("development"!=="production"){fi("`"+e+"` is invalid id or name. Must be a string or number.")}}function Ui(e){return de(e)||pi(e)}function Fi(e){var t=e.name;return!!(t&&t.indexOf(Si))}function Gi(e){return e&&e.id!=null&&zi(e.id).indexOf(ji)===0}function Hi(e){return ji+e}function qi(e,n,r){q(e,function(e){var t=e.newOption;if(E(t)){e.keyInfo.mainType=n;e.keyInfo.subType=Wi(n,t,e.existing,r)}})}function Wi(e,t,n,r){var a=t.type?t.type:n?n.subType:r.determineSubType(e,t);return a}function Xi(e,t){var n={};var r={};a(e||[],n);a(t||[],r,n);return[i(n),i(r)];function a(e,t,n){for(var r=0,a=e.length;r<a;r++){var i=Vi(e[r].seriesId,null);if(i==null){return}var o=_i(e[r].dataIndex);var s=n&&n[i];for(var u=0,l=o.length;u<l;u++){var p=o[u];if(s&&s[p]){s[p]=null}else{(t[i]||(t[i]={}))[p]=1}}}}function i(e,t){var n=[];for(var r in e){if(e.hasOwnProperty(r)&&e[r]!=null){if(t){n.push(+r)}else{var a=i(e[r],true);a.length&&n.push({seriesId:r,dataIndex:a})}}}return n}}function Yi(t,e){if(e.dataIndexInside!=null){return e.dataIndexInside}else if(e.dataIndex!=null){return N(e.dataIndex)?w(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex)}else if(e.name!=null){return N(e.name)?w(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name)}}function Ji(){var t="__ec_inner_"+Zi++;return function(e){return e[t]||(e[t]={})}}var Zi=ci();function $i(r,e,a){var t=Ki(e,a),n=t.mainTypeSpecified,i=t.queryOptionMap,o=t.others;var s=o;var u=a?a.defaultMainType:null;if(!n&&u){i.set(u,{})}i.each(function(e,t){var n=to(r,t,e,{useDefault:u===t,enableAll:a&&a.enableAll!=null?a.enableAll:true,enableNone:a&&a.enableNone!=null?a.enableNone:true});s[t+"Models"]=n.models;s[t+"Model"]=n.models[0]});return s}function Ki(e,o){var t;if(P(e)){var n={};n[e+"Index"]=0;t=n}else{t=e}var s=_();var u={};var l=false;q(t,function(e,t){if(t==="dataIndex"||t==="dataIndexInside"){u[t]=e;return}var n=t.match(/^(\w+)(Index|Id|Name)$/)||[];var r=n[1];var a=(n[2]||"").toLowerCase();if(!r||!a||o&&o.includeMainTypes&&C(o.includeMainTypes,r)<0){return}l=l||!!r;var i=s.get(r)||s.set(r,{});i[a]=e});return{mainTypeSpecified:l,queryOptionMap:s,others:u}}var Qi={useDefault:true,enableAll:false,enableNone:false};var eo={useDefault:false,enableAll:true,enableNone:true};function to(e,t,n,r){r=r||Qi;var a=n.index;var i=n.id;var o=n.name;var s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var u=void 0;s.models=r.useDefault&&(u=e.getComponent(t))?[u]:[];return s}if(a==="none"||a===false){D(r.enableNone,'`"none"` or `false` is not a valid value on index option.');s.models=[];return s}if(a==="all"){D(r.enableAll,'`"all"` is not a valid value on index option.');a=i=o=null}s.models=e.queryComponents({mainType:t,index:a,id:i,name:o});return s}function no(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function ro(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function ao(e){if(e==="auto"){return S.domSupported?"html":"richText"}else{return e||"html"}}function io(e,n){var r=_();var a=[];q(e,function(e){var t=n(e);(r.get(t)||(a.push(t),r.set(t,[]))).push(e)});return{keys:a,buckets:r}}function oo(e,t,n,r,a){var i=t==null||t==="auto";if(r==null){return r}if(typeof r==="number"){var o=Hn(n||0,r,a);return Wa(o,i?Math.max(Ya(n||0),Ya(r)):t)}else if(typeof r==="string"){return a<1?n:r}else{var s=[];var u=n;var l=r;var p=Math.max(u?u.length:0,l.length);for(var c=0;c<p;++c){var d=e.getDimensionInfo(c);if(d.type==="ordinal"){s[c]=(a<1&&u?u:l)[c]}else{var g=u&&u[c]?u[c]:0;var m=l[c];var o=Hn(g,m,a);s[c]=Wa(o,i?Math.max(Ya(g),Ya(m)):t)}}return s}}var so=".";var uo="___EC__COMPONENT__CONTAINER___";var lo="___EC__EXTENDED_CLASS___";function po(e){var t={main:"",sub:""};if(e){var n=e.split(so);t.main=n[0]||"";t.sub=n[1]||""}return t}function co(e){D(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function go(e){return!!(e&&e[lo])}function mo(e,t){e.$constructor=e;e.extend=function(r){if("development"!=="production"){q(t,function(e){if(!r[e]){console.warn("Method `"+e+"` should be implemented"+(r.type?" in "+r.type:"")+".")}})}var a=this;function i(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(!r.$constructor){if(!bo(a)){a.apply(this,arguments)}else{var n=Ne(i.prototype,new(a.bind.apply(a,o([void 0],e))));return n}}else{r.$constructor.apply(this,arguments)}}i[lo]=true;U(i.prototype,r);i.extend=this.extend;i.superCall=Oo;i.superApply=yo;ie(i,this);i.superClass=a;return i}}function bo(e){return typeof e==="function"&&/^class\s/.test(Function.prototype.toString.call(e))}function ho(e,t){e.extend=t.extend}var fo=Math.round(Math.random()*10);function vo(e){var t=["__\0is_clz",fo++].join("_");e.prototype[t]=true;if("development"!=="production"){D(!e.isInstance,'The method "is" can not be defined.')}e.isInstance=function(e){return!!(e&&e[t])}}function Oo(e,t){var n=[];for(var r=2;r<arguments.length;r++){n[r-2]=arguments[r]}return this.superClass.prototype[t].apply(e,n)}function yo(e,t,n){return this.superClass.prototype[t].apply(e,n)}function xo(e){var a={};e.registerClass=function(e){var t=e.type||e.prototype.type;if(t){co(t);e.prototype.type=t;var n=po(t);if(!n.sub){if("development"!=="production"){if(a[n.main]){console.warn(n.main+" exists.")}}a[n.main]=e}else if(n.sub!==uo){var r=i(n);r[n.sub]=e}}return e};e.getClass=function(e,t,n){var r=a[e];if(r&&r[uo]){r=t?r[t]:null}if(n&&!r){throw new Error(!t?e+"."+"type should be specified.":"Component "+e+"."+(t||"")+" is used but not imported.")}return r};e.getClassesByMainType=function(e){var t=po(e);var n=[];var r=a[t.main];if(r&&r[uo]){q(r,function(e,t){t!==uo&&n.push(e)})}else{n.push(r)}return n};e.hasClass=function(e){var t=po(e);return!!a[t.main]};e.getAllClassMainTypes=function(){var n=[];q(a,function(e,t){n.push(t)});return n};e.hasSubTypes=function(e){var t=po(e);var n=a[t.main];return n&&n[uo]};function i(e){var t=a[e.main];if(!t||!t[uo]){t=a[e.main]={};t[uo]=true}return t}}function Io(s,u){for(var e=0;e<s.length;e++){if(!s[e][1]){s[e][1]=s[e][0]}}u=u||false;return function(e,t,n){var r={};for(var a=0;a<s.length;a++){var i=s[a][1];if(t&&C(t,i)>=0||n&&C(n,i)<0){continue}var o=e.getShallow(i,u);if(o!=null){r[s[a][0]]=o}}return r}}var So=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]];var jo=Io(So);var _o=function(){function e(){}e.prototype.getAreaStyle=function(e,t){return jo(this,e,t)};return e}();var Ao=new mn(50);function To(e){if(typeof e==="string"){var t=Ao.get(e);return t&&t.image}else{return e}}function Co(e,t,n,r,a){if(!e){return t}else if(typeof e==="string"){if(t&&t.__zrImageSrc===e||!n){return t}var i=Ao.get(e);var o={hostEl:n,cb:r,cbPayload:a};if(i){t=i.image;!ko(t)&&i.pending.push(o)}else{t=new Image;t.onload=t.onerror=wo;Ao.put(e,t.__cachedImgObj={image:t,pending:[o]});t.src=t.__zrImageSrc=e}return t}else{return e}}function wo(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t];var r=n.cb;r&&r(this,n.cbPayload);n.hostEl.dirty()}e.pending.length=0}function ko(e){return e&&e.width&&e.height}var No=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Po(e,t,n,r,a){if(!t){return""}var i=(e+"").split("\n");a=Eo(t,n,r,a);for(var o=0,s=i.length;o<s;o++){i[o]=Lo(i[o],a)}return i.join("\n")}function Eo(e,t,n,r){r=r||{};var a=U({},r);a.font=t;n=L(n,"...");a.maxIterations=L(r.maxIterations,2);var i=a.minChar=L(r.minChar,0);a.cnCharWidth=ca("",t);var o=a.ascCharWidth=ca("a",t);a.placeholder=L(r.placeholder,"");var s=e=Math.max(0,e-1);for(var u=0;u<i&&s>=o;u++){s-=o}var l=ca(n,t);if(l>s){n="";l=0}s=e-l;a.ellipsis=n;a.ellipsisWidth=l;a.contentWidth=s;a.containerWidth=e;return a}function Lo(e,t){var n=t.containerWidth;var r=t.font;var a=t.contentWidth;if(!n){return""}var i=ca(e,r);if(i<=n){return e}for(var o=0;;o++){if(i<=a||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?Do(e,a,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*a/i):0;e=e.substr(0,s);i=ca(e,r)}if(e===""){e=t.placeholder}return e}function Do(e,t,n,r){var a=0;var i=0;for(var o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?n:r}return i}function Mo(e,t){e!=null&&(e+="");var n=t.overflow;var r=t.padding;var a=t.font;var i=n==="truncate";var o=ha(a);var s=L(t.lineHeight,o);var u=t.lineOverflow==="truncate";var l=t.width;var p;if(l!=null&&n==="break"||n==="breakAll"){p=e?qo(e,t.font,l,n==="breakAll",0).lines:[]}else{p=e?e.split("\n"):[]}var c=p.length*s;var d=L(t.height,c);if(c>d&&u){var g=Math.floor(d/s);p=p.slice(0,g)}var m=d;var b=l;if(r){m+=r[0]+r[2];if(b!=null){b+=r[1]+r[3]}}if(e&&i&&b!=null){var h=Eo(l,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder});for(var f=0;f<p.length;f++){p[f]=Lo(p[f],h)}}if(l==null){var v=0;for(var f=0;f<p.length;f++){v=Math.max(ca(p[f],a),v)}l=v}return{lines:p,height:d,outerHeight:m,lineHeight:s,calculatedLineHeight:o,contentHeight:c,width:l}}var Bo=function(){function e(){}return e}();var zo=function(){function e(e){this.tokens=[];if(e){this.tokens=e}}return e}();var Vo=function(){function e(){this.width=0;this.height=0;this.contentWidth=0;this.contentHeight=0;this.outerWidth=0;this.outerHeight=0;this.lines=[]}return e}();function Ro(e,t){var n=new Vo;e!=null&&(e+="");if(!e){return n}var r=t.width;var a=t.height;var i=t.overflow;var o=(i==="break"||i==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:i==="breakAll"}:null;var s=No.lastIndex=0;var u;while((u=No.exec(e))!=null){var l=u.index;if(l>s){Uo(n,e.substring(s,l),t,o)}Uo(n,u[2],t,o,u[1]);s=No.lastIndex}if(s<e.length){Uo(n,e.substring(s,e.length),t,o)}var p=[];var c=0;var d=0;var g=t.padding;var m=i==="truncate";var b=t.lineOverflow==="truncate";function h(e,t,n){e.width=t;e.lineHeight=n;c+=n;d=Math.max(d,t)}e:for(var f=0;f<n.lines.length;f++){var v=n.lines[f];var O=0;var y=0;for(var x=0;x<v.tokens.length;x++){var I=v.tokens[x];var S=I.styleName&&t.rich[I.styleName]||{};var j=I.textPadding=S.padding;var _=j?j[1]+j[3]:0;var A=I.font=S.font||t.font;I.contentHeight=ha(A);var T=L(S.height,I.contentHeight);I.innerHeight=T;j&&(T+=j[0]+j[2]);I.height=T;I.lineHeight=Ie(S.lineHeight,t.lineHeight,T);I.align=S&&S.align||t.align;I.verticalAlign=S&&S.verticalAlign||"middle";if(b&&a!=null&&c+I.lineHeight>a){if(x>0){v.tokens=v.tokens.slice(0,x);h(v,y,O);n.lines=n.lines.slice(0,f+1)}else{n.lines=n.lines.slice(0,f)}break e}var C=S.width;var w=C==null||C==="auto";if(typeof C==="string"&&C.charAt(C.length-1)==="%"){I.percentWidth=C;p.push(I);I.contentWidth=ca(I.text,A)}else{if(w){var k=S.backgroundColor;var N=k&&k.image;if(N){N=To(N);if(ko(N)){I.width=Math.max(I.width,N.width*T/N.height)}}}var P=m&&r!=null?r-y:null;if(P!=null&&P<I.width){if(!w||P<_){I.text="";I.width=I.contentWidth=0}else{I.text=Po(I.text,P-_,A,t.ellipsis,{minChar:t.truncateMinChar});I.width=I.contentWidth=ca(I.text,A)}}else{I.contentWidth=ca(I.text,A)}}I.width+=_;y+=I.width;S&&(O=Math.max(O,I.lineHeight))}h(v,y,O)}n.outerWidth=n.width=L(r,d);n.outerHeight=n.height=L(a,c);n.contentHeight=c;n.contentWidth=d;if(g){n.outerWidth+=g[1]+g[3];n.outerHeight+=g[0]+g[2]}for(var f=0;f<p.length;f++){var I=p[f];var E=I.percentWidth;I.width=parseInt(E,10)/100*n.width}return n}function Uo(e,t,n,r,a){var i=t==="";var o=a&&n.rich[a]||{};var s=e.lines;var u=o.font||n.font;var l=false;var p;var c;if(r){var d=o.padding;var g=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var m=fa(o.width,r.width)+g;if(s.length>0){if(m+r.accumWidth>r.width){p=t.split("\n");l=true}}r.accumWidth=m}else{var b=qo(t,u,r.width,r.breakAll,r.accumWidth);r.accumWidth=b.accumWidth+g;c=b.linesWidths;p=b.lines}}else{p=t.split("\n")}for(var h=0;h<p.length;h++){var f=p[h];var v=new Bo;v.styleName=a;v.text=f;v.isLineHolder=!f&&!i;if(typeof o.width==="number"){v.width=o.width}else{v.width=c?c[h]:ca(f,u)}if(!h&&!l){var O=(s[s.length-1]||(s[0]=new zo)).tokens;var y=O.length;y===1&&O[0].isLineHolder?O[0]=v:(f||!y||i)&&O.push(v)}else{s.push(new zo([v]))}}}function Fo(e){var t=e.charCodeAt(0);return t>=33&&t<=255}var Go=ue(",&?/;] ".split(""),function(e,t){e[t]=true;return e},{});function Ho(e){if(Fo(e)){if(Go[e]){return true}return false}return true}function qo(e,t,n,r,a){var i=[];var o=[];var s="";var u="";var l=0;var p=0;for(var c=0;c<e.length;c++){var d=e.charAt(c);if(d==="\n"){if(u){s+=u;p+=l}i.push(s);o.push(p);s="";u="";l=0;p=0;continue}var g=ca(d,t);var m=r?false:!Ho(d);if(!i.length?a+p+g>n:p+g>n){if(!p){if(m){i.push(u);o.push(l);u=d;l=g}else{i.push(d);o.push(g)}}else if(s||u){if(m){if(!s){s=u;u="";l=0;p=l}i.push(s);o.push(p-l);u+=d;l+=g;s="";p=l}else{if(u){s+=u;p+=l;u="";l=0}i.push(s);o.push(p);s=d;p=g}}continue}p+=g;if(m){u+=d;l+=g}else{if(u){s+=u;u="";l=0}s+=d}}if(!i.length&&!s){s=e;u="";l=0}if(u){s+=u}if(s){i.push(s);o.push(p)}if(i.length===1){p+=a}return{accumWidth:p,lines:i,linesWidths:o}}var Wo="__zr_style_"+Math.round(Math.random()*10);var Xo={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"};var Yo={style:{shadowBlur:true,shadowOffsetX:true,shadowOffsetY:true,shadowColor:true,opacity:true}};Xo[Wo]=true;var Jo=["z","z2","invisible"];var Zo=["invisible"];var $o=function(m){b(t,m);function t(e){return m.call(this,e)||this}t.prototype._init=function(e){var t=k(e);for(var n=0;n<t.length;n++){var r=t[n];if(r==="style"){this.useStyle(e[r])}else{m.prototype.attrKV.call(this,r,e[r])}}if(!this.style){this.useStyle({})}};t.prototype.beforeBrush=function(){};t.prototype.afterBrush=function(){};t.prototype.innerBeforeBrush=function(){};t.prototype.innerAfterBrush=function(){};t.prototype.shouldBePainted=function(e,t,n,r){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&es(this,e,t)||a&&!a[0]&&!a[3]){return false}if(n&&this.__clipPaths){for(var i=0;i<this.__clipPaths.length;++i){if(this.__clipPaths[i].isZeroArea()){return false}}}if(r&&this.parent){var o=this.parent;while(o){if(o.ignore){return false}o=o.parent}}return true};t.prototype.contain=function(e,t){return this.rectContain(e,t)};t.prototype.traverse=function(e,t){e.call(t,this)};t.prototype.rectContain=function(e,t){var n=this.transformCoordToLocal(e,t);var r=this.getBoundingRect();return r.contain(n[0],n[1])};t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var t=this.transform;var n=this.getBoundingRect();var r=this.style;var a=r.shadowBlur||0;var i=r.shadowOffsetX||0;var o=r.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new z(0,0,0,0));if(t){z.applyTransform(e,n,t)}else{e.copy(n)}if(a||i||o){e.width+=a*2+Math.abs(i);e.height+=a*2+Math.abs(o);e.x=Math.min(e.x,e.x+i-a);e.y=Math.min(e.y,e.y+o-a)}var s=this.dirtyRectTolerance;if(!e.isZero()){e.x=Math.floor(e.x-s);e.y=Math.floor(e.y-s);e.width=Math.ceil(e.width+1+s*2);e.height=Math.ceil(e.height+1+s*2)}}return e};t.prototype.setPrevPaintRect=function(e){if(e){this._prevPaintRect=this._prevPaintRect||new z(0,0,0,0);this._prevPaintRect.copy(e)}else{this._prevPaintRect=null}};t.prototype.getPrevPaintRect=function(){return this._prevPaintRect};t.prototype.animateStyle=function(e){return this.animate("style",e)};t.prototype.updateDuringAnimation=function(e){if(e==="style"){this.dirtyStyle()}else{this.markRedraw()}};t.prototype.attrKV=function(e,t){if(e!=="style"){m.prototype.attrKV.call(this,e,t)}else{if(!this.style){this.useStyle(t)}else{this.setStyle(t)}}};t.prototype.setStyle=function(e,t){if(typeof e==="string"){this.style[e]=t}else{U(this.style,e)}this.dirtyStyle();return this};t.prototype.dirtyStyle=function(e){if(!e){this.markRedraw()}this.__dirty|=tn;if(this._rect){this._rect=null}};t.prototype.dirty=function(){this.dirtyStyle()};t.prototype.styleChanged=function(){return!!(this.__dirty&tn)};t.prototype.styleUpdated=function(){this.__dirty&=~tn};t.prototype.createStyle=function(e){return Ne(Xo,e)};t.prototype.useStyle=function(e){if(!e[Wo]){e=this.createStyle(e)}if(this.__inHover){this.__hoverStyle=e}else{this.style=e}this.dirtyStyle()};t.prototype.isStyleObject=function(e){return e[Wo]};t.prototype._innerSaveToNormal=function(e){m.prototype._innerSaveToNormal.call(this,e);var t=this._normalState;if(e.style&&!t.style){t.style=this._mergeStyle(this.createStyle(),this.style)}this._savePrimaryToNormal(e,t,Jo)};t.prototype._applyStateObj=function(e,t,n,r,a,i){m.prototype._applyStateObj.call(this,e,t,n,r,a,i);var o=!(t&&r);var s;if(t&&t.style){if(a){if(r){s=t.style}else{s=this._mergeStyle(this.createStyle(),n.style);this._mergeStyle(s,t.style)}}else{s=this._mergeStyle(this.createStyle(),r?this.style:n.style);this._mergeStyle(s,t.style)}}else if(o){s=n.style}if(s){if(a){var u=this.style;this.style=this.createStyle(o?{}:u);if(o){var l=k(u);for(var p=0;p<l.length;p++){var c=l[p];if(c in s){s[c]=s[c];this.style[c]=u[c]}}}var d=k(s);for(var p=0;p<d.length;p++){var c=d[p];this.style[c]=this.style[c]}this._transitionState(e,{style:s},i,this.getAnimationStyleProps())}else{this.useStyle(s)}}var g=this.__inHover?Zo:Jo;for(var p=0;p<g.length;p++){var c=g[p];if(t&&t[c]!=null){this[c]=t[c]}else if(o){if(n[c]!=null){this[c]=n[c]}}}};t.prototype._mergeStates=function(e){var t=m.prototype._mergeStates.call(this,e);var n;for(var r=0;r<e.length;r++){var a=e[r];if(a.style){n=n||{};this._mergeStyle(n,a.style)}}if(n){t.style=n}return t};t.prototype._mergeStyle=function(e,t){U(e,t);return e};t.prototype.getAnimationStyleProps=function(){return Yo};t.initDefaultProps=function(){var e=t.prototype;e.type="displayable";e.invisible=false;e.z=0;e.z2=0;e.zlevel=0;e.culling=false;e.cursor="pointer";e.rectHover=false;e.incremental=false;e._rect=null;e.dirtyRectTolerance=0;e.__dirty=en|tn}();return t}(ja);var Ko=new z(0,0,0,0);var Qo=new z(0,0,0,0);function es(e,t,n){Ko.copy(e.getBoundingRect());if(e.transform){Ko.applyTransform(e.transform)}Qo.width=t;Qo.height=n;return!Ko.intersect(Qo)}var ts=Math.pow;var ns=Math.sqrt;var rs=1e-8;var as=1e-4;var is=ns(3);var os=1/3;var ss=Le();var us=Le();var ls=Le();function ps(e){return e>-rs&&e<rs}function cs(e){return e>rs||e<-rs}function ds(e,t,n,r,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*r+3*i*n)}function gs(e,t,n,r,a){var i=1-a;return 3*(((t-e)*i+2*(n-t)*a)*i+(r-n)*a*a)}function ms(e,t,n,r,a,i){var o=r+3*(t-n)-e;var s=3*(n-t*2+e);var u=3*(t-e);var l=e-a;var p=s*s-3*o*u;var c=s*u-9*o*l;var d=u*u-3*s*l;var g=0;if(ps(p)&&ps(c)){if(ps(s)){i[0]=0}else{var m=-u/s;if(m>=0&&m<=1){i[g++]=m}}}else{var b=c*c-4*p*d;if(ps(b)){var h=c/p;var m=-s/o+h;var f=-h/2;if(m>=0&&m<=1){i[g++]=m}if(f>=0&&f<=1){i[g++]=f}}else if(b>0){var v=ns(b);var O=p*s+1.5*o*(-c+v);var y=p*s+1.5*o*(-c-v);if(O<0){O=-ts(-O,os)}else{O=ts(O,os)}if(y<0){y=-ts(-y,os)}else{y=ts(y,os)}var m=(-s-(O+y))/(3*o);if(m>=0&&m<=1){i[g++]=m}}else{var x=(2*p*s-3*o*c)/(2*ns(p*p*p));var I=Math.acos(x)/3;var S=ns(p);var j=Math.cos(I);var m=(-s-2*S*j)/(3*o);var f=(-s+S*(j+is*Math.sin(I)))/(3*o);var _=(-s+S*(j-is*Math.sin(I)))/(3*o);if(m>=0&&m<=1){i[g++]=m}if(f>=0&&f<=1){i[g++]=f}if(_>=0&&_<=1){i[g++]=_}}}return g}function bs(e,t,n,r,a){var i=6*n-12*t+6*e;var o=9*t+3*r-3*e-9*n;var s=3*t-3*e;var u=0;if(ps(o)){if(cs(i)){var l=-s/i;if(l>=0&&l<=1){a[u++]=l}}}else{var p=i*i-4*o*s;if(ps(p)){a[0]=-i/(2*o)}else if(p>0){var c=ns(p);var l=(-i+c)/(2*o);var d=(-i-c)/(2*o);if(l>=0&&l<=1){a[u++]=l}if(d>=0&&d<=1){a[u++]=d}}}return u}function hs(e,t,n,r,a,i){var o=(t-e)*a+e;var s=(n-t)*a+t;var u=(r-n)*a+n;var l=(s-o)*a+o;var p=(u-s)*a+s;var c=(p-l)*a+l;i[0]=e;i[1]=o;i[2]=l;i[3]=c;i[4]=c;i[5]=p;i[6]=u;i[7]=r}function fs(e,t,n,r,a,i,o,s,u,l,p){var c;var d=.005;var g=Infinity;var m;var b;var h;var f;ss[0]=u;ss[1]=l;for(var v=0;v<1;v+=.05){us[0]=ds(e,n,a,o,v);us[1]=ds(t,r,i,s,v);h=Qe(ss,us);if(h<g){c=v;g=h}}g=Infinity;for(var O=0;O<32;O++){if(d<as){break}m=c-d;b=c+d;us[0]=ds(e,n,a,o,m);us[1]=ds(t,r,i,s,m);h=Qe(us,ss);if(m>=0&&h<g){c=m;g=h}else{ls[0]=ds(e,n,a,o,b);ls[1]=ds(t,r,i,s,b);f=Qe(ls,ss);if(b<=1&&f<g){c=b;g=f}else{d*=.5}}}if(p){p[0]=ds(e,n,a,o,c);p[1]=ds(t,r,i,s,c)}return ns(g)}function vs(e,t,n,r,a,i,o,s,u){var l=e;var p=t;var c=0;var d=1/u;for(var g=1;g<=u;g++){var m=g*d;var b=ds(e,n,a,o,m);var h=ds(t,r,i,s,m);var f=b-l;var v=h-p;c+=Math.sqrt(f*f+v*v);l=b;p=h}return c}function Os(e,t,n,r){var a=1-r;return a*(a*e+2*r*t)+r*r*n}function ys(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function xs(e,t,n,r,a){var i=e-2*t+n;var o=2*(t-e);var s=e-r;var u=0;if(ps(i)){if(cs(o)){var l=-s/o;if(l>=0&&l<=1){a[u++]=l}}}else{var p=o*o-4*i*s;if(ps(p)){var l=-o/(2*i);if(l>=0&&l<=1){a[u++]=l}}else if(p>0){var c=ns(p);var l=(-o+c)/(2*i);var d=(-o-c)/(2*i);if(l>=0&&l<=1){a[u++]=l}if(d>=0&&d<=1){a[u++]=d}}}return u}function Is(e,t,n){var r=e+n-2*t;if(r===0){return.5}else{return(e-t)/r}}function Ss(e,t,n,r,a){var i=(t-e)*r+e;var o=(n-t)*r+t;var s=(o-i)*r+i;a[0]=e;a[1]=i;a[2]=s;a[3]=s;a[4]=o;a[5]=n}function js(e,t,n,r,a,i,o,s,u){var l;var p=.005;var c=Infinity;ss[0]=o;ss[1]=s;for(var d=0;d<1;d+=.05){us[0]=Os(e,n,a,d);us[1]=Os(t,r,i,d);var g=Qe(ss,us);if(g<c){l=d;c=g}}c=Infinity;for(var m=0;m<32;m++){if(p<as){break}var b=l-p;var h=l+p;us[0]=Os(e,n,a,b);us[1]=Os(t,r,i,b);var g=Qe(us,ss);if(b>=0&&g<c){l=b;c=g}else{ls[0]=Os(e,n,a,h);ls[1]=Os(t,r,i,h);var f=Qe(ls,ss);if(h<=1&&f<c){l=h;c=f}else{p*=.5}}}if(u){u[0]=Os(e,n,a,l);u[1]=Os(t,r,i,l)}return ns(c)}function _s(e,t,n,r,a,i,o){var s=e;var u=t;var l=0;var p=1/o;for(var c=1;c<=o;c++){var d=c*p;var g=Os(e,n,a,d);var m=Os(t,r,i,d);var b=g-s;var h=m-u;l+=Math.sqrt(b*b+h*h);s=g;u=m}return l}var As=Math.min;var Ts=Math.max;var Cs=Math.sin;var ws=Math.cos;var ks=Math.PI*2;var Ns=Le();var Ps=Le();var Es=Le();function Ls(e,t,n){if(e.length===0){return}var r=e[0];var a=r[0];var i=r[0];var o=r[1];var s=r[1];for(var u=1;u<e.length;u++){r=e[u];a=As(a,r[0]);i=Ts(i,r[0]);o=As(o,r[1]);s=Ts(s,r[1])}t[0]=a;t[1]=o;n[0]=i;n[1]=s}function Ds(e,t,n,r,a,i){a[0]=As(e,n);a[1]=As(t,r);i[0]=Ts(e,n);i[1]=Ts(t,r)}var Ms=[];var Bs=[];function zs(e,t,n,r,a,i,o,s,u,l){var p=bs;var c=ds;var d=p(e,n,a,o,Ms);u[0]=Infinity;u[1]=Infinity;l[0]=-Infinity;l[1]=-Infinity;for(var g=0;g<d;g++){var m=c(e,n,a,o,Ms[g]);u[0]=As(m,u[0]);l[0]=Ts(m,l[0])}d=p(t,r,i,s,Bs);for(var g=0;g<d;g++){var b=c(t,r,i,s,Bs[g]);u[1]=As(b,u[1]);l[1]=Ts(b,l[1])}u[0]=As(e,u[0]);l[0]=Ts(e,l[0]);u[0]=As(o,u[0]);l[0]=Ts(o,l[0]);u[1]=As(t,u[1]);l[1]=Ts(t,l[1]);u[1]=As(s,u[1]);l[1]=Ts(s,l[1])}function Vs(e,t,n,r,a,i,o,s){var u=Is;var l=Os;var p=Ts(As(u(e,n,a),1),0);var c=Ts(As(u(t,r,i),1),0);var d=l(e,n,a,p);var g=l(t,r,i,c);o[0]=As(e,a,d);o[1]=As(t,i,g);s[0]=Ts(e,a,d);s[1]=Ts(t,i,g)}function Rs(e,t,n,r,a,i,o,s,u){var l=rt;var p=at;var c=Math.abs(a-i);if(c%ks<1e-4&&c>1e-4){s[0]=e-n;s[1]=t-r;u[0]=e+n;u[1]=t+r;return}Ns[0]=ws(a)*n+e;Ns[1]=Cs(a)*r+t;Ps[0]=ws(i)*n+e;Ps[1]=Cs(i)*r+t;l(s,Ns,Ps);p(u,Ns,Ps);a=a%ks;if(a<0){a=a+ks}i=i%ks;if(i<0){i=i+ks}if(a>i&&!o){i+=ks}else if(a<i&&o){a+=ks}if(o){var d=i;i=a;a=d}for(var g=0;g<i;g+=Math.PI/2){if(g>a){Es[0]=ws(g)*n+e;Es[1]=Cs(g)*r+t;l(s,Es,s);p(u,Es,u)}}}var Us={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var Fs=[];var Gs=[];var Hs=[];var qs=[];var Ws=[];var Xs=[];var Ys=Math.min;var Js=Math.max;var Zs=Math.cos;var $s=Math.sin;var Ks=Math.sqrt;var Qs=Math.abs;var eu=Math.PI;var tu=eu*2;var nu=typeof Float32Array!=="undefined";var ru=[];function au(e){var t=Math.round(e/eu*1e8)/1e8;return t%2*eu}function iu(e,t){var n=au(e[0]);if(n<0){n+=tu}var r=n-e[0];var a=e[1];a+=r;if(!t&&a-n>=tu){a=n+tu}else if(t&&n-a>=tu){a=n-tu}else if(!t&&n>a){a=n+(tu-au(n-a))}else if(t&&n<a){a=n-(tu-au(a-n))}e[0]=n;e[1]=a}var ou=function(){function t(e){this.dpr=1;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._len=0;if(e){this._saveData=false}if(this._saveData){this.data=[]}}t.prototype.increaseVersion=function(){this._version++};t.prototype.getVersion=function(){return this._version};t.prototype.setScale=function(e,t,n){n=n||0;if(n>0){this._ux=Qs(n/Cr/e)||0;this._uy=Qs(n/Cr/t)||0}};t.prototype.setDPR=function(e){this.dpr=e};t.prototype.setContext=function(e){this._ctx=e};t.prototype.getContext=function(){return this._ctx};t.prototype.beginPath=function(){this._ctx&&this._ctx.beginPath();this.reset();return this};t.prototype.reset=function(){if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}if(this._pathSegLen){this._pathSegLen=null;this._pathLen=0}this._version++};t.prototype.moveTo=function(e,t){this._drawPendingPt();this.addData(Us.M,e,t);this._ctx&&this._ctx.moveTo(e,t);this._x0=e;this._y0=t;this._xi=e;this._yi=t;return this};t.prototype.lineTo=function(e,t){var n=Qs(e-this._xi);var r=Qs(t-this._yi);var a=n>this._ux||r>this._uy;this.addData(Us.L,e,t);if(this._ctx&&a){this._needsDash?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)}if(a){this._xi=e;this._yi=t;this._pendingPtDist=0}else{var i=n*n+r*r;if(i>this._pendingPtDist){this._pendingPtX=e;this._pendingPtY=t;this._pendingPtDist=i}}return this};t.prototype.bezierCurveTo=function(e,t,n,r,a,i){this.addData(Us.C,e,t,n,r,a,i);if(this._ctx){this._needsDash?this._dashedBezierTo(e,t,n,r,a,i):this._ctx.bezierCurveTo(e,t,n,r,a,i)}this._xi=a;this._yi=i;return this};t.prototype.quadraticCurveTo=function(e,t,n,r){this.addData(Us.Q,e,t,n,r);if(this._ctx){this._needsDash?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)}this._xi=n;this._yi=r;return this};t.prototype.arc=function(e,t,n,r,a,i){ru[0]=r;ru[1]=a;iu(ru,i);r=ru[0];a=ru[1];var o=a-r;this.addData(Us.A,e,t,n,n,r,o,0,i?0:1);this._ctx&&this._ctx.arc(e,t,n,r,a,i);this._xi=Zs(a)*n+e;this._yi=$s(a)*n+t;return this};t.prototype.arcTo=function(e,t,n,r,a){if(this._ctx){this._ctx.arcTo(e,t,n,r,a)}return this};t.prototype.rect=function(e,t,n,r){this._ctx&&this._ctx.rect(e,t,n,r);this.addData(Us.R,e,t,n,r);return this};t.prototype.closePath=function(){this._drawPendingPt();this.addData(Us.Z);var e=this._ctx;var t=this._x0;var n=this._y0;if(e){this._needsDash&&this._dashedLineTo(t,n);e.closePath()}this._xi=t;this._yi=n;return this};t.prototype.fill=function(e){e&&e.fill();this.toStatic()};t.prototype.stroke=function(e){e&&e.stroke();this.toStatic()};t.prototype.setLineDash=function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var t=0;for(var n=0;n<e.length;n++){t+=e[n]}this._dashSum=t;this._needsDash=true}else{this._lineDash=null;this._needsDash=false}return this};t.prototype.setLineDashOffset=function(e){this._dashOffset=e;return this};t.prototype.len=function(){return this._len};t.prototype.setData=function(e){var t=e.length;if(!(this.data&&this.data.length===t)&&nu){this.data=new Float32Array(t)}for(var n=0;n<t;n++){this.data[n]=e[n]}this._len=t};t.prototype.appendPath=function(e){if(!(e instanceof Array)){e=[e]}var t=e.length;var n=0;var r=this._len;for(var a=0;a<t;a++){n+=e[a].len()}if(nu&&this.data instanceof Float32Array){this.data=new Float32Array(r+n)}for(var a=0;a<t;a++){var i=e[a].data;for(var o=0;o<i.length;o++){this.data[r++]=i[o]}}this._len=r};t.prototype.addData=function(e,t,n,r,a,i,o,s,u){if(!this._saveData){return}var l=this.data;if(this._len+arguments.length>l.length){this._expandData();l=this.data}for(var p=0;p<arguments.length;p++){l[this._len++]=arguments[p]}};t.prototype._drawPendingPt=function(){if(this._pendingPtDist>0){this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY);this._pendingPtDist=0}};t.prototype._expandData=function(){if(!(this.data instanceof Array)){var e=[];for(var t=0;t<this._len;t++){e[t]=this.data[t]}this.data=e}};t.prototype._dashedLineTo=function(e,t){var n=this._dashSum;var r=this._lineDash;var a=this._ctx;var i=this._dashOffset;var o=this._xi;var s=this._yi;var u=e-o;var l=t-s;var p=Ks(u*u+l*l);var c=o;var d=s;var g=r.length;var m;var b;u/=p;l/=p;if(i<0){i=n+i}i%=n;c-=i*u;d-=i*l;while(u>0&&c<=e||u<0&&c>=e||u===0&&(l>0&&d<=t||l<0&&d>=t)){b=this._dashIdx;m=r[b];c+=u*m;d+=l*m;this._dashIdx=(b+1)%g;if(u>0&&c<o||u<0&&c>o||l>0&&d<s||l<0&&d>s){continue}a[b%2?"moveTo":"lineTo"](u>=0?Ys(c,e):Js(c,e),l>=0?Ys(d,t):Js(d,t))}u=c-e;l=d-t;this._dashOffset=-Ks(u*u+l*l)};t.prototype._dashedBezierTo=function(e,t,n,r,a,i){var o=this._ctx;var s=this._dashSum;var u=this._dashOffset;var l=this._lineDash;var p=this._xi;var c=this._yi;var d=0;var g=this._dashIdx;var m=l.length;var b;var h;var f;var v;var O;var y=0;if(u<0){u=s+u}u%=s;for(b=0;b<1;b+=.1){h=ds(p,e,n,a,b+.1)-ds(p,e,n,a,b);f=ds(c,t,r,i,b+.1)-ds(c,t,r,i,b);d+=Ks(h*h+f*f)}for(;g<m;g++){y+=l[g];if(y>u){break}}b=(y-u)/d;while(b<=1){v=ds(p,e,n,a,b);O=ds(c,t,r,i,b);g%2?o.moveTo(v,O):o.lineTo(v,O);b+=l[g]/d;g=(g+1)%m}g%2!==0&&o.lineTo(a,i);h=a-v;f=i-O;this._dashOffset=-Ks(h*h+f*f)};t.prototype._dashedQuadraticTo=function(e,t,n,r){var a=n;var i=r;n=(n+2*e)/3;r=(r+2*t)/3;e=(this._xi+2*e)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(e,t,n,r,a,i)};t.prototype.toStatic=function(){if(!this._saveData){return}this._drawPendingPt();var e=this.data;if(e instanceof Array){e.length=this._len;if(nu&&this._len>11){this.data=new Float32Array(e)}}};t.prototype.getBoundingRect=function(){Hs[0]=Hs[1]=Ws[0]=Ws[1]=Number.MAX_VALUE;qs[0]=qs[1]=Xs[0]=Xs[1]=-Number.MAX_VALUE;var e=this.data;var t=0;var n=0;var r=0;var a=0;var i;for(i=0;i<this._len;){var o=e[i++];var s=i===1;if(s){t=e[i];n=e[i+1];r=t;a=n}switch(o){case Us.M:t=r=e[i++];n=a=e[i++];Ws[0]=r;Ws[1]=a;Xs[0]=r;Xs[1]=a;break;case Us.L:Ds(t,n,e[i],e[i+1],Ws,Xs);t=e[i++];n=e[i++];break;case Us.C:zs(t,n,e[i++],e[i++],e[i++],e[i++],e[i],e[i+1],Ws,Xs);t=e[i++];n=e[i++];break;case Us.Q:Vs(t,n,e[i++],e[i++],e[i],e[i+1],Ws,Xs);t=e[i++];n=e[i++];break;case Us.A:var u=e[i++];var l=e[i++];var p=e[i++];var c=e[i++];var d=e[i++];var g=e[i++]+d;i+=1;var m=!e[i++];if(s){r=Zs(d)*p+u;a=$s(d)*c+l}Rs(u,l,p,c,d,g,m,Ws,Xs);t=Zs(g)*p+u;n=$s(g)*c+l;break;case Us.R:r=t=e[i++];a=n=e[i++];var b=e[i++];var h=e[i++];Ds(r,a,r+b,a+h,Ws,Xs);break;case Us.Z:t=r;n=a;break}rt(Hs,Hs,Ws);at(qs,qs,Xs)}if(i===0){Hs[0]=Hs[1]=qs[0]=qs[1]=0}return new z(Hs[0],Hs[1],qs[0]-Hs[0],qs[1]-Hs[1])};t.prototype._calculateLength=function(){var e=this.data;var t=this._len;var n=this._ux;var r=this._uy;var a=0;var i=0;var o=0;var s=0;if(!this._pathSegLen){this._pathSegLen=[]}var u=this._pathSegLen;var l=0;var p=0;for(var c=0;c<t;){var d=e[c++];var g=c===1;if(g){a=e[c];i=e[c+1];o=a;s=i}var m=-1;switch(d){case Us.M:a=o=e[c++];i=s=e[c++];break;case Us.L:{var b=e[c++];var h=e[c++];var f=b-a;var v=h-i;if(Qs(f)>n||Qs(v)>r||c===t-1){m=Math.sqrt(f*f+v*v);a=b;i=h}break}case Us.C:{var O=e[c++];var y=e[c++];var b=e[c++];var h=e[c++];var x=e[c++];var I=e[c++];m=vs(a,i,O,y,b,h,x,I,10);a=x;i=I;break}case Us.Q:{var O=e[c++];var y=e[c++];var b=e[c++];var h=e[c++];m=_s(a,i,O,y,b,h,10);a=b;i=h;break}case Us.A:var S=e[c++];var j=e[c++];var _=e[c++];var A=e[c++];var T=e[c++];var C=e[c++];var w=C+T;c+=1;var k=!e[c++];if(g){o=Zs(T)*_+S;s=$s(T)*A+j}m=Js(_,A)*Ys(tu,Math.abs(C));a=Zs(w)*_+S;i=$s(w)*A+j;break;case Us.R:{o=a=e[c++];s=i=e[c++];var N=e[c++];var P=e[c++];m=N*2+P*2;break}case Us.Z:{var f=o-a;var v=s-i;m=Math.sqrt(f*f+v*v);a=o;i=s;break}}if(m>=0){u[p++]=m;l+=m}}this._pathLen=l;return l};t.prototype.rebuildPath=function(e,M){var t=this.data;var B=this._ux;var z=this._uy;var V=this._len;var n;var r;var a;var i;var o;var s;var u=M<1;var l;var R;var p=0;var c=0;var d;var g=0;var m;var b;if(u){if(!this._pathSegLen){this._calculateLength()}l=this._pathSegLen;R=this._pathLen;d=M*R;if(!d){return}}e:for(var h=0;h<V;){var U=t[h++];var F=h===1;if(F){a=t[h];i=t[h+1];n=a;r=i}switch(U){case Us.M:if(g>0){e.lineTo(m,b);g=0}n=a=t[h++];r=i=t[h++];e.moveTo(a,i);break;case Us.L:{o=t[h++];s=t[h++];var f=Qs(o-a);var v=Qs(s-i);if(f>B||v>z){if(u){var O=l[c++];if(p+O>d){var y=(d-p)/O;e.lineTo(a*(1-y)+o*y,i*(1-y)+s*y);break e}p+=O}e.lineTo(o,s);a=o;i=s;g=0}else{var G=f*f+v*v;if(G>g){m=o;b=s;g=G}}break}case Us.C:{var x=t[h++];var I=t[h++];var S=t[h++];var j=t[h++];var _=t[h++];var A=t[h++];if(u){var O=l[c++];if(p+O>d){var y=(d-p)/O;hs(a,x,S,_,y,Fs);hs(i,I,j,A,y,Gs);e.bezierCurveTo(Fs[1],Gs[1],Fs[2],Gs[2],Fs[3],Gs[3]);break e}p+=O}e.bezierCurveTo(x,I,S,j,_,A);a=_;i=A;break}case Us.Q:{var x=t[h++];var I=t[h++];var S=t[h++];var j=t[h++];if(u){var O=l[c++];if(p+O>d){var y=(d-p)/O;Ss(a,x,S,y,Fs);Ss(i,I,j,y,Gs);e.quadraticCurveTo(Fs[1],Gs[1],Fs[2],Gs[2]);break e}p+=O}e.quadraticCurveTo(x,I,S,j);a=S;i=j;break}case Us.A:var T=t[h++];var C=t[h++];var w=t[h++];var k=t[h++];var N=t[h++];var H=t[h++];var q=t[h++];var W=!t[h++];var X=w>k?w:k;var Y=Qs(w-k)>.001;var P=N+H;var J=false;if(u){var O=l[c++];if(p+O>d){P=N+H*(d-p)/O;J=true}p+=O}if(Y&&e.ellipse){e.ellipse(T,C,w,k,q,N,P,W)}else{e.arc(T,C,X,N,P,W)}if(J){break e}if(F){n=Zs(N)*w+T;r=$s(N)*k+C}a=Zs(P)*w+T;i=$s(P)*k+C;break;case Us.R:n=a=t[h];r=i=t[h+1];o=t[h++];s=t[h++];var E=t[h++];var L=t[h++];if(u){var O=l[c++];if(p+O>d){var D=d-p;e.moveTo(o,s);e.lineTo(o+Ys(D,E),s);D-=E;if(D>0){e.lineTo(o+E,s+Ys(D,L))}D-=L;if(D>0){e.lineTo(o+Js(E-D,0),s+L)}D-=E;if(D>0){e.lineTo(o,s+Js(L-D,0))}break e}p+=O}e.rect(o,s,E,L);break;case Us.Z:if(g>0){e.lineTo(m,b);g=0}if(u){var O=l[c++];if(p+O>d){var y=(d-p)/O;e.lineTo(a*(1-y)+n*y,i*(1-y)+r*y);break e}p+=O}e.closePath();a=n;i=r}}};t.CMD=Us;t.initDefaultProps=function(){var e=t.prototype;e._saveData=true;e._needsDash=false;e._dashOffset=0;e._dashIdx=0;e._dashSum=0;e._ux=0;e._uy=0;e._pendingPtDist=0;e._version=0}();return t}();function su(e,t,n,r,a,i,o){if(a===0){return false}var s=a;var u=0;var l=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s){return false}if(e!==n){u=(t-r)/(e-n);l=(e*r-n*t)/(e-n)}else{return Math.abs(i-e)<=s/2}var p=u*i-o+l;var c=p*p/(u*u+1);return c<=s/2*s/2}function uu(e,t,n,r,a,i,o,s,u,l,p){if(u===0){return false}var c=u;if(p>t+c&&p>r+c&&p>i+c&&p>s+c||p<t-c&&p<r-c&&p<i-c&&p<s-c||l>e+c&&l>n+c&&l>a+c&&l>o+c||l<e-c&&l<n-c&&l<a-c&&l<o-c){return false}var d=fs(e,t,n,r,a,i,o,s,l,p,null);return d<=c/2}function lu(e,t,n,r,a,i,o,s,u){if(o===0){return false}var l=o;if(u>t+l&&u>r+l&&u>i+l||u<t-l&&u<r-l&&u<i-l||s>e+l&&s>n+l&&s>a+l||s<e-l&&s<n-l&&s<a-l){return false}var p=js(e,t,n,r,a,i,s,u,null);return p<=l/2}var pu=Math.PI*2;function cu(e){e%=pu;if(e<0){e+=pu}return e}var du=Math.PI*2;function gu(e,t,n,r,a,i,o,s,u){if(o===0){return false}var l=o;s-=e;u-=t;var p=Math.sqrt(s*s+u*u);if(p-l>n||p+l<n){return false}if(Math.abs(r-a)%du<1e-4){return true}if(i){var c=r;r=cu(a);a=cu(c)}else{r=cu(r);a=cu(a)}if(r>a){a+=du}var d=Math.atan2(u,s);if(d<0){d+=du}return d>=r&&d<=a||d+du>=r&&d+du<=a}function mu(e,t,n,r,a,i){if(i>t&&i>r||i<t&&i<r){return 0}if(r===t){return 0}var o=(i-t)/(r-t);var s=r<t?1:-1;if(o===1||o===0){s=r<t?.5:-.5}var u=o*(n-e)+e;return u===a?Infinity:u>a?s:0}var bu=ou.CMD;var hu=Math.PI*2;var fu=1e-4;function vu(e,t){return Math.abs(e-t)<fu}var Ou=[-1,-1,-1];var yu=[-1,-1];function xu(){var e=yu[0];yu[0]=yu[1];yu[1]=e}function Iu(e,t,n,r,a,i,o,s,u,l){if(l>t&&l>r&&l>i&&l>s||l<t&&l<r&&l<i&&l<s){return 0}var p=ms(t,r,i,s,l,Ou);if(p===0){return 0}else{var c=0;var d=-1;var g=void 0;var m=void 0;for(var b=0;b<p;b++){var h=Ou[b];var f=h===0||h===1?.5:1;var v=ds(e,n,a,o,h);if(v<u){continue}if(d<0){d=bs(t,r,i,s,yu);if(yu[1]<yu[0]&&d>1){xu()}g=ds(t,r,i,s,yu[0]);if(d>1){m=ds(t,r,i,s,yu[1])}}if(d===2){if(h<yu[0]){c+=g<t?f:-f}else if(h<yu[1]){c+=m<g?f:-f}else{c+=s<m?f:-f}}else{if(h<yu[0]){c+=g<t?f:-f}else{c+=s<g?f:-f}}}return c}}function Su(e,t,n,r,a,i,o,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i){return 0}var u=xs(t,r,i,s,Ou);if(u===0){return 0}else{var l=Is(t,r,i);if(l>=0&&l<=1){var p=0;var c=Os(t,r,i,l);for(var d=0;d<u;d++){var g=Ou[d]===0||Ou[d]===1?.5:1;var m=Os(e,n,a,Ou[d]);if(m<o){continue}if(Ou[d]<l){p+=c<t?g:-g}else{p+=i<c?g:-g}}return p}else{var g=Ou[0]===0||Ou[0]===1?.5:1;var m=Os(e,n,a,Ou[0]);if(m<o){return 0}return i<t?g:-g}}}function ju(e,t,n,r,a,i,o,s){s-=t;if(s>n||s<-n){return 0}var u=Math.sqrt(n*n-s*s);Ou[0]=-u;Ou[1]=u;var l=Math.abs(r-a);if(l<1e-4){return 0}if(l>=hu-1e-4){r=0;a=hu;var p=i?1:-1;if(o>=Ou[0]+e&&o<=Ou[1]+e){return p}else{return 0}}if(r>a){var c=r;r=a;a=c}if(r<0){r+=hu;a+=hu}var d=0;for(var g=0;g<2;g++){var m=Ou[g];if(m+e>o){var b=Math.atan2(s,m);var p=i?1:-1;if(b<0){b=hu+b}if(b>=r&&b<=a||b+hu>=r&&b+hu<=a){if(b>Math.PI/2&&b<Math.PI*1.5){p=-p}d+=p}}}return d}function _u(e,t,n,r,a){var i=e.data;var o=e.len();var s=0;var u=0;var l=0;var p=0;var c=0;var d;var g;for(var m=0;m<o;){var b=i[m++];var h=m===1;if(b===bu.M&&m>1){if(!n){s+=mu(u,l,p,c,r,a)}}if(h){u=i[m];l=i[m+1];p=u;c=l}switch(b){case bu.M:p=i[m++];c=i[m++];u=p;l=c;break;case bu.L:if(n){if(su(u,l,i[m],i[m+1],t,r,a)){return true}}else{s+=mu(u,l,i[m],i[m+1],r,a)||0}u=i[m++];l=i[m++];break;case bu.C:if(n){if(uu(u,l,i[m++],i[m++],i[m++],i[m++],i[m],i[m+1],t,r,a)){return true}}else{s+=Iu(u,l,i[m++],i[m++],i[m++],i[m++],i[m],i[m+1],r,a)||0}u=i[m++];l=i[m++];break;case bu.Q:if(n){if(lu(u,l,i[m++],i[m++],i[m],i[m+1],t,r,a)){return true}}else{s+=Su(u,l,i[m++],i[m++],i[m],i[m+1],r,a)||0}u=i[m++];l=i[m++];break;case bu.A:var f=i[m++];var v=i[m++];var O=i[m++];var y=i[m++];var x=i[m++];var I=i[m++];m+=1;var S=!!(1-i[m++]);d=Math.cos(x)*O+f;g=Math.sin(x)*y+v;if(!h){s+=mu(u,l,d,g,r,a)}else{p=d;c=g}var j=(r-f)*y/O+f;if(n){if(gu(f,v,y,x,x+I,S,t,j,a)){return true}}else{s+=ju(f,v,y,x,x+I,S,j,a)}u=Math.cos(x+I)*O+f;l=Math.sin(x+I)*y+v;break;case bu.R:p=u=i[m++];c=l=i[m++];var _=i[m++];var A=i[m++];d=p+_;g=c+A;if(n){if(su(p,c,d,c,t,r,a)||su(d,c,d,g,t,r,a)||su(d,g,p,g,t,r,a)||su(p,g,p,c,t,r,a)){return true}}else{s+=mu(d,c,d,g,r,a);s+=mu(p,g,p,c,r,a)}break;case bu.Z:if(n){if(su(u,l,p,c,t,r,a)){return true}}else{s+=mu(u,l,p,c,r,a)}u=p;l=c;break}}if(!n&&!vu(l,c)){s+=mu(u,l,p,c,r,a)||0}return s!==0}function Au(e,t,n){return _u(e,0,false,t,n)}function Tu(e,t,n,r){return _u(e,t,true,n,r)}var Cu=M({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:false,strokeFirst:false},Xo);var wu={style:M({fill:true,stroke:true,strokePercent:true,fillOpacity:true,strokeOpacity:true,lineDashOffset:true,lineWidth:true,miterLimit:true},Yo.style)};var ku=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"];var v=function(d){b(o,d);function o(e){return d.call(this,e)||this}o.prototype.update=function(){var t=this;d.prototype.update.call(this);var e=this.style;if(e.decal){var n=this._decalEl=this._decalEl||new o;if(n.buildPath===o.prototype.buildPath){n.buildPath=function(e){t.buildPath(e,t.shape)}}n.silent=true;var r=n.style;for(var a in e){if(r[a]!==e[a]){r[a]=e[a]}}r.fill=e.fill?e.decal:null;r.decal=null;r.shadowColor=null;e.strokeFirst&&(r.stroke=null);for(var i=0;i<ku.length;++i){n[ku[i]]=this[ku[i]]}n.__dirty|=en}else if(this._decalEl){this._decalEl=null}};o.prototype.getDecalElement=function(){return this._decalEl};o.prototype._init=function(e){var t=k(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();if(n){this.useStyle(n)}for(var r=0;r<t.length;r++){var a=t[r];var i=e[a];if(a==="style"){if(!this.style){this.useStyle(i)}else{U(this.style,i)}}else if(a==="shape"){U(this.shape,i)}else{d.prototype.attrKV.call(this,a,i)}}if(!this.style){this.useStyle({})}};o.prototype.getDefaultStyle=function(){return null};o.prototype.getDefaultShape=function(){return{}};o.prototype.canBeInsideText=function(){return this.hasFill()};o.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(P(e)){var t=Rn(e,0);if(t>.5){return kr}else if(t>.2){return Pr}return Nr}else if(e){return Nr}}return kr};o.prototype.getInsideTextStroke=function(e){var t=this.style.fill;if(P(t)){var n=this.__zr;var r=!!(n&&n.isDarkMode());var a=Rn(e,0)<wr;if(r===a){return t}}};o.prototype.buildPath=function(e,t,n){};o.prototype.pathUpdated=function(){this.__dirty&=~nn};o.prototype.createPathProxy=function(){this.path=new ou(false)};o.prototype.hasStroke=function(){var e=this.style;var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))};o.prototype.hasFill=function(){var e=this.style;var t=e.fill;return t!=null&&t!=="none"};o.prototype.getBoundingRect=function(){var e=this._rect;var t=this.style;var n=!e;if(n){var r=false;if(!this.path){r=true;this.createPathProxy()}var a=this.path;if(r||this.__dirty&nn){a.beginPath();this.buildPath(a,this.shape,false);this.pathUpdated()}e=a.getBoundingRect()}this._rect=e;if(this.hasStroke()&&this.path&&this.path.len()>0){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){i.copy(e);var o=t.strokeNoScale?this.getLineScale():1;var s=t.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;s=Math.max(s,u==null?4:u)}if(o>1e-10){i.width+=s/o;i.height+=s/o;i.x-=s/o/2;i.y-=s/o/2}}return i}return e};o.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);var r=this.getBoundingRect();var a=this.style;e=n[0];t=n[1];if(r.contain(e,t)){var i=this.path;if(this.hasStroke()){var o=a.lineWidth;var s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10){if(!this.hasFill()){o=Math.max(o,this.strokeContainThreshold)}if(Tu(i,o/s,e,t)){return true}}}if(this.hasFill()){return Au(i,e,t)}}return false};o.prototype.dirtyShape=function(){this.__dirty|=nn;if(this._rect){this._rect=null}if(this._decalEl){this._decalEl.dirtyShape()}this.markRedraw()};o.prototype.dirty=function(){this.dirtyStyle();this.dirtyShape()};o.prototype.animateShape=function(e){return this.animate("shape",e)};o.prototype.updateDuringAnimation=function(e){if(e==="style"){this.dirtyStyle()}else if(e==="shape"){this.dirtyShape()}else{this.markRedraw()}};o.prototype.attrKV=function(e,t){if(e==="shape"){this.setShape(t)}else{d.prototype.attrKV.call(this,e,t)}};o.prototype.setShape=function(e,t){var n=this.shape;if(!n){n=this.shape={}}if(typeof e==="string"){n[e]=t}else{U(n,e)}this.dirtyShape();return this};o.prototype.shapeChanged=function(){return!!(this.__dirty&nn)};o.prototype.createStyle=function(e){return Ne(Cu,e)};o.prototype._innerSaveToNormal=function(e){d.prototype._innerSaveToNormal.call(this,e);var t=this._normalState;if(e.shape&&!t.shape){t.shape=U({},this.shape)}};o.prototype._applyStateObj=function(e,t,n,r,a,i){d.prototype._applyStateObj.call(this,e,t,n,r,a,i);var o=!(t&&r);var s;if(t&&t.shape){if(a){if(r){s=t.shape}else{s=U({},n.shape);U(s,t.shape)}}else{s=U({},r?this.shape:n.shape);U(s,t.shape)}}else if(o){s=n.shape}if(s){if(a){this.shape=U({},this.shape);var u={};var l=k(s);for(var p=0;p<l.length;p++){var c=l[p];if(typeof s[c]==="object"){this.shape[c]=s[c]}else{u[c]=s[c]}}this._transitionState(e,{shape:u},i)}else{this.shape=s;this.dirtyShape()}}};o.prototype._mergeStates=function(e){var t=d.prototype._mergeStates.call(this,e);var n;for(var r=0;r<e.length;r++){var a=e[r];if(a.shape){n=n||{};this._mergeStyle(n,a.shape)}}if(n){t.shape=n}return t};o.prototype.getAnimationStyleProps=function(){return wu};o.prototype.isZeroArea=function(){return false};o.extend=function(r){var e=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;r.init&&r.init.call(t,e);return t}e.prototype.getDefaultStyle=function(){return j(r.style)};e.prototype.getDefaultShape=function(){return j(r.shape)};return e}(o);for(var t in r){if(typeof r[t]==="function"){e.prototype[t]=r[t]}}return e};o.initDefaultProps=function(){var e=o.prototype;e.type="path";e.strokeContainThreshold=5;e.segmentIgnoreThreshold=0;e.subPixelOptimize=false;e.autoBatch=false;e.__dirty=en|tn|nn}();return o}($o);var Nu=M({strokeFirst:true,font:oa,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Cu);var Pu=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.hasStroke=function(){var e=this.style;var t=e.stroke;return t!=null&&t!=="none"&&e.lineWidth>0};t.prototype.hasFill=function(){var e=this.style;var t=e.fill;return t!=null&&t!=="none"};t.prototype.createStyle=function(e){return Ne(Nu,e)};t.prototype.setBoundingRect=function(e){this._rect=e};t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var t=e.text;t!=null?t+="":t="";var n=ga(t,e.font,e.textAlign,e.textBaseline);n.x+=e.x||0;n.y+=e.y||0;if(this.hasStroke()){var r=e.lineWidth;n.x-=r/2;n.y-=r/2;n.width+=r;n.height+=r}this._rect=n}return this._rect};t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}();return t}($o);Pu.prototype.type="tspan";var Eu=M({x:0,y:0},Xo);var Lu={style:M({x:true,y:true,width:true,height:true,sx:true,sy:true,sWidth:true,sHeight:true},Yo.style)};function Du(e){return!!(e&&typeof e!=="string"&&e.width&&e.height)}var Mu=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.createStyle=function(e){return Ne(Eu,e)};t.prototype._getSize=function(e){var t=this.style;var n=t[e];if(n!=null){return n}var r=Du(t.image)?t.image:this.__image;if(!r){return 0}var a=e==="width"?"height":"width";var i=t[a];if(i==null){return r[e]}else{return r[e]/r[a]*i}};t.prototype.getWidth=function(){return this._getSize("width")};t.prototype.getHeight=function(){return this._getSize("height")};t.prototype.getAnimationStyleProps=function(){return Lu};t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){this._rect=new z(e.x||0,e.y||0,this.getWidth(),this.getHeight())}return this._rect};return t}($o);Mu.prototype.type="image";function Bu(e,t){var n=t.x;var r=t.y;var a=t.width;var i=t.height;var o=t.r;var s;var u;var l;var p;if(a<0){n=n+a;a=-a}if(i<0){r=r+i;i=-i}if(typeof o==="number"){s=u=l=p=o}else if(o instanceof Array){if(o.length===1){s=u=l=p=o[0]}else if(o.length===2){s=l=o[0];u=p=o[1]}else if(o.length===3){s=o[0];u=p=o[1];l=o[2]}else{s=o[0];u=o[1];l=o[2];p=o[3]}}else{s=u=l=p=0}var c;if(s+u>a){c=s+u;s*=a/c;u*=a/c}if(l+p>a){c=l+p;l*=a/c;p*=a/c}if(u+l>i){c=u+l;u*=i/c;l*=i/c}if(s+p>i){c=s+p;s*=i/c;p*=i/c}e.moveTo(n+s,r);e.lineTo(n+a-u,r);u!==0&&e.arc(n+a-u,r+u,u,-Math.PI/2,0);e.lineTo(n+a,r+i-l);l!==0&&e.arc(n+a-l,r+i-l,l,0,Math.PI/2);e.lineTo(n+p,r+i);p!==0&&e.arc(n+p,r+i-p,p,Math.PI/2,Math.PI);e.lineTo(n,r+s);s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var zu=Math.round;function Vu(e,t,n){if(!t){return}var r=t.x1;var a=t.x2;var i=t.y1;var o=t.y2;e.x1=r;e.x2=a;e.y1=i;e.y2=o;var s=n&&n.lineWidth;if(!s){return e}if(zu(r*2)===zu(a*2)){e.x1=e.x2=Uu(r,s,true)}if(zu(i*2)===zu(o*2)){e.y1=e.y2=Uu(i,s,true)}return e}function Ru(e,t,n){if(!t){return}var r=t.x;var a=t.y;var i=t.width;var o=t.height;e.x=r;e.y=a;e.width=i;e.height=o;var s=n&&n.lineWidth;if(!s){return e}e.x=Uu(r,s,true);e.y=Uu(a,s,true);e.width=Math.max(Uu(r+i,s,false)-e.x,i===0?0:1);e.height=Math.max(Uu(a+o,s,false)-e.y,o===0?0:1);return e}function Uu(e,t,n){if(!t){return e}var r=zu(e*2);return(r+zu(t))%2===0?r/2:(r+(n?1:-1))/2}var Fu=function(){function e(){this.x=0;this.y=0;this.width=0;this.height=0}return e}();var Gu={};var R=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Fu};e.prototype.buildPath=function(e,t){var n;var r;var a;var i;if(this.subPixelOptimize){var o=Ru(Gu,t,this.style);n=o.x;r=o.y;a=o.width;i=o.height;o.r=t.r;t=o}else{n=t.x;r=t.y;a=t.width;i=t.height}if(!t.r){e.rect(n,r,a,i)}else{Bu(e,t)}};e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height};return e}(v);R.prototype.type="rect";var Hu={fill:"#000"};var qu=2;var Wu={style:M({fill:true,stroke:true,fillOpacity:true,strokeOpacity:true,lineWidth:true,fontSize:true,lineHeight:true,width:true,height:true,textShadowColor:true,textShadowBlur:true,textShadowOffsetX:true,textShadowOffsetY:true,backgroundColor:true,padding:true,borderColor:true,borderWidth:true,borderRadius:true},Yo.style)};var G=function(a){b(e,a);function e(e){var t=a.call(this)||this;t.type="text";t._children=[];t._defaultStyle=Hu;t.attr(e);return t}e.prototype.childrenRef=function(){return this._children};e.prototype.update=function(){if(this.styleChanged()){this._updateSubTexts()}for(var e=0;e<this._children.length;e++){var t=this._children[e];t.zlevel=this.zlevel;t.z=this.z;t.z2=this.z2;t.culling=this.culling;t.cursor=this.cursor;t.invisible=this.invisible}var n=this.attachedTransform;if(n){n.updateTransform();var r=n.transform;if(r){this.transform=this.transform||[];Dr(this.transform,r)}else{this.transform=null}}else{a.prototype.update.call(this)}};e.prototype.getComputedTransform=function(){if(this.__hostTarget){this.__hostTarget.getComputedTransform();this.__hostTarget.updateInnerText(true)}return this.attachedTransform?this.attachedTransform.getComputedTransform():a.prototype.getComputedTransform.call(this)};e.prototype._updateSubTexts=function(){this._childCursor=0;Ju(this.style);this.style.rich?this._updateRichTexts():this._updatePlainTexts();this._children.length=this._childCursor;this.styleUpdated()};e.prototype.addSelfToZr=function(e){a.prototype.addSelfToZr.call(this,e);for(var t=0;t<this._children.length;t++){this._children[t].__zr=e}};e.prototype.removeSelfFromZr=function(e){a.prototype.removeSelfFromZr.call(this,e);for(var t=0;t<this._children.length;t++){this._children[t].__zr=null}};e.prototype.getBoundingRect=function(){if(this.styleChanged()){this._updateSubTexts()}if(!this._rect){var e=new z(0,0,0,0);var t=this._children;var n=[];var r=null;for(var a=0;a<t.length;a++){var i=t[a];var o=i.getBoundingRect();var s=i.getLocalTransform(n);if(s){e.copy(o);e.applyTransform(s);r=r||e.clone();r.union(e)}else{r=r||o.clone();r.union(o)}}this._rect=r||e}return this._rect};e.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Hu};e.prototype.setTextContent=function(e){throw new Error("Can't attach text on another text")};e.prototype._mergeStyle=function(e,t){if(!t){return e}var n=t.rich;var r=e.rich||n&&{};U(e,t);if(n&&r){this._mergeRich(r,n);e.rich=r}else if(r){e.rich=r}return e};e.prototype._mergeRich=function(e,t){var n=k(t);for(var r=0;r<n.length;r++){var a=n[r];e[a]=e[a]||{};U(e[a],t[a])}};e.prototype.getAnimationStyleProps=function(){return Wu};e.prototype._getOrCreateChild=function(e){var t=this._children[this._childCursor];if(!t||!(t instanceof e)){t=new e}this._children[this._childCursor++]=t;t.__zr=this.__zr;t.parent=this;return t};e.prototype._updatePlainTexts=function(){var e=this.style;var t=e.font||oa;var n=e.padding;var r=el(e);var a=Mo(r,e);var i=tl(e);var o=!!e.backgroundColor;var s=a.outerHeight;var u=a.lines;var l=a.lineHeight;var p=this._defaultStyle;var c=e.x||0;var d=e.y||0;var g=e.align||p.align||"left";var m=e.verticalAlign||p.verticalAlign||"top";var b=c;var h=ba(d,a.contentHeight,m);if(i||n){var f=a.width;n&&(f+=n[1]+n[3]);var v=ma(c,f,g);var O=ba(d,s,m);i&&this._renderBackground(e,e,v,O,f,s)}h+=l/2;if(n){b=Qu(c,g,n);if(m==="top"){h+=n[0]}else if(m==="bottom"){h-=n[2]}}var y=0;var x=false;var I=Ku("fill"in e?e.fill:(x=true,p.fill));var S=$u("stroke"in e?e.stroke:!o&&(!p.autoStroke||x)?(y=qu,p.stroke):null);var j=e.textShadowBlur>0;var _=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll");var A=a.calculatedLineHeight;for(var T=0;T<u.length;T++){var C=this._getOrCreateChild(Pu);var w=C.createStyle();C.useStyle(w);w.text=u[T];w.x=b;w.y=h;if(g){w.textAlign=g}w.textBaseline="middle";w.opacity=e.opacity;w.strokeFirst=true;if(j){w.shadowBlur=e.textShadowBlur||0;w.shadowColor=e.textShadowColor||"transparent";w.shadowOffsetX=e.textShadowOffsetX||0;w.shadowOffsetY=e.textShadowOffsetY||0}if(S){w.stroke=S;w.lineWidth=e.lineWidth||y;w.lineDash=e.lineDash;w.lineDashOffset=e.lineDashOffset||0}if(I){w.fill=I}w.font=t;h+=l;if(_){C.setBoundingRect(new z(ma(w.x,e.width,w.textAlign),ba(w.y,A,w.textBaseline),e.width,A))}}};e.prototype._updateRichTexts=function(){var e=this.style;var t=el(e);var n=Ro(t,e);var r=n.width;var a=n.outerWidth;var i=n.outerHeight;var o=e.padding;var s=e.x||0;var u=e.y||0;var l=this._defaultStyle;var p=e.align||l.align;var c=e.verticalAlign||l.verticalAlign;var d=ma(s,a,p);var g=ba(u,i,c);var m=d;var b=g;if(o){m+=o[3];b+=o[0]}var h=m+r;if(tl(e)){this._renderBackground(e,e,d,g,a,i)}var f=!!e.backgroundColor;for(var v=0;v<n.lines.length;v++){var O=n.lines[v];var y=O.tokens;var x=y.length;var I=O.lineHeight;var S=O.width;var j=0;var _=m;var A=h;var T=x-1;var C=void 0;while(j<x&&(C=y[j],!C.align||C.align==="left")){this._placeToken(C,e,I,b,_,"left",f);S-=C.width;_+=C.width;j++}while(T>=0&&(C=y[T],C.align==="right")){this._placeToken(C,e,I,b,A,"right",f);S-=C.width;A-=C.width;T--}_+=(r-(_-m)-(h-A)-S)/2;while(j<=T){C=y[j];this._placeToken(C,e,I,b,_+C.width/2,"center",f);_+=C.width;j++}b+=I}};e.prototype._placeToken=function(e,t,n,r,a,i,o){var s=t.rich[e.styleName]||{};s.text=e.text;var u=e.verticalAlign;var l=r+n/2;if(u==="top"){l=r+e.height/2}else if(u==="bottom"){l=r+n-e.height/2}var p=!e.isLineHolder&&tl(s);p&&this._renderBackground(s,t,i==="right"?a-e.width:i==="center"?a-e.width/2:a,l-e.height/2,e.width,e.height);var c=!!s.backgroundColor;var d=e.textPadding;if(d){a=Qu(a,i,d);l-=e.height/2-d[0]-e.innerHeight/2}var g=this._getOrCreateChild(Pu);var m=g.createStyle();g.useStyle(m);var b=this._defaultStyle;var h=false;var f=0;var v=$u("fill"in s?s.fill:"fill"in t?t.fill:(h=true,b.fill));var O=$u("stroke"in s?s.stroke:"stroke"in t?t.stroke:!c&&!o&&(!b.autoStroke||h)?(f=qu,b.stroke):null);var y=s.textShadowBlur>0||t.textShadowBlur>0;m.text=e.text;m.x=a;m.y=l;if(y){m.shadowBlur=s.textShadowBlur||t.textShadowBlur||0;m.shadowColor=s.textShadowColor||t.textShadowColor||"transparent";m.shadowOffsetX=s.textShadowOffsetX||t.textShadowOffsetX||0;m.shadowOffsetY=s.textShadowOffsetY||t.textShadowOffsetY||0}m.textAlign=i;m.textBaseline="middle";m.font=e.font||oa;m.opacity=Ie(s.opacity,t.opacity,1);if(O){m.lineWidth=Ie(s.lineWidth,t.lineWidth,f);m.lineDash=L(s.lineDash,t.lineDash);m.lineDashOffset=t.lineDashOffset||0;m.stroke=O}if(v){m.fill=v}var x=e.contentWidth;var I=e.contentHeight;g.setBoundingRect(new z(ma(m.x,x,m.textAlign),ba(m.y,I,m.textBaseline),x,I))};e.prototype._renderBackground=function(e,t,n,r,a,i){var o=e.backgroundColor;var s=e.borderWidth;var u=e.borderColor;var l=o&&o.image;var p=o&&!l;var c=e.borderRadius;var d=this;var g;var m;if(p||s&&u){g=this._getOrCreateChild(R);g.useStyle(g.createStyle());g.style.fill=null;var b=g.shape;b.x=n;b.y=r;b.width=a;b.height=i;b.r=c;g.dirtyShape()}if(p){var h=g.style;h.fill=o||null;h.fillOpacity=L(e.fillOpacity,1)}else if(l){m=this._getOrCreateChild(Mu);m.onload=function(){d.dirtyStyle()};var f=m.style;f.image=o.image;f.x=n;f.y=r;f.width=a;f.height=i}if(s&&u){var h=g.style;h.lineWidth=s;h.stroke=u;h.strokeOpacity=L(e.strokeOpacity,1);h.lineDash=e.borderDash;h.lineDashOffset=e.borderDashOffset||0;g.strokeContainThreshold=0;if(g.hasFill()&&g.hasStroke()){h.strokeFirst=true;h.lineWidth*=2}}var v=(g||m).style;v.shadowBlur=e.shadowBlur||0;v.shadowColor=e.shadowColor||"transparent";v.shadowOffsetX=e.shadowOffsetX||0;v.shadowOffsetY=e.shadowOffsetY||0;v.opacity=Ie(e.opacity,t.opacity,1)};e.makeFont=function(e){var t="";if(e.fontSize||e.fontFamily||e.fontWeight){var n="";if(typeof e.fontSize==="string"&&(e.fontSize.indexOf("px")!==-1||e.fontSize.indexOf("rem")!==-1||e.fontSize.indexOf("em")!==-1)){n=e.fontSize}else if(!isNaN(+e.fontSize)){n=e.fontSize+"px"}else{n="12px"}t=[e.fontStyle,e.fontWeight,n,e.fontFamily||"sans-serif"].join(" ")}return t&&_e(t)||e.textFont||e.font};return e}($o);var Xu={left:true,right:1,center:1};var Yu={top:1,bottom:1,middle:1};function Ju(e){Zu(e);q(e.rich,Zu);return e}function Zu(e){if(e){e.font=G.makeFont(e);var t=e.align;t==="middle"&&(t="center");e.align=t==null||Xu[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle");e.verticalAlign=n==null||Yu[n]?n:"top";var r=e.padding;if(r){e.padding=je(e.padding)}}}function $u(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function Ku(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Qu(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function el(e){var t=e.text;t!=null&&(t+="");return t}function tl(e){return!!(e.backgroundColor||e.borderWidth&&e.borderColor)}var H=Ji();var nl=1;var rl={};var al=Ji();var il=0;var ol=1;var sl=2;var ul=["emphasis","blur","select"];var ll=["normal","emphasis","blur","select"];var pl=10;var cl=9;var dl="highlight";var gl="downplay";var ml="select";var bl="unselect";var hl="toggleSelect";function fl(e){return e!=null&&e!=="none"}var vl=new mn(100);function Ol(e){if(typeof e!=="string"){return e}var t=vl.get(e);if(!t){t=Nn(e,-.1);vl.put(e,t)}return t}function yl(e,t,n){if(e.onHoverStateChange&&(e.hoverState||0)!==n){e.onHoverStateChange(t)}e.hoverState=n}function xl(e){yl(e,"emphasis",sl)}function Il(e){if(e.hoverState===sl){yl(e,"normal",il)}}function Sl(e){yl(e,"blur",ol)}function jl(e){if(e.hoverState===ol){yl(e,"normal",il)}}function _l(e){e.selected=true}function Al(e){e.selected=false}function Tl(e,t,n){t(e,n)}function Cl(e,t,n){Tl(e,t,n);e.isGroup&&e.traverse(function(e){Tl(e,t,n)})}function wl(e,t){switch(t){case"emphasis":e.hoverState=sl;break;case"normal":e.hoverState=il;break;case"blur":e.hoverState=ol;break;case"select":e.selected=true}}function kl(e,t,n,r){var a=e.style;var i={};for(var o=0;o<t.length;o++){var s=t[o];var u=a[s];i[s]=u==null?r&&r[s]:u}for(var o=0;o<e.animators.length;o++){var l=e.animators[o];if(l.__fromStateTransition&&l.__fromStateTransition.indexOf(n)<0&&l.targetName==="style"){l.saveFinalToTarget(i,t)}}return i}function Nl(e,t,n,r){var a=n&&C(n,"select")>=0;var i=false;if(e instanceof v){var o=al(e);var s=a?o.selectFill||o.normalFill:o.normalFill;var u=a?o.selectStroke||o.normalStroke:o.normalStroke;if(fl(s)||fl(u)){r=r||{};var l=r.style||{};if(!fl(l.fill)&&fl(s)){i=true;r=U({},r);l=U({},l);l.fill=Ol(s)}else if(!fl(l.stroke)&&fl(u)){if(!i){r=U({},r);l=U({},l)}l.stroke=Ol(u)}r.style=l}}if(r){if(r.z2==null){if(!i){r=U({},r)}var p=e.z2EmphasisLift;r.z2=e.z2+(p!=null?p:pl)}}return r}function Pl(e,t,n){if(n){if(n.z2==null){n=U({},n);var r=e.z2SelectLift;n.z2=e.z2+(r!=null?r:cl)}}return n}function El(e,t,n){var r=C(e.currentStates,t)>=0;var a=e.style.opacity;var i=!r?kl(e,["opacity"],t,{opacity:1}):null;n=n||{};var o=n.style||{};if(o.opacity==null){n=U({},n);o=U({opacity:r?a:i.opacity*.1},o);n.style=o}return n}function Ll(e,t){var n=this.states[e];if(this.style){if(e==="emphasis"){return Nl(this,e,t,n)}else if(e==="blur"){return El(this,e,n)}else if(e==="select"){return Pl(this,e,n)}}return n}function Dl(e){e.stateProxy=Ll;var t=e.getTextContent();var n=e.getTextGuideLine();if(t){t.stateProxy=Ll}if(n){n.stateProxy=Ll}}function Ml(e,t){!Hl(e,t)&&!e.__highByOuter&&Cl(e,xl)}function Bl(e,t){!Hl(e,t)&&!e.__highByOuter&&Cl(e,Il)}function zl(e,t){e.__highByOuter|=1<<(t||0);Cl(e,xl)}function Vl(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Cl(e,Il)}function Rl(e){Cl(e,Sl)}function Ul(e){Cl(e,jl)}function Fl(e){Cl(e,_l)}function Gl(e){Cl(e,Al)}function Hl(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function ql(r){var e=r.getModel();e.eachComponent(function(e,t){var n=e==="series"?r.getViewOfSeriesModel(t):r.getViewOfComponentModel(t);n.group.traverse(function(e){jl(e)})})}function Wl(e,s,u,l){var r=l.getModel();u=u||"coordinateSystem";function p(e,t){for(var n=0;n<t.length;n++){var r=e.getItemGraphicEl(t[n]);r&&Ul(r)}}if(e==null){return}if(!s||s==="none"){return}var c=r.getSeriesByIndex(e);var d=c.coordinateSystem;if(d&&d.master){d=d.master}var g=[];r.eachSeries(function(e){var t=c===e;var n=e.coordinateSystem;if(n&&n.master){n=n.master}var r=n&&d?n===d:t;if(!(u==="series"&&!t||u==="coordinateSystem"&&!r||s==="series"&&t)){var a=l.getViewOfSeriesModel(e);a.group.traverse(function(e){Sl(e)});if(se(s)){p(e.getData(),s)}else if(E(s)){var i=k(s);for(var o=0;o<i.length;o++){p(e.getData(i[o]),s[i[o]])}}g.push(e)}});r.eachComponent(function(e,t){if(e==="series"){return}var n=l.getViewOfComponentModel(t);if(n&&n.blurSeries){n.blurSeries(g,r)}})}function Xl(e,t,n){if(e==null||t==null){return}var r=n.getModel().getComponent(e,t);if(!r){return}var a=n.getViewOfComponentModel(r);if(!a||!a.focusBlurEnabled){return}a.group.traverse(function(e){Sl(e)})}function Yl(e,t,n){var r=e.seriesIndex;var a=e.getData(t.dataType);var i=Yi(a,t);i=(N(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o){var s=a.count();var u=0;while(!o&&u<s){o=a.getItemGraphicEl(u++)}}if(o){var l=H(o);Wl(r,l.focus,l.blurScope,n)}else{var p=e.get(["emphasis","focus"]);var c=e.get(["emphasis","blurScope"]);if(p!=null){Wl(r,p,c,n)}}}function Jl(e,t,n,r){var a={focusSelf:false,dispatchers:null};if(e==null||e==="series"||t==null||n==null){return a}var i=r.getModel().getComponent(e,t);if(!i){return a}var o=r.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers){return a}var s=o.findHighDownDispatchers(n);var u;for(var l=0;l<s.length;l++){if("development"!=="production"&&!sp(s[l])){vi("param should be highDownDispatcher")}if(H(s[l]).focus==="self"){u=true;break}}return{focusSelf:u,dispatchers:s}}function Zl(e,t,n){if("development"!=="production"&&!sp(e)){vi("param should be highDownDispatcher")}var r=H(e);var a=Jl(r.componentMainType,r.componentIndex,r.componentHighDownName,n),i=a.dispatchers,o=a.focusSelf;if(i){if(o){Xl(r.componentMainType,r.componentIndex,n)}q(i,function(e){return Ml(e,t)})}else{Wl(r.seriesIndex,r.focus,r.blurScope,n);if(r.focus==="self"){Xl(r.componentMainType,r.componentIndex,n)}Ml(e,t)}}function $l(e,t,n){if("development"!=="production"&&!sp(e)){vi("param should be highDownDispatcher")}ql(n);var r=H(e);var a=Jl(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;if(a){q(a,function(e){return Bl(e,t)})}else{Bl(e,t)}}function Kl(e,t,n){if(!pp(t)){return}var r=t.dataType;var a=e.getData(r);var i=Yi(a,t);if(!N(i)){i=[i]}e[t.type===hl?"toggleSelect":t.type===ml?"select":"unselect"](i,r)}function Ql(r){var e=r.getAllData();q(e,function(e){var t=e.data,n=e.type;t.eachItemGraphicEl(function(e,t){r.isSelected(t,n)?Fl(e):Gl(e)})})}function ep(e){var o=[];e.eachSeries(function(i){var e=i.getAllData();q(e,function(e){var t=e.data,n=e.type;var r=i.getSelectedDataIndices();if(r.length>0){var a={dataIndex:r,seriesIndex:i.seriesIndex};if(n!=null){a.dataType=n}o.push(a)}})});return o}function tp(e,t,n){op(e,true);Cl(e,Dl);np(e,t,n)}function np(e,t,n){var r=H(e);if(t!=null){r.focus=t;r.blurScope=n}else if(r.focus){r.focus=null}}var rp=["emphasis","blur","select"];var ap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ip(e,t,n,r){n=n||"itemStyle";for(var a=0;a<rp.length;a++){var i=rp[a];var o=t.getModel([i,n]);var s=e.ensureState(i);s.style=r?r(o):o[ap[n]]()}}function op(e,t){var n=t===false;var r=e;if(e.highDownSilentOnTouch){r.__highDownSilentOnTouch=e.highDownSilentOnTouch}if(!n||r.__highDownDispatcher){r.__highByOuter=r.__highByOuter||0;r.__highDownDispatcher=!n}}function sp(e){return!!(e&&e.__highDownDispatcher)}function up(e,t,n){var r=H(e);r.componentMainType=t.mainType;r.componentIndex=t.componentIndex;r.componentHighDownName=n}function lp(e){var t=rl[e];if(t==null&&nl<=32){t=rl[e]=nl++}return t}function pp(e){var t=e.type;return t===ml||t===bl||t===hl}function cp(e){var t=e.type;return t===dl||t===gl}function dp(e){var t=al(e);t.normalFill=e.style.fill;t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null;t.selectStroke=n.style&&n.style.stroke||null}var gp=ou.CMD;var mp=[[],[],[]];var bp=Math.sqrt;var hp=Math.atan2;function fp(e,t){var n=e.data;var r=e.len();var a;var i;var o;var s;var u;var l;var p=gp.M;var c=gp.C;var d=gp.L;var g=gp.R;var m=gp.A;var b=gp.Q;for(o=0,s=0;o<r;){a=n[o++];s=o;i=0;switch(a){case p:i=1;break;case d:i=1;break;case c:i=3;break;case b:i=2;break;case m:var h=t[4];var f=t[5];var v=bp(t[0]*t[0]+t[1]*t[1]);var O=bp(t[2]*t[2]+t[3]*t[3]);var y=hp(-t[1]/O,t[0]/v);n[o]*=v;n[o++]+=h;n[o]*=O;n[o++]+=f;n[o++]*=v;n[o++]*=O;n[o++]+=y;n[o++]+=y;o+=2;s=o;break;case g:l[0]=n[o++];l[1]=n[o++];nt(l,l,t);n[s++]=l[0];n[s++]=l[1];l[0]+=n[o++];l[1]+=n[o++];nt(l,l,t);n[s++]=l[0];n[s++]=l[1]}for(u=0;u<i;u++){var x=mp[u];x[0]=n[o++];x[1]=n[o++];nt(x,x,t);n[s++]=x[0];n[s++]=x[1]}}e.increaseVersion()}var vp=Math.sqrt;var Op=Math.sin;var yp=Math.cos;var xp=Math.PI;function Ip(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Sp(e,t){return(e[0]*t[0]+e[1]*t[1])/(Ip(e)*Ip(t))}function jp(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Sp(e,t))}function _p(e,t,n,r,a,i,o,s,u,l,p){var c=u*(xp/180);var d=yp(c)*(e-n)/2+Op(c)*(t-r)/2;var g=-1*Op(c)*(e-n)/2+yp(c)*(t-r)/2;var m=d*d/(o*o)+g*g/(s*s);if(m>1){o*=vp(m);s*=vp(m)}var b=(a===i?-1:1)*vp((o*o*(s*s)-o*o*(g*g)-s*s*(d*d))/(o*o*(g*g)+s*s*(d*d)))||0;var h=b*o*g/s;var f=b*-s*d/o;var v=(e+n)/2+yp(c)*h-Op(c)*f;var O=(t+r)/2+Op(c)*h+yp(c)*f;var y=jp([1,0],[(d-h)/o,(g-f)/s]);var x=[(d-h)/o,(g-f)/s];var I=[(-1*d-h)/o,(-1*g-f)/s];var S=jp(x,I);if(Sp(x,I)<=-1){S=xp}if(Sp(x,I)>=1){S=0}if(S<0){var j=Math.round(S/xp*1e6)/1e6;S=xp*2+j%2*xp}p.addData(l,v,O,o,s,y,S,c,i)}var Ap=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi;var Tp=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Cp(e){var t=new ou;if(!e){return t}var n=0;var r=0;var a=n;var i=r;var o;var s=ou.CMD;var u=e.match(Ap);if(!u){return t}for(var l=0;l<u.length;l++){var p=u[l];var c=p.charAt(0);var d=void 0;var g=p.match(Tp)||[];var m=g.length;for(var b=0;b<m;b++){g[b]=parseFloat(g[b])}var h=0;while(h<m){var f=void 0;var v=void 0;var O=void 0;var y=void 0;var x=void 0;var I=void 0;var S=void 0;var j=n;var _=r;var A=void 0;var T=void 0;switch(c){case"l":n+=g[h++];r+=g[h++];d=s.L;t.addData(d,n,r);break;case"L":n=g[h++];r=g[h++];d=s.L;t.addData(d,n,r);break;case"m":n+=g[h++];r+=g[h++];d=s.M;t.addData(d,n,r);a=n;i=r;c="l";break;case"M":n=g[h++];r=g[h++];d=s.M;t.addData(d,n,r);a=n;i=r;c="L";break;case"h":n+=g[h++];d=s.L;t.addData(d,n,r);break;case"H":n=g[h++];d=s.L;t.addData(d,n,r);break;case"v":r+=g[h++];d=s.L;t.addData(d,n,r);break;case"V":r=g[h++];d=s.L;t.addData(d,n,r);break;case"C":d=s.C;t.addData(d,g[h++],g[h++],g[h++],g[h++],g[h++],g[h++]);n=g[h-2];r=g[h-1];break;case"c":d=s.C;t.addData(d,g[h++]+n,g[h++]+r,g[h++]+n,g[h++]+r,g[h++]+n,g[h++]+r);n+=g[h-2];r+=g[h-1];break;case"S":f=n;v=r;A=t.len();T=t.data;if(o===s.C){f+=n-T[A-4];v+=r-T[A-3]}d=s.C;j=g[h++];_=g[h++];n=g[h++];r=g[h++];t.addData(d,f,v,j,_,n,r);break;case"s":f=n;v=r;A=t.len();T=t.data;if(o===s.C){f+=n-T[A-4];v+=r-T[A-3]}d=s.C;j=n+g[h++];_=r+g[h++];n+=g[h++];r+=g[h++];t.addData(d,f,v,j,_,n,r);break;case"Q":j=g[h++];_=g[h++];n=g[h++];r=g[h++];d=s.Q;t.addData(d,j,_,n,r);break;case"q":j=g[h++]+n;_=g[h++]+r;n+=g[h++];r+=g[h++];d=s.Q;t.addData(d,j,_,n,r);break;case"T":f=n;v=r;A=t.len();T=t.data;if(o===s.Q){f+=n-T[A-4];v+=r-T[A-3]}n=g[h++];r=g[h++];d=s.Q;t.addData(d,f,v,n,r);break;case"t":f=n;v=r;A=t.len();T=t.data;if(o===s.Q){f+=n-T[A-4];v+=r-T[A-3]}n+=g[h++];r+=g[h++];d=s.Q;t.addData(d,f,v,n,r);break;case"A":O=g[h++];y=g[h++];x=g[h++];I=g[h++];S=g[h++];j=n,_=r;n=g[h++];r=g[h++];d=s.A;_p(j,_,n,r,I,S,O,y,x,d,t);break;case"a":O=g[h++];y=g[h++];x=g[h++];I=g[h++];S=g[h++];j=n,_=r;n+=g[h++];r+=g[h++];d=s.A;_p(j,_,n,r,I,S,O,y,x,d,t);break}}if(c==="z"||c==="Z"){d=s.Z;t.addData(d);n=a;r=i}o=d}t.toStatic();return t}var wp=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.applyTransform=function(e){};return t}(v);function kp(e){return e.setData!=null}function Np(e,t){var n=Cp(e);var r=U({},t);r.buildPath=function(e){if(kp(e)){e.setData(n.data);var t=e.getContext();if(t){e.rebuildPath(t,1)}}else{var t=e;n.rebuildPath(t,1)}};r.applyTransform=function(e){fp(n,e);this.dirtyShape()};return r}function Pp(e,t){return new wp(Np(e,t))}function Ep(e,t){var r=Np(e,t);var n=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.applyTransform=r.applyTransform;t.buildPath=r.buildPath;return t}return e}(wp);return n}function Lp(e,t){var n=[];var r=e.length;for(var a=0;a<r;a++){var i=e[a];if(!i.path){i.createPathProxy()}if(i.shapeChanged()){i.buildPath(i.path,i.shape,true)}n.push(i.path)}var o=new v(t);o.createPathProxy();o.buildPath=function(e){if(kp(e)){e.appendPath(n);var t=e.getContext();if(t){e.rebuildPath(t,1)}}};return o}var Dp=function(){function e(){this.cx=0;this.cy=0;this.r=0}return e}();var Mp=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Dp};e.prototype.buildPath=function(e,t,n){if(n){e.moveTo(t.cx+t.r,t.cy)}e.arc(t.cx,t.cy,t.r,0,Math.PI*2)};return e}(v);Mp.prototype.type="circle";var Bp=function(){function e(){this.cx=0;this.cy=0;this.rx=0;this.ry=0}return e}();var zp=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Bp};e.prototype.buildPath=function(e,t){var n=.5522848;var r=t.cx;var a=t.cy;var i=t.rx;var o=t.ry;var s=i*n;var u=o*n;e.moveTo(r-i,a);e.bezierCurveTo(r-i,a-u,r-s,a-o,r,a-o);e.bezierCurveTo(r+s,a-o,r+i,a-u,r+i,a);e.bezierCurveTo(r+i,a+u,r+s,a+o,r,a+o);e.bezierCurveTo(r-s,a+o,r-i,a+u,r-i,a);e.closePath()};return e}(v);zp.prototype.type="ellipse";var Vp=Math.PI;var Rp=Vp*2;var Up=Math.sin;var Fp=Math.cos;var Gp=Math.acos;var Hp=Math.atan2;var qp=Math.abs;var Wp=Math.sqrt;var Xp=Math.max;var Yp=Math.min;var Jp=1e-4;function Zp(e,t,n,r,a,i,o,s){var u=n-e;var l=r-t;var p=o-a;var c=s-i;var d=c*u-p*l;if(d*d<Jp){return}d=(p*(t-i)-c*(e-a))/d;return[e+d*u,t+d*l]}function $p(e,t,n,r,a,i,o){var s=e-n;var u=t-r;var l=(o?i:-i)/Wp(s*s+u*u);var p=l*u;var c=-l*s;var d=e+p;var g=t+c;var m=n+p;var b=r+c;var h=(d+m)/2;var f=(g+b)/2;var v=m-d;var O=b-g;var y=v*v+O*O;var x=a-i;var I=d*b-m*g;var S=(O<0?-1:1)*Wp(Xp(0,x*x*y-I*I));var j=(I*O-v*S)/y;var _=(-I*v-O*S)/y;var A=(I*O+v*S)/y;var T=(-I*v+O*S)/y;var C=j-h;var w=_-f;var k=A-h;var N=T-f;if(C*C+w*w>k*k+N*N){j=A;_=T}return{cx:j,cy:_,x01:-p,y01:-c,x11:j*(a/x-1),y11:_*(a/x-1)}}function Kp(e,t){var n=Xp(t.r,0);var r=Xp(t.r0||0,0);var a=n>0;var i=r>0;if(!a&&!i){return}if(!a){n=r;r=0}if(r>n){var o=n;n=r;r=o}var s=!!t.clockwise;var u=t.startAngle;var l=t.endAngle;var p;if(u===l){p=0}else{var c=[u,l];iu(c,!s);p=qp(c[0]-c[1])}var d=t.cx;var g=t.cy;var M=t.cornerRadius||0;var B=t.innerCornerRadius||0;if(!(n>Jp)){e.moveTo(d,g)}else if(p>Rp-Jp){e.moveTo(d+n*Fp(u),g+n*Up(u));e.arc(d,g,n,u,l,!s);if(r>Jp){e.moveTo(d+r*Fp(l),g+r*Up(l));e.arc(d,g,r,l,u,s)}}else{var m=qp(n-r)/2;var b=Yp(m,M);var h=Yp(m,B);var f=h;var v=b;var O=n*Fp(u);var y=n*Up(u);var x=r*Fp(l);var I=r*Up(l);var S=void 0;var j=void 0;var _=void 0;var A=void 0;if(b>Jp||h>Jp){S=n*Fp(l);j=n*Up(l);_=r*Fp(u);A=r*Up(u);if(p<Vp){var T=Zp(O,y,_,A,S,j,x,I);if(T){var C=O-T[0];var w=y-T[1];var k=S-T[0];var N=j-T[1];var P=1/Up(Gp((C*k+w*N)/(Wp(C*C+w*w)*Wp(k*k+N*N)))/2);var E=Wp(T[0]*T[0]+T[1]*T[1]);f=Yp(h,(r-E)/(P-1));v=Yp(b,(n-E)/(P+1))}}}if(!(p>Jp)){e.moveTo(d+O,g+y)}else if(v>Jp){var L=$p(_,A,O,y,n,v,s);var D=$p(S,j,x,I,n,v,s);e.moveTo(d+L.cx+L.x01,g+L.cy+L.y01);if(v<b){e.arc(d+L.cx,g+L.cy,v,Hp(L.y01,L.x01),Hp(D.y01,D.x01),!s)}else{e.arc(d+L.cx,g+L.cy,v,Hp(L.y01,L.x01),Hp(L.y11,L.x11),!s);e.arc(d,g,n,Hp(L.cy+L.y11,L.cx+L.x11),Hp(D.cy+D.y11,D.cx+D.x11),!s);e.arc(d+D.cx,g+D.cy,v,Hp(D.y11,D.x11),Hp(D.y01,D.x01),!s)}}else{e.moveTo(d+O,g+y);e.arc(d,g,n,u,l,!s)}if(!(r>Jp)||!(p>Jp)){e.lineTo(d+x,g+I)}else if(f>Jp){var L=$p(x,I,S,j,r,-f,s);var D=$p(O,y,_,A,r,-f,s);e.lineTo(d+L.cx+L.x01,g+L.cy+L.y01);if(f<h){e.arc(d+L.cx,g+L.cy,f,Hp(L.y01,L.x01),Hp(D.y01,D.x01),!s)}else{e.arc(d+L.cx,g+L.cy,f,Hp(L.y01,L.x01),Hp(L.y11,L.x11),!s);e.arc(d,g,r,Hp(L.cy+L.y11,L.cx+L.x11),Hp(D.cy+D.y11,D.cx+D.x11),s);e.arc(d+D.cx,g+D.cy,f,Hp(D.y11,D.x11),Hp(D.y01,D.x01),!s)}}else{e.lineTo(d+x,g+I);e.arc(d,g,r,l,u,s)}}e.closePath()}var Qp=function(){function e(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true;this.cornerRadius=0;this.innerCornerRadius=0}return e}();var ec=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new Qp};e.prototype.buildPath=function(e,t){Kp(e,t)};e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0};return e}(v);ec.prototype.type="sector";var tc=function(){function e(){this.cx=0;this.cy=0;this.r=0;this.r0=0}return e}();var nc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new tc};e.prototype.buildPath=function(e,t){var n=t.cx;var r=t.cy;var a=Math.PI*2;e.moveTo(n+t.r,r);e.arc(n,r,t.r,0,a,false);e.moveTo(n+t.r0,r);e.arc(n,r,t.r0,0,a,true)};return e}(v);nc.prototype.type="ring";function rc(e,t,n,r,a,i,o){var s=(n-e)*.5;var u=(r-t)*.5;return(2*(t-n)+s+u)*o+(-3*(t-n)-2*s-u)*i+s*a+t}function ac(e,t){var n=e.length;var r=[];var a=0;for(var i=1;i<n;i++){a+=Ze(e[i-1],e[i])}var o=a/2;o=o<n?n:o;for(var i=0;i<o;i++){var s=i/(o-1)*(t?n:n-1);var u=Math.floor(s);var l=s-u;var p=void 0;var c=e[u%n];var d=void 0;var g=void 0;if(!t){p=e[u===0?u:u-1];d=e[u>n-2?n-1:u+1];g=e[u>n-3?n-1:u+2]}else{p=e[(u-1+n)%n];d=e[(u+1)%n];g=e[(u+2)%n]}var m=l*l;var b=l*m;r.push([rc(p[0],c[0],d[0],g[0],l,m,b),rc(p[1],c[1],d[1],g[1],l,m,b)])}return r}function ic(e,t,n,r){var a=[];var i=[];var o=[];var s=[];var u;var l;var p;var c;if(r){p=[Infinity,Infinity];c=[-Infinity,-Infinity];for(var d=0,g=e.length;d<g;d++){rt(p,p,e[d]);at(c,c,e[d])}rt(p,p,r[0]);at(c,c,r[1])}for(var d=0,g=e.length;d<g;d++){var m=e[d];if(n){u=e[d?d-1:g-1];l=e[(d+1)%g]}else{if(d===0||d===g-1){a.push(Me(e[d]));continue}else{u=e[d-1];l=e[d+1]}}Re(i,l,u);Ye(i,i,t);var b=Ze(m,u);var h=Ze(m,l);var f=b+h;if(f!==0){b/=f;h/=f}Ye(o,i,-b);Ye(s,i,h);var v=ze([],m,o);var O=ze([],m,s);if(r){at(v,v,p);rt(v,v,c);at(O,O,p);rt(O,O,c)}a.push(v);a.push(O)}if(n){a.push(a.shift())}return a}function oc(e,t,n){var r=t.smooth;var a=t.points;if(a&&a.length>=2){if(r&&r!=="spline"){var i=ic(a,r,n,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);var o=a.length;for(var s=0;s<(n?o:o-1);s++){var u=i[s*2];var l=i[s*2+1];var p=a[(s+1)%o];e.bezierCurveTo(u[0],u[1],l[0],l[1],p[0],p[1])}}else{if(r==="spline"){a=ac(a,n)}e.moveTo(a[0][0],a[0][1]);for(var s=1,c=a.length;s<c;s++){e.lineTo(a[s][0],a[s][1])}}n&&e.closePath()}}var sc=function(){function e(){this.points=null;this.smooth=0;this.smoothConstraint=null}return e}();var uc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new sc};e.prototype.buildPath=function(e,t){oc(e,t,true)};return e}(v);uc.prototype.type="polygon";var lc=function(){function e(){this.points=null;this.percent=1;this.smooth=0;this.smoothConstraint=null}return e}();var pc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new lc};e.prototype.buildPath=function(e,t){oc(e,t,false)};return e}(v);pc.prototype.type="polyline";var cc={};var dc=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return e}();var gc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new dc};e.prototype.buildPath=function(e,t){var n;var r;var a;var i;if(this.subPixelOptimize){var o=Vu(cc,t,this.style);n=o.x1;r=o.y1;a=o.x2;i=o.y2}else{n=t.x1;r=t.y1;a=t.x2;i=t.y2}var s=t.percent;if(s===0){return}e.moveTo(n,r);if(s<1){a=n*(1-s)+a*s;i=r*(1-s)+i*s}e.lineTo(a,i)};e.prototype.pointAt=function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]};return e}(v);gc.prototype.type="line";var mc=[];var bc=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.percent=1}return e}();function hc(e,t,n){var r=e.cpx2;var a=e.cpy2;if(r===null||a===null){return[(n?gs:ds)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?gs:ds)(e.y1,e.cpy1,e.cpy2,e.y2,t)]}else{return[(n?ys:Os)(e.x1,e.cpx1,e.x2,t),(n?ys:Os)(e.y1,e.cpy1,e.y2,t)]}}var fc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new bc};e.prototype.buildPath=function(e,t){var n=t.x1;var r=t.y1;var a=t.x2;var i=t.y2;var o=t.cpx1;var s=t.cpy1;var u=t.cpx2;var l=t.cpy2;var p=t.percent;if(p===0){return}e.moveTo(n,r);if(u==null||l==null){if(p<1){Ss(n,o,a,p,mc);o=mc[1];a=mc[2];Ss(r,s,i,p,mc);s=mc[1];i=mc[2]}e.quadraticCurveTo(o,s,a,i)}else{if(p<1){hs(n,o,u,a,p,mc);o=mc[1];u=mc[2];a=mc[3];hs(r,s,l,i,p,mc);s=mc[1];l=mc[2];i=mc[3]}e.bezierCurveTo(o,s,u,l,a,i)}};e.prototype.pointAt=function(e){return hc(this.shape,e,false)};e.prototype.tangentAt=function(e){var t=hc(this.shape,e,true);return Je(t,t)};return e}(v);fc.prototype.type="bezier-curve";var vc=function(){function e(){this.cx=0;this.cy=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return e}();var Oc=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new vc};e.prototype.buildPath=function(e,t){var n=t.cx;var r=t.cy;var a=Math.max(t.r,0);var i=t.startAngle;var o=t.endAngle;var s=t.clockwise;var u=Math.cos(i);var l=Math.sin(i);e.moveTo(u*a+n,l*a+r);e.arc(n,r,a,i,o,!s)};return e}(v);Oc.prototype.type="arc";var yc=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="compound";return e}e.prototype._updatePathDirty=function(){var e=this.shape.paths;var t=this.shapeChanged();for(var n=0;n<e.length;n++){t=t||e[n].shapeChanged()}if(t){this.dirtyShape()}};e.prototype.beforeBrush=function(){this._updatePathDirty();var e=this.shape.paths||[];var t=this.getGlobalScale();for(var n=0;n<e.length;n++){if(!e[n].path){e[n].createPathProxy()}e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)}};e.prototype.buildPath=function(e,t){var n=t.paths||[];for(var r=0;r<n.length;r++){n[r].buildPath(e,n[r].shape,true)}};e.prototype.afterBrush=function(){var e=this.shape.paths||[];for(var t=0;t<e.length;t++){e[t].pathUpdated()}};e.prototype.getBoundingRect=function(){this._updatePathDirty.call(this);return v.prototype.getBoundingRect.call(this)};return e}(v);var xc=function(){function e(e){this.colorStops=e||[]}e.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})};return e}();var Ic=function(s){b(e,s);function e(e,t,n,r,a,i){var o=s.call(this,a)||this;o.x=e==null?0:e;o.y=t==null?0:t;o.x2=n==null?1:n;o.y2=r==null?0:r;o.type="linear";o.global=i||false;return o}return e}(xc);var Sc=function(o){b(e,o);function e(e,t,n,r,a){var i=o.call(this,r)||this;i.x=e==null?.5:e;i.y=t==null?.5:t;i.r=n==null?.5:n;i.type="radial";i.global=a||false;return i}return e}(xc);var jc=[0,0];var _c=[0,0];var Ac=new W;var Tc=new W;var Cc=function(){function e(e,t){this._corners=[];this._axes=[];this._origin=[0,0];for(var n=0;n<4;n++){this._corners[n]=new W}for(var n=0;n<2;n++){this._axes[n]=new W}if(e){this.fromBoundingRect(e,t)}}e.prototype.fromBoundingRect=function(e,t){var n=this._corners;var r=this._axes;var a=e.x;var i=e.y;var o=a+e.width;var s=i+e.height;n[0].set(a,i);n[1].set(o,i);n[2].set(o,s);n[3].set(a,s);if(t){for(var u=0;u<4;u++){n[u].transform(t)}}W.sub(r[0],n[1],n[0]);W.sub(r[1],n[3],n[0]);r[0].normalize();r[1].normalize();for(var u=0;u<2;u++){this._origin[u]=r[u].dot(n[0])}};e.prototype.intersect=function(e,t){var n=true;var r=!t;Ac.set(Infinity,Infinity);Tc.set(0,0);if(!this._intersectCheckOneSide(this,e,Ac,Tc,r,1)){n=false;if(r){return n}}if(!this._intersectCheckOneSide(e,this,Ac,Tc,r,-1)){n=false;if(r){return n}}if(!r){W.copy(t,n?Ac:Tc)}return n};e.prototype._intersectCheckOneSide=function(e,t,n,r,a,i){var o=true;for(var s=0;s<2;s++){var u=this._axes[s];this._getProjMinMaxOnAxis(s,e._corners,jc);this._getProjMinMaxOnAxis(s,t._corners,_c);if(jc[1]<_c[0]||jc[0]>_c[1]){o=false;if(a){return o}var l=Math.abs(_c[0]-jc[1]);var p=Math.abs(jc[0]-_c[1]);if(Math.min(l,p)>r.len()){if(l<p){W.scale(r,u,-l*i)}else{W.scale(r,u,p*i)}}}else if(n){var l=Math.abs(_c[0]-jc[1]);var p=Math.abs(jc[0]-_c[1]);if(Math.min(l,p)<n.len()){if(l<p){W.scale(n,u,l*i)}else{W.scale(n,u,-p*i)}}}}return o};e.prototype._getProjMinMaxOnAxis=function(e,t,n){var r=this._axes[e];var a=this._origin;var i=t[0].dot(r)+a[e];var o=i;var s=i;for(var u=1;u<t.length;u++){var l=t[u].dot(r)+a[e];o=Math.min(l,o);s=Math.max(l,s)}n[0]=o;n[1]=s};return e}();var wc=[];var kc=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.notClear=true;e.incremental=true;e._displayables=[];e._temporaryDisplayables=[];e._cursor=0;return e}e.prototype.traverse=function(e,t){e.call(t,this)};e.prototype.useStyle=function(){this.style={}};e.prototype.getCursor=function(){return this._cursor};e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length};e.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.markRedraw();this.notClear=false};e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]};e.prototype.addDisplayable=function(e,t){if(t){this._temporaryDisplayables.push(e)}else{this._displayables.push(e)}this.markRedraw()};e.prototype.addDisplayables=function(e,t){t=t||false;for(var n=0;n<e.length;n++){this.addDisplayable(e[n],t)}};e.prototype.getDisplayables=function(){return this._displayables};e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables};e.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++){e&&e(this._displayables[t])}for(var t=0;t<this._temporaryDisplayables.length;t++){e&&e(this._temporaryDisplayables[t])}};e.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this;t.update();t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this;t.update();t.parent=null}};e.prototype.getBoundingRect=function(){if(!this._rect){var e=new z(Infinity,Infinity,-Infinity,-Infinity);for(var t=0;t<this._displayables.length;t++){var n=this._displayables[t];var r=n.getBoundingRect().clone();if(n.needLocalTransform()){r.applyTransform(n.getLocalTransform(wc))}e.union(r)}this._rect=e}return this._rect};e.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t);var r=this.getBoundingRect();if(r.contain(n[0],n[1])){for(var a=0;a<this._displayables.length;a++){var i=this._displayables[a];if(i.contain(e,t)){return true}}}return false};return e}($o);var Nc=Math.max;var Pc=Math.min;var Ec={};function Lc(e){return v.extend(e)}var Dc=Ep;function Mc(e,t){return Dc(e,t)}function Bc(e,t){Ec[e]=t}function zc(e){if(Ec.hasOwnProperty(e)){return Ec[e]}}function Vc(e,t,n,r){var a=Pp(e,t);if(n){if(r==="center"){n=Uc(n,a.getBoundingRect())}Gc(a,n)}return a}function Rc(e,n,r){var a=new Mu({style:{image:e,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(e){if(r==="center"){var t={width:e.width,height:e.height};a.setStyle(Uc(n,t))}}});return a}function Uc(e,t){var n=t.width/t.height;var r=e.height*n;var a;if(r<=e.width){a=e.height}else{r=e.width;a=r/n}var i=e.x+e.width/2;var o=e.y+e.height/2;return{x:i-r/2,y:o-a/2,width:r,height:a}}var Fc=Lp;function Gc(e,t){if(!e.applyTransform){return}var n=e.getBoundingRect();var r=n.calculateTransform(t);e.applyTransform(r)}function Hc(e){Vu(e.shape,e.shape,e.style);return e}function qc(e){Ru(e.shape,e.shape,e.style);return e}var Wc=Uu;function Xc(e,t,n,r,a,i,o){var s=false;var u;if(typeof a==="function"){o=i;i=a;a=null}else if(E(a)){i=a.cb;o=a.during;s=a.isFrom;u=a.removeOpt;a=a.dataIndex}var l=e==="update";var p=e==="remove";var c;if(r&&r.ecModel){var d=r.ecModel.getUpdatePayload();c=d&&d.animation}var g=r&&r.isAnimationEnabled();if(!p){t.stopAnimation("remove")}if(g){var m=void 0;var b=void 0;var h=void 0;if(c){m=c.duration||0;b=c.easing||"cubicOut";h=c.delay||0}else if(p){u=u||{};m=L(u.duration,200);b=L(u.easing,"cubicOut");h=0}else{m=r.getShallow(l?"animationDurationUpdate":"animationDuration");b=r.getShallow(l?"animationEasingUpdate":"animationEasing");h=r.getShallow(l?"animationDelayUpdate":"animationDelay")}if(typeof h==="function"){h=h(a,r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null)}if(typeof m==="function"){m=m(a)}m>0?s?t.animateFrom(n,{duration:m,delay:h||0,easing:b,done:i,force:!!i||!!o,scope:e,during:o}):t.animateTo(n,{duration:m,delay:h||0,easing:b,done:i,force:!!i||!!o,setToFinal:true,scope:e,during:o}):(t.stopAnimation(),!s&&t.attr(n),i&&i())}else{t.stopAnimation();!s&&t.attr(n);o&&o(1);i&&i()}}function Y(e,t,n,r,a,i){Xc("update",e,t,n,r,a,i)}function Yc(e,t,n,r,a,i){Xc("init",e,t,n,r,a,i)}function Jc(e,t,n,r,a,i){if(Kc(e)){return}Xc("remove",e,t,n,r,a,i)}function Zc(e,t,n,r){e.removeTextContent();e.removeTextGuideLine();Jc(e,{style:{opacity:0}},t,n,r)}function $c(e,t,n){function r(){e.parent&&e.parent.remove(e)}if(!e.isGroup){Zc(e,t,n,r)}else{e.traverse(function(e){if(!e.isGroup){Zc(e,t,n,r)}})}}function Kc(e){if(!e.__zr){return true}for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="remove"){return true}}return false}function Qc(e,t){var n=Lr([]);while(e&&e!==t){Mr(n,e.getLocalTransform(),n);e=e.parent}return n}function ed(e,t,n){if(t&&!se(t)){t=Zr.getLocalTransform(t)}if(n){t=Rr([],t)}return nt([],e,t)}function td(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]);var a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]);var i=[e==="left"?-r:e==="right"?r:0,e==="top"?-a:e==="bottom"?a:0];i=ed(i,t,n);return Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function nd(e){return!e.isGroup}function rd(e){return e.shape!=null}function ad(e,t,r){if(!e||!t){return}function n(e){var t={};e.traverse(function(e){if(nd(e)&&e.anid){t[e.anid]=e}});return t}function a(e){var t={x:e.x,y:e.y,rotation:e.rotation};if(rd(e)){t.shape=U({},e.shape)}return t}var i=n(e);t.traverse(function(e){if(nd(e)&&e.anid){var t=i[e.anid];if(t){var n=a(e);e.attr(a(t));Y(e,n,r,H(e).dataIndex)}}})}function id(e,r){return w(e,function(e){var t=e[0];t=Nc(t,r.x);t=Pc(t,r.x+r.width);var n=e[1];n=Nc(n,r.y);n=Pc(n,r.y+r.height);return[t,n]})}function od(e,t){var n=Nc(e.x,t.x);var r=Pc(e.x+e.width,t.x+t.width);var a=Nc(e.y,t.y);var i=Pc(e.y+e.height,t.y+t.height);if(r>=n&&i>=a){return{x:n,y:a,width:r-n,height:i-a}}}function sd(e,t,n){var r=U({rectHover:true},t);var a=r.style={strokeNoScale:true};n=n||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(a.image=e.slice(8),M(a,n),new Mu(r)):Vc(e.replace("path://",""),r,n,"center")}}function ud(e,t,n,r,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(ld(e,t,n,r,s[0],s[1],o[0],o[1])){return true}o=s}}function ld(e,t,n,r,a,i,o,s){var u=n-e;var l=r-t;var p=o-a;var c=s-i;var d=pd(p,c,u,l);if(cd(d)){return false}var g=e-a;var m=t-i;var b=pd(g,m,u,l)/d;if(b<0||b>1){return false}var h=pd(g,m,p,c)/d;if(h<0||h>1){return false}return true}function pd(e,t,n,r){return e*r-n*t}function cd(e){return e<=1e-6&&e>=-1e-6}function dd(e){var t=e.itemTooltipOption;var n=e.componentModel;var r=e.itemName;var a=P(t)?{formatter:t}:t;var i=n.mainType;var o=n.componentIndex;var s={componentType:i,name:r,$vars:["name"]};s[i+"Index"]=o;var u=e.formatterParamsExtra;if(u){q(k(u),function(e){if(!B(s,e)){s[e]=u[e];s.$vars.push(e)}})}var l=H(e.el);l.componentMainType=i;l.componentIndex=o;l.tooltipConfig={name:r,option:M({content:r,formatterParams:s},a)}}Bc("circle",Mp);Bc("ellipse",zp);Bc("sector",ec);Bc("ring",nc);Bc("polygon",uc);Bc("polyline",pc);Bc("rect",R);Bc("line",gc);Bc("bezierCurve",fc);Bc("arc",Oc);var gd=Object.freeze({__proto__:null,extendShape:Lc,extendPath:Mc,registerShape:Bc,getShapeClass:zc,makePath:Vc,makeImage:Rc,mergePath:Fc,resizePath:Gc,subPixelOptimizeLine:Hc,subPixelOptimizeRect:qc,subPixelOptimize:Wc,updateProps:Y,initProps:Yc,removeElement:Jc,removeElementWithFadeOut:$c,isElementRemoved:Kc,getTransform:Qc,applyTransform:ed,transformDirection:td,groupTransition:ad,clipPointsByRect:id,clipRectByRect:od,createIcon:sd,linePolygonIntersect:ud,lineLineIntersect:ld,setTooltipConfig:dd,Group:F,Image:Mu,Text:G,Circle:Mp,Ellipse:zp,Sector:ec,Ring:nc,Polygon:uc,Polyline:pc,Rect:R,Line:gc,BezierCurve:fc,Arc:Oc,IncrementalDisplayable:kc,CompoundPath:yc,LinearGradient:Ic,RadialGradient:Sc,BoundingRect:z,OrientedBoundingRect:Cc,Point:W,Path:v});var md={};function bd(e,t){for(var n=0;n<ul.length;n++){var r=ul[n];var a=t[r];var i=e.ensureState(r);i.style=i.style||{};i.style.text=a}var o=e.currentStates.slice();e.clearStates(true);e.setStyle({text:t.normal});e.useStates(o,true)}function hd(e,t,n){var r=e.labelFetcher;var a=e.labelDataIndex;var i=e.labelDimIndex;var o=t.normal;var s;if(r){s=r.getFormattedLabel(a,"normal",null,i,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)}if(s==null){s=x(e.defaultText)?e.defaultText(a,e,n):e.defaultText}var u={normal:s};for(var l=0;l<ul.length;l++){var p=ul[l];var c=t[p];u[p]=L(r?r.getFormattedLabel(a,p,null,i,c&&c.get("formatter")):null,s)}return u}function fd(e,n,r,t){r=r||md;var a=e instanceof G;var i=false;for(var o=0;o<ll.length;o++){var s=n[ll[o]];if(s&&s.getShallow("show")){i=true;break}}var u=a?e:e.getTextContent();if(i){if(!a){if(!u){u=new G;e.setTextContent(u)}if(e.stateProxy){u.stateProxy=e.stateProxy}}var l=hd(r,n);var p=n.normal;var c=!!p.getShallow("show");var d=Od(p,t&&t.normal,r,false,!a);d.text=l.normal;if(!a){e.setTextConfig(yd(p,r,false))}for(var o=0;o<ul.length;o++){var g=ul[o];var s=n[g];if(s){var m=u.ensureState(g);var b=!!L(s.getShallow("show"),c);if(b!==c){m.ignore=!b}m.style=Od(s,t&&t[g],r,true,!a);m.style.text=l[g];if(!a){var h=e.ensureState(g);h.textConfig=yd(s,r,true)}}}u.silent=!!p.getShallow("silent");if(u.style.x!=null){d.x=u.style.x}if(u.style.y!=null){d.y=u.style.y}u.ignore=!c;u.useStyle(d);u.dirty();if(r.enableTextSetter){Cd(u).setLabelText=function(e){var t=hd(r,n,e);bd(u,t)}}}else if(u){u.ignore=true}e.dirty()}function vd(e,t){t=t||"label";var n={normal:e.getModel(t)};for(var r=0;r<ul.length;r++){var a=ul[r];n[a]=e.getModel([a,t])}return n}function Od(e,t,n,r,a){var i={};xd(i,e,n,r,a);t&&U(i,t);return i}function yd(e,t,n){t=t||{};var r={};var a;var i=e.getShallow("rotate");var o=L(e.getShallow("distance"),n?null:5);var s=e.getShallow("offset");a=e.getShallow("position")||(n?null:"inside");a==="outside"&&(a=t.defaultOutsidePosition||"top");if(a!=null){r.position=a}if(s!=null){r.offset=s}if(i!=null){i*=Math.PI/180;r.rotation=i}if(o!=null){r.distance=o}r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto";return r}function xd(e,t,n,r,a){n=n||md;var i=t.ecModel;var o=i&&i.option.textStyle;var s=Id(t);var u;if(s){u={};for(var l in s){if(s.hasOwnProperty(l)){var p=t.getModel(["rich",l]);Ad(u[l]={},p,o,n,r,a,false,true)}}}if(u){e.rich=u}var c=t.get("overflow");if(c){e.overflow=c}var d=t.get("minMargin");if(d!=null){e.margin=d}Ad(e,t,o,n,r,a,true,false)}function Id(e){var t;while(e&&e!==e.ecModel){var n=(e.option||md).rich;if(n){t=t||{};var r=k(n);for(var a=0;a<r.length;a++){var i=r[a];t[i]=1}}e=e.parentModel}return t}var Sd=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"];var jd=["align","lineHeight","width","height","tag","verticalAlign"];var _d=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Ad(e,t,n,r,a,i,o,s){n=!a&&n||md;var u=r&&r.inheritColor;var l=t.getShallow("color");var p=t.getShallow("textBorderColor");var c=L(t.getShallow("opacity"),n.opacity);if(l==="inherit"||l==="auto"){if("development"!=="production"){if(l==="auto"){yi("color: 'auto'","color: 'inherit'")}}if(u){l=u}else{l=null}}if(p==="inherit"||p==="auto"){if("development"!=="production"){if(p==="auto"){yi("color: 'auto'","color: 'inherit'")}}if(u){p=u}else{p=null}}if(!i){l=l||n.color;p=p||n.textBorderColor}if(l!=null){e.fill=l}if(p!=null){e.stroke=p}var d=L(t.getShallow("textBorderWidth"),n.textBorderWidth);if(d!=null){e.lineWidth=d}var g=L(t.getShallow("textBorderType"),n.textBorderType);if(g!=null){e.lineDash=g}var m=L(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);if(m!=null){e.lineDashOffset=m}if(!a&&c==null&&!s){c=r&&r.defaultOpacity}if(c!=null){e.opacity=c}if(!a&&!i){if(e.fill==null&&r.inheritColor){e.fill=r.inheritColor}}for(var b=0;b<Sd.length;b++){var h=Sd[b];var f=L(t.getShallow(h),n[h]);if(f!=null){e[h]=f}}for(var b=0;b<jd.length;b++){var h=jd[b];var f=t.getShallow(h);if(f!=null){e[h]=f}}if(e.verticalAlign==null){var v=t.getShallow("baseline");if(v!=null){e.verticalAlign=v}}if(!o||!r.disableBox){for(var b=0;b<_d.length;b++){var h=_d[b];var f=t.getShallow(h);if(f!=null){e[h]=f}}var O=t.getShallow("borderType");if(O!=null){e.borderDash=O}if((e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&u){if("development"!=="production"){if(e.backgroundColor==="auto"){yi("backgroundColor: 'auto'","backgroundColor: 'inherit'")}}e.backgroundColor=u}if((e.borderColor==="auto"||e.borderColor==="inherit")&&u){if("development"!=="production"){if(e.borderColor==="auto"){yi("borderColor: 'auto'","borderColor: 'inherit'")}}e.borderColor=u}}}function Td(e,t){var n=t&&t.getModel("textStyle");return _e([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Cd=Ji();function wd(e,t,n,r){if(!e){return}var a=Cd(e);a.prevValue=a.value;a.value=n;var i=t.normal;a.valueAnimation=i.get("valueAnimation");if(a.valueAnimation){a.precision=i.get("precision");a.defaultInterpolatedText=r;a.statesModels=t}}function kd(r,a,i,e,o){var s=Cd(r);if(!s.valueAnimation){return}var u=s.defaultInterpolatedText;var l=L(s.interpolatedValue,s.prevValue);var p=s.value;function t(e){var t=oo(i,s.precision,l,p,e);s.interpolatedValue=e===1?null:t;var n=hd({labelDataIndex:a,labelFetcher:o,defaultText:u?u(t):t+""},s.statesModels,t);bd(r,n)}(l==null?Yc:Y)(r,{},e,a,null,t)}var Nd=["textStyle","color"];var Pd=new G;var Ed=function(){function e(){}e.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Nd):null)};e.prototype.getFont=function(){return Td({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)};e.prototype.getTextRect=function(e){Pd.useStyle({text:e,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")});Pd.update();return Pd.getBoundingRect()};return e}();var Ld=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]];var Dd=Io(Ld);var Md=function(){function e(){}e.prototype.getLineStyle=function(e){return Dd(this,e)};return e}();var Bd=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]];var zd=Io(Bd);var Vd=function(){function e(){}e.prototype.getItemStyle=function(e,t){return zd(this,e,t)};return e}();var A=function(){function i(e,t,n){this.parentModel=t;this.ecModel=n;this.option=e}i.prototype.init=function(e,t,n){var r=[];for(var a=3;a<arguments.length;a++){r[a-3]=arguments[a]}};i.prototype.mergeOption=function(e,t){f(this.option,e,true)};i.prototype.get=function(e,t){if(e==null){return this.option}return this._doGet(this.parsePath(e),!t&&this.parentModel)};i.prototype.getShallow=function(e,t){var n=this.option;var r=n==null?n:n[e];if(r==null&&!t){var a=this.parentModel;if(a){r=a.getShallow(e)}}return r};i.prototype.getModel=function(e,t){var n=e!=null;var r=n?this.parsePath(e):null;var a=n?this._doGet(r):this.option;t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r));return new i(a,t,this.ecModel)};i.prototype.isEmpty=function(){return this.option==null};i.prototype.restoreData=function(){};i.prototype.clone=function(){var e=this.constructor;return new e(j(this.option))};i.prototype.parsePath=function(e){if(typeof e==="string"){return e.split(".")}return e};i.prototype.resolveParentPath=function(e){return e};i.prototype.isAnimationEnabled=function(){if(!S.node&&this.option){if(this.option.animation!=null){return!!this.option.animation}else if(this.parentModel){return this.parentModel.isAnimationEnabled()}}};i.prototype._doGet=function(e,t){var n=this.option;if(!e){return n}for(var r=0;r<e.length;r++){if(!e[r]){continue}n=n&&typeof n==="object"?n[e[r]]:null;if(n==null){break}}if(n==null&&t){n=t._doGet(this.resolveParentPath(e),t.parentModel)}return n};return i}();mo(A);vo(A);oe(A,Md);oe(A,Vd);oe(A,_o);oe(A,Ed);var Rd=Math.round(Math.random()*10);function Ud(e){return[e||"",Rd++].join("_")}function Fd(a){var i={};a.registerSubTypeDefaulter=function(e,t){var n=po(e);i[n.main]=t};a.determineSubType=function(e,t){var n=t.type;if(!n){var r=po(e).main;if(a.hasSubTypes(e)&&i[r]){n=i[r](t)}}return n}}function Gd(e,s){e.topologicalTravel=function(t,n,e,r){if(!t.length){return}var a=g(n);var i=a.graph;var o=a.noEntryList;var s={};q(t,function(e){s[e]=true});while(o.length){var u=o.pop();var l=i[u];var p=!!s[u];if(p){e.call(r,u,l.originalDeps.slice());delete s[u]}q(l.successor,p?d:c)}q(s,function(){var e="";if("development"!=="production"){e=Ii("Circular dependency may exists: ",s,t,n)}throw new Error(e)});function c(e){i[e].entryCount--;if(i[e].entryCount===0){o.push(e)}}function d(e){s[e]=true;c(e)}};function g(a){var i={};var o=[];q(a,function(n){var r=u(i,n);var e=r.originalDeps=s(n);var t=l(e,a);r.entryCount=t.length;if(r.entryCount===0){o.push(n)}q(t,function(e){if(C(r.predecessor,e)<0){r.predecessor.push(e)}var t=u(i,e);if(C(t.successor,e)<0){t.successor.push(n)}})});return{graph:i,noEntryList:o}}function u(e,t){if(!e[t]){e[t]={predecessor:[],successor:[]}}return e[t]}function l(e,t){var n=[];q(e,function(e){C(t,e)>=0&&n.push(e)});return n}}function Hd(e,t){return f(f({},e,true),t,true)}var qd={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}};var Wd={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var Xd="ZH";var Yd="EN";var Jd=Yd;var Zd={};var $d={};var Kd=!S.domSupported?Jd:function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return e.indexOf(Xd)>-1?Xd:Jd}();function Qd(e,t){e=e.toUpperCase();$d[e]=new A(t);Zd[e]=t}function eg(e){if(P(e)){var t=Zd[e.toUpperCase()]||{};if(e===Xd||e===Yd){return j(t)}else{return f(j(t),j(Zd[Jd]),false)}}else{return f(j(e),j(Zd[Jd]),false)}}function tg(e){return $d[e]}function ng(){return $d[Jd]}Qd(Yd,qd);Qd(Xd,Wd);var rg=1e3;var ag=rg*60;var ig=ag*60;var og=ig*24;var sg=og*365;var ug={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"};var lg="{yyyy}-{MM}-{dd}";var pg={year:"{yyyy}",month:"{yyyy}-{MM}",day:lg,hour:lg+" "+ug.hour,minute:lg+" "+ug.minute,second:lg+" "+ug.second,millisecond:ug.none};var cg=["year","month","day","hour","minute","second","millisecond"];var dg=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function gg(e,t){e+="";return"0000".substr(0,t-e.length)+e}function mg(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function bg(e){return e===mg(e)}function hg(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function fg(e,t,n,r){var a=ri(e);var i=a[xg(n)]();var o=a[Ig(n)]()+1;var s=Math.floor((o-1)/4)+1;var u=a[Sg(n)]();var l=a["get"+(n?"UTC":"")+"Day"]();var p=a[jg(n)]();var c=(p-1)%12+1;var d=a[_g(n)]();var g=a[Ag(n)]();var m=a[Tg(n)]();var b=r instanceof A?r:tg(r||Kd)||ng();var h=b.getModel("time");var f=h.get("month");var v=h.get("monthAbbr");var O=h.get("dayOfWeek");var y=h.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,i%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,f[o-1]).replace(/{MMM}/g,v[o-1]).replace(/{MM}/g,gg(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,gg(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,O[l]).replace(/{ee}/g,y[l]).replace(/{e}/g,l+"").replace(/{HH}/g,gg(p,2)).replace(/{H}/g,p+"").replace(/{hh}/g,gg(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,gg(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,gg(g,2)).replace(/{s}/g,g+"").replace(/{SSS}/g,gg(m,3)).replace(/{S}/g,m+"")}function vg(e,t,n,r,a){var i=null;if(typeof n==="string"){i=n}else if(typeof n==="function"){i=n(e.value,t,{level:e.level})}else{var o=U({},ug);if(e.level>0){for(var s=0;s<cg.length;++s){o[cg[s]]="{primary|"+o[cg[s]]+"}"}}var u=n?n.inherit===false?n:M(n,o):o;var l=Og(e.value,a);if(u[l]){i=u[l]}else if(u.inherit){var p=dg.indexOf(l);for(var s=p-1;s>=0;--s){if(u[l]){i=u[l];break}}i=i||o.none}if(N(i)){var c=e.level==null?0:e.level>=0?e.level:i.length+e.level;c=Math.min(c,i.length-1);i=i[c]}}return fg(new Date(e.value),i,a,r)}function Og(e,t){var n=ri(e);var r=n[Ig(t)]()+1;var a=n[Sg(t)]();var i=n[jg(t)]();var o=n[_g(t)]();var s=n[Ag(t)]();var u=n[Tg(t)]();var l=u===0;var p=l&&s===0;var c=p&&o===0;var d=c&&i===0;var g=d&&a===1;var m=g&&r===1;if(m){return"year"}else if(g){return"month"}else if(d){return"day"}else if(c){return"hour"}else if(p){return"minute"}else if(l){return"second"}else{return"millisecond"}}function yg(e,t,n){var r=typeof e==="number"?ri(e):e;t=t||Og(e,n);switch(t){case"year":return r[xg(n)]();case"half-year":return r[Ig(n)]()>=6?1:0;case"quarter":return Math.floor((r[Ig(n)]()+1)/4);case"month":return r[Ig(n)]();case"day":return r[Sg(n)]();case"half-day":return r[jg(n)]()/24;case"hour":return r[jg(n)]();case"minute":return r[_g(n)]();case"second":return r[Ag(n)]();case"millisecond":return r[Tg(n)]()}}function xg(e){return e?"getUTCFullYear":"getFullYear"}function Ig(e){return e?"getUTCMonth":"getMonth"}function Sg(e){return e?"getUTCDate":"getDate"}function jg(e){return e?"getUTCHours":"getHours"}function _g(e){return e?"getUTCMinutes":"getMinutes"}function Ag(e){return e?"getUTCSeconds":"getSeconds"}function Tg(e){return e?"getUTCSeconds":"getSeconds"}function Cg(e){return e?"setUTCFullYear":"setFullYear"}function wg(e){return e?"setUTCMonth":"setMonth"}function kg(e){return e?"setUTCDate":"setDate"}function Ng(e){return e?"setUTCHours":"setHours"}function Pg(e){return e?"setUTCMinutes":"setMinutes"}function Eg(e){return e?"setUTCSeconds":"setSeconds"}function Lg(e){return e?"setUTCSeconds":"setSeconds"}function Dg(e,t,n,r,a,i,o,s){Oi("getTextRect is deprecated.");var u=new G({style:{text:e,font:t,align:n,verticalAlign:r,padding:a,rich:i,overflow:o?"truncate":null,lineHeight:s}});return u.getBoundingRect()}function Mg(e){if(!pi(e)){return P(e)?e:"-"}var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Bg(e,t){e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()});if(t&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var zg=je;var Vg=/([&<>"'])/g;var Rg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ug(e){return e==null?"":(e+"").replace(Vg,function(e,t){return Rg[t]})}function Fg(e,t,n){var r="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function a(e){return e&&_e(e)?e:"-"}function i(e){return!!(e!=null&&!isNaN(e)&&isFinite(e))}var o=t==="time";var s=e instanceof Date;if(o||s){var u=o?ri(e):e;if(!isNaN(+u)){return fg(u,r,n)}else if(s){return"-"}}if(t==="ordinal"){return de(e)?a(e):ge(e)?i(e)?e+"":"-":"-"}var l=li(e);return i(l)?Mg(l):de(e)?a(e):"-"}var Gg=["a","b","c","d","e","f","g"];var Hg=function(e,t){return"{"+e+(t==null?"":t)+"}"};function qg(e,t,n){if(!N(t)){t=[t]}var r=t.length;if(!r){return""}var a=t[0].$vars||[];for(var i=0;i<a.length;i++){var o=Gg[i];e=e.replace(Hg(o),Hg(o,0))}for(var s=0;s<r;s++){for(var u=0;u<a.length;u++){var l=t[s][a[u]];e=e.replace(Hg(Gg[u],s),n?Ug(l):l)}}return e}function Wg(n,e,r){q(e,function(e,t){n=n.replace("{"+t+"}",r?Ug(e):e)});return n}function Xg(e,t){var n=P(e)?{color:e,extraCssText:t}:e||{};var r=n.color;var a=n.type;t=n.extraCssText;var i=n.renderMode||"html";if(!r){return""}if(i==="html"){return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;'+"border-radius:4px;width:4px;height:4px;background-color:"+Ug(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;'+"border-radius:10px;width:10px;height:10px;background-color:"+Ug(r)+";"+(t||"")+'"></span>'}else{var o=n.markerId||"markerX";return{renderMode:i,content:"{"+o+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}}function Yg(e,t,n){if("development"!=="production"){yi("echarts.format.formatTime","echarts.time.format")}if(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year"){e="MM-dd\nyyyy"}var r=ri(t);var a=n?"UTC":"";var i=r["get"+a+"FullYear"]();var o=r["get"+a+"Month"]()+1;var s=r["get"+a+"Date"]();var u=r["get"+a+"Hours"]();var l=r["get"+a+"Minutes"]();var p=r["get"+a+"Seconds"]();var c=r["get"+a+"Milliseconds"]();e=e.replace("MM",gg(o,2)).replace("M",o).replace("yyyy",i).replace("yy",i%100+"").replace("dd",gg(s,2)).replace("d",s).replace("hh",gg(u,2)).replace("h",u).replace("mm",gg(l,2)).replace("m",l).replace("ss",gg(p,2)).replace("s",p).replace("SSS",gg(c,3));return e}function Jg(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function Zg(e,t){t=t||"transparent";return P(e)?e:E(e)?e.colorStops&&(e.colorStops[0]||{}).color||t:t}function $g(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null;n.location.href=e}else{window.open(e,t)}}var Kg=q;var Qg=["left","right","top","bottom","width","height"];var em=[["width","left","right"],["height","top","bottom"]];function tm(l,p,c,d,g){var m=0;var b=0;if(d==null){d=Infinity}if(g==null){g=Infinity}var h=0;p.eachChild(function(e,t){var n=e.getBoundingRect();var r=p.childAt(t+1);var a=r&&r.getBoundingRect();var i;var o;if(l==="horizontal"){var s=n.width+(a?-a.x+n.x:0);i=m+s;if(i>d||e.newline){m=0;i=s;b+=h+c;h=n.height}else{h=Math.max(h,n.height)}}else{var u=n.height+(a?-a.y+n.y:0);o=b+u;if(o>g||e.newline){m+=h+c;b=0;o=u;h=n.width}else{h=Math.max(h,n.width)}}if(e.newline){return}e.x=m;e.y=b;e.markRedraw();l==="horizontal"?m=i+c:b=o+c})}var nm=tm;var rm=y(tm,"vertical");var am=y(tm,"horizontal");function im(e,t,n){var r=t.width;var a=t.height;var i=X(e.left,r);var o=X(e.top,a);var s=X(e.right,r);var u=X(e.bottom,a);(isNaN(i)||isNaN(parseFloat(e.left)))&&(i=0);(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r);(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0);(isNaN(u)||isNaN(parseFloat(e.bottom)))&&(u=a);n=zg(n||0);return{width:Math.max(s-i-n[1]-n[3],0),height:Math.max(u-o-n[0]-n[2],0)}}function om(e,t,n){n=zg(n||0);var r=t.width;var a=t.height;var i=X(e.left,r);var o=X(e.top,a);var s=X(e.right,r);var u=X(e.bottom,a);var l=X(e.width,r);var p=X(e.height,a);var c=n[2]+n[0];var d=n[1]+n[3];var g=e.aspect;if(isNaN(l)){l=r-s-d-i}if(isNaN(p)){p=a-u-c-o}if(g!=null){if(isNaN(l)&&isNaN(p)){if(g>r/a){l=r*.8}else{p=a*.8}}if(isNaN(l)){l=g*p}if(isNaN(p)){p=l/g}}if(isNaN(i)){i=r-s-l-d}if(isNaN(o)){o=a-u-p-c}switch(e.left||e.right){case"center":i=r/2-l/2-n[3];break;case"right":i=r-l-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-p/2-n[0];break;case"bottom":o=a-p-c;break}i=i||0;o=o||0;if(isNaN(l)){l=r-d-i-(s||0)}if(isNaN(p)){p=a-c-o-(u||0)}var m=new z(i+n[3],o+n[0],l,p);m.margin=n;return m}function sm(e,t,n,r,a){var i=!a||!a.hv||a.hv[0];var o=!a||!a.hv||a.hv[1];var s=a&&a.boundingMode||"all";if(!i&&!o){return}var u;if(s==="raw"){u=e.type==="group"?new z(0,0,+t.width||0,+t.height||0):e.getBoundingRect()}else{u=e.getBoundingRect();if(e.needLocalTransform()){var l=e.getLocalTransform();u=u.clone();u.applyTransform(l)}}var p=om(M({width:u.width,height:u.height},t),n,r);var c=i?p.x-u.x:0;var d=o?p.y-u.y:0;if(s==="raw"){e.x=c;e.y=d}else{e.x+=c;e.y+=d}e.markRedraw()}function um(e,t){return e[em[t][0]]!=null||e[em[t][1]]!=null&&e[em[t][2]]!=null}function lm(e){var t=e.layoutMode||e.constructor.layoutMode;return E(t)?t:t?{type:t}:null}function pm(l,p,e){var c=e&&e.ignoreSize;!N(c)&&(c=[c,c]);var t=r(em[0],0);var n=r(em[1],1);a(em[0],l,t);a(em[1],l,n);function r(e,t){var n={};var r=0;var a={};var i=0;var o=2;Kg(e,function(e){a[e]=l[e]});Kg(e,function(e){d(p,e)&&(n[e]=a[e]=p[e]);g(n,e)&&r++;g(a,e)&&i++});if(c[t]){if(g(p,e[1])){a[e[2]]=null}else if(g(p,e[2])){a[e[1]]=null}return a}if(i===o||!r){return a}else if(r>=o){return n}else{for(var s=0;s<e.length;s++){var u=e[s];if(!d(n,u)&&d(l,u)){n[u]=l[u];break}}return n}}function d(e,t){return e.hasOwnProperty(t)}function g(e,t){return e[t]!=null&&e[t]!=="auto"}function a(e,t,n){Kg(e,function(e){t[e]=n[e]})}}function cm(e){return dm({},e)}function dm(t,n){n&&t&&Kg(Qg,function(e){n.hasOwnProperty(e)&&(t[e]=n[e])});return t}var gm=Ji();var g=function(a){b(t,a);function t(e,t,n){var r=a.call(this,e,t,n)||this;r.uid=Ud("ec_cpt_model");return r}t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)};t.prototype.mergeDefaultAndTheme=function(e,t){var n=lm(this);var r=n?cm(e):{};var a=t.getTheme();f(e,a.get(this.mainType));f(e,this.getDefaultOption());if(n){pm(e,r,n)}};t.prototype.mergeOption=function(e,t){f(this.option,e,true);var n=lm(this);if(n){pm(this.option,e,n)}};t.prototype.optionUpdated=function(e,t){};t.prototype.getDefaultOption=function(){var e=this.constructor;if(!go(e)){return e.defaultOption}var t=gm(this);if(!t.defaultOption){var n=[];var r=e;while(r){var a=r.prototype.defaultOption;a&&n.push(a);r=r.superClass}var i={};for(var o=n.length-1;o>=0;o--){i=f(i,n[o],true)}t.defaultOption=i}return t.defaultOption};t.prototype.getReferringComponents=function(e,t){var n=e+"Index";var r=e+"Id";return to(this.ecModel,e,{index:this.get(n,true),id:this.get(r,true)},t)};t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}};t.protoInitialize=function(){var e=t.prototype;e.type="component";e.id="";e.name="";e.mainType="";e.subType="";e.componentIndex=0}();return t}(A);ho(g,A);xo(g);Fd(g);Gd(g,mm);function mm(e){var t=[];q(g.getClassesByMainType(e),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])});t=w(t,function(e){return po(e).main});if(e!=="dataset"&&C(t,"dataset")<=0){t.unshift("dataset")}return t}var bm="";if(typeof navigator!=="undefined"){bm=navigator.platform||""}var hm="rgba(0, 0, 0, 0.2)";var fm={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:hm,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hm,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hm,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hm,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hm,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hm,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:bm.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:false};var vm=_(["tooltip","label","itemName","itemId","seriesName"]);var Om="original";var ym="arrayRows";var xm="objectRows";var Im="keyedColumns";var Sm="typedArray";var jm="unknown";var _m="column";var Am="row";var Tm={Must:1,Might:2,Not:3};var Cm=Ji();function wm(e){Cm(e).datasetMap=_()}function km(r,e,t){var i={};var n=Pm(e);if(!n||!r){return i}var o=[];var s=[];var a=e.ecModel;var u=Cm(a).datasetMap;var l=n.uid+"_"+t.seriesLayoutBy;var p;var c;r=r.slice();q(r,function(e,t){var n=E(e)?e:r[t]={name:e};if(n.type==="ordinal"&&p==null){p=t;c=m(n)}i[n.name]=[]});var d=u.get(l)||u.set(l,{categoryWayDim:c,valueWayDim:0});q(r,function(e,t){var n=e.name;var r=m(e);if(p==null){var a=d.valueWayDim;g(i[n],a,r);g(s,a,r);d.valueWayDim+=r}else if(p===t){g(i[n],0,r);g(o,0,r)}else{var a=d.categoryWayDim;g(i[n],a,r);g(s,a,r);d.categoryWayDim+=r}});function g(e,t,n){for(var r=0;r<n;r++){e.push(t+r)}}function m(e){var t=e.dimsDef;return t?t.length:1}o.length&&(i.itemName=o);s.length&&(i.seriesName=s);return i}function Nm(e,u,l){var t={};var n=Pm(e);if(!n){return t}var p=u.sourceFormat;var c=u.dimensionsDefine;var d;if(p===xm||p===Im){q(c,function(e,t){if((E(e)?e.name:e)==="name"){d=t}})}var r=function(){var e={};var t={};var n=[];for(var r=0,a=Math.min(5,l);r<a;r++){var i=Dm(u.data,p,u.seriesLayoutBy,c,u.startIndex,r);n.push(i);var o=i===Tm.Not;if(o&&e.v==null&&r!==d){e.v=r}if(e.n==null||e.n===e.v||!o&&n[e.n]===Tm.Not){e.n=r}if(s(e)&&n[e.n]!==Tm.Not){return e}if(!o){if(i===Tm.Might&&t.v==null&&r!==d){t.v=r}if(t.n==null||t.n===t.v){t.n=r}}}function s(e){return e.v!=null&&e.n!=null}return s(e)?e:s(t)?t:null}();if(r){t.value=[r.v];var a=d!=null?d:r.n;t.itemName=[a];t.seriesName=[a]}return t}function Pm(e){var t=e.get("data",true);if(!t){return to(e.ecModel,"dataset",{index:e.get("datasetIndex",true),id:e.get("datasetId",true)},Qi).models[0]}}function Em(e){if(!e.get("transform",true)&&!e.get("fromTransformResult",true)){return[]}return to(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",true),id:e.get("fromDatasetId",true)},Qi).models}function Lm(e,t){return Dm(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function Dm(e,t,n,r,a,i){var o;var s=5;if(be(e)){return Tm.Not}var u;var l;if(r){var p=r[i];if(E(p)){u=p.name;l=p.type}else if(P(p)){u=p}}if(l!=null){return l==="ordinal"?Tm.Must:Tm.Not}if(t===ym){var c=e;if(n===Am){var d=c[i];for(var g=0;g<(d||[]).length&&g<s;g++){if((o=y(d[a+g]))!=null){return o}}}else{for(var g=0;g<c.length&&g<s;g++){var m=c[a+g];if(m&&(o=y(m[i]))!=null){return o}}}}else if(t===xm){var b=e;if(!u){return Tm.Not}for(var g=0;g<b.length&&g<s;g++){var h=b[g];if(h&&(o=y(h[u]))!=null){return o}}}else if(t===Im){var f=e;if(!u){return Tm.Not}var d=f[u];if(!d||be(d)){return Tm.Not}for(var g=0;g<d.length&&g<s;g++){if((o=y(d[g]))!=null){return o}}}else if(t===Om){var v=e;for(var g=0;g<v.length&&g<s;g++){var h=v[g];var O=Ci(h);if(!N(O)){return Tm.Not}if((o=y(O[i]))!=null){return o}}}function y(e){var t=P(e);if(e!=null&&isFinite(e)&&e!==""){return t?Tm.Might:Tm.Not}else if(t&&e!=="-"){return Tm.Must}}return Tm.Not}var Mm=_();function Bm(e,t){D(Mm.get(e)==null&&t);Mm.set(e,t)}function zm(e,t,n){var r=Mm.get(t);if(!r){return n}var a=r(e);if(!a){return n}if("development"!=="production"){for(var i=0;i<a.length;i++){D(Gi(a[i]))}}return n.concat(a)}var Vm=Ji();var Rm=Ji();var Um=function(){function e(){}e.prototype.getColorFromPalette=function(e,t,n){var r=_i(this.get("color",true));var a=this.get("colorLayer",true);return Hm(this,Vm,r,a,e,t,n)};e.prototype.clearColorPalette=function(){qm(this,Vm)};return e}();function Fm(e,t,n,r){var a=_i(e.get(["aria","decal","decals"]));return Hm(e,Rm,a,null,t,n,r)}function Gm(e,t){var n=e.length;for(var r=0;r<n;r++){if(e[r].length>t){return e[r]}}return e[n-1]}function Hm(e,t,n,r,a,i,o){i=i||e;var s=t(i);var u=s.paletteIdx||0;var l=s.paletteNameMap=s.paletteNameMap||{};if(l.hasOwnProperty(a)){return l[a]}var p=o==null||!r?n:Gm(r,o);p=p||n;if(!p||!p.length){return}var c=p[u];if(a){l[a]=c}s.paletteIdx=(u+1)%p.length;return c}function qm(e,t){t(e).paletteIdx=0;t(e).paletteNameMap={}}var Wm;var Xm;var Ym;var Jm="\0_ec_inner";var Zm=1;var $m={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"};var Km={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"};var Qm={};function eb(e){q(e,function(e,t){if(!g.hasClass(t)){var n=$m[t];if(n&&!Qm[n]){vi("Component "+t+" is used but not imported.\nimport { "+n+" } from 'echarts/components';\necharts.use(["+n+"]);");Qm[n]=true}}})}var tb=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.init=function(e,t,n,r,a,i){r=r||{};this.option=null;this._theme=new A(r);this._locale=new A(a);this._optionManager=i};t.prototype.setOption=function(e,t,n){if("development"!=="production"){D(e!=null,"option is null/undefined");D(e[Jm]!==Zm,"please use chart.getOption()")}var r=ob(t);this._optionManager.setOption(e,n,r);this._resetOption(null,r)};t.prototype.resetOption=function(e,t){return this._resetOption(e,ob(t))};t.prototype._resetOption=function(e,t){var n=false;var r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");if("development"!=="production"){eb(a)}if(!this.option||e==="recreate"){Ym(this,a)}else{this.restoreData();this._mergeOption(a,t)}n=true}if(e==="timeline"||e==="media"){this.restoreData()}if(!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);if(i){n=true;this._mergeOption(i,t)}}if(!e||e==="recreate"||e==="media"){var o=r.getMediaOption(this);if(o.length){q(o,function(e){n=true;this._mergeOption(e,t)},this)}}return n};t.prototype.mergeOption=function(e){this._mergeOption(e,null)};t.prototype._mergeOption=function(a,e){var i=this.option;var o=this._componentsMap;var s=this._componentsCount;var n=[];var r=_();var u=e&&e.replaceMergeMainTypeMap;wm(this);q(a,function(e,t){if(e==null){return}if(!g.hasClass(t)){i[t]=i[t]==null?j(e):f(i[t],e,true)}else if(t){n.push(t);r.set(t,true)}});if(u){u.each(function(e,t){if(g.hasClass(t)&&!r.get(t)){n.push(t);r.set(t,true)}})}g.topologicalTravel(n,g.getAllClassMainTypes(),t,this);function t(l){var e=zm(this,l,_i(a[l]));var t=o.get(l);var n=!t?"replaceAll":u&&u.get(l)?"replaceMerge":"normalMerge";var r=ki(t,e,n);qi(r,l,g);i[l]=null;o.set(l,null);s.set(l,0);var p=[];var c=[];var d=0;q(r,function(e,t){var n=e.existing;var r=e.newOption;if(!r){if(n){n.mergeOption({},this);n.optionUpdated({},false)}}else{var a=l==="series";var i=g.getClass(l,e.keyInfo.subType,!a);if(!i){if("development"!=="production"){var o=e.keyInfo.subType;var s=Km[o];if(!Qm[o]){Qm[o]=true;if(s){vi("Series "+o+" is used but not imported.\nimport { "+s+" } from 'echarts/charts';\necharts.use(["+s+"]);")}else{vi("Unkown series "+o)}}}return}if(n&&n.constructor===i){n.name=e.keyInfo.name;n.mergeOption(r,this);n.optionUpdated(r,false)}else{var u=U({componentIndex:t},e.keyInfo);n=new i(r,this,this,u);U(n,u);if(e.brandNew){n.__requireNewView=true}n.init(r,this,this);n.optionUpdated(null,true)}}if(n){p.push(n.option);c.push(n);d++}else{p.push(void 0);c.push(void 0)}},this);i[l]=p;o.set(l,c);s.set(l,d);if(l==="series"){Wm(this)}}if(!this._seriesIndices){Wm(this)}};t.prototype.getOption=function(){var o=j(this.option);q(o,function(e,t){if(g.hasClass(t)){var n=_i(e);var r=n.length;var a=false;for(var i=r-1;i>=0;i--){if(n[i]&&!Gi(n[i])){a=true}else{n[i]=null;!a&&r--}}n.length=r;o[t]=n}});delete o[Jm];return o};t.prototype.getTheme=function(){return this._theme};t.prototype.getLocaleModel=function(){return this._locale};t.prototype.getLocale=function(e){var t=this.getLocaleModel();return t.get(e)};t.prototype.setUpdatePayload=function(e){this._payload=e};t.prototype.getUpdatePayload=function(){return this._payload};t.prototype.getComponent=function(e,t){var n=this._componentsMap.get(e);if(n){var r=n[t||0];if(r){return r}else if(t==null){for(var a=0;a<n.length;a++){if(n[a]){return n[a]}}}}};t.prototype.queryComponents=function(e){var t=e.mainType;if(!t){return[]}var n=e.index;var r=e.id;var a=e.name;var i=this._componentsMap.get(t);if(!i||!i.length){return[]}var o;if(n!=null){o=[];q(_i(n),function(e){i[e]&&o.push(i[e])})}else if(r!=null){o=ab("id",r,i)}else if(a!=null){o=ab("name",a,i)}else{o=le(i,function(e){return!!e})}return ib(o,e)};t.prototype.findComponents=function(t){var e=t.query;var a=t.mainType;var n=i(e);var r=n?this.queryComponents(n):le(this._componentsMap.get(a),function(e){return!!e});return o(ib(r,t));function i(e){var t=a+"Index";var n=a+"Id";var r=a+"Name";return e&&(e[t]!=null||e[n]!=null||e[r]!=null)?{mainType:a,index:e[t],id:e[n],name:e[r]}:null}function o(e){return t.filter?le(e,t.filter):e}};t.prototype.eachComponent=function(e,t,n){var r=this._componentsMap;if(x(e)){var a=t;var i=e;r.each(function(e,t){for(var n=0;e&&n<e.length;n++){var r=e[n];r&&i.call(a,t,r,r.componentIndex)}})}else{var o=P(e)?r.get(e):E(e)?this.findComponents(e):null;for(var s=0;o&&s<o.length;s++){var u=o[s];u&&t.call(n,u,u.componentIndex)}}};t.prototype.getSeriesByName=function(e){var t=Vi(e,null);return le(this._componentsMap.get("series"),function(e){return!!e&&t!=null&&e.name===t})};t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]};t.prototype.getSeriesByType=function(t){return le(this._componentsMap.get("series"),function(e){return!!e&&e.subType===t})};t.prototype.getSeries=function(){return le(this._componentsMap.get("series").slice(),function(e){return!!e})};t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")};t.prototype.eachSeries=function(n,r){Xm(this);q(this._seriesIndices,function(e){var t=this._componentsMap.get("series")[e];n.call(r,t,e)},this)};t.prototype.eachRawSeries=function(t,n){q(this._componentsMap.get("series"),function(e){e&&t.call(n,e,e.componentIndex)})};t.prototype.eachSeriesByType=function(n,r,a){Xm(this);q(this._seriesIndices,function(e){var t=this._componentsMap.get("series")[e];if(t.subType===n){r.call(a,t,e)}},this)};t.prototype.eachRawSeriesByType=function(e,t,n){return q(this.getSeriesByType(e),t,n)};t.prototype.isSeriesFiltered=function(e){Xm(this);return this._seriesIndicesMap.get(e.componentIndex)==null};t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()};t.prototype.filterSeries=function(n,r){Xm(this);var a=[];q(this._seriesIndices,function(e){var t=this._componentsMap.get("series")[e];n.call(r,t,e)&&a.push(e)},this);this._seriesIndices=a;this._seriesIndicesMap=_(a)};t.prototype.restoreData=function(n){Wm(this);var e=this._componentsMap;var r=[];e.each(function(e,t){if(g.hasClass(t)){r.push(t)}});g.topologicalTravel(r,g.getAllClassMainTypes(),function(t){q(e.get(t),function(e){if(e&&(t!=="series"||!nb(e,n))){e.restoreData()}})})};t.internalField=function(){Wm=function(e){var t=e._seriesIndices=[];q(e._componentsMap.get("series"),function(e){e&&t.push(e.componentIndex)});e._seriesIndicesMap=_(t)};Xm=function(e){if("development"!=="production"){if(!e._seriesIndices){throw new Error("Option should contains series.")}}};Ym=function(e,t){e.option={};e.option[Jm]=Zm;e._componentsMap=_({series:[]});e._componentsCount=_();var n=t.aria;if(E(n)&&n.enabled==null){n.enabled=true}rb(t,e._theme.option);f(t,fm,false);e._mergeOption(t,null)}}();return t}(A);function nb(e,t){if(t){var n=t.seriesIndex;var r=t.seriesId;var a=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||a!=null&&e.name!==a}}function rb(n,e){var r=n.color&&!n.colorLayer;q(e,function(e,t){if(t==="colorLayer"&&r){return}if(!g.hasClass(t)){if(typeof e==="object"){n[t]=!n[t]?j(e):f(n[t],e,false)}else{if(n[t]==null){n[t]=e}}}})}function ab(t,e,n){if(N(e)){var r=_();q(e,function(e){if(e!=null){var t=Vi(e,null);t!=null&&r.set(e,true)}});return le(n,function(e){return e&&r.get(e[t])})}else{var a=Vi(e,null);return le(n,function(e){return e&&a!=null&&e[t]===a})}}function ib(e,t){return t.hasOwnProperty("subType")?le(e,function(e){return e&&e.subType===t.subType}):e}function ob(e){var t=_();e&&q(_i(e.replaceMerge),function(e){if("development"!=="production"){D(g.hasClass(e),'"'+e+'" is not valid component main type in "replaceMerge"')}t.set(e,true)});return{replaceMergeMainTypeMap:t}}oe(tb,Um);var sb=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];var ub=function(){function e(t){q(sb,function(e){this[e]=O(t[e],t)},this)}return e}();var lb={};var pb=function(){function e(){this._coordinateSystems=[]}e.prototype.create=function(r,a){var i=[];q(lb,function(e,t){var n=e.create(r,a);i=i.concat(n||[])});this._coordinateSystems=i};e.prototype.update=function(t,n){q(this._coordinateSystems,function(e){e.update&&e.update(t,n)})};e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()};e.register=function(e,t){lb[e]=t};e.get=function(e){return lb[e]};return e}();var cb=/^(min|max)?(.+)$/;var db=function(){function e(e){this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[];this._api=e}e.prototype.setOption=function(e,t,n){if(e){q(_i(e.series),function(e){e&&e.data&&be(e.data)&&Te(e.data)});q(_i(e.dataset),function(e){e&&e.source&&be(e.source)&&Te(e.source)})}e=j(e);var r=this._optionBackup;var a=gb(e,t,!r);this._newBaseOption=a.baseOption;if(r){if(a.timelineOptions.length){r.timelineOptions=a.timelineOptions}if(a.mediaList.length){r.mediaList=a.mediaList}if(a.mediaDefault){r.mediaDefault=a.mediaDefault}}else{this._optionBackup=a}};e.prototype.mountOption=function(e){var t=this._optionBackup;this._timelineOptions=t.timelineOptions;this._mediaList=t.mediaList;this._mediaDefault=t.mediaDefault;this._currentMediaIndices=[];return j(e?t.baseOption:this._newBaseOption)};e.prototype.getTimelineOption=function(e){var t;var n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");if(r){t=j(n[r.getCurrentIndex()])}}return t};e.prototype.getMediaOption=function(e){var t=this._api.getWidth();var n=this._api.getHeight();var r=this._mediaList;var a=this._mediaDefault;var i=[];var o=[];if(!r.length&&!a){return o}for(var s=0,u=r.length;s<u;s++){if(mb(r[s].query,t,n)){i.push(s)}}if(!i.length&&a){i=[-1]}if(i.length&&!hb(i,this._currentMediaIndices)){o=w(i,function(e){return j(e===-1?a.option:r[e].option)})}this._currentMediaIndices=i;return o};return e}();function gb(e,n,r){var t=[];var a;var i;var o=e.baseOption;var s=e.timeline;var u=e.options;var l=e.media;var p=!!e.media;var c=!!(u||s||o&&o.timeline);if(o){i=o;if(!i.timeline){i.timeline=s}}else{if(c||p){e.options=e.media=null}i=e}if(p){if(N(l)){q(l,function(e){if("development"!=="production"){if(e&&!e.option&&E(e.query)&&E(e.query.option)){vi("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }")}}if(e&&e.option){if(e.query){t.push(e)}else if(!a){a=e}}})}else{if("development"!=="production"){vi("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")}}}d(i);q(u,function(e){return d(e)});q(t,function(e){return d(e.option)});function d(t){q(n,function(e){e(t,r)})}return{baseOption:i,timelineOptions:u||[],mediaDefault:a,mediaList:t}}function mb(e,t,n){var i={width:t,height:n,aspectratio:t/n};var o=true;q(e,function(e,t){var n=t.match(cb);if(!n||!n[1]||!n[2]){return}var r=n[1];var a=n[2].toLowerCase();if(!bb(i[a],e,r)){o=false}});return o}function bb(e,t,n){if(n==="min"){return e>=t}else if(n==="max"){return e<=t}else{return e===t}}function hb(e,t){return e.join(",")===t.join(",")}var fb=q;var vb=E;var Ob=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function yb(e){var t=e&&e.itemStyle;if(!t){return}for(var n=0,r=Ob.length;n<r;n++){var a=Ob[n];var i=t.normal;var o=t.emphasis;if(i&&i[a]){if("development"!=="production"){yi("itemStyle.normal."+a,a)}e[a]=e[a]||{};if(!e[a].normal){e[a].normal=i[a]}else{f(e[a].normal,i[a])}i[a]=null}if(o&&o[a]){if("development"!=="production"){yi("itemStyle.emphasis."+a,"emphasis."+a)}e[a]=e[a]||{};if(!e[a].emphasis){e[a].emphasis=o[a]}else{f(e[a].emphasis,o[a])}o[a]=null}}}function xb(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal;var a=e[t].emphasis;if(r){if("development"!=="production"){Oi("'normal' hierarchy in "+t+" has been removed since 4.0. All style properties are configured in "+t+" directly now.")}if(n){e[t].normal=e[t].emphasis=null;M(e[t],r)}else{e[t]=r}}if(a){if("development"!=="production"){Oi(t+".emphasis has been changed to emphasis."+t+" since 4.0")}e.emphasis=e.emphasis||{};e.emphasis[t]=a;if(a.focus){e.emphasis.focus=a.focus}if(a.blurScope){e.emphasis.blurScope=a.blurScope}}}}function Ib(e){xb(e,"itemStyle");xb(e,"lineStyle");xb(e,"areaStyle");xb(e,"label");xb(e,"labelLine");xb(e,"upperLabel");xb(e,"edgeLabel")}function Sb(e,t){var n=vb(e)&&e[t];var r=vb(n)&&n.textStyle;if(r){if("development"!=="production"){Oi("textStyle hierarchy in "+t+" has been removed since 4.0. All textStyle properties are configured in "+t+" directly now.")}for(var a=0,i=Ti.length;a<i;a++){var o=Ti[a];if(r.hasOwnProperty(o)){n[o]=r[o]}}}}function jb(e){if(e){Ib(e);Sb(e,"label");e.emphasis&&Sb(e.emphasis,"label")}}function _b(e){if(!vb(e)){return}yb(e);Ib(e);Sb(e,"label");Sb(e,"upperLabel");Sb(e,"edgeLabel");if(e.emphasis){Sb(e.emphasis,"label");Sb(e.emphasis,"upperLabel");Sb(e.emphasis,"edgeLabel")}var t=e.markPoint;if(t){yb(t);jb(t)}var n=e.markLine;if(n){yb(n);jb(n)}var r=e.markArea;if(r){jb(r)}var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!be(i)){for(var o=0;o<i.length;o++){jb(i[o])}}q(e.categories,function(e){Ib(e)})}if(a&&!be(a)){for(var o=0;o<a.length;o++){jb(a[o])}}t=e.markPoint;if(t&&t.data){var s=t.data;for(var o=0;o<s.length;o++){jb(s[o])}}n=e.markLine;if(n&&n.data){var u=n.data;for(var o=0;o<u.length;o++){if(N(u[o])){jb(u[o][0]);jb(u[o][1])}else{jb(u[o])}}}if(e.type==="gauge"){Sb(e,"axisLabel");Sb(e,"title");Sb(e,"detail")}else if(e.type==="treemap"){xb(e.breadcrumb,"itemStyle");q(e.levels,function(e){Ib(e)})}else if(e.type==="tree"){Ib(e.leaves)}}function Ab(e){return N(e)?e:e?[e]:[]}function Tb(e){return(N(e)?e[0]:e)||{}}function Cb(t,e){fb(Ab(t.series),function(e){vb(e)&&_b(e)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis");fb(n,function(e){fb(Ab(t[e]),function(e){if(e){Sb(e,"axisLabel");Sb(e.axisPointer,"label")}})});fb(Ab(t.parallel),function(e){var t=e&&e.parallelAxisDefault;Sb(t,"axisLabel");Sb(t&&t.axisPointer,"label")});fb(Ab(t.calendar),function(e){xb(e,"itemStyle");Sb(e,"dayLabel");Sb(e,"monthLabel");Sb(e,"yearLabel")});fb(Ab(t.radar),function(e){Sb(e,"name");if(e.name&&e.axisName==null){e.axisName=e.name;delete e.name;if("development"!=="production"){Oi("name property in radar component has been changed to axisName")}}if(e.nameGap!=null&&e.axisNameGap==null){e.axisNameGap=e.nameGap;delete e.nameGap;if("development"!=="production"){Oi("nameGap property in radar component has been changed to axisNameGap")}}});fb(Ab(t.geo),function(e){if(vb(e)){jb(e);fb(Ab(e.regions),function(e){jb(e)})}});fb(Ab(t.timeline),function(e){jb(e);xb(e,"label");xb(e,"itemStyle");xb(e,"controlStyle",true);var t=e.data;N(t)&&q(t,function(e){if(E(e)){xb(e,"label");xb(e,"itemStyle")}})});fb(Ab(t.toolbox),function(e){xb(e,"iconStyle");fb(e.feature,function(e){xb(e,"iconStyle")})});Sb(Tb(t.axisPointer),"label");Sb(Tb(t.tooltip).axisPointer,"label")}function wb(e,t){var n=t.split(",");var r=e;for(var a=0;a<n.length;a++){r=r&&r[n[a]];if(r==null){break}}return r}function kb(e,t,n,r){var a=t.split(",");var i=e;var o;var s=0;for(;s<a.length-1;s++){o=a[s];if(i[o]==null){i[o]={}}i=i[o]}if(r||i[a[s]]==null){i[a[s]]=n}}function Nb(t){t&&q(Pb,function(e){if(e[0]in t&&!(e[1]in t)){t[e[1]]=t[e[0]]}})}var Pb=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var Eb=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var Lb=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Db(e){var t=e&&e.itemStyle;if(t){for(var n=0;n<Lb.length;n++){var r=Lb[n][1];var a=Lb[n][0];if(t[r]!=null){t[a]=t[r];if("development"!=="production"){yi(r,a)}}}}}function Mb(e){if(!e){return}if(e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null){if("development"!=="production"){yi("label.margin","label.edgeDistance","pie")}e.edgeDistance=e.margin}}function Bb(e){if(!e){return}if(e.downplay&&!e.blur){e.blur=e.downplay;if("development"!=="production"){yi("downplay","blur","sunburst")}}}function zb(e){if(!e){return}if(e.focusNodeAdjacency!=null){e.emphasis=e.emphasis||{};if(e.emphasis.focus==null){if("development"!=="production"){yi("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey")}e.emphasis.focus="adjacency"}}}function Vb(e,t){if(e){for(var n=0;n<e.length;n++){t(e[n]);e[n]&&Vb(e[n].children,t)}}}function Rb(n,e){Cb(n,e);n.series=_i(n.series);q(n.series,function(e){if(!E(e)){return}var t=e.type;if(t==="line"){if(e.clipOverflow!=null){e.clip=e.clipOverflow;if("development"!=="production"){yi("clipOverflow","clip","line")}}}else if(t==="pie"||t==="gauge"){if(e.clockWise!=null){e.clockwise=e.clockWise;if("development"!=="production"){yi("clockWise","clockwise")}}Mb(e.label);var n=e.data;if(n&&!be(n)){for(var r=0;r<n.length;r++){Mb(n[r])}}if(e.hoverOffset!=null){e.emphasis=e.emphasis||{};if(e.emphasis.scaleSize=null){if("development"!=="production"){yi("hoverOffset","emphasis.scaleSize")}e.emphasis.scaleSize=e.hoverOffset}}}else if(t==="gauge"){var a=wb(e,"pointer.color");a!=null&&kb(e,"itemStyle.color",a)}else if(t==="bar"){Db(e);Db(e.backgroundStyle);Db(e.emphasis);var n=e.data;if(n&&!be(n)){for(var r=0;r<n.length;r++){if(typeof n[r]==="object"){Db(n[r]);Db(n[r]&&n[r].emphasis)}}}}else if(t==="sunburst"){var i=e.highlightPolicy;if(i){e.emphasis=e.emphasis||{};if(!e.emphasis.focus){e.emphasis.focus=i;if("development"!=="production"){yi("highlightPolicy","emphasis.focus","sunburst")}}}Bb(e);Vb(e.data,Bb)}else if(t==="graph"||t==="sankey"){zb(e)}else if(t==="map"){if(e.mapType&&!e.map){if("development"!=="production"){yi("mapType","map","map")}e.map=e.mapType}if(e.mapLocation){if("development"!=="production"){Oi("`mapLocation` is not used anymore.")}M(e,e.mapLocation)}}if(e.hoverAnimation!=null){e.emphasis=e.emphasis||{};if(e.emphasis&&e.emphasis.scale==null){if("development"!=="production"){yi("hoverAnimation","emphasis.scale")}e.emphasis.scale=e.hoverAnimation}}Nb(e)});if(n.dataRange){n.visualMap=n.dataRange}q(Eb,function(e){var t=n[e];if(t){if(!N(t)){t=[t]}q(t,function(e){Nb(e)})}})}function Ub(e){var i=_();e.eachSeries(function(e){var t=e.get("stack");if(t){var n=i.get(t)||i.set(t,[]);var r=e.getData();var a={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:e};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension)){return}n.length&&r.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel);n.push(a)}});i.each(Fb)}function Fb(h){q(h,function(p,c){var d=[];var g=[NaN,NaN];var e=[p.stackResultDimension,p.stackedOverDimension];var m=p.data;var b=p.isStackedByIndex;var t=m.map(e,function(e,t,n){var r=m.get(p.stackedDimension,n);if(isNaN(r)){return g}var a;var i;if(b){i=m.getRawIndex(n)}else{a=m.get(p.stackedByDimension,n)}var o=NaN;for(var s=c-1;s>=0;s--){var u=h[s];if(!b){i=u.data.rawIndexOf(u.stackedByDimension,a)}if(i>=0){var l=u.data.getByRawIndex(u.stackResultDimension,i);if(r>=0&&l>0||r<=0&&l<0){r=Ka(r,l);o=l;break}}}d[0]=r;d[1]=o;return d});m.hostModel.setData(t);p.data=t})}var Gb=function(){function e(e){this.data=e.data||(e.sourceFormat===Im?{}:[]);this.sourceFormat=e.sourceFormat||jm;this.seriesLayoutBy=e.seriesLayoutBy||_m;this.startIndex=e.startIndex||0;this.dimensionsDefine=e.dimensionsDefine;this.dimensionsDetectedCount=e.dimensionsDetectedCount;this.encodeDefine=e.encodeDefine;this.metaRawOption=e.metaRawOption}return e}();function Hb(e){return e instanceof Gb}function qb(e,t,n,r){n=n||Jb(e);var a=t.seriesLayoutBy;var i=Zb(e,n,a,t.sourceHeader,t.dimensions);var o=new Gb({data:e,sourceFormat:n,seriesLayoutBy:a,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,encodeDefine:Yb(r),metaRawOption:j(t)});return o}function Wb(e){return new Gb({data:e,sourceFormat:be(e)?Sm:Om})}function Xb(e){return new Gb({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:j(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,encodeDefine:Yb(e.encodeDefine)})}function Yb(e){return e?_(e):null}function Jb(e){var t=jm;if(be(e)){t=Sm}else if(N(e)){if(e.length===0){t=ym}for(var n=0,r=e.length;n<r;n++){var a=e[n];if(a==null){continue}else if(N(a)){t=ym;break}else if(E(a)){t=xm;break}}}else if(E(e)){for(var i in e){if(B(e,i)&&se(e[i])){t=Im;break}}}return t}function Zb(e,t,n,r,a){var i;var o;if(!e){return{dimensionsDefine:Kb(a),startIndex:o,dimensionsDetectedCount:i}}if(t===ym){var s=e;if(r==="auto"||r==null){Qb(function(e){if(e!=null&&e!=="-"){if(P(e)){o==null&&(o=1)}else{o=0}}},n,s,10)}else{o=ge(r)?r:r?1:0}if(!a&&o===1){a=[];Qb(function(e,t){a[t]=e!=null?e+"":""},n,s,Infinity)}i=a?a.length:n===Am?s.length:s[0]?s[0].length:null}else if(t===xm){if(!a){a=$b(e)}}else if(t===Im){if(!a){a=[];q(e,function(e,t){a.push(t)})}}else if(t===Om){var u=Ci(e[0]);i=N(u)&&u.length||1}else if(t===Sm){if("development"!=="production"){D(!!a,"dimensions must be given if data is TypedArray.")}}return{startIndex:o,dimensionsDefine:Kb(a),dimensionsDetectedCount:i}}function $b(e){var t=0;var n;while(t<e.length&&!(n=e[t++])){}if(n){var r=[];q(n,function(e,t){r.push(t)});return r}}function Kb(e){if(!e){return}var a=_();return w(e,function(e,t){e=E(e)?e:{name:e};var n={name:e.name,displayName:e.displayName,type:e.type};if(n.name==null){return n}n.name+="";if(n.displayName==null){n.displayName=n.name}var r=a.get(n.name);if(!r){a.set(n.name,{count:1})}else{n.name+="-"+r.count++}return n})}function Qb(e,t,n,r){if(t===Am){for(var a=0;a<n.length&&a<r;a++){e(n[a]?n[a][0]:null,a)}}else{var i=n[0]||[];for(var a=0;a<i.length&&a<r;a++){e(i[a],a)}}}var eh,th,nh;var rh;var ah;var ih=function(){function t(e,t){var n=!Hb(e)?Wb(e):e;this._source=n;var r=this._data=n.data;if(n.sourceFormat===Sm){if("development"!=="production"){if(t==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=t;this._data=r}ah(this,r,n)}t.prototype.getSource=function(){return this._source};t.prototype.count=function(){return 0};t.prototype.getItem=function(e,t){return};t.prototype.appendData=function(e){};t.prototype.clean=function(){};t.protoInitialize=function(){var e=t.prototype;e.pure=false;e.persistent=true}();t.internalField=function(){var e;ah=function(e,t,n){var r=n.sourceFormat;var a=n.seriesLayoutBy;var i=n.startIndex;var o=n.dimensionsDefine;var s=rh[bh(r,a)];if("development"!=="production"){D(s,"Invalide sourceFormat: "+r)}U(e,s);if(r===Sm){e.getItem=p;e.count=d;e.fillStorage=c}else{var u=uh(r,a);e.getItem=O(u,null,t,i,o);var l=ch(r,a);e.count=O(l,null,t,i,o)}};var p=function(e,t){e=e-this._offset;t=t||[];var n=this._data;var r=this._dimSize;var a=r*e;for(var i=0;i<r;i++){t[i]=n[a+i]}return t};var c=function(e,t,n,r){var a=this._data;var i=this._dimSize;for(var o=0;o<i;o++){var s=r[o];var u=s[0]==null?Infinity:s[0];var l=s[1]==null?-Infinity:s[1];var p=t-e;var c=n[o];for(var d=0;d<p;d++){var g=a[d*i+o];c[e+d]=g;g<u&&(u=g);g>l&&(l=g)}s[0]=u;s[1]=l}};var d=function(){return this._data?this._data.length/this._dimSize:0};rh=(e={},e[ym+"_"+_m]={pure:true,appendData:t},e[ym+"_"+Am]={pure:true,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[xm]={pure:true,appendData:t},e[Im]={pure:true,appendData:function(e){var a=this._data;q(e,function(e,t){var n=a[t]||(a[t]=[]);for(var r=0;r<(e||[]).length;r++){n.push(e[r])}})}},e[Om]={appendData:t},e[Sm]={persistent:false,pure:true,appendData:function(e){if("development"!=="production"){D(be(e),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=e},clean:function(){this._offset+=this.count();this._data=null}},e);function t(e){for(var t=0;t<e.length;t++){this._data.push(e[t])}}}();return t}();var oh=function(e,t,n,r){return e[r]};var sh=(eh={},eh[ym+"_"+_m]=function(e,t,n,r){return e[r+t]},eh[ym+"_"+Am]=function(e,t,n,r){r+=t;var a=[];var i=e;for(var o=0;o<i.length;o++){var s=i[o];a.push(s?s[r]:null)}return a},eh[xm]=oh,eh[Im]=function(e,t,n,r){var a=[];for(var i=0;i<n.length;i++){var o=n[i].name;if("development"!=="production"){if(o==null){throw new Error}}var s=e[o];a.push(s?s[r]:null)}return a},eh[Om]=oh,eh);function uh(e,t){var n=sh[bh(e,t)];if("development"!=="production"){D(n,'Do not suppport get item on "'+e+'", "'+t+'".')}return n}var lh=function(e,t,n){return e.length};var ph=(th={},th[ym+"_"+_m]=function(e,t,n){return Math.max(0,e.length-t)},th[ym+"_"+Am]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},th[xm]=lh,th[Im]=function(e,t,n){var r=n[0].name;if("development"!=="production"){if(r==null){throw new Error}}var a=e[r];return a?a.length:0},th[Om]=lh,th);function ch(e,t){var n=ph[bh(e,t)];if("development"!=="production"){D(n,'Do not suppport count on "'+e+'", "'+t+'".')}return n}var dh=function(e,t,n){return t!=null?e[t]:e};var gh=(nh={},nh[ym]=dh,nh[xm]=function(e,t,n){return t!=null?e[n]:e},nh[Im]=dh,nh[Om]=function(e,t,n){var r=Ci(e);return t==null||!(r instanceof Array)?r:r[t]},nh[Sm]=dh,nh);function mh(e){var t=gh[e];if("development"!=="production"){D(t,'Do not suppport get value on "'+e+'".')}return t}function bh(e,t){return e===ym?e+"_"+t:e}function hh(e,t,n){if(!e){return}var r=e.getRawDataItem(t);if(r==null){return}var a=e.getProvider().getSource().sourceFormat;var i;var o;var s=e.getDimensionInfo(n);if(s){i=s.name;o=s.index}return mh(a)(r,o,i)}var fh=/\{@(.+?)\}/g;var vh=function(){function e(){}e.prototype.getDataParams=function(e,t){var n=this.getData(t);var r=this.getRawValue(e,t);var a=n.getRawIndex(e);var i=n.getName(e);var o=n.getRawDataItem(e);var s=n.getItemVisual(e,"style");var u=s&&s[n.getItemVisual(e,"drawType")||"fill"];var l=s&&s.stroke;var p=this.mainType;var c=p==="series";var d=n.userOutput;return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:i,dataIndex:a,data:o,dataType:t,value:r,color:u,borderColor:l,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}};e.prototype.getFormattedLabel=function(o,e,t,n,r,s){e=e||"normal";var u=this.getData(t);var a=this.getDataParams(o,t);if(s){a.value=s.interpolatedValue}if(n!=null&&N(a.value)){a.value=a.value[n]}if(!r){var i=u.getItemModel(o);r=i.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(typeof r==="function"){a.status=e;a.dimensionIndex=n;return r(a)}else if(typeof r==="string"){var l=qg(r,a);return l.replace(fh,function(e,t){var n=t.length;var r=t.charAt(0)==="["&&t.charAt(n-1)==="]"?+t.slice(1,n-1):t;var a=hh(u,o,r);if(s&&N(s.interpolatedValue)){var i=u.getDimensionInfo(r);if(i){a=s.interpolatedValue[i.index]}}return a!=null?a+"":""})}};e.prototype.getRawValue=function(e,t){return hh(this.getData(t),e)};e.prototype.formatTooltip=function(e,t,n){return};return e}();function Oh(e){var t;var n;if(E(e)){if(e.type){n=e}else{if("development"!=="production"){console.warn("The return type of `formatTooltip` is not supported: "+Ii(e))}}}else{t=e}return{markupText:t,markupFragment:n}}function yh(e){return new xh(e)}var xh=function(){function e(e){e=e||{};this._reset=e.reset;this._plan=e.plan;this._count=e.count;this._onDirty=e.onDirty;this._dirty=true}e.prototype.perform=function(e){var t=this._upstream;var n=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var a;if(this._plan&&!n){a=this._plan(this.context)}var i=l(this._modBy);var o=this._modDataCount||0;var s=l(e&&e.modBy);var u=e&&e.modDataCount||0;if(i!==s||o!==u){a="reset"}function l(e){!(e>=1)&&(e=1);return e}var p;if(this._dirty||a==="reset"){this._dirty=false;p=this._doReset(n)}this._modBy=s;this._modDataCount=u;var c=e&&e.step;if(t){if("development"!=="production"){D(t._outputDueEnd!=null)}this._dueEnd=t._outputDueEnd}else{if("development"!=="production"){D(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var d=this._dueIndex;var g=Math.min(c!=null?this._dueIndex+c:Infinity,this._dueEnd);if(!n&&(p||d<g)){var m=this._progress;if(N(m)){for(var b=0;b<m.length;b++){this._doProgress(m[b],d,g,s,u)}}else{this._doProgress(m,d,g,s,u)}}this._dueIndex=g;var h=this._settedOutputEnd!=null?this._settedOutputEnd:g;if("development"!=="production"){D(h>=this._outputDueEnd)}this._outputDueEnd=h}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};e.prototype.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};e.prototype._doProgress=function(e,t,n,r,a){Ih.reset(t,n,r,a);this._callingProgress=e;this._callingProgress({start:t,end:n,count:n-t,next:Ih.next},this.context)};e.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0;this._settedOutputEnd=null;var t;var n;if(!e&&this._reset){t=this._reset(this.context);if(t&&t.progress){n=t.forceFirstProgress;t=t.progress}if(N(t)&&!t.length){t=null}}this._progress=t;this._modBy=this._modDataCount=null;var r=this._downstream;r&&r.dirty();return n};e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};e.prototype.pipe=function(e){if("development"!=="production"){D(e&&!e._disposed&&e!==this)}if(this._downstream!==e||this._dirty){this._downstream=e;e._upstream=this;e.dirty()}};e.prototype.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};e.prototype.getUpstream=function(){return this._upstream};e.prototype.getDownstream=function(){return this._downstream};e.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};return e}();var Ih=function(){var a;var i;var o;var s;var u;var l={reset:function(e,t,n,r){i=e;a=t;o=n;s=r;u=Math.ceil(s/o);l.next=o>1&&s>0?c:p}};return l;function p(){return i<a?i++:null}function c(){var e=i%u*o+Math.ceil(i/u);var t=i>=a?null:e<s?e:i;i++;return t}}();function Sh(e,t){var n=t&&t.type;if(n==="ordinal"){var r=t&&t.ordinalMeta;return r?r.parseAndCollect(e):e}if(n==="time"&&typeof e!=="number"&&e!=null&&e!=="-"){e=+ri(e)}return e==null||e===""?NaN:+e}var jh=_({number:function(e){return parseFloat(e)},time:function(e){return+ri(e)},trim:function(e){return typeof e==="string"?_e(e):e}});function _h(e){return jh.get(e)}var Ah={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}};var Th=function(){function e(e,t){if(typeof t!=="number"){var n="";if("development"!=="production"){n='rvalue of "<", ">", "<=", ">=" can only be number in filter.'}h(n)}this._opFn=Ah[e];this._rvalFloat=li(t)}e.prototype.evaluate=function(e){return typeof e==="number"?this._opFn(e,this._rvalFloat):this._opFn(li(e),this._rvalFloat)};return e}();var Ch=function(){function e(e,t){var n=e==="desc";this._resultLT=n?1:-1;if(t==null){t=n?"min":"max"}this._incomparable=t==="min"?-Infinity:Infinity}e.prototype.evaluate=function(e,t){var n=typeof e;var r=typeof t;var a=n==="number"?e:li(e);var i=r==="number"?t:li(t);var o=isNaN(a);var s=isNaN(i);if(o){a=this._incomparable}if(s){i=this._incomparable}if(o&&s){var u=n==="string";var l=r==="string";if(u){a=l?e:0}if(l){i=u?t:0}}return a<i?this._resultLT:a>i?-this._resultLT:0};return e}();var wh=function(){function e(e,t){this._rval=t;this._isEQ=e;this._rvalTypeof=typeof t;this._rvalFloat=li(t)}e.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;if(n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")){t=li(e)===this._rvalFloat}}return this._isEQ?t:!t};return e}();function kh(e,t){return e==="eq"||e==="ne"?new wh(e==="eq",t):B(Ah,e)?new Th(e,t):null}var Nh=function(){function e(){}e.prototype.getRawData=function(){throw new Error("not supported")};e.prototype.getRawDataItem=function(e){throw new Error("not supported")};e.prototype.cloneRawData=function(){return};e.prototype.getDimensionInfo=function(e){return};e.prototype.cloneAllDimensionInfo=function(){return};e.prototype.count=function(){return};e.prototype.retrieveValue=function(e,t){return};e.prototype.retrieveValueFromItem=function(e,t){return};e.prototype.convertValue=function(e,t){return Sh(e,t)};return e}();function Ph(e,t){var n=new Nh;var r=e.data;var a=n.sourceFormat=e.sourceFormat;var i=e.startIndex;var o="";if(e.seriesLayoutBy!==_m){if("development"!=="production"){o='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'}h(o)}var s=[];var u={};var l=e.dimensionsDefine;if(l){q(l,function(e,t){var n=e.name;var r={index:t,name:n,displayName:e.displayName};s.push(r);if(n!=null){var a="";if(B(u,n)){if("development"!=="production"){a='dimension name "'+n+'" duplicated.'}h(a)}u[n]=r}})}else{for(var p=0;p<e.dimensionsDetectedCount||0;p++){s.push({index:p})}}var c=uh(a,_m);if(t.__isBuiltIn){n.getRawDataItem=function(e){return c(r,i,s,e)};n.getRawData=O(Eh,null,e)}n.cloneRawData=O(Lh,null,e);var d=ch(a,_m);n.count=O(d,null,r,i,s);var g=mh(a);n.retrieveValue=function(e,t){var n=c(r,i,s,e);return m(n,t)};var m=n.retrieveValueFromItem=function(e,t){if(e==null){return}var n=s[t];if(n){return g(e,t,n.name)}};n.getDimensionInfo=O(Dh,null,s,u);n.cloneAllDimensionInfo=O(Mh,null,s);return n}function Eh(e){var t=e.sourceFormat;if(!Uh(t)){var n="";if("development"!=="production"){n="`getRawData` is not supported in source format "+t}h(n)}return e.data}function Lh(e){var t=e.sourceFormat;var n=e.data;if(!Uh(t)){var r="";if("development"!=="production"){r="`cloneRawData` is not supported in source format "+t}h(r)}if(t===ym){var a=[];for(var i=0,o=n.length;i<o;i++){a.push(n[i].slice())}return a}else if(t===xm){var a=[];for(var i=0,o=n.length;i<o;i++){a.push(U({},n[i]))}return a}}function Dh(e,t,n){if(n==null){return}if(typeof n==="number"||!isNaN(n)&&!B(t,n)){return e[n]}else if(B(t,n)){return t[n]}}function Mh(e){return j(e)}var Bh=_();function zh(e){e=j(e);var t=e.type;var n="";if(!t){if("development"!=="production"){n="Must have a `type` when `registerTransform`."}h(n)}var r=t.split(":");if(r.length!==2){if("development"!=="production"){n='Name must include namespace like "ns:regression".'}h(n)}var a=false;if(r[0]==="echarts"){t=r[1];a=true}e.__isBuiltIn=a;Bh.set(t,e)}function Vh(e,t,n){var r=_i(e);var a=r.length;var i="";if(!a){if("development"!=="production"){i="If `transform` declared, it should at least contain one transform."}h(i)}for(var o=0,s=a;o<s;o++){var u=r[o];t=Rh(u,t,n,a===1?null:o);if(o!==s-1){t.length=Math.max(t.length,1)}}return t}function Rh(e,s,n,r){var t="";if(!s.length){if("development"!=="production"){t="Must have at least one upstream dataset."}h(t)}if(!E(e)){if("development"!=="production"){t="transform declaration must be an object rather than "+typeof e+"."}h(t)}var a=e.type;var i=Bh.get(a);if(!i){if("development"!=="production"){t='Can not find transform on type "'+a+'".'}h(t)}var o=w(s,function(e){return Ph(e,i)});var u=_i(i.transform({upstream:o[0],upstreamList:o,config:j(e.config)}));if("development"!=="production"){if(e.print){var l=w(u,function(e){var t=r!=null?" === pipe index: "+r:"";return["=== dataset index: "+n.datasetIndex+t+" ===","- transform result data:",Ii(e.data),"- transform result dimensions:",Ii(e.dimensions)].join("\n")}).join("\n");xi(l)}}return w(u,function(e,t){var n="";if(!E(e)){if("development"!=="production"){n="A transform should not return some empty results."}h(n)}if(!e.data){if("development"!=="production"){n="Transform result data should be not be null or undefined"}h(n)}var r=Jb(e.data);if(!Uh(r)){if("development"!=="production"){n="Transform result data should be array rows or object rows."}h(n)}var a;var i=s[0];if(i&&t===0&&!e.dimensions){var o=i.startIndex;if(o){e.data=i.data.slice(0,o).concat(e.data)}a={seriesLayoutBy:_m,sourceHeader:o,dimensions:i.metaRawOption.dimensions}}else{a={seriesLayoutBy:_m,sourceHeader:0,dimensions:e.dimensions}}return qb(e.data,a,null,null)})}function Uh(e){return e===ym||e===xm}var Fh=function(){function e(e){this._sourceList=[];this._upstreamSignList=[];this._versionSignBase=0;this._sourceHost=e}e.prototype.dirty=function(){this._setLocalSource([],[])};e.prototype._setLocalSource=function(e,t){this._sourceList=e;this._upstreamSignList=t;this._versionSignBase++;if(this._versionSignBase>9e10){this._versionSignBase=0}};e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase};e.prototype.prepareSource=function(){if(this._isDirty()){this._createSource()}};e.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost;var t=this._getUpstreamSourceManagers();var n=!!t.length;var r;var a;if(Hh(e)){var i=e;var o=void 0;var s=void 0;var u=void 0;if(n){var l=t[0];l.prepareSource();u=l.getSource();o=u.data;s=u.sourceFormat;a=[l._getVersionSign()]}else{o=i.get("data",true);s=be(o)?Sm:Om;a=[]}var p=this._getSourceMetaRawOption();var c=u?u.metaRawOption:null;var d=L(p.seriesLayoutBy,c?c.seriesLayoutBy:null);var g=L(p.sourceHeader,c?c.sourceHeader:null);var m=L(p.dimensions,c?c.dimensions:null);r=[qb(o,{seriesLayoutBy:d,sourceHeader:g,dimensions:m},s,i.get("encode",true))]}else{var b=e;if(n){var h=this._applyTransform(t);r=h.sourceList;a=h.upstreamSignList}else{var f=b.get("source",true);r=[qb(f,this._getSourceMetaRawOption(),null,null)];a=[]}}if("development"!=="production"){D(r&&a)}this._setLocalSource(r,a)};e.prototype._applyTransform=function(e){var t=this._sourceHost;var n=t.get("transform",true);var r=t.get("fromTransformResult",true);if("development"!=="production"){D(r!=null||n!=null)}if(r!=null){var a="";if(e.length!==1){if("development"!=="production"){a="When using `fromTransformResult`, there should be only one upstream dataset"}qh(a)}}var i;var o=[];var s=[];q(e,function(e){e.prepareSource();var t=e.getSource(r||0);var n="";if(r!=null&&!t){if("development"!=="production"){n="Can not retrieve result by `fromTransformResult`: "+r}qh(n)}o.push(t);s.push(e._getVersionSign())});if(n){i=Vh(n,o,{datasetIndex:t.componentIndex})}else if(r!=null){i=[Xb(o[0])]}return{sourceList:i,upstreamSignList:s}};e.prototype._isDirty=function(){var e=this._sourceList;if(!e.length){return true}var t=this._getUpstreamSourceManagers();for(var n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign()){return true}}};e.prototype.getSource=function(e){return this._sourceList[e||0]};e.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Hh(e)){var t=Pm(e);return!t?[]:[t.getSourceManager()]}else{return w(Em(e),function(e){return e.getSourceManager()})}};e.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost;var t;var n;var r;if(Hh(e)){t=e.get("seriesLayoutBy",true);n=e.get("sourceHeader",true);r=e.get("dimensions",true)}else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",true);n=a.get("sourceHeader",true);r=a.get("dimensions",true)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:r}};return e}();function Gh(e){var t=e.option.transform;t&&Te(e.option.transform)}function Hh(e){return e.mainType==="series"}function qh(e){throw new Error(e)}var Wh="line-height:1";function Xh(e,t){var n=e.color||"#6e7079";var r=e.fontSize||12;var a=e.fontWeight||"400";var i=e.color||"#464646";var o=e.fontSize||14;var s=e.fontWeight||"900";if(t==="html"){return{nameStyle:"font-size:"+Ug(r+"")+"px;color:"+Ug(n)+";font-weight:"+Ug(a+""),valueStyle:"font-size:"+Ug(o+"")+"px;color:"+Ug(i)+";font-weight:"+Ug(s+"")}}else{return{nameStyle:{fontSize:r,fill:n,fontWeight:a},valueStyle:{fontSize:o,fill:i,fontWeight:s}}}}var Yh=[0,10,20,30];var Jh=["","\n","\n\n","\n\n\n"];function Zh(e,t){t.type=e;return t}function $h(e){return B(Kh,e.type)&&Kh[e.type]}var Kh={section:{planLayout:function(e){var t=e.blocks.length;var n=t>1||t>0&&!e.noHeader;var r=0;q(e.blocks,function(e){$h(e).planLayout(e);var t=e.__gapLevelBetweenSubBlocks;if(t>=r){r=t+(n&&(!t||e.type==="section"&&!e.noHeader)?1:0)}});e.__gapLevelBetweenSubBlocks=r},build:function(e,t,n,r){var a=t.noHeader;var i=tf(t);var o=Qh(e,t,a?n:i.html,r);if(a){return o}var s=Fg(t.header,"ordinal",e.useUTC);var u=Xh(r,e.renderMode).nameStyle;if(e.renderMode==="richText"){return of(e,s,u)+i.richText+o}else{return nf('<div style="'+u+";"+Wh+';">'+Ug(s)+"</div>"+o,n)}}},nameValue:{planLayout:function(e){e.__gapLevelBetweenSubBlocks=0},build:function(e,t,n,r){var a=e.renderMode;var i=t.noName;var o=t.noValue;var s=!t.markerType;var u=t.name;var l=t.value;var p=e.useUTC;if(i&&o){return}var c=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a);var d=i?"":Fg(u,"ordinal",p);var g=t.valueType;var m=o?[]:N(l)?w(l,function(e,t){return Fg(e,N(g)?g[t]:g,p)}):[Fg(l,N(g)?g[0]:g,p)];var b=!s||!i;var h=!s&&i;var f=Xh(r,a),v=f.nameStyle,O=f.valueStyle;return a==="richText"?(s?"":c)+(i?"":of(e,d,v))+(o?"":sf(e,m,b,h,O)):nf((s?"":c)+(i?"":rf(d,!s,v))+(o?"":af(m,b,h,O)),n)}}};function Qh(r,e,t,a){var i=[];var n=e.blocks||[];D(!n||N(n));n=n||[];var o=r.orderMode;if(e.sortBlocks&&o){n=n.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(B(s,o)){var u=new Ch(s[o],null);n.sort(function(e,t){return u.evaluate(e.sortParam,t.sortParam)})}else if(o==="seriesDesc"){n.reverse()}}var l=tf(e);q(n,function(e,t){var n=$h(e).build(r,e,t>0?l.html:0,a);n!=null&&i.push(n)});if(!i.length){return}return r.renderMode==="richText"?i.join(l.richText):nf(i.join(""),t)}function ef(e,t,n,r,a,i){if(!e){return}var o=$h(e);o.planLayout(e);var s={useUTC:a,renderMode:n,orderMode:r,markupStyleCreator:t};return o.build(s,e,0,i)}function tf(e){var t=e.__gapLevelBetweenSubBlocks;return{html:Yh[t],richText:Jh[t]}}function nf(e,t){var n='<div style="clear:both"></div>';var r="margin: "+t+"px 0 0";return'<div style="'+r+";"+Wh+';">'+e+n+"</div>"}function rf(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Ug(e)+"</span>"}function af(e,t,n,r){var a=n?"10px":"20px";var i=t?"float:right;margin-left:"+a:"";return'<span style="'+i+";"+r+'">'+w(e,function(e){return Ug(e)}).join("&nbsp;&nbsp;")+"</span>"}function of(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function sf(e,t,n,r,a){var i=[a];var o=r?10:20;n&&i.push({padding:[0,0,0,o],align:"right"});return e.markupStyleCreator.wrapRichTextStyle(t.join("  "),i)}function uf(e,t){var n=e.getData().getItemVisual(t,"style");var r=n[e.visualDrawType];return Zg(r)}function lf(e,t){var n=e.get("padding");return n!=null?n:t==="richText"?[8,10]:10}var pf=function(){function e(){this.richTextStyles={};this._nextStyleNameId=ci()}e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++};e.prototype.makeTooltipMarker=function(e,t,n){var r=n==="richText"?this._generateStyleName():null;var a=Xg({color:t,type:e,renderMode:n,markerId:r});if(P(a)){return a}else{if("development"!=="production"){D(r)}this.richTextStyles[r]=a.style;return a.content}};e.prototype.wrapRichTextStyle=function(e,t){var n={};if(N(t)){q(t,function(e){return U(n,e)})}else{U(n,t)}var r=this._generateStyleName();this.richTextStyles[r]=n;return"{"+r+"|"+e+"}"};return e}();function cf(e){var t=e.series;var n=e.dataIndex;var r=e.multipleSeries;var a=t.getData();var i=a.mapDimensionsAll("defaultedTooltip");var o=i.length;var s=t.getRawValue(n);var u=N(s);var l=uf(t,n);var p;var c;var d;var g;if(o>1||u&&!o){var m=df(s,t,n,i,l);p=m.inlineValues;c=m.inlineValueTypes;d=m.blocks;g=m.inlineValues[0]}else if(o){var b=a.getDimensionInfo(i[0]);g=p=hh(a,n,i[0]);c=b.type}else{g=p=u?s[0]:s}var h=Fi(t);var f=h&&t.name||"";var v=a.getName(n);var O=r?f:v;return Zh("section",{header:f,noHeader:r||!h,sortParam:g,blocks:[Zh("nameValue",{markerType:"item",markerColor:l,name:O,noName:!_e(O),value:p,valueType:c})].concat(d||[])})}function df(e,t,n,r,a){var i=t.getData();var o=ue(e,function(e,t,n){var r=i.getDimensionInfo(n);return e=e||r&&r.tooltip!==false&&r.displayName!=null},false);var s=[];var u=[];var l=[];r.length?q(r,function(e){p(hh(i,n,e),e)}):q(e,p);function p(e,t){var n=i.getDimensionInfo(t);if(!n||n.otherDims.tooltip===false){return}if(o){l.push(Zh("nameValue",{markerType:"subItem",markerColor:a,name:n.displayName,value:e,valueType:n.type}))}else{s.push(e);u.push(n.type)}}return{inlineValues:s,inlineValueTypes:u,blocks:l}}var gf=Ji();function mf(e,t){return e.getName(t)||e.getId(t)}var bf=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e._selectedDataIndicesMap={};return e}n.prototype.init=function(e,t,n){this.seriesIndex=this.componentIndex;this.dataTask=yh({count:vf,reset:Of});this.dataTask.context={model:this};this.mergeDefaultAndTheme(e,n);var r=gf(this).sourceManager=new Fh(this);r.prepareSource();var a=this.getInitialData(e,n);xf(a,this);this.dataTask.context.data=a;if("development"!=="production"){D(a,"getInitialData returned invalid data.")}gf(this).dataBeforeProcessed=a;hf(this);this._initSelectedMapFromData(a)};n.prototype.mergeDefaultAndTheme=function(e,t){var n=lm(this);var r=n?cm(e):{};var a=this.subType;if(g.hasClass(a)){a+="Series"}f(e,t.getTheme().get(this.subType));f(e,this.getDefaultOption());Ai(e,"label",["show"]);this.fillDataTextStyle(e.data);if(n){pm(e,r,n)}};n.prototype.mergeOption=function(e,t){e=f(this.option,e,true);this.fillDataTextStyle(e.data);var n=lm(this);if(n){pm(this.option,e,n)}var r=gf(this).sourceManager;r.dirty();r.prepareSource();var a=this.getInitialData(e,t);xf(a,this);this.dataTask.dirty();this.dataTask.context.data=a;gf(this).dataBeforeProcessed=a;hf(this);this._initSelectedMapFromData(a)};n.prototype.fillDataTextStyle=function(e){if(e&&!be(e)){var t=["show"];for(var n=0;n<e.length;n++){if(e[n]&&e[n].label){Ai(e[n],"label",t)}}}};n.prototype.getInitialData=function(e,t){return};n.prototype.appendData=function(e){var t=this.getRawData();t.appendData(e.data)};n.prototype.getData=function(e){var t=Sf(this);if(t){var n=t.context.data;return e==null?n:n.getLinkedData(e)}else{return gf(this).data}};n.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]};n.prototype.setData=function(e){var t=Sf(this);if(t){var n=t.context;n.outputData=e;if(t!==this.dataTask){n.data=e}}gf(this).data=e};n.prototype.getSource=function(){return gf(this).sourceManager.getSource()};n.prototype.getRawData=function(){return gf(this).dataBeforeProcessed};n.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()};n.prototype.formatTooltip=function(e,t,n){return cf({series:this,dataIndex:e,multipleSeries:t})};n.prototype.isAnimationEnabled=function(){if(S.node){return false}var e=this.getShallow("animation");if(e){if(this.getData().count()>this.getShallow("animationThreshold")){e=false}}return!!e};n.prototype.restoreData=function(){this.dataTask.dirty()};n.prototype.getColorFromPalette=function(e,t,n){var r=this.ecModel;var a=Um.prototype.getColorFromPalette.call(this,e,t,n);if(!a){a=r.getColorFromPalette(e,t,n)}return a};n.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)};n.prototype.getProgressive=function(){return this.get("progressive")};n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")};n.prototype.select=function(e,t){this._innerSelect(this.getData(t),e)};n.prototype.unselect=function(e,t){var n=this.option.selectedMap;if(!n){return}var r=this.getData(t);for(var a=0;a<e.length;a++){var i=e[a];var o=mf(r,i);n[o]=false;this._selectedDataIndicesMap[o]=-1}};n.prototype.toggleSelect=function(e,t){var n=[];for(var r=0;r<e.length;r++){n[0]=e[r];this.isSelected(e[r],t)?this.unselect(n,t):this.select(n,t)}};n.prototype.getSelectedDataIndices=function(){var e=this._selectedDataIndicesMap;var t=k(e);var n=[];for(var r=0;r<t.length;r++){var a=e[t[r]];if(a>=0){n.push(a)}}return n};n.prototype.isSelected=function(e,t){var n=this.option.selectedMap;if(!n){return false}var r=this.getData(t);var a=mf(r,e);return n[a]||false};n.prototype._innerSelect=function(e,t){var n,r;var a=this.option.selectedMode;var i=t.length;if(!a||!i){return}if(a==="multiple"){var o=this.option.selectedMap||(this.option.selectedMap={});for(var s=0;s<i;s++){var u=t[s];var l=mf(e,u);o[l]=true;this._selectedDataIndicesMap[l]=e.getRawIndex(u)}}else if(a==="single"||a===true){var p=t[i-1];var l=mf(e,p);this.option.selectedMap=(n={},n[l]=true,n);this._selectedDataIndicesMap=(r={},r[l]=e.getRawIndex(p),r)}};n.prototype._initSelectedMapFromData=function(n){if(this.option.selectedMap){return}var r=[];if(n.hasItemOption){n.each(function(e){var t=n.getRawDataItem(e);if(t&&t.selected){r.push(e)}})}if(r.length>0){this._innerSelect(n,r)}};n.registerClass=function(e){return g.registerClass(e)};n.protoInitialize=function(){var e=n.prototype;e.type="series.__base__";e.seriesIndex=0;e.useColorPaletteOnData=false;e.ignoreStyleOnData=false;e.hasSymbolVisual=false;e.defaultSymbol="circle";e.visualStyleAccessPath="itemStyle";e.visualDrawType="fill"}();return n}(g);oe(bf,vh);oe(bf,Um);ho(bf,g);function hf(e){var t=e.name;if(!Fi(e)){e.name=ff(e)||t}}function ff(e){var n=e.getRawData();var t=n.mapDimensionsAll("seriesName");var r=[];q(t,function(e){var t=n.getDimensionInfo(e);t.displayName&&r.push(t.displayName)});return r.join(" ")}function vf(e){return e.model.getRawData().count()}function Of(e){var t=e.model;t.setData(t.getRawData().cloneShallow());return yf}function yf(e,t){if(t.outputData&&e.end>t.outputData.count()){t.model.getRawData().cloneShallow(t.outputData)}}function xf(t,n){q(o(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(e){t.wrapMethod(e,y(If,n))})}function If(e,t){var n=Sf(e);if(n){n.setOutputEnd((t||this).count())}return t}function Sf(e){var t=(e.ecModel||{}).scheduler;var n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var a=r.agentStubMap;if(a){r=a.get(e.uid)}}return r}}var jf=function(){function e(){this.group=new F;this.uid=Ud("viewComponent")}e.prototype.init=function(e,t){};e.prototype.render=function(e,t,n,r){};e.prototype.dispose=function(e,t){};e.prototype.updateView=function(e,t,n,r){};e.prototype.updateLayout=function(e,t,n,r){};e.prototype.updateVisual=function(e,t,n,r){};e.prototype.blurSeries=function(e,t){};return e}();mo(jf);xo(jf);function _f(){var s=Ji();return function(e){var t=s(e);var n=e.pipelineContext;var r=!!t.large;var a=!!t.progressiveRender;var i=t.large=!!(n&&n.large);var o=t.progressiveRender=!!(n&&n.progressiveRender);return!!(r!==i||a!==o)&&"reset"}}var Af=Ji();var Tf=_f();var m=function(){function t(){this.group=new F;this.uid=Ud("viewChart");this.renderTask=yh({plan:kf,reset:Nf});this.renderTask.context={view:this}}t.prototype.init=function(e,t){};t.prototype.render=function(e,t,n,r){};t.prototype.highlight=function(e,t,n,r){wf(e.getData(),r,"emphasis")};t.prototype.downplay=function(e,t,n,r){wf(e.getData(),r,"normal")};t.prototype.remove=function(e,t){this.group.removeAll()};t.prototype.dispose=function(e,t){};t.prototype.updateView=function(e,t,n,r){this.render(e,t,n,r)};t.prototype.updateLayout=function(e,t,n,r){this.render(e,t,n,r)};t.prototype.updateVisual=function(e,t,n,r){this.render(e,t,n,r)};t.markUpdateMethod=function(e,t){Af(e).updateMethod=t};t.protoInitialize=function(){var e=t.prototype;e.type="chart"}();return t}();function Cf(e,t,n){if(e){(t==="emphasis"?zl:Vl)(e,n)}}function wf(t,e,n){var r=Yi(t,e);var a=e&&e.highlightKey!=null?lp(e.highlightKey):null;if(r!=null){q(_i(r),function(e){Cf(t.getItemGraphicEl(e),n,a)})}else{t.eachItemGraphicEl(function(e){Cf(e,n,a)})}}mo(m,["dispose"]);xo(m);function kf(e){return Tf(e.model)}function Nf(e){var t=e.model;var n=e.ecModel;var r=e.api;var a=e.payload;var i=t.pipelineContext.progressiveRender;var o=e.view;var s=a&&Af(a).updateMethod;var u=i?"incrementalPrepareRender":s&&o[s]?s:"render";if(u!=="render"){o[u](t,n,r,a)}return Pf[u]}var Pf={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:true,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};var Ef="\0__throttleOriginMethod";var Lf="\0__throttleRate";var Df="\0__throttleType";function Mf(e,a,i){var o;var s=0;var u=0;var l=null;var p;var c;var d;var g;a=a||0;function m(){u=(new Date).getTime();l=null;e.apply(c,d||[])}var t=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}o=(new Date).getTime();c=this;d=e;var n=g||a;var r=g||i;g=null;p=o-(r?s:u)-n;clearTimeout(l);if(r){l=setTimeout(m,n)}else{if(p>=0){m()}else{l=setTimeout(m,-p)}}s=o};t.clear=function(){if(l){clearTimeout(l);l=null}};t.debounceNextCall=function(e){g=e};return t}function Bf(e,t,n,r){var a=e[t];if(!a){return}var i=a[Ef]||a;var o=a[Df];var s=a[Lf];if(s!==n||o!==r){if(n==null||!r){return e[t]=i}a=e[t]=Mf(i,n,r==="debounce");a[Ef]=i;a[Df]=r;a[Lf]=n}return a}function zf(e,t){var n=e[t];if(n&&n[Ef]){e[t]=n[Ef]}}var Vf=Ji();var Rf={itemStyle:Io(Bd,true),lineStyle:Io(Ld,true)};var Uf={lineStyle:"stroke",itemStyle:"fill"};function Ff(e,t){var n=e.visualStyleMapper||Rf[t];if(!n){console.warn("Unkown style type '"+t+"'.");return Rf.itemStyle}return n}function Gf(e,t){var n=e.visualDrawType||Uf[t];if(!n){console.warn("Unkown style type '"+t+"'.");return"fill"}return n}var Hf={createOnAllSeries:true,performRawSeries:true,reset:function(a,e){var t=a.getData();var n=a.visualStyleAccessPath||"itemStyle";var r=a.getModel(n);var i=Ff(a,n);var o=i(r);var s=r.getShallow("decal");if(s){t.setVisual("decal",s);s.dirty=true}var u=Gf(a,n);var l=o[u];var p=x(l)?l:null;var c=o.fill==="auto"||o.stroke==="auto";if(!o[u]||p||c){var d=a.getColorFromPalette(a.name,null,e.getSeriesCount());if(!o[u]){o[u]=d;t.setVisual("colorFromPalette",true)}o.fill=o.fill==="auto"||typeof o.fill==="function"?d:o.fill;o.stroke=o.stroke==="auto"||typeof o.stroke==="function"?d:o.stroke}t.setVisual("style",o);t.setVisual("drawType",u);if(!e.isSeriesFiltered(a)&&p){t.setVisual("colorFromPalette",false);return{dataEach:function(e,t){var n=a.getDataParams(t);var r=U({},o);r[u]=p(n);e.setItemVisual(t,"style",r)}}}}};var qf=new A;var Wf={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){if(e.ignoreStyleOnData||t.isSeriesFiltered(e)){return}var n=e.getData();var i=e.visualStyleAccessPath||"itemStyle";var o=Ff(e,i);var s=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(e,t){var n=e.getRawDataItem(t);if(n&&n[i]){qf.option=n[i];var r=o(qf);var a=e.ensureUniqueItemVisual(t,"style");U(a,r);if(qf.option.decal){e.setItemVisual(t,"decal",qf.option.decal);qf.option.decal.dirty=true}if(s in r){e.setItemVisual(t,"colorFromPalette",false)}}}:null}}};var Xf={performRawSeries:true,overallReset:function(t){var n=_();t.eachSeries(function(e){if(!e.useColorPaletteOnData){return}var t=n.get(e.type);if(!t){t={};n.set(e.type,t)}Vf(e).scope=t});t.eachSeries(function(o){if(!o.useColorPaletteOnData||t.isSeriesFiltered(o)){return}var s=o.getRawData();var u={};var l=o.getData();var p=Vf(o).scope;var e=o.visualStyleAccessPath||"itemStyle";var c=Gf(o,e);l.each(function(e){var t=l.getRawIndex(e);u[t]=e});s.each(function(e){var t=u[e];var n=l.getItemVisual(t,"colorFromPalette");if(n){var r=l.ensureUniqueItemVisual(t,"style");var a=s.getName(e)||e+"";var i=s.count();r[c]=o.getColorFromPalette(a,p,i)}})})}};var Yf=Math.PI;function Jf(a,i){i=i||{};M(i,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:true,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new F;var o=new R({style:{fill:i.maskColor},zlevel:i.zlevel,z:1e4});e.add(o);var s=new G({style:{text:i.text,fill:i.textColor,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle,fontFamily:i.fontFamily},zlevel:i.zlevel,z:10001});var u=new R({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:i.zlevel,z:10001});e.add(u);var l;if(i.showSpinner){l=new Oc({shape:{startAngle:-Yf/2,endAngle:-Yf/2+.1,r:i.spinnerRadius},style:{stroke:i.color,lineCap:"round",lineWidth:i.lineWidth},zlevel:i.zlevel,z:10001});l.animateShape(true).when(1e3,{endAngle:Yf*3/2}).start("circularInOut");l.animateShape(true).when(1e3,{startAngle:Yf*3/2}).delay(300).start("circularInOut");e.add(l)}e.resize=function(){var e=s.getBoundingRect().width;var t=i.showSpinner?i.spinnerRadius:0;var n=(a.getWidth()-t*2-(i.showSpinner&&e?10:0)-e)/2-(i.showSpinner&&e?0:5+e/2)+(i.showSpinner?0:e/2)+(e?0:t);var r=a.getHeight()/2;i.showSpinner&&l.setShape({cx:n,cy:r});u.setShape({x:n-t,y:r-t,width:t*2,height:t*2});o.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};e.resize();return e}var Zf=function(){function e(e,t,n,r){this._stageTaskMap=_();this.ecInstance=e;this.api=t;n=this._dataProcessorHandlers=n.slice();r=this._visualHandlers=r.slice();this._allHandlers=n.concat(r)}e.prototype.restoreData=function(e,t){e.restoreData(t);this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})};e.prototype.getPerformArgs=function(e,t){if(!e.__pipeline){return}var n=this._pipelineMap.get(e.__pipeline.id);var r=n.context;var a=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex;var i=a?n.step:null;var o=r&&r.modDataCount;var s=o!=null?Math.ceil(o/i):null;return{step:i,modBy:s,modDataCount:o}};e.prototype.getPipeline=function(e){return this._pipelineMap.get(e)};e.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid);var r=e.getData();var a=r.count();var i=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold;var o=e.get("large")&&a>=e.get("largeThreshold");var s=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:s,large:o}};e.prototype.restorePipelines=function(e){var r=this;var a=r._pipelineMap=_();e.eachSeries(function(e){var t=e.getProgressive();var n=e.uid;a.set(n,{id:n,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:t&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(t||700),count:0});r._pipe(e,e.dataTask)})};e.prototype.prepareStageTasks=function(){var r=this._stageTaskMap;var a=this.api.getModel();var i=this.api;q(this._allHandlers,function(e){var t=r.get(e.uid)||r.set(e.uid,{});var n="";if("development"!=="production"){n='"reset" and "overallReset" must not be both specified.'}D(!(e.reset&&e.overallReset),n);e.reset&&this._createSeriesStageTask(e,t,a,i);e.overallReset&&this._createOverallStageTask(e,t,a,i)},this)};e.prototype.prepareView=function(e,t,n,r){var a=e.renderTask;var i=a.context;i.model=t;i.ecModel=n;i.api=r;a.__block=!e.incrementalPrepareRender;this._pipe(t,a)};e.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:true})};e.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)};e.prototype._performStageTasks=function(e,u,l,p){p=p||{};var c=false;var d=this;q(e,function(r,e){if(p.visualType&&p.visualType!==r.visualType){return}var t=d._stageTaskMap.get(r.uid);var n=t.seriesTaskMap;var a=t.overallTask;if(a){var i;var o=a.agentStubMap;o.each(function(e){if(g(p,e)){e.dirty();i=true}});i&&a.dirty();d.updatePayload(a,l);var s=d.getPerformArgs(a,p.block);o.each(function(e){e.perform(s)});if(a.perform(s)){c=true}}else if(n){n.each(function(e,t){if(g(p,e)){e.dirty()}var n=d.getPerformArgs(e,p.block);n.skip=!r.performRawSeries&&u.isSeriesFiltered(e.context.model);d.updatePayload(e,l);if(e.perform(n)){c=true}})}});function g(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}this.unfinished=c||this.unfinished};e.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t=e.dataTask.perform()||t});this.unfinished=t||this.unfinished};e.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};e.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};e.prototype._createSeriesStageTask=function(r,e,a,i){var o=this;var s=e.seriesTaskMap;var u=e.seriesTaskMap=_();var t=r.seriesType;var n=r.getTargetSeries;if(r.createOnAllSeries){a.eachRawSeries(l)}else if(t){a.eachRawSeriesByType(t,l)}else if(n){n(a,i).each(l)}function l(e){var t=e.uid;var n=u.set(t,s&&s.get(t)||yh({plan:tv,reset:nv,count:iv}));n.context={model:e,ecModel:a,api:i,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:o};o._pipe(e,n)}};e.prototype._createOverallStageTask=function(e,t,n,r){var a=this;var i=t.overallTask=t.overallTask||yh({reset:$f});i.context={ecModel:n,api:r,overallReset:e.overallReset,scheduler:a};var o=i.agentStubMap;var s=i.agentStubMap=_();var u=e.seriesType;var l=e.getTargetSeries;var p=true;var c=false;var d="";if("development"!=="production"){d='"createOnAllSeries" do not supported for "overallReset", '+"becuase it will block all streams."}D(!e.createOnAllSeries,d);if(u){n.eachRawSeriesByType(u,g)}else if(l){l(n,r).each(g)}else{p=false;q(n.getSeries(),g)}function g(e){var t=e.uid;var n=s.set(t,o&&o.get(t)||(c=true,yh({reset:Kf,onDirty:ev})));n.context={model:e,overallProgress:p};n.agent=i;n.__block=p;a._pipe(e,n)}if(c){i.dirty()}};e.prototype._pipe=function(e,t){var n=e.uid;var r=this._pipelineMap.get(n);!r.head&&(r.head=t);r.tail&&r.tail.pipe(t);r.tail=t;t.__idxInPipeline=r.count++;t.__pipeline=r};e.wrapStageHandler=function(e,t){if(x(e)){e={overallReset:e,seriesType:ov(e)}}e.uid=Ud("stageHandler");t&&(e.visualType=t);return e};return e}();function $f(e){e.overallReset(e.ecModel,e.api,e.payload)}function Kf(e){return e.overallProgress&&Qf}function Qf(){this.agent.dirty();this.getDownstream().dirty()}function ev(){this.agent&&this.agent.dirty()}function tv(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function nv(e){if(e.useClearVisual){e.data.clearAllVisual()}var t=e.resetDefines=_i(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?w(t,function(e,t){return av(t)}):rv}var rv=av(0);function av(i){return function(e,t){var n=t.data;var r=t.resetDefines[i];if(r&&r.dataEach){for(var a=e.start;a<e.end;a++){r.dataEach(n,a)}}else if(r&&r.progress){r.progress(e,n)}}}function iv(e){return e.data.count()}function ov(e){lv=null;try{e(sv,uv)}catch(e){}return lv}var sv={};var uv={};var lv;pv(sv,tb);pv(uv,ub);sv.eachSeriesByType=sv.eachRawSeriesByType=function(e){lv=e};sv.eachComponent=function(e){if(e.mainType==="series"&&e.subType){lv=e.subType}};function pv(e,t){for(var n in t.prototype){e[n]=Pe}}var cv=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var dv={color:cv,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],cv]};var gv="#B9B8CE";var mv="#100C2A";var bv=function(){return{axisLine:{lineStyle:{color:gv}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}};var hv=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"];var fv={darkMode:true,color:hv,backgroundColor:mv,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:gv}},textStyle:{color:gv},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:gv}},dataZoom:{borderColor:"#71708A",textStyle:{color:gv},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:gv}},timeline:{lineStyle:{color:gv},label:{color:gv},controlStyle:{color:gv,borderColor:gv}},calendar:{itemStyle:{color:mv},dayLabel:{color:gv},monthLabel:{color:gv},yearLabel:{color:gv}},timeAxis:bv(),logAxis:bv(),valueAxis:bv(),categoryAxis:bv(),line:{symbol:"circle"},graph:{color:hv},gauge:{title:{color:gv},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:gv},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fv.categoryAxis.splitLine.show=false;var vv=function(){function e(){}e.prototype.normalizeQuery=function(e){var s={};var u={};var l={};if(P(e)){var t=po(e);s.mainType=t.main||null;s.subType=t.sub||null}else{var p=["Index","Name","Id"];var c={name:1,dataIndex:1,dataType:1};q(e,function(e,t){var n=false;for(var r=0;r<p.length;r++){var a=p[r];var i=t.lastIndexOf(a);if(i>0&&i===t.length-a.length){var o=t.slice(0,i);if(o!=="data"){s.mainType=o;s[a.toLowerCase()]=e;n=true}}}if(c.hasOwnProperty(t)){u[t]=e;n=true}if(!n){l[t]=e}})}return{cptQuery:s,dataQuery:u,otherQuery:l}};e.prototype.filter=function(e,t){var n=this.eventInfo;if(!n){return true}var r=n.targetEl;var a=n.packedEvent;var i=n.model;var o=n.view;if(!i||!o){return true}var s=t.cptQuery;var u=t.dataQuery;return l(s,i,"mainType")&&l(s,i,"subType")&&l(s,i,"index","componentIndex")&&l(s,i,"name")&&l(s,i,"id")&&l(u,a,"name")&&l(u,a,"dataIndex")&&l(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,r,a));function l(e,t,n,r){return e[n]==null||t[r||n]===e[n]}};e.prototype.afterTrigger=function(){this.eventInfo=null};return e}();var Ov={createOnAllSeries:true,performRawSeries:true,reset:function(a,e){var t=a.getData();if(a.legendIcon){t.setVisual("legendIcon",a.legendIcon)}if(!a.hasSymbolVisual){return}var i=a.get("symbol");var o=a.get("symbolSize");var n=a.get("symbolKeepAspect");var s=a.get("symbolRotate");var u=a.get("symbolOffset");var l=x(i);var p=x(o);var c=x(s);var d=x(u);var r=l||p||c||d;var g=!l&&i?i:a.defaultSymbol;var m=!p?o:null;var b=!c?s:null;var h=!d?u:null;t.setVisual({legendIcon:a.legendIcon||g,symbol:g,symbolSize:m,symbolKeepAspect:n,symbolRotate:b,symbolOffset:h});if(e.isSeriesFiltered(a)){return}function f(e,t){var n=a.getRawValue(t);var r=a.getDataParams(t);l&&e.setItemVisual(t,"symbol",i(n,r));p&&e.setItemVisual(t,"symbolSize",o(n,r));c&&e.setItemVisual(t,"symbolRotate",s(n,r));d&&e.setItemVisual(t,"symbolOffset",u(n,r))}return{dataEach:r?f:null}}};var yv={createOnAllSeries:true,performRawSeries:true,reset:function(e,t){if(!e.hasSymbolVisual){return}if(t.isSeriesFiltered(e)){return}var n=e.getData();function r(e,t){var n=e.getItemModel(t);var r=n.getShallow("symbol",true);var a=n.getShallow("symbolSize",true);var i=n.getShallow("symbolRotate",true);var o=n.getShallow("symbolOffset",true);var s=n.getShallow("symbolKeepAspect",true);if(r!=null){e.setItemVisual(t,"symbol",r)}if(a!=null){e.setItemVisual(t,"symbolSize",a)}if(i!=null){e.setItemVisual(t,"symbolRotate",i)}if(o!=null){e.setItemVisual(t,"symbolOffset",o)}if(s!=null){e.setItemVisual(t,"symbolKeepAspect",s)}}return{dataEach:n.hasItemOption?r:null}}};function xv(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n);default:if("development"!=="production"){console.warn("Unknown visual type "+n)}}}function Iv(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t);default:if("development"!=="production"){console.warn("Unknown visual type "+t)}}}function Sv(e,t,n,r){switch(n){case"color":var a=e.ensureUniqueItemVisual(t,"style");a[e.getVisual("drawType")]=r;e.setItemVisual(t,"colorFromPalette",false);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r);break;default:if("development"!=="production"){console.warn("Unknown visual type "+n)}}}var jv=Math.PI*2;var _v=ou.CMD;var Av=["top","right","bottom","left"];function Tv(e,t,n,r,a){var i=n.width;var o=n.height;switch(e){case"top":r.set(n.x+i/2,n.y-t);a.set(0,-1);break;case"bottom":r.set(n.x+i/2,n.y+o+t);a.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2);a.set(-1,0);break;case"right":r.set(n.x+i+t,n.y+o/2);a.set(1,0);break}}function Cv(e,t,n,r,a,i,o,s,u){o-=e;s-=t;var l=Math.sqrt(o*o+s*s);o/=l;s/=l;var p=o*n+e;var c=s*n+t;if(Math.abs(r-a)%jv<1e-4){u[0]=p;u[1]=c;return l-n}if(i){var d=r;r=cu(a);a=cu(d)}else{r=cu(r);a=cu(a)}if(r>a){a+=jv}var g=Math.atan2(s,o);if(g<0){g+=jv}if(g>=r&&g<=a||g+jv>=r&&g+jv<=a){u[0]=p;u[1]=c;return l-n}var m=n*Math.cos(r)+e;var b=n*Math.sin(r)+t;var h=n*Math.cos(a)+e;var f=n*Math.sin(a)+t;var v=(m-o)*(m-o)+(b-s)*(b-s);var O=(h-o)*(h-o)+(f-s)*(f-s);if(v<O){u[0]=m;u[1]=b;return Math.sqrt(v)}else{u[0]=h;u[1]=f;return Math.sqrt(O)}}function wv(e,t,n,r,a,i,o,s){var u=a-e;var l=i-t;var p=n-e;var c=r-t;var d=Math.sqrt(p*p+c*c);p/=d;c/=d;var g=u*p+l*c;var m=g/d;if(s){m=Math.min(Math.max(m,0),1)}m*=d;var b=o[0]=e+m*p;var h=o[1]=t+m*c;return Math.sqrt((b-a)*(b-a)+(h-i)*(h-i))}function kv(e,t,n,r,a,i,o){if(n<0){e=e+n;n=-n}if(r<0){t=t+r;r=-r}var s=e+n;var u=t+r;var l=o[0]=Math.min(Math.max(a,e),s);var p=o[1]=Math.min(Math.max(i,t),u);return Math.sqrt((l-a)*(l-a)+(p-i)*(p-i))}var Nv=[];function Pv(e,t,n){var r=kv(t.x,t.y,t.width,t.height,e.x,e.y,Nv);n.set(Nv[0],Nv[1]);return r}function Ev(e,t,n){var r=0;var a=0;var i=0;var o=0;var s;var u;var l=Infinity;var p=t.data;var c=e.x;var d=e.y;for(var g=0;g<p.length;){var m=p[g++];if(g===1){r=p[g];a=p[g+1];i=r;o=a}var b=l;switch(m){case _v.M:i=p[g++];o=p[g++];r=i;a=o;break;case _v.L:b=wv(r,a,p[g],p[g+1],c,d,Nv,true);r=p[g++];a=p[g++];break;case _v.C:b=fs(r,a,p[g++],p[g++],p[g++],p[g++],p[g],p[g+1],c,d,Nv);r=p[g++];a=p[g++];break;case _v.Q:b=js(r,a,p[g++],p[g++],p[g],p[g+1],c,d,Nv);r=p[g++];a=p[g++];break;case _v.A:var h=p[g++];var f=p[g++];var v=p[g++];var O=p[g++];var y=p[g++];var x=p[g++];g+=1;var I=!!(1-p[g++]);s=Math.cos(y)*v+h;u=Math.sin(y)*O+f;if(g<=1){i=s;o=u}var S=(c-h)*O/v+h;b=Cv(h,f,O,y,y+x,I,S,d,Nv);r=Math.cos(y+x)*v+h;a=Math.sin(y+x)*O+f;break;case _v.R:i=r=p[g++];o=a=p[g++];var j=p[g++];var _=p[g++];b=kv(i,o,j,_,c,d,Nv);break;case _v.Z:b=wv(r,a,i,o,c,d,Nv,true);r=i;a=o;break}if(b<l){l=b;n.set(Nv[0],Nv[1])}}return l}var Lv=new W;var Dv=new W;var Mv=new W;var Bv=new W;var zv=new W;function Vv(e,t){if(!e){return}var n=e.getTextGuideLine();var r=e.getTextContent();if(!(r&&n)){return}var a=e.textGuideLineConfig||{};var i=[[0,0],[0,0],[0,0]];var o=a.candidates||Av;var s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var u=Infinity;var l=a.anchor;var p=e.getComputedTransform();var c=p&&Rr([],p);var d=t.get("length2")||0;if(l){Mv.copy(l)}for(var g=0;g<o.length;g++){var m=o[g];Tv(m,0,s,Lv,Bv);W.scaleAndAdd(Dv,Lv,Bv,d);Dv.transform(c);var b=e.getBoundingRect();var h=l?l.distance(Dv):e instanceof v?Ev(Dv,e.path,Mv):Pv(Dv,b,Mv);if(h<u){u=h;Dv.transform(p);Mv.transform(p);Mv.toArray(i[0]);Dv.toArray(i[1]);Lv.toArray(i[2])}}Fv(i,t.get("minTurnAngle"));n.setShape({points:i})}var Rv=[];var Uv=new W;function Fv(e,t){if(!(t<=180&&t>0)){return}t=t/180*Math.PI;Lv.fromArray(e[0]);Dv.fromArray(e[1]);Mv.fromArray(e[2]);W.sub(Bv,Lv,Dv);W.sub(zv,Mv,Dv);var n=Bv.len();var r=zv.len();if(n<.001||r<.001){return}Bv.scale(1/n);zv.scale(1/r);var a=Bv.dot(zv);var i=Math.cos(t);if(i<a){var o=wv(Dv.x,Dv.y,Mv.x,Mv.y,Lv.x,Lv.y,Rv,false);Uv.fromArray(Rv);Uv.scaleAndAdd(zv,o/Math.tan(Math.PI-t));var s=Mv.x!==Dv.x?(Uv.x-Dv.x)/(Mv.x-Dv.x):(Uv.y-Dv.y)/(Mv.y-Dv.y);if(isNaN(s)){return}if(s<0){W.copy(Uv,Dv)}else if(s>1){W.copy(Uv,Mv)}Uv.toArray(e[1])}}function Gv(e,t,n){if(!(n<=180&&n>0)){return}n=n/180*Math.PI;Lv.fromArray(e[0]);Dv.fromArray(e[1]);Mv.fromArray(e[2]);W.sub(Bv,Dv,Lv);W.sub(zv,Mv,Dv);var r=Bv.len();var a=zv.len();if(r<.001||a<.001){return}Bv.scale(1/r);zv.scale(1/a);var i=Bv.dot(t);var o=Math.cos(n);if(i<o){var s=wv(Dv.x,Dv.y,Mv.x,Mv.y,Lv.x,Lv.y,Rv,false);Uv.fromArray(Rv);var u=Math.PI/2;var l=Math.acos(zv.dot(t));var p=u+l-n;if(p>=u){W.copy(Uv,Mv)}else{Uv.scaleAndAdd(zv,s/Math.tan(Math.PI/2-p));var c=Mv.x!==Dv.x?(Uv.x-Dv.x)/(Mv.x-Dv.x):(Uv.y-Dv.y)/(Mv.y-Dv.y);if(isNaN(c)){return}if(c<0){W.copy(Uv,Dv)}else if(c>1){W.copy(Uv,Mv)}}Uv.toArray(e[1])}}function Hv(e,t,n,r){var a=n==="normal";var i=a?e:e.ensureState(n);i.ignore=t;var o=r.get("smooth");if(o&&o===true){o=.3}i.shape=i.shape||{};if(o>0){i.shape.smooth=o}var s=r.getModel("lineStyle").getLineStyle();a?e.useStyle(s):i.style=s}function qv(e,t){var n=t.smooth;var r=t.points;if(!r){return}e.moveTo(r[0][0],r[0][1]);if(n>0&&r.length>=3){var a=$e(r[0],r[1]);var i=$e(r[1],r[2]);if(!a||!i){e.lineTo(r[1][0],r[1][1]);e.lineTo(r[2][0],r[2][1]);return}var o=Math.min(a,i)*n;var s=tt([],r[1],r[0],o/a);var u=tt([],r[1],r[2],o/i);var l=tt([],s,u,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],l[0],l[1]);e.bezierCurveTo(u[0],u[1],u[0],u[1],r[2][0],r[2][1])}else{for(var p=1;p<r.length;p++){e.lineTo(r[p][0],r[p][1])}}}function Wv(e,t,n){var r=e.getTextGuideLine();var a=e.getTextContent();if(!a){if(r){e.removeTextGuideLine()}return}var i=t.normal;var o=i.get("show");var s=a.ignore;for(var u=0;u<ll.length;u++){var l=ll[u];var p=t[l];var c=l==="normal";if(p){var d=p.get("show");var g=c?s:L(a.states[l]&&a.states[l].ignore,s);if(g||!L(d,o)){var m=c?r:r&&r.states.normal;if(m){m.ignore=true}continue}if(!r){r=new pc;e.setTextGuideLine(r);if(!c&&(s||!o)){Hv(r,true,"normal",t.normal)}if(e.stateProxy){r.stateProxy=e.stateProxy}}Hv(r,false,l,p)}}if(r){M(r.style,n);r.style.fill=null;var b=i.get("showAbove");var h=e.textGuideLineConfig=e.textGuideLineConfig||{};h.showAbove=b||false;r.buildPath=qv}}function Xv(e,t){t=t||"labelLine";var n={normal:e.getModel(t)};for(var r=0;r<ul.length;r++){var a=ul[r];n[a]=e.getModel([a,t])}return n}function Yv(e){var t=[];for(var n=0;n<e.length;n++){var r=e[n];if(r.defaultAttr.ignore){continue}var a=r.label;var i=a.getComputedTransform();var o=a.getBoundingRect();var s=!i||i[1]<1e-5&&i[2]<1e-5;var u=a.style.margin||0;var l=o.clone();l.applyTransform(i);l.x-=u/2;l.y-=u/2;l.width+=u;l.height+=u;var p=s?new Cc(o,i):null;t.push({label:a,labelLine:r.labelLine,rect:l,localRect:o,obb:p,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:i})}return t}function Jv(l,p,c,e,t,n){var d=l.length;if(d<2){return}l.sort(function(e,t){return e.rect[p]-t.rect[p]});var r=0;var a;var o=false;var i=0;for(var s=0;s<d;s++){var u=l[s];var g=u.rect;a=g[p]-r;if(a<0){g[p]-=a;u.label[p]-=a;o=true}var m=Math.max(-a,0);i+=m;r=g[p]+g[c]}if(i>0&&n){x(-i/d,0,d)}var b=l[0];var h=l[d-1];var f;var v;O();f<0&&I(-f,.8);v<0&&I(v,.8);O();y(f,v,1);y(v,f,-1);O();if(f<0){S(-f)}if(v<0){S(v)}function O(){f=b.rect[p]-e;v=t-h.rect[p]-h.rect[c]}function y(e,t,n){if(e<0){var r=Math.min(t,-e);if(r>0){x(r*n,0,d);var a=r+e;if(a<0){I(-a*n,1)}}else{I(-e*n,1)}}}function x(e,t,n){if(e!==0){o=true}for(var r=t;r<n;r++){var a=l[r];var i=a.rect;i[p]+=e;a.label[p]+=e}}function I(e,t){var n=[];var r=0;for(var a=1;a<d;a++){var i=l[a-1].rect;var o=Math.max(l[a].rect[p]-i[p]-i[c],0);n.push(o);r+=o}if(!r){return}var s=Math.min(Math.abs(e)/r,t);if(e>0){for(var a=0;a<d-1;a++){var u=n[a]*s;x(u,0,a+1)}}else{for(var a=d-1;a>0;a--){var u=n[a-1]*s;x(-u,a,d)}}}function S(e){var t=e<0?-1:1;e=Math.abs(e);var n=Math.ceil(e/(d-1));for(var r=0;r<d-1;r++){if(t>0){x(n,0,r+1)}else{x(-n,d-r-1,d)}e-=n;if(e<=0){return}}}return o}function Zv(e,t,n,r){return Jv(e,"x","width",t,n,r)}function $v(e,t,n,r){return Jv(e,"y","height",t,n,r)}function Kv(e){var t=[];e.sort(function(e,t){return t.priority-e.priority});var n=new z(0,0,0,0);function r(e){if(!e.ignore){var t=e.ensureState("emphasis");if(t.ignore==null){t.ignore=false}}e.ignore=true}for(var a=0;a<e.length;a++){var i=e[a];var o=i.axisAligned;var s=i.localRect;var u=i.transform;var l=i.label;var p=i.labelLine;n.copy(i.rect);n.width-=.1;n.height-=.1;n.x+=.05;n.y+=.05;var c=i.obb;var d=false;for(var g=0;g<t.length;g++){var m=t[g];if(!n.intersect(m.rect)){continue}if(o&&m.axisAligned){d=true;break}if(!m.obb){m.obb=new Cc(m.localRect,m.transform)}if(!c){c=new Cc(s,u)}if(c.intersect(m.obb)){d=true;break}}if(d){r(l);p&&r(p)}else{l.attr("ignore",i.defaultAttr.ignore);p&&p.attr("ignore",i.defaultAttr.labelGuideIgnore);t.push(i)}}}function Qv(e){if(e){var t=[];for(var n=0;n<e.length;n++){t.push(e[n].slice())}return t}}function e0(e,t){var n=e.label;var r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Qv(r&&r.shape.points)}}var t0=["align","verticalAlign","width","height","fontSize"];var n0=new Zr;var r0=Ji();var a0=Ji();function i0(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];if(t[a]!=null){e[a]=t[a]}}}var o0=["x","y","rotation"];var s0=function(){function e(){this._labelList=[];this._chartViewList=[]}e.prototype.clearLabels=function(){this._labelList=[];this._chartViewList=[]};e.prototype._addLabel=function(e,t,n,r,a){var i=r.style;var o=r.__hostTarget;var s=o.textConfig||{};var u=r.getComputedTransform();var l=r.getBoundingRect().plain();z.applyTransform(l,l,u);if(u){n0.setLocalTransform(u)}else{n0.x=n0.y=n0.rotation=n0.originX=n0.originY=0;n0.scaleX=n0.scaleY=1}var p=r.__hostTarget;var c;if(p){c=p.getBoundingRect().plain();var d=p.getComputedTransform();z.applyTransform(c,c,d)}var g=c&&p.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:n,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:l,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:n0.x,y:n0.y,scaleX:n0.scaleX,scaleY:n0.scaleY,rotation:n0.rotation,style:{x:i.x,y:i.y,align:i.align,verticalAlign:i.verticalAlign,width:i.width,height:i.height,fontSize:i.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})};e.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var a=e.__model;var i=a.get("labelLayout");if(!(x(i)||k(i).length)){return}e.group.traverse(function(e){if(e.ignore){return true}var t=e.getTextContent();var n=H(e);if(t&&!t.disableLabelLayout){r._addLabel(n.dataIndex,n.dataType,a,t,i)}})};e.prototype.updateLayoutConfig=function(e){var t=e.getWidth();var n=e.getHeight();function r(e,t){return function(){Vv(e,t)}}for(var a=0;a<this._labelList.length;a++){var i=this._labelList[a];var o=i.label;var s=o.__hostTarget;var u=i.defaultAttr;var l=void 0;if(typeof i.layoutOption==="function"){l=i.layoutOption(e0(i,s))}else{l=i.layoutOption}l=l||{};i.computedLayoutOption=l;var p=Math.PI/180;if(s){s.setTextConfig({local:false,position:l.x!=null||l.y!=null?null:u.attachedPos,rotation:l.rotate!=null?l.rotate*p:u.attachedRot,offset:[l.dx||0,l.dy||0]})}var c=false;if(l.x!=null){o.x=X(l.x,t);o.setStyle("x",0);c=true}else{o.x=u.x;o.setStyle("x",u.style.x)}if(l.y!=null){o.y=X(l.y,n);o.setStyle("y",0);c=true}else{o.y=u.y;o.setStyle("y",u.style.y)}if(l.labelLinePoints){var d=s.getTextGuideLine();if(d){d.setShape({points:l.labelLinePoints});c=false}}var g=r0(o);g.needsUpdateLabelLine=c;o.rotation=l.rotate!=null?l.rotate*p:u.rotation;o.scaleX=u.scaleX;o.scaleY=u.scaleY;for(var m=0;m<t0.length;m++){var b=t0[m];o.setStyle(b,l[b]!=null?l[b]:u.style[b])}if(l.draggable){o.draggable=true;o.cursor="move";if(s){var h=i.seriesModel;if(i.dataIndex!=null){var f=i.seriesModel.getData(i.dataType);h=f.getItemModel(i.dataIndex)}o.on("drag",r(s,h.getModel("labelLine")))}}else{o.off("drag");o.cursor=u.cursor}}};e.prototype.layout=function(e){var t=e.getWidth();var n=e.getHeight();var r=Yv(this._labelList);var a=le(r,function(e){return e.layoutOption.moveOverlap==="shiftX"});var i=le(r,function(e){return e.layoutOption.moveOverlap==="shiftY"});Zv(a,0,t);$v(i,0,n);var o=le(r,function(e){return e.layoutOption.hideOverlap});Kv(o)};e.prototype.processLabelsOverall=function(){var o=this;q(this._chartViewList,function(e){var r=e.__model;var a=e.ignoreLabelLineUpdate;var i=r.isAnimationEnabled();e.group.traverse(function(e){if(e.ignore){return true}var t=!a;var n=e.getTextContent();if(!t&&n){t=r0(n).needsUpdateLabelLine}if(t){o._updateLabelLine(e,r)}if(i){o._animateLabels(e,r)}})})};e.prototype._updateLabelLine=function(e,t){var n=e.getTextContent();var r=H(e);var a=r.dataIndex;if(n&&a!=null){var i=t.getData(r.dataType);var o=i.getItemModel(a);var s={};var u=i.getItemVisual(a,"style");var l=i.getVisual("drawType");s.stroke=u[l];var p=o.getModel("labelLine");Wv(e,Xv(o),s);Vv(e,p)}};e.prototype._animateLabels=function(e,t){var n=e.getTextContent();var r=e.getTextGuideLine();if(n&&!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!Kc(e)){var a=r0(n);var i=a.oldLayout;var o=H(e);var s=o.dataIndex;var u={x:n.x,y:n.y,rotation:n.rotation};var l=t.getData(o.dataType);if(!i){n.attr(u);if(!Cd(n).valueAnimation){var p=L(n.style.opacity,1);n.style.opacity=0;Yc(n,{style:{opacity:p}},t,s)}}else{n.attr(i);var c=e.prevStates;if(c){if(C(c,"select")>=0){n.attr(a.oldLayoutSelect)}if(C(c,"emphasis")>=0){n.attr(a.oldLayoutEmphasis)}}Y(n,u,t,s)}a.oldLayout=u;if(n.states.select){var d=a.oldLayoutSelect={};i0(d,u,o0);i0(d,n.states.select,o0)}if(n.states.emphasis){var g=a.oldLayoutEmphasis={};i0(g,u,o0);i0(g,n.states.emphasis,o0)}kd(n,s,l,t,t)}if(r&&!r.ignore&&!r.invisible){var a=a0(r);var i=a.oldLayout;var m={points:r.shape.points};if(!i){r.setShape(m);r.style.strokePercent=0;Yc(r,{style:{strokePercent:1}},t)}else{r.attr({shape:i});Y(r,{shape:m},t)}a.oldLayout=m}};return e}();function u0(r,e){function a(e,t){var n=[];e.eachComponent({mainType:"series",subType:r,query:t},function(e){n.push(e.seriesIndex)});return n}q([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(r){e(r[0],function(e,t,n){e=U({},e);if("development"!=="production"){yi(e.type,r[1])}n.dispatchAction(U(e,{type:r[1],seriesIndex:a(t,e)}))})})}function l0(e,t,o,n,s){var u=e+t;if(!o.isSilent(u)){if("development"!=="production"){Oi("event "+u+" is deprecated.")}n.eachComponent({mainType:"series",subType:"pie"},function(e){var t=e.seriesIndex;var n=s.selected;for(var r=0;r<n.length;r++){if(n[r].seriesIndex===t){var a=e.getData();var i=Yi(a,s.fromActionPayload);o.trigger(u,{type:u,seriesId:e.id,name:N(i)?a.getName(i[0]):a.getName(i),selected:U({},e.option.selectedMap)})}}})}}function p0(e,n,r){e.on("selectchanged",function(e){var t=r.getModel();if(e.isFromClick){l0("map","selectchanged",n,t,e);l0("pie","selectchanged",n,t,e)}else if(e.fromAction==="select"){l0("map","selected",n,t,e);l0("pie","selected",n,t,e)}else if(e.fromAction==="unselect"){l0("map","unselected",n,t,e);l0("pie","unselected",n,t,e)}})}function c0(e,t,n){var r;while(e){if(t(e)){r=e;if(n){break}}e=e.__hostTarget||e.parent}return r}var d0=Math.round(Math.random()*9);var g0=function(){function e(){this._id="__ec_inner_"+d0++}e.prototype.get=function(e){return this._guard(e)[this._id]};e.prototype.set=function(e,t){var n=this._guard(e);if(typeof Object.defineProperty==="function"){Object.defineProperty(n,this._id,{value:t,enumerable:false,configurable:true})}else{n[this._id]=t}return this};e.prototype["delete"]=function(e){if(this.has(e)){delete this._guard(e)[this._id];return true}return false};e.prototype.has=function(e){return!!this._guard(e)[this._id]};e.prototype._guard=function(e){if(e!==Object(e)){throw TypeError("Value of WeakMap is not a non-null object.")}return e};return e}();var m0=v.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx;var r=t.cy;var a=t.width/2;var i=t.height/2;e.moveTo(n,r-i);e.lineTo(n+a,r+i);e.lineTo(n-a,r+i);e.closePath()}});var b0=v.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx;var r=t.cy;var a=t.width/2;var i=t.height/2;e.moveTo(n,r-i);e.lineTo(n+a,r);e.lineTo(n,r+i);e.lineTo(n-a,r);e.closePath()}});var h0=v.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x;var r=t.y;var a=t.width/5*3;var i=Math.max(a,t.height);var o=a/2;var s=o*o/(i-o);var u=r-i+o+s;var l=Math.asin(s/o);var p=Math.cos(l)*o;var c=Math.sin(l);var d=Math.cos(l);var g=o*.6;var m=o*.7;e.moveTo(n-p,u+s);e.arc(n,u,o,Math.PI-l,Math.PI*2+l);e.bezierCurveTo(n+p-c*g,u+s+d*g,n,r-m,n,r);e.bezierCurveTo(n,r-m,n-p+c*g,u+s+d*g,n-p,u+s);e.closePath()}});var f0=v.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height;var r=t.width;var a=t.x;var i=t.y;var o=r/3*2;e.moveTo(a,i);e.lineTo(a+o,i+n);e.lineTo(a,i+n/4*3);e.lineTo(a-o,i+n);e.lineTo(a,i);e.closePath()}});var v0={line:gc,rect:R,roundRect:R,square:R,circle:Mp,diamond:b0,pin:h0,arrow:f0,triangle:m0};var O0={line:function(e,t,n,r,a){a.x1=e;a.y1=t+r/2;a.x2=e+n;a.y2=t+r/2},rect:function(e,t,n,r,a){a.x=e;a.y=t;a.width=n;a.height=r},roundRect:function(e,t,n,r,a){a.x=e;a.y=t;a.width=n;a.height=r;a.r=Math.min(n,r)/4},square:function(e,t,n,r,a){var i=Math.min(n,r);a.x=e;a.y=t;a.width=i;a.height=i},circle:function(e,t,n,r,a){a.cx=e+n/2;a.cy=t+r/2;a.r=Math.min(n,r)/2},diamond:function(e,t,n,r,a){a.cx=e+n/2;a.cy=t+r/2;a.width=n;a.height=r},pin:function(e,t,n,r,a){a.x=e+n/2;a.y=t+r/2;a.width=n;a.height=r},arrow:function(e,t,n,r,a){a.x=e+n/2;a.y=t+r/2;a.width=n;a.height=r},triangle:function(e,t,n,r,a){a.cx=e+n/2;a.cy=t+r/2;a.width=n;a.height=r}};var y0={};q(v0,function(e,t){y0[t]=new e});var x0=v.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=va(e,t,n);var a=this.shape;if(a&&a.symbolType==="pin"&&t.position==="inside"){r.y=n.y+n.height*.4}return r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var a=y0[r];if(!a){r="rect";a=y0[r]}O0[r](t.x,t.y,t.width,t.height,a.shape);a.buildPath(e,a.shape,n)}}});function I0(e,t){if(this.type!=="image"){var n=this.style;if(this.__isEmptyBrush){n.stroke=e;n.fill=t||"#fff";n.lineWidth=2}else if(this.shape.symbolType==="line"){n.stroke=e}else{n.fill=e}this.markRedraw()}}function S0(e,t,n,r,a,i,o){var s=e.indexOf("empty")===0;if(s){e=e.substr(5,1).toLowerCase()+e.substr(6)}var u;if(e.indexOf("image://")===0){u=Rc(e.slice(8),new z(t,n,r,a),o?"center":"cover")}else if(e.indexOf("path://")===0){u=Vc(e.slice(7),{},new z(t,n,r,a),o?"center":"cover")}else{u=new x0({shape:{symbolType:e,x:t,y:n,width:r,height:a}})}u.__isEmptyBrush=s;u.setColor=I0;if(i){u.setColor(i)}return u}function j0(e,t,n){var r=t.x==null?0:t.x;var a=t.x2==null?1:t.x2;var i=t.y==null?0:t.y;var o=t.y2==null?0:t.y2;if(!t.global){r=r*n.width+n.x;a=a*n.width+n.x;i=i*n.height+n.y;o=o*n.height+n.y}r=isNaN(r)?0:r;a=isNaN(a)?1:a;i=isNaN(i)?0:i;o=isNaN(o)?0:o;var s=e.createLinearGradient(r,i,a,o);return s}function _0(e,t,n){var r=n.width;var a=n.height;var i=Math.min(r,a);var o=t.x==null?.5:t.x;var s=t.y==null?.5:t.y;var u=t.r==null?.5:t.r;if(!t.global){o=o*r+n.x;s=s*a+n.y;u=u*i}var l=e.createRadialGradient(o,s,0,o,s,u);return l}function A0(e,t,n){var r=t.type==="radial"?_0(e,t,n):j0(e,t,n);var a=t.colorStops;for(var i=0;i<a.length;i++){r.addColorStop(a[i].offset,a[i].color)}return r}function T0(e,t){if(e===t||!e&&!t){return false}if(!e||!t||e.length!==t.length){return true}for(var n=0;n<e.length;n++){if(e[n]!==t[n]){return true}}return false}function C0(e,t){if(!e||e==="solid"||!(t>0)){return null}t=t||1;return e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:ge(e)?[e]:N(e)?e:null}var w0=new ou(true);function k0(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function N0(e){var t=e.fill;return t!=null&&t!=="none"}function P0(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity;e.fill();e.globalAlpha=n}else{e.fill()}}function E0(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity;e.stroke();e.globalAlpha=n}else{e.stroke()}}function L0(e,t,n){var r=Co(t.image,t.__image,n);if(ko(r)){var a=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix==="function"&&a.setTransform){var i=new DOMMatrix;i.rotateSelf(0,0,(t.rotation||0)/Math.PI*180);i.scaleSelf(t.scaleX||1,t.scaleY||1);i.translateSelf(t.x||0,t.y||0);a.setTransform(i)}return a}}function D0(e,t,n,r){var a=k0(n);var i=N0(n);var o=n.strokePercent;var s=o<1;var u=!t.path;if((!t.silent||s)&&u){t.createPathProxy()}var l=t.path||w0;if(!r){var p=n.fill;var c=n.stroke;var d=i&&!!p.colorStops;var g=a&&!!c.colorStops;var m=i&&!!p.image;var b=a&&!!c.image;var h=void 0;var f=void 0;var v=void 0;var O=void 0;var y=void 0;if(d||g){y=t.getBoundingRect()}if(d){h=t.__dirty?A0(e,p,y):t.__canvasFillGradient;t.__canvasFillGradient=h}if(g){f=t.__dirty?A0(e,c,y):t.__canvasStrokeGradient;t.__canvasStrokeGradient=f}if(m){v=t.__dirty||!t.__canvasFillPattern?L0(e,p,t):t.__canvasFillPattern;t.__canvasFillPattern=v}if(b){O=t.__dirty||!t.__canvasStrokePattern?L0(e,c,t):t.__canvasStrokePattern;t.__canvasStrokePattern=v}if(d){e.fillStyle=h}else if(m){if(v){e.fillStyle=v}else{i=false}}if(g){e.strokeStyle=f}else if(b){if(O){e.strokeStyle=O}else{a=false}}}var x=n.lineDash&&n.lineWidth>0&&C0(n.lineDash,n.lineWidth);var I=n.lineDashOffset;var S=!!e.setLineDash;var j=t.getGlobalScale();l.setScale(j[0],j[1],t.segmentIgnoreThreshold);if(x){var _=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;if(_&&_!==1){x=w(x,function(e){return e/_});I/=_}}var A=true;if(u||t.__dirty&nn||x&&!S&&a){l.setDPR(e.dpr);if(s){l.setContext(null)}else{l.setContext(e);A=false}l.reset();if(x&&!S){l.setLineDash(x);l.setLineDashOffset(I)}t.buildPath(l,t.shape,r);l.toStatic();t.pathUpdated()}if(A){l.rebuildPath(e,s?o:1)}if(x&&S){e.setLineDash(x);e.lineDashOffset=I}if(!r){if(n.strokeFirst){if(a){E0(e,n)}if(i){P0(e,n)}}else{if(i){P0(e,n)}if(a){E0(e,n)}}}if(x&&S){e.setLineDash([])}}function M0(e,t,n){var r=t.__image=Co(n.image,t.__image,t,t.onload);if(!r||!ko(r)){return}var a=n.x||0;var i=n.y||0;var o=t.getWidth();var s=t.getHeight();var u=r.width/r.height;if(o==null&&s!=null){o=s*u}else if(s==null&&o!=null){s=o/u}else if(o==null&&s==null){o=r.width;s=r.height}if(n.sWidth&&n.sHeight){var l=n.sx||0;var p=n.sy||0;e.drawImage(r,l,p,n.sWidth,n.sHeight,a,i,o,s)}else if(n.sx&&n.sy){var l=n.sx;var p=n.sy;var c=o-l;var d=s-p;e.drawImage(r,l,p,c,d,a,i,o,s)}else{e.drawImage(r,a,i,o,s)}}function B0(e,t,n){var r=n.text;r!=null&&(r+="");if(r){e.font=n.font||oa;e.textAlign=n.textAlign;e.textBaseline=n.textBaseline;var a=void 0;if(e.setLineDash){var i=n.lineDash&&n.lineWidth>0&&C0(n.lineDash,n.lineWidth);var o=n.lineDashOffset;if(i){var s=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;if(s&&s!==1){i=w(i,function(e){return e/s});o/=s}e.setLineDash(i);e.lineDashOffset=o;a=true}}if(n.strokeFirst){if(k0(n)){e.strokeText(r,n.x,n.y)}if(N0(n)){e.fillText(r,n.x,n.y)}}else{if(N0(n)){e.fillText(r,n.x,n.y)}if(k0(n)){e.strokeText(r,n.x,n.y)}}if(a){e.setLineDash([])}}}var z0=["shadowBlur","shadowOffsetX","shadowOffsetY"];var V0=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function R0(e,t,n,r,a){var i=false;if(!r){n=n||{};if(t===n){return false}}if(r||t.opacity!==n.opacity){if(!i){$0(e,a);i=true}var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?Xo.opacity:o}if(r||t.blend!==n.blend){if(!i){$0(e,a);i=true}e.globalCompositeOperation=t.blend||Xo.blend}for(var s=0;s<z0.length;s++){var u=z0[s];if(r||t[u]!==n[u]){if(!i){$0(e,a);i=true}e[u]=e.dpr*(t[u]||0)}}if(r||t.shadowColor!==n.shadowColor){if(!i){$0(e,a);i=true}e.shadowColor=t.shadowColor||Xo.shadowColor}return i}function U0(e,t,n,r,a){var i=K0(t,a.inHover);var o=r?null:n&&K0(n,a.inHover)||{};if(i===o){return false}var s=R0(e,i,o,r,a);if(r||i.fill!==o.fill){if(!s){$0(e,a);s=true}e.fillStyle=i.fill}if(r||i.stroke!==o.stroke){if(!s){$0(e,a);s=true}e.strokeStyle=i.stroke}if(r||i.opacity!==o.opacity){if(!s){$0(e,a);s=true}e.globalAlpha=i.opacity==null?1:i.opacity}if(t.hasStroke()){var u=i.lineWidth;var l=u/(i.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1);if(e.lineWidth!==l){if(!s){$0(e,a);s=true}e.lineWidth=l}}for(var p=0;p<V0.length;p++){var c=V0[p];var d=c[0];if(r||i[d]!==o[d]){if(!s){$0(e,a);s=true}e[d]=i[d]||c[1]}}return s}function F0(e,t,n,r,a){return R0(e,K0(t,a.inHover),n&&K0(n,a.inHover),r,a)}function G0(e,t){var n=t.transform;var r=e.dpr||1;if(n){e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5])}else{e.setTransform(r,0,0,r,0,0)}}function H0(e,t,n){var r=false;for(var a=0;a<e.length;a++){var i=e[a];r=r||i.isZeroArea();G0(t,i);t.beginPath();i.buildPath(t,i.shape);t.clip()}n.allClipped=r}function q0(e,t){if(e&&t){return e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]}else if(!e&&!t){return false}return true}var W0=1;var X0=2;var Y0=3;var J0=4;function Z0(e){var t=N0(e);var n=k0(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!=="string"||n&&typeof e.stroke!=="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function $0(e,t){t.batchFill&&e.fill();t.batchStroke&&e.stroke();t.batchFill="";t.batchStroke=""}function K0(e,t){return t?e.__hoverStyle||e.style:e.style}function Q0(e,t){eO(e,t,{inHover:false,viewWidth:0,viewHeight:0},true)}function eO(e,t,n,r){var a=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,false,false)){t.__dirty&=~en;t.__isRendered=false;return}var i=t.__clipPaths;var o=n.prevElClipPaths;var s=false;var u=false;if(!o||T0(i,o)){if(o&&o.length){$0(e,n);e.restore();u=s=true;n.prevElClipPaths=null;n.allClipped=false;n.prevEl=null}if(i&&i.length){$0(e,n);e.save();H0(i,e,n);s=true}n.prevElClipPaths=i}if(n.allClipped){t.__isRendered=false;return}t.beforeBrush&&t.beforeBrush();t.innerBeforeBrush();var l=n.prevEl;if(!l){u=s=true}var p=t instanceof v&&t.autoBatch&&Z0(t.style);if(s||q0(a,l.transform)){$0(e,n);G0(e,t)}else if(!p){$0(e,n)}var c=K0(t,n.inHover);if(t instanceof v){if(n.lastDrawType!==W0){u=true;n.lastDrawType=W0}U0(e,t,l,u,n);if(!p||!n.batchFill&&!n.batchStroke){e.beginPath()}D0(e,t,c,p);if(p){n.batchFill=c.fill||"";n.batchStroke=c.stroke||""}}else{if(t instanceof Pu){if(n.lastDrawType!==Y0){u=true;n.lastDrawType=Y0}U0(e,t,l,u,n);B0(e,t,c)}else if(t instanceof Mu){if(n.lastDrawType!==X0){u=true;n.lastDrawType=X0}F0(e,t,l,u,n);M0(e,t,c)}else if(t instanceof kc){if(n.lastDrawType!==J0){u=true;n.lastDrawType=J0}tO(e,t,n)}}if(p&&r){$0(e,n)}t.innerAfterBrush();t.afterBrush&&t.afterBrush();n.prevEl=t;t.__dirty=0;t.__isRendered=true}function tO(e,t,n){var r=t.getDisplayables();var a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:false,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};var o;var s;for(o=t.getCursor(),s=r.length;o<s;o++){var u=r[o];u.beforeBrush&&u.beforeBrush();u.innerBeforeBrush();eO(e,u,i,o===s-1);u.innerAfterBrush();u.afterBrush&&u.afterBrush();i.prevEl=u}for(var l=0,p=a.length;l<p;l++){var u=a[l];u.beforeBrush&&u.beforeBrush();u.innerBeforeBrush();eO(e,u,i,l===p-1);u.innerAfterBrush();u.afterBrush&&u.afterBrush();i.prevEl=u}t.clearTemporalDisplayables();t.notClear=true;e.restore()}var nO=new g0;var rO=new mn(100);var aO=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function iO(e,t){if(e==="none"){return null}var A=t.getDevicePixelRatio();var T=t.getZr();var C=T.painter.type==="svg";if(e.dirty){nO["delete"](e)}var n=nO.get(e);if(n){return n}var w=M(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:true,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});if(w.backgroundColor==="none"){w.backgroundColor=null}var r={repeat:"repeat"};a(r);r.rotation=w.rotation;r.scaleX=r.scaleY=C?1:1/A;nO.set(e,r);e.dirty=false;return r;function a(e){var t=[A];var n=true;for(var r=0;r<aO.length;++r){var a=w[aO[r]];var i=typeof a;if(a!=null&&!N(a)&&i!=="string"&&i!=="number"&&i!=="boolean"){n=false;break}t.push(a)}var o;if(n){o=t.join(",")+(C?"-svg":"");var s=rO.get(o);if(s){C?e.svgElement=s:e.image=s}}var v=sO(w.dashArrayX);var O=uO(w.dashArrayY);var y=oO(w.symbol);var u=lO(v);var x=pO(O);var I=!C&&ae();var S=C&&T.painter.createSVGElement("g");var j=l();var _;if(I){I.width=j.width*A;I.height=j.height*A;_=I.getContext("2d")}p();if(n){rO.put(o,I||S)}e.image=I;e.svgElement=S;e.svgWidth=j.width;e.svgHeight=j.height;function l(){var e=1;for(var t=0,n=u.length;t<n;++t){e=gi(e,u[t])}var r=1;for(var t=0,n=y.length;t<n;++t){r=gi(r,y[t].length)}e*=r;var a=x*u.length*y.length;if("development"!=="production"){var i=function(e){console.warn("Calculated decal size is greater than "+e+" due to decal option settings so "+e+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+e+" to be larger to avoid incontinuity.")};if(e>w.maxTileWidth){i("maxTileWidth")}if(a>w.maxTileHeight){i("maxTileHeight")}}return{width:Math.max(1,Math.min(e,w.maxTileWidth)),height:Math.max(1,Math.min(a,w.maxTileHeight))}}function p(){if(_){_.clearRect(0,0,I.width,I.height);if(w.backgroundColor){_.fillStyle=w.backgroundColor;_.fillRect(0,0,I.width,I.height)}}var e=0;for(var t=0;t<O.length;++t){e+=O[t]}if(e<=0){return}var n=-x;var r=0;var a=0;var i=0;while(n<j.height){if(r%2===0){var o=a/2%y.length;var s=0;var u=0;var l=0;while(s<j.width*2){var p=0;for(var t=0;t<v[i].length;++t){p+=v[i][t]}if(p<=0){break}if(u%2===0){var c=(1-w.symbolSize)*.5;var d=s+v[i][u]*c;var g=n+O[r]*c;var m=v[i][u]*w.symbolSize;var b=O[r]*w.symbolSize;var h=l/2%y[o].length;f(d,g,m,b,y[o][h])}s+=v[i][u];++l;++u;if(u===v[i].length){u=0}}++i;if(i===v.length){i=0}}n+=O[r];++a;++r;if(r===O.length){r=0}}function f(e,t,n,r,a){var i=C?1:A;var o=S0(a,e*i,t*i,n*i,r*i,w.color,w.symbolKeepAspect);if(C){S.appendChild(T.painter.paintOne(o))}else{Q0(_,o)}}}}}function oO(e){if(!e||e.length===0){return[["rect"]]}if(typeof e==="string"){return[[e]]}var t=true;for(var n=0;n<e.length;++n){if(typeof e[n]!=="string"){t=false;break}}if(t){return oO([e])}var r=[];for(var n=0;n<e.length;++n){if(typeof e[n]==="string"){r.push([e[n]])}else{r.push(e[n])}}return r}function sO(e){if(!e||e.length===0){return[[0,0]]}if(typeof e==="number"){var t=Math.ceil(e);return[[t,t]]}var n=true;for(var r=0;r<e.length;++r){if(typeof e[r]!=="number"){n=false;break}}if(n){return sO([e])}var a=[];for(var r=0;r<e.length;++r){if(typeof e[r]==="number"){var t=Math.ceil(e[r]);a.push([t,t])}else{var t=w(e[r],function(e){return Math.ceil(e)});if(t.length%2===1){a.push(t.concat(t))}else{a.push(t)}}}return a}function uO(e){if(!e||typeof e==="object"&&e.length===0){return[0,0]}if(typeof e==="number"){var t=Math.ceil(e);return[t,t]}var n=w(e,function(e){return Math.ceil(e)});return e.length%2?n.concat(n):n}function lO(e){return w(e,function(e){return pO(e)})}function pO(e){var t=0;for(var n=0;n<e.length;++n){t+=e[n]}if(e.length%2===1){return t*2}return t}function cO(a,i){a.eachRawSeries(function(e){if(a.isSeriesFiltered(e)){return}var r=e.getData();if(r.hasItemVisual()){r.each(function(e){var t=r.getItemVisual(e,"decal");if(t){var n=r.ensureUniqueItemVisual(e,"style");n.decal=iO(t,i)}})}var t=r.getVisual("decal");if(t){var n=r.getVisual("style");n.decal=iO(t,i)}})}function dO(e){if(P(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;if(n.nodeType===9){n=n.firstChild}while(n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1){n=n.nextSibling}return n}var gO;var mO={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"};var bO=k(mO);var hO={"alignment-baseline":"textBaseline","stop-color":"stopColor"};var fO=k(hO);var vO=function(){function e(){this._defs={};this._root=null}e.prototype.parse=function(e,t){t=t||{};var n=dO(e);if(!n){throw new Error("Illegal svg")}this._defsUsePending=[];var r=new F;this._root=r;var a=[];var i=n.getAttribute("viewBox")||"";var o=parseFloat(n.getAttribute("width")||t.width);var s=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null);isNaN(s)&&(s=null);jO(n,r,null,true,false);var u=n.firstChild;while(u){this._parseNode(u,r,a,null,false,false);u=u.nextSibling}CO(this._defs,this._defsUsePending);this._defsUsePending=[];var l;var p;if(i){var c=kO(i);if(c.length>=4){l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])}}}if(l&&o!=null&&s!=null){p=BO(l,{x:0,y:0,width:o,height:s});if(!t.ignoreViewBox){var d=r;r=new F;r.add(d);d.scaleX=d.scaleY=p.scale;d.x=p.x;d.y=p.y}}if(!t.ignoreRootClip&&o!=null&&s!=null){r.setClipPath(new R({shape:{x:0,y:0,width:o,height:s}}))}return{root:r,width:o,height:s,viewBoxRect:l,viewBoxTransform:p,named:a}};e.prototype._parseNode=function(e,t,n,r,a,i){var o=e.nodeName.toLowerCase();var s;var u=r;if(o==="defs"){a=true}if(o==="text"){i=true}if(o==="defs"||o==="switch"){s=t}else{if(!a){var l=gO[o];if(l&&B(gO,o)){s=l.call(this,e,t);var p=e.getAttribute("name");if(p){var c={name:p,namedFrom:null,svgNodeTagLower:o,el:s};n.push(c);if(o==="g"){u=c}}else if(r){n.push({name:r.name,namedFrom:r,svgNodeTagLower:o,el:s})}t.add(s)}}var d=OO[o];if(d&&B(OO,o)){var g=d.call(this,e);var m=e.getAttribute("id");if(m){this._defs[m]=g}}}if(s&&s.isGroup){var b=e.firstChild;while(b){if(b.nodeType===1){this._parseNode(b,s,n,u,a,i)}else if(b.nodeType===3&&i){this._parseText(b,s)}b=b.nextSibling}}};e.prototype._parseText=function(e,t){var n=new Pu({style:{text:e.textContent},silent:true,x:this._textX||0,y:this._textY||0});IO(t,n);jO(e,n,this._defsUsePending,false,false);_O(n,t);var r=n.style;var a=r.fontSize;if(a&&a<9){r.fontSize=9;n.scaleX*=a/9;n.scaleY*=a/9}var i=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=i;var o=n.getBoundingRect();this._textX+=o.width;t.add(n);return n};e.internalField=function(){gO={g:function(e,t){var n=new F;IO(t,n);jO(e,n,this._defsUsePending,false,false);return n},rect:function(e,t){var n=new R;IO(t,n);jO(e,n,this._defsUsePending,false,false);n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")});n.silent=true;return n},circle:function(e,t){var n=new Mp;IO(t,n);jO(e,n,this._defsUsePending,false,false);n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")});n.silent=true;return n},line:function(e,t){var n=new gc;IO(t,n);jO(e,n,this._defsUsePending,false,false);n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")});n.silent=true;return n},ellipse:function(e,t){var n=new zp;IO(t,n);jO(e,n,this._defsUsePending,false,false);n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")});n.silent=true;return n},polygon:function(e,t){var n=e.getAttribute("points");var r;if(n){r=SO(n)}var a=new uc({shape:{points:r||[]},silent:true});IO(t,a);jO(e,a,this._defsUsePending,false,false);return a},polyline:function(e,t){var n=e.getAttribute("points");var r;if(n){r=SO(n)}var a=new pc({shape:{points:r||[]},silent:true});IO(t,a);jO(e,a,this._defsUsePending,false,false);return a},image:function(e,t){var n=new Mu;IO(t,n);jO(e,n,this._defsUsePending,false,false);n.setStyle({image:e.getAttribute("xlink:href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")});n.silent=true;return n},text:function(e,t){var n=e.getAttribute("x")||"0";var r=e.getAttribute("y")||"0";var a=e.getAttribute("dx")||"0";var i=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a);this._textY=parseFloat(r)+parseFloat(i);var o=new F;IO(t,o);jO(e,o,this._defsUsePending,false,true);return o},tspan:function(e,t){var n=e.getAttribute("x");var r=e.getAttribute("y");if(n!=null){this._textX=parseFloat(n)}if(r!=null){this._textY=parseFloat(r)}var a=e.getAttribute("dx")||"0";var i=e.getAttribute("dy")||"0";var o=new F;IO(t,o);jO(e,o,this._defsUsePending,false,true);this._textX+=parseFloat(a);this._textY+=parseFloat(i);return o},path:function(e,t){var n=e.getAttribute("d")||"";var r=Pp(n);IO(t,r);jO(e,r,this._defsUsePending,false,false);r.silent=true;return r}}}();return e}();var OO={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10);var n=parseInt(e.getAttribute("y1")||"0",10);var r=parseInt(e.getAttribute("x2")||"10",10);var a=parseInt(e.getAttribute("y2")||"0",10);var i=new Ic(t,n,r,a);yO(e,i);xO(e,i);return i},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10);var n=parseInt(e.getAttribute("cy")||"0",10);var r=parseInt(e.getAttribute("r")||"0",10);var a=new Sc(t,n,r);yO(e,a);xO(e,a);return a}};function yO(e,t){var n=e.getAttribute("gradientUnits");if(n==="userSpaceOnUse"){t.global=true}}function xO(e,t){var n=e.firstChild;while(n){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset");var a=void 0;if(r&&r.indexOf("%")>0){a=parseInt(r,10)/100}else if(r){a=parseFloat(r)}else{a=0}var i={};DO(n,i,i);var o=i.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:a,color:o})}n=n.nextSibling}}function IO(e,t){if(e&&e.__inheritedStyle){if(!t.__inheritedStyle){t.__inheritedStyle={}}M(t.__inheritedStyle,e.__inheritedStyle)}}function SO(e){var t=kO(e);var n=[];for(var r=0;r<t.length;r+=2){var a=parseFloat(t[r]);var i=parseFloat(t[r+1]);n.push([a,i])}return n}function jO(e,t,n,r,a){var i=t;var o=i.__inheritedStyle=i.__inheritedStyle||{};var s={};if(e.nodeType===1){EO(e,t);DO(e,o,s);if(!r){MO(e,o,s)}}i.style=i.style||{};if(o.fill!=null){i.style.fill=TO(i,"fill",o.fill,n)}if(o.stroke!=null){i.style.stroke=TO(i,"stroke",o.stroke,n)}q(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){if(o[e]!=null){i.style[e]=parseFloat(o[e])}});q(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(e){if(o[e]!=null){i.style[e]=o[e]}});if(a){i.__selfStyle=s}if(o.lineDash){i.style.lineDash=w(kO(o.lineDash),function(e){return parseFloat(e)})}if(o.visibility==="hidden"||o.visibility==="collapse"){i.invisible=true}if(o.display==="none"){i.ignore=true}}function _O(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline;var a=r;if(!r||r==="auto"){a="alphabetic"}else if(r==="baseline"){a="alphabetic"}else if(r==="before-edge"||r==="text-before-edge"){a="top"}else if(r==="after-edge"||r==="text-after-edge"){a="bottom"}else if(r==="central"||r==="mathematical"){a="middle"}e.style.textBaseline=a}var i=t.__inheritedStyle;if(i){var o=i.textAlign;var s=o;if(o){if(o==="middle"){s="center"}e.style.textAlign=s}}}var AO=/^url\(\s*#(.*?)\)/;function TO(e,t,n,r){var a=n&&n.match(AO);if(a){var i=_e(a[1]);r.push([e,t,i]);return}if(n==="none"){n=null}return n}function CO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}var wO=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function kO(e){return e.match(wO)||[]}var NO=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;var PO=Math.PI/180;function EO(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[];var a=null;n.replace(NO,function(e,t,n){r.push(t,n);return""});for(var i=r.length-1;i>0;i-=2){var o=r[i];var s=r[i-1];var u=kO(o);a=a||Er();switch(s){case"translate":Br(a,a,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":Vr(a,a,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":zr(a,a,-parseFloat(u[0])*PO);break;case"skewX":var l=Math.tan(parseFloat(u[0])*PO);Mr(a,[1,0,l,1,0,0],a);break;case"skewY":var p=Math.tan(parseFloat(u[0])*PO);Mr(a,[1,p,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(u[0]);a[1]=parseFloat(u[1]);a[2]=parseFloat(u[2]);a[3]=parseFloat(u[3]);a[4]=parseFloat(u[4]);a[5]=parseFloat(u[5]);break}}t.setLocalTransform(a)}}var LO=/([^\s:;]+)\s*:\s*([^:;]+)/g;function DO(e,t,n){var r=e.getAttribute("style");if(!r){return}LO.lastIndex=0;var a;while((a=LO.exec(r))!=null){var i=a[1];var o=B(mO,i)?mO[i]:null;if(o){t[o]=a[2]}var s=B(hO,i)?hO[i]:null;if(s){n[s]=a[2]}}}function MO(e,t,n){for(var r=0;r<bO.length;r++){var a=bO[r];var i=e.getAttribute(a);if(i!=null){t[mO[a]]=i}}for(var r=0;r<fO.length;r++){var a=fO[r];var i=e.getAttribute(a);if(i!=null){n[hO[a]]=i}}}function BO(e,t){var n=t.width/e.width;var r=t.height/e.height;var a=Math.min(n,r);return{scale:a,x:-(e.x+e.width/2)*a+(t.x+t.width/2),y:-(e.y+e.height/2)*a+(t.y+t.height/2)}}function zO(e,t){var n=new vO;return n.parse(e,t)}var VO=1e-8;function RO(e,t){return Math.abs(e-t)<VO}function UO(e,t,n){var r=0;var a=e[0];if(!a){return false}for(var i=1;i<e.length;i++){var o=e[i];r+=mu(a[0],a[1],o[0],o[1],t,n);a=o}var s=e[0];if(!RO(a[0],s[0])||!RO(a[1],s[1])){r+=mu(a[0],a[1],s[0],s[1],t,n)}return r!==0}var FO=[];var GO=function(){function e(e){this.name=e}e.prototype.getCenter=function(){return};return e}();var HO=function(i){b(n,i);function n(e,t,n){var r=i.call(this,e)||this;r.type="geoJSON";r.geometries=t;if(!n){var a=r.getBoundingRect();n=[a.x+a.width/2,a.y+a.height/2]}else{n=[n[0],n[1]]}r._center=n;return r}n.prototype.getBoundingRect=function(){var e=this._rect;if(e){return e}var t=Number.MAX_VALUE;var n=[t,t];var r=[-t,-t];var a=[];var i=[];var o=this.geometries;var s=0;for(;s<o.length;s++){if(o[s].type!=="polygon"){continue}var u=o[s].exterior;Ls(u,a,i);rt(n,n,a);at(r,r,i)}if(s===0){n[0]=n[1]=r[0]=r[1]=0}return this._rect=new z(n[0],n[1],r[0]-n[0],r[1]-n[1])};n.prototype.contain=function(e){var t=this.getBoundingRect();var n=this.geometries;if(!t.contain(e[0],e[1])){return false}e:for(var r=0,a=n.length;r<a;r++){if(n[r].type!=="polygon"){continue}var i=n[r].exterior;var o=n[r].interiors;if(UO(i,e[0],e[1])){for(var s=0;s<(o?o.length:0);s++){if(UO(o[s],e[0],e[1])){continue e}}return true}}return false};n.prototype.transformTo=function(e,t,n,r){var a=this.getBoundingRect();var i=a.width/a.height;if(!n){n=i*r}else if(!r){r=n/i}var o=new z(e,t,n,r);var s=a.calculateTransform(o);var u=this.geometries;for(var l=0;l<u.length;l++){if(u[l].type!=="polygon"){continue}var p=u[l].exterior;var c=u[l].interiors;for(var d=0;d<p.length;d++){nt(p[d],p[d],s)}for(var g=0;g<(c?c.length:0);g++){for(var d=0;d<c[g].length;d++){nt(c[g][d],c[g][d],s)}}}a=this._rect;a.copy(o);this._center=[a.x+a.width/2,a.y+a.height/2]};n.prototype.cloneShallow=function(e){e==null&&(e=this.name);var t=new n(e,this.geometries,this._center);t._rect=this._rect;t.transformTo=null;return t};n.prototype.getCenter=function(){return this._center};n.prototype.setCenter=function(e){this._center=e};return n}(GO);var qO=function(r){b(e,r);function e(e,t){var n=r.call(this,e)||this;n.type="geoSVG";n._elOnlyForCalculate=t;return n}e.prototype.getCenter=function(){var e=this._center;if(!e){e=this._center=this._calculateCenter()}return e};e.prototype._calculateCenter=function(){var e=this._elOnlyForCalculate;var t=e.getBoundingRect();var n=[t.x+t.width/2,t.y+t.height/2];var r=Lr(FO);var a=e;while(a&&!a.isGeoSVGGraphicRoot){Mr(r,a.getLocalTransform(),r);a=a.parent}Rr(r,r);nt(n,n,r);return n};return e}(GO);var WO=_(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]);var XO=function(){function e(e,t){this.type="geoSVG";this._usedGraphicMap=_();this._freedGraphics=[];this._mapName=e;this._parsedXML=dO(t)}e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML);this._freedGraphics.push(e);this._boundingRect=this._firstGraphic.boundingRect.clone();var t=JO(e.named),n=t.regions,r=t.regionsMap;this._regions=n;this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}};e.prototype._buildGraphic=function(e){var t;var n;try{t=e&&zO(e,{ignoreViewBox:true,ignoreRootClip:true})||{};n=t.root;D(n!=null)}catch(e){throw new Error("Invalid svg format\n"+e.message)}var r=new F;r.add(n);r.isGeoSVGGraphicRoot=true;var a=t.width;var i=t.height;var o=t.viewBoxRect;var s=this._boundingRect;if(!s){var u=void 0;var l=void 0;var p=void 0;var c=void 0;if(a!=null){u=0;p=a}else if(o){u=o.x;p=o.width}if(i!=null){l=0;c=i}else if(o){l=o.y;c=o.height}if(u==null||l==null){var d=n.getBoundingRect();if(u==null){u=d.x;p=d.width}if(l==null){l=d.y;c=d.height}}s=this._boundingRect=new z(u,l,p,c)}if(o){var g=BO(o,s);n.scaleX=n.scaleY=g.scale;n.x=g.x;n.y=g.y}r.setClipPath(new R({shape:s.plain()}));var m=[];q(t.named,function(e){if(WO.get(e.svgNodeTagLower)!=null){m.push(e);YO(e.el)}});return{root:r,boundingRect:s,named:m}};e.prototype.useGraphic=function(e){var t=this._usedGraphicMap;var n=t.get(e);if(n){return n}n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML);t.set(e,n);return n};e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap;var n=t.get(e);if(n){t.removeKey(e);this._freedGraphics.push(n)}};return e}();function YO(e){e.silent=false;if(e.isGroup){e.traverse(function(e){e.silent=false})}}function JO(e){var n=[];var r=_();q(e,function(e){if(e.namedFrom!=null){return}var t=new qO(e.name,e.el);n.push(t);r.set(e.name,t)});return{regions:n,regionsMap:r}}function ZO(e){if(!e.UTF8Encoding){return e}var t=e;var n=t.UTF8Scale;if(n==null){n=1024}var r=t.features;for(var a=0;a<r.length;a++){var i=r[a];var o=i.geometry;if(o.type==="Polygon"){var s=o.coordinates;for(var u=0;u<s.length;u++){s[u]=$O(s[u],o.encodeOffsets[u],n)}}else if(o.type==="MultiPolygon"){var s=o.coordinates;for(var u=0;u<s.length;u++){var l=s[u];for(var p=0;p<l.length;p++){l[p]=$O(l[p],o.encodeOffsets[u][p],n)}}}}t.UTF8Encoding=false;return t}function $O(e,t,n){var r=[];var a=t[0];var i=t[1];for(var o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64;var u=e.charCodeAt(o+1)-64;s=s>>1^-(s&1);u=u>>1^-(u&1);s+=a;u+=i;a=s;i=u;r.push([s/n,u/n])}return r}function KO(e,o){e=ZO(e);return w(le(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var t=e.properties;var n=e.geometry;var r=[];if(n.type==="Polygon"){var a=n.coordinates;r.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})}if(n.type==="MultiPolygon"){var a=n.coordinates;q(a,function(e){if(e[0]){r.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}})}var i=new HO(t[o||"name"],r,t.cp);i.properties=t;return i})}var QO=[126,25];var ey="";var ty=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var ny=0;ny<ty.length;ny++){for(var ry=0;ry<ty[ny].length;ry++){ty[ny][ry][0]/=10.5;ty[ny][ry][1]/=-10.5/.75;ty[ny][ry][0]+=QO[0];ty[ny][ry][1]+=QO[1]}}function ay(e,t){if(e==="china"){for(var n=0;n<t.length;n++){if(t[n].name===ey){return}}t.push(new HO(ey,w(ty,function(e){return{type:"polygon",exterior:e}}),QO))}}var iy={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};function oy(e,t){if(e==="china"){var n=iy[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5;r[1]+=-n[1]/(10.5/.75);t.setCenter(r)}}}var sy={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function uy(e,t){if(e==="world"){var n=sy[t.name];if(n){var r=[n[0],n[1]];t.setCenter(r)}}}var ly=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function py(e,t){if(e==="china"&&t.name===""){t.geometries.push({type:"polygon",exterior:ly[0]})}}var cy="name";var dy=function(){function e(e,t,n){this.type="geoJSON";this._parsedMap=_();this._mapName=e;this._specialAreas=n;this._geoJSON=my(t)}e.prototype.load=function(n,e){e=e||cy;var t=this._parsedMap.get(e);if(!t){var r=this._parseToRegions(e);t=this._parsedMap.set(e,{regions:r,boundingRect:gy(r)})}var a=_();var i=[];q(t.regions,function(e){var t=e.name;if(n&&n.hasOwnProperty(t)){e=e.cloneShallow(t=n[t])}i.push(e);a.set(t,e)});return{regions:i,boundingRect:t.boundingRect||new z(0,0,0,0),regionsMap:a}};e.prototype._parseToRegions=function(e){var r=this._mapName;var t=this._geoJSON;var n;try{n=t?KO(t,e):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}ay(r,n);q(n,function(e){var t=e.name;oy(r,e);uy(r,e);py(r,e);var n=this._specialAreas&&this._specialAreas[t];if(n){e.transformTo(n.left,n.top,n.width,n.height)}},this);return n};e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}};return e}();function gy(e){var t;for(var n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone();t.union(r)}return t}function my(e){return!P(e)?e:typeof JSON!=="undefined"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()}var by=_();var hy={registerMap:function(e,t,n){if(t.svg){var r=new XO(e,t.svg);by.set(e,r)}else{var a=t.geoJson||t.geoJSON;if(a&&!t.features){n=t.specialAreas}else{a=t}var r=new dy(e,a,n);by.set(e,r)}},getGeoResource:function(e){return by.get(e)},getMapForUser:function(e){var t=by.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,n){var r=by.get(e);if(!r){if("development"!=="production"){console.error("Map "+e+" not exists. The GeoJSON of the map must be provided.")}return}return r.load(t,n)}};var fy=D;var vy=q;var Oy=x;var yy=E;var xy=C;var Iy=typeof window!=="undefined";var Sy="5.1.2";var jy={zrender:"5.1.1"};var _y=1;var Ay=800;var Ty=900;var Cy=1e3;var wy=2e3;var ky=5e3;var Ny=1e3;var Py=1100;var Ey=2e3;var Ly=3e3;var Dy=4e3;var My=4500;var By=4600;var zy=5e3;var Vy=6e3;var Ry=7e3;var Uy={PROCESSOR:{FILTER:Cy,SERIES_FILTER:Ay,STATISTIC:ky},VISUAL:{LAYOUT:Ny,PROGRESSIVE_LAYOUT:Py,GLOBAL:Ey,CHART:Ly,POST_CHART_LAYOUT:By,COMPONENT:Dy,BRUSH:zy,CHART_ITEM:My,ARIA:Vy,DECAL:Ry}};var Fy="__flagInMainProcess";var Gy="__optionUpdated";var Hy="__needsUpdateStatus";var qy=/^[a-zA-Z0-9_]+$/;var Wy="__connectUpdateStatus";var Xy=0;var Yy=1;var Jy=2;function Zy(n){return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(this.isDisposed()){_1(this.id);return}return Ky(this,n,e)}}function $y(n){return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return Ky(this,n,e)}}function Ky(e,t,n){n[0]=n[0]&&n[0].toLowerCase();return ut.prototype[t].apply(e,n)}var Qy=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(ut);var e1=Qy.prototype;e1.on=$y("on");e1.off=$y("off");var t1;var n1;var r1;var a1;var i1;var o1;var s1;var u1;var l1;var p1;var c1;var d1;var g1;var m1;var b1;var h1;var f1;var v1;var O1;var y1;var x1;var I1=function(c){b(e,c);function e(e,t,n){var r=c.call(this,new vv)||this;r._chartsViews=[];r._chartsMap={};r._componentsViews=[];r._componentsMap={};r._pendingActions=[];n=n||{};if(typeof t==="string"){t=E1[t]}r._dom=e;var a="canvas";var i=false;if("development"!=="production"){var o=Iy?window:global;a=o.__ECHARTS__DEFAULT__RENDERER__||a;var s=o.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;i=s==null?i:s}var u=r._zr=Ma(e,{renderer:n.renderer||a,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,useDirtyRect:n.useDirtyRect==null?i:n.useDirtyRect});r._throttledZrFlush=Mf(O(u.flush,u),17);t=j(t);t&&Rb(t,true);r._theme=t;r._locale=eg(n.locale||Kd);r._coordSysMgr=new pb;var l=r._api=f1(r);function p(e,t){return e.__prio-t.__prio}Qt(P1,p);Qt(C1,p);r._scheduler=new Zf(r,l,C1,P1);r._messageCenter=new Qy;r._labelManager=new s0;r._initEvents();r.resize=O(r.resize,r);u.animation.on("frame",r._onframe,r);p1(u,r);c1(u,r);Te(r);return r}e.prototype._onframe=function(){if(this._disposed){return}x1(this);var e=this._scheduler;if(this[Gy]){var t=this[Gy].silent;this[Fy]=true;t1(this);a1.update.call(this);this._zr.flush();this[Fy]=false;this[Gy]=false;u1.call(this,t);l1.call(this,t)}else if(e.unfinished){var n=_y;var r=this._model;var a=this._api;e.unfinished=false;do{var i=+new Date;e.performSeriesTasks(r);e.performDataProcessorTasks(r);o1(this,r);e.performVisualTasks(r);b1(this,this._model,a,"remain");n-=+new Date-i}while(n>0&&e.unfinished);if(!e.unfinished){this._zr.flush()}}};e.prototype.getDom=function(){return this._dom};e.prototype.getId=function(){return this.id};e.prototype.getZr=function(){return this._zr};e.prototype.setOption=function(e,t,n){if("development"!=="production"){fy(!this[Fy],"`setOption` should not be called during main process.")}if(this._disposed){_1(this.id);return}var r;var a;var i;if(yy(t)){n=t.lazyUpdate;r=t.silent;a=t.replaceMerge;i=t.transition;t=t.notMerge}this[Fy]=true;if(!this._model||t){var o=new db(this._api);var s=this._theme;var u=this._model=new tb;u.scheduler=this._scheduler;u.init(null,null,null,s,this._locale,o)}this._model.setOption(e,{replaceMerge:a},w1);O1(this,i);if(n){this[Gy]={silent:r};this[Fy]=false;this.getZr().wakeUp()}else{t1(this);a1.update.call(this);this._zr.flush();this[Gy]=false;this[Fy]=false;u1.call(this,r);l1.call(this,r)}};e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};e.prototype.getModel=function(){return this._model};e.prototype.getOption=function(){return this._model&&this._model.getOption()};e.prototype.getWidth=function(){return this._zr.getWidth()};e.prototype.getHeight=function(){return this._zr.getHeight()};e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Iy&&window.devicePixelRatio||1};e.prototype.getRenderedCanvas=function(e){if(!S.canvasSupported){return}e=e||{};return this._zr.painter.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})};e.prototype.getSvgDataURL=function(){if(!S.svgSupported){return}var e=this._zr;var t=e.storage.getDisplayList();q(t,function(e){e.stopAnimation(null,true)});return e.painter.toDataURL()};e.prototype.getDataURL=function(e){if(this._disposed){_1(this.id);return}e=e||{};var t=e.excludeComponents;var n=this._model;var r=[];var a=this;vy(t,function(e){n.eachComponent({mainType:e},function(e){var t=a._componentsMap[e.__viewId];if(!t.group.ignore){r.push(t);t.group.ignore=true}})});var i=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));vy(r,function(e){e.group.ignore=false});return i};e.prototype.getConnectedDataURL=function(a){if(this._disposed){_1(this.id);return}if(!S.canvasSupported){return}var i=a.type==="svg";var o=this.group;var s=Math.min;var u=Math.max;var e=Infinity;if(M1[o]){var l=e;var p=e;var c=-e;var d=-e;var g=[];var n=a&&a.pixelRatio||this.getDevicePixelRatio();q(D1,function(e,t){if(e.group===o){var n=i?e.getZr().painter.getSvgDom().innerHTML:e.getRenderedCanvas(j(a));var r=e.getDom().getBoundingClientRect();l=s(r.left,l);p=s(r.top,p);c=u(r.right,c);d=u(r.bottom,d);g.push({dom:n,left:r.left,top:r.top})}});l*=n;p*=n;c*=n;d*=n;var t=c-l;var r=d-p;var m=ae();var b=Ma(m,{renderer:i?"svg":"canvas"});b.resize({width:t,height:r});if(i){var h="";vy(g,function(e){var t=e.left-l;var n=e.top-p;h+='<g transform="translate('+t+","+n+')">'+e.dom+"</g>"});b.painter.getSvgRoot().innerHTML=h;if(a.connectedBackgroundColor){b.painter.setBackgroundColor(a.connectedBackgroundColor)}b.refreshImmediately();return b.painter.toDataURL()}else{if(a.connectedBackgroundColor){b.add(new R({shape:{x:0,y:0,width:t,height:r},style:{fill:a.connectedBackgroundColor}}))}vy(g,function(e){var t=new Mu({style:{x:e.left*n-l,y:e.top*n-p,image:e.dom}});b.add(t)});b.refreshImmediately();return m.toDataURL("image/"+(a&&a.type||"png"))}}else{return this.getDataURL(a)}};e.prototype.convertToPixel=function(e,t){return i1(this,"convertToPixel",e,t)};e.prototype.convertFromPixel=function(e,t){return i1(this,"convertFromPixel",e,t)};e.prototype.containPixel=function(e,a){if(this._disposed){_1(this.id);return}var t=this._model;var i;var n=$i(t,e);q(n,function(e,r){r.indexOf("Models")>=0&&q(e,function(e){var t=e.coordinateSystem;if(t&&t.containPoint){i=i||!!t.containPoint(a)}else if(r==="seriesModels"){var n=this._chartsMap[e.__viewId];if(n&&n.containPoint){i=i||n.containPoint(a,e)}else{if("development"!=="production"){console.warn(r+": "+(n?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if("development"!=="production"){console.warn(r+": containPoint is not supported")}}},this)},this);return!!i};e.prototype.getVisual=function(e,t){var n=this._model;var r=$i(n,e,{defaultMainType:"series"});var a=r.seriesModel;if("development"!=="production"){if(!a){console.warn("There is no specified seires model")}}var i=a.getData();var o=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?i.indexOfRawIndex(r.dataIndex):null;return o!=null?xv(i,o,t):Iv(i,t)};e.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]};e.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};e.prototype._initEvents=function(){var p=this;vy(j1,function(l){var e=function(e){var r=p.getModel();var t=e.target;var a;var n=l==="globalout";if(n){a={}}else{t&&c0(t,function(e){var t=H(e);if(t&&t.dataIndex!=null){var n=t.dataModel||r.getSeriesByIndex(t.seriesIndex);a=n&&n.getDataParams(t.dataIndex,t.dataType)||{};return true}else if(t.eventData){a=U({},t.eventData);return true}},true)}if(a){var i=a.componentType;var o=a.componentIndex;if(i==="markLine"||i==="markPoint"||i==="markArea"){i="series";o=a.seriesIndex}var s=i&&o!=null&&r.getComponent(i,o);var u=s&&p[s.mainType==="series"?"_chartsMap":"_componentsMap"][s.__viewId];if("development"!=="production"){if(!n&&!(s&&u)){console.warn("model or view can not be found by params")}}a.event=e;a.type=l;p._$eventProcessor.eventInfo={targetEl:t,packedEvent:a,model:s,view:u};p.trigger(l,a)}};e.zrEventfulCallAtLast=true;p._zr.on(l,e,p)});vy(T1,function(e,t){p._messageCenter.on(t,function(e){this.trigger(t,e)},p)});vy(["selectchanged"],function(t){p._messageCenter.on(t,function(e){this.trigger(t,e)},p)});p0(this._messageCenter,this,this._api)};e.prototype.isDisposed=function(){return this._disposed};e.prototype.clear=function(){if(this._disposed){_1(this.id);return}this.setOption({series:[]},true)};e.prototype.dispose=function(){if(this._disposed){_1(this.id);return}this._disposed=true;no(this.getDom(),V1,"");var t=this._api;var n=this._model;vy(this._componentsViews,function(e){e.dispose(n,t)});vy(this._chartsViews,function(e){e.dispose(n,t)});this._zr.dispose();delete D1[this.id]};e.prototype.resize=function(e){if("development"!=="production"){fy(!this[Fy],"`resize` should not be called during main process.")}if(this._disposed){_1(this.id);return}this._zr.resize(e);var t=this._model;this._loadingFX&&this._loadingFX.resize();if(!t){return}var n=t.resetOption("media");var r=e&&e.silent;if(this[Gy]){if(r==null){r=this[Gy].silent}n=true;this[Gy]=false}this[Fy]=true;n&&t1(this);a1.update.call(this,{type:"resize",animation:U({duration:0},e&&e.animation)});this[Fy]=false;u1.call(this,r);l1.call(this,r)};e.prototype.showLoading=function(e,t){if(this._disposed){_1(this.id);return}if(yy(e)){t=e;e=""}e=e||"default";this.hideLoading();if(!L1[e]){if("development"!=="production"){console.warn("Loading effects "+e+" not exists.")}return}var n=L1[e](this._api,t);var r=this._zr;this._loadingFX=n;r.add(n)};e.prototype.hideLoading=function(){if(this._disposed){_1(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};e.prototype.makeActionFromEvent=function(e){var t=U({},e);t.type=T1[e.type];return t};e.prototype.dispatchAction=function(e,t){if(this._disposed){_1(this.id);return}if(!yy(t)){t={silent:!!t}}if(!A1[e.type]){return}if(!this._model){return}if(this[Fy]){this._pendingActions.push(e);return}var n=t.silent;s1.call(this,e,n);var r=t.flush;if(r){this._zr.flush()}else if(r!==false&&S.browser.weChat){this._throttledZrFlush()}u1.call(this,n);l1.call(this,n)};e.prototype.updateLabelLayout=function(){var e=this._labelManager;e.updateLayoutConfig(this._api);e.layout(this._api);e.processLabelsOverall()};e.prototype.appendData=function(e){if(this._disposed){_1(this.id);return}var t=e.seriesIndex;var n=this.getModel();var r=n.getSeriesByIndex(t);if("development"!=="production"){fy(e.data&&r)}r.appendData(e);this._scheduler.unfinished=true;this.getZr().wakeUp()};e.internalField=function(){t1=function(e){var t=e._scheduler;t.restorePipelines(e._model);t.prepareStageTasks();n1(e,true);n1(e,false);t.plan()};n1=function(e,o){var s=e._model;var u=e._scheduler;var l=o?e._componentsViews:e._chartsViews;var p=o?e._componentsMap:e._chartsMap;var c=e._zr;var d=e._api;for(var t=0;t<l.length;t++){l[t].__alive=false}o?s.eachComponent(function(e,t){e!=="series"&&n(t)}):s.eachSeries(n);function n(e){var t=e.__requireNewView;e.__requireNewView=false;var n="_ec_"+e.id+"_"+e.type;var r=!t&&p[n];if(!r){var a=po(e.type);var i=o?jf.getClass(a.main,a.sub):m.getClass(a.sub);if("development"!=="production"){fy(i,a.sub+" does not exist.")}r=new i;r.init(s,d);p[n]=r;l.push(r);c.add(r.group)}e.__viewId=r.__id=n;r.__alive=true;r.__model=e;r.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex};!o&&u.prepareView(r,e,s,d)}for(var t=0;t<l.length;){var r=l[t];if(!r.__alive){!o&&r.renderTask.dispose();c.remove(r.group);r.dispose(s,d);l.splice(t,1);if(p[r.__id]===r){delete p[r.__id]}r.__id=r.group.__ecComponentInfo=null}else{t++}}};r1=function(a,t,i,o,e){var n=a._model;n.setUpdatePayload(i);if(!o){vy([].concat(a._componentsViews).concat(a._chartsViews),p);return}var r={};r[o+"Id"]=i[o+"Id"];r[o+"Index"]=i[o+"Index"];r[o+"Name"]=i[o+"Name"];var s={mainType:o,query:r};e&&(s.subType=e);var u=i.excludeSeriesId;var l;if(u!=null){l=_();vy(_i(u),function(e){var t=Vi(e,null);if(t!=null){l.set(t,true)}})}if(cp(i)){ql(a._api)}n&&n.eachComponent(s,function(e){if(!l||l.get(e.id)==null){if(cp(i)){if(e instanceof bf){if(i.type===dl&&!i.notBlur){Yl(e,i,a._api)}}else{var t=Jl(e.mainType,e.componentIndex,i.name,a._api),n=t.focusSelf,r=t.dispatchers;if(i.type===dl&&n&&!i.notBlur){Xl(e.mainType,e.componentIndex,a._api)}if(r){vy(r,function(e){i.type===dl?zl(e):Vl(e)})}}}else if(pp(i)){if(e instanceof bf){Kl(e,i,a._api);Ql(e);y1(a)}}p(a[o==="series"?"_chartsMap":"_componentsMap"][e.__viewId])}},a);function p(e){e&&e.__alive&&e[t]&&e[t](e.__model,n,a._api,i)}};a1={prepareAndUpdate:function(e){t1(this);a1.update.call(this,e)},update:function(e){var t=this._model;var n=this._api;var r=this._zr;var a=this._coordSysMgr;var i=this._scheduler;if(!t){return}t.setUpdatePayload(e);i.restoreData(t,e);i.performSeriesTasks(t);a.create(t,n);i.performDataProcessorTasks(t,e);o1(this,t);a.update(t,n);d1(t);i.performVisualTasks(t,e);g1(this,t,n,e);var o=t.get("backgroundColor")||"transparent";var s=t.get("darkMode");if(!S.canvasSupported){var u=Cn(o);o=Vn(u,"rgb");if(u[3]===0){o="transparent"}}else{r.setBackgroundColor(o);if(s!=null&&s!=="auto"){r.setDarkMode(s)}}h1(t,n)},updateTransform:function(a){var i=this;var o=this._model;var s=this._api;if(!o){return}o.setUpdatePayload(a);var u=[];o.eachComponent(function(e,t){if(e==="series"){return}var n=i.getViewOfComponentModel(t);if(n&&n.__alive){if(n.updateTransform){var r=n.updateTransform(t,o,s,a);r&&r.update&&u.push(n)}else{u.push(n)}}});var r=_();o.eachSeries(function(e){var t=i._chartsMap[e.__viewId];if(t.updateTransform){var n=t.updateTransform(e,o,s,a);n&&n.update&&r.set(e.uid,1)}else{r.set(e.uid,1)}});d1(o);this._scheduler.performVisualTasks(o,a,{setDirty:true,dirtyMap:r});b1(this,o,s,a,r);h1(o,this._api)},updateView:function(e){var t=this._model;if(!t){return}t.setUpdatePayload(e);m.markUpdateMethod(e,"updateView");d1(t);this._scheduler.performVisualTasks(t,e,{setDirty:true});g1(this,this._model,this._api,e);h1(t,this._api)},updateVisual:function(r){var a=this;var i=this._model;if(!i){return}i.setUpdatePayload(r);i.eachSeries(function(e){e.getData().clearAllVisual()});m.markUpdateMethod(r,"updateVisual");d1(i);this._scheduler.performVisualTasks(i,r,{visualType:"visual",setDirty:true});i.eachComponent(function(e,t){if(e!=="series"){var n=a.getViewOfComponentModel(t);n&&n.__alive&&n.updateVisual(t,i,a._api,r)}});i.eachSeries(function(e){var t=a._chartsMap[e.__viewId];t.updateVisual(e,i,a._api,r)});h1(i,this._api)},updateLayout:function(e){a1.update.call(this,e)}};i1=function(e,t,n,r){if(e._disposed){_1(e.id);return}var a=e._model;var i=e._coordSysMgr.getCoordinateSystems();var o;var s=$i(a,n);for(var u=0;u<i.length;u++){var l=i[u];if(l[t]&&(o=l[t](a,s,r))!=null){return o}}if("development"!=="production"){console.warn("No coordinate system that supports "+t+" found by the given finder.")}};o1=function(e,t){var n=e._chartsMap;var r=e._scheduler;t.eachSeries(function(e){r.updateStreamModes(e,n[e.__viewId])})};s1=function(i,e){var o=this;var t=this.getModel();var n=i.type;var r=i.escapeConnect;var s=A1[n];var u=s.actionInfo;var a=(u.update||"update").split(":");var l=a.pop();var p=a[0]!=null&&po(a[0]);this[Fy]=true;var c=[i];var d=false;if(i.batch){d=true;c=w(i.batch,function(e){e=M(U({},e),i);e.batch=null;return e})}var g=[];var m;var b=pp(i);var h=cp(i);vy(c,function(e){m=s.action(e,o._model,o._api);m=m||U({},e);m.type=u.event||m.type;g.push(m);if(h){var t=Ki(i),n=t.queryOptionMap,r=t.mainTypeSpecified;var a=r?n.keys()[0]:"series";r1(o,l,e,a);y1(o)}else if(b){r1(o,l,e,"series");y1(o)}else if(p){r1(o,l,e,p.main,p.sub)}});if(l!=="none"&&!h&&!b&&!p){if(this[Gy]){t1(this);a1.update.call(this,i);this[Gy]=false}else{a1[l].call(this,i)}}if(d){m={type:u.event||n,escapeConnect:r,batch:g}}else{m=g[0]}this[Fy]=false;if(!e){var f=this._messageCenter;f.trigger(m.type,m);if(b){var v={type:"selectchanged",escapeConnect:r,selected:ep(t),isFromClick:i.isFromClick||false,fromAction:i.type,fromActionPayload:i};f.trigger(v.type,v)}}};u1=function(e){var t=this._pendingActions;while(t.length){var n=t.shift();s1.call(this,n,e)}};l1=function(e){!e&&this.trigger("updated")};p1=function(t,n){t.on("rendered",function(e){n.trigger("rendered",e);if(t.animation.isFinished()&&!n[Gy]&&!n._scheduler.unfinished&&!n._pendingActions.length){n.trigger("finished")}})};c1=function(e,i){e.on("mouseover",function(e){var t=e.target;var n=c0(t,sp);if(n){Zl(n,e,i._api);y1(i)}}).on("mouseout",function(e){var t=e.target;var n=c0(t,sp);if(n){$l(n,e,i._api);y1(i)}}).on("click",function(e){var t=e.target;var n=c0(t,function(e){return H(e).dataIndex!=null},true);if(n){var r=n.selected?"unselect":"select";var a=H(n);i._api.dispatchAction({type:r,dataType:a.dataType,dataIndexInside:a.dataIndex,seriesIndex:a.seriesIndex,isFromClick:true})}})};d1=function(e){e.clearColorPalette();e.eachSeries(function(e){e.clearColorPalette()})};g1=function(e,t,n,r){m1(e,t,n,r);vy(e._chartsViews,function(e){e.__alive=false});b1(e,t,n,r);vy(e._chartsViews,function(e){if(!e.__alive){e.remove(t,n)}})};m1=function(e,n,r,a,t){vy(t||e._componentsViews,function(e){var t=e.__model;d(t,e);e.render(t,n,r,a);p(t,e);g(t,e)})};b1=function(r,e,t,a,i){var o=r._scheduler;var s=r._labelManager;s.clearLabels();var u=false;e.eachSeries(function(e){var t=r._chartsMap[e.__viewId];t.__alive=true;var n=t.renderTask;o.updatePayload(n,a);d(e,t);if(i&&i.get(e.uid)){n.dirty()}if(n.perform(o.getPerformArgs(n))){u=true}e.__transientTransitionOpt=null;t.group.silent=!!e.get("silent");l(e,t);Ql(e);s.addLabelsOfSeries(t)});o.unfinished=u||o.unfinished;s.updateLayoutConfig(t);s.layout(t);s.processLabelsOverall();e.eachSeries(function(e){var t=r._chartsMap[e.__viewId];p(e,t);g(e,t)});n(r,e)};h1=function(t,n){vy(N1,function(e){e(t,n)})};y1=function(e){e[Hy]=true;e.getZr().wakeUp()};x1=function(e){if(!e[Hy]){return}e.getZr().storage.traverse(function(e){if(Kc(e)){return}o(e)});e[Hy]=false};function o(e){var t=[];var n=e.currentStates;for(var r=0;r<n.length;r++){var a=n[r];if(!(a==="emphasis"||a==="blur"||a==="select")){t.push(a)}}if(e.selected&&e.states.select){t.push("select")}if(e.hoverState===sl&&e.states.emphasis){t.push("emphasis")}else if(e.hoverState===ol&&e.states.blur){t.push("blur")}e.useStates(t)}function n(n,e){var t=n._zr;var r=t.storage;var a=0;r.traverse(function(e){if(!e.isGroup){a++}});if(a>e.get("hoverLayerThreshold")&&!S.node&&!S.worker){e.eachSeries(function(e){if(e.preventUsingHoverLayer){return}var t=n._chartsMap[e.__viewId];if(t.__alive){t.group.traverse(function(e){if(e.states.emphasis){e.states.emphasis.hoverLayer=true}})}})}}function l(e,t){var n=e.get("blendMode")||null;if("development"!=="production"){if(!S.canvasSupported&&n&&n!=="source-over"){console.warn("Only canvas support blendMode")}}t.group.traverse(function(e){if(!e.isGroup){e.style.blend=n}if(e.eachPendingDisplayable){e.eachPendingDisplayable(function(e){e.style.blend=n})}})}function p(e,t){if(e.preventAutoZ){return}c(t.group,e.get("z")||0,e.get("zlevel")||0,-Infinity)}function c(e,t,n,r){var a=e.getTextContent();var i=e.getTextGuideLine();var o=e.isGroup;if(o){var s=e.childrenRef();for(var u=0;u<s.length;u++){r=Math.max(c(s[u],t,n,r),r)}}else{e.z=t;e.zlevel=n;r=Math.max(e.z2,r)}if(a){a.z=t;a.zlevel=n;isFinite(r)&&(a.z2=r+2)}if(i){var l=e.textGuideLineConfig;i.z=t;i.zlevel=n;isFinite(r)&&(i.z2=r+(l&&l.showAbove?1:-1))}return r}function d(e,t){t.group.traverse(function(e){if(Kc(e)){return}var t=e.getTextContent();var n=e.getTextGuideLine();if(e.stateTransition){e.stateTransition=null}if(t&&t.stateTransition){t.stateTransition=null}if(n&&n.stateTransition){n.stateTransition=null}if(e.hasState()){e.prevStates=e.currentStates;e.clearStates()}else if(e.prevStates){e.prevStates=null}})}function g(e,t){var n=e.getModel("stateAnimation");var a=e.isAnimationEnabled();var r=n.get("duration");var i=r>0?{duration:r,delay:n.get("delay"),easing:n.get("easing")}:null;t.group.traverse(function(e){if(e.states&&e.states.emphasis){if(Kc(e)){return}if(e instanceof v){dp(e)}if(e.__dirty){var t=e.prevStates;if(t){e.useStates(t)}}if(a){e.stateTransition=i;var n=e.getTextContent();var r=e.getTextGuideLine();if(n){n.stateTransition=i}if(r){r.stateTransition=i}}if(e.__dirty){o(e)}}})}f1=function(n){return new(function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getCoordinateSystems=function(){return n._coordSysMgr.getCoordinateSystems()};t.prototype.getComponentByElement=function(e){while(e){var t=e.__ecComponentInfo;if(t!=null){return n._model.getComponent(t.mainType,t.index)}e=e.parent}};t.prototype.enterEmphasis=function(e,t){zl(e,t);y1(n)};t.prototype.leaveEmphasis=function(e,t){Vl(e,t);y1(n)};t.prototype.enterBlur=function(e){Rl(e);y1(n)};t.prototype.leaveBlur=function(e){Ul(e);y1(n)};t.prototype.enterSelect=function(e){Fl(e);y1(n)};t.prototype.leaveSelect=function(e){Gl(e);y1(n)};t.prototype.getModel=function(){return n.getModel()};t.prototype.getViewOfComponentModel=function(e){return n.getViewOfComponentModel(e)};t.prototype.getViewOfSeriesModel=function(e){return n.getViewOfSeriesModel(e)};return t}(ub))(n)};v1=function(r){function a(e,t){for(var n=0;n<e.length;n++){var r=e[n];r[Wy]=t}}vy(T1,function(e,t){r._messageCenter.on(t,function(e){if(M1[r.group]&&r[Wy]!==Xy){if(e&&e.escapeConnect){return}var t=r.makeActionFromEvent(e);var n=[];vy(D1,function(e){if(e!==r&&e.group===r.group){n.push(e)}});a(n,Xy);vy(n,function(e){if(e[Wy]!==Yy){e.dispatchAction(t)}});a(n,Jy)}})})};O1=function(e,t){var u=e._model;q(_i(t),function(e){var t;var n=e.from;var r=e.to;if(r==null){if("development"!=="production"){t="`transition.to` must be specified."}h(t)}var a={includeMainTypes:["series"],enableAll:false,enableNone:false};var i=n?$i(u,n,a):null;var o=$i(u,r,a);var s=o.seriesModel;if(s==null){t="";if("development"!=="production"){t="`transition` is only supported on series."}}if(i&&i.seriesModel!==s){t="";if("development"!=="production"){t="`transition.from` and `transition.to` must be specified to the same series."}}if(t!=null){h(t)}s.__transientTransitionOpt={from:n?n.dimension:null,to:r.dimension,dividingMethod:e.dividingMethod}})}}();return e}(ut);var S1=I1.prototype;S1.on=Zy("on");S1.off=Zy("off");S1.one=function(n,r,e){var a=this;Oi("ECharts#one is deprecated.");function i(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}r&&r.apply&&r.apply(this,e);a.off(n,i)}this.on.call(this,n,i,e)};var j1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function _1(e){if("development"!=="production"){console.warn("Instance "+e+" has been disposed")}}var A1={};var T1={};var C1=[];var w1=[];var k1=[];var N1=[];var P1=[];var E1={};var L1={};var D1={};var M1={};var B1=+new Date-0;var z1=+new Date-0;var V1="_echarts_instance_";function R1(e,t,n){if("development"!=="production"){if(!e){throw new Error("Initialize failed: invalid dom.")}}var r=q1(e);if(r){if("development"!=="production"){console.warn("There is a chart instance already initialized on the dom.")}return r}if("development"!=="production"){if(he(e)&&e.nodeName.toUpperCase()!=="CANVAS"&&(!e.clientWidth&&(!n||n.width==null)||!e.clientHeight&&(!n||n.height==null))){console.warn("Can't get DOM width or height. Please check "+"dom.clientWidth and dom.clientHeight. They should not be 0."+"For example, you may need to call this in the callback "+"of window.onload.")}}var a=new I1(e,t,n);a.id="ec_"+B1++;D1[a.id]=a;no(e,V1,a.id);v1(a);vy(k1,function(e){e(a)});return a}function U1(t){if(N(t)){var e=t;t=null;vy(e,function(e){if(e.group!=null){t=e.group}});t=t||"g_"+z1++;vy(e,function(e){e.group=t})}M1[t]=true;return t}function F1(e){M1[e]=false}var G1=F1;function H1(e){if(typeof e==="string"){e=D1[e]}else if(!(e instanceof I1)){e=q1(e)}if(e instanceof I1&&!e.isDisposed()){e.dispose()}}function q1(e){return D1[ro(e,V1)]}function W1(e){return D1[e]}function X1(e,t){E1[e]=t}function Y1(e){if(xy(w1,e)<0){w1.push(e)}}function J1(e,t){ax(C1,e,t,wy)}function Z1(e){if(xy(k1,e)<0){e&&k1.push(e)}}function $1(e){if(xy(N1,e)<0){e&&N1.push(e)}}function K1(e,t,n){if(typeof t==="function"){n=t;t=""}var r=yy(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase();t=e.event;if(T1[t]){return}fy(qy.test(r)&&qy.test(t));if(!A1[r]){A1[r]={action:n,actionInfo:e}}T1[t]=r}function Q1(e,t){pb.register(e,t)}function ex(e){var t=pb.get(e);if(t){return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}}function tx(e,t){ax(P1,e,t,Ny,"layout")}function nx(e,t){ax(P1,e,t,Ly,"visual")}var rx=[];function ax(e,t,n,r,a){if(Oy(t)||yy(t)){n=t;t=r}if("development"!=="production"){if(isNaN(t)||t==null){throw new Error("Illegal priority")}vy(e,function(e){fy(e.__raw!==n)})}if(xy(rx,n)>=0){return}rx.push(n);var i=Zf.wrapStageHandler(n,a);i.__prio=t;i.__raw=n;e.push(i)}function ix(e,t){L1[e]=t}function ox(e){Q("createCanvas",e)}function sx(e,t,n){hy.registerMap(e,t,n)}function ux(e){return hy.getMapForUser(e)}var lx=zh;nx(Ey,Hf);nx(My,Wf);nx(My,Xf);nx(Ey,Ov);nx(My,yv);nx(Ry,cO);Y1(Rb);J1(Ty,Ub);ix("default",Jf);K1({type:dl,event:dl,update:dl},Pe);K1({type:gl,event:gl,update:gl},Pe);K1({type:ml,event:ml,update:ml},Pe);K1({type:bl,event:bl,update:bl},Pe);K1({type:hl,event:hl,update:hl},Pe);X1("light",dv);X1("dark",fv);var px={};var cx=[];var dx={registerPreprocessor:Y1,registerProcessor:J1,registerPostInit:Z1,registerPostUpdate:$1,registerAction:K1,registerCoordinateSystem:Q1,registerLayout:tx,registerVisual:nx,registerTransform:lx,registerLoading:ix,registerMap:sx,PRIORITY:Uy,ComponentModel:g,ComponentView:jf,SeriesModel:bf,ChartView:m,registerComponentModel:function(e){g.registerClass(e)},registerComponentView:function(e){jf.registerClass(e)},registerSeriesModel:function(e){bf.registerClass(e)},registerChartView:function(e){m.registerClass(e)},registerSubTypeDefaulter:function(e,t){g.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){Ra(e,t)}};function t(e){if(N(e)){q(e,function(e){t(e)});return}if(C(cx,e)>=0){return}cx.push(e);if(x(e)){e={install:e}}e.install(dx)}function gx(e){return e==null?0:e.length||1}function mx(e){return e}var bx=function(){function e(e,t,n,r,a,i){this._old=e;this._new=t;this._oldKeyGetter=n||mx;this._newKeyGetter=r||mx;this.context=a;this._diffModeMultiple=i==="multiple"}e.prototype.add=function(e){this._add=e;return this};e.prototype.update=function(e){this._update=e;return this};e.prototype.updateManyToOne=function(e){this._updateManyToOne=e;return this};e.prototype.updateOneToMany=function(e){this._updateOneToMany=e;return this};e.prototype.remove=function(e){this._remove=e;return this};e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()};e.prototype._executeOneToOne=function(){var e=this._old;var t=this._new;var n={};var r=new Array(e.length);var a=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter");this._initIndexMap(t,n,a,"_newKeyGetter");for(var i=0;i<e.length;i++){var o=r[i];var s=n[o];var u=gx(s);if(u>1){var l=s.shift();if(s.length===1){n[o]=s[0]}this._update&&this._update(l,i)}else if(u===1){n[o]=null;this._update&&this._update(s,i)}else{this._remove&&this._remove(i)}}this._performRestAdd(a,n)};e.prototype._executeMultiple=function(){var e=this._old;var t=this._new;var n={};var r={};var a=[];var i=[];this._initIndexMap(e,n,a,"_oldKeyGetter");this._initIndexMap(t,r,i,"_newKeyGetter");for(var o=0;o<a.length;o++){var s=a[o];var u=n[s];var l=r[s];var p=gx(u);var c=gx(l);if(p>1&&c===1){this._updateManyToOne&&this._updateManyToOne(l,u);r[s]=null}else if(p===1&&c>1){this._updateOneToMany&&this._updateOneToMany(l,u);r[s]=null}else if(p===1&&c===1){this._update&&this._update(l,u);r[s]=null}else if(p>1){for(var d=0;d<p;d++){this._remove&&this._remove(u[d])}}else{this._remove&&this._remove(u)}}this._performRestAdd(i,r)};e.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];var a=t[r];var i=gx(a);if(i>1){for(var o=0;o<i;o++){this._add&&this._add(a[o])}}else if(i===1){this._add&&this._add(a)}t[r]=null}};e.prototype._initIndexMap=function(e,t,n,r){var a=this._diffModeMultiple;for(var i=0;i<e.length;i++){var o="_ec_"+this[r](e[i],i);if(!a){n[i]=o}if(!t){continue}var s=t[o];var u=gx(s);if(u===0){t[o]=i;if(a){n.push(o)}}else if(u===1){t[o]=[s,i]}else{s.push(i)}}};return e}();function hx(r){var e={};var i=e.encode={};var o=_();var s=[];var u=[];var l=e.userOutput={dimensionNames:r.dimensions.slice(),encode:{}};q(r.dimensions,function(e){var a=r.getDimensionInfo(e);var t=a.coordDim;if(t){if("development"!=="production"){D(vm.get(t)==null)}var n=a.coordDimIndex;fx(i,t)[n]=e;if(!a.isExtraCoord){o.set(t,1);if(Ox(a.type)){s[0]=e}fx(l.encode,t)[n]=a.index}if(a.defaultTooltip){u.push(e)}}vm.each(function(e,t){var n=fx(i,t);var r=a.otherDims[t];if(r!=null&&r!==false){n[r]=a.name}})});var a=[];var p={};o.each(function(e,t){var n=i[t];p[t]=n[0];a=a.concat(n)});e.dataDimsOnCoord=a;e.encodeFirstDimNotExtra=p;var t=i.label;if(t&&t.length){s=t.slice()}var n=i.tooltip;if(n&&n.length){u=n.slice()}else if(!u.length){u=s.slice()}i.defaultedLabel=s;i.defaultedTooltip=u;return e}function fx(e,t){if(!e.hasOwnProperty(t)){e[t]=[]}return e[t]}function vx(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Ox(e){return!(e==="ordinal"||e==="time")}var yx=function(){function e(e){this.otherDims={};if(e!=null){U(this,e)}}return e}();var xx=Math.floor;var Ix=E;var Sx=w;var jx="undefined";var _x=-1;var Ax="e\0\0";var Tx={float:typeof Float64Array===jx?Array:Float64Array,int:typeof Int32Array===jx?Array:Int32Array,ordinal:Array,number:Array,time:Array};var Cx=typeof Uint32Array===jx?Array:Uint32Array;var kx=typeof Int32Array===jx?Array:Int32Array;var Nx=typeof Uint16Array===jx?Array:Uint16Array;var Px=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"];var Ex=["_extent","_approximateExtent","_rawExtent"];var Lx;var Dx;var Mx;var Bx;var zx;var Vx;var Rx;var Ux;var Fx;var Gx;var Hx;var qx;var Wx;var Xx;var Yx;var Jx=function(){function p(e,t){this.type="list";this._count=0;this._rawCount=0;this._storage={};this._storageArr=[];this._nameList=[];this._idList=[];this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawExtent={};this._extent={};this._approximateExtent={};this._calculationInfo={};this.hasItemOption=true;this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"];this.CHANGABLE_METHODS=["filterSelf","selectRange"];this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];this.getRawIndex=zx;e=e||["x","y"];var n={};var r=[];var a={};for(var i=0;i<e.length;i++){var o=e[i];var s=P(o)?new yx({name:o}):!(o instanceof yx)?new yx(o):o;var u=s.name;s.type=s.type||"float";if(!s.coordDim){s.coordDim=u;s.coordDimIndex=0}var l=s.otherDims=s.otherDims||{};r.push(u);n[u]=s;s.index=i;if(s.createInvertedIndices){a[u]=[]}if(l.itemName===0){this._nameDimIdx=i;this._nameOrdinalMeta=s.ordinalMeta}if(l.itemId===0){this._idDimIdx=i;this._idOrdinalMeta=s.ordinalMeta}}this.dimensions=r;this._dimensionInfos=n;this.hostModel=t;this._dimensionsSummary=hx(this);this._invertedIndicesMap=a;this.userOutput=this._dimensionsSummary.userOutput}p.prototype.getDimension=function(e){if(typeof e==="number"||!isNaN(e)&&!this._dimensionInfos.hasOwnProperty(e)){e=this.dimensions[e]}return e};p.prototype.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]};p.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};p.prototype.mapDimension=function(e,t){var n=this._dimensionsSummary;if(t==null){return n.encodeFirstDimNotExtra[e]}var r=n.encode[e];return r?r[t]:null};p.prototype.mapDimensionsAll=function(e){var t=this._dimensionsSummary;var n=t.encode[e];return(n||[]).slice()};p.prototype.initData=function(e,t,n){var r=Hb(e)||se(e);var a=r?new ih(e,this.dimensions.length):e;if("development"!=="production"){D(r||x(a.getItem)&&x(a.count),"Inavlid data provider.")}this._rawData=a;var i=a.getSource().sourceFormat;this._storage={};this._indices=null;this._dontMakeIdFromName=this._idDimIdx!=null||i===Sm||!!a.fillStorage;this._nameList=(t||[]).slice();this._idList=[];this._nameRepeatCount={};if(!n){this.hasItemOption=false}this.defaultDimValueGetter=Lx[i];this._dimValueGetter=n=n||this.defaultDimValueGetter;this._dimValueGetterArrayRows=Lx.arrayRows;this._rawExtent={};this._initDataFromProvider(0,a.count());if(a.pure){this.hasItemOption=false}};p.prototype.getProvider=function(){return this._rawData};p.prototype.appendData=function(e){if("development"!=="production"){D(!this._indices,"appendData can only be called on raw data.")}var t=this._rawData;var n=this.count();t.appendData(e);var r=t.count();if(!t.persistent){r+=n}this._initDataFromProvider(n,r,true)};p.prototype.appendValues=function(e,t){var n=this._storage;var r=this.dimensions;var a=r.length;var i=this._rawExtent;var o=this.count();var s=o+Math.max(e.length,t?t.length:0);for(var u=0;u<a;u++){var l=r[u];if(!i[l]){i[l]=Wx()}Bx(n,this._dimensionInfos[l],s,true)}var p=Sx(r,function(e){return i[e]});var c=this._storageArr=Sx(r,function(e){return n[e]});var d=[];for(var g=o;g<s;g++){var m=g-o;for(var b=0;b<a;b++){var l=r[b];var h=this._dimValueGetterArrayRows(e[m]||d,l,m,b);c[b][g]=h;var f=p[b];h<f[0]&&(f[0]=h);h>f[1]&&(f[1]=h)}if(t){this._nameList[g]=t[m];if(!this._dontMakeIdFromName){Fx(this,g)}}}this._rawCount=this._count=s;this._extent={};Dx(this)};p.prototype._initDataFromProvider=function(e,t,n){if(e>=t){return}var r=this._rawData;var a=this._storage;var i=this.dimensions;var o=i.length;var s=this._dimensionInfos;var u=this._nameList;var l=this._idList;var p=this._rawExtent;var c=r.getSource().sourceFormat;var d=c===Om;for(var g=0;g<o;g++){var m=i[g];if(!p[m]){p[m]=Wx()}Bx(a,s[m],t,n)}var b=this._storageArr=Sx(i,function(e){return a[e]});var h=Sx(i,function(e){return p[e]});if(r.fillStorage){r.fillStorage(e,t,b,h)}else{var f=[];for(var v=e;v<t;v++){f=r.getItem(v,f);for(var O=0;O<o;O++){var m=i[O];var y=b[O];var x=this._dimValueGetter(f,m,v,O);y[v]=x;var I=h[O];x<I[0]&&(I[0]=x);x>I[1]&&(I[1]=x)}if(d&&!r.pure&&f){var S=f.name;if(u[v]==null&&S!=null){u[v]=Vi(S,null)}var j=f.id;if(l[v]==null&&j!=null){l[v]=Vi(j,null)}}if(!this._dontMakeIdFromName){Fx(this,v)}}}if(!r.persistent&&r.clean){r.clean()}this._rawCount=this._count=t;this._extent={};Dx(this)};p.prototype.count=function(){return this._count};p.prototype.getIndices=function(){var e;var t=this._indices;if(t){var n=t.constructor;var r=this._count;if(n===Array){e=new n(r);for(var a=0;a<r;a++){e[a]=t[a]}}else{e=new n(t.buffer,0,r)}}else{var n=Mx(this);e=new n(this.count());for(var a=0;a<e.length;a++){e[a]=a}}return e};p.prototype.getByDimIdx=function(e,t){if(!(t>=0&&t<this._count)){return NaN}var n=this._storageArr[e];return n?n[this.getRawIndex(t)]:NaN};p.prototype.get=function(e,t){if(!(t>=0&&t<this._count)){return NaN}var n=this._storage[e];return n?n[this.getRawIndex(t)]:NaN};p.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount)){return NaN}var n=this._storage[e];return n?n[t]:NaN};p.prototype.getValues=function(e,t){var n=[];if(!N(e)){t=e;e=this.dimensions}for(var r=0,a=e.length;r<a;r++){n.push(this.get(e[r],t))}return n};p.prototype.hasValue=function(e){var t=this._dimensionsSummary.dataDimsOnCoord;for(var n=0,r=t.length;n<r;n++){if(isNaN(this.get(t[n],e))){return false}}return true};p.prototype.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e];var n=Wx();if(!t){return n}var r=this.count();var a=!this._indices;var i;if(a){return this._rawExtent[e].slice()}i=this._extent[e];if(i){return i.slice()}i=n;var o=i[0];var s=i[1];for(var u=0;u<r;u++){var l=this.getRawIndex(u);var p=t[l];p<o&&(o=p);p>s&&(s=p)}i=[o,s];this._extent[e]=i;return i};p.prototype.getApproximateExtent=function(e){e=this.getDimension(e);return this._approximateExtent[e]||this.getDataExtent(e)};p.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t);this._approximateExtent[t]=e.slice()};p.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]};p.prototype.setCalculationInfo=function(e,t){Ix(e)?U(this._calculationInfo,e):this._calculationInfo[e]=t};p.prototype.getSum=function(e){var t=this._storage[e];var n=0;if(t){for(var r=0,a=this.count();r<a;r++){var i=this.get(e,r);if(!isNaN(i)){n+=i}}}return n};p.prototype.getMedian=function(e){var t=[];this.each(e,function(e){if(!isNaN(e)){t.push(e)}});var n=t.sort(function(e,t){return e-t});var r=this.count();return r===0?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2};p.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e];if("development"!=="production"){if(!n){throw new Error("Do not supported yet")}}var r=n[t];if(r==null||isNaN(r)){return _x}return r};p.prototype.indexOfName=function(e){for(var t=0,n=this.count();t<n;t++){if(this.getName(t)===e){return t}}return-1};p.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0){return-1}if(!this._indices){return e}var t=this._indices;var n=t[e];if(n!=null&&n<this._count&&n===e){return e}var r=0;var a=this._count-1;while(r<=a){var i=(r+a)/2|0;if(t[i]<e){r=i+1}else if(t[i]>e){a=i-1}else{return i}}return-1};p.prototype.indicesOfNearest=function(e,t,n){var r=this._storage;var a=r[e];var i=[];if(!a){return i}if(n==null){n=Infinity}var o=Infinity;var s=-1;var u=0;for(var l=0,p=this.count();l<p;l++){var c=this.getRawIndex(l);var d=t-a[c];var g=Math.abs(d);if(g<=n){if(g<o||g===o&&d>=0&&s<0){o=g;s=d;u=0}if(d===s){i[u++]=l}}}i.length=u;return i};p.prototype.getRawDataItem=function(e){if(!this._rawData.persistent){var t=[];for(var n=0;n<this.dimensions.length;n++){var r=this.dimensions[n];t.push(this.get(r,e))}return t}else{return this._rawData.getItem(this.getRawIndex(e))}};p.prototype.getName=function(e){var t=this.getRawIndex(e);var n=this._nameList[t];if(n==null&&this._nameDimIdx!=null){n=Ux(this,this._nameDimIdx,this._nameOrdinalMeta,t)}if(n==null){n=""}return n};p.prototype.getId=function(e){return Rx(this,this.getRawIndex(e))};p.prototype.each=function(e,t,n,r){var a=this;if(!this._count){return}if(typeof e==="function"){r=n;n=t;t=e;e=[]}var i=n||r||this;var o=Sx(Gx(e),this.getDimension,this);if("development"!=="production"){Hx(this,o)}var s=o.length;var u=Sx(o,function(e){return a._dimensionInfos[e].index});var l=this._storageArr;for(var p=0,c=this.count();p<c;p++){var d=this.getRawIndex(p);switch(s){case 0:t.call(i,p);break;case 1:t.call(i,l[u[0]][d],p);break;case 2:t.call(i,l[u[0]][d],l[u[1]][d],p);break;default:var g=0;var m=[];for(;g<s;g++){m[g]=l[u[g]][d]}m[g]=p;t.apply(i,m)}}};p.prototype.filterSelf=function(e,t,n,r){var a=this;if(!this._count){return}if(typeof e==="function"){r=n;n=t;t=e;e=[]}var i=n||r||this;var o=Sx(Gx(e),this.getDimension,this);if("development"!=="production"){Hx(this,o)}var s=this.count();var u=Mx(this);var l=new u(s);var p=[];var c=o.length;var d=0;var g=Sx(o,function(e){return a._dimensionInfos[e].index});var m=g[0];var b=this._storageArr;for(var h=0;h<s;h++){var f=void 0;var v=this.getRawIndex(h);if(c===0){f=t.call(i,h)}else if(c===1){var O=b[m][v];f=t.call(i,O,h)}else{var y=0;for(;y<c;y++){p[y]=b[g[y]][v]}p[y]=h;f=t.apply(i,p)}if(f){l[d++]=v}}if(d<s){this._indices=l}this._count=d;this._extent={};this.getRawIndex=this._indices?Vx:zx;return this};p.prototype.selectRange=function(e){var t=this;var n=this._count;if(!n){return}var r=[];for(var a in e){if(e.hasOwnProperty(a)){r.push(a)}}if("development"!=="production"){Hx(this,r)}var i=r.length;if(!i){return}var o=this.count();var s=Mx(this);var u=new s(o);var l=0;var p=r[0];var c=Sx(r,function(e){return t._dimensionInfos[e].index});var d=e[p][0];var g=e[p][1];var m=this._storageArr;var b=false;if(!this._indices){var h=0;if(i===1){var f=m[c[0]];for(var v=0;v<n;v++){var O=f[v];if(O>=d&&O<=g||isNaN(O)){u[l++]=h}h++}b=true}else if(i===2){var f=m[c[0]];var y=m[c[1]];var x=e[r[1]][0];var I=e[r[1]][1];for(var v=0;v<n;v++){var O=f[v];var S=y[v];if((O>=d&&O<=g||isNaN(O))&&(S>=x&&S<=I||isNaN(S))){u[l++]=h}h++}b=true}}if(!b){if(i===1){for(var v=0;v<o;v++){var j=this.getRawIndex(v);var O=m[c[0]][j];if(O>=d&&O<=g||isNaN(O)){u[l++]=j}}}else{for(var v=0;v<o;v++){var _=true;var j=this.getRawIndex(v);for(var A=0;A<i;A++){var T=r[A];var O=m[c[A]][j];if(O<e[T][0]||O>e[T][1]){_=false}}if(_){u[l++]=this.getRawIndex(v)}}}}if(l<o){this._indices=u}this._count=l;this._extent={};this.getRawIndex=this._indices?Vx:zx;return this};p.prototype.mapArray=function(e,t,n,r){if(typeof e==="function"){r=n;n=t;t=e;e=[]}n=n||r||this;var a=[];this.each(e,function(){a.push(t&&t.apply(this,arguments))},n);return a};p.prototype.map=function(e,t,n,r){var a=n||r||this;var i=Sx(Gx(e),this.getDimension,this);if("development"!=="production"){Hx(this,i)}var o=qx(this,i);var s=o._storage;o._indices=this._indices;o.getRawIndex=o._indices?Vx:zx;var u=[];var l=i.length;var p=this.count();var c=[];var d=o._rawExtent;for(var g=0;g<p;g++){for(var m=0;m<l;m++){c[m]=this.get(i[m],g)}c[l]=g;var b=t&&t.apply(a,c);if(b!=null){if(typeof b!=="object"){u[0]=b;b=u}var h=this.getRawIndex(g);for(var f=0;f<b.length;f++){var v=i[f];var O=b[f];var y=d[v];var x=s[v];if(x){x[h]=O}if(O<y[0]){y[0]=O}if(O>y[1]){y[1]=O}}}}return o};p.prototype.downSample=function(e,t,n,r){var a=qx(this,[e]);var i=a._storage;var o=[];var s=xx(1/t);var u=i[e];var l=this.count();var p=a._rawExtent[e];var c=new(Mx(this))(l);var d=0;for(var g=0;g<l;g+=s){if(s>l-g){s=l-g;o.length=s}for(var m=0;m<s;m++){var b=this.getRawIndex(g+m);o[m]=u[b]}var h=n(o);var f=this.getRawIndex(Math.min(g+r(o,h)||0,l-1));u[f]=h;if(h<p[0]){p[0]=h}if(h>p[1]){p[1]=h}c[d++]=f}a._count=d;a._indices=c;a.getRawIndex=Vx;return a};p.prototype.lttbDownSample=function(e,t){var n=qx(this,[]);var r=n._storage;var a=r[e];var i=this.count();var o=new(Mx(this))(i);var s=0;var u=xx(1/t);var l=this.getRawIndex(0);var p;var c;var d;o[s++]=l;for(var g=1;g<i-1;g+=u){var m=Math.min(g+u,i-1);var b=Math.min(g+u*2,i);var h=(b+m)/2;var f=0;for(var v=m;v<b;v++){var O=this.getRawIndex(v);var y=a[O];if(isNaN(y)){continue}f+=y}f/=b-m;var x=g;var I=Math.min(g+u,i);var S=g-1;var j=a[l];p=-1;d=x;for(var v=x;v<I;v++){var O=this.getRawIndex(v);var y=a[O];if(isNaN(y)){continue}c=Math.abs((S-h)*(y-j)-(S-v)*(f-j));if(c>p){p=c;d=O}}o[s++]=d;l=d}o[s++]=this.getRawIndex(i-1);n._count=s;n._indices=o;n.getRawIndex=Vx;return n};p.prototype.getItemModel=function(e){var t=this.hostModel;var n=this.getRawDataItem(e);return new A(n,t,t&&t.ecModel)};p.prototype.diff=function(t){var n=this;return new bx(t?t.getIndices():[],this.getIndices(),function(e){return Rx(t,e)},function(e){return Rx(n,e)})};p.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]};p.prototype.setVisual=function(e,t){this._visual=this._visual||{};if(Ix(e)){U(this._visual,e)}else{this._visual[e]=t}};p.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e];var r=n&&n[t];if(r==null){return this.getVisual(t)}return r};p.prototype.hasItemVisual=function(){return this._itemVisuals.length>0};p.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals;var r=n[e];if(!r){r=n[e]={}}var a=r[t];if(a==null){a=this.getVisual(t);if(N(a)){a=a.slice()}else if(Ix(a)){a=U({},a)}r[t]=a}return a};p.prototype.setItemVisual=function(e,t,n){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r;if(Ix(t)){U(r,t)}else{r[t]=n}};p.prototype.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};p.prototype.setLayout=function(e,t){if(Ix(e)){for(var n in e){if(e.hasOwnProperty(n)){this.setLayout(n,e[n])}}return}this._layout[e]=t};p.prototype.getLayout=function(e){return this._layout[e]};p.prototype.getItemLayout=function(e){return this._itemLayouts[e]};p.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?U(this._itemLayouts[e]||{},t):t};p.prototype.clearItemLayouts=function(){this._itemLayouts.length=0};p.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel;if(t){var r=H(t);r.dataIndex=e;r.dataType=this.dataType;r.seriesIndex=n&&n.seriesIndex;if(t.type==="group"){t.traverse(Xx,t)}}this._graphicEls[e]=t};p.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]};p.prototype.eachItemGraphicEl=function(n,r){q(this._graphicEls,function(e,t){if(e){n&&n.call(r,e,t)}})};p.prototype.cloneShallow=function(e){if(!e){var t=Sx(this.dimensions,this.getDimensionInfo,this);e=new p(t,this.hostModel)}e._storage=this._storage;e._storageArr=this._storageArr;Yx(e,this);if(this._indices){var n=this._indices.constructor;if(n===Array){var r=this._indices.length;e._indices=new n(r);for(var a=0;a<r;a++){e._indices[a]=this._indices[a]}}else{e._indices=new n(this._indices)}}else{e._indices=null}e.getRawIndex=e._indices?Vx:zx;return e};p.prototype.wrapMethod=function(e,t){var n=this[e];if(typeof n!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(Se(arguments)))}};p.internalField=function(){Lx={arrayRows:e,objectRows:function(e,t,n,r){return Sh(e[t],this._dimensionInfos[t])},keyedColumns:e,original:function(e,t,n,r){var a=e&&(e.value==null?e:e.value);if(!this._rawData.pure&&wi(e)){this.hasItemOption=true}return Sh(a instanceof Array?a[r]:a,this._dimensionInfos[t])},typedArray:function(e,t,n,r){return e[r]}};function e(e,t,n,r){return Sh(e[r],this._dimensionInfos[t])}Dx=function(i){var o=i._invertedIndicesMap;q(o,function(e,t){var n=i._dimensionInfos[t];var r=n.ordinalMeta;if(r){e=o[t]=new kx(r.categories.length);for(var a=0;a<e.length;a++){e[a]=_x}for(var a=0;a<i._count;a++){e[i.get(t,a)]=a}}})};Ux=function(e,t,n,r){var a;var i=e._storageArr[t];if(i){a=i[r];if(n&&n.categories.length){a=n.categories[a]}}return Vi(a,null)};Mx=function(e){return e._rawCount>65535?Cx:Nx};Bx=function(e,t,n,r){var a=Tx[t.type];var i=t.name;if(r){var o=e[i];var s=o&&o.length;if(!(s===n)){var u=new a(n);for(var l=0;l<s;l++){u[l]=o[l]}e[i]=u}}else{e[i]=new a(n)}};zx=function(e){return e};Vx=function(e){if(e<this._count&&e>=0){return this._indices[e]}return-1};Rx=function(e,t){var n=e._idList[t];if(n==null&&e._idDimIdx!=null){n=Ux(e,e._idDimIdx,e._idOrdinalMeta,t)}if(n==null){n=Ax+t}return n};Gx=function(e){if(!N(e)){e=e!=null?[e]:[]}return e};Hx=function(e,t){for(var n=0;n<t.length;n++){if(!e._dimensionInfos[t[n]]){console.error("Unkown dimension "+t[n])}}};qx=function(e,t){var n=e.dimensions;var r=new p(Sx(n,e.getDimensionInfo,e),e.hostModel);Yx(r,e);var a=r._storage={};var i=e._storage;var o=r._storageArr=[];for(var s=0;s<n.length;s++){var u=n[s];if(i[u]){if(C(t,u)>=0){a[u]=l(i[u]);r._rawExtent[u]=Wx();r._extent[u]=null}else{a[u]=i[u]}o.push(a[u])}}return r};function l(e){var t=e.constructor;return t===Array?e.slice():new t(e)}Wx=function(){return[Infinity,-Infinity]};Xx=function(e){var t=H(e);var n=H(this);t.seriesIndex=n.seriesIndex;t.dataIndex=n.dataIndex;t.dataType=n.dataType};Yx=function(t,n){q(Px.concat(n.__wrappedMethods||[]),function(e){if(n.hasOwnProperty(e)){t[e]=n[e]}});t.__wrappedMethods=n.__wrappedMethods;q(Ex,function(e){t[e]=j(n[e])});t._calculationInfo=U({},n._calculationInfo)};Fx=function(e,t){var n=e._nameList;var r=e._idList;var a=e._nameDimIdx;var i=e._idDimIdx;var o=n[t];var s=r[t];if(o==null&&a!=null){n[t]=o=Ux(e,a,e._nameOrdinalMeta,t)}if(s==null&&i!=null){r[t]=s=Ux(e,i,e._idOrdinalMeta,t)}if(s==null&&o!=null){var u=e._nameRepeatCount;var l=u[o]=(u[o]||0)+1;s=o;if(l>1){s+="__ec__"+l}r[t]=s}}}();return p}();function Zx(e,t,n){if(!Hb(t)){t=Wb(t)}n=n||{};e=(e||[]).slice();var r=(n.dimsDef||[]).slice();var i=_();var a=_();var u=[];var o=$x(t,e,r,n.dimCount);for(var s=0;s<o;s++){var l=r[s];var p=r[s]=U({},E(l)?l:{name:l});var c=p.name;var d=u[s]=new yx;if(c!=null&&i.get(c)==null){d.name=d.displayName=c;i.set(c,s)}p.type!=null&&(d.type=p.type);p.displayName!=null&&(d.displayName=p.displayName)}var g=n.encodeDef;if(!g&&n.encodeDefaulter){g=n.encodeDefaulter(t,o)}var m=_(g);m.each(function(e,r){var t=_i(e).slice();if(t.length===1&&!P(t[0])&&t[0]<0){m.set(r,false);return}var a=m.set(r,[]);q(t,function(e,t){var n=P(e)?i.get(e):e;if(n!=null&&n<o){a[t]=n;h(u[n],r,t)}})});var b=0;q(e,function(e){var a;var i;var o;var s;if(P(e)){a=e;s={}}else{s=e;a=s.name;var t=s.ordinalMeta;s.ordinalMeta=null;s=j(s);s.ordinalMeta=t;i=s.dimsDef;o=s.otherDims;s.name=s.coordDim=s.coordDimIndex=s.dimsDef=s.otherDims=null}var n=m.get(a);if(n===false){return}n=_i(n);if(!n.length){for(var r=0;r<(i&&i.length||1);r++){while(b<u.length&&u[b].coordDim!=null){b++}b<u.length&&n.push(b++)}}q(n,function(e,t){var n=u[e];h(M(n,s),a,t);if(n.name==null&&i){var r=i[t];!E(r)&&(r={name:r});n.name=n.displayName=r.name;n.defaultTooltip=r.defaultTooltip}o&&M(n.otherDims,o)})});function h(e,t,n){if(vm.get(t)!=null){e.otherDims[t]=n}else{e.coordDim=t;e.coordDimIndex=n;a.set(t,true)}}var f=n.generateCoord;var v=n.generateCoordCount;var O=v!=null;v=f?v||1:0;var y=f||"value";for(var x=0;x<o;x++){var d=u[x]=u[x]||new yx;var I=d.coordDim;if(I==null){d.coordDim=Kx(y,a,O);d.coordDimIndex=0;if(!f||v<=0){d.isExtraCoord=true}v--}d.name==null&&(d.name=Kx(d.coordDim,i,false));if(d.type==null&&(Lm(t,x)===Tm.Must||d.isExtraCoord&&(d.otherDims.itemName!=null||d.otherDims.seriesName!=null))){d.type="ordinal"}}return u}function $x(e,t,n,r){var a=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);q(t,function(e){var t;if(E(e)&&(t=e.dimsDef)){a=Math.max(a,t.length)}});return a}function Kx(e,t,n){if(n||t.get(e)!=null){var r=0;while(t.get(e+r)!=null){r++}e+=r}t.set(e,true);return e}function Qx(e,t){t=t||{};return Zx(t.coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}var eI=function(){function e(e){this.coordSysDims=[];this.axisMap=_();this.categoryAxisMap=_();this.coordSysName=e}return e}();function tI(e){var t=e.get("coordinateSystem");var n=new eI(t);var r=nI[t];if(r){r(e,n,n.axisMap,n.categoryAxisMap);return n}}var nI={cartesian2d:function(e,t,n,r){var a=e.getReferringComponents("xAxis",Qi).models[0];var i=e.getReferringComponents("yAxis",Qi).models[0];if("development"!=="production"){if(!a){throw new Error('xAxis "'+xe(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found')}if(!i){throw new Error('yAxis "'+xe(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}}t.coordSysDims=["x","y"];n.set("x",a);n.set("y",i);if(rI(a)){r.set("x",a);t.firstCategoryDimIndex=0}if(rI(i)){r.set("y",i);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},singleAxis:function(e,t,n,r){var a=e.getReferringComponents("singleAxis",Qi).models[0];if("development"!=="production"){if(!a){throw new Error("singleAxis should be specified.")}}t.coordSysDims=["single"];n.set("single",a);if(rI(a)){r.set("single",a);t.firstCategoryDimIndex=0}},polar:function(e,t,n,r){var a=e.getReferringComponents("polar",Qi).models[0];var i=a.findAxisModel("radiusAxis");var o=a.findAxisModel("angleAxis");if("development"!=="production"){if(!o){throw new Error("angleAxis option not found")}if(!i){throw new Error("radiusAxis option not found")}}t.coordSysDims=["radius","angle"];n.set("radius",i);n.set("angle",o);if(rI(i)){r.set("radius",i);t.firstCategoryDimIndex=0}if(rI(o)){r.set("angle",o);t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1)}},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,a,i,o){var s=e.ecModel;var t=s.getComponent("parallel",e.get("parallelIndex"));var u=a.coordSysDims=t.dimensions.slice();q(t.parallelAxisIndex,function(e,t){var n=s.getComponent("parallelAxis",e);var r=u[t];i.set(r,n);if(rI(n)){o.set(r,n);if(a.firstCategoryDimIndex==null){a.firstCategoryDimIndex=t}}})}};function rI(e){return e.get("type")==="category"}function aI(e,n,t){t=t||{};var r=t.byIndex;var a=t.stackedCoordDimension;var i=!!(e&&e.get("stack"));var o;var s;var u;var l;q(n,function(e,t){if(P(e)){n[t]=e={name:e}}if(i&&!e.isExtraCoord){if(!r&&!o&&e.ordinalMeta){o=e}if(!s&&e.type!=="ordinal"&&e.type!=="time"&&(!a||a===e.coordDim)){s=e}}});if(s&&!r&&!o){r=true}if(s){u="__\0ecstackresult";l="__\0ecstackedover";if(o){o.createInvertedIndices=true}var p=s.coordDim;var c=s.type;var d=0;q(n,function(e){if(e.coordDim===p){d++}});n.push({name:u,coordDim:p,coordDimIndex:d,type:c,isExtraCoord:true,isCalculationCoord:true});d++;n.push({name:l,coordDim:l,coordDimIndex:d,type:c,isExtraCoord:true,isCalculationCoord:true})}return{stackedDimension:s&&s.name,stackedByDimension:o&&o.name,isStackedByIndex:r,stackedOverDimension:l,stackResultDimension:u}}function iI(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function oI(e,t){return iI(e,t)?e.getCalculationInfo("stackResultDimension"):t}function sI(e,t,a){a=a||{};if(!Hb(e)){e=Wb(e)}var n=t.get("coordinateSystem");var r=pb.get(n);var i=tI(t);var o;if(i&&i.coordSysDims){o=w(i.coordSysDims,function(e){var t={name:e};var n=i.axisMap.get(e);if(n){var r=n.get("type");t.type=vx(r)}return t})}if(!o){o=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]}var s=a.useEncodeDefaulter;var u=Qx(e,{coordDimensions:o,generateCoord:a.generateCoord,encodeDefaulter:x(s)?s:s?y(km,o,t):null});var l;var p;i&&q(u,function(e,t){var n=e.coordDim;var r=i.categoryAxisMap.get(n);if(r){if(l==null){l=t}e.ordinalMeta=r.getOrdinalMeta();if(a.createInvertedIndices){e.createInvertedIndices=true}}if(e.otherDims.itemName!=null){p=true}});if(!p&&l!=null){u[l].otherDims.itemName=0}var c=aI(t,u);var d=new Jx(u,t);d.setCalculationInfo(c);var g=l!=null&&uI(e)?function(e,t,n,r){return r===l?n:this.defaultDimValueGetter(e,t,n,r)}:null;d.hasItemOption=false;d.initData(e,null,g);return d}function uI(e){if(e.sourceFormat===Om){var t=lI(e.data||[]);return t!=null&&!N(Ci(t))}}function lI(e){var t=0;while(t<e.length&&e[t]==null){t++}return e[t]}var pI=function(){function e(e){this._setting=e||{};this._extent=[Infinity,-Infinity]}e.prototype.getSetting=function(e){return this._setting[e]};e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1])};e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};e.prototype.getExtent=function(){return this._extent.slice()};e.prototype.setExtent=function(e,t){var n=this._extent;if(!isNaN(e)){n[0]=e}if(!isNaN(t)){n[1]=t}};e.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e};e.prototype.isBlank=function(){return this._isBlank};e.prototype.setBlank=function(e){this._isBlank=e};return e}();xo(pI);var cI=function(){function a(e){this.categories=e.categories||[];this._needCollect=e.needCollect;this._deduplication=e.deduplication}a.createByAxisModel=function(e){var t=e.option;var n=t.data;var r=n&&w(n,dI);return new a({categories:r,needCollect:!r,deduplication:t.dedplication!==false})};a.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)};a.prototype.parseAndCollect=function(e){var t;var n=this._needCollect;if(typeof e!=="string"&&!n){return e}if(n&&!this._deduplication){t=this.categories.length;this.categories[t]=e;return t}var r=this._getOrCreateMap();t=r.get(e);if(t==null){if(n){t=this.categories.length;this.categories[t]=e;r.set(e,t)}else{t=NaN}}return t};a.prototype._getOrCreateMap=function(){return this._map||(this._map=_(this.categories))};return a}();function dI(e){if(E(e)&&e.value!=null){return e.value}else{return e+""}}var gI=Wa;function mI(e,t,n,r){var a={};var i=e[1]-e[0];var o=a.interval=oi(i/t,true);if(n!=null&&o<n){o=a.interval=n}if(r!=null&&o>r){o=a.interval=r}var s=a.intervalPrecision=bI(o);var u=a.niceTickExtent=[gI(Math.ceil(e[0]/o)*o,s),gI(Math.floor(e[1]/o)*o,s)];fI(u,e);return a}function bI(e){return Ya(e)+2}function hI(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function fI(e,t){!isFinite(e[0])&&(e[0]=t[0]);!isFinite(e[1])&&(e[1]=t[1]);hI(e,0,t);hI(e,1,t);if(e[0]>e[1]){e[0]=e[1]}}function vI(e,t){return e>=t[0]&&e<=t[1]}function OI(e,t){if(t[1]===t[0]){return.5}return(e-t[0])/(t[1]-t[0])}function yI(e,t){return e*(t[1]-t[0])+t[0]}var xI=function(r){b(e,r);function e(e){var t=r.call(this,e)||this;t.type="ordinal";var n=t.getSetting("ordinalMeta");if(!n){n=new cI({})}if(N(n)){n=new cI({categories:w(n,function(e){return E(e)?e.value:e})})}t._ordinalMeta=n;t._extent=t.getSetting("extent")||[0,n.categories.length-1];return t}e.prototype.parse=function(e){return typeof e==="string"?this._ordinalMeta.getOrdinal(e):Math.round(e)};e.prototype.contain=function(e){e=this.parse(e);return vI(e,this._extent)&&this._ordinalMeta.categories[e]!=null};e.prototype.normalize=function(e){e=this._getTickNumber(this.parse(e));return OI(e,this._extent)};e.prototype.scale=function(e){e=Math.round(yI(e,this._extent));return this.getRawOrdinalNumber(e)};e.prototype.getTicks=function(){var e=[];var t=this._extent;var n=t[0];while(n<=t[1]){e.push({value:n});n++}return e};e.prototype.getMinorTicks=function(e){return};e.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}var t=e.ordinalNumbers;var n=this._ordinalNumbersByTick=[];var r=this._ticksByOrdinalNumber=[];var a=0;var i=this._ordinalMeta.categories.length;for(var o=Math.min(i,t.length);a<o;++a){var s=t[a];n[a]=s;r[s]=a}var u=0;for(;a<i;++a){while(r[u]!=null){u++}n.push(u);r[u]=a}};e.prototype._getTickNumber=function(e){var t=this._ticksByOrdinalNumber;return t&&e>=0&&e<t.length?t[e]:e};e.prototype.getRawOrdinalNumber=function(e){var t=this._ordinalNumbersByTick;return t&&e>=0&&e<t.length?t[e]:e};e.prototype.getLabel=function(e){if(!this.isBlank()){var t=this.getRawOrdinalNumber(e.value);var n=this._ordinalMeta.categories[t];return n==null?"":n+""}};e.prototype.count=function(){return this._extent[1]-this._extent[0]+1};e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};e.prototype.isInExtentRange=function(e){e=this._getTickNumber(e);return this._extent[0]<=e&&this._extent[1]>=e};e.prototype.getOrdinalMeta=function(){return this._ordinalMeta};e.prototype.niceTicks=function(){};e.prototype.niceExtent=function(){};e.type="ordinal";return e}(pI);pI.registerClass(xI);var II=Wa;var SI=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="interval";e._interval=0;e._intervalPrecision=2;return e}e.prototype.parse=function(e){return e};e.prototype.contain=function(e){return vI(e,this._extent)};e.prototype.normalize=function(e){return OI(e,this._extent)};e.prototype.scale=function(e){return yI(e,this._extent)};e.prototype.setExtent=function(e,t){var n=this._extent;if(!isNaN(e)){n[0]=parseFloat(e)}if(!isNaN(t)){n[1]=parseFloat(t)}};e.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1]);this.setExtent(t[0],t[1])};e.prototype.getInterval=function(){return this._interval};e.prototype.setInterval=function(e){this._interval=e;this._niceExtent=this._extent.slice();this._intervalPrecision=bI(e)};e.prototype.getTicks=function(e){var t=this._interval;var n=this._extent;var r=this._niceExtent;var a=this._intervalPrecision;var i=[];if(!t){return i}var o=1e4;if(n[0]<r[0]){if(e){i.push({value:II(r[0]-t,a)})}else{i.push({value:n[0]})}}var s=r[0];while(s<=r[1]){i.push({value:s});s=II(s+t,a);if(s===i[i.length-1].value){break}if(i.length>o){return[]}}var u=i.length?i[i.length-1].value:r[1];if(n[1]>u){if(e){i.push({value:II(u+t,a)})}else{i.push({value:n[1]})}}return i};e.prototype.getMinorTicks=function(e){var t=this.getTicks(true);var n=[];var r=this.getExtent();for(var a=1;a<t.length;a++){var i=t[a];var o=t[a-1];var s=0;var u=[];var l=i.value-o.value;var p=l/e;while(s<e-1){var c=II(o.value+(s+1)*p);if(c>r[0]&&c<r[1]){u.push(c)}s++}n.push(u)}return n};e.prototype.getLabel=function(e,t){if(e==null){return""}var n=t&&t.precision;if(n==null){n=Ya(e.value)||0}else if(n==="auto"){n=this._intervalPrecision}var r=II(e.value,n,true);return Mg(r)};e.prototype.niceTicks=function(e,t,n){e=e||5;var r=this._extent;var a=r[1]-r[0];if(!isFinite(a)){return}if(a<0){a=-a;r.reverse()}var i=mI(r,e,t,n);this._intervalPrecision=i.intervalPrecision;this._interval=i.interval;this._niceExtent=i.niceTickExtent};e.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1]){if(t[0]!==0){var n=t[0];if(!e.fixMax){t[1]+=n/2;t[0]-=n/2}else{t[0]-=n/2}}else{t[1]=1}}var r=t[1]-t[0];if(!isFinite(r)){t[0]=0;t[1]=1}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;if(!e.fixMin){t[0]=II(Math.floor(t[0]/a)*a)}if(!e.fixMax){t[1]=II(Math.ceil(t[1]/a)*a)}};e.type="interval";return e}(pI);pI.registerClass(SI);var jI="__ec_stack_";var _I=.5;var AI=typeof Float32Array!=="undefined"?Float32Array:Array;function TI(e){return e.get("stack")||jI+e.seriesIndex}function CI(e){return e.dim+e.index}function wI(e){var t=[];var n=e.axis;var r="axis0";if(n.type!=="category"){return}var a=n.getBandWidth();for(var i=0;i<e.count||0;i++){t.push(M({bandWidth:a,axisKey:r,stackId:jI+i},e))}var o=EI(t);var s=[];for(var i=0;i<e.count;i++){var u=o[r][jI+i];u.offsetCenter=u.offset+u.width/2;s.push(u)}return s}function kI(e,t){var n=[];t.eachSeriesByType(e,function(e){if(BI(e)&&!zI(e)){n.push(e)}});return n}function NI(e){var l={};q(e,function(e){var t=e.coordinateSystem;var n=t.getBaseAxis();if(n.type!=="time"&&n.type!=="value"){return}var r=e.getData();var a=n.dim+"_"+n.index;var i=r.mapDimension(n.dim);for(var o=0,s=r.count();o<s;++o){var u=r.get(i,o);if(!l[a]){l[a]=[u]}else{l[a].push(u)}}});var t={};for(var n in l){if(l.hasOwnProperty(n)){var r=l[n];if(r){r.sort(function(e,t){return e-t});var a=null;for(var i=1;i<r.length;++i){var o=r[i]-r[i-1];if(o>0){a=a===null?o:Math.min(a,o)}}t[n]=a}}}return t}function PI(e){var h=NI(e);var f=[];q(e,function(e){var t=e.coordinateSystem;var n=t.getBaseAxis();var r=n.getExtent();var a;if(n.type==="category"){a=n.getBandWidth()}else if(n.type==="value"||n.type==="time"){var i=n.dim+"_"+n.index;var o=h[i];var s=Math.abs(r[1]-r[0]);var u=n.scale.getExtent();var l=Math.abs(u[1]-u[0]);a=o?s/l*o:s}else{var p=e.getData();a=Math.abs(r[1]-r[0])/p.count()}var c=X(e.get("barWidth"),a);var d=X(e.get("barMaxWidth"),a);var g=X(e.get("barMinWidth")||1,a);var m=e.get("barGap");var b=e.get("barCategoryGap");f.push({bandWidth:a,barWidth:c,barMaxWidth:d,barMinWidth:g,barGap:m,barCategoryGap:b,axisKey:CI(n),stackId:TI(e)})});return EI(f)}function EI(e){var d={};q(e,function(e,t){var n=e.axisKey;var r=e.bandWidth;var a=d[n]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}};var i=a.stacks;d[n]=a;var o=e.stackId;if(!i[o]){a.autoWidthCount++}i[o]=i[o]||{width:0,maxWidth:0};var s=e.barWidth;if(s&&!i[o].width){i[o].width=s;s=Math.min(a.remainedWidth,s);a.remainedWidth-=s}var u=e.barMaxWidth;u&&(i[o].maxWidth=u);var l=e.barMinWidth;l&&(i[o].minWidth=l);var p=e.barGap;p!=null&&(a.gap=p);var c=e.barCategoryGap;c!=null&&(a.categoryGap=c)});var m={};q(d,function(e,n){m[n]={};var t=e.stacks;var r=e.bandWidth;var a=e.categoryGap;if(a==null){var i=k(t).length;a=Math.max(35-i*4,15)+"%"}var o=X(a,r);var s=X(e.gap,1);var u=e.remainedWidth;var l=e.autoWidthCount;var p=(u-o)/(l+(l-1)*s);p=Math.max(p,0);q(t,function(e){var t=e.maxWidth;var n=e.minWidth;if(!e.width){var r=p;if(t&&t<r){r=Math.min(t,u)}if(n&&n>r){r=n}if(r!==p){e.width=r;u-=r+s*r;l--}}else{var r=e.width;if(t){r=Math.min(r,t)}if(n){r=Math.max(r,n)}e.width=r;u-=r+s*r;l--}});p=(u-o)/(l+(l-1)*s);p=Math.max(p,0);var c=0;var d;q(t,function(e,t){if(!e.width){e.width=p}d=e;c+=e.width*(1+s)});if(d){c-=d.width*s}var g=-c/2;q(t,function(e,t){m[n][t]=m[n][t]||{bandWidth:r,offset:g,width:e.width};g+=e.width*(1+s)})});return m}function LI(e,t,n){if(e&&t){var r=e[CI(t)];if(r!=null&&n!=null){return r[TI(n)]}return r}}function DI(e,t){var n=kI(e,t);var A=PI(n);var T={};q(n,function(e){var t=e.getData();var n=e.coordinateSystem;var r=n.getBaseAxis();var a=TI(e);var i=A[CI(r)][a];var o=i.offset;var s=i.width;var u=n.getOtherAxis(r);var l=e.get("barMinHeight")||0;T[a]=T[a]||[];t.setLayout({bandWidth:i.bandWidth,offset:o,size:s});var p=t.mapDimension(u.dim);var c=t.mapDimension(r.dim);var d=iI(t,p);var g=u.isHorizontal();var m=VI(r,u);for(var b=0,h=t.count();b<h;b++){var f=t.get(p,b);var v=t.get(c,b);var O=f>=0?"p":"n";var y=m;if(d){if(!T[a][v]){T[a][v]={p:m,n:m}}y=T[a][v][O]}var x=void 0;var I=void 0;var S=void 0;var j=void 0;if(g){var _=n.dataToPoint([f,v]);x=y;I=_[1]+o;S=_[0]-m;j=s;if(Math.abs(S)<l){S=(S<0?-1:1)*l}if(!isNaN(S)){d&&(T[a][v][O]+=S)}}else{var _=n.dataToPoint([v,f]);x=_[0]+o;I=y;S=s;j=_[1]-m;if(Math.abs(j)<l){j=(j<=0?-1:1)*l}if(!isNaN(j)){d&&(T[a][v][O]+=j)}}t.setItemLayout(b,{x:x,y:I,width:S,height:j})}})}var MI={seriesType:"bar",plan:_f(),reset:function(e){if(!BI(e)||!zI(e)){return}var t=e.getData();var c=e.coordinateSystem;var d=c.master.getRect();var g=c.getBaseAxis();var m=c.getOtherAxis(g);var b=t.mapDimension(m.dim);var h=t.mapDimension(g.dim);var f=m.isHorizontal();var v=f?0:1;var O=LI(PI([e]),g,e).width;if(!(O>_I)){O=_I}return{progress:function(e,t){var n=e.count;var r=new AI(n*2);var a=new AI(n*2);var i=new AI(n);var o;var s=[];var u=[];var l=0;var p=0;while((o=e.next())!=null){u[v]=t.get(b,o);u[1-v]=t.get(h,o);s=c.dataToPoint(u,null);a[l]=f?d.x+d.width:s[0];r[l++]=s[0];a[l]=f?s[1]:d.y+d.height;r[l++]=s[1];i[p++]=o}t.setLayout({largePoints:r,largeDataIndices:i,largeBackgroundPoints:a,barWidth:O,valueAxisStart:VI(g,m),backgroundStart:f?d.x:d.y,valueAxisHorizontal:f})}}}};function BI(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function zI(e){return e.pipelineContext&&e.pipelineContext.large}function VI(e,t,n){return t.toGlobalCoord(t.dataToCoord(t.type==="log"?1:0))}var RI=function(e,t,n,r){while(n<r){var a=n+r>>>1;if(e[a][1]<t){n=a+1}else{r=a}}return n};var UI=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="time";return t}e.prototype.getLabel=function(e){var t=this.getSetting("useUTC");return fg(e.value,pg[hg(mg(this._minLevelUnit))]||pg.second,t,this.getSetting("locale"))};e.prototype.getFormattedLabel=function(e,t,n){var r=this.getSetting("useUTC");var a=this.getSetting("locale");return vg(e,t,n,a,r)};e.prototype.getTicks=function(e){var t=this._interval;var n=this._extent;var r=[];if(!t){return r}r.push({value:n[0],level:0});var a=this.getSetting("useUTC");var i=ZI(this._minLevelUnit,this._approxInterval,a,n);r=r.concat(i);r.push({value:n[1],level:0});return r};e.prototype.niceExtent=function(e){var t=this._extent;if(t[0]===t[1]){t[0]-=og;t[1]+=og}if(t[1]===-Infinity&&t[0]===Infinity){var n=new Date;t[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate());t[0]=t[1]-og}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval)};e.prototype.niceTicks=function(e,t,n){e=e||10;var r=this._extent;var a=r[1]-r[0];this._approxInterval=a/e;if(t!=null&&this._approxInterval<t){this._approxInterval=t}if(n!=null&&this._approxInterval>n){this._approxInterval=n}var i=FI.length;var o=Math.min(RI(FI,this._approxInterval,0,i),i-1);this._interval=FI[o][1];this._minLevelUnit=FI[Math.max(o-1,0)][0]};e.prototype.parse=function(e){return typeof e==="number"?e:+ri(e)};e.prototype.contain=function(e){return vI(this.parse(e),this._extent)};e.prototype.normalize=function(e){return OI(this.parse(e),this._extent)};e.prototype.scale=function(e){return yI(e,this._extent)};e.type="time";return e}(SI);var FI=[["second",rg],["minute",ag],["hour",ig],["quarter-day",ig*6],["half-day",ig*12],["day",og*1.2],["half-week",og*3.5],["week",og*7],["month",og*31],["quarter",og*95],["half-year",sg/2],["year",sg]];function GI(e,t,n,r){var a=ri(t);var i=ri(n);var o=function(e){return yg(a,e,r)===yg(i,e,r)};var s=function(){return o("year")};var u=function(){return s()&&o("month")};var l=function(){return u()&&o("day")};var p=function(){return l()&&o("hour")};var c=function(){return p()&&o("minute")};var d=function(){return c()&&o("second")};var g=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return u();case"day":return l();case"hour":return p();case"minute":return c();case"second":return d();case"millisecond":return g()}}function HI(e,t){e/=og;return e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function qI(e){var t=30*og;e/=t;return e>6?6:e>3?3:e>2?2:1}function WI(e){e/=ig;return e>12?12:e>6?6:e>3.5?4:e>2?2:1}function XI(e,t){e/=t?ag:rg;return e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function YI(e){return oi(e,true)}function JI(e,t,n){var r=new Date(e);switch(mg(t)){case"year":case"month":r[wg(n)](0);case"day":r[kg(n)](1);case"hour":r[Ng(n)](0);case"minute":r[Pg(n)](0);case"second":r[Eg(n)](0);r[Lg(n)](0)}return r.getTime()}function ZI(e,d,g,m){var t=1e4;var n=dg;var r=0;function b(e,t,n,r,a,i,o){var s=new Date(t);var u=t;var l=s[r]();while(u<n&&u<=m[1]){o.push({value:u});l+=e;s[a](l);u=s.getTime()}o.push({value:u,notAdd:true})}function a(e,t,n){var r=[];var a=!t.length;if(GI(mg(e),m[0],m[1],g)){return}if(a){t=[{value:JI(new Date(m[0]),e,g)},{value:m[1]}]}for(var i=0;i<t.length-1;i++){var o=t[i].value;var s=t[i+1].value;if(o===s){continue}var u=void 0;var l=void 0;var p=void 0;var c=false;switch(e){case"year":u=Math.max(1,Math.round(d/og/365));l=xg(g);p=Cg(g);break;case"half-year":case"quarter":case"month":u=qI(d);l=Ig(g);p=wg(g);break;case"week":case"half-week":case"day":u=HI(d);l=Sg(g);p=kg(g);c=true;break;case"half-day":case"quarter-day":case"hour":u=WI(d);l=jg(g);p=Ng(g);break;case"minute":u=XI(d,true);l=_g(g);p=Pg(g);break;case"second":u=XI(d,false);l=Ag(g);p=Eg(g);break;case"millisecond":u=YI(d);l=Tg(g);p=Lg(g);break}b(u,o,s,l,p,c,r);if(e==="year"&&n.length>1&&i===0){n.unshift({value:n[0].value-u})}}for(var i=0;i<r.length;i++){n.push(r[i])}return r}var i=[];var o=[];var s=0;var u=0;for(var l=0;l<n.length&&r++<t;++l){var p=mg(n[l]);if(!bg(n[l])){continue}a(n[l],i[i.length-1]||[],o);var c=n[l+1]?mg(n[l+1]):null;if(p!==c){if(o.length){u=s;o.sort(function(e,t){return e.value-t.value});var h=[];for(var f=0;f<o.length;++f){var v=o[f].value;if(f===0||o[f-1].value!==v){h.push(o[f]);if(v>=m[0]&&v<=m[1]){s++}}}var O=(m[1]-m[0])/d;if(s>O*1.5&&u>O/1.5){break}i.push(h);if(s>O||e===n[l]){break}}o=[]}}if("development"!=="production"){if(r>=t){fi("Exceed safe limit.")}}var y=le(w(i,function(e){return le(e,function(e){return e.value>=m[0]&&e.value<=m[1]&&!e.notAdd})}),function(e){return e.length>0});var x=[];var I=y.length-1;for(var l=0;l<y.length;++l){var S=y[l];for(var j=0;j<S.length;++j){x.push({value:S[j].value,level:I-l})}}x.sort(function(e,t){return e.value-t.value});var _=[];for(var l=0;l<x.length;++l){if(l===0||x[l].value!==x[l-1].value){_.push(x[l])}}return _}pI.registerClass(UI);var $I=pI.prototype;var KI=SI.prototype;var QI=Wa;var eS=Math.floor;var tS=Math.ceil;var nS=Math.pow;var rS=Math.log;var aS=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="log";e.base=10;e._originalScale=new SI;e._interval=0;return e}e.prototype.getTicks=function(e){var t=this._originalScale;var r=this._extent;var a=t.getExtent();var n=KI.getTicks.call(this,e);return w(n,function(e){var t=e.value;var n=Wa(nS(this.base,t));n=t===r[0]&&this._fixMin?oS(n,a[0]):n;n=t===r[1]&&this._fixMax?oS(n,a[1]):n;return{value:n}},this)};e.prototype.setExtent=function(e,t){var n=this.base;e=rS(e)/rS(n);t=rS(t)/rS(n);KI.setExtent.call(this,e,t)};e.prototype.getExtent=function(){var e=this.base;var t=$I.getExtent.call(this);t[0]=nS(e,t[0]);t[1]=nS(e,t[1]);var n=this._originalScale;var r=n.getExtent();this._fixMin&&(t[0]=oS(t[0],r[0]));this._fixMax&&(t[1]=oS(t[1],r[1]));return t};e.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=rS(e[0])/rS(t);e[1]=rS(e[1])/rS(t);$I.unionExtent.call(this,e)};e.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))};e.prototype.niceTicks=function(e){e=e||10;var t=this._extent;var n=t[1]-t[0];if(n===Infinity||n<=0){return}var r=ai(n);var a=e/n*r;if(a<=.5){r*=10}while(!isNaN(r)&&Math.abs(r)<1&&Math.abs(r)>0){r*=10}var i=[Wa(tS(t[0]/r)*r),Wa(eS(t[1]/r)*r)];this._interval=r;this._niceExtent=i};e.prototype.niceExtent=function(e){KI.niceExtent.call(this,e);this._fixMin=e.fixMin;this._fixMax=e.fixMax};e.prototype.parse=function(e){return e};e.prototype.contain=function(e){e=rS(e)/rS(this.base);return vI(e,this._extent)};e.prototype.normalize=function(e){e=rS(e)/rS(this.base);return OI(e,this._extent)};e.prototype.scale=function(e){e=yI(e,this._extent);return nS(this.base,e)};e.type="log";return e}(pI);var iS=aS.prototype;iS.getMinorTicks=KI.getMinorTicks;iS.getLabel=KI.getLabel;function oS(e,t){return QI(e,Ya(t))}pI.registerClass(aS);var sS=function(){function e(e,t,n){this._prepareParams(e,t,n)}e.prototype._prepareParams=function(e,t,n){if(n[1]<n[0]){n=[NaN,NaN]}this._dataMin=n[0];this._dataMax=n[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",true);if(x(a)){this._modelMinNum=cS(e,a({min:n[0],max:n[1]}))}else if(a!=="dataMin"){this._modelMinNum=cS(e,a)}var i=this._modelMaxRaw=t.get("max",true);if(x(i)){this._modelMaxNum=cS(e,i({min:n[0],max:n[1]}))}else if(i!=="dataMax"){this._modelMaxNum=cS(e,i)}if(r){this._axisDataLen=t.getCategories().length}else{var o=t.get("boundaryGap");var s=N(o)?o:[o||0,o||0];if(typeof s[0]==="boolean"||typeof s[1]==="boolean"){if("development"!=="production"){console.warn("Boolean type for boundaryGap is only "+"allowed for ordinal axis. Please use string in "+'percentage instead, e.g., "20%". Currently, '+"boundaryGap is set to be 0.")}this._boundaryGapInner=[0,0]}else{this._boundaryGapInner=[fa(s[0],1),fa(s[1],1)]}}};e.prototype.calculate=function(){var e=this._isOrdinal;var t=this._dataMin;var n=this._dataMax;var r=this._axisDataLen;var a=this._boundaryGapInner;var i=!e?n-t||Math.abs(t):null;var o=this._modelMinRaw==="dataMin"?t:this._modelMinNum;var s=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum;var u=o!=null;var l=s!=null;if(o==null){o=e?r?0:NaN:t-a[0]*i}if(s==null){s=e?r?r-1:NaN:n+a[1]*i}(o==null||!isFinite(o))&&(o=NaN);(s==null||!isFinite(s))&&(s=NaN);if(o>s){o=NaN;s=NaN}var p=ye(o)||ye(s)||e&&!r;if(this._needCrossZero){if(o>0&&s>0&&!u){o=0}if(o<0&&s<0&&!l){s=0}}var c=this._determinedMin;var d=this._determinedMax;if(c!=null){o=c;u=true}if(d!=null){s=d;l=true}return{min:o,max:s,minFixed:u,maxFixed:l,isBlank:p}};e.prototype.modifyDataMinMax=function(e,t){if("development"!=="production"){D(!this.frozen)}this[lS[e]]=t};e.prototype.setDeterminedMinMax=function(e,t){var n=uS[e];if("development"!=="production"){D(!this.frozen&&this[n]==null)}this[n]=t};e.prototype.freeze=function(){this.frozen=true};return e}();var uS={min:"_determinedMin",max:"_determinedMax"};var lS={min:"_dataMin",max:"_dataMax"};function pS(e,t,n){var r=e.rawExtentInfo;if(r){return r}r=new sS(e,t,n);e.rawExtentInfo=r;return r}function cS(e,t){return t==null?null:ye(t)?NaN:e.parse(t)}function dS(e,t){var n=e.type;var r=pS(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var a=r.min;var i=r.max;var o=t.ecModel;if(o&&n==="time"){var s=kI("bar",o);var u=false;q(s,function(e){u=u||e.getBaseAxis()===t.axis});if(u){var l=PI(s);var p=gS(a,i,t,l);a=p.min;i=p.max}}return{extent:[a,i],fixMin:r.minFixed,fixMax:r.maxFixed}}function gS(e,t,n,r){var a=n.axis.getExtent();var i=a[1]-a[0];var o=LI(r,n.axis);if(o===undefined){return{min:e,max:t}}var s=Infinity;q(o,function(e){s=Math.min(e.offset,s)});var u=-Infinity;q(o,function(e){u=Math.max(e.offset+e.width,u)});s=Math.abs(s);u=Math.abs(u);var l=s+u;var p=t-e;var c=1-(s+u)/i;var d=p/c-p;t+=d*(u/l);e-=d*(s/l);return{min:e,max:t}}function mS(e,t){var n=dS(e,t);var r=n.extent;var a=t.get("splitNumber");if(e instanceof aS){e.base=t.get("logBase")}var i=e.type;e.setExtent(r[0],r[1]);e.niceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:i==="interval"||i==="time"?t.get("minInterval"):null,maxInterval:i==="interval"||i==="time"?t.get("maxInterval"):null});var o=t.get("interval");if(o!=null){e.setInterval&&e.setInterval(o)}}function bS(e,t){t=t||e.get("type");if(t){switch(t){case"category":return new xI({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[Infinity,-Infinity]});case"time":return new UI({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(pI.getClass(t)||SI)}}}function hS(e){var t=e.scale.getExtent();var n=t[0];var r=t[1];return!(n>0&&r>0||n<0&&r<0)}function fS(a){var e=a.getLabelModel().get("formatter");var r=a.type==="category"?a.scale.getExtent()[0]:null;if(a.scale.type==="time"){return function(n){return function(e,t){return a.scale.getFormattedLabel(e,t,n)}}(e)}else if(typeof e==="string"){return function(r){return function(e){var t=a.scale.getLabel(e);var n=r.replace("{value}",t!=null?t:"");return n}}(e)}else if(typeof e==="function"){return function(n){return function(e,t){if(r!=null){t=e.value-r}return n(vS(a,e),t,e.level!=null?{level:e.level}:null)}}(e)}else{return function(e){return a.scale.getLabel(e)}}}function vS(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function OS(e){var t=e.model;var n=e.scale;if(!t.get(["axisLabel","show"])||n.isBlank()){return}var r;var a;var i=n.getExtent();if(n instanceof xI){a=n.count()}else{r=n.getTicks();a=r.length}var o=e.getLabelModel();var s=fS(e);var u;var l=1;if(a>40){l=Math.ceil(a/40)}for(var p=0;p<a;p+=l){var c=r?r[p]:{value:i[0]+p};var d=s(c,p);var g=o.getTextRect(d);var m=yS(g,o.get("rotate")||0);u?u.union(m):u=m}return u}function yS(e,t){var n=t*Math.PI/180;var r=e.width;var a=e.height;var i=r*Math.abs(Math.cos(n))+Math.abs(a*Math.sin(n));var o=r*Math.abs(Math.sin(n))+Math.abs(a*Math.cos(n));var s=new z(e.x,e.y,i,o);return s}function xS(e){var t=e.get("interval");return t==null?"auto":t}function IS(e){return e.type==="category"&&xS(e.getLabelModel())===0}function SS(t,e){var n={};q(t.mapDimensionsAll(e),function(e){n[oI(t,e)]=true});return k(n)}function jS(n,r,e){if(r){q(SS(r,e),function(e){var t=r.getApproximateExtent(e);t[0]<n[0]&&(n[0]=t[0]);t[1]>n[1]&&(n[1]=t[1])})}}var _S=function(){function e(){}e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale};e.prototype.getCoordSysModel=function(){return};return e}();function AS(e){return sI(e.getSource(),e)}var TS={isDimensionStacked:iI,enableDataStack:aI,getStackedDimension:oI};function CS(e,t){var n=t;if(!(t instanceof A)){n=new A(t)}var r=bS(n);r.setExtent(e[0],e[1]);mS(r,n);return r}function wS(e){oe(e,_S)}function kS(e,t){t=t||{};return Od(e,null,null,t.state!=="normal")}var NS=Object.freeze({__proto__:null,createList:AS,getLayoutRect:om,dataStack:TS,createScale:CS,mixinAxisModelCommonMethods:wS,getECData:H,createTextStyle:kS,createDimensions:Qx,createSymbol:S0,enableHoverEmphasis:tp});var PS=Object.freeze({__proto__:null,linearMap:V,round:Wa,asc:Xa,getPrecision:Ya,getPrecisionSafe:Ja,getPixelPrecision:Za,getPercentWithPrecision:$a,MAX_SAFE_INTEGER:Qa,remRadian:ei,isRadianAroundZero:ti,parseDate:ri,quantity:ai,quantityExponent:ii,nice:oi,quantile:si,reformIntervals:ui,isNumeric:pi,numericToNumber:li});var ES=Object.freeze({__proto__:null,parse:ri,format:fg});var LS=Object.freeze({__proto__:null,extendShape:Lc,extendPath:Mc,makePath:Vc,makeImage:Rc,mergePath:Fc,resizePath:Gc,createIcon:sd,updateProps:Y,initProps:Yc,getTransform:Qc,clipPointsByRect:id,clipRectByRect:od,registerShape:Bc,getShapeClass:zc,Group:F,Image:Mu,Text:G,Circle:Mp,Ellipse:zp,Sector:ec,Ring:nc,Polygon:uc,Polyline:pc,Rect:R,Line:gc,BezierCurve:fc,Arc:Oc,IncrementalDisplayable:kc,CompoundPath:yc,LinearGradient:Ic,RadialGradient:Sc,BoundingRect:z});var DS=Object.freeze({__proto__:null,addCommas:Mg,toCamelCase:Bg,normalizeCssArray:zg,encodeHTML:Ug,formatTpl:qg,getTooltipMarker:Xg,formatTime:Yg,capitalFirst:Jg,truncateText:Po,getTextRect:Dg});var MS=Object.freeze({__proto__:null,map:w,each:q,indexOf:C,inherits:ie,reduce:ue,filter:le,bind:O,curry:y,isArray:N,isString:P,isObject:E,isFunction:x,extend:U,defaults:M,clone:j,merge:f});var BS=Ji();function zS(e){return e.type==="category"?RS(e):GS(e)}function VS(e,t){return e.type==="category"?FS(e,t):{ticks:w(e.scale.getTicks(),function(e){return e.value})}}function RS(e){var t=e.getLabelModel();var n=US(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function US(e,t){var n=HS(e,"labels");var r=xS(t);var a=qS(n,r);if(a){return a}var i;var o;if(x(r)){i=$S(e,r)}else{o=r==="auto"?XS(e):r;i=ZS(e,o)}return WS(n,r,{labels:i,labelCategoryInterval:o})}function FS(e,t){var n=HS(e,"ticks");var r=xS(t);var a=qS(n,r);if(a){return a}var i;var o;if(!t.get("show")||e.scale.isBlank()){i=[]}if(x(r)){i=$S(e,r,true)}else if(r==="auto"){var s=US(e,e.getLabelModel());o=s.labelCategoryInterval;i=w(s.labels,function(e){return e.tickValue})}else{o=r;i=ZS(e,o,true)}return WS(n,r,{ticks:i,tickCategoryInterval:o})}function GS(n){var e=n.scale.getTicks();var r=fS(n);return{labels:w(e,function(e,t){return{formattedLabel:r(e,t),rawLabel:n.scale.getLabel(e),tickValue:e.value}})}}function HS(e,t){return BS(e)[t]||(BS(e)[t]=[])}function qS(e,t){for(var n=0;n<e.length;n++){if(e[n].key===t){return e[n].value}}}function WS(e,t,n){e.push({key:t,value:n});return n}function XS(e){var t=BS(e).autoInterval;return t!=null?t:BS(e).autoInterval=e.calculateCategoryInterval()}function YS(e){var t=JS(e);var n=fS(e);var r=(t.axisRotate-t.labelRotate)/180*Math.PI;var a=e.scale;var i=a.getExtent();var o=a.count();if(i[1]-i[0]<1){return 0}var s=1;if(o>40){s=Math.max(1,Math.floor(o/40))}var u=i[0];var l=e.dataToCoord(u+1)-e.dataToCoord(u);var p=Math.abs(l*Math.cos(r));var c=Math.abs(l*Math.sin(r));var d=0;var g=0;for(;u<=i[1];u+=s){var m=0;var b=0;var h=ga(n({value:u}),t.font,"center","top");m=h.width*1.3;b=h.height*1.3;d=Math.max(d,m,7);g=Math.max(g,b,7)}var f=d/p;var v=g/c;isNaN(f)&&(f=Infinity);isNaN(v)&&(v=Infinity);var O=Math.max(0,Math.floor(Math.min(f,v)));var y=BS(e.model);var x=e.getExtent();var I=y.lastAutoInterval;var S=y.lastTickCount;if(I!=null&&S!=null&&Math.abs(I-O)<=1&&Math.abs(S-o)<=1&&I>O&&y.axisExtent0===x[0]&&y.axisExtent1===x[1]){O=I}else{y.lastTickCount=o;y.lastAutoInterval=O;y.axisExtent0=x[0];y.axisExtent1=x[1]}return O}function JS(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function ZS(e,t,n){var r=fS(e);var a=e.scale;var i=a.getExtent();var o=e.getLabelModel();var s=[];var u=Math.max((t||0)+1,1);var l=i[0];var p=a.count();if(l!==0&&u>1&&p/u>2){l=Math.round(Math.ceil(l/u)*u)}var c=IS(e);var d=o.get("showMinLabel")||c;var g=o.get("showMaxLabel")||c;if(d&&l!==i[0]){b(i[0])}var m=l;for(;m<=i[1];m+=u){b(m)}if(g&&m-u!==i[1]){b(i[1])}function b(e){var t={value:e};s.push(n?e:{formattedLabel:r(t),rawLabel:a.getLabel(t),tickValue:e})}return s}function $S(e,r,a){var i=e.scale;var o=fS(e);var s=[];q(i.getTicks(),function(e){var t=i.getLabel(e);var n=e.value;if(r(e.value,t)){s.push(a?n:{formattedLabel:o(e),rawLabel:t,tickValue:n})}});return s}var KS=[0,1];var QS=function(){function e(e,t,n){this.onBand=false;this.inverse=false;this.dim=e;this.scale=t;this._extent=n||[0,0]}e.prototype.contain=function(e){var t=this._extent;var n=Math.min(t[0],t[1]);var r=Math.max(t[0],t[1]);return e>=n&&e<=r};e.prototype.containData=function(e){return this.scale.contain(e)};e.prototype.getExtent=function(){return this._extent.slice()};e.prototype.getPixelPrecision=function(e){return Za(e||this.scale.getExtent(),this._extent)};e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e;n[1]=t};e.prototype.dataToCoord=function(e,t){var n=this._extent;var r=this.scale;e=r.normalize(e);if(this.onBand&&r.type==="ordinal"){n=n.slice();ej(n,r.count())}return V(e,KS,n,t)};e.prototype.coordToData=function(e,t){var n=this._extent;var r=this.scale;if(this.onBand&&r.type==="ordinal"){n=n.slice();ej(n,r.count())}var a=V(e,n,KS,t);return this.scale.scale(a)};e.prototype.pointToData=function(e,t){return};e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel();var n=VS(this,t);var r=n.ticks;var a=w(r,function(e){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(e):e),tickValue:e}},this);var i=t.get("alignWithLabel");tj(this,a,i,e.clamp);return a};e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal"){return[]}var e=this.model.getModel("minorTick");var t=e.get("splitNumber");if(!(t>0&&t<100)){t=5}var n=this.scale.getMinorTicks(t);var r=w(n,function(e){return w(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this);return r};e.prototype.getViewLabels=function(){return zS(this).labels};e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")};e.prototype.getTickModel=function(){return this.model.getModel("axisTick")};e.prototype.getBandWidth=function(){var e=this._extent;var t=this.scale.getExtent();var n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/n};e.prototype.calculateCategoryInterval=function(){return YS(this)};return e}();function ej(e,t){var n=e[1]-e[0];var r=t;var a=n/r/2;e[0]+=a;e[1]-=a}function tj(e,t,n,r){var a=t.length;if(!e.onBand||n||!a){return}var i=e.getExtent();var o;var s;if(a===1){t[0].coord=i[0];o=t[1]={coord:i[0]}}else{var u=t[a-1].tickValue-t[0].tickValue;var l=(t[a-1].coord-t[0].coord)/u;q(t,function(e){e.coord-=l/2});var p=e.scale.getExtent();s=1+p[1]-t[a-1].tickValue;o={coord:t[a-1].coord+l*s};t.push(o)}var c=i[0]>i[1];if(d(t[0].coord,i[0])){r?t[0].coord=i[0]:t.shift()}if(r&&d(i[0],t[0].coord)){t.unshift({coord:i[0]})}if(d(i[1],o.coord)){r?o.coord=i[1]:t.pop()}if(r&&d(o.coord,i[1])){t.push({coord:i[1]})}function d(e,t){e=Wa(e);t=Wa(t);return c?e>t:e<t}}function nj(e){var t=g.extend(e);g.registerClass(t);return t}function rj(e){var t=jf.extend(e);jf.registerClass(t);return t}function aj(e){var t=bf.extend(e);bf.registerClass(t);return t}function ij(e){var t=m.extend(e);m.registerClass(t);return t}function oj(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sj(s,u,l){if(!l){l=function(e,t){return e===t}}s=s.slice();u=u.slice();var p=u.length;var c=s.length;var d=1;var e=p+c;var g=[{newPos:-1,components:[]}];var t=uj(g[0],u,s,0,l);if(g[0].newPos+1>=p&&t+1>=c){var n=[];for(var r=0;r<u.length;r++){n.push(r)}return[{indices:n,count:u.length,added:false,removed:false}]}function a(){for(var e=-1*d;e<=d;e+=2){var t;var n=g[e-1];var r=g[e+1];var a=(r?r.newPos:0)-e;if(n){g[e-1]=undefined}var i=n&&n.newPos+1<p;var o=r&&0<=a&&a<c;if(!i&&!o){g[e]=undefined;continue}if(!i||o&&n.newPos<r.newPos){t=cj(r);lj(t.components,false,true)}else{t=n;t.newPos++;lj(t.components,true,false)}a=uj(t,u,s,e,l);if(t.newPos+1>=p&&a+1>=c){return pj(t.components)}else{g[e]=t}}d++}while(d<=e){var i=a();if(i){return i}}}function uj(e,t,n,r,a){var i=t.length;var o=n.length;var s=e.newPos;var u=s-r;var l=0;while(s+1<i&&u+1<o&&a(t[s+1],n[u+1])){s++;u++;l++}if(l){e.components.push({count:l,added:false,removed:false,indices:[]})}e.newPos=s;return u}function lj(e,t,n){var r=e[e.length-1];if(r&&r.added===t&&r.removed===n){e[e.length-1]={count:r.count+1,added:t,removed:n,indices:[]}}else{e.push({count:1,added:t,removed:n,indices:[]})}}function pj(e){var t=0;var n=e.length;var r=0;var a=0;for(;t<n;t++){var i=e[t];if(!i.removed){var o=[];for(var s=r;s<r+i.count;s++){o.push(s)}i.indices=o;r+=i.count;if(!i.added){a+=i.count}}else{for(var s=a;s<a+i.count;s++){i.indices.push(s)}a+=i.count}}return e}function cj(e){return{newPos:e.newPos,components:e.components.slice(0)}}function dj(e,t,n){return sj(e,t,n)}var gj="none";var mj=Math.round;var bj=Math.sin;var hj=Math.cos;var fj=Math.PI;var vj=Math.PI*2;var Oj=180/fj;var yj=1e-4;function xj(e){return mj(e*1e3)/1e3}function Ij(e){return mj(e*1e4)/1e4}function Sj(e){return e<yj&&e>-yj}function jj(e){var t=e.fill;return t!=null&&t!==gj}function _j(e){var t=e.stroke;return t!=null&&t!==gj}function Aj(e,t){if(t){Tj(e,"transform","matrix("+xj(t[0])+","+xj(t[1])+","+xj(t[2])+","+xj(t[3])+","+Ij(t[4])+","+Ij(t[5])+")")}}function Tj(e,t,n){if(!n||n.type!=="linear"&&n.type!=="radial"){e.setAttribute(t,n)}}function Cj(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function wj(e,t,n){e.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,n)}function kj(e,t,n){var r=t.opacity==null?1:t.opacity;if(n instanceof Mu){e.style.opacity=r+"";return}if(jj(t)){var a=t.fill;a=a==="transparent"?gj:a;Tj(e,"fill",a);Tj(e,"fill-opacity",(t.fillOpacity!=null?t.fillOpacity*r:r)+"")}else{Tj(e,"fill",gj)}if(_j(t)){var i=t.stroke;i=i==="transparent"?gj:i;Tj(e,"stroke",i);var o=t.lineWidth;var s=t.strokeNoScale?n.getLineScale():1;Tj(e,"stroke-width",(s?o/s:0)+"");Tj(e,"paint-order",t.strokeFirst?"stroke":"fill");Tj(e,"stroke-opacity",(t.strokeOpacity!=null?t.strokeOpacity*r:r)+"");var u=t.lineDash&&o>0&&C0(t.lineDash,o);if(u){var l=t.lineDashOffset;if(s&&s!==1){u=w(u,function(e){return e/s});if(l){l/=s;l=mj(l)}}Tj(e,"stroke-dasharray",u.join(","));Tj(e,"stroke-dashoffset",(l||0)+"")}else{Tj(e,"stroke-dasharray","")}t.lineCap&&Tj(e,"stroke-linecap",t.lineCap);t.lineJoin&&Tj(e,"stroke-linejoin",t.lineJoin);t.miterLimit&&Tj(e,"stroke-miterlimit",t.miterLimit+"")}else{Tj(e,"stroke",gj)}}var Nj=function(){function e(){}e.prototype.reset=function(){this._d=[];this._str=""};e.prototype.moveTo=function(e,t){this._add("M",e,t)};e.prototype.lineTo=function(e,t){this._add("L",e,t)};e.prototype.bezierCurveTo=function(e,t,n,r,a,i){this._add("C",e,t,n,r,a,i)};e.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)};e.prototype.arc=function(e,t,n,r,a,i){this.ellipse(e,t,n,n,0,r,a,i)};e.prototype.ellipse=function(e,t,n,r,a,i,o,s){var u=this._d.length===0;var l=o-i;var p=!s;var c=Math.abs(l);var d=Sj(c-vj)||(p?l>=vj:-l>=vj);var g=l>0?l%vj:l%vj+vj;var m=false;if(d){m=true}else if(Sj(c)){m=false}else{m=g>=fj===!!p}var b=Ij(e+n*hj(i));var h=Ij(t+r*bj(i));if(d){if(p){l=vj-1e-4}else{l=-vj+1e-4}m=true;if(u){this._d.push("M",b,h)}}var f=Ij(e+n*hj(i+l));var v=Ij(t+r*bj(i+l));if(isNaN(b)||isNaN(h)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(Oj)||isNaN(f)||isNaN(v)){return""}this._d.push("A",Ij(n),Ij(r),mj(a*Oj),+m,+p,f,v)};e.prototype.rect=function(e,t,n,r){this._add("M",e,t);this._add("L",e+n,t);this._add("L",e+n,t+r);this._add("L",e,t+r);this._add("L",e,t)};e.prototype.closePath=function(){if(this._d.length>0){this._add("Z")}};e.prototype._add=function(e,t,n,r,a,i,o,s,u){this._d.push(e);for(var l=1;l<arguments.length;l++){var p=arguments[l];if(isNaN(p)){this._invalid=true;return}this._d.push(Ij(p))}};e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" ");this._d=[]};e.prototype.getStr=function(){return this._str};return e}();var Pj={brush:function(e){var t=e.style;var n=e.__svgEl;if(!n){n=oj("path");e.__svgEl=n}if(!e.path){e.createPathProxy()}var r=e.path;if(e.shapeChanged()){r.beginPath();e.buildPath(r,e.shape);e.pathUpdated()}var a=r.getVersion();var i=e;var o=i.__svgPathBuilder;if(i.__svgPathVersion!==a||!o||e.style.strokePercent<1){if(!o){o=i.__svgPathBuilder=new Nj}o.reset();r.rebuildPath(o,e.style.strokePercent);o.generateStr();i.__svgPathVersion=a}Tj(n,"d",o.getStr());kj(n,t,e);Aj(n,e.transform)}};var Ej={brush:function(e){var t=e.style;var n=t.image;if(n instanceof HTMLImageElement){n=n.src}else if(n instanceof HTMLCanvasElement){n=n.toDataURL()}if(!n){return}var r=t.x||0;var a=t.y||0;var i=t.width;var o=t.height;var s=e.__svgEl;if(!s){s=oj("image");e.__svgEl=s}if(n!==e.__imageSrc){Cj(s,"href",n);e.__imageSrc=n}Tj(s,"width",i+"");Tj(s,"height",o+"");Tj(s,"x",r+"");Tj(s,"y",a+"");kj(s,t,e);Aj(s,e.transform)}};var Lj={left:"start",right:"end",center:"middle",middle:"middle"};function Dj(e,t,n){if(n==="top"){e+=t/2}else if(n==="bottom"){e-=t/2}return e}var Mj={brush:function(e){var t=e.style;var n=t.text;n!=null&&(n+="");if(!n||isNaN(t.x)||isNaN(t.y)){return}var r=e.__svgEl;if(!r){r=oj("text");wj(r,"xml:space","preserve");e.__svgEl=r}var a=t.font||oa;var i=r.style;i.font=a;r.textContent=n;kj(r,t,e);Aj(r,e.transform);var o=t.x||0;var s=Dj(t.y||0,ha(a),t.textBaseline);var u=Lj[t.textAlign]||t.textAlign;Tj(r,"dominant-baseline","central");Tj(r,"text-anchor",u);Tj(r,"x",o+"");Tj(r,"y",s+"")}};var Bj="0";var zj="1";var Vj=function(){function e(e,t,n,r,a){this.nextId=0;this._domName="_dom";this.createElement=oj;this._zrId=e;this._svgRoot=t;this._tagNames=typeof n==="string"?[n]:n;this._markLabel=r;if(a){this._domName=a}}e.prototype.getDefs=function(e){var t=this._svgRoot;var n=this._svgRoot.getElementsByTagName("defs");if(n.length===0){if(e){var r=t.insertBefore(this.createElement("defs"),t.firstChild);if(!r.contains){r.contains=function(e){var t=r.children;if(!t){return false}for(var n=t.length-1;n>=0;--n){if(t[n]===e){return true}}return false}}return r}else{return null}}else{return n[0]}};e.prototype.doUpdate=function(e,t){if(!e){return}var n=this.getDefs(false);if(e[this._domName]&&n.contains(e[this._domName])){if(typeof t==="function"){t(e)}}else{var r=this.add(e);if(r){e[this._domName]=r}}};e.prototype.add=function(e){return null};e.prototype.addDom=function(e){var t=this.getDefs(true);if(e.parentNode!==t){t.appendChild(e)}};e.prototype.removeDom=function(e){var t=this.getDefs(false);if(t&&e[this._domName]){t.removeChild(e[this._domName]);e[this._domName]=null}};e.prototype.getDoms=function(){var r=this.getDefs(false);if(!r){return[]}var a=[];q(this._tagNames,function(e){var t=r.getElementsByTagName(e);for(var n=0;n<t.length;n++){a.push(t[n])}});return a};e.prototype.markAllUnused=function(){var e=this.getDoms();var t=this;q(e,function(e){e[t._markLabel]=Bj})};e.prototype.markDomUsed=function(e){e&&(e[this._markLabel]=zj)};e.prototype.markDomUnused=function(e){e&&(e[this._markLabel]=Bj)};e.prototype.isDomUnused=function(e){return e&&e[this._markLabel]!==zj};e.prototype.removeUnused=function(){var t=this;var n=this.getDefs(false);if(!n){return}var e=this.getDoms();q(e,function(e){if(t.isDomUnused(e)){n.removeChild(e)}})};e.prototype.getSvgProxy=function(e){if(e instanceof v){return Pj}else if(e instanceof Mu){return Ej}else if(e instanceof Pu){return Mj}else{return Pj}};e.prototype.getSvgElement=function(e){return e.__svgEl};return e}();function Rj(e){return e.type==="linear"}function Uj(e){return e.type==="radial"}function Fj(e){return e&&(e.type==="linear"||e.type==="radial")}var Gj=function(n){b(e,n);function e(e,t){return n.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")||this}e.prototype.addWithoutUpdate=function(o,s){if(s&&s.style){var u=this;q(["fill","stroke"],function(e){var t=s.style[e];if(Fj(t)){var n=t;var r=u.getDefs(true);var a=void 0;if(n.__dom){a=n.__dom;if(!r.contains(n.__dom)){u.addDom(a)}}else{a=u.add(n)}u.markUsed(s);var i=a.getAttribute("id");o.setAttribute(e,"url(#"+i+")")}})}};e.prototype.add=function(e){var t;if(Rj(e)){t=this.createElement("linearGradient")}else if(Uj(e)){t=this.createElement("radialGradient")}else{ne("Illegal gradient type.");return null}e.id=e.id||this.nextId++;t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id);this.updateDom(e,t);this.addDom(t);return t};e.prototype.update=function(r){if(!Fj(r)){return}var a=this;this.doUpdate(r,function(){var e=r.__dom;if(!e){return}var t=e.tagName;var n=r.type;if(n==="linear"&&t==="linearGradient"||n==="radial"&&t==="radialGradient"){a.updateDom(r,r.__dom)}else{a.removeDom(r);a.add(r)}})};e.prototype.updateDom=function(e,t){if(Rj(e)){t.setAttribute("x1",e.x+"");t.setAttribute("y1",e.y+"");t.setAttribute("x2",e.x2+"");t.setAttribute("y2",e.y2+"")}else if(Uj(e)){t.setAttribute("cx",e.x+"");t.setAttribute("cy",e.y+"");t.setAttribute("r",e.r+"")}else{ne("Illegal gradient type.");return}if(e.global){t.setAttribute("gradientUnits","userSpaceOnUse")}else{t.setAttribute("gradientUnits","objectBoundingBox")}t.innerHTML="";var n=e.colorStops;for(var r=0,a=n.length;r<a;++r){var i=this.createElement("stop");i.setAttribute("offset",n[r].offset*100+"%");var o=n[r].color;if(o.indexOf("rgba")>-1){var s=Cn(o)[3];var u=Pn(o);i.setAttribute("stop-color","#"+u);i.setAttribute("stop-opacity",s+"")}else{i.setAttribute("stop-color",n[r].color)}t.appendChild(i)}e.__dom=t};e.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;if(t&&t.__dom){n.prototype.markDomUsed.call(this,t.__dom)}t=e.style.stroke;if(t&&t.__dom){n.prototype.markDomUsed.call(this,t.__dom)}}};return e}(Vj);function Hj(e){return e&&(!!e.image||!!e.svgElement)}var qj=new g0;var Wj=function(n){b(e,n);function e(e,t){return n.call(this,e,t,["pattern"],"__pattern_in_use__")||this}e.prototype.addWithoutUpdate=function(i,o){if(o&&o.style){var s=this;q(["fill","stroke"],function(e){var t=o.style[e];if(Hj(t)){var n=s.getDefs(true);var r=qj.get(t);if(r){if(!n.contains(r)){s.addDom(r)}}else{r=s.add(t)}s.markUsed(o);var a=r.getAttribute("id");i.setAttribute(e,"url(#"+a+")")}})}};e.prototype.add=function(e){if(!Hj(e)){return}var t=this.createElement("pattern");e.id=e.id==null?this.nextId++:e.id;t.setAttribute("id","zr"+this._zrId+"-pattern-"+e.id);t.setAttribute("x","0");t.setAttribute("y","0");t.setAttribute("patternUnits","userSpaceOnUse");this.updateDom(e,t);this.addDom(t);return t};e.prototype.update=function(t){if(!Hj(t)){return}var n=this;this.doUpdate(t,function(){var e=qj.get(t);n.updateDom(t,e)})};e.prototype.updateDom=function(e,t){var n=e.svgElement;if(n instanceof SVGElement){if(n.parentNode!==t){t.innerHTML="";t.appendChild(n);t.setAttribute("width",e.svgWidth+"");t.setAttribute("height",e.svgHeight+"")}}else{var r=void 0;var a=t.getElementsByTagName("image");if(a.length){if(e.image){r=a[0]}else{t.removeChild(a[0]);return}}else if(e.image){r=this.createElement("image")}if(r){var i=void 0;var o=e.image;if(typeof o==="string"){i=o}else if(o instanceof HTMLImageElement){i=o.src}else if(o instanceof HTMLCanvasElement){i=o.toDataURL()}if(i){r.setAttribute("href",i);r.setAttribute("x","0");r.setAttribute("y","0");var s={dirty:function(){}};var u=Co(i,r,s,function(e){t.setAttribute("width",e.width+"");t.setAttribute("height",e.height+"")});if(u&&u.width&&u.height){t.setAttribute("width",u.width+"");t.setAttribute("height",u.height+"")}t.appendChild(r)}}}var l=e.x||0;var p=e.y||0;var c=(e.rotation||0)/Math.PI*180;var d=e.scaleX||1;var g=e.scaleY||1;var m="translate("+l+", "+p+") rotate("+c+") scale("+d+", "+g+")";t.setAttribute("patternTransform",m);qj.set(e,t)};e.prototype.markUsed=function(e){if(e.style){if(Hj(e.style.fill)){n.prototype.markDomUsed.call(this,qj.get(e.style.fill))}if(Hj(e.style.stroke)){n.prototype.markDomUsed.call(this,qj.get(e.style.stroke))}}};return e}(Vj);function Xj(e){var t=[];if(e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r.id)}}return t.join(",")}function Yj(e){var t=e.__clipPaths;return t&&t.length>0}var Jj=function(r){b(e,r);function e(e,t){var n=r.call(this,e,t,"clipPath","__clippath_in_use__")||this;n._refGroups={};n._keyDuplicateCount={};return n}e.prototype.markAllUnused=function(){r.prototype.markAllUnused.call(this);for(var e in this._refGroups){this.markDomUnused(this._refGroups[e])}this._keyDuplicateCount={}};e.prototype._getClipPathGroup=function(e,t){if(!Yj(e)){return}var n=e.__clipPaths;var r=this._keyDuplicateCount;var a=Xj(n);if(T0(n,t&&t.__clipPaths)){r[a]=r[a]||0;r[a]&&(a+="-"+r[a]);r[a]++}return this._refGroups[a]||(this._refGroups[a]=this.createElement("g"))};e.prototype.update=function(e,t){var n=this._getClipPathGroup(e,t);if(n){this.markDomUsed(n);this.updateDom(n,e.__clipPaths)}return n};e.prototype.updateDom=function(e,t){if(t&&t.length>0){var n=this.getDefs(true);var r=t[0];var a=void 0;var i=void 0;if(r._dom){i=r._dom.getAttribute("id");a=r._dom;if(!n.contains(a)){n.appendChild(a)}}else{i="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;a=this.createElement("clipPath");a.setAttribute("id",i);n.appendChild(a);r._dom=a}var o=this.getSvgProxy(r);o.brush(r);var s=this.getSvgElement(r);a.innerHTML="";a.appendChild(s);e.setAttribute("clip-path","url(#"+i+")");if(t.length>1){this.updateDom(a,t.slice(1))}}else{if(e){e.setAttribute("clip-path","none")}}};e.prototype.markUsed=function(e){var t=this;if(e.__clipPaths){q(e.__clipPaths,function(e){if(e._dom){r.prototype.markDomUsed.call(t,e._dom)}})}};e.prototype.removeUnused=function(){r.prototype.removeUnused.call(this);var e={};for(var t in this._refGroups){var n=this._refGroups[t];if(!this.isDomUnused(n)){e[t]=n}else if(n.parentNode){n.parentNode.removeChild(n)}}this._refGroups=e};return e}(Vj);var Zj=function(r){b(e,r);function e(e,t){var n=r.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")||this;n._shadowDomMap={};n._shadowDomPool=[];return n}e.prototype._getFromPool=function(){var e=this._shadowDomPool.pop();if(!e){e=this.createElement("filter");e.setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var t=this.createElement("feDropShadow");e.appendChild(t);this.addDom(e)}return e};e.prototype.update=function(e,t){var n=t.style;if($j(n)){var r=Kj(t);var a=t._shadowDom=this._shadowDomMap[r];if(!a){a=this._getFromPool();this._shadowDomMap[r]=a}this.updateDom(e,t,a)}else{this.remove(e,t)}};e.prototype.remove=function(e,t){if(t._shadowDom!=null){t._shadowDom=null;e.style.filter=""}};e.prototype.updateDom=function(e,t,n){var r=n.children[0];var a=t.style;var i=t.getGlobalScale();var o=i[0];var s=i[1];if(!o||!s){return}var u=a.shadowOffsetX||0;var l=a.shadowOffsetY||0;var p=a.shadowBlur;var c=a.shadowColor;r.setAttribute("dx",u/o+"");r.setAttribute("dy",l/s+"");r.setAttribute("flood-color",c);var d=p/2/o;var g=p/2/s;var m=d+" "+g;r.setAttribute("stdDeviation",m);n.setAttribute("x","-100%");n.setAttribute("y","-100%");n.setAttribute("width","300%");n.setAttribute("height","300%");t._shadowDom=n;var b=n.getAttribute("id");e.style.filter="url(#"+b+")"};e.prototype.removeUnused=function(){var e=this.getDefs(false);if(!e){return}var t=this._shadowDomPool;for(var n in this._shadowDomMap){var r=this._shadowDomMap[n];t.push(r)}this._shadowDomMap={}};return e}(Vj);function $j(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function Kj(e){var t=e.style;var n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function Qj(e){return parseInt(e,10)}function e_(e){if(e instanceof v){return Pj}else if(e instanceof Mu){return Ej}else if(e instanceof Pu){return Mj}else{return Pj}}function t_(e,t){return t&&e&&t.parentNode!==e}function n_(e,t,n){if(t_(e,t)&&n){var r=n.nextSibling;r?e.insertBefore(t,r):e.appendChild(t)}}function r_(e,t){if(t_(e,t)){var n=e.firstChild;n?e.insertBefore(t,n):e.appendChild(t)}}function a_(e,t){if(t&&e&&t.parentNode===e){e.removeChild(t)}}function i_(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}}function o_(e){return e.__svgEl}var s_=function(){function e(e,t,n,r){this.type="svg";this.refreshHover=u_("refreshHover");this.pathToImage=u_("pathToImage");this.configLayer=u_("configLayer");this.root=e;this.storage=t;this._opts=n=U({},n||{});var a=oj("svg");a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");a.setAttribute("version","1.1");a.setAttribute("baseProfile","full");a.style.cssText="user-select:none;position:absolute;left:0;top:0;";var i=oj("g");a.appendChild(i);var o=oj("g");a.appendChild(o);this._gradientManager=new Gj(r,o);this._patternManager=new Wj(r,o);this._clipPathManager=new Jj(r,o);this._shadowManager=new Zj(r,o);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative";this._svgDom=a;this._svgRoot=o;this._backgroundRoot=i;this._viewport=s;e.appendChild(s);s.appendChild(a);this.resize(n.width,n.height);this._visibleList=[]}e.prototype.getType=function(){return"svg"};e.prototype.getViewportRoot=function(){return this._viewport};e.prototype.getSvgDom=function(){return this._svgDom};e.prototype.getSvgRoot=function(){return this._svgRoot};e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}};e.prototype.refresh=function(){var e=this.storage.getDisplayList(true);this._paintList(e)};e.prototype.setBackgroundColor=function(e){if(this._backgroundRoot&&this._backgroundNode){this._backgroundRoot.removeChild(this._backgroundNode)}var t=oj("rect");t.setAttribute("width",this.getWidth());t.setAttribute("height",this.getHeight());t.setAttribute("x",0);t.setAttribute("y",0);t.setAttribute("id",0);t.style.fill=e;this._backgroundRoot.appendChild(t);this._backgroundNode=t};e.prototype.createSVGElement=function(e){return oj(e)};e.prototype.paintOne=function(e){var t=e_(e);t&&t.brush(e);return o_(e)};e.prototype._paintList=function(e){var t=this._gradientManager;var n=this._patternManager;var r=this._clipPathManager;var a=this._shadowManager;t.markAllUnused();n.markAllUnused();r.markAllUnused();a.markAllUnused();var i=this._svgRoot;var o=this._visibleList;var s=e.length;var u=[];for(var l=0;l<s;l++){var p=e[l];var c=e_(p);var d=o_(p);if(!p.invisible){if(p.__dirty||!d){c&&c.brush(p);d=o_(p);if(d&&p.style){t.update(p.style.fill);t.update(p.style.stroke);n.update(p.style.fill);n.update(p.style.stroke);a.update(d,p)}p.__dirty=0}if(d){u.push(p)}}}var g=dj(o,u);var m;var b;for(var l=0;l<g.length;l++){var h=g[l];if(h.removed){for(var f=0;f<h.count;f++){var p=o[h.indices[f]];var d=o_(p);Yj(p)?i_(d):a_(i,d)}}}var v;var O;for(var l=0;l<g.length;l++){var h=g[l];if(h.removed){continue}for(var f=0;f<h.count;f++){var p=u[h.indices[f]];var y=r.update(p,v);if(y!==O){m=b;if(y){m?n_(i,y,m):r_(i,y);b=y;m=null}O=y}var d=o_(p);m?n_(O||i,d,m):r_(O||i,d);m=d||m;if(!O){b=m}t.markUsed(p);t.addWithoutUpdate(d,p);n.markUsed(p);n.addWithoutUpdate(d,p);r.markUsed(p);v=p}}t.removeUnused();n.removeUnused();r.removeUnused();a.removeUnused();this._visibleList=u};e.prototype.resize=function(e,t){var n=this._viewport;n.style.display="none";var r=this._opts;e!=null&&(r.width=e);t!=null&&(r.height=t);e=this._getSize(0);t=this._getSize(1);n.style.display="";if(this._width!==e||this._height!==t){this._width=e;this._height=t;var a=n.style;a.width=e+"px";a.height=t+"px";var i=this._svgDom;i.setAttribute("width",e+"");i.setAttribute("height",t+"")}if(this._backgroundNode){this._backgroundNode.setAttribute("width",e);this._backgroundNode.setAttribute("height",t)}};e.prototype.getWidth=function(){return this._width};e.prototype.getHeight=function(){return this._height};e.prototype._getSize=function(e){var t=this._opts;var n=["width","height"][e];var r=["clientWidth","clientHeight"][e];var a=["paddingLeft","paddingTop"][e];var i=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto"){return parseFloat(t[n])}var o=this.root;var s=document.defaultView.getComputedStyle(o);return(o[r]||Qj(s[n])||Qj(o.style[n]))-(Qj(s[a])||0)-(Qj(s[i])||0)|0};e.prototype.dispose=function(){this.root.innerHTML="";this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null};e.prototype.clear=function(){var e=this._viewport;if(e&&e.parentNode){e.parentNode.removeChild(e)}};e.prototype.toDataURL=function(){this.refresh();var e=this._svgDom;var t=e.outerHTML||(e.parentNode&&e.parentNode).innerHTML;var n=encodeURIComponent(t.replace(/></g,">\n\r<"));return"data:image/svg+xml;charset=UTF-8,"+n};return e}();function u_(e){return function(){ne('In SVG mode painter not support method "'+e+'"')}}function l_(e){e.registerPainter("svg",s_)}function p_(){return false}function c_(e,t,n){var r=ae();var a=t.getWidth();var i=t.getHeight();var o=r.style;if(o){o.position="absolute";o.left="0";o.top="0";o.width=a+"px";o.height=i+"px";r.setAttribute("data-zr-dom-id",e)}r.width=a*n;r.height=i*n;return r}var d_=function(o){b(e,o);function e(e,t,n){var r=o.call(this)||this;r.motionBlur=false;r.lastFrameAlpha=.7;r.dpr=1;r.virtual=false;r.config={};r.incremental=false;r.zlevel=0;r.maxRepaintRectCount=5;r.__dirty=true;r.__firstTimePaint=true;r.__used=false;r.__drawIndex=0;r.__startIndex=0;r.__endIndex=0;r.__prevStartIndex=null;r.__prevEndIndex=null;var a;n=n||Cr;if(typeof e==="string"){a=c_(e,t,n)}else if(E(e)){a=e;e=a.id}r.id=e;r.dom=a;var i=a.style;if(i){a.onselectstart=p_;i.webkitUserSelect="none";i.userSelect="none";i.webkitTapHighlightColor="rgba(0,0,0,0)";i["-webkit-touch-callout"]="none";i.padding="0";i.margin="0";i.borderWidth="0"}r.domBack=null;r.ctxBack=null;r.painter=t;r.config=null;r.dpr=n;return r}e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex};e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex;this.__prevEndIndex=this.__endIndex};e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr};e.prototype.setUnpainted=function(){this.__firstTimePaint=true};e.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=c_("back-"+this.id,this.painter,e);this.ctxBack=this.domBack.getContext("2d");if(e!==1){this.ctxBack.scale(e,e)}};e.prototype.createRepaintRects=function(e,t,n,r){if(this.__firstTimePaint){this.__firstTimePaint=false;return null}var d=[];var g=this.maxRepaintRectCount;var m=false;var b=new z(0,0,0,0);function a(e){if(!e.isFinite()||e.isZero()){return}if(d.length===0){var t=new z(0,0,0,0);t.copy(e);d.push(t)}else{var n=false;var r=Infinity;var a=0;for(var i=0;i<d.length;++i){var o=d[i];if(o.intersect(e)){var s=new z(0,0,0,0);s.copy(o);s.union(e);d[i]=s;n=true;break}else if(m){b.copy(e);b.union(o);var u=e.width*e.height;var l=o.width*o.height;var p=b.width*b.height;var c=p-u-l;if(c<r){r=c;a=i}}}if(m){d[a].union(e);n=true}if(!n){var t=new z(0,0,0,0);t.copy(e);d.push(t)}if(!m){m=d.length>=g}}}for(var i=this.__startIndex;i<this.__endIndex;++i){var o=e[i];if(o){var s=o.shouldBePainted(n,r,true,true);var u=o.__isRendered&&(o.__dirty&en||!s)?o.getPrevPaintRect():null;if(u){a(u)}var l=s&&(o.__dirty&en||!o.__isRendered)?o.getPaintRect():null;if(l){a(l)}}}for(var i=this.__prevStartIndex;i<this.__prevEndIndex;++i){var o=t[i];var s=o.shouldBePainted(n,r,true,true);if(o&&(!s||!o.__zr)&&o.__isRendered){var u=o.getPrevPaintRect();if(u){a(u)}}}var p;do{p=false;for(var i=0;i<d.length;){if(d[i].isZero()){d.splice(i,1);continue}for(var c=i+1;c<d.length;){if(d[i].intersect(d[c])){p=true;d[i].union(d[c]);d.splice(c,1)}else{c++}}i++}}while(p);this._paintRects=d;return d};e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()};e.prototype.resize=function(e,t){var n=this.dpr;var r=this.dom;var a=r.style;var i=this.domBack;if(a){a.width=e+"px";a.height=t+"px"}r.width=e*n;r.height=t*n;if(i){i.width=e*n;i.height=t*n;if(n!==1){this.ctxBack.scale(n,n)}}};e.prototype.clear=function(e,i,t){var n=this.dom;var o=this.ctx;var r=n.width;var a=n.height;i=i||this.clearColor;var s=this.motionBlur&&!e;var u=this.lastFrameAlpha;var l=this.dpr;var p=this;if(s){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(n,0,0,r/l,a/l)}var c=this.domBack;function d(e,t,n,r){o.clearRect(e,t,n,r);if(i&&i!=="transparent"){var a=void 0;if(fe(i)){a=i.__canvasGradient||A0(o,i,{x:0,y:0,width:n,height:r});i.__canvasGradient=a}else if(ve(i)){a=L0(o,i,{dirty:function(){p.setUnpainted();p.__painter.refresh()}})}o.save();o.fillStyle=a||i;o.fillRect(e,t,n,r);o.restore()}if(s){o.save();o.globalAlpha=u;o.drawImage(c,e,t,n,r);o.restore()}}if(!t||s){d(0,0,r,a)}else if(t.length){q(t,function(e){d(e.x*l,e.y*l,e.width*l,e.height*l)})}};return e}(ut);var g_=1e5;var m_=314159;var b_=.01;var h_=.001;function f_(e){return parseInt(e,10)}function v_(e){if(!e){return false}if(e.__builtin__){return true}if(typeof e.resize!=="function"||typeof e.refresh!=="function"){return false}return true}function O_(e,t){var n=document.createElement("div");n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";";return n}var y_=function(){function e(e,t,n,r){this.type="canvas";this._zlevelList=[];this._prevDisplayList=[];this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=U({},n||{});this.dpr=n.devicePixelRatio||Cr;this._singleCanvas=a;this.root=e;var i=e.style;if(i){i.webkitTapHighlightColor="transparent";i.webkitUserSelect="none";i.userSelect="none";i["-webkit-touch-callout"]="none";e.innerHTML=""}this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(!a){this._width=this._getSize(0);this._height=this._getSize(1);var u=this._domRoot=O_(this._width,this._height);e.appendChild(u)}else{var l=e;var p=l.width;var c=l.height;if(n.width!=null){p=n.width}if(n.height!=null){c=n.height}this.dpr=n.devicePixelRatio||1;l.width=p*this.dpr;l.height=c*this.dpr;this._width=p;this._height=c;var d=new d_(l,this,this.dpr);d.__builtin__=true;d.initContext();s[m_]=d;d.zlevel=m_;o.push(m_);this._domRoot=e}}e.prototype.getType=function(){return"canvas"};e.prototype.isSingleCanvas=function(){return this._singleCanvas};e.prototype.getViewportRoot=function(){return this._domRoot};e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e){return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}}};e.prototype.refresh=function(e){var t=this.storage.getDisplayList(true);var n=this._prevDisplayList;var r=this._zlevelList;this._redrawId=Math.random();this._paintList(t,n,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a];var o=this._layers[i];if(!o.__builtin__&&o.refresh){var s=a===0?this._backgroundColor:null;o.refresh(s)}}if(this._opts.useDirtyRect){this._prevDisplayList=t.slice()}return this};e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(false))};e.prototype._paintHoverList=function(e){var t=e.length;var n=this._hoverlayer;n&&n.clear();if(!t){return}var r={inHover:true,viewWidth:this._width,viewHeight:this._height};var a;for(var i=0;i<t;i++){var o=e[i];if(o.__inHover){if(!n){n=this._hoverlayer=this.getLayer(g_)}if(!a){a=n.ctx;a.save()}eO(a,o,r,i===t-1)}}if(a){a.restore()}};e.prototype.getHoverLayer=function(){return this.getLayer(g_)};e.prototype.paintOne=function(e,t){Q0(e,t)};e.prototype._paintList=function(e,t,n,r){if(this._redrawId!==r){return}n=n||false;this._updateLayerStatus(e);var a=this._doPaintList(e,t,n),i=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing){this._compositeManually()}if(o){this._paintHoverList(e)}if(!i){var s=this;ln(function(){s._paintList(e,t,n,r)})}else{this.eachLayer(function(e){e.afterBrush&&e.afterBrush()})}};e.prototype._compositeManually=function(){var t=this.getLayer(m_).ctx;var n=this._domRoot.width;var r=this._domRoot.height;t.clearRect(0,0,n,r);this.eachBuiltinLayer(function(e){if(e.virtual){t.drawImage(e.dom,0,0,n,r)}})};e.prototype._doPaintList=function(m,b,h){var f=this;var v=[];var O=this._opts.useDirtyRect;for(var e=0;e<this._zlevelList.length;e++){var t=this._zlevelList[e];var n=this._layers[t];if(n.__builtin__&&n!==this._hoverlayer&&(n.__dirty||h)){v.push(n)}}var y=true;var x=false;var r=function(e){var a=v[e];var i=a.ctx;var t=O&&a.createRepaintRects(m,b,I._width,I._height);var o=h?a.__startIndex:a.__drawIndex;var s=!h&&a.incremental&&Date.now;var u=s&&Date.now();var n=a.zlevel===I._zlevelList[0]?I._backgroundColor:null;if(a.__startIndex===a.__endIndex){a.clear(false,n,t)}else if(o===a.__startIndex){var r=m[o];if(!r.incremental||!r.notClear||h){a.clear(false,n,t)}}if(o===-1){console.error("For some unknown reason. drawIndex is -1");o=a.__startIndex}var l;var p=function(e){var t={inHover:false,allClipped:false,prevEl:null,viewWidth:f._width,viewHeight:f._height};for(l=o;l<a.__endIndex;l++){var n=m[l];if(n.__inHover){x=true}f._doPaintEl(n,a,O,e,t,l===a.__endIndex-1);if(s){var r=Date.now()-u;if(r>15){break}}}if(t.prevElClipPaths){i.restore()}};if(t){if(t.length===0){l=a.__endIndex}else{var c=I.dpr;for(var d=0;d<t.length;++d){var g=t[d];i.save();i.beginPath();i.rect(g.x*c,g.y*c,g.width*c,g.height*c);i.clip();p(g);i.restore()}}}else{i.save();p();i.restore()}a.__drawIndex=l;if(a.__drawIndex<a.__endIndex){y=false}};var I=this;for(var a=0;a<v.length;a++){r(a)}if(S.wxa){q(this._layers,function(e){if(e&&e.ctx&&e.ctx.draw){e.ctx.draw()}})}return{finished:y,needsRefreshHover:x}};e.prototype._doPaintEl=function(e,t,n,r,a,i){var o=t.ctx;if(n){var s=e.getPaintRect();if(!r||s&&s.intersect(r)){eO(o,e,a,i);e.setPrevPaintRect(s)}}else{eO(o,e,a,i)}};e.prototype.getLayer=function(e,t){if(this._singleCanvas&&!this._needsManuallyCompositing){e=m_}var n=this._layers[e];if(!n){n=new d_("zr_"+e,this,this.dpr);n.zlevel=e;n.__builtin__=true;if(this._layerConfig[e]){f(n,this._layerConfig[e],true)}else if(this._layerConfig[e-b_]){f(n,this._layerConfig[e-b_],true)}if(t){n.virtual=t}this.insertLayer(e,n);n.initContext()}return n};e.prototype.insertLayer=function(e,t){var n=this._layers;var r=this._zlevelList;var a=r.length;var i=this._domRoot;var o=null;var s=-1;if(n[e]){ne("ZLevel "+e+" has been used already");return}if(!v_(t)){ne("Layer of zlevel "+e+" is not valid");return}if(a>0&&e>r[0]){for(s=0;s<a-1;s++){if(r[s]<e&&r[s+1]>e){break}}o=n[r[s]]}r.splice(s+1,0,e);n[e]=t;if(!t.virtual){if(o){var u=o.dom;if(u.nextSibling){i.insertBefore(t.dom,u.nextSibling)}else{i.appendChild(t.dom)}}else{if(i.firstChild){i.insertBefore(t.dom,i.firstChild)}else{i.appendChild(t.dom)}}}t.__painter=this};e.prototype.eachLayer=function(e,t){var n=this._zlevelList;for(var r=0;r<n.length;r++){var a=n[r];e.call(t,this._layers[a],a)}};e.prototype.eachBuiltinLayer=function(e,t){var n=this._zlevelList;for(var r=0;r<n.length;r++){var a=n[r];var i=this._layers[a];if(i.__builtin__){e.call(t,i,a)}}};e.prototype.eachOtherLayer=function(e,t){var n=this._zlevelList;for(var r=0;r<n.length;r++){var a=n[r];var i=this._layers[a];if(!i.__builtin__){e.call(t,i,a)}}};e.prototype.getLayers=function(){return this._layers};e.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=false});function t(e){if(a){if(a.__endIndex!==e){a.__dirty=true}a.__endIndex=e}}if(this._singleCanvas){for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=true;break}}}var a=null;var i=0;var o;var s;for(s=0;s<e.length;s++){var r=e[s];var u=r.zlevel;var l=void 0;if(o!==u){o=u;i=0}if(r.incremental){l=this.getLayer(u+h_,this._needsManuallyCompositing);l.incremental=true;i=1}else{l=this.getLayer(u+(i>0?b_:0),this._needsManuallyCompositing)}if(!l.__builtin__){ne("ZLevel "+u+" has been used by unkown layer "+l.id)}if(l!==a){l.__used=true;if(l.__startIndex!==s){l.__dirty=true}l.__startIndex=s;if(!l.incremental){l.__drawIndex=s}else{l.__drawIndex=-1}t(s);a=l}if(r.__dirty&en&&!r.__inHover){l.__dirty=true;if(l.incremental&&l.__drawIndex<0){l.__drawIndex=s}}}t(s);this.eachBuiltinLayer(function(e,t){if(!e.__used&&e.getElementCount()>0){e.__dirty=true;e.__startIndex=e.__endIndex=e.__drawIndex=0}if(e.__dirty&&e.__drawIndex<0){e.__drawIndex=e.__startIndex}})};e.prototype.clear=function(){this.eachBuiltinLayer(this._clearLayer);return this};e.prototype._clearLayer=function(e){e.clear()};e.prototype.setBackgroundColor=function(e){this._backgroundColor=e;q(this._layers,function(e){e.setUnpainted()})};e.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;if(!n[e]){n[e]=t}else{f(n[e],t,true)}for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===e||a===e+b_){var i=this._layers[a];f(i,n[e],true)}}}};e.prototype.delLayer=function(e){var t=this._layers;var n=this._zlevelList;var r=t[e];if(!r){return}r.dom.parentNode.removeChild(r.dom);delete t[e];n.splice(C(n,e),1)};e.prototype.resize=function(e,t){if(!this._domRoot.style){if(e==null||t==null){return}this._width=e;this._height=t;this.getLayer(m_).resize(e,t)}else{var n=this._domRoot;n.style.display="none";var r=this._opts;e!=null&&(r.width=e);t!=null&&(r.height=t);e=this._getSize(0);t=this._getSize(1);n.style.display="";if(this._width!==e||t!==this._height){n.style.width=e+"px";n.style.height=t+"px";for(var a in this._layers){if(this._layers.hasOwnProperty(a)){this._layers[a].resize(e,t)}}this.refresh(true)}this._width=e;this._height=t}return this};e.prototype.clearLayer=function(e){var t=this._layers[e];if(t){t.clear()}};e.prototype.dispose=function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};e.prototype.getRenderedCanvas=function(e){e=e||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[m_].dom}var t=new d_("image",this,e.pixelRatio||this.dpr);t.initContext();t.clear(false,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width;var a=t.dom.height;this.eachLayer(function(e){if(e.__builtin__){n.drawImage(e.dom,0,0,r,a)}else if(e.renderToCanvas){n.save();e.renderToCanvas(n);n.restore()}})}else{var i={inHover:false,viewWidth:this._width,viewHeight:this._height};var o=this.storage.getDisplayList(true);for(var s=0,u=o.length;s<u;s++){var l=o[s];eO(n,l,i,s===u-1)}}return t.dom};e.prototype.getWidth=function(){return this._width};e.prototype.getHeight=function(){return this._height};e.prototype._getSize=function(e){var t=this._opts;var n=["width","height"][e];var r=["clientWidth","clientHeight"][e];var a=["paddingLeft","paddingTop"][e];var i=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto"){return parseFloat(t[n])}var o=this.root;var s=document.defaultView.getComputedStyle(o);return(o[r]||f_(s[n])||f_(o.style[n]))-(f_(s[a])||0)-(f_(s[i])||0)|0};e.prototype.pathToImage=function(e,t){t=t||this.dpr;var n=document.createElement("canvas");var r=n.getContext("2d");var a=e.getBoundingRect();var i=e.style;var o=i.shadowBlur*t;var s=i.shadowOffsetX*t;var u=i.shadowOffsetY*t;var l=e.hasStroke()?i.lineWidth:0;var p=Math.max(l/2,-s+o);var c=Math.max(l/2,s+o);var d=Math.max(l/2,-u+o);var g=Math.max(l/2,u+o);var m=a.width+p+c;var b=a.height+d+g;n.width=m*t;n.height=b*t;r.scale(t,t);r.clearRect(0,0,m,b);r.dpr=t;var h={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY,rotation:e.rotation,originX:e.originX,originY:e.originY};e.x=p-a.x;e.y=d-a.y;e.rotation=0;e.scaleX=1;e.scaleY=1;e.updateTransform();if(e){eO(r,e,{inHover:false,viewWidth:this._width,viewHeight:this._height},true)}var f=new Mu({style:{x:0,y:0,image:n}});U(e,h);return f};return e}();function x_(e){e.registerPainter("canvas",y_)}var I_=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.hasSymbolVisual=true;return e}n.prototype.getInitialData=function(e){if("development"!=="production"){var t=e.coordinateSystem;if(t!=="polar"&&t!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return sI(this.getSource(),this,{useEncodeDefaulter:true})};n.prototype.getLegendIcon=function(e){var t=new F;var n=S0("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,false);t.add(n);n.setStyle(e.lineStyle);var r=this.getData().getVisual("symbol");var a=this.getData().getVisual("symbolRotate");var i=r==="none"?"circle":r;var o=e.itemHeight*.8;var s=S0(i,(e.itemWidth-o)/2,(e.itemHeight-o)/2,o,o,e.itemStyle.fill);t.add(s);s.setStyle(e.itemStyle);var u=e.iconRotate==="inherit"?a:e.iconRotate||0;s.rotation=u*Math.PI/180;s.setOrigin([e.itemWidth/2,e.itemHeight/2]);if(i.indexOf("empty")>-1){s.style.stroke=s.style.fill;s.style.fill="#fff";s.style.lineWidth=2}return t};n.type="series.line";n.dependencies=["grid","polar"];n.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:true,clip:true,label:{position:"top"},endLabel:{show:false,valueAnimation:true,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:true,lineStyle:{width:"bolder"}},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:"auto",connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity};return n}(bf);function S_(e,t){var n=e.mapDimensionsAll("defaultedLabel");var r=n.length;if(r===1){var a=hh(e,t,n[0]);return a!=null?a+"":null}else if(r){var i=[];for(var o=0;o<n.length;o++){i.push(hh(e,t,n[o]))}return i.join(" ")}}function j_(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!N(t)){return t+""}var r=[];for(var a=0;a<n.length;a++){var i=e.getDimensionInfo(n[a]);if(i){r.push(t[i.index])}}return r.join(" ")}var __=function(i){b(d,i);function d(e,t,n,r){var a=i.call(this)||this;a.updateData(e,t,n,r);return a}d.prototype._createSymbol=function(e,t,n,r,a){this.removeAll();var i=S0(e,-1,-1,2,2,null,a);i.attr({z2:100,culling:true,scaleX:r[0]/2,scaleY:r[1]/2});i.drift=A_;this._symbolType=e;this.add(i)};d.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)};d.prototype.getSymbolPath=function(){return this.childAt(0)};d.prototype.highlight=function(){zl(this.childAt(0))};d.prototype.downplay=function(){Vl(this.childAt(0))};d.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e;n.z=t};d.prototype.setDraggable=function(e){var t=this.childAt(0);t.draggable=e;t.cursor=e?"move":t.cursor};d.prototype.updateData=function(e,t,n,r){this.silent=false;var a=e.getItemVisual(t,"symbol")||"circle";var i=e.hostModel;var o=d.getSymbolSize(e,t);var s=a!==this._symbolType;var u=r&&r.disableAnimation;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(a,e,t,o,l)}else{var p=this.childAt(0);p.silent=false;var c={scaleX:o[0]/2,scaleY:o[1]/2};u?p.attr(c):Y(p,c,i,t)}this._updateCommon(e,t,o,n,r);if(s){var p=this.childAt(0);if(!u){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0;p.style.opacity=0;Yc(p,c,i,t)}}if(u){this.childAt(0).stopAnimation("remove")}this._seriesModel=i};d.prototype._updateCommon=function(t,e,n,r,a){var i=this.childAt(0);var o=t.hostModel;var s;var u;var l;var p;var c;var d;var g;var m;if(r){s=r.emphasisItemStyle;u=r.blurItemStyle;l=r.selectItemStyle;p=r.focus;c=r.blurScope;d=r.labelStatesModels;g=r.hoverScale;m=r.cursorStyle}if(!r||t.hasItemOption){var b=r&&r.itemModel?r.itemModel:t.getItemModel(e);var h=b.getModel("emphasis");s=h.getModel("itemStyle").getItemStyle();l=b.getModel(["select","itemStyle"]).getItemStyle();u=b.getModel(["blur","itemStyle"]).getItemStyle();p=h.get("focus");c=h.get("blurScope");d=vd(b);g=h.getShallow("scale");m=b.getShallow("cursor")}var f=t.getItemVisual(e,"symbolRotate");i.attr("rotation",(f||0)*Math.PI/180||0);var v=t.getItemVisual(e,"symbolOffset")||0;if(v){if(!N(v)){v=[v,v]}i.x=X(v[0],n[0]);i.y=X(L(v[1],v[0])||0,n[1])}m&&i.attr("cursor",m);var O=t.getItemVisual(e,"style");var y=O.fill;if(i instanceof Mu){var x=i.style;i.useStyle(U({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},O))}else{if(i.__isEmptyBrush){i.useStyle(U({},O))}else{i.useStyle(O)}i.style.decal=null;i.setColor(y,a&&a.symbolInnerColor);i.style.strokeNoScale=true}var I=t.getItemVisual(e,"liftZ");var S=this._z2;if(I!=null){if(S==null){this._z2=i.z2;i.z2+=I}}else if(S!=null){i.z2=S;this._z2=null}var j=a&&a.useNameLabel;fd(i,d,{labelFetcher:o,labelDataIndex:e,defaultText:_,inheritColor:y,defaultOpacity:O.opacity});function _(e){return j?t.getName(e):S_(t,e)}this._sizeX=n[0]/2;this._sizeY=n[1]/2;var A=i.ensureState("emphasis");A.style=s;i.ensureState("select").style=l;i.ensureState("blur").style=u;if(g){var T=Math.max(1.1,3/this._sizeY);A.scaleX=this._sizeX*T;A.scaleY=this._sizeY*T}this.setSymbolScale(1);tp(this,p,c)};d.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e};d.prototype.fadeOut=function(e,t){var n=this.childAt(0);var r=this._seriesModel;var a=H(this).dataIndex;var i=t&&t.animation;this.silent=n.silent=true;if(t&&t.fadeLabel){var o=n.getTextContent();if(o){Jc(o,{style:{opacity:0}},r,{dataIndex:a,removeOpt:i,cb:function(){n.removeTextContent()}})}}else{n.removeTextContent()}Jc(n,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:a,cb:e,removeOpt:i})};d.getSymbolSize=function(e,t){var n=e.getItemVisual(t,"symbolSize");return N(n)?n.slice():[+n,+n]};return d}(F);function A_(e,t){this.parent.drift(e,t)}function T_(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function C_(e){if(e!=null&&!E(e)){e={isIgnore:e}}return e||{}}function w_(e){var t=e.hostModel;var n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),hoverScale:n.get("scale"),labelStatesModels:vd(t),cursorStyle:t.get("cursor")}}var k_=function(){function e(e){this.group=new F;this._SymbolCtor=e||__}e.prototype.updateData=function(i,o){o=C_(o);var s=this.group;var u=i.hostModel;var l=this._data;var p=this._SymbolCtor;var c=o.disableAnimation;var d=w_(i);var g={disableAnimation:c};var m=o.getSymbolPoint||function(e){return i.getItemLayout(e)};if(!l){s.removeAll()}i.diff(l).add(function(e){var t=m(e);if(T_(i,t,e,o)){var n=new p(i,e,d,g);n.setPosition(t);i.setItemGraphicEl(e,n);s.add(n)}}).update(function(e,t){var n=l.getItemGraphicEl(t);var r=m(e);if(!T_(i,r,e,o)){s.remove(n);return}if(!n){n=new p(i,e);n.setPosition(r)}else{n.updateData(i,e,d,g);var a={x:r[0],y:r[1]};c?n.attr(a):Y(n,a,u)}s.add(n);i.setItemGraphicEl(e,n)}).remove(function(e){var t=l.getItemGraphicEl(e);t&&t.fadeOut(function(){s.remove(t)})}).execute();this._getSymbolPoint=m;this._data=i};e.prototype.isPersistent=function(){return true};e.prototype.updateLayout=function(){var r=this;var e=this._data;if(e){e.eachItemGraphicEl(function(e,t){var n=r._getSymbolPoint(t);e.setPosition(n);e.markRedraw()})}};e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=w_(e);this._data=null;this.group.removeAll()};e.prototype.incrementalUpdate=function(e,t,n){n=C_(n);function r(e){if(!e.isGroup){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var a=e.start;a<e.end;a++){var i=t.getItemLayout(a);if(T_(t,i,a,n)){var o=new this._SymbolCtor(t,a,this._seriesScope);o.traverse(r);o.setPosition(i);this.group.add(o);t.setItemGraphicEl(a,o)}}};e.prototype.remove=function(e){var t=this.group;var n=this._data;if(n&&e){n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})})}else{t.removeAll()}};return e}();function N_(e,t,n){var r=e.getBaseAxis();var a=e.getOtherAxis(r);var i=P_(a,n);var o=r.dim;var s=a.dim;var u=t.mapDimension(s);var l=t.mapDimension(o);var p=s==="x"||s==="radius"?1:0;var c=w(e.dimensions,function(e){return t.mapDimension(e)});var d=false;var g=t.getCalculationInfo("stackResultDimension");if(iI(t,c[0])){d=true;c[0]=g}if(iI(t,c[1])){d=true;c[1]=g}return{dataDimsForPoint:c,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:u,baseDim:l,baseDataOffset:p,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function P_(e,t){var n=0;var r=e.scale.getExtent();if(t==="start"){n=r[0]}else if(t==="end"){n=r[1]}else{if(r[0]>0){n=r[0]}else if(r[1]<0){n=r[1]}}return n}function E_(e,t,n,r){var a=NaN;if(e.stacked){a=n.get(n.getCalculationInfo("stackedOverDimension"),r)}if(isNaN(a)){a=e.valueStart}var i=e.baseDataOffset;var o=[];o[i]=n.get(e.baseDim,r);o[1-i]=a;return t.dataToPoint(o)}var L_=typeof Float32Array!=="undefined";var D_=!L_?Array:Float32Array;function M_(e){if(N(e)){return L_?new Float32Array(e):e}return new D_(e)}function B_(e,t){var n=[];t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute();return n}function z_(e,t,n,r,a,M,B,z){var i=B_(e,t);var o=[];var s=[];var u=[];var l=[];var p=[];var c=[];var d=[];var g=N_(a,t,B);var m=e.getLayout("points")||[];var b=t.getLayout("points")||[];for(var h=0;h<i.length;h++){var f=i[h];var v=true;var O=void 0;var y=void 0;switch(f.cmd){case"=":O=f.idx*2;y=f.idx1*2;var x=m[O];var I=m[O+1];var S=b[y];var j=b[y+1];if(isNaN(x)||isNaN(I)){x=S;I=j}o.push(x,I);s.push(S,j);u.push(n[O],n[O+1]);l.push(r[y],r[y+1]);d.push(t.getRawIndex(f.idx1));break;case"+":var _=f.idx;var A=g.dataDimsForPoint;var T=a.dataToPoint([t.get(A[0],_),t.get(A[1],_)]);y=_*2;o.push(T[0],T[1]);s.push(b[y],b[y+1]);var C=E_(g,a,t,_);u.push(C[0],C[1]);l.push(r[y],r[y+1]);d.push(t.getRawIndex(_));break;case"-":v=false}if(v){p.push(f);c.push(c.length)}}c.sort(function(e,t){return d[e]-d[t]});var w=o.length;var k=M_(w);var N=M_(w);var P=M_(w);var E=M_(w);var V=[];for(var h=0;h<c.length;h++){var R=c[h];var L=h*2;var D=R*2;k[L]=o[D];k[L+1]=o[D+1];N[L]=s[D];N[L+1]=s[D+1];P[L]=u[D];P[L+1]=u[D+1];E[L]=l[D];E[L+1]=l[D+1];V[h]=p[R]}return{current:k,next:N,stackedOnCurrent:P,stackedOnNext:E,status:V}}var V_=Math.min;var R_=Math.max;function U_(e,t){return isNaN(e)||isNaN(t)}function F_(e,t,n,r,a,i,o,s,u){var l;var p;var c;var d;var g;var m;var b=n;var h=0;for(;h<r;h++){var f=t[b*2];var v=t[b*2+1];if(b>=a||b<0){break}if(U_(f,v)){if(u){b+=i;continue}break}if(b===n){e[i>0?"moveTo":"lineTo"](f,v);c=f;d=v}else{var O=f-l;var y=v-p;if(O*O+y*y<.5){b+=i;continue}if(o>0){var x=b+i;var I=t[x*2];var S=t[x*2+1];var j=h+1;if(u){while(U_(I,S)&&j<r){j++;x+=i;I=t[x*2];S=t[x*2+1]}}var _=.5;var A=0;var T=0;var C=void 0;var w=void 0;if(j>=r||U_(I,S)){g=f;m=v}else{A=I-l;T=S-p;var k=f-l;var N=I-f;var P=v-p;var E=S-v;var L=void 0;var D=void 0;if(s==="x"){L=Math.abs(k);D=Math.abs(N);g=f-L*o;m=v;C=f+L*o;w=v}else if(s==="y"){L=Math.abs(P);D=Math.abs(E);g=f;m=v-L*o;C=f;w=v+L*o}else{L=Math.sqrt(k*k+P*P);D=Math.sqrt(N*N+E*E);_=D/(D+L);g=f-A*o*(1-_);m=v-T*o*(1-_);C=f+A*o*_;w=v+T*o*_;C=V_(C,R_(I,f));w=V_(w,R_(S,v));C=R_(C,V_(I,f));w=R_(w,V_(S,v));A=C-f;T=w-v;g=f-A*L/D;m=v-T*L/D;g=V_(g,R_(l,f));m=V_(m,R_(p,v));g=R_(g,V_(l,f));m=R_(m,V_(p,v));A=f-g;T=v-m;C=f+A*D/L;w=v+T*D/L}}e.bezierCurveTo(c,d,g,m,f,v);c=C;d=w}else{e.lineTo(f,v)}}l=f;p=v;b+=i}return h}var G_=function(){function e(){this.smooth=0;this.smoothConstraint=true}return e}();var H_=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="ec-polyline";return t}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new G_};e.prototype.buildPath=function(e,t){var n=t.points;var r=0;var a=n.length/2;if(t.connectNulls){for(;a>0;a--){if(!U_(n[a*2-2],n[a*2-1])){break}}for(;r<a;r++){if(!U_(n[r*2],n[r*2+1])){break}}}while(r<a){r+=F_(e,n,r,a,a,1,t.smooth,t.smoothMonotone,t.connectNulls)+1}};e.prototype.getPointOn=function(e,t){if(!this.path){this.createPathProxy();this.buildPath(this.path,this.shape)}var n=this.path;var r=n.data;var a=ou.CMD;var i;var o;var s=t==="x";var u=[];for(var l=0;l<r.length;){var p=r[l++];var c=void 0;var d=void 0;var g=void 0;var m=void 0;var b=void 0;var h=void 0;var f=void 0;switch(p){case a.M:i=r[l++];o=r[l++];break;case a.L:c=r[l++];d=r[l++];f=s?(e-i)/(c-i):(e-o)/(d-o);if(f<=1&&f>=0){var v=s?(d-o)*f+o:(c-i)*f+i;return s?[e,v]:[v,e]}i=c;o=d;break;case a.C:c=r[l++];d=r[l++];g=r[l++];m=r[l++];b=r[l++];h=r[l++];var O=s?ms(i,c,g,b,e,u):ms(o,d,m,h,e,u);if(O>0){for(var y=0;y<O;y++){var x=u[y];if(x<=1&&x>=0){var v=s?ds(o,d,m,h,x):ds(i,c,g,b,x);return s?[e,v]:[v,e]}}}i=b;o=h;break}}};return e}(v);var q_=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(G_);var W_=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="ec-polygon";return t}e.prototype.getDefaultShape=function(){return new q_};e.prototype.buildPath=function(e,t){var n=t.points;var r=t.stackedOnPoints;var a=0;var i=n.length/2;var o=t.smoothMonotone;if(t.connectNulls){for(;i>0;i--){if(!U_(n[i*2-2],n[i*2-1])){break}}for(;a<i;a++){if(!U_(n[a*2],n[a*2+1])){break}}}while(a<i){var s=F_(e,n,a,i,i,1,t.smooth,o,t.connectNulls);F_(e,r,a+s-1,s,i,-1,t.stackedOnSmooth,o,t.connectNulls);a+=s+1;e.closePath()}};return e}(v);function X_(e,t,n,r,a){var i=e.getArea();var o=i.x;var s=i.y;var u=i.width;var l=i.height;var p=n.get(["lineStyle","width"])||2;o-=p/2;s-=p/2;u+=p;l+=p;o=Math.floor(o);u=Math.round(u);var c=new R({shape:{x:o,y:s,width:u,height:l}});if(t){var d=e.getBaseAxis();var g=d.isHorizontal();var m=d.inverse;if(g){if(m){c.shape.x+=u}c.shape.width=0}else{if(!m){c.shape.y+=l}c.shape.height=0}var b=typeof a==="function"?function(e){a(e,c)}:null;Yc(c,{shape:{width:u,height:l,x:o,y:s}},n,null,r,b)}return c}function Y_(e,t,n){var r=e.getArea();var a=Wa(r.r0,1);var i=Wa(r.r,1);var o=new ec({shape:{cx:Wa(e.cx,1),cy:Wa(e.cy,1),r0:a,r:i,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";if(s){o.shape.endAngle=r.startAngle}else{o.shape.r=a}Yc(o,{shape:{endAngle:r.endAngle,r:i}},n)}return o}function J_(e,t,n,r,a){if(!e){return null}else if(e.type==="polar"){return Y_(e,t,n)}else if(e.type==="cartesian2d"){return X_(e,t,n,r,a)}return null}function Z_(e,t){return e.type===t}function $_(e,t){if(e.length!==t.length){return}for(var n=0;n<e.length;n++){if(e[n]!==t[n]){return}}return true}function K_(e){var t=Infinity;var n=Infinity;var r=-Infinity;var a=-Infinity;for(var i=0;i<e.length;){var o=e[i++];var s=e[i++];if(!isNaN(o)){t=Math.min(o,t);r=Math.max(o,r)}if(!isNaN(s)){n=Math.min(s,n);a=Math.max(s,a)}}return[[t,n],[r,a]]}function Q_(e,t){var n=K_(e),r=n[0],a=n[1];var i=K_(t),o=i[0],s=i[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function e2(e){return typeof e==="number"?e:e?.5:0}function t2(e,t,n){if(!n.valueDim){return[]}var r=t.count();var a=M_(r*2);for(var i=0;i<r;i++){var o=E_(n,e,t,i);a[i*2]=o[0];a[i*2+1]=o[1]}return a}function n2(e,t,n){var r=t.getBaseAxis();var a=r.dim==="x"||r.dim==="radius"?0:1;var i=[];var o=0;var s=[];var u=[];var l=[];for(;o<e.length-2;o+=2){l[0]=e[o+2];l[1]=e[o+3];u[0]=e[o];u[1]=e[o+1];i.push(u[0],u[1]);switch(n){case"end":s[a]=l[a];s[1-a]=u[1-a];i.push(s[0],s[1]);break;case"middle":var p=(u[a]+l[a])/2;var c=[];s[a]=c[a]=p;s[1-a]=u[1-a];c[1-a]=l[1-a];i.push(s[0],s[1]);i.push(c[0],c[1]);break;default:s[a]=u[a];s[1-a]=l[1-a];i.push(s[0],s[1])}}i.push(e[o++],e[o++]);return i}function r2(e,t){var n=e.getVisual("visualMeta");if(!n||!n.length||!e.count()){return}if(t.type!=="cartesian2d"){if("development"!=="production"){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var r;var a;for(var i=n.length-1;i>=0;i--){var o=n[i].dimension;var s=e.dimensions[o];var u=e.getDimensionInfo(s);r=u&&u.coordDim;if(r==="x"||r==="y"){a=n[i];break}}if(!a){if("development"!=="production"){console.warn("Visual map on line style only support x or y dimension.")}return}var l=t.getAxis(r);var p=w(a.stops,function(e){return{offset:0,coord:l.toGlobalCoord(l.dataToCoord(e.value,true)),color:e.color}});var c=p.length;var d=a.outerColors.slice();if(c&&p[0].coord>p[c-1].coord){p.reverse();d.reverse()}var g=10;var m=p[0].coord-g;var b=p[c-1].coord+g;var h=b-m;if(h<.001){return"transparent"}q(p,function(e){e.offset=(e.coord-m)/h});p.push({offset:c?p[c-1].offset:.5,color:d[1]||"transparent"});p.unshift({offset:c?p[0].offset:.5,color:d[0]||"transparent"});var f=new Ic(0,0,0,0,p,true);f[r]=m;f[r+"2"]=b;return f}function a2(e,t,n){var r=e.get("showAllSymbol");var a=r==="auto";if(r&&!a){return}var i=n.getAxesByScale("ordinal")[0];if(!i){return}if(a&&i2(i,t)){return}var o=t.mapDimension(i.dim);var s={};q(i.getViewLabels(),function(e){var t=i.scale.getRawOrdinalNumber(e.tickValue);s[t]=1});return function(e){return!s.hasOwnProperty(t.get(o,e))}}function i2(e,t){var n=e.getExtent();var r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);var a=t.count();var i=Math.max(1,Math.round(a/5));for(var o=0;o<a;o+=i){if(__.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>r){return false}}return true}function o2(e,t){return isNaN(e)||isNaN(t)}function s2(e){var t=e.length/2;for(;t>0;t--){if(!o2(e[t*2-2],e[t*2-1])){break}}return t-1}function u2(e,t){return[e[t*2],e[t*2+1]]}function l2(e,t,n){var r=e.length/2;var a=n==="x"?0:1;var i;var o;var s=0;var u=-1;for(var l=0;l<r;l++){o=e[l*2+a];if(isNaN(o)||isNaN(e[l*2+1-a])){continue}if(l===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){u=l;break}s=l;i=o}return{range:[s,u],t:(t-i)/(o-i)}}function p2(n,r,t,e){if(Z_(r,"cartesian2d")){var a=e.getModel("endLabel");var i=a.get("show");var o=a.get("valueAnimation");var s=e.getData();var u={lastFrameIndex:0};var l=i?function(e,t){n._endLabelOnDuring(e,t,s,u,o,a,r)}:null;var p=r.getBaseAxis().isHorizontal();var c=X_(r,t,e,function(){var e=n._endLabel;if(e&&t){if(u.originalX!=null){e.attr({x:u.originalX,y:u.originalY})}}},l);if(!e.get("clip",true)){var d=c.shape;var g=Math.max(d.width,d.height);if(p){d.y-=g;d.height+=g*2}else{d.x-=g;d.width+=g*2}}if(l){l(1,c)}return c}else{if("development"!=="production"){if(e.get(["endLabel","show"])){console.warn("endLabel is not supported for lines in polar systems.")}}return Y_(r,t,e)}}function c2(e,t){var n=t.getBaseAxis();var r=n.isHorizontal();var a=n.inverse;var i=r?a?"right":"left":"center";var o=r?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||o}}}var d2=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.init=function(){var e=new F;var t=new k_;this.group.add(t.group);this._symbolDraw=t;this._lineGroup=e};t.prototype.render=function(e,D,t){var n=this;var r=e.coordinateSystem;var a=this.group;var i=e.getData();var o=e.getModel("lineStyle");var s=e.getModel("areaStyle");var u=i.getLayout("points")||[];var l=r.type==="polar";var p=this._coordSys;var c=this._symbolDraw;var d=this._polyline;var g=this._polygon;var m=this._lineGroup;var b=e.get("animation");var h=!s.isEmpty();var f=s.get("origin");var v=N_(r,i,f);var O=h&&t2(r,i,v);var y=e.get("showSymbol");var x=y&&!l&&a2(e,i,r);var I=this._data;I&&I.eachItemGraphicEl(function(e,t){if(e.__temp){a.remove(e);I.setItemGraphicEl(t,null)}});if(!y){c.remove()}a.add(m);var S=!l?e.get("step"):false;var j;if(r&&r.getArea&&e.get("clip",true)){j=r.getArea();if(j.width!=null){j.x-=.1;j.y-=.1;j.width+=.2;j.height+=.2}else if(j.r0){j.r0-=.5;j.r+=.5}}this._clipShapeForSymbol=j;var _=r2(i,r)||i.getVisual("style")[i.getVisual("drawType")];if(!(d&&p.type===r.type&&S===this._step)){y&&c.updateData(i,{isIgnore:x,clipShape:j,disableAnimation:true,getSymbolPoint:function(e){return[u[e*2],u[e*2+1]]}});b&&this._initSymbolLabelAnimation(i,r,j);if(S){u=n2(u,r,S);if(O){O=n2(O,r,S)}}d=this._newPolyline(u);if(h){g=this._newPolygon(u,O)}if(!l){this._initOrUpdateEndLabel(e,r,Zg(_))}m.setClipPath(p2(this,r,true,e))}else{if(h&&!g){g=this._newPolygon(u,O)}else if(g&&!h){m.remove(g);g=this._polygon=null}if(!l){this._initOrUpdateEndLabel(e,r,Zg(_))}m.setClipPath(p2(this,r,false,e));y&&c.updateData(i,{isIgnore:x,clipShape:j,disableAnimation:true,getSymbolPoint:function(e){return[u[e*2],u[e*2+1]]}});if(!$_(this._stackedOnPoints,O)||!$_(this._points,u)){if(b){this._doUpdateAnimation(i,O,r,t,S,f)}else{if(S){u=n2(u,r,S);if(O){O=n2(O,r,S)}}d.setShape({points:u});g&&g.setShape({points:u,stackedOnPoints:O})}}}var A=e.get(["emphasis","focus"]);var T=e.get(["emphasis","blurScope"]);d.useStyle(M(o.getLineStyle(),{fill:"none",stroke:_,lineJoin:"bevel"}));ip(d,e,"lineStyle");if(d.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var C=d.getState("emphasis").style;C.lineWidth=+d.style.lineWidth+1}H(d).seriesIndex=e.seriesIndex;tp(d,A,T);var w=e2(e.get("smooth"));var k=e.get("smoothMonotone");var N=e.get("connectNulls");d.setShape({smooth:w,smoothMonotone:k,connectNulls:N});if(g){var P=i.getCalculationInfo("stackedOnSeries");var E=0;g.useStyle(M(s.getAreaStyle(),{fill:_,opacity:.7,lineJoin:"bevel",decal:i.getVisual("style").decal}));if(P){E=e2(P.get("smooth"))}g.setShape({smooth:w,stackedOnSmooth:E,smoothMonotone:k,connectNulls:N});ip(g,e,"areaStyle");H(g).seriesIndex=e.seriesIndex;tp(g,A,T)}var L=function(e){n._changePolyState(e)};i.eachItemGraphicEl(function(e){e&&(e.onHoverStateChange=L)});this._polyline.onHoverStateChange=L;this._data=i;this._coordSys=r;this._stackedOnPoints=O;this._points=u;this._step=S;this._valueOrigin=f};t.prototype.dispose=function(){};t.prototype.highlight=function(e,t,n,r){var a=e.getData();var i=Yi(a,r);this._changePolyState("emphasis");if(!(i instanceof Array)&&i!=null&&i>=0){var o=a.getLayout("points");var s=a.getItemGraphicEl(i);if(!s){var u=o[i*2];var l=o[i*2+1];if(isNaN(u)||isNaN(l)){return}if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,l)){return}var p=e.get("zlevel");var c=e.get("z");s=new __(a,i);s.x=u;s.y=l;s.setZ(p,c);var d=s.getSymbolPath().getTextContent();if(d){d.zlevel=p;d.z=c;d.z2=this._polyline.z2+1}s.__temp=true;a.setItemGraphicEl(i,s);s.stopSymbolAnimation(true);this.group.add(s)}s.highlight()}else{m.prototype.highlight.call(this,e,t,n,r)}};t.prototype.downplay=function(e,t,n,r){var a=e.getData();var i=Yi(a,r);this._changePolyState("normal");if(i!=null&&i>=0){var o=a.getItemGraphicEl(i);if(o){if(o.__temp){a.setItemGraphicEl(i,null);this.group.remove(o)}else{o.downplay()}}}else{m.prototype.downplay.call(this,e,t,n,r)}};t.prototype._changePolyState=function(e){var t=this._polygon;wl(this._polyline,e);t&&wl(t,e)};t.prototype._newPolyline=function(e){var t=this._polyline;if(t){this._lineGroup.remove(t)}t=new H_({shape:{points:e},segmentIgnoreThreshold:2,z2:10});this._lineGroup.add(t);this._polyline=t;return t};t.prototype._newPolygon=function(e,t){var n=this._polygon;if(n){this._lineGroup.remove(n)}n=new W_({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2});this._lineGroup.add(n);this._polygon=n;return n};t.prototype._initSymbolLabelAnimation=function(e,m,b){var h;var f;var t=m.getBaseAxis();var v=t.inverse;if(m.type==="cartesian2d"){h=t.isHorizontal();f=false}else if(m.type==="polar"){h=t.dim==="angle";f=true}var n=e.hostModel;var O=n.get("animationDuration");if(typeof O==="function"){O=O(null)}var y=n.get("animationDelay")||0;var x=typeof y==="function"?y(null):y;e.eachItemGraphicEl(function(e,t){var n=e;if(n){var r=[e.x,e.y];var a=void 0;var i=void 0;var o=void 0;if(b){if(f){var s=b;var u=m.pointToCoord(r);if(h){a=s.startAngle;i=s.endAngle;o=-u[1]/180*Math.PI}else{a=s.r0;i=s.r;o=u[0]}}else{var l=b;if(h){a=l.x;i=l.x+l.width;o=e.x}else{a=l.y+l.height;i=l.y;o=e.y}}}var p=i===a?0:(o-a)/(i-a);if(v){p=1-p}var c=typeof y==="function"?y(t):O*p+x;var d=n.getSymbolPath();var g=d.getTextContent();n.attr({scaleX:0,scaleY:0});n.animateTo({scaleX:1,scaleY:1},{duration:200,delay:c});if(g){g.animateFrom({style:{opacity:0}},{duration:300,delay:c})}d.disableLabelAnimation=true}})};t.prototype._initOrUpdateEndLabel=function(e,t,n){var r=e.getModel("endLabel");if(r.get("show")){var a=e.getData();var i=this._polyline;var o=this._endLabel;if(!o){o=this._endLabel=new G({z2:200});o.ignoreClip=true;i.setTextContent(this._endLabel);i.disableLabelAnimation=true}var s=s2(a.getLayout("points"));if(s>=0){fd(i,vd(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:s,defaultText:function(e,t,n){return n!=null?j_(a,n):S_(a,e)},enableTextSetter:true},c2(r,t));i.textConfig.position=null}}else if(this._endLabel){this._polyline.removeTextContent();this._endLabel=null}};t.prototype._endLabelOnDuring=function(e,t,n,r,a,i,o){var s=this._endLabel;var u=this._polyline;if(s){if(e<1&&r.originalX==null){r.originalX=s.x;r.originalY=s.y}var l=n.getLayout("points");var p=n.hostModel;var c=p.get("connectNulls");var d=i.get("precision");var g=i.get("distance")||0;var m=o.getBaseAxis();var b=m.isHorizontal();var h=m.inverse;var f=t.shape;var v=h?b?f.x:f.y+f.height:b?f.x+f.width:f.y;var O=(b?g:0)*(h?-1:1);var y=(b?0:-g)*(h?-1:1);var x=b?"x":"y";var I=l2(l,v,x);var S=I.range;var j=S[1]-S[0];var _=void 0;if(j>=1){if(j>1&&!c){var A=u2(l,S[0]);s.attr({x:A[0]+O,y:A[1]+y});a&&(_=p.getRawValue(S[0]))}else{var A=u.getPointOn(v,x);A&&s.attr({x:A[0]+O,y:A[1]+y});var T=p.getRawValue(S[0]);var C=p.getRawValue(S[1]);a&&(_=oo(n,d,T,C,I.t))}r.lastFrameIndex=S[0]}else{var w=e===1||r.lastFrameIndex>0?S[0]:0;var A=u2(l,w);a&&(_=p.getRawValue(w));s.attr({x:A[0]+O,y:A[1]+y})}if(a){Cd(s).setLabelText(_)}}};t.prototype._doUpdateAnimation=function(e,t,n,r,a,i){var o=this._polyline;var s=this._polygon;var u=e.hostModel;var l=z_(this._data,e,this._stackedOnPoints,t,this._coordSys,n,this._valueOrigin);var p=l.current;var c=l.stackedOnCurrent;var d=l.next;var g=l.stackedOnNext;if(a){p=n2(l.current,n,a);c=n2(l.stackedOnCurrent,n,a);d=n2(l.next,n,a);g=n2(l.stackedOnNext,n,a)}if(Q_(p,d)>3e3||s&&Q_(c,g)>3e3){o.setShape({points:d});if(s){s.setShape({points:d,stackedOnPoints:g})}return}o.shape.__points=l.current;o.shape.points=p;var m={shape:{points:d}};if(l.current!==p){m.shape.__points=l.next}o.stopAnimation();Y(o,m,u);if(s){s.setShape({points:p,stackedOnPoints:c});s.stopAnimation();Y(s,{shape:{stackedOnPoints:g}},u);if(o.shape.points!==s.shape.points){s.shape.points=o.shape.points}}var b=[];var h=l.status;for(var f=0;f<h.length;f++){var v=h[f].cmd;if(v==="="){var O=e.getItemGraphicEl(h[f].idx1);if(O){b.push({el:O,ptIdx:f})}}}if(o.animators&&o.animators.length){o.animators[0].during(function(){s&&s.dirtyShape();var e=o.shape.__points;for(var t=0;t<b.length;t++){var n=b[t].el;var r=b[t].ptIdx*2;n.x=e[r];n.y=e[r+1];n.markRedraw()}})}};t.prototype.remove=function(e){var n=this.group;var r=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);r&&r.eachItemGraphicEl(function(e,t){if(e.__temp){n.remove(e);r.setItemGraphicEl(t,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null};t.type="line";return t}(m);function g2(e,s){return{seriesType:e,plan:_f(),reset:function(e){var t=e.getData();var p=e.coordinateSystem;var n=e.pipelineContext;var c=s||n.large;if(!p){return}var r=w(p.dimensions,function(e){return t.mapDimension(e)}).slice(0,2);var d=r.length;var a=t.getCalculationInfo("stackResultDimension");if(iI(t,r[0])){r[0]=a}if(iI(t,r[1])){r[1]=a}var i=t.getDimensionInfo(r[0]);var o=t.getDimensionInfo(r[1]);var g=i&&i.index;var m=o&&o.index;return d&&{progress:function(e,t){var n=e.end-e.start;var r=c&&M_(n*d);var a=[];var i=[];for(var o=e.start,s=0;o<e.end;o++){var u=void 0;if(d===1){var l=t.getByDimIdx(g,o);u=p.dataToPoint(l,null,i)}else{a[0]=t.getByDimIdx(g,o);a[1]=t.getByDimIdx(m,o);u=p.dataToPoint(a,null,i)}if(c){r[s++]=u[0];r[s++]=u[1]}else{t.setItemLayout(o,u.slice())}}c&&t.setLayout("points",r)}}}}}var m2={average:function(e){var t=0;var n=0;for(var r=0;r<e.length;r++){if(!isNaN(e[r])){t+=e[r];n++}}return n===0?NaN:t/n},sum:function(e){var t=0;for(var n=0;n<e.length;n++){t+=e[n]||0}return t},max:function(e){var t=-Infinity;for(var n=0;n<e.length;n++){e[n]>t&&(t=e[n])}return isFinite(t)?t:NaN},min:function(e){var t=Infinity;for(var n=0;n<e.length;n++){e[n]<t&&(t=e[n])}return isFinite(t)?t:NaN},nearest:function(e){return e[0]}};var b2=function(e){return Math.round(e.length/2)};function h2(e){return{seriesType:e,reset:function(e,t,n){var r=e.getData();var a=e.get("sampling");var i=e.coordinateSystem;var o=r.count();if(o>10&&i.type==="cartesian2d"&&a){var s=i.getBaseAxis();var u=i.getOtherAxis(s);var l=s.getExtent();var p=n.getDevicePixelRatio();var c=Math.abs(l[1]-l[0])*(p||1);var d=Math.round(o/c);if(d>1){if(a==="lttb"){e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/d))}var g=void 0;if(typeof a==="string"){g=m2[a]}else if(typeof a==="function"){g=a}if(g){e.setData(r.downSample(r.mapDimension(u.dim),1/d,g,b2))}}}}}}function f2(e){e.registerChartView(d2);e.registerSeriesModel(I_);e.registerLayout(g2("line",true));e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData();var n=e.getModel("lineStyle").getLineStyle();if(n&&!n.stroke){n.stroke=t.getVisual("style").fill}t.setVisual("legendLineStyle",n)}});e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,h2("line"))}var v2=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.getInitialData=function(e,t){return sI(this.getSource(),this,{useEncodeDefaulter:true})};n.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e));var r=this.getData();var a=r.getLayout("offset");var i=r.getLayout("size");var o=t.getBaseAxis().isHorizontal()?0:1;n[o]+=a+i/2;return n}return[NaN,NaN]};n.type="series.__base_bar__";n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,large:false,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"};return n}(bf);bf.registerClass(v2);var O2=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.getInitialData=function(){return sI(this.getSource(),this,{useEncodeDefaulter:true,createInvertedIndices:!!this.get("realtimeSort",true)||null})};n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):false};n.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold");var t=this.get("largeThreshold");if(t>e){e=t}return e};n.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))};n.type="series.bar";n.dependencies=["grid","polar"];n.defaultOption=Hd(v2.defaultOption,{clip:true,roundCap:false,showBackground:false,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:false});return n}(v2);var y2=function(){function e(){this.cx=0;this.cy=0;this.r0=0;this.r=0;this.startAngle=0;this.endAngle=Math.PI*2;this.clockwise=true}return e}();var x2=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="sausage";return t}e.prototype.getDefaultShape=function(){return new y2};e.prototype.buildPath=function(e,t){var n=t.cx;var r=t.cy;var a=Math.max(t.r0||0,0);var i=Math.max(t.r,0);var o=(i-a)*.5;var s=a+o;var u=t.startAngle;var l=t.endAngle;var p=t.clockwise;var c=Math.cos(u);var d=Math.sin(u);var g=Math.cos(l);var m=Math.sin(l);var b=p?l-u<Math.PI*2:u-l<Math.PI*2;if(b){e.moveTo(c*a+n,d*a+r);e.arc(c*s+n,d*s+r,o,-Math.PI+u,u,!p)}e.arc(n,r,i,u,l,!p);e.moveTo(g*i+n,m*i+r);e.arc(g*s+n,m*s+r,o,l-Math.PI*2,l-Math.PI,!p);if(a!==0){e.arc(n,r,a,l,u,p);e.moveTo(c*a+n,m*a+r)}e.closePath()};return e}(v);var I2=[0,0];var S2=Math.max;var j2=Math.min;function _2(e,t){var n=e.getArea&&e.getArea();if(Z_(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=t.getLayout("bandWidth");if(r.isHorizontal()){n.x-=a;n.width+=a*2}else{n.y-=a;n.height+=a*2}}}return n}var A2=function(t){b(n,t);function n(){var e=t.call(this)||this;e.type=n.type;e._isFirstFrame=true;return e}n.prototype.render=function(e,t,n,r){this._model=e;this._removeOnRenderedListener(n);this._updateDrawMode(e);var a=e.get("coordinateSystem");if(a==="cartesian2d"||a==="polar"){this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,r)}else if("development"!=="production"){fi("Only cartesian2d and polar supported for bar.")}};n.prototype.incrementalPrepareRender=function(e){this._clear();this._updateDrawMode(e);this._updateLargeClip(e)};n.prototype.incrementalRender=function(e,t){this._incrementalRenderLarge(e,t)};n.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};n.prototype._renderNormal=function(l,e,t,n){var p=this.group;var c=l.getData();var d=this._data;var g=l.coordinateSystem;var m=g.getBaseAxis();var b;if(g.type==="cartesian2d"){b=m.isHorizontal()}else if(g.type==="polar"){b=m.dim==="angle"}var h=l.isAnimationEnabled()?l:null;var f=w2(l,g);if(f){this._enableRealtimeSort(f,c,t)}var v=l.get("clip",true)||f;var O=_2(g,c);p.removeClipPath();var y=l.get("roundCap",true);var x=l.get("showBackground",true);var I=l.getModel("backgroundStyle");var S=I.get("borderRadius")||0;var j=[];var _=this._backgroundEls;var A=n&&n.isInitSort;var T=n&&n.type==="changeAxisOrder";function C(e){var t=N2[g.type](c,e);var n=G2(g,b,t);n.useStyle(I.getItemStyle());if(g.type==="cartesian2d"){n.setShape("r",S)}j[e]=n;return n}c.diff(d).add(function(e){var t=c.getItemModel(e);var n=N2[g.type](c,e,t);if(x){C(e)}if(!c.hasValue(e)){return}var r=false;if(v){r=T2[g.type](O,n)}var a=C2[g.type](l,c,e,n,b,h,m.model,false,y);E2(a,c,e,t,n,l,b,g.type==="polar");if(A){a.attr({shape:n})}else if(f){k2(f,h,a,n,e,b,false,false)}else{Yc(a,{shape:n},l,e)}c.setItemGraphicEl(e,a);p.add(a);a.ignore=r}).update(function(e,t){var n=c.getItemModel(e);var r=N2[g.type](c,e,n);if(x){var a=void 0;if(_.length===0){a=C(t)}else{a=_[t];a.useStyle(I.getItemStyle());if(g.type==="cartesian2d"){a.setShape("r",S)}j[e]=a}var i=N2[g.type](c,e);var o=F2(b,i,g);Y(a,{shape:o},h,e)}var s=d.getItemGraphicEl(t);if(!c.hasValue(e)){p.remove(s);s=null;return}var u=false;if(v){u=T2[g.type](O,r);if(u){p.remove(s)}}if(!s){s=C2[g.type](l,c,e,r,b,h,m.model,!!s,y)}if(!T){E2(s,c,e,n,r,l,b,g.type==="polar")}if(A){s.attr({shape:r})}else if(f){k2(f,h,s,r,e,b,true,T)}else{Y(s,{shape:r},l,e,null)}c.setItemGraphicEl(e,s);s.ignore=u;p.add(s)}).remove(function(e){var t=d.getItemGraphicEl(e);t&&$c(t,l,e)}).execute();var r=this._backgroundGroup||(this._backgroundGroup=new F);r.removeAll();for(var a=0;a<j.length;++a){r.add(j[a])}p.add(r);this._backgroundEls=j;this._data=c};n.prototype._renderLarge=function(e,t,n){this._clear();B2(e,this.group);this._updateLargeClip(e)};n.prototype._incrementalRenderLarge=function(e,t){this._removeBackground();B2(t,this.group,true)};n.prototype._updateLargeClip=function(e){var t=e.get("clip",true)?J_(e.coordinateSystem,false,e):null;if(t){this.group.setClipPath(t)}else{this.group.removeClipPath()}};n.prototype._enableRealtimeSort=function(e,r,t){var n=this;if(!r.count()){return}var a=e.baseAxis;if(this._isFirstFrame){this._dispatchInitSort(r,e,t);this._isFirstFrame=false}else{var i=function(e){var t=r.getItemGraphicEl(e);if(t){var n=t.shape;return(a.isHorizontal()?Math.abs(n.height):Math.abs(n.width))||0}else{return 0}};this._onRendered=function(){n._updateSortWithinSameData(r,i,a,t)};t.getZr().on("rendered",this._onRendered)}};n.prototype._dataSort=function(e,t,r){var a=[];e.each(e.mapDimension(t.dim),function(e,t){var n=r(t);n=n==null?NaN:n;a.push({dataIndex:t,mappedValue:n,ordinalNumber:e})});a.sort(function(e,t){return t.mappedValue-e.mappedValue});return{ordinalNumbers:w(a,function(e){return e.ordinalNumber})}};n.prototype._isOrderChangedWithinSameData=function(e,t,n){var r=n.scale;var a=e.mapDimension(n.dim);var i=Number.MAX_VALUE;for(var o=0,s=r.getOrdinalMeta().categories.length;o<s;++o){var u=e.rawIndexOf(a,r.getRawOrdinalNumber(o));var l=u<0?Number.MIN_VALUE:t(e.indexOfRawIndex(u));if(l>i){return true}i=l}return false};n.prototype._isOrderDifferentInView=function(e,t){var n=t.scale;var r=n.getExtent();var a=Math.max(0,r[0]);var i=Math.min(r[1],n.getOrdinalMeta().categories.length-1);for(;a<=i;++a){if(e.ordinalNumbers[a]!==n.getRawOrdinalNumber(a)){return true}}};n.prototype._updateSortWithinSameData=function(e,t,n,r){if(!this._isOrderChangedWithinSameData(e,t,n)){return}var a=this._dataSort(e,n,t);if(this._isOrderDifferentInView(a,n)){this._removeOnRenderedListener(r);r.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:a})}};n.prototype._dispatchInitSort=function(t,n,e){var r=n.baseAxis;var a=this._dataSort(t,r,function(e){return t.get(t.mapDimension(n.otherAxis.dim),e)});e.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:true,axisId:r.index,sortInfo:a,animation:{duration:0}})};n.prototype.remove=function(e,t){this._clear(this._model);this._removeOnRenderedListener(t)};n.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)};n.prototype._removeOnRenderedListener=function(e){if(this._onRendered){e.getZr().off("rendered",this._onRendered);this._onRendered=null}};n.prototype._clear=function(t){var e=this.group;var n=this._data;if(t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw){this._removeBackground();this._backgroundEls=[];n.eachItemGraphicEl(function(e){$c(e,t,H(e).dataIndex)})}else{e.removeAll()}this._data=null;this._isFirstFrame=true};n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null};n.type="bar";return n}(m);var T2={cartesian2d:function(e,t){var n=t.width<0?-1:1;var r=t.height<0?-1:1;if(n<0){t.x+=t.width;t.width=-t.width}if(r<0){t.y+=t.height;t.height=-t.height}var a=e.x+e.width;var i=e.y+e.height;var o=S2(t.x,e.x);var s=j2(t.x+t.width,a);var u=S2(t.y,e.y);var l=j2(t.y+t.height,i);var p=s<o;var c=l<u;t.x=p&&o>a?s:o;t.y=c&&u>i?l:u;t.width=p?0:s-o;t.height=c?0:l-u;if(n<0){t.x+=t.width;t.width=-t.width}if(r<0){t.y+=t.height;t.height=-t.height}return p||c},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0;t.r0=r}var a=j2(t.r,e.r);var i=S2(t.r0,e.r0);t.r=a;t.r0=i;var o=a-i<0;if(n<0){var r=t.r;t.r=t.r0;t.r0=r}return o}};var C2={cartesian2d:function(e,t,n,r,a,i,o,s,u){var l=new R({shape:U({},r),z2:1});l.__dataIndex=n;l.name="item";if(i){var p=l.shape;var c=a?"height":"width";p[c]=0}return l},polar:function(e,t,n,r,a,i,o,s,u){var l=r.startAngle<r.endAngle;var p=!a&&u?x2:ec;var c=new p({shape:M({clockwise:l},r),z2:1});c.name="item";if(i){var d=c.shape;var g=a?"r":"endAngle";var m={};d[g]=a?0:r.startAngle;m[g]=r[g];(s?Y:Yc)(c,{shape:m},i)}return c}};function w2(e,t){var n=e.get("realtimeSort",true);var r=t.getBaseAxis();if("development"!=="production"){if(n){if(r.type!=="category"){fi("`realtimeSort` will not work because this bar series is not based on a category axis.")}if(t.type!=="cartesian2d"){fi("`realtimeSort` will not work because this bar series is not on cartesian2d.")}}}if(n&&r.type==="category"&&t.type==="cartesian2d"){return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}}function k2(e,t,n,r,a,i,o,s){var u;var l;if(i){l={x:r.x,width:r.width};u={y:r.y,height:r.height}}else{l={y:r.y,height:r.height};u={x:r.x,width:r.width}}if(!s){(o?Y:Yc)(n,{shape:u},t,a,null)}var p=t?e.baseAxis.model:null;(o?Y:Yc)(n,{shape:l},p,a)}var N2={cartesian2d:function(e,t,n){var r=e.getItemLayout(t);var a=n?L2(n,r):0;var i=r.width>0?1:-1;var o=r.height>0?1:-1;return{x:r.x+i*a/2,y:r.y+o*a/2,width:r.width-i*a,height:r.height-o*a}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle}}};function P2(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function E2(e,t,n,r,a,i,o,s){var u=t.getItemVisual(n,"style");if(!s){e.setShape("r",r.get(["itemStyle","borderRadius"])||0)}e.useStyle(u);var l=r.getShallow("cursor");l&&e.attr("cursor",l);if(!s){var p=o?a.height>0?"bottom":"top":a.width>0?"left":"right";var c=vd(r);fd(e,c,{labelFetcher:i,labelDataIndex:n,defaultText:S_(i.getData(),n),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:p});var d=e.getTextContent();wd(d,c,i.getRawValue(n),function(e){return j_(t,e)})}var g=r.getModel(["emphasis"]);tp(e,g.get("focus"),g.get("blurScope"));ip(e,r);if(P2(a)){e.style.fill="none";e.style.stroke="none";q(e.states,function(e){if(e.style){e.style.fill=e.style.stroke="none"}})}}function L2(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none"){return 0}var r=e.get(["itemStyle","borderWidth"])||0;var a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width);var i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,a,i)}var D2=function(){function e(){}return e}();var M2=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="largeBar";return t}e.prototype.getDefaultShape=function(){return new D2};e.prototype.buildPath=function(e,t){var n=t.points;var r=this.__startPoint;var a=this.__baseDimIdx;for(var i=0;i<n.length;i+=2){r[a]=n[i+a];e.moveTo(r[0],r[1]);e.lineTo(n[i],n[i+1])}};return e}(v);function B2(e,t,n){var r=e.getData();var a=[];var i=r.getLayout("valueAxisHorizontal")?1:0;a[1-i]=r.getLayout("valueAxisStart");var o=r.getLayout("largeDataIndices");var s=r.getLayout("barWidth");var u=e.getModel("backgroundStyle");var l=e.get("showBackground",true);if(l){var p=r.getLayout("largeBackgroundPoints");var c=[];c[1-i]=r.getLayout("backgroundStart");var d=new M2({shape:{points:p},incremental:!!n,silent:true,z2:0});d.__startPoint=c;d.__baseDimIdx=i;d.__largeDataIndices=o;d.__barWidth=s;U2(d,u,r);t.add(d)}var g=new M2({shape:{points:r.getLayout("largePoints")},incremental:!!n});g.__startPoint=a;g.__baseDimIdx=i;g.__largeDataIndices=o;g.__barWidth=s;t.add(g);R2(g,e,r);H(g).seriesIndex=e.seriesIndex;if(!e.get("silent")){g.on("mousedown",z2);g.on("mousemove",z2)}}var z2=Mf(function(e){var t=this;var n=V2(t,e.offsetX,e.offsetY);H(t).dataIndex=n>=0?n:null},30,false);function V2(e,t,n){var r=e.__baseDimIdx;var a=1-r;var i=e.shape.points;var o=e.__largeDataIndices;var s=Math.abs(e.__barWidth/2);var u=e.__startPoint[a];I2[0]=t;I2[1]=n;var l=I2[r];var p=I2[1-r];var c=l-s;var d=l+s;for(var g=0,m=i.length/2;g<m;g++){var b=g*2;var h=i[b+r];var f=i[b+a];if(h>=c&&h<=d&&(u<=f?p>=u&&p<=f:p>=f&&p<=u)){return o[g]}}return-1}function R2(e,t,n){var r=n.getVisual("style");e.useStyle(U({},r));e.style.fill=null;e.style.stroke=r.fill;e.style.lineWidth=n.getLayout("barWidth")}function U2(e,t,n){var r=t.get("borderColor")||t.get("color");var a=t.getItemStyle();e.useStyle(a);e.style.fill=null;e.style.stroke=r;e.style.lineWidth=n.getLayout("barWidth")}function F2(e,t,n){if(Z_(n,"cartesian2d")){var r=t;var a=n.getArea();return{x:e?r.x:a.x,y:e?a.y:r.y,width:e?r.width:a.width,height:e?a.height:r.height}}else{var a=n.getArea();var i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function G2(e,t,n){var r=e.type==="polar"?ec:R;return new r({shape:F2(t,n,e),silent:true,z2:0})}function H2(e){e.registerChartView(A2);e.registerSeriesModel(O2);e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,y(DI,"bar"));e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,MI);e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,h2("bar"));e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){if(t.sortInfo){e.axis.setCategorySortInfo(t.sortInfo)}})})}var q2=Math.PI*2;var W2=Math.PI/180;function X2(e,t){return om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Y2(e,t,T){t.eachSeriesByType(e,function(e){var a=e.getData();var t=a.mapDimension("value");var n=X2(e,T);var r=e.get("center");var i=e.get("radius");if(!N(i)){i=[0,i]}if(!N(r)){r=[r,r]}var o=X(n.width,T.getWidth());var s=X(n.height,T.getHeight());var u=Math.min(o,s);var l=X(r[0],o)+n.x;var p=X(r[1],s)+n.y;var c=X(i[0],u/2);var d=X(i[1],u/2);var g=-e.get("startAngle")*W2;var m=e.get("minAngle")*W2;var b=0;a.each(t,function(e){!isNaN(e)&&b++});var h=a.getSum(t);var f=Math.PI/(h||b)*2;var v=e.get("clockwise");var O=e.get("roseType");var y=e.get("stillShowZeroSum");var x=a.getDataExtent(t);x[0]=0;var I=q2;var S=0;var j=g;var _=v?1:-1;a.setLayout({viewRect:n,r:d});a.each(t,function(e,t){var n;if(isNaN(e)){a.setItemLayout(t,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:l,cy:p,r0:c,r:O?NaN:d});return}if(O!=="area"){n=h===0&&y?f:e*f}else{n=q2/b}if(n<m){n=m;I-=m}else{S+=e}var r=j+_*n;a.setItemLayout(t,{angle:n,startAngle:j,endAngle:r,clockwise:v,cx:l,cy:p,r0:c,r:O?V(e,x,[c,d]):d});j=r});if(I<q2&&b){if(I<=.001){var A=q2/b;a.each(t,function(e,t){if(!isNaN(e)){var n=a.getItemLayout(t);n.angle=A;n.startAngle=g+_*t*A;n.endAngle=g+_*(t+1)*A}})}else{f=I/S;j=g;a.each(t,function(e,t){if(!isNaN(e)){var n=a.getItemLayout(t);var r=n.angle===m?m:e*f;n.startAngle=j;n.endAngle=j+_*r;j+=_*r}})}}})}function J2(e){return{seriesType:e,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!r||!r.length){return}var a=e.getData();a.filterSelf(function(e){var t=a.getName(e);for(var n=0;n<r.length;n++){if(!r[n].isSelected(t)){return false}}return true})}}}var Z2=Math.PI/180;function $2(e,p,c,d,g,t,n,r,a,i){if(e.length<2){return}function m(e){var t=e.rB;var n=t*t;for(var r=0;r<e.list.length;r++){var a=e.list[r];var i=Math.abs(a.label.y-c);var o=d+a.len;var s=o*o;var u=Math.sqrt((1-Math.abs(i*i/n))*s);a.label.x=p+(u+a.len2)*g}}function o(e){var t={list:[],maxY:0};var n={list:[],maxY:0};for(var r=0;r<e.length;r++){if(e[r].labelAlignTo!=="none"){continue}var a=e[r];var i=a.label.y>c?n:t;var o=Math.abs(a.label.y-c);if(o>i.maxY){var s=a.label.x-p-a.len2*g;var u=d+a.len;var l=Math.abs(s)<u?Math.sqrt(o*o/(1-s*s/u/u)):u;i.rB=l;i.maxY=o}i.list.push(a)}m(t);m(n)}var s=e.length;for(var u=0;u<s;u++){if(e[u].position==="outer"&&e[u].labelAlignTo==="labelLine"){var l=e[u].label.x-i;e[u].linePoints[1][0]+=l;e[u].label.x=i}}if($v(e,a,a+n)){o(e)}}function K2(e,t,n,r,a,i,o,s){var u=[];var l=[];var p=Number.MAX_VALUE;var c=-Number.MAX_VALUE;for(var d=0;d<e.length;d++){var g=e[d].label;if(Q2(e[d])){continue}if(g.x<t){p=Math.min(p,g.x);u.push(e[d])}else{c=Math.max(c,g.x);l.push(e[d])}}$2(l,t,n,r,1,a,i,o,s,c);$2(u,t,n,r,-1,a,i,o,s,p);for(var d=0;d<e.length;d++){var m=e[d];var g=m.label;if(Q2(m)){continue}var b=m.linePoints;if(b){var h=m.labelAlignTo==="edge";var f=m.rect.width;var v=void 0;if(h){if(g.x<t){v=b[2][0]-m.labelDistance-o-m.edgeDistance}else{v=o+a-m.edgeDistance-b[2][0]-m.labelDistance}}else{if(g.x<t){v=g.x-o-m.bleedMargin}else{v=o+a-g.x-m.bleedMargin}}if(v<m.rect.width){m.label.style.width=v;if(m.labelAlignTo==="edge"){f=v}}var O=b[1][0]-b[2][0];if(h){if(g.x<t){b[2][0]=o+m.edgeDistance+f+m.labelDistance}else{b[2][0]=o+a-m.edgeDistance-f-m.labelDistance}}else{if(g.x<t){b[2][0]=g.x+m.labelDistance}else{b[2][0]=g.x-m.labelDistance}b[1][0]=b[2][0]+O}b[1][1]=b[2][1]=g.y}}}function Q2(e){return e.position==="center"}function eA(e){var L=e.getData();var D=[];var M;var B;var z=false;var V=(e.get("minShowLabelAngle")||0)*Z2;var t=L.getLayout("viewRect");var R=L.getLayout("r");var U=t.width;var F=t.x;var n=t.y;var r=t.height;function G(e){e.ignore=true}function H(e){if(!e.ignore){return true}for(var t in e.states){if(e.states[t].ignore===false){return true}}return false}L.each(function(e){var t=L.getItemGraphicEl(e);var n=t.shape;var r=t.getTextContent();var a=t.getTextGuideLine();var i=L.getItemModel(e);var o=i.getModel("label");var s=o.get("position")||i.get(["emphasis","label","position"]);var u=o.get("distanceToLabelLine");var l=o.get("alignTo");var p=X(o.get("edgeDistance"),U);var c=o.get("bleedMargin");var d=i.getModel("labelLine");var g=d.get("length");g=X(g,U);var m=d.get("length2");m=X(m,U);if(Math.abs(n.endAngle-n.startAngle)<V){q(r.states,G);r.ignore=true;return}if(!H(r)){return}var b=(n.startAngle+n.endAngle)/2;var h=Math.cos(b);var f=Math.sin(b);var v;var O;var y;var x;M=n.cx;B=n.cy;var I=s==="inside"||s==="inner";if(s==="center"){v=n.cx;O=n.cy;x="center"}else{var S=(I?(n.r+n.r0)/2*h:n.r*h)+M;var j=(I?(n.r+n.r0)/2*f:n.r*f)+B;v=S+h*3;O=j+f*3;if(!I){var _=S+h*(g+R-n.r);var A=j+f*(g+R-n.r);var T=_+(h<0?-1:1)*m;var C=A;if(l==="edge"){v=h<0?F+p:F+U-p}else{v=T+(h<0?-u:u)}O=C;y=[[S,j],[_,A],[T,C]]}x=I?"center":l==="edge"?h>0?"right":"left":h>0?"left":"right"}var w;var k=o.get("rotate");if(typeof k==="number"){w=k*(Math.PI/180)}else{w=k?h<0?-b+Math.PI:-b:0}z=!!w;r.x=v;r.y=O;r.rotation=w;r.setStyle({verticalAlign:"middle"});if(!I){var N=r.getBoundingRect().clone();N.applyTransform(r.getComputedTransform());var P=(r.style.margin||0)+2.1;N.y-=P/2;N.height+=P;D.push({label:r,labelLine:a,position:s,len:g,len2:m,minTurnAngle:d.get("minTurnAngle"),maxSurfaceAngle:d.get("maxSurfaceAngle"),surfaceNormal:new W(h,f),linePoints:y,textAlign:x,labelDistance:u,labelAlignTo:l,edgeDistance:p,bleedMargin:c,rect:N})}else{r.setStyle({align:x});var E=r.states.select;if(E){E.x+=r.x;E.y+=r.y}}t.setTextConfig({inside:I})});if(!z&&e.get("avoidLabelOverlap")){K2(D,M,B,R,U,r,F,n)}for(var a=0;a<D.length;a++){var i=D[a];var o=i.label;var s=i.labelLine;var u=isNaN(o.x)||isNaN(o.y);if(o){o.setStyle({align:i.textAlign});if(u){q(o.states,G);o.ignore=true}var l=o.states.select;if(l){l.x+=o.x;l.y+=o.y}}if(s){var p=i.linePoints;if(u||!p){q(s.states,G);s.ignore=true}else{Fv(p,i.minTurnAngle);Gv(p,i.surfaceNormal,i.maxSurfaceAngle);s.setShape({points:p});o.__hostTarget.textGuideLineConfig={anchor:new W(p[0][0],p[0][1])}}}}}function tA(e,t){var n=e.get("borderRadius");if(n==null){return null}if(!N(n)){n=[n,n]}return{innerCornerRadius:fa(n[0],t.r0),cornerRadius:fa(n[1],t.r)}}var nA=function(i){b(e,i);function e(e,t,n){var r=i.call(this)||this;r.z2=2;var a=new G;r.setTextContent(a);r.updateData(e,t,n,true);return r}e.prototype.updateData=function(e,t,n,r){var a=this;var i=e.hostModel;var o=e.getItemModel(t);var s=o.getModel("emphasis");var u=e.getItemLayout(t);var l=U(tA(o.getModel("itemStyle"),u)||{},u);if(isNaN(l.startAngle)){a.setShape(l);return}if(r){a.setShape(l);var p=i.getShallow("animationType");if(p==="scale"){a.shape.r=u.r0;Yc(a,{shape:{r:u.r}},i,t)}else{if(n!=null){a.setShape({startAngle:n,endAngle:n});Yc(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},i,t)}else{a.shape.endAngle=u.startAngle;Y(a,{shape:{endAngle:u.endAngle}},i,t)}}}else{Y(a,{shape:l},i,t)}a.useStyle(e.getItemVisual(t,"style"));ip(a,o);var c=(u.startAngle+u.endAngle)/2;var d=i.get("selectedOffset");var g=Math.cos(c)*d;var m=Math.sin(c)*d;var b=o.getShallow("cursor");b&&a.attr("cursor",b);this._updateLabel(i,e,t);a.ensureState("emphasis").shape=I({r:u.r+(s.get("scale")?s.get("scaleSize")||0:0)},tA(s.getModel("itemStyle"),u));U(a.ensureState("select"),{x:g,y:m,shape:tA(o.getModel(["select","itemStyle"]),u)});U(a.ensureState("blur"),{shape:tA(o.getModel(["blur","itemStyle"]),u)});var h=a.getTextGuideLine();var f=a.getTextContent();h&&U(h.ensureState("select"),{x:g,y:m});U(f.ensureState("select"),{x:g,y:m});tp(this,s.get("focus"),s.get("blurScope"))};e.prototype._updateLabel=function(e,t,n){var r=this;var a=t.getItemModel(n);var i=a.getModel("labelLine");var o=t.getItemVisual(n,"style");var s=o&&o.fill;var u=o&&o.opacity;fd(r,vd(a),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||t.getName(n)});var l=r.getTextContent();r.setTextConfig({position:null,rotation:null});l.attr({z2:10});var p=e.get(["label","position"]);if(p!=="outside"&&p!=="outer"){r.removeTextGuideLine()}else{var c=this.getTextGuideLine();if(!c){c=new pc;this.setTextGuideLine(c)}Wv(this,Xv(a),{stroke:s,opacity:Ie(i.get(["lineStyle","opacity"]),u,1)})}};return e}(ec);var rA=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.ignoreLabelLineUpdate=true;return e}e.prototype.init=function(){var e=new F;this._sectorGroup=e};e.prototype.render=function(n,e,t,r){var a=n.getData();var i=this._data;var o=this.group;var s;if(!i&&a.count()>0){var u=a.getItemLayout(0);for(var l=1;isNaN(u&&u.startAngle)&&l<a.count();++l){u=a.getItemLayout(l)}if(u){s=u.startAngle}}a.diff(i).add(function(e){var t=new nA(a,e,s);a.setItemGraphicEl(e,t);o.add(t)}).update(function(e,t){var n=i.getItemGraphicEl(t);n.updateData(a,e,s);n.off("click");o.add(n);a.setItemGraphicEl(e,n)}).remove(function(e){var t=i.getItemGraphicEl(e);$c(t,n,e)}).execute();eA(n);if(n.get("animationTypeUpdate")!=="expansion"){this._data=a}};e.prototype.dispose=function(){};e.prototype.containPoint=function(e,t){var n=t.getData();var r=n.getItemLayout(0);if(r){var a=e[0]-r.cx;var i=e[1]-r.cy;var o=Math.sqrt(a*a+i*i);return o<=r.r&&o>=r.r0}};e.type="pie";return e}(m);function aA(e,t,n){t=N(t)&&{coordDimensions:t}||U({},t);var r=e.getSource();var a=Qx(r,t);var i=new Jx(a,e);i.initData(r,n);return i}var iA=function(){function e(e,t){this._getDataWithEncodedVisual=e;this._getRawData=t}e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)};e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0};e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)};e.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)};return e}();var oA=function(a){b(e,a);function e(){var e=a!==null&&a.apply(this,arguments)||this;e.useColorPaletteOnData=true;return e}e.prototype.init=function(e){a.prototype.init.apply(this,arguments);this.legendVisualProvider=new iA(O(this.getData,this),O(this.getRawData,this));this._defaultLabelLine(e)};e.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)};e.prototype.getInitialData=function(){return aA(this,{coordDimensions:["value"],encodeDefaulter:y(Nm,this)})};e.prototype.getDataParams=function(e){var t=this.getData();var n=a.prototype.getDataParams.call(this,e);var r=[];t.each(t.mapDimension("value"),function(e){r.push(e)});n.percent=$a(r,e,t.hostModel.get("percentPrecision"));n.$vars.push("percent");return n};e.prototype._defaultLabelLine=function(e){Ai(e,"labelLine",["show"]);var t=e.labelLine;var n=e.emphasis.labelLine;t.show=t.show&&e.label.show;n.show=n.show&&e.emphasis.label.show};e.type="series.pie";e.defaultOption={zlevel:0,z:2,legendHoverLink:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:true,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:true,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:true,length:15,length2:15,smooth:false,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:true},emphasis:{scale:true,scaleSize:5},avoidLabelOverlap:true,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"};return e}(bf);function sA(e){e.registerChartView(rA);e.registerSeriesModel(oA);u0("pie",e.registerAction);e.registerLayout(y(Y2,"pie"));e.registerProcessor(J2("pie"))}var uA=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.hasSymbolVisual=true;return e}n.prototype.getInitialData=function(e,t){return sI(this.getSource(),this,{useEncodeDefaulter:true})};n.prototype.getProgressive=function(){var e=this.option.progressive;if(e==null){return this.option.large?5e3:this.get("progressive")}return e};n.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?1e4:this.get("progressiveThreshold")}return e};n.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))};n.type="series.scatter";n.dependencies=["grid","polar","geo","singleAxis","calendar"];n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,symbolSize:10,large:false,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:true},clip:true,select:{itemStyle:{borderColor:"#212121"}}};return n}(bf);var lA=4;var pA=function(){function e(){}return e}();var cA=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new pA};e.prototype.buildPath=function(e,t){var n=t.points;var r=t.size;var a=this.symbolProxy;var i=a.shape;var o=e.getContext?e.getContext():e;var s=o&&r[0]<lA;if(s){this._ctx=o;return}this._ctx=null;for(var u=0;u<n.length;){var l=n[u++];var p=n[u++];if(isNaN(l)||isNaN(p)){continue}if(this.softClipShape&&!this.softClipShape.contain(l,p)){continue}i.x=l-r[0]/2;i.y=p-r[1]/2;i.width=r[0];i.height=r[1];a.buildPath(e,i,true)}};e.prototype.afterBrush=function(){var e=this.shape;var t=e.points;var n=e.size;var r=this._ctx;if(!r){return}for(var a=0;a<t.length;){var i=t[a++];var o=t[a++];if(isNaN(i)||isNaN(o)){continue}if(this.softClipShape&&!this.softClipShape.contain(i,o)){continue}r.fillRect(i-n[0]/2,o-n[1]/2,n[0],n[1])}};e.prototype.findDataIndex=function(e,t){var n=this.shape;var r=n.points;var a=n.size;var i=Math.max(a[0],4);var o=Math.max(a[1],4);for(var s=r.length/2-1;s>=0;s--){var u=s*2;var l=r[u]-i/2;var p=r[u+1]-o/2;if(e>=l&&t>=p&&e<=l+i&&t<=p+o){return s}}return-1};return e}(v);var dA=function(){function e(){this.group=new F}e.prototype.isPersistent=function(){return!this._incremental};e.prototype.updateData=function(e,t){this.group.removeAll();var n=new cA({rectHover:true,cursor:"default"});n.setShape({points:e.getLayout("points")});this._setCommon(n,e,false,t);this.group.add(n);this._incremental=null};e.prototype.updateLayout=function(e){if(this._incremental){return}var r=e.getLayout("points");this.group.eachChild(function(e){if(e.startIndex!=null){var t=(e.endIndex-e.startIndex)*2;var n=e.startIndex*4*2;r=new Float32Array(r.buffer,n,t)}e.setShape("points",r)})};e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>2e6){if(!this._incremental){this._incremental=new kc({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};e.prototype.incrementalUpdate=function(e,t,n){var r;if(this._incremental){r=new cA;this._incremental.addDisplayable(r,true)}else{r=new cA({rectHover:true,cursor:"default",startIndex:e.start,endIndex:e.end});r.incremental=true;this.group.add(r)}r.setShape({points:t.getLayout("points")});this._setCommon(r,t,!!this._incremental,n)};e.prototype._setCommon=function(n,e,t,r){var a=e.hostModel;r=r||{};var i=e.getVisual("symbolSize");n.setShape("size",i instanceof Array?i:[i,i]);n.softClipShape=r.clipShape||null;n.symbolProxy=S0(e.getVisual("symbol"),0,0,0,0);n.setColor=n.symbolProxy.setColor;var o=n.shape.size[0]<lA;n.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style");var u=s&&s.fill;if(u){n.setColor(u)}if(!t){var l=H(n);l.seriesIndex=a.seriesIndex;n.on("mousemove",function(e){l.dataIndex=null;var t=n.findDataIndex(e.offsetX,e.offsetY);if(t>=0){l.dataIndex=t+(n.startIndex||0)}})}};e.prototype.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};e.prototype._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};return e}();var gA=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var r=e.getData();var a=this._updateSymbolDraw(r,e);a.updateData(r,{clipShape:this._getClipShape(e)});this._finished=true};n.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();var a=this._updateSymbolDraw(r,e);a.incrementalPrepareUpdate(r);this._finished=false};n.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)});this._finished=e.end===t.getData().count()};n.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();if(!this._finished||r.count()>1e4||!this._symbolDraw.isPersistent()){return{update:true}}else{var a=g2("").reset(e,t,n);if(a.progress){a.progress({start:0,end:r.count(),count:r.count()},r)}this._symbolDraw.updateLayout(r)}};n.prototype._getClipShape=function(e){var t=e.coordinateSystem;var n=t&&t.getArea&&t.getArea();return e.get("clip",true)?n:null};n.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw;var r=t.pipelineContext;var a=r.large;if(!n||a!==this._isLargeDraw){n&&n.remove();n=this._symbolDraw=a?new dA:new k_;this._isLargeDraw=a;this.group.removeAll()}this.group.add(n.group);return n};n.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null};n.prototype.dispose=function(){};n.type="scatter";return n}(m);var mA=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.type="grid";t.dependencies=["xAxis","yAxis"];t.layoutMode="box";t.defaultOption={show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};return t}(g);var bA=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qi).models[0]};t.type="cartesian2dAxis";return t}(g);oe(bA,_S);var hA={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}};var fA=f({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},hA);var vA=f({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:false,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:false,lineStyle:{color:"#F4F7FD",width:1}}},hA);var OA=f({scale:true,splitNumber:6,axisLabel:{showMinLabel:false,showMaxLabel:false,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:false}},vA);var yA=M({scale:true,logBase:10},vA);var xA={category:fA,value:vA,time:OA,log:yA};var IA={value:1,category:1,time:1,log:1};function SA(r,a,o,s){q(IA,function(e,i){var t=f(f({},xA[i],true),s,true);var n=function(r){b(e,r);function e(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var n=r.apply(this,e)||this;n.type=a+"Axis."+i;return n}e.prototype.mergeDefaultAndTheme=function(e,t){var n=lm(this);var r=n?cm(e):{};var a=t.getTheme();f(e,a.get(i+"Axis"));f(e,this.getDefaultOption());e.type=jA(e);if(n){pm(e,r,n)}};e.prototype.optionUpdated=function(){var e=this.option;if(e.type==="category"){this.__ordinalMeta=cI.createByAxisModel(this)}};e.prototype.getCategories=function(e){var t=this.option;if(t.type==="category"){if(e){return t.data}return this.__ordinalMeta.categories}};e.prototype.getOrdinalMeta=function(){return this.__ordinalMeta};e.type=a+"Axis."+i;e.defaultOption=t;return e}(o);r.registerComponentModel(n)});r.registerSubTypeDefaulter(a+"Axis",jA)}function jA(e){return e.type||(e.data?"category":"value")}var _A=function(){function e(e){this.type="cartesian";this._dimList=[];this._axes={};this.name=e||""}e.prototype.getAxis=function(e){return this._axes[e]};e.prototype.getAxes=function(){return w(this._dimList,function(e){return this._axes[e]},this)};e.prototype.getAxesByScale=function(t){t=t.toLowerCase();return le(this.getAxes(),function(e){return e.scale.type===t})};e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e;this._dimList.push(t)};return e}();var AA=["x","y"];function TA(e){return e.type==="interval"||e.type==="time"}var CA=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="cartesian2d";e.dimensions=AA;return e}e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale;var t=this.getAxis("y").scale;if(!TA(e)||!TA(t)){return}var n=e.getExtent();var r=t.getExtent();var a=this.dataToPoint([n[0],r[0]]);var i=this.dataToPoint([n[1],r[1]]);var o=n[1]-n[0];var s=r[1]-r[0];if(!o||!s){return}var u=(i[0]-a[0])/o;var l=(i[1]-a[1])/s;var p=a[0]-n[0]*u;var c=a[1]-r[0]*l;var d=this._transform=[u,0,0,l,p,c];this._invTransform=Rr([],d)};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")};e.prototype.containPoint=function(e){var t=this.getAxis("x");var n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))};e.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])};e.prototype.dataToPoint=function(e,t,n){n=n||[];var r=e[0];var a=e[1];if(this._transform&&r!=null&&isFinite(r)&&a!=null&&isFinite(a)){return nt(n,e,this._transform)}var i=this.getAxis("x");var o=this.getAxis("y");n[0]=i.toGlobalCoord(i.dataToCoord(r,t));n[1]=o.toGlobalCoord(o.dataToCoord(a,t));return n};e.prototype.clampData=function(e,t){var n=this.getAxis("x").scale;var r=this.getAxis("y").scale;var a=n.getExtent();var i=r.getExtent();var o=n.parse(e[0]);var s=r.parse(e[1]);t=t||[];t[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1]));t[1]=Math.min(Math.max(Math.min(i[0],i[1]),s),Math.max(i[0],i[1]));return t};e.prototype.pointToData=function(e,t){var n=[];if(this._invTransform){return nt(n,e,this._invTransform)}var r=this.getAxis("x");var a=this.getAxis("y");n[0]=r.coordToData(r.toLocalCoord(e[0]),t);n[1]=a.coordToData(a.toLocalCoord(e[1]),t);return n};e.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")};e.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent();var t=this.getAxis("y").getGlobalExtent();var n=Math.min(e[0],e[1]);var r=Math.min(t[0],t[1]);var a=Math.max(e[0],e[1])-n;var i=Math.max(t[0],t[1])-r;return new z(n,r,a,i)};return e}(_A);var wA=function(o){b(e,o);function e(e,t,n,r,a){var i=o.call(this,e,t,n)||this;i.index=0;i.type=r||"value";i.position=a||"bottom";return i}e.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"};e.prototype.getGlobalExtent=function(e){var t=this.getExtent();t[0]=this.toGlobalCoord(t[0]);t[1]=this.toGlobalCoord(t[1]);e&&t[0]>t[1]&&t.reverse();return t};e.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),t)};e.prototype.setCategorySortInfo=function(e){if(this.type!=="category"){return false}this.model.option.categorySortInfo=e;this.scale.setSortInfo(e)};return e}(QS);function kA(e,t,n){n=n||{};var r=e.coordinateSystem;var a=t.axis;var i={};var o=a.getAxesOnZeroOf()[0];var s=a.position;var u=o?"onZero":s;var l=a.dim;var p=r.getRect();var c=[p.x,p.x+p.width,p.y,p.y+p.height];var d={left:0,right:1,top:0,bottom:1,onZero:2};var g=t.get("offset")||0;var m=l==="x"?[c[2]-g,c[3]+g]:[c[0]-g,c[1]+g];if(o){var b=o.toGlobalCoord(o.dataToCoord(0));m[d.onZero]=Math.max(Math.min(b,m[1]),m[0])}i.position=[l==="y"?m[d[u]]:c[0],l==="x"?m[d[u]]:c[3]];i.rotation=Math.PI/2*(l==="x"?0:1);var h={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=h[s];i.labelOffset=o?m[d[s]]-m[d.onZero]:0;if(t.get(["axisTick","inside"])){i.tickDirection=-i.tickDirection}if(xe(n.labelInside,t.get(["axisLabel","inside"]))){i.labelDirection=-i.labelDirection}var f=t.get(["axisLabel","rotate"]);i.labelRotate=u==="top"?-f:f;i.z2=1;return i}function NA(e){return e.get("coordinateSystem")==="cartesian2d"}function PA(a){var i={xAxisModel:null,yAxisModel:null};q(i,function(e,t){var n=t.replace(/Model$/,"");var r=a.getReferringComponents(n,Qi).models[0];if("development"!=="production"){if(!r){throw new Error(n+' "'+Ie(a.get(n+"Index"),a.get(n+"Id"),0)+'" not found')}}i[t]=r});return i}var EA=function(){function o(e,t,n){this.type="grid";this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this.axisPointerEnabled=true;this.dimensions=AA;this._initCartesian(e,t,n);this.model=e}o.prototype.getRect=function(){return this._rect};o.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);q(n.x,function(e){mS(e.scale,e.model)});q(n.y,function(e){mS(e.scale,e.model)});var r={};q(n.x,function(e){DA(n,"y",e,r)});q(n.y,function(e){DA(n,"x",e,r)});this.resize(this.model,t)};o.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams();var a=!n&&e.get("containLabel");var i=om(r,{width:t.getWidth(),height:t.getHeight()});this._rect=i;var o=this._axesList;s();if(a){q(o,function(e){if(!e.model.get(["axisLabel","inside"])){var t=OS(e);if(t){var n=e.isHorizontal()?"height":"width";var r=e.model.get(["axisLabel","margin"]);i[n]-=t[n]+r;if(e.position==="top"){i.y+=t.height+r}else if(e.position==="left"){i.x+=t.width+r}}}});s()}q(this._coordsList,function(e){e.calcAffineTransform()});function s(){q(o,function(e){var t=e.isHorizontal();var n=t?[0,i.width]:[0,i.height];var r=e.inverse?1:0;e.setExtent(n[r],n[1-r]);BA(e,t?i.x:i.y)})}};o.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null){return n[t||0]}};o.prototype.getAxes=function(){return this._axesList.slice()};o.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}if(E(e)){t=e.yAxisIndex;e=e.xAxisIndex}for(var r=0,a=this._coordsList;r<a.length;r++){if(a[r].getAxis("x").index===e||a[r].getAxis("y").index===t){return a[r]}}};o.prototype.getCartesians=function(){return this._coordsList.slice()};o.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null};o.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null};o.prototype._findConvertTarget=function(e){var t=e.seriesModel;var n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Qi).models[0];var r=e.yAxisModel||t&&t.getReferringComponents("yAxis",Qi).models[0];var a=e.gridModel;var i=this._coordsList;var o;var s;if(t){o=t.coordinateSystem;C(i,o)<0&&(o=null)}else if(n&&r){o=this.getCartesian(n.componentIndex,r.componentIndex)}else if(n){s=this.getAxis("x",n.componentIndex)}else if(r){s=this.getAxis("y",r.componentIndex)}else if(a){var u=a.coordinateSystem;if(u===this){o=this._coordsList[0]}}return{cartesian:o,axis:s}};o.prototype.containPoint=function(e){var t=this._coordsList[0];if(t){return t.containPoint(e)}};o.prototype._initCartesian=function(o,e,t){var s=this;var u=this;var l={left:false,right:false,top:false,bottom:false};var p={x:{},y:{}};var c={x:0,y:0};e.eachComponent("xAxis",n("x"),this);e.eachComponent("yAxis",n("y"),this);if(!c.x||!c.y){this._axesMap={};this._axesList=[];return}this._axesMap=p;q(p.x,function(a,i){q(p.y,function(e,t){var n="x"+i+"y"+t;var r=new CA(n);r.master=s;r.model=o;s._coordsMap[n]=r;s._coordsList.push(r);r.addAxis(a);r.addAxis(e)})});function n(i){return function(e,t){if(!LA(e,o)){return}var n=e.get("position");if(i==="x"){if(n!=="top"&&n!=="bottom"){n=l.bottom?"top":"bottom"}}else{if(n!=="left"&&n!=="right"){n=l.left?"right":"left"}}l[n]=true;var r=new wA(i,bS(e),[0,0],e.get("type"),n);var a=r.type==="category";r.onBand=a&&e.get("boundaryGap");r.inverse=e.get("inverse");e.axis=r;r.model=e;r.grid=u;r.index=t;u._axesList.push(r);p[i][t]=r;c[i]++}}};o.prototype._updateScale=function(e,u){q(this._axesList,function(e){e.scale.setExtent(Infinity,-Infinity);if(e.type==="category"){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}});e.eachSeries(function(e){if(NA(e)){var t=PA(e);var n=t.xAxisModel;var r=t.yAxisModel;if(!LA(n,u)||!LA(r,u)){return}var a=this.getCartesian(n.componentIndex,r.componentIndex);var i=e.getData();var o=a.getAxis("x");var s=a.getAxis("y");if(i.type==="list"){l(i,o);l(i,s)}}},this);function l(t,n){q(SS(t,n.dim),function(e){n.scale.unionExtentFromData(t,e)})}};o.prototype.getTooltipAxes=function(r){var a=[];var i=[];q(this.getCartesians(),function(e){var t=r!=null&&r!=="auto"?e.getAxis(r):e.getBaseAxis();var n=e.getOtherAxis(t);C(a,t)<0&&a.push(t);C(i,n)<0&&i.push(n)});return{baseAxes:a,otherAxes:i}};o.create=function(r,a){var i=[];r.eachComponent("grid",function(e,t){var n=new o(e,r,a);n.name="grid_"+t;n.resize(e,a,true);e.coordinateSystem=n;i.push(n)});r.eachSeries(function(e){if(!NA(e)){return}var t=PA(e);var n=t.xAxisModel;var r=t.yAxisModel;var a=n.getCoordSysModel();if("development"!=="production"){if(!a){throw new Error('Grid "'+Ie(n.get("gridIndex"),n.get("gridId"),0)+'" not found')}if(n.getCoordSysModel()!==r.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var i=a.coordinateSystem;e.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)});return i};o.dimensions=AA;return o}();function LA(e,t){return e.getCoordSysModel()===t}function DA(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t];var i;var o=n.model;var s=o.get(["axisLine","onZero"]);var u=o.get(["axisLine","onZeroAxisIndex"]);if(!s){return}if(u!=null){if(MA(a[u])){i=a[u]}}else{for(var l in a){if(a.hasOwnProperty(l)&&MA(a[l])&&!r[p(a[l])]){i=a[l];break}}}if(i){r[p(i)]=true}function p(e){return e.dim+"_"+e.index}}function MA(e){return e&&e.type!=="category"&&e.type!=="time"&&hS(e)}function BA(e,t){var n=e.getExtent();var r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(e){return e+t}:function(e){return r-e+t};e.toLocalCoord=e.dim==="x"?function(e){return e-t}:function(e){return r-e+t}}var zA=Math.PI;var VA=function(){function e(e,t){this.group=new F;this.opt=t;this.axisModel=e;M(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true,handleAutoShown:function(){return true}});var n=new F({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform();this._transformGroup=n}e.prototype.hasBuilder=function(e){return!!RA[e]};e.prototype.add=function(e){RA[e](this.opt,this.axisModel,this.group,this._transformGroup)};e.prototype.getGroup=function(){return this.group};e.innerTextLayout=function(e,t,n){var r=ei(t-e);var a;var i;if(ti(r)){i=n>0?"top":"bottom";a="center"}else if(ti(r-zA)){i=n>0?"bottom":"top";a="center"}else{i="middle";if(r>0&&r<zA){a=n>0?"right":"left"}else{a=n>0?"left":"right"}}return{rotation:r,textAlign:a,textVerticalAlign:i}};e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};t[e.mainType+"Index"]=e.componentIndex;return t};e.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};return e}();var RA={axisLine:function(a,e,i,t){var n=e.get(["axisLine","show"]);if(n==="auto"&&a.handleAutoShown){n=a.handleAutoShown("axisLine")}if(!n){return}var r=e.axis.getExtent();var o=t.transform;var s=[r[0],0];var u=[r[1],0];if(o){nt(s,s,o);nt(u,u,o)}var l=U({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle());var p=new gc({subPixelOptimize:true,shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1]},style:l,strokeContainThreshold:a.strokeContainThreshold||5,silent:true,z2:1});p.anid="line";i.add(p);var c=e.get(["axisLine","symbol"]);var d=e.get(["axisLine","symbolSize"]);var g=e.get(["axisLine","symbolOffset"])||0;if(typeof g==="number"){g=[g,g]}if(c!=null){if(typeof c==="string"){c=[c,c]}if(typeof d==="string"||typeof d==="number"){d=[d,d]}var m=d[0];var b=d[1];q([{rotate:a.rotation+Math.PI/2,offset:g[0],r:0},{rotate:a.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((s[0]-u[0])*(s[0]-u[0])+(s[1]-u[1])*(s[1]-u[1]))}],function(e,t){if(c[t]!=="none"&&c[t]!=null){var n=S0(c[t],-m/2,-b/2,m,b,l.stroke,true);var r=e.r+e.offset;n.attr({rotation:e.rotate,x:s[0]+r*Math.cos(a.rotation),y:s[1]-r*Math.sin(a.rotation),silent:true,z2:11});i.add(n)}})}},axisTickLabel:function(e,t,n,r){var a=XA(n,r,t,e);var i=JA(n,r,t,e);FA(t,i,a);YA(n,r,t,e.tickDirection)},axisName:function(e,t,n,r){var a=xe(e.axisName,t.get("name"));if(!a){return}var i=t.get("nameLocation");var o=e.nameDirection;var s=t.getModel("nameTextStyle");var u=t.get("nameGap")||0;var l=t.axis.getExtent();var p=l[0]>l[1]?-1:1;var c=[i==="start"?l[0]-p*u:i==="end"?l[1]+p*u:(l[0]+l[1])/2,qA(i)?e.labelOffset+o*u:0];var d;var g=t.get("nameRotate");if(g!=null){g=g*zA/180}var m;if(qA(i)){d=VA.innerTextLayout(e.rotation,g!=null?g:e.rotation,o)}else{d=UA(e.rotation,i,g||0,l);m=e.axisNameAvailableWidth;if(m!=null){m=Math.abs(m/Math.sin(d.rotation));!isFinite(m)&&(m=null)}}var b=s.getFont();var h=t.get("nameTruncate",true)||{};var f=h.ellipsis;var v=xe(e.nameTruncateMaxWidth,h.maxWidth,m);var O=new G({x:c[0],y:c[1],rotation:d.rotation,silent:VA.isLabelSilent(t),style:Od(s,{text:a,font:b,overflow:"truncate",width:v,ellipsis:f,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});dd({el:O,componentModel:t,itemName:a});O.__fullText=a;O.anid="name";if(t.get("triggerEvent")){var y=VA.makeAxisEventDataBase(t);y.targetType="axisName";y.name=a;H(O).eventData=y}r.add(O);O.updateTransform();n.add(O);O.decomposeTransform()}};function UA(e,t,n,r){var a=ei(n-e);var i;var o;var s=r[0]>r[1];var u=t==="start"&&!s||t!=="start"&&s;if(ti(a-zA/2)){o=u?"bottom":"top";i="center"}else if(ti(a-zA*1.5)){o=u?"top":"bottom";i="center"}else{o="middle";if(a<zA*1.5&&a>zA/2){i=u?"left":"right"}else{i=u?"right":"left"}}return{rotation:a,textAlign:i,textVerticalAlign:o}}function FA(e,t,n){if(IS(e.axis)){return}var r=e.get(["axisLabel","showMinLabel"]);var a=e.get(["axisLabel","showMaxLabel"]);t=t||[];n=n||[];var i=t[0];var o=t[1];var s=t[t.length-1];var u=t[t.length-2];var l=n[0];var p=n[1];var c=n[n.length-1];var d=n[n.length-2];if(r===false){GA(i);GA(l)}else if(HA(i,o)){if(r){GA(o);GA(p)}else{GA(i);GA(l)}}if(a===false){GA(s);GA(c)}else if(HA(u,s)){if(a){GA(u);GA(d)}else{GA(s);GA(c)}}}function GA(e){e&&(e.ignore=true)}function HA(e,t){var n=e&&e.getBoundingRect().clone();var r=t&&t.getBoundingRect().clone();if(!n||!r){return}var a=Lr([]);zr(a,a,-e.rotation);n.applyTransform(Mr([],a,e.getLocalTransform()));r.applyTransform(Mr([],a,t.getLocalTransform()));return n.intersect(r)}function qA(e){return e==="middle"||e==="center"}function WA(e,t,n,r,a){var i=[];var o=[];var s=[];for(var u=0;u<e.length;u++){var l=e[u].coord;o[0]=l;o[1]=0;s[0]=l;s[1]=n;if(t){nt(o,o,t);nt(s,s,t)}var p=new gc({subPixelOptimize:true,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:true,silent:true});p.anid=a+"_"+e[u].tickValue;i.push(p)}return i}function XA(e,t,n,r){var a=n.axis;var i=n.getModel("axisTick");var o=i.get("show");if(o==="auto"&&r.handleAutoShown){o=r.handleAutoShown("axisTick")}if(!o||a.scale.isBlank()){return}var s=i.getModel("lineStyle");var u=r.tickDirection*i.get("length");var l=a.getTicksCoords();var p=WA(l,t.transform,u,M(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks");for(var c=0;c<p.length;c++){e.add(p[c])}return p}function YA(e,t,n,r){var a=n.axis;var i=n.getModel("minorTick");if(!i.get("show")||a.scale.isBlank()){return}var o=a.getMinorTicksCoords();if(!o.length){return}var s=i.getModel("lineStyle");var u=r*i.get("length");var l=M(s.getLineStyle(),M(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}));for(var p=0;p<o.length;p++){var c=WA(o[p],t.transform,u,l,"minorticks_"+p);for(var d=0;d<c.length;d++){e.add(c[d])}}}function JA(c,d,g,m){var b=g.axis;var e=xe(m.axisLabelShow,g.get(["axisLabel","show"]));if(!e||b.scale.isBlank()){return}var h=g.getModel("axisLabel");var f=h.get("margin");var t=b.getViewLabels();var n=(xe(m.labelRotate,h.get("rotate"))||0)*zA/180;var v=VA.innerTextLayout(m.rotation,n,m.labelDirection);var O=g.getCategories&&g.getCategories(true);var y=[];var x=VA.isLabelSilent(g);var I=g.get("triggerEvent");q(t,function(e,t){var n=b.scale.type==="ordinal"?b.scale.getRawOrdinalNumber(e.tickValue):e.tickValue;var r=e.formattedLabel;var a=e.rawLabel;var i=h;if(O&&O[n]){var o=O[n];if(E(o)&&o.textStyle){i=new A(o.textStyle,h,g.ecModel)}}var s=i.getTextColor()||g.get(["axisLine","lineStyle","color"]);var u=b.dataToCoord(n);var l=new G({x:u,y:m.labelOffset+m.labelDirection*f,rotation:v.rotation,silent:x,z2:10,style:Od(i,{text:r,align:i.getShallow("align",true)||v.textAlign,verticalAlign:i.getShallow("verticalAlign",true)||i.getShallow("baseline",true)||v.textVerticalAlign,fill:typeof s==="function"?s(b.type==="category"?a:b.type==="value"?n+"":n,t):s})});l.anid="label_"+n;if(I){var p=VA.makeAxisEventDataBase(g);p.targetType="axisLabel";p.value=a;H(l).eventData=p}d.add(l);l.updateTransform();y.push(l);c.add(l);l.decomposeTransform()});return y}function ZA(e,t){var n={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};$A(n,e,t);n.seriesInvolved&&QA(n,e);return n}function $A(m,b,e){var o=b.getComponent("tooltip");var h=b.getComponent("axisPointer");var f=h.get("link",true)||[];var v=[];q(e.getCoordinateSystems(),function(c){if(!c.axisPointerEnabled){return}var e=o4(c.model);var d=m.coordSysAxesInfo[e]={};m.coordSysMap[e]=c;var t=c.model;var g=t.getModel("tooltip",o);q(c.getAxes(),y(i,false,null));if(c.getTooltipAxes&&o&&g.get("show")){var n=g.get("trigger")==="axis";var r=g.get(["axisPointer","type"])==="cross";var a=c.getTooltipAxes(g.get(["axisPointer","axis"]));if(n||r){q(a.baseAxes,y(i,r?"cross":true,n))}if(r){q(a.otherAxes,y(i,"cross",false))}}function i(e,t,n){var r=n.model.getModel("axisPointer",h);var a=r.get("show");if(!a||a==="auto"&&!e&&!i4(r)){return}if(t==null){t=r.get("triggerTooltip")}r=e?KA(n,g,h,b,e,t):r;var i=r.get("snap");var o=o4(n.model);var s=t||i||n.type==="category";var u=m.axesInfo[o]={key:o,axis:n,coordSys:c,axisPointerModel:r,triggerTooltip:t,involveSeries:s,snap:i,useHandle:i4(r),seriesModels:[],linkGroup:null};d[o]=u;m.seriesInvolved=m.seriesInvolved||s;var l=e4(f,n);if(l!=null){var p=v[l]||(v[l]={axesInfo:{}});p.axesInfo[o]=u;p.mapper=f[l].mapper;u.linkGroup=p}}})}function KA(e,t,n,r,a,i){var o=t.getModel("axisPointer");var s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"];var u={};q(s,function(e){u[e]=j(o.get(e))});u.snap=e.type!=="category"&&!!i;if(o.get("type")==="cross"){u.type="line"}var l=u.label||(u.label={});l.show==null&&(l.show=false);if(a==="cross"){var p=o.get(["label","show"]);l.show=p!=null?p:true;if(!i){var c=u.lineStyle=o.get("crossStyle");c&&M(l,c.textStyle)}}return e.model.getModel("axisPointer",new A(u,n,r))}function QA(a,e){e.eachSeries(function(n){var r=n.coordinateSystem;var e=n.get(["tooltip","trigger"],true);var t=n.get(["tooltip","show"],true);if(!r||e==="none"||e===false||e==="item"||t===false||n.get(["axisPointer","show"],true)===false){return}q(a.coordSysAxesInfo[o4(r.model)],function(e){var t=e.axis;if(r.getAxis(t.dim)===t){e.seriesModels.push(n);e.seriesDataCount==null&&(e.seriesDataCount=0);e.seriesDataCount+=n.getData().count()}})})}function e4(e,t){var n=t.model;var r=t.dim;for(var a=0;a<e.length;a++){var i=e[a]||{};if(t4(i[r+"AxisId"],n.id)||t4(i[r+"AxisIndex"],n.componentIndex)||t4(i[r+"AxisName"],n.name)){return a}}}function t4(e,t){return e==="all"||N(e)&&C(e,t)>=0||e===t}function n4(e){var t=r4(e);if(!t){return}var n=t.axisPointerModel;var r=t.axis.scale;var a=n.option;var i=n.get("status");var o=n.get("value");if(o!=null){o=r.parse(o)}var s=i4(n);if(i==null){a.status=s?"show":"hide"}var u=r.getExtent().slice();u[0]>u[1]&&u.reverse();if(o==null||o>u[1]){o=u[1]}if(o<u[0]){o=u[0]}a.value=o;if(s){a.status=t.axis.scale.isBlank()?"hide":"show"}}function r4(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[o4(e)]}function a4(e){var t=r4(e);return t&&t.axisPointerModel}function i4(e){return!!e.get(["handle","show"])}function o4(e){return e.type+"||"+e.id}var s4={};var u4=function(a){b(i,a);function i(){var e=a!==null&&a.apply(this,arguments)||this;e.type=i.type;return e}i.prototype.render=function(e,t,n,r){this.axisPointerClass&&n4(e);a.prototype.render.apply(this,arguments);this._doUpdateAxisPointerClass(e,n,true)};i.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,false)};i.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)};i.prototype.dispose=function(e,t){this._disposeAxisPointer(t);a.prototype.dispose.apply(this,arguments)};i.prototype._doUpdateAxisPointerClass=function(e,t,n){var r=i.getAxisPointerClass(this.axisPointerClass);if(!r){return}var a=a4(e);a?(this._axisPointer||(this._axisPointer=new r)).render(e,a,t,n):this._disposeAxisPointer(t)};i.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e);this._axisPointer=null};i.registerAxisPointerClass=function(e,t){if("development"!=="production"){if(s4[e]){throw new Error("axisPointer "+e+" exists")}}s4[e]=t};i.getAxisPointerClass=function(e){return e&&s4[e]};i.type="axis";return i}(jf);var l4=Ji();function p4(e,t,n,r){var a=n.axis;if(a.scale.isBlank()){return}var i=n.getModel("splitArea");var o=i.getModel("areaStyle");var s=o.get("color");var u=r.coordinateSystem.getRect();var l=a.getTicksCoords({tickModel:i,clamp:true});if(!l.length){return}var p=s.length;var c=l4(e).splitAreaColors;var d=_();var g=0;if(c){for(var m=0;m<l.length;m++){var b=c.get(l[m].tickValue);if(b!=null){g=(b+(p-1)*m)%p;break}}}var h=a.toGlobalCoord(l[0].coord);var f=o.getAreaStyle();s=N(s)?s:[s];for(var m=1;m<l.length;m++){var v=a.toGlobalCoord(l[m].coord);var O=void 0;var y=void 0;var x=void 0;var I=void 0;if(a.isHorizontal()){O=h;y=u.y;x=v-O;I=u.height;h=O+x}else{O=u.x;y=h;x=u.width;I=v-y;h=y+I}var S=l[m-1].tickValue;S!=null&&d.set(S,g);t.add(new R({anid:S!=null?"area_"+S:null,shape:{x:O,y:y,width:x,height:I},style:M({fill:s[g]},f),autoBatch:true,silent:true}));g=(g+1)%p}l4(e).splitAreaColors=d}function c4(e){l4(e).splitAreaColors=null}var d4=["axisLine","axisTickLabel","axisName"];var g4=["splitArea","splitLine","minorSplitLine"];var m4=function(u){b(t,u);function t(){var e=u!==null&&u.apply(this,arguments)||this;e.type=t.type;e.axisPointerClass="CartesianAxisPointer";return e}t.prototype.render=function(a,e,t,n){this.group.removeAll();var r=this._axisGroup;this._axisGroup=new F;this.group.add(this._axisGroup);if(!a.get("show")){return}var i=a.getCoordSysModel();var o=kA(i,a);var s=new VA(a,U({handleAutoShown:function(e){var t=i.coordinateSystem.getCartesians();for(var n=0;n<t.length;n++){var r=t[n].getOtherAxis(a.axis).type;if(r==="value"||r==="log"){return true}}return false}},o));q(d4,s.add,s);this._axisGroup.add(s.getGroup());q(g4,function(e){if(a.get([e,"show"])){b4[e](this,this._axisGroup,a,i)}},this);ad(r,this._axisGroup,a);u.prototype.render.call(this,a,e,t,n)};t.prototype.remove=function(){c4(this)};t.type="cartesianAxis";return t}(u4);var b4={splitLine:function(e,t,n,r){var a=n.axis;if(a.scale.isBlank()){return}var i=n.getModel("splitLine");var o=i.getModel("lineStyle");var s=o.get("color");s=N(s)?s:[s];var u=r.coordinateSystem.getRect();var l=a.isHorizontal();var p=0;var c=a.getTicksCoords({tickModel:i});var d=[];var g=[];var m=o.getLineStyle();for(var b=0;b<c.length;b++){var h=a.toGlobalCoord(c[b].coord);if(l){d[0]=h;d[1]=u.y;g[0]=h;g[1]=u.y+u.height}else{d[0]=u.x;d[1]=h;g[0]=u.x+u.width;g[1]=h}var f=p++%s.length;var v=c[b].tickValue;t.add(new gc({anid:v!=null?"line_"+c[b].tickValue:null,subPixelOptimize:true,autoBatch:true,shape:{x1:d[0],y1:d[1],x2:g[0],y2:g[1]},style:M({stroke:s[f]},m),silent:true}))}},minorSplitLine:function(e,t,n,r){var a=n.axis;var i=n.getModel("minorSplitLine");var o=i.getModel("lineStyle");var s=r.coordinateSystem.getRect();var u=a.isHorizontal();var l=a.getMinorTicksCoords();if(!l.length){return}var p=[];var c=[];var d=o.getLineStyle();for(var g=0;g<l.length;g++){for(var m=0;m<l[g].length;m++){var b=a.toGlobalCoord(l[g][m].coord);if(u){p[0]=b;p[1]=s.y;c[0]=b;c[1]=s.y+s.height}else{p[0]=s.x;p[1]=b;c[0]=s.x+s.width;c[1]=b}t.add(new gc({anid:"minor_line_"+l[g][m].tickValue,subPixelOptimize:true,autoBatch:true,shape:{x1:p[0],y1:p[1],x2:c[0],y2:c[1]},style:d,silent:true}))}}},splitArea:function(e,t,n,r){p4(e,t,n,r)}};var h4=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="xAxis";return n}(m4);var f4=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type=h4.type;return e}e.type="yAxis";return e}(m4);var v4=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="grid";return e}e.prototype.render=function(e,t){this.group.removeAll();if(e.get("show")){this.group.add(new R({shape:e.coordinateSystem.getRect(),style:M({fill:e.get("backgroundColor")},e.getItemStyle()),silent:true,z2:-1}))}};e.type="grid";return e}(jf);var O4={offset:0};function y4(e){e.registerComponentView(v4);e.registerComponentModel(mA);e.registerCoordinateSystem("cartesian2d",EA);SA(e,"x",bA,O4);SA(e,"y",bA,O4);e.registerComponentView(h4);e.registerComponentView(f4);e.registerPreprocessor(function(e){if(e.xAxis&&e.yAxis&&!e.grid){e.grid={}}})}function x4(e){t(y4);e.registerSeriesModel(uA);e.registerChartView(gA);e.registerLayout(g2("scatter"))}function I4(e){e.eachSeriesByType("radar",function(e){var n=e.getData();var a=[];var i=e.coordinateSystem;if(!i){return}var t=i.getIndicatorAxes();q(t,function(e,r){n.each(n.mapDimension(t[r].dim),function(e,t){a[t]=a[t]||[];var n=i.dataToPoint(e,r);a[t][r]=S4(n)?n:j4(i)})});n.each(function(e){var t=pe(a[e],function(e){return S4(e)})||j4(i);a[e].push(t.slice());n.setItemLayout(e,a[e])})})}function S4(e){return!isNaN(e[0])&&!isNaN(e[1])}function j4(e){return[e.cx,e.cy]}function _4(n){var e=n.polar;if(e){if(!N(e)){e=[e]}var r=[];q(e,function(e,t){if(e.indicator){if(e.type&&!e.shape){e.shape=e.type}n.radar=n.radar||[];if(!N(n.radar)){n.radar=[n.radar]}n.radar.push(e)}else{r.push(e)}});n.polar=r}q(n.series,function(e){if(e&&e.type==="radar"&&e.polarIndex){e.radarIndex=e.polarIndex}})}function A4(e){if(!N(e)){e=[+e,+e]}return e}var T4=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(u,e,t){var n=u.coordinateSystem;var d=this.group;var g=u.getData();var s=this._data;function l(e,t){var n=e.getItemVisual(t,"symbol")||"circle";if(n==="none"){return}var r=A4(e.getItemVisual(t,"symbolSize"));var a=S0(n,-1,-1,2,2);var i=e.getItemVisual(t,"symbolRotate")||0;a.attr({style:{strokeNoScale:true},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:i*Math.PI/180||0});return a}function p(e,t,n,r,a,i){n.removeAll();for(var o=0;o<t.length-1;o++){var s=l(r,a);if(s){s.__dimIdx=o;if(e[o]){s.setPosition(e[o]);gd[i?"initProps":"updateProps"](s,{x:t[o][0],y:t[o][1]},u,a)}else{s.setPosition(t[o])}n.add(s)}}}function c(e){return w(e,function(e){return[n.cx,n.cy]})}g.diff(s).add(function(e){var t=g.getItemLayout(e);if(!t){return}var n=new uc;var r=new pc;var a={shape:{points:t}};n.shape.points=c(t);r.shape.points=c(t);Yc(n,a,u,e);Yc(r,a,u,e);var i=new F;var o=new F;i.add(r);i.add(n);i.add(o);p(r.shape.points,t,o,g,e,true);g.setItemGraphicEl(e,i)}).update(function(e,t){var n=s.getItemGraphicEl(t);var r=n.childAt(0);var a=n.childAt(1);var i=n.childAt(2);var o={shape:{points:g.getItemLayout(e)}};if(!o.shape.points){return}p(r.shape.points,o.shape.points,i,g,e,false);Y(r,o,u);Y(a,o,u);g.setItemGraphicEl(e,n)}).remove(function(e){d.remove(s.getItemGraphicEl(e))}).execute();g.eachItemGraphicEl(function(e,a){var i=g.getItemModel(a);var t=e.childAt(0);var r=e.childAt(1);var n=e.childAt(2);var o=g.getItemVisual(a,"style");var s=o.fill;d.add(e);t.useStyle(M(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:s}));ip(t,i,"lineStyle");ip(r,i,"areaStyle");var u=i.getModel("areaStyle");var l=u.isEmpty()&&u.parentModel.isEmpty();r.ignore=l;q(["emphasis","select","blur"],function(e){var t=i.getModel([e,"areaStyle"]);var n=t.isEmpty()&&t.parentModel.isEmpty();r.ensureState(e).ignore=n&&l});r.useStyle(M(u.getAreaStyle(),{fill:s,opacity:.7,decal:o.decal}));var p=i.getModel("emphasis");var c=p.getModel("itemStyle").getItemStyle();n.eachChild(function(e){if(e instanceof Mu){var t=e.style;e.useStyle(U({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},o))}else{e.useStyle(o);e.setColor(s)}var n=e.ensureState("emphasis");n.style=j(c);var r=g.get(g.dimensions[e.__dimIdx],a);(r==null||isNaN(r))&&(r="");fd(e,vd(i),{labelFetcher:g.hostModel,labelDataIndex:a,labelDimIndex:e.__dimIdx,defaultText:r,inheritColor:s,defaultOpacity:o.opacity})});tp(e,p.get("focus"),p.get("blurScope"))});this._data=g};n.prototype.remove=function(){this.group.removeAll();this._data=null};n.type="radar";return n}(m);var C4=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.useColorPaletteOnData=true;e.hasSymbolVisual=true;return e}n.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new iA(O(this.getData,this),O(this.getRawData,this))};n.prototype.getInitialData=function(e,t){return aA(this,{generateCoord:"indicator_",generateCoordCount:Infinity})};n.prototype.formatTooltip=function(n,e,t){var r=this.getData();var a=this.coordinateSystem;var i=a.getIndicatorAxes();var o=this.getData().getName(n);var s=o===""?this.name:o;var u=uf(this,n);return Zh("section",{header:s,sortBlocks:true,blocks:w(i,function(e){var t=r.get(r.mapDimension(e.dim),n);return Zh("nameValue",{markerType:"subItem",markerColor:u,name:e.name,value:t,sortParam:t})})})};n.prototype.getTooltipPosition=function(e){if(e!=null){var t=this.getData();var n=this.coordinateSystem;var r=t.getValues(w(n.dimensions,function(e){return t.mapDimension(e)}),e);for(var a=0,i=r.length;a<i;a++){if(!isNaN(r[a])){var o=n.getIndicatorAxes();return n.coordToPoint(o[a].dataToCoord(r[a]),a)}}}};n.type="series.radar";n.dependencies=["radar"];n.defaultOption={zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbolSize:8};return n}(bf);var w4=xA.value;function k4(e,t){return M({show:t},e)}var N4=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.optionUpdated=function(){var i=this.get("boundaryGap");var o=this.get("splitNumber");var s=this.get("scale");var u=this.get("axisLine");var l=this.get("axisTick");var p=this.get("axisLabel");var c=this.get("axisName");var d=this.get(["axisName","show"]);var g=this.get(["axisName","formatter"]);var m=this.get("axisNameGap");var b=this.get("triggerEvent");var e=w(this.get("indicator")||[],function(e){if(e.max!=null&&e.max>0&&!e.min){e.min=0}else if(e.min!=null&&e.min<0&&!e.max){e.max=0}var t=c;if(e.color!=null){t=M({color:e.color},c)}var n=f(j(e),{boundaryGap:i,splitNumber:o,scale:s,axisLine:u,axisTick:l,axisLabel:p,name:e.text,nameLocation:"end",nameGap:m,nameTextStyle:t,triggerEvent:b},false);if(!d){n.name=""}if(typeof g==="string"){var r=n.name;n.name=g.replace("{value}",r!=null?r:"")}else if(typeof g==="function"){n.name=g(n.name,n)}var a=new A(n,null,this.ecModel);oe(a,_S.prototype);a.mainType="radar";a.componentIndex=this.componentIndex;return a},this);this._indicatorModels=e};n.prototype.getIndicatorModels=function(){return this._indicatorModels};n.type="radar";n.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:true},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:false,shape:"polygon",axisLine:f({lineStyle:{color:"#bbb"}},w4.axisLine),axisLabel:k4(w4.axisLabel,false),axisTick:k4(w4.axisTick,false),splitLine:k4(w4.splitLine,true),splitArea:k4(w4.splitArea,true),indicator:[]};return n}(g);var P4=["axisLine","axisTickLabel","axisName"];var E4=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var r=this.group;r.removeAll();this._buildAxes(e);this._buildSplitLineAndArea(e)};n.prototype._buildAxes=function(e){var n=e.coordinateSystem;var t=n.getIndicatorAxes();var r=w(t,function(e){var t=new VA(e.model,{position:[n.cx,n.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return t});q(r,function(e){q(P4,e.add,e);this.group.add(e.getGroup())},this)};n.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem;var t=r.getIndicatorAxes();if(!t.length){return}var n=e.get("shape");var a=e.getModel("splitLine");var i=e.getModel("splitArea");var o=a.getModel("lineStyle");var s=i.getModel("areaStyle");var u=a.get("show");var l=i.get("show");var p=o.get("color");var c=s.get("color");var d=N(p)?p:[p];var g=N(c)?c:[c];var m=[];var b=[];function h(e,t,n){var r=n%t.length;e[r]=e[r]||[];return r}if(n==="circle"){var f=t[0].getTicksCoords();var v=r.cx;var O=r.cy;for(var y=0;y<f.length;y++){if(u){var x=h(m,d,y);m[x].push(new Mp({shape:{cx:v,cy:O,r:f[y].coord}}))}if(l&&y<f.length-1){var x=h(b,g,y);b[x].push(new nc({shape:{cx:v,cy:O,r0:f[y].coord,r:f[y+1].coord}}))}}}else{var I;var S=w(t,function(e,t){var n=e.getTicksCoords();I=I==null?n.length-1:Math.min(n.length-1,I);return w(n,function(e){return r.coordToPoint(e.coord,t)})});var j=[];for(var y=0;y<=I;y++){var _=[];for(var A=0;A<t.length;A++){_.push(S[A][y])}if(_[0]){_.push(_[0].slice())}else{if("development"!=="production"){console.error("Can't draw value axis "+y)}}if(u){var x=h(m,d,y);m[x].push(new pc({shape:{points:_}}))}if(l&&j){var x=h(b,g,y-1);b[x].push(new uc({shape:{points:_.concat(j)}}))}j=_.slice().reverse()}}var T=o.getLineStyle();var C=s.getAreaStyle();q(b,function(e,t){this.group.add(Fc(e,{style:M({stroke:"none",fill:g[t%g.length]},C),silent:true}))},this);q(m,function(e,t){this.group.add(Fc(e,{style:M({fill:"none",stroke:d[t%d.length]},T),silent:true}))},this)};n.type="radar";return n}(jf);var L4=function(a){b(e,a);function e(e,t,n){var r=a.call(this,e,t,n)||this;r.type="value";r.angle=0;r.name="";return r}return e}(QS);var D4=function(){function i(e,t,n){this.dimensions=[];this._model=e;this._indicatorAxes=w(e.getIndicatorModels(),function(e,t){var n="indicator_"+t;var r=new L4(n,new SI);r.name=e.get("name");r.model=e;e.axis=r;this.dimensions.push(n);return r},this);this.resize(e,n)}i.prototype.getIndicatorAxes=function(){return this._indicatorAxes};i.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)};i.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t];var r=n.angle;var a=this.cx+e*Math.cos(r);var i=this.cy-e*Math.sin(r);return[a,i]};i.prototype.pointToData=function(e){var t=e[0]-this.cx;var n=e[1]-this.cy;var r=Math.sqrt(t*t+n*n);t/=r;n/=r;var a=Math.atan2(-n,t);var i=Infinity;var o;var s=-1;for(var u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u];var p=Math.abs(a-l.angle);if(p<i){o=l;s=u;i=p}}return[s,+(o&&o.coordToData(r))]};i.prototype.resize=function(e,t){var n=e.get("center");var r=t.getWidth();var a=t.getHeight();var i=Math.min(r,a)/2;this.cx=X(n[0],r);this.cy=X(n[1],a);this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");if(typeof o==="string"||typeof o==="number"){o=[0,o]}this.r0=X(o[0],i);this.r=X(o[1],i);q(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n));e.angle=n},this)};i.prototype.update=function(r,e){var a=this._indicatorAxes;var i=this._model;q(a,function(e){e.scale.setExtent(Infinity,-Infinity)});r.eachSeriesByType("radar",function(e,t){if(e.get("coordinateSystem")!=="radar"||r.getComponent("radar",e.get("radarIndex"))!==i){return}var n=e.getData();q(a,function(e){e.scale.unionExtentFromData(n,n.mapDimension(e.dim))})},this);var c=i.get("splitNumber");function d(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10));var n=e/t;if(n===2){n=5}else{n*=2}return n*t}q(a,function(e,t){var n=dS(e.scale,e.model).extent;mS(e.scale,e.model);var r=e.model;var a=e.scale;var i=cS(a,r.get("min",true));var o=cS(a,r.get("max",true));var s=a.getInterval();if(i!=null&&o!=null){a.setExtent(+i,+o);a.setInterval((o-i)/c)}else if(i!=null){var u=void 0;do{u=i+s*c;a.setExtent(+i,u);a.setInterval(s);s=d(s)}while(u<n[1]&&isFinite(u)&&isFinite(n[1]))}else if(o!=null){var l=void 0;do{l=o-s*c;a.setExtent(l,+o);a.setInterval(s);s=d(s)}while(l>n[0]&&isFinite(l)&&isFinite(n[0]))}else{var p=a.getTicks().length-1;if(p>c){s=d(s)}var u=Math.ceil(n[1]/s)*s;var l=Wa(u-s*c);a.setExtent(l,u);a.setInterval(s)}})};i.prototype.convertToPixel=function(e,t,n){console.warn("Not implemented.");return null};i.prototype.convertFromPixel=function(e,t,n){console.warn("Not implemented.");return null};i.prototype.containPoint=function(e){console.warn("Not implemented.");return false};i.create=function(n,r){var a=[];n.eachComponent("radar",function(e){var t=new i(e,n,r);a.push(t);e.coordinateSystem=t});n.eachSeriesByType("radar",function(e){if(e.get("coordinateSystem")==="radar"){e.coordinateSystem=a[e.get("radarIndex")||0]}});return a};i.dimensions=[];return i}();function M4(e){e.registerCoordinateSystem("radar",D4);e.registerComponentModel(N4);e.registerComponentView(E4);e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(e){t.setItemVisual(e,"legendIcon","roundRect")});t.setVisual("legendIcon","roundRect")}})}function B4(e){t(M4);e.registerChartView(T4);e.registerSeriesModel(C4);e.registerLayout(I4);e.registerProcessor(J2("radar"));e.registerPreprocessor(_4)}var z4="\0_ec_interaction_mutex";function V4(e,t,n){var r=F4(e);r[t]=n}function R4(e,t,n){var r=F4(e);var a=r[t];if(a===n){r[t]=null}}function U4(e,t){return!!F4(e)[t]}function F4(e){return e[z4]||(e[z4]={})}K1({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});var G4=function(t){b(e,t);function e(n){var e=t.call(this)||this;e._zr=n;var r=O(e._mousedownHandler,e);var a=O(e._mousemoveHandler,e);var i=O(e._mouseupHandler,e);var o=O(e._mousewheelHandler,e);var s=O(e._pinchHandler,e);e.enable=function(e,t){this.disable();this._opt=M(j(t)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});if(e==null){e=true}if(e===true||e==="move"||e==="pan"){n.on("mousedown",r);n.on("mousemove",a);n.on("mouseup",i)}if(e===true||e==="scale"||e==="zoom"){n.on("mousewheel",o);n.on("pinch",s)}};e.disable=function(){n.off("mousedown",r);n.off("mousemove",a);n.off("mouseup",i);n.off("mousewheel",o);n.off("pinch",s)};return e}e.prototype.isDragging=function(){return this._dragging};e.prototype.isPinching=function(){return this._pinching};e.prototype.setPointerChecker=function(e){this.pointerChecker=e};e.prototype.dispose=function(){this.disable()};e.prototype._mousedownHandler=function(e){if(kt(e)||e.target&&e.target.draggable){return}var t=e.offsetX;var n=e.offsetY;if(this.pointerChecker&&this.pointerChecker(e,t,n)){this._x=t;this._y=n;this._dragging=true}};e.prototype._mousemoveHandler=function(e){if(!this._dragging||!W4("moveOnMouseMove",e,this._opt)||e.gestureEvent==="pinch"||U4(this._zr,"globalPan")){return}var t=e.offsetX;var n=e.offsetY;var r=this._x;var a=this._y;var i=t-r;var o=n-a;this._x=t;this._y=n;this._opt.preventDefaultMouseMove&&wt(e.event);q4(this,"pan","moveOnMouseMove",e,{dx:i,dy:o,oldX:r,oldY:a,newX:t,newY:n,isAvailableBehavior:null})};e.prototype._mouseupHandler=function(e){if(!kt(e)){this._dragging=false}};e.prototype._mousewheelHandler=function(e){var t=W4("zoomOnMouseWheel",e,this._opt);var n=W4("moveOnMouseWheel",e,this._opt);var r=e.wheelDelta;var a=Math.abs(r);var i=e.offsetX;var o=e.offsetY;if(r===0||!t&&!n){return}if(t){var s=a>3?1.4:a>1?1.2:1.1;var u=r>0?s:1/s;H4(this,"zoom","zoomOnMouseWheel",e,{scale:u,originX:i,originY:o,isAvailableBehavior:null})}if(n){var l=Math.abs(r);var p=(r>0?1:-1)*(l>3?.4:l>1?.15:.05);H4(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:p,originX:i,originY:o,isAvailableBehavior:null})}};e.prototype._pinchHandler=function(e){if(U4(this._zr,"globalPan")){return}var t=e.pinchScale>1?1.1:1/1.1;H4(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})};return e}(ut);function H4(e,t,n,r,a){if(e.pointerChecker&&e.pointerChecker(r,a.originX,a.originY)){wt(r.event);q4(e,t,n,r,a)}}function q4(e,t,n,r,a){a.isAvailableBehavior=O(W4,null,n,r);e.trigger(t,a)}function W4(e,t,n){var r=n[e];return!e||r&&(!P(r)||t.event[r+"Key"])}function X4(e,t,n){var r=e.target;r.x+=t;r.y+=n;r.dirty()}function Y4(e,t,n,r){var a=e.target;var i=e.zoomLimit;var o=e.zoom=e.zoom||1;o*=t;if(i){var s=i.min||0;var u=i.max||Infinity;o=Math.max(Math.min(u,o),s)}var l=o/e.zoom;e.zoom=o;a.x-=(n-a.x)*(l-1);a.y-=(r-a.y)*(l-1);a.scaleX*=l;a.scaleY*=l;a.dirty()}var J4={axisPointer:1,tooltip:1,brush:1};function Z4(e,t,n){var r=t.getComponentByElement(e.topTarget);var a=r&&r.coordinateSystem;return r&&r!==n&&!J4.hasOwnProperty(r.mainType)&&a&&a.model!==n}var $4=["rect","circle","line","ellipse","polygon","polyline","path"];var K4=_($4);var Q4=_($4.concat(["g"]));var eT=_($4.concat(["g"]));var tT=Ji();function nT(e){var t=e.getItemStyle();var n=e.get("areaColor");if(n!=null){t.fill=n}return t}var rT=function(){function e(e){var t=new F;this.uid=Ud("ec_map_draw");this._controller=new G4(e.getZr());this._controllerHost={target:t};this.group=t;t.add(this._regionsGroup=new F);t.add(this._svgGroup=new F)}e.prototype.draw=function(t,e,n,r,a){var i=t.mainType==="geo";var o=t.getData&&t.getData();i&&e.eachComponent({mainType:"series",subType:"map"},function(e){if(!o&&e.getHostGeoModel()===t){o=e.getData()}});var s=t.coordinateSystem;var u=this._regionsGroup;var l=this.group;var p=s.getTransformInfo();var c=p.raw;var d=p.roam;var g=!u.childAt(0)||a;if(g){l.x=d.x;l.y=d.y;l.scaleX=d.scaleX;l.scaleY=d.scaleY;l.dirty()}else{Y(l,d,t)}var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0;var b={api:n,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:m,isGeo:i,transformInfoRaw:c};if(s.resourceType==="geoJSON"){this._buildGeoJSON(b)}else if(s.resourceType==="geoSVG"){this._buildSVG(b)}this._updateController(t,e,n);this._updateMapSelectHandler(t,u,n,r)};e.prototype._buildGeoJSON=function(u){var l=this._regionsGroupByName=_();var p=_();var c=this._regionsGroup;var t=u.transformInfoRaw;var d=u.mapOrGeoModel;var g=u.data;var m=function(e){return[e[0]*t.scaleX+t.x,e[1]*t.scaleY+t.y]};c.removeAll();q(u.geo.regions,function(e){var t=e.name;var n=l.get(t);var r=p.get(t)||{},a=r.dataIdx,i=r.regionModel;if(!n){n=l.set(t,new F);c.add(n);a=g?g.indexOfName(t):null;i=u.isGeo?d.getRegionModel(t):g?g.getItemModel(a):null;p.set(t,{dataIdx:a,regionModel:i})}var o=new yc({segmentIgnoreThreshold:1,shape:{paths:[]}});n.add(o);q(e.geometries,function(e){if(e.type!=="polygon"){return}var t=[];for(var n=0;n<e.exterior.length;++n){t.push(m(e.exterior[n]))}o.shape.paths.push(new uc({segmentIgnoreThreshold:1,shape:{points:t}}));for(var n=0;n<(e.interiors?e.interiors.length:0);++n){var r=e.interiors[n];var a=[];for(var i=0;i<r.length;++i){a.push(m(r[i]))}o.shape.paths.push(new uc({segmentIgnoreThreshold:1,shape:{points:a}}))}});aT(u,o,a,i);if(o instanceof $o){o.culling=true}var s=m(e.getCenter());iT(u,o,t,i,d,a,s)});l.each(function(e,t){var n=p.get(t),r=n.dataIdx,a=n.regionModel;oT(u,e,t,a,d,r);sT(u,e,t,a,d);uT(u,e,t,a,d)},this)};e.prototype._buildSVG=function(p){var e=p.geo.map;var t=p.transformInfoRaw;this._svgGroup.x=t.x;this._svgGroup.y=t.y;this._svgGroup.scaleX=t.scaleX;this._svgGroup.scaleY=t.scaleY;if(this._svgResourceChanged(e)){this._freeSVG();this._useSVG(e)}var c=this._svgDispatcherMap=_();var d=false;q(this._svgGraphicRecord.named,function(e){var t=e.name;var n=p.mapOrGeoModel;var r=p.data;var a=e.svgNodeTagLower;var i=e.el;var o=r?r.indexOfName(t):null;var s=n.getRegionModel(t);if(K4.get(a)!=null&&i instanceof $o){aT(p,i,o,s)}if(i instanceof $o){i.culling=true}i.z2EmphasisLift=0;if(!e.namedFrom){if(eT.get(a)!=null){iT(p,i,t,s,n,o,null)}oT(p,i,t,s,n,o);sT(p,i,t,s,n);if(Q4.get(a)!=null){var u=uT(p,i,t,s,n);if(u==="self"){d=true}var l=c.get(t)||c.set(t,[]);l.push(i)}}},this);this._enableBlurEntireSVG(d,p)};e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle();var r=n.opacity;this._svgGraphicRecord.root.traverse(function(e){if(!e.isGroup){Dl(e);var t=e.ensureState("blur").style||{};if(t.opacity==null&&r!=null){t.opacity=r}e.ensureState("emphasis")}})}};e.prototype.remove=function(){this._regionsGroup.removeAll();this._regionsGroupByName=null;this._svgGroup.removeAll();this._freeSVG();this._controller.dispose();this._controllerHost=null};e.prototype.findHighDownDispatchers=function(e,t){if(e==null){return[]}var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var a=r.get(e);return a?[a]:[]}}else if(n.resourceType==="geoSVG"){return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]}};e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e};e.prototype._useSVG=function(e){var t=hy.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root);this._svgGraphicRecord=n;this._svgMapName=e}};e.prototype._freeSVG=function(){var e=this._svgMapName;if(e==null){return}var t=hy.getGeoResource(e);if(t&&t.type==="geoSVG"){t.freeGraphic(this.uid)}this._svgGraphicRecord=null;this._svgDispatcherMap=null;this._svgGroup.removeAll();this._svgMapName=null};e.prototype._updateController=function(r,e,a){var i=r.coordinateSystem;var t=this._controller;var n=this._controllerHost;n.zoomLimit=r.get("scaleLimit");n.zoom=i.getZoom();t.enable(r.get("roam")||false);var o=r.mainType;function s(){var e={type:"geoRoam",componentType:o};e[o+"Id"]=r.id;return e}t.off("pan").on("pan",function(e){this._mouseDownFlag=false;X4(n,e.dx,e.dy);a.dispatchAction(U(s(),{dx:e.dx,dy:e.dy}))},this);t.off("zoom").on("zoom",function(e){this._mouseDownFlag=false;Y4(n,e.scale,e.originX,e.originY);a.dispatchAction(U(s(),{zoom:e.scale,originX:e.originX,originY:e.originY}))},this);t.setPointerChecker(function(e,t,n){return i.containPoint([t,n])&&!Z4(e,a,r)})};e.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();if(t){t.ignore=tT(t).ignore}})};e.prototype._updateMapSelectHandler=function(e,t,n,r){var a=this;t.off("mousedown");t.off("click");if(e.get("selectedMode")){t.on("mousedown",function(){a._mouseDownFlag=true});t.on("click",function(e){if(!a._mouseDownFlag){return}a._mouseDownFlag=false})}};return e}();function aT(e,t,n,r){var a=r.getModel("itemStyle");var i=r.getModel(["emphasis","itemStyle"]);var o=r.getModel(["blur","itemStyle"]);var s=r.getModel(["select","itemStyle"]);var u=nT(a);var l=nT(i);var p=nT(s);var c=nT(o);var d=e.data;if(d){var g=d.getItemVisual(n,"style");var m=d.getItemVisual(n,"decal");if(e.isVisualEncodedByVisualMap&&g.fill){u.fill=g.fill}if(m){u.decal=iO(m,e.api)}}t.setStyle(u);t.style.strokeNoScale=true;t.ensureState("emphasis").style=l;t.ensureState("select").style=p;t.ensureState("blur").style=c;Dl(t)}function iT(e,t,n,r,a,i,o){var s=e.data;var u=e.isGeo;var l=s&&isNaN(s.get(s.mapDimension("value"),i));var p=s&&s.getItemLayout(i);if(u||l||p&&p.showLabel){var c=!u?i:n;var d=void 0;if(!s||i>=0){d=a}var g=o?{normal:{align:"center",verticalAlign:"middle"}}:null;fd(t,vd(r),{labelFetcher:d,labelDataIndex:c,defaultText:n},g);var m=t.getTextContent();if(m){tT(m).ignore=m.ignore;if(t.textConfig&&o){var b=t.getBoundingRect().clone();t.textConfig.layoutRect=b;t.textConfig.position=[(o[0]-b.x)/b.width*100+"%",(o[1]-b.y)/b.height*100+"%"]}}t.disableLabelAnimation=true}else{t.removeTextContent();t.removeTextConfig();t.disableLabelAnimation=null}}function oT(e,t,n,r,a,i){if(e.data){e.data.setItemGraphicEl(i,t)}else{H(t).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:n,region:r&&r.option||{}}}}function sT(e,t,n,r,a){if(!e.data){dd({el:t,componentModel:a,itemName:n,itemTooltipOption:r.get("tooltip")})}}function uT(e,t,n,r,a){t.highDownSilentOnTouch=!!a.get("selectedMode");var i=r.getModel("emphasis");var o=i.get("focus");tp(t,o,i.get("blurScope"));if(e.isGeo){up(t,a,n)}return o}var lT=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n,r){if(r&&r.type==="mapToggleSelect"&&r.from===this.uid){return}var a=this.group;a.removeAll();if(e.getHostGeoModel()){return}if(this._mapDraw&&r&&r.type==="geoRoam"){this._mapDraw.resetForLabelLayout()}if(!(r&&r.type==="geoRoam"&&r.componentType==="series"&&r.seriesId===e.id)){if(e.needsDrawMap){var i=this._mapDraw||new rT(n);a.add(i.group);i.draw(e,t,n,this,r);this._mapDraw=i}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var i=this._mapDraw;i&&a.add(i.group)}e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)};n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()};n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null};n.prototype._renderSymbols=function(d,e,t){var g=d.originalData;var m=this.group;g.each(g.mapDimension("value"),function(e,t){if(isNaN(e)){return}var n=g.getItemLayout(t);if(!n||!n.point){return}var r=n.point;var a=n.offset;var i=new Mp({style:{fill:d.getData().getVisual("style").fill},shape:{cx:r[0]+a*9,cy:r[1],r:3},silent:true,z2:8+(!a?pl+1:0)});if(!a){var o=d.mainSeries.getData();var s=g.getName(t);var u=o.indexOfName(s);var l=g.getItemModel(t);var p=l.getModel("label");var c=o.getItemGraphicEl(u);fd(i,vd(l),{labelFetcher:{getFormattedLabel:function(e,t){return d.getFormattedLabel(u,t)}}});i.disableLabelAnimation=true;if(!p.get("position")){i.setTextConfig({position:"bottom"})}c.onHoverStateChange=function(e){wl(i,e)}}m.add(i)})};n.type="map";return n}(m);var pT=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.needsDrawMap=false;e.seriesGroup=[];e.getTooltipPosition=function(e){if(e!=null){var t=this.getData().getName(e);var n=this.coordinateSystem;var r=n.getRegion(t);return r&&n.dataToPoint(r.getCenter())}};return e}n.prototype.getInitialData=function(e){var t=aA(this,{coordDimensions:["value"],encodeDefaulter:y(Nm,this)});var n=_();var r=[];for(var a=0,i=t.count();a<i;a++){var o=t.getName(a);n.set(o,true)}var s=hy.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);q(s.regions,function(e){var t=e.name;if(!n.get(t)){r.push(t)}});t.appendValues([],r);return t};n.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return e!=null?this.ecModel.getComponent("geo",e):null};n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map};n.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)};n.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))};n.prototype.formatTooltip=function(e,t,n){var r=this.getData();var a=this.getRawValue(e);var i=r.getName(e);var o=this.seriesGroup;var s=[];for(var u=0;u<o.length;u++){var l=o[u].originalData.indexOfName(i);var p=r.mapDimension("value");if(!isNaN(o[u].originalData.get(p,l))){s.push(o[u].name)}}return Zh("section",{header:s.join(", "),noHeader:!s.length,blocks:[Zh("nameValue",{name:i,value:a})]})};n.prototype.setZoom=function(e){this.option.zoom=e};n.prototype.setCenter=function(e){this.option.center=e};n.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect";var n=S0(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);n.setStyle(e.itemStyle);n.style.stroke="none";if(t.indexOf("empty")>-1){n.style.stroke=n.style.fill;n.style.fill="#fff";n.style.lineWidth=2}return n};n.type="series.map";n.dependencies=["geo"];n.layoutMode="box";n.defaultOption={zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:true,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"};return n}(bf);function cT(l,p){var c={};q(l,function(r){r.each(r.mapDimension("value"),function(e,t){var n="ec-"+r.getName(t);c[n]=c[n]||[];if(!isNaN(e)){c[n].push(e)}})});return l[0].map(l[0].mapDimension("value"),function(e,t){var n="ec-"+l[0].getName(t);var r=0;var a=Infinity;var i=-Infinity;var o=c[n].length;for(var s=0;s<o;s++){a=Math.min(a,c[n][s]);i=Math.max(i,c[n][s]);r+=c[n][s]}var u;if(p==="min"){u=a}else if(p==="max"){u=i}else if(p==="average"){u=r/o}else{u=r}return o===0?NaN:u})}function dT(e){var r={};e.eachSeriesByType("map",function(e){var t=e.getHostGeoModel();var n=t?"o"+t.id:"i"+e.getMapType();(r[n]=r[n]||[]).push(e)});q(r,function(e,t){var n=cT(w(e,function(e){return e.getData()}),e[0].get("mapValueCalculation"));for(var r=0;r<e.length;r++){e[r].originalData=e[r].getData()}for(var r=0;r<e.length;r++){e[r].seriesGroup=e;e[r].needsDrawMap=r===0&&!e[r].getHostGeoModel();e[r].setData(n.cloneShallow());e[r].mainSeries=e[0]}})}function gT(n){var a={};n.eachSeriesByType("map",function(e){var t=e.getMapType();if(e.getHostGeoModel()||a[t]){return}var u={};q(e.seriesGroup,function(e){var o=e.coordinateSystem;var s=e.originalData;if(e.get("showLegendSymbol")&&n.getComponent("legend")){s.each(s.mapDimension("value"),function(e,t){var n=s.getName(t);var r=o.getRegion(n);if(!r||isNaN(e)){return}var a=u[n]||0;var i=o.dataToPoint(r.getCenter());u[n]=a+1;s.setItemLayout(t,{point:i,offset:a})})}});var r=e.getData();r.each(function(e){var t=r.getName(e);var n=r.getItemLayout(e)||{};n.showLabel=!u[t];r.setItemLayout(e,n)});a[t]=true})}var mT=nt;var bT=function(n){b(e,n);function e(e){var t=n.call(this)||this;t.type="view";t.dimensions=["x","y"];t._roamTransformable=new Zr;t._rawTransformable=new Zr;t.name=e;return t}e.prototype.setBoundingRect=function(e,t,n,r){this._rect=new z(e,t,n,r);return this._rect};e.prototype.getBoundingRect=function(){return this._rect};e.prototype.setViewRect=function(e,t,n,r){this._transformTo(e,t,n,r);this._viewRect=new z(e,t,n,r)};e.prototype._transformTo=function(e,t,n,r){var a=this.getBoundingRect();var i=this._rawTransformable;i.transform=a.calculateTransform(new z(e,t,n,r));var o=i.parent;i.parent=null;i.decomposeTransform();i.parent=o;this._updateTransform()};e.prototype.setCenter=function(e){if(!e){return}this._center=e;this._updateCenterAndZoom()};e.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;if(t){if(t.max!=null){e=Math.min(t.max,e)}if(t.min!=null){e=Math.max(t.min,e)}}this._zoom=e;this._updateCenterAndZoom()};e.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();var t=e.x+e.width/2;var n=e.y+e.height/2;return[t,n]};e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()};e.prototype.getZoom=function(){return this._zoom||1};e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()};e.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform();var t=this._roamTransformable;var n=this.getDefaultCenter();var r=this.getCenter();var a=this.getZoom();r=nt([],r,e);n=nt([],n,e);t.originX=r[0];t.originY=r[1];t.x=n[0]-r[0];t.y=n[1]-r[1];t.scaleX=t.scaleY=a;this._updateTransform()};e.prototype._updateTransform=function(){var e=this._roamTransformable;var t=this._rawTransformable;t.parent=e;e.updateTransform();t.updateTransform();Dr(this.transform||(this.transform=[]),t.transform||Er());this._rawTransform=t.getLocalTransform();this.invTransform=this.invTransform||[];Rr(this.invTransform,this.transform);this.decomposeTransform()};e.prototype.getTransformInfo=function(){var e=this._rawTransformable;var t=this._roamTransformable;var n=new Zr;n.transform=t.transform;n.decomposeTransform();return{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}};e.prototype.getViewRect=function(){return this._viewRect};e.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e};e.prototype.dataToPoint=function(e,t,n){var r=t?this._rawTransform:this.transform;n=n||[];return r?mT(n,e,r):De(n,e)};e.prototype.pointToData=function(e){var t=this.invTransform;return t?mT([],e,t):[e[0],e[1]]};e.prototype.convertToPixel=function(e,t,n){var r=hT(t);return r===this?r.dataToPoint(n):null};e.prototype.convertFromPixel=function(e,t,n){var r=hT(t);return r===this?r.pointToData(n):null};e.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])};e.dimensions=["x","y"];return e}(Zr);function hT(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var fT={geoJSON:{aspectScale:.75,invertLongitute:true},geoSVG:{aspectScale:1,invertLongitute:false}};var vT=function(u){b(e,u);function e(e,t,n){var r=u.call(this,e)||this;r.dimensions=["lng","lat"];r.type="geo";r._nameCoordMap=_();r.map=t;var a=hy.load(t,n.nameMap,n.nameProperty);var i=hy.getGeoResource(t);r.resourceType=i?i.type:null;var o=fT[i.type];r._regionsMap=a.regionsMap;r._invertLongitute=o.invertLongitute;r.regions=a.regions;r.aspectScale=L(n.aspectScale,o.aspectScale);var s=a.boundingRect;r.setBoundingRect(s.x,s.y,s.width,s.height);return r}e.prototype._transformTo=function(e,t,n,r){var a=this.getBoundingRect();var i=this._invertLongitute;a=a.clone();if(i){a.y=-a.y-a.height}var o=this._rawTransformable;o.transform=a.calculateTransform(new z(e,t,n,r));var s=o.parent;o.parent=null;o.decomposeTransform();o.parent=s;if(i){o.scaleY=-o.scaleY}this._updateTransform()};e.prototype.getRegion=function(e){return this._regionsMap.get(e)};e.prototype.getRegionByCoord=function(e){var t=this.regions;for(var n=0;n<t.length;n++){var r=t[n];if(r.type==="geoJSON"&&r.contain(e)){return t[n]}}};e.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)};e.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()};e.prototype.dataToPoint=function(e,t,n){if(typeof e==="string"){e=this.getGeoCoord(e)}if(e){return bT.prototype.dataToPoint.call(this,e,t,n)}};e.prototype.convertToPixel=function(e,t,n){var r=OT(t);return r===this?r.dataToPoint(n):null};e.prototype.convertFromPixel=function(e,t,n){var r=OT(t);return r===this?r.pointToData(n):null};return e}(bT);oe(vT,bT);function OT(e){var t=e.geoModel;var n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Qi).models[0]||{}).coordinateSystem:null}function yT(e,t){var n=e.get("boundingCoords");if(n!=null){var r=n[0];var a=n[1];if(isNaN(r[0])||isNaN(r[1])||isNaN(a[0])||isNaN(a[1])){if("development"!=="production"){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(r[0],r[1],a[0]-r[0],a[1]-r[1])}}var i=this.getBoundingRect();var o=e.get("layoutCenter");var s=e.get("layoutSize");var u=t.getWidth();var l=t.getHeight();var p=i.width/i.height*this.aspectScale;var c=false;var d;var g;if(o&&s){d=[X(o[0],u),X(o[1],l)];g=X(s,Math.min(u,l));if(!isNaN(d[0])&&!isNaN(d[1])&&!isNaN(g)){c=true}else{if("development"!=="production"){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var m;if(c){m={};if(p>1){m.width=g;m.height=g/p}else{m.height=g;m.width=g*p}m.y=d[1]-m.height/2;m.x=d[0]-m.width/2}else{var b=e.getBoxLayoutParams();b.aspect=p;m=om(b,{width:u,height:l})}this.setViewRect(m.x,m.y,m.width,m.height);this.setCenter(e.get("center"));this.setZoom(e.get("zoom"))}function xT(n,e){q(e.get("geoCoord"),function(e,t){n.addGeoCoord(t,e)})}var IT=function(){function e(){this.dimensions=vT.prototype.dimensions}e.prototype.create=function(e,a){var i=[];e.eachComponent("geo",function(e,t){var n=e.get("map");var r=new vT(n+t,n,{nameMap:e.get("nameMap"),nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale")});r.zoomLimit=e.get("scaleLimit");i.push(r);e.coordinateSystem=r;r.model=e;r.resize=yT;r.resize(e,a)});e.eachSeries(function(e){var t=e.get("coordinateSystem");if(t==="geo"){var n=e.get("geoIndex")||0;e.coordinateSystem=i[n]}});var n={};e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[];n[t].push(e)}});q(n,function(e,t){var n=w(e,function(e){return e.get("nameMap")});var r=new vT(t,t,{nameMap:re(n),nameProperty:e[0].get("nameProperty"),aspectScale:e[0].get("aspectScale")});r.zoomLimit=xe.apply(null,w(e,function(e){return e.get("scaleLimit")}));i.push(r);r.resize=yT;r.resize(e[0],a);q(e,function(e){e.coordinateSystem=r;xT(r,e)})});return i};e.prototype.getFilledRegions=function(e,t,n,r){var a=(e||[]).slice();var i=_();for(var o=0;o<a.length;o++){i.set(a[o].name,a[o])}var s=hy.load(t,n,r);q(s.regions,function(e){var t=e.name;!i.get(t)&&a.push({name:t})});return a};return e}();var ST=new IT;var jT=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(e,t,n){var r=hy.getGeoResource(e.map);if(r&&r.type==="geoJSON"){var a=e.itemStyle=e.itemStyle||{};if(!("color"in a)){a.color="#eee"}}this.mergeDefaultAndTheme(e,n);Ai(e,"label",["show"])};n.prototype.optionUpdated=function(){var r=this;var e=this.option;e.regions=ST.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var a={};this._optionModelMap=ue(e.regions||[],function(e,t){var n=t.name;if(n){e.set(n,new A(t,r,r.ecModel));if(t.selected){a[n]=true}}return e},_());if(!e.selectedMap){e.selectedMap=a}};n.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new A(null,this,this.ecModel)};n.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e);var r=t==="normal"?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]);var a={name:e};if(typeof r==="function"){a.status=t;return r(a)}else if(typeof r==="string"){return r.replace("{a}",e!=null?e:"")}};n.prototype.setZoom=function(e){this.option.zoom=e};n.prototype.setCenter=function(e){this.option.center=e};n.prototype.select=function(e){var t=this.option;var n=t.selectedMode;if(!n){return}if(n!=="multiple"){t.selectedMap=null}var r=t.selectedMap||(t.selectedMap={});r[e]=true};n.prototype.unSelect=function(e){var t=this.option.selectedMap;if(t){t[e]=false}};n.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)};n.prototype.isSelected=function(e){var t=this.option.selectedMap;return!!(t&&t[e])};n.type="geo";n.layoutMode="box";n.defaultOption={zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:null,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]};return n}(g);function _T(e,t,n){var r=e.getZoom();var a=e.getCenter();var i=t.zoom;var o=e.dataToPoint(a);if(t.dx!=null&&t.dy!=null){o[0]-=t.dx;o[1]-=t.dy;e.setCenter(e.pointToData(o))}if(i!=null){if(n){var s=n.min||0;var u=n.max||Infinity;i=Math.max(Math.min(r*i,u),s)/r}e.scaleX*=i;e.scaleY*=i;var l=(t.originX-e.x)*(i-1);var p=(t.originY-e.y)*(i-1);e.x-=l;e.y-=p;e.updateTransform();e.setCenter(e.pointToData(o));e.setZoom(i*r)}return{center:e.getCenter(),zoom:e.getZoom()}}var AT=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.focusBlurEnabled=true;return e}n.prototype.init=function(e,t){var n=new rT(t);this._mapDraw=n;this.group.add(n.group);this._api=t};n.prototype.render=function(e,t,n,r){var a=this._mapDraw;if(e.get("show")){a.draw(e,t,n,this,r)}else{this._mapDraw.group.removeAll()}a.group.on("click",this._handleRegionClick,this);a.group.silent=e.get("silent");this._model=e;this.updateSelectStatus(e,t,n)};n.prototype._handleRegionClick=function(e){var t;c0(e.target,function(e){return(t=H(e).eventData)!=null},true);if(t){this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})}};n.prototype.updateSelectStatus=function(e,t,n){var r=this;this._mapDraw.group.traverse(function(e){var t=H(e).eventData;if(t){r._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e);return true}})};n.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)};n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()};n.type="geo";return n}(jf);function TT(t){t.registerCoordinateSystem("geo",ST);t.registerComponentModel(jT);t.registerComponentView(AT);function e(o,e){e.update="geo:updateSelectStatus";t.registerAction(e,function(r,e){var a={};var i=[];e.eachComponent({mainType:"geo",query:r},function(t){t[o](r.name);var e=t.coordinateSystem;q(e.regions,function(e){a[e.name]=t.isSelected(e.name)||false});var n=[];q(a,function(e,t){a[t]&&n.push(t)});i.push({geoIndex:t.componentIndex,name:n})});return{selected:a,allSelected:i,name:r.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});e("select",{type:"geoSelect",event:"geoselected"});e("unSelect",{type:"geoUnSelect",event:"geounselected"});t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,e){var a=r.componentType||"series";e.eachComponent({mainType:a,query:r},function(e){var t=e.coordinateSystem;if(t.type!=="geo"){return}var n=_T(t,r,e.get("scaleLimit"));e.setCenter&&e.setCenter(n.center);e.setZoom&&e.setZoom(n.zoom);if(a==="series"){q(e.seriesGroup,function(e){e.setCenter(n.center);e.setZoom(n.zoom)})}})})}function CT(e){t(TT);e.registerChartView(lT);e.registerSeriesModel(pT);e.registerLayout(gT);e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,dT);u0("map",e.registerAction)}function wT(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var n=[t];var r;var a;while(r=n.pop()){a=r.children;if(r.isExpand&&a.length){var i=a.length;for(var o=i-1;o>=0;o--){var s=a[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null};n.push(s)}}}}function kT(e,t){var n=e.isExpand?e.children:[];var r=e.parentNode.children;var a=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){DT(e);var i=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;if(a){e.hierNode.prelim=a.hierNode.prelim+t(e,a);e.hierNode.modifier=e.hierNode.prelim-i}else{e.hierNode.prelim=i}}else if(a){e.hierNode.prelim=a.hierNode.prelim+t(e,a)}e.parentNode.hierNode.defaultAncestor=MT(e,a,e.parentNode.hierNode.defaultAncestor||r[0],t)}function NT(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function PT(e){return arguments.length?e:UT}function ET(e,t){e-=Math.PI/2;return{x:t*Math.cos(e),y:t*Math.sin(e)}}function LT(e,t){return om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function DT(e){var t=e.children;var n=t.length;var r=0;var a=0;while(--n>=0){var i=t[n];i.hierNode.prelim+=r;i.hierNode.modifier+=r;a+=i.hierNode.change;r+=i.hierNode.shift+a}}function MT(e,t,n,r){if(t){var a=e;var i=e;var o=i.parentNode.children[0];var s=t;var u=a.hierNode.modifier;var l=i.hierNode.modifier;var p=o.hierNode.modifier;var c=s.hierNode.modifier;while(s=BT(s),i=zT(i),s&&i){a=BT(a);o=zT(o);a.hierNode.ancestor=e;var d=s.hierNode.prelim+c-i.hierNode.prelim-l+r(s,i);if(d>0){RT(VT(s,e,n),e,d);l+=d;u+=d}c+=s.hierNode.modifier;l+=i.hierNode.modifier;u+=a.hierNode.modifier;p+=o.hierNode.modifier}if(s&&!BT(a)){a.hierNode.thread=s;a.hierNode.modifier+=c-u}if(i&&!zT(o)){o.hierNode.thread=i;o.hierNode.modifier+=l-p;n=e}}return n}function BT(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function zT(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function VT(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function RT(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r;t.hierNode.shift+=n;t.hierNode.modifier+=n;t.hierNode.prelim+=n;e.hierNode.change+=r}function UT(e,t){return e.parentNode===t.parentNode?1:2}var FT=function(){function e(){this.parentPoint=[];this.childPoints=[]}return e}();var GT=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new FT};e.prototype.buildPath=function(e,t){var n=t.childPoints;var r=n.length;var a=t.parentPoint;var i=n[0];var o=n[r-1];if(r===1){e.moveTo(a[0],a[1]);e.lineTo(i[0],i[1]);return}var s=t.orient;var u=s==="TB"||s==="BT"?0:1;var l=1-u;var p=X(t.forkPosition,1);var c=[];c[u]=a[u];c[l]=a[l]+(o[l]-a[l])*p;e.moveTo(a[0],a[1]);e.lineTo(c[0],c[1]);e.moveTo(i[0],i[1]);c[u]=i[u];e.lineTo(c[0],c[1]);c[u]=o[u];e.lineTo(c[0],c[1]);e.lineTo(o[0],o[1]);for(var d=1;d<r-1;d++){var g=n[d];e.moveTo(g[0],g[1]);c[u]=g[u];e.lineTo(c[0],c[1])}};return e}(v);var HT=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._mainGroup=new F;return e}n.prototype.init=function(e,t){this._controller=new G4(t.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)};n.prototype.render=function(r,e,n){var a=r.getData();var t=r.layoutInfo;var i=this._mainGroup;var o=r.get("layout");if(o==="radial"){i.x=t.x+t.width/2;i.y=t.y+t.height/2}else{i.x=t.x;i.y=t.y}this._updateViewCoordSys(r);this._updateController(r,e,n);var s=this._data;a.diff(s).add(function(e){if(qT(a,e)){WT(a,e,null,i,r)}}).update(function(e,t){var n=s.getItemGraphicEl(t);if(!qT(a,e)){n&&YT(s,t,n,i,r);return}WT(a,e,n,i,r)}).remove(function(e){var t=s.getItemGraphicEl(e);if(t){YT(s,e,t,i,r)}}).execute();this._nodeScaleRatio=r.get("nodeScaleRatio");this._updateNodeAndLinkScale(r);if(r.get("expandAndCollapse")===true){a.eachItemGraphicEl(function(e,t){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:t})})})}this._data=a};n.prototype._updateViewCoordSys=function(e){var n=e.getData();var r=[];n.each(function(e){var t=n.getItemLayout(e);if(t&&!isNaN(t.x)&&!isNaN(t.y)){r.push([+t.x,+t.y])}});var t=[];var a=[];Ls(r,t,a);var i=this._min;var o=this._max;if(a[0]-t[0]===0){t[0]=i?i[0]:t[0]-1;a[0]=o?o[0]:a[0]+1}if(a[1]-t[1]===0){t[1]=i?i[1]:t[1]-1;a[1]=o?o[1]:a[1]+1}var s=e.coordinateSystem=new bT;s.zoomLimit=e.get("scaleLimit");s.setBoundingRect(t[0],t[1],a[0]-t[0],a[1]-t[1]);s.setCenter(e.get("center"));s.setZoom(e.get("zoom"));this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY});this._min=t;this._max=a};n.prototype._updateController=function(a,e,i){var t=this;var n=this._controller;var r=this._controllerHost;var o=this.group;n.setPointerChecker(function(e,t,n){var r=o.getBoundingRect();r.applyTransform(o.transform);return r.contain(t,n)&&!Z4(e,i,a)});n.enable(a.get("roam"));r.zoomLimit=a.get("scaleLimit");r.zoom=a.coordinateSystem.getZoom();n.off("pan").off("zoom").on("pan",function(e){X4(r,e.dx,e.dy);i.dispatchAction({seriesId:a.id,type:"treeRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){Y4(r,e.scale,e.originX,e.originY);i.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY});t._updateNodeAndLinkScale(a);i.updateLabelLayout()})};n.prototype._updateNodeAndLinkScale=function(e){var t=e.getData();var n=this._getNodeGlobalScale(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(n)})};n.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if(t.type!=="view"){return 1}var n=this._nodeScaleRatio;var r=t.scaleX||1;var a=t.getZoom();var i=(a-1)*n+1;return i/r};n.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};n.prototype.remove=function(){this._mainGroup.removeAll();this._data=null};n.type="tree";return n}(m);function qT(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function WT(n,e,r,t,a){var i=!r;var o=n.tree.getNodeByDataIndex(e);var s=o.getModel();var u=o.getVisual("style").fill;var l=o.isExpand===false&&o.children.length!==0?u:"#fff";var p=n.tree.root;var c=o.parentNode===p?o:o.parentNode||o;var d=n.getItemGraphicEl(c.dataIndex);var g=c.getLayout();var m=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:g;var b=o.getLayout();if(i){r=new __(n,e,null,{symbolInnerColor:l,useNameLabel:true});r.x=m.x;r.y=m.y}else{r.updateData(n,e,null,{symbolInnerColor:l,useNameLabel:true})}r.__radialOldRawX=r.__radialRawX;r.__radialOldRawY=r.__radialRawY;r.__radialRawX=b.rawX;r.__radialRawY=b.rawY;t.add(r);n.setItemGraphicEl(e,r);r.__oldX=r.x;r.__oldY=r.y;Y(r,{x:b.x,y:b.y},a);var h=r.getSymbolPath();if(a.get("layout")==="radial"){var f=p.children[0];var v=f.getLayout();var O=f.children.length;var y=void 0;var x=void 0;if(b.x===v.x&&o.isExpand===true){var I={x:(f.children[0].getLayout().x+f.children[O-1].getLayout().x)/2,y:(f.children[0].getLayout().y+f.children[O-1].getLayout().y)/2};y=Math.atan2(I.y-v.y,I.x-v.x);if(y<0){y=Math.PI*2+y}x=I.x<v.x;if(x){y=y-Math.PI}}else{y=Math.atan2(b.y-v.y,b.x-v.x);if(y<0){y=Math.PI*2+y}if(o.children.length===0||o.children.length!==0&&o.isExpand===false){x=b.x<v.x;if(x){y=y-Math.PI}}else{x=b.x>v.x;if(!x){y=y-Math.PI}}}var S=x?"left":"right";var j=s.getModel("label");var _=j.get("rotate");var A=_*(Math.PI/180);var T=h.getTextContent();if(T){h.setTextConfig({position:j.get("position")||S,rotation:_==null?-y:A,origin:"center"});T.setStyle("verticalAlign","middle")}}var C=s.get(["emphasis","focus"]);var w=C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():null;if(w){H(r).focus=w}XT(a,o,p,r,m,g,b,t);if(r.__edge){r.onHoverStateChange=function(e){if(e!=="blur"){var t=o.parentNode&&n.getItemGraphicEl(o.parentNode.dataIndex);if(!(t&&t.hoverState===ol)){wl(r.__edge,e)}}}}}function XT(e,t,n,r,a,i,o,s){var u=t.getModel();var l=e.get("edgeShape");var p=e.get("layout");var c=e.getOrient();var d=e.get(["lineStyle","curveness"]);var g=e.get("edgeForkPosition");var m=u.getModel("lineStyle").getLineStyle();var b=r.__edge;if(l==="curve"){if(t.parentNode&&t.parentNode!==n){if(!b){b=r.__edge=new fc({shape:JT(p,c,d,a,a)})}Y(b,{shape:JT(p,c,d,i,o)},e)}}else if(l==="polyline"){if(p==="orthogonal"){if(t!==n&&t.children&&t.children.length!==0&&t.isExpand===true){var h=t.children;var f=[];for(var v=0;v<h.length;v++){var O=h[v].getLayout();f.push([O.x,O.y])}if(!b){b=r.__edge=new GT({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:c,forkPosition:g}})}Y(b,{shape:{parentPoint:[o.x,o.y],childPoints:f}},e)}}else{if("development"!=="production"){throw new Error("The polyline edgeShape can only be used in orthogonal layout")}}}if(b){b.useStyle(M({strokeNoScale:true,fill:null},m));ip(b,u,"lineStyle");Dl(b);s.add(b)}}function YT(e,t,n,r,a){var i=e.tree.getNodeByDataIndex(t);var o=e.tree.root;var s=i.parentNode===o?i:i.parentNode||i;var u;while(u=s.getLayout(),u==null){s=s.parentNode===o?s:s.parentNode||s}var l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};Jc(n,{x:u.x+1,y:u.y+1},a,{cb:function(){r.remove(n);e.setItemGraphicEl(t,null)},removeOpt:l});n.fadeOut(null,{fadeLabel:true,animation:l});var p=e.getItemGraphicEl(s.dataIndex);var c=p.__edge;var d=n.__edge||(s.isExpand===false||s.children.length===1?c:undefined);var g=a.get("edgeShape");var m=a.get("layout");var b=a.get("orient");var h=a.get(["lineStyle","curveness"]);if(d){if(g==="curve"){Jc(d,{shape:JT(m,b,h,u,u),style:{opacity:0}},a,{cb:function(){r.remove(d)},removeOpt:l})}else if(g==="polyline"&&a.get("layout")==="orthogonal"){Jc(d,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},a,{cb:function(){r.remove(d)},removeOpt:l})}}}function JT(e,t,n,r,a){var i;var o;var s;var u;var l;var p;var c;var d;if(e==="radial"){l=r.rawX;c=r.rawY;p=a.rawX;d=a.rawY;var g=ET(l,c);var m=ET(l,c+(d-c)*n);var b=ET(p,d+(c-d)*n);var h=ET(p,d);return{x1:g.x||0,y1:g.y||0,x2:h.x||0,y2:h.y||0,cpx1:m.x||0,cpy1:m.y||0,cpx2:b.x||0,cpy2:b.y||0}}else{l=r.x;c=r.y;p=a.x;d=a.y;if(t==="LR"||t==="RL"){i=l+(p-l)*n;o=c;s=p+(l-p)*n;u=d}if(t==="TB"||t==="BT"){i=l;o=c+(d-c)*n;s=p;u=d+(c-d)*n}}return{x1:l,y1:c,x2:p,y2:d,cpx1:i,cpy1:o,cpx2:s,cpy2:u}}var ZT=Ji();function $T(n){var r=n.mainData;var e=n.datas;if(!e){e={main:r};n.datasAttr={main:"data"}}n.datas=n.mainData=null;aC(r,e,n);q(e,function(t){q(r.TRANSFERABLE_METHODS,function(e){t.wrapMethod(e,y(KT,n))})});r.wrapMethod("cloneShallow",y(eC,n));q(r.CHANGABLE_METHODS,function(e){r.wrapMethod(e,y(QT,n))});D(e[r.dataType]===r)}function KT(e,t){if(rC(this)){var n=U({},ZT(this).datas);n[this.dataType]=t;aC(t,n,e)}else{iC(t,this.dataType,ZT(this).mainData,e)}return t}function QT(e,t){e.struct&&e.struct.update();return t}function eC(n,r){q(ZT(r).datas,function(e,t){e!==r&&iC(e.cloneShallow(),t,r,n)});return r}function tC(e){var t=ZT(this).mainData;return e==null||t==null?t:ZT(t).datas[e]}function nC(){var t=ZT(this).mainData;return t==null?[{data:t}]:w(k(ZT(t).datas),function(e){return{type:e,data:ZT(t).datas[e]}})}function rC(e){return ZT(e).mainData===e}function aC(n,e,r){ZT(n).datas={};q(e,function(e,t){iC(e,t,n,r)})}function iC(e,t,n,r){ZT(n).datas[t]=e;ZT(e).mainData=n;e.dataType=t;if(r.struct){e[r.structAttr]=r.struct;r.struct[r.datasAttr[t]]=e}e.getLinkedData=tC;e.getLinkedDataAll=nC}var oC=function(){function e(e,t){this.depth=0;this.height=0;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.isExpand=false;this.name=e||"";this.hostTree=t}e.prototype.isRemoved=function(){return this.dataIndex<0};e.prototype.eachNode=function(e,t,n){if(typeof e==="function"){n=t;t=e;e=null}e=e||{};if(P(e)){e={order:e}}var r=e.order||"preorder";var a=this[e.attr||"children"];var i;r==="preorder"&&(i=t.call(n,this));for(var o=0;!i&&o<a.length;o++){a[o].eachNode(e,t,n)}r==="postorder"&&t.call(n,this)};e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1);if(r.height>t){t=r.height}}this.height=t+1};e.prototype.getNodeById=function(e){if(this.getId()===e){return this}for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].getNodeById(e);if(a){return a}}};e.prototype.contains=function(e){if(e===this){return true}for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].contains(e);if(a){return a}}};e.prototype.getAncestors=function(e){var t=[];var n=e?this:this.parentNode;while(n){t.push(n);n=n.parentNode}t.reverse();return t};e.prototype.getAncestorsIndices=function(){var e=[];var t=this;while(t){e.push(t.dataIndex);t=t.parentNode}e.reverse();return e};e.prototype.getDescendantIndices=function(){var t=[];this.eachNode(function(e){t.push(e.dataIndex)});return t};e.prototype.getValue=function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)};e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)};e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)};e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostTree;var n=t.data.getItemModel(this.dataIndex);return n.getModel(e)};e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]};e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)};e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)};e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)};e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)};e.prototype.isAncestorOf=function(e){var t=e.parentNode;while(t){if(t===this){return true}t=t.parentNode}return false};e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)};return e}();var sC=function(){function i(e){this.type="tree";this._nodes=[];this.hostModel=e}i.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)};i.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]};i.prototype.getNodeById=function(e){return this.root.getNodeById(e)};i.prototype.update=function(){var e=this.data;var t=this._nodes;for(var n=0,r=t.length;n<r;n++){t[n].dataIndex=-1}for(var n=0,r=e.count();n<r;n++){t[e.getRawIndex(n)].dataIndex=n}};i.prototype.clearLayouts=function(){this.data.clearItemLayouts()};i.createTree=function(e,t,n){var o=new i(t);var s=[];var u=1;l(e);function l(e,t){var n=e.value;u=Math.max(u,N(n)?n.length:1);s.push(e);var r=new oC(Vi(e.name,""),o);t?uC(r,t):o.root=r;o._nodes.push(r);var a=e.children;if(a){for(var i=0;i<a.length;i++){l(a[i],r)}}}o.root.updateDepthAndHeight(0);var r=Qx(s,{coordDimensions:["value"],dimensionsCount:u});var a=new Jx(r,t);a.initData(s);n&&n(a);$T({mainData:a,struct:o,structAttr:"tree"});o.update();return o};return i}();function uC(e,t){var n=t.children;if(e.parentNode===t){return}n.push(e);e.parentNode=t}function lC(e,t,n){if(e&&C(t,e.type)>=0){var r=n.getData().tree.root;var a=e.targetNode;if(typeof a==="string"){a=r.getNodeById(a)}if(a&&r.contains(a)){return{node:a}}var i=e.targetNodeId;if(i!=null&&(a=r.getNodeById(i))){return{node:a}}}}function pC(e){var t=[];while(e){e=e.parentNode;e&&t.push(e)}return t.reverse()}function cC(e,t){var n=pC(e);return C(n,t)>=0}function dC(e,t){var n=[];while(e){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)});e=e.parentNode}n.reverse();return n}var gC=function(r){b(e,r);function e(){var e=r!==null&&r.apply(this,arguments)||this;e.hasSymbolVisual=true;e.ignoreStyleOnData=true;return e}e.prototype.getInitialData=function(e){var t={name:e.name,children:e.data};var n=e.leaves||{};var r=new A(n,this,this.ecModel);var a=sC.createTree(t,this,i);function i(e){e.wrapMethod("getItemModel",function(e,t){var n=a.getNodeByDataIndex(t);if(!(n&&n.children.length&&n.isExpand)){e.parentModel=r}return e})}var o=0;a.eachNode("preorder",function(e){if(e.depth>o){o=e.depth}});var s=e.expandAndCollapse;var u=s&&e.initialTreeDepth>=0?e.initialTreeDepth:o;a.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&t.collapsed!=null?!t.collapsed:e.depth<=u});return a.data};e.prototype.getOrient=function(){var e=this.get("orient");if(e==="horizontal"){e="LR"}else if(e==="vertical"){e="TB"}return e};e.prototype.setZoom=function(e){this.option.zoom=e};e.prototype.setCenter=function(e){this.option.center=e};e.prototype.formatTooltip=function(e,t,n){var r=this.getData().tree;var a=r.root.children[0];var i=r.getNodeByDataIndex(e);var o=i.getValue();var s=i.name;while(i&&i!==a){s=i.parentNode.name+"."+s;i=i.parentNode}return Zh("nameValue",{name:s,value:o,noValue:isNaN(o)||o==null})};e.prototype.getDataParams=function(e){var t=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(e);t.treeAncestors=dC(n,this);return t};e.type="series.tree";e.layoutMode="box";e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:false,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:true},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500};return e}(bf);function mC(e,t,n){var r=[e];var a=[];var i;while(i=r.pop()){a.push(i);if(i.isExpand){var o=i.children;if(o.length){for(var s=0;s<o.length;s++){r.push(o[s])}}}}while(i=a.pop()){t(i,n)}}function bC(e,t){var n=[e];var r;while(r=n.pop()){t(r);if(r.isExpand){var a=r.children;if(a.length){for(var i=a.length-1;i>=0;i--){n.push(a[i])}}}}}function hC(e,t){e.eachSeriesByType("tree",function(e){fC(e,t)})}function fC(e,t){var n=LT(e,t);e.layoutInfo=n;var r=e.get("layout");var a=0;var i=0;var o=null;if(r==="radial"){a=2*Math.PI;i=Math.min(n.height,n.width)/2;o=PT(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})}else{a=n.width;i=n.height;o=PT()}var s=e.getData().tree.root;var u=s.children[0];if(u){wT(s);mC(u,kT,o);s.hierNode.modifier=-u.hierNode.prelim;bC(u,NT);var l=u;var p=u;var c=u;bC(u,function(e){var t=e.getLayout().x;if(t<l.getLayout().x){l=e}if(t>p.getLayout().x){p=e}if(e.depth>c.depth){c=e}});var d=l===p?1:o(l,p)/2;var g=d-l.getLayout().x;var m=0;var b=0;var h=0;var f=0;if(r==="radial"){m=a/(p.getLayout().x+d+g);b=i/(c.depth-1||1);bC(u,function(e){h=(e.getLayout().x+g)*m;f=(e.depth-1)*b;var t=ET(h,f);e.setLayout({x:t.x,y:t.y,rawX:h,rawY:f},true)})}else{var v=e.getOrient();if(v==="RL"||v==="LR"){b=i/(p.getLayout().x+d+g);m=a/(c.depth-1||1);bC(u,function(e){f=(e.getLayout().x+g)*b;h=v==="LR"?(e.depth-1)*m:a-(e.depth-1)*m;e.setLayout({x:h,y:f},true)})}else if(v==="TB"||v==="BT"){m=a/(p.getLayout().x+d+g);b=i/(c.depth-1||1);bC(u,function(e){h=(e.getLayout().x+g)*m;f=v==="TB"?(e.depth-1)*b:i-(e.depth-1)*b;e.setLayout({x:h,y:f},true)})}}}}function vC(e){e.eachSeriesByType("tree",function(e){var a=e.getData();var t=a.tree;t.eachNode(function(e){var t=e.getModel();var n=t.getModel("itemStyle").getItemStyle();var r=a.ensureUniqueItemVisual(e.dataIndex,"style");U(r,n)})})}function OC(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,e){e.eachComponent({mainType:"series",subType:"tree",query:a},function(e){var t=a.dataIndex;var n=e.getData().tree;var r=n.getNodeByDataIndex(t);r.isExpand=!r.isExpand})});e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(r,e){e.eachComponent({mainType:"series",subType:"tree",query:r},function(e){var t=e.coordinateSystem;var n=_T(t,r);e.setCenter&&e.setCenter(n.center);e.setZoom&&e.setZoom(n.zoom)})})}function yC(e){e.registerChartView(HT);e.registerSeriesModel(gC);e.registerLayout(hC);e.registerVisual(vC);OC(e)}var xC=function(){};var IC=["treemapZoomToNode","treemapRender","treemapMove"];function SC(e){for(var t=0;t<IC.length;t++){e.registerAction({type:IC[t],update:"updateView"},xC)}e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"treemap",query:i},t);function t(e,t){var n=["treemapZoomToNode","treemapRootToNode"];var r=lC(i,n,e);if(r){var a=e.getViewRoot();if(a){i.direction=cC(a,r.node)?"rollUp":"drillDown"}e.resetViewRoot(r.node)}}})}function jC(r){var e=r.getData();var t=e.tree;var a={};t.eachNode(function(e){var t=e;while(t&&t.depth>1){t=t.parentNode}var n=Fm(r.ecModel,t.name||t.dataIndex+"",a);e.setVisual("decal",n)})}var _C=function(r){b(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;e.type=t.type;e.preventUsingHoverLayer=true;return e}t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};AC(n);var r=e.levels||[];var a=this.designatedVisualItemStyle={};var i=new A({itemStyle:a},this,t);r=e.levels=TC(r,t);var o=w(r||[],function(e){return new A(e,i,t)},this);var s=sC.createTree(n,this,u);function u(e){e.wrapMethod("getItemModel",function(e,t){var n=s.getNodeByDataIndex(t);var r=n?o[n.depth]:null;e.parentModel=r||i;return e})}return s.data};t.prototype.optionUpdated=function(){this.resetViewRoot()};t.prototype.formatTooltip=function(e,t,n){var r=this.getData();var a=this.getRawValue(e);var i=r.getName(e);return Zh("nameValue",{name:i,value:a})};t.prototype.getDataParams=function(e){var t=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(e);t.treePathInfo=dC(n,this);return t};t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{};U(this.layoutInfo,e)};t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;if(!t){t=this._idIndexMap=_();this._idIndexMapCount=0}var n=t.get(e);if(n==null){t.set(e,n=this._idIndexMapCount++)}return n};t.prototype.getViewRoot=function(){return this._viewRoot};t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;if(!e||e!==t&&!t.contains(e)){this._viewRoot=t}};t.prototype.enableAriaDecal=function(){jC(this)};t.type="series.treemap";t.layoutMode="box";t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:false,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]};return t}(bf);function AC(e){var n=0;q(e.children,function(e){AC(e);var t=e.value;N(t)&&(t=t[0]);n+=t});var t=e.value;if(N(t)){t=t[0]}if(t==null||isNaN(t)){t=n}if(t<0){t=0}N(e.value)?e.value[0]=t:e.value=t}function TC(e,t){var n=_i(t.get("color"));var r=_i(t.get(["aria","decal","decals"]));if(!n){return}e=e||[];var a;var i;q(e,function(e){var t=new A(e);var n=t.get("color");var r=t.get("decal");if(t.get(["itemStyle","color"])||n&&n!=="none"){a=true}if(t.get(["itemStyle","decal"])||r&&r!=="none"){i=true}});var o=e[0]||(e[0]={});if(!a){o.color=n.slice()}if(!i&&r){o.decal=r.slice()}return e}var CC=8;var wC=8;var kC=5;var NC=function(){function e(e){this.group=new F;e.add(this.group)}e.prototype.render=function(e,t,n,r){var a=e.getModel("breadcrumb");var i=this.group;i.removeAll();if(!a.get("show")||!n){return}var o=a.getModel("itemStyle");var s=o.getModel("textStyle");var u={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,s);this._renderContent(e,u,o,s,r);sm(i,u.pos,u.box)};e.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var a=Vi(r.getModel().get("name"),"");var i=n.getTextRect(a);var o=Math.max(i.width+CC*2,t.emptyItemWidth);t.totalWidth+=o+wC;t.renderList.push({node:r,text:a,width:o})}};e.prototype._renderContent=function(e,t,n,r,a){var i=0;var o=t.emptyItemWidth;var s=e.get(["breadcrumb","height"]);var u=im(t.pos,t.box);var l=t.totalWidth;var p=t.renderList;for(var c=p.length-1;c>=0;c--){var d=p[c];var g=d.node;var m=d.width;var b=d.text;if(l>u.width){l-=m-o;m=o;b=null}var h=new uc({shape:{points:PC(i,0,m,s,c===p.length-1,c===0)},style:M(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new G({style:{text:b,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:pl*1e4,onclick:y(a,g)});h.disableLabelAnimation=true;this.group.add(h);EC(h,e,g);i+=m+wC}};e.prototype.remove=function(){this.group.removeAll()};return e}();function PC(e,t,n,r,a,i){var o=[[a?e:e-kC,t],[e+n,t],[e+n,t+r],[a?e:e-kC,t+r]];!i&&o.splice(2,0,[e+n+kC,t+r/2]);!a&&o.push([e,t+r/2]);return o}function EC(e,t,n){H(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&dC(n,t)}}var LC=function(){function e(){this._storage=[];this._elExistsMap={}}e.prototype.add=function(e,t,n,r,a){if(this._elExistsMap[e.id]){return false}this._elExistsMap[e.id]=true;this._storage.push({el:e,target:t,duration:n,delay:r,easing:a});return true};e.prototype.finished=function(e){this._finishedCallback=e;return this};e.prototype.start=function(){var e=this;var t=this._storage.length;var n=function(){t--;if(t<=0){e._storage.length=0;e._elExistsMap={};e._finishedCallback&&e._finishedCallback()}};for(var r=0,a=this._storage.length;r<a;r++){var i=this._storage[r];i.el.animateTo(i.target,{duration:i.duration,delay:i.delay,easing:i.easing,setToFinal:true,done:n,aborted:n})}return this};return e}();function DC(){return new LC}var MC=F;var BC=R;var zC=3;var VC="label";var RC="upperLabel";var UC=pl*10;var FC=pl*2;var GC=pl*3;var HC=Io([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var qC=function(e){var t=HC(e);t.stroke=t.fill=t.lineWidth=null;return t};var WC=Ji();var XC=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._state="ready";e._storage=YC();return e}n.prototype.render=function(e,t,n,r){var a=t.findComponents({mainType:"series",subType:"treemap",query:r});if(C(a,e)<0){return}this.seriesModel=e;this.api=n;this.ecModel=t;var i=["treemapZoomToNode","treemapRootToNode"];var o=lC(r,i,e);var s=r&&r.type;var u=e.layoutInfo;var l=!this._oldTree;var p=this._storage;var c=s==="treemapRootToNode"&&o&&p?{rootNodeGroup:p.nodeGroup[o.node.getRawIndex()],direction:r.direction}:null;var d=this._giveContainerGroup(u);var g=this._doRender(d,e,c);!l&&(!s||s==="treemapZoomToNode"||s==="treemapRootToNode")?this._doAnimation(d,g,e,c):g.renderFinally();this._resetController(n);this._renderBreadcrumb(e,n,o)};n.prototype._giveContainerGroup=function(e){var t=this._containerGroup;if(!t){t=this._containerGroup=new MC;this._initEvents(t);this.group.add(t)}t.x=e.x;t.y=e.y;return t};n.prototype._doRender=function(e,a,i){var t=a.getData().tree;var n=this._oldTree;var o=YC();var s=YC();var u=this._storage;var l=[];function p(e,t,n,r){return JC(a,s,u,i,o,l,e,t,n,r)}c(t.root?[t.root]:[],n&&n.root?[n.root]:[],e,t===n||!n,0);var r=d(u);this._oldTree=t;this._storage=s;return{lastsForAnimation:o,willDeleteEls:r,renderFinally:g};function c(i,o,s,u,l){if(u){o=i;q(i,function(e,t){!e.isRemoved()&&n(t,t)})}else{new bx(o,i,e,e).add(n).update(n).remove(y(n,null)).execute()}function e(e){return e.getId()}function n(e,t){var n=e!=null?i[e]:null;var r=t!=null?o[t]:null;var a=p(n,r,s,l);a&&c(n&&n.viewChildren||[],r&&r.viewChildren||[],a,u,l+1)}}function d(e){var r=YC();e&&q(e,function(e,t){var n=r[t];q(e,function(e){e&&(n.push(e),WC(e).willDelete=true)})});return r}function g(){q(r,function(e){q(e,function(e){e.parent&&e.parent.remove(e)})});q(l,function(e){e.invisible=true;e.dirty()})}};n.prototype._doAnimation=function(e,i,t,u){if(!t.get("animation")){return}var n=t.get("animationDurationUpdate");var r=t.get("animationEasing");var l=(x(n)?0:n)||0;var p=(x(r)?null:r)||"cubicOut";var c=DC();q(i.willDeleteEls,function(e,s){q(e,function(e,t){if(e.invisible){return}var n=e.parent;var r;var a=WC(n);if(u&&u.direction==="drillDown"){r=n===u.rootNodeGroup?{shape:{x:0,y:0,width:a.nodeWidth,height:a.nodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var i=0;var o=0;if(!a.willDelete){i=a.nodeWidth/2;o=a.nodeHeight/2}r=s==="nodeGroup"?{x:i,y:o,style:{opacity:0}}:{shape:{x:i,y:o,width:0,height:0},style:{opacity:0}}}r&&c.add(e,r,l,0,p)})});q(this._storage,function(e,a){q(e,function(e,t){var n=i.lastsForAnimation[a][t];var r={};if(!n){return}if(e instanceof F){if(n.oldX!=null){r.x=e.x;r.y=e.y;e.x=n.oldX;e.y=n.oldY}}else{if(n.oldShape){r.shape=U({},e.shape);e.setShape(n.oldShape)}if(n.fadein){e.setStyle("opacity",0);r.style={opacity:1}}else if(e.style.opacity!==1){r.style={opacity:1}}}c.add(e,r,l,0,p)})},this);this._state="animating";c.finished(O(function(){this._state="ready";i.renderFinally()},this)).start()};n.prototype._resetController=function(e){var t=this._controller;if(!t){t=this._controller=new G4(e.getZr());t.enable(this.seriesModel.get("roam"));t.on("pan",O(this._onPan,this));t.on("zoom",O(this._onZoom,this))}var r=new z(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,n){return r.contain(t,n)})};n.prototype._clearController=function(){var e=this._controller;if(e){e.dispose();e=null}};n.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>zC||Math.abs(e.dy)>zC)){var t=this.seriesModel.getData().tree.root;if(!t){return}var n=t.getLayout();if(!n){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}};n.prototype._onZoom=function(e){var t=e.originX;var n=e.originY;if(this._state!=="animating"){var r=this.seriesModel.getData().tree.root;if(!r){return}var a=r.getLayout();if(!a){return}var i=new z(a.x,a.y,a.width,a.height);var o=this.seriesModel.layoutInfo;t-=o.x;n-=o.y;var s=Er();Br(s,s,[-t,-n]);Vr(s,s,[e.scale,e.scale]);Br(s,s,[t,n]);i.applyTransform(s);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x,y:i.y,width:i.width,height:i.height}})}};n.prototype._initEvents=function(e){var s=this;e.on("click",function(e){if(s._state!=="ready"){return}var t=s.seriesModel.get("nodeClick",true);if(!t){return}var n=s.findTarget(e.offsetX,e.offsetY);if(!n){return}var r=n.node;if(r.getLayout().isLeafRoot){s._rootToNode(n)}else{if(t==="zoomToNode"){s._zoomToNode(n)}else if(t==="link"){var a=r.hostTree.data.getItemModel(r.dataIndex);var i=a.get("link",true);var o=a.get("target",true)||"blank";i&&$g(i,o)}}},this)};n.prototype._renderBreadcrumb=function(t,e,n){var r=this;if(!n){n=t.get("leafDepth",true)!=null?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2);if(!n){n={node:t.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new NC(this.group))).render(t,e,n.node,function(e){if(r._state!=="animating"){cC(t.getViewRoot(),e)?r._rootToNode({node:e}):r._zoomToNode({node:e})}})};n.prototype.remove=function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=YC();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()};n.prototype.dispose=function(){this._clearController()};n.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})};n.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})};n.prototype.findTarget=function(a,i){var o;var e=this.seriesModel.getViewRoot();e.eachNode({attr:"viewChildren",order:"preorder"},function(e){var t=this._storage.background[e.getRawIndex()];if(t){var n=t.transformCoordToLocal(a,i);var r=t.shape;if(r.x<=n[0]&&n[0]<=r.x+r.width&&r.y<=n[1]&&n[1]<=r.y+r.height){o={node:e,offsetX:n[0],offsetY:n[1]}}else{return false}}},this);return o};n.type="treemap";return n}(m);function YC(){return{nodeGroup:[],background:[],content:[]}}function JC(c,o,s,u,l,t,d,e,n,r){if(!d){return}var g=d.getLayout();var a=c.getData();var m=d.getModel();a.setItemGraphicEl(d.dataIndex,null);if(!g||!g.isInView){return}var b=g.width;var h=g.height;var f=g.borderWidth;var v=g.invisible;var p=d.getRawIndex();var O=e&&e.getRawIndex();var i=d.viewChildren;var M=g.upperHeight;var y=i&&i.length;var x=m.getModel("itemStyle");var I=m.getModel(["emphasis","itemStyle"]);var S=m.getModel(["blur","itemStyle"]);var j=m.getModel(["select","itemStyle"]);var _=x.get("borderRadius")||0;var A=D("nodeGroup",MC);if(!A){return}n.add(A);A.x=g.x||0;A.y=g.y||0;A.markRedraw();WC(A).nodeWidth=b;WC(A).nodeHeight=h;if(g.isAboveViewRoot){return A}var T=D("background",BC,r,FC);T&&B(A,T,y&&g.upperLabelHeight);var C=m.get(["emphasis","focus"]);var w=m.get(["emphasis","blurScope"]);var k=C==="ancestor"?d.getAncestorsIndices():C==="descendant"?d.getDescendantIndices():C;if(y){if(sp(A)){op(A,false)}if(T){op(T,true);a.setItemGraphicEl(d.dataIndex,T);np(T,k,w)}}else{var N=D("content",BC,r,GC);N&&z(A,N);if(T&&sp(T)){op(T,false)}op(A,true);a.setItemGraphicEl(d.dataIndex,A);np(A,k,w)}return A;function B(e,t,n){var r=H(t);r.dataIndex=d.dataIndex;r.seriesIndex=c.seriesIndex;t.setShape({x:0,y:0,width:b,height:h,r:_});if(v){P(t)}else{t.invisible=false;var a=d.getVisual("style");var i=a.stroke;var o=qC(x);o.fill=i;var s=HC(I);s.fill=I.get("borderColor");var u=HC(S);u.fill=S.get("borderColor");var l=HC(j);l.fill=j.get("borderColor");if(n){var p=b-2*f;E(t,i,a.opacity,{x:f,y:0,width:p,height:M})}else{t.removeTextContent()}t.setStyle(o);t.ensureState("emphasis").style=s;t.ensureState("blur").style=u;t.ensureState("select").style=l;Dl(t)}e.add(t)}function z(e,t){var n=H(t);n.dataIndex=d.dataIndex;n.seriesIndex=c.seriesIndex;var r=Math.max(b-2*f,0);var a=Math.max(h-2*f,0);t.culling=true;t.setShape({x:f,y:f,width:r,height:a,r:_});if(v){P(t)}else{t.invisible=false;var i=d.getVisual("style");var o=i.fill;var s=qC(x);s.fill=o;s.decal=i.decal;var u=HC(I);var l=HC(S);var p=HC(j);E(t,o,i.opacity,null);t.setStyle(s);t.ensureState("emphasis").style=u;t.ensureState("blur").style=l;t.ensureState("select").style=p;Dl(t)}e.add(t)}function P(e){!e.invisible&&t.push(e)}function E(n,e,t,r){var a=m.getModel(r?RC:VC);var i=Vi(m.get("name"),null);var o=a.getShallow("show");fd(n,vd(m,r?RC:VC),{defaultText:o?i:null,inheritColor:e,defaultOpacity:t,labelFetcher:c,labelDataIndex:d.dataIndex});var s=n.getTextContent();var u=s.style;var l=je(u.padding||0);if(r){n.setTextConfig({layoutRect:r});s.disableLabelLayout=true}s.beforeUpdate=function(){var e=Math.max((r?r.width:n.shape.width)-l[1]-l[3],0);var t=Math.max((r?r.height:n.shape.height)-l[0]-l[2],0);if(u.width!==e||u.height!==t){s.setStyle({width:e,height:t})}};u.truncateMinChar=2;u.lineOverflow="truncate";L(u,r,g);var p=s.getState("emphasis");L(p?p.style:null,r,g)}function L(e,t,n){var r=e?e.text:null;if(!t&&n.isLeafRoot&&r!=null){var a=c.get("drillDownIcon",true);e.text=a?a+" "+r:r}}function D(e,t,n,r){var a=O!=null&&s[e][O];var i=l[e];if(a){s[e][O]=null;V(i,a)}else if(!v){a=new t;if(a instanceof $o){a.z2=ZC(n,r)}R(i,a)}return o[e][p]=a}function V(e,t){var n=e[p]={};if(t instanceof MC){n.oldX=t.x;n.oldY=t.y}else{n.oldShape=U({},t.shape)}}function R(e,t){var n=e[p]={};var r=d.parentNode;var a=t instanceof F;if(r&&(!u||u.direction==="drillDown")){var i=0;var o=0;var s=l.background[r.getRawIndex()];if(!u&&s&&s.oldShape){i=s.oldShape.width;o=s.oldShape.height}if(a){n.oldX=0;n.oldY=o}else{n.oldShape={x:i,y:o,width:0,height:0}}}n.fadein=!a}}function ZC(e,t){return e*UC+t}var $C=q;var KC=E;var QC=-1;var e5=function(){function s(e){var t=e.mappingMethod;var n=e.type;var r=this.option=j(e);this.type=n;this.mappingMethod=t;this._normalizeData=d5[t];var a=s.visualHandlers[n];this.applyVisual=a.applyVisual;this.getColorMapper=a.getColorMapper;this._normalizedToVisual=a._normalizedToVisual[t];if(t==="piecewise"){r5(r);t5(r)}else if(t==="category"){r.categories?n5(r):r5(r,true)}else{D(t!=="linear"||r.dataExtent);r5(r)}}s.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)};s.prototype.getNormalizer=function(){return O(this._normalizeData,this)};s.listVisualTypes=function(){return k(s.visualHandlers)};s.isValidType=function(e){return s.visualHandlers.hasOwnProperty(e)};s.eachVisual=function(e,t,n){if(E(e)){q(e,t,n)}else{t.call(n,e)}};s.mapVisual=function(e,r,a){var i;var o=N(e)?[]:E(e)?{}:(i=true,null);s.eachVisual(e,function(e,t){var n=r.call(a,e,t);i?o=n:o[t]=n});return o};s.retrieveVisuals=function(n){var r={};var a;n&&$C(s.visualHandlers,function(e,t){if(n.hasOwnProperty(t)){r[t]=n[t];a=true}});return a?r:null};s.prepareVisualTypes=function(e){if(N(e)){e=e.slice()}else if(KC(e)){var n=[];$C(e,function(e,t){n.push(t)});e=n}else{return[]}e.sort(function(e,t){return t==="color"&&e!=="color"&&e.indexOf("color")===0?1:-1});return e};s.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t};s.findPieceIndex=function(r,e,t){var a;var i=Infinity;for(var n=0,o=e.length;n<o;n++){var s=e[n].value;if(s!=null){if(s===r||typeof s==="string"&&s===r+""){return n}t&&c(s,n)}}for(var n=0,o=e.length;n<o;n++){var u=e[n];var l=u.interval;var p=u.close;if(l){if(l[0]===-Infinity){if(g5(p[1],r,l[1])){return n}}else if(l[1]===Infinity){if(g5(p[0],l[0],r)){return n}}else if(g5(p[0],l[0],r)&&g5(p[1],r,l[1])){return n}t&&c(l[0],n);t&&c(l[1],n)}}if(t){return r===Infinity?e.length-1:r===-Infinity?0:a}function c(e,t){var n=Math.abs(e-r);if(n<i){i=n;a=t}}};s.visualHandlers={color:{applyVisual:o5("color"),getColorMapper:function(){var a=this.option;return O(a.mappingMethod==="category"?function(e,t){!t&&(e=this._normalizeData(e));return s5.call(this,e)}:function(e,t,n){var r=!!n;!t&&(e=this._normalizeData(e));n=En(e,a.parsedVisual,n);return r?n:Vn(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Vn(En(e,this.option.parsedVisual),"rgba")},category:s5,piecewise:function(e,t){var n=p5.call(this,t);if(n==null){n=Vn(En(e,this.option.parsedVisual),"rgba")}return n},fixed:u5}},colorHue:a5(function(e,t){return Bn(e,t)}),colorSaturation:a5(function(e,t){return Bn(e,null,t)}),colorLightness:a5(function(e,t){return Bn(e,null,null,t)}),colorAlpha:a5(function(e,t){return zn(e,t)}),decal:{applyVisual:o5("decal"),_normalizedToVisual:{linear:null,category:s5,piecewise:null,fixed:null}},opacity:{applyVisual:o5("opacity"),_normalizedToVisual:l5([0,1])},liftZ:{applyVisual:o5("liftZ"),_normalizedToVisual:{linear:u5,category:u5,piecewise:u5,fixed:u5}},symbol:{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n("symbol",r)},_normalizedToVisual:{linear:i5,category:s5,piecewise:function(e,t){var n=p5.call(this,t);if(n==null){n=i5.call(this,e)}return n},fixed:u5}},symbolSize:{applyVisual:o5("symbolSize"),_normalizedToVisual:l5([0,1])}};return s}();function t5(n){var e=n.pieceList;n.hasSpecialVisual=false;q(e,function(e,t){e.originIndex=t;if(e.visual!=null){n.hasSpecialVisual=true}})}function n5(e){var t=e.categories;var r=e.categoryMap={};var n=e.visual;$C(t,function(e,t){r[e]=t});if(!N(n)){var a=[];if(E(n)){$C(n,function(e,t){var n=r[t];a[n!=null?n:QC]=e})}else{a[QC]=n}n=c5(e,a)}for(var i=t.length-1;i>=0;i--){if(n[i]==null){delete r[t[i]];t.pop()}}}function r5(e,t){var n=e.visual;var r=[];if(E(n)){$C(n,function(e){r.push(e)})}else if(n!=null){r.push(n)}var a={color:1,symbol:1};if(!t&&r.length===1&&!a.hasOwnProperty(e.type)){r[1]=r[0]}c5(e,r)}function a5(a){return{applyVisual:function(e,t,n){var r=this.mapValueToVisual(e);n("color",a(t("color"),r))},_normalizedToVisual:l5([0,1])}}function i5(e){var t=this.option.visual;return t[Math.round(V(e,[0,1],[0,t.length-1],true))]||{}}function o5(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function s5(e){var t=this.option.visual;return t[this.option.loop&&e!==QC?e%t.length:e]}function u5(){return this.option.visual[0]}function l5(r){return{linear:function(e){return V(e,r,this.option.visual,true)},category:s5,piecewise:function(e,t){var n=p5.call(this,t);if(n==null){n=V(e,r,this.option.visual,true)}return n},fixed:u5}}function p5(e){var t=this.option;var n=t.pieceList;if(t.hasSpecialVisual){var r=e5.findPieceIndex(e,n);var a=n[r];if(a&&a.visual){return a.visual[this.type]}}}function c5(e,t){e.visual=t;if(e.type==="color"){e.parsedVisual=w(t,function(e){return Cn(e)})}return t}var d5={linear:function(e){return V(e,this.option.dataExtent,[0,1],true)},piecewise:function(e){var t=this.option.pieceList;var n=e5.findPieceIndex(e,t,true);if(n!=null){return V(n,[0,t.length-1],[0,1],true)}},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t==null?QC:t},fixed:Pe};function g5(e,t,n){return e?t<=n:t<n}var m5="itemStyle";var b5=Ji();var h5={seriesType:"treemap",reset:function(e){var t=e.getData().tree;var n=t.root;if(n.isRemoved()){return}f5(n,{},e.getViewRoot().getAncestors(),e)}};function f5(e,t,r,a){var i=e.getModel();var n=e.getLayout();var o=e.hostTree.data;if(!n||n.invisible||!n.isInView){return}var s=i.getModel(m5);var u=v5(s,t,a);var l=o.ensureUniqueItemVisual(e.dataIndex,"style");var p=s.get("borderColor");var c=s.get("borderColorSaturation");var d;if(c!=null){d=O5(u);p=y5(c,d)}l.stroke=p;var g=e.viewChildren;if(!g||!g.length){d=O5(u);l.fill=d}else{var m=I5(e,i,n,s,u,g);q(g,function(e,t){if(e.depth>=r.length||e===r[e.depth]){var n=j5(i,u,e,t,m,a);f5(e,n,r,a)}})}}function v5(n,r,e){var a=U({},r);var i=e.designatedVisualItemStyle;q(["color","colorAlpha","colorSaturation"],function(e){i[e]=r[e];var t=n.get(e);i[e]=null;t!=null&&(a[e]=t)});return a}function O5(e){var t=x5(e,"color");if(t){var n=x5(e,"colorAlpha");var r=x5(e,"colorSaturation");if(r){t=Bn(t,null,null,r)}if(n){t=zn(t,n)}return t}}function y5(e,t){return t!=null?Bn(t,null,null,e):null}function x5(e,t){var n=e[t];if(n!=null&&n!=="none"){return n}}function I5(e,t,n,r,a,i){if(!i||!i.length){return}var o=S5(t,"color")||a.color!=null&&a.color!=="none"&&(S5(t,"colorAlpha")||S5(t,"colorSaturation"));if(!o){return}var s=t.get("visualMin");var u=t.get("visualMax");var l=n.dataExtent.slice();s!=null&&s<l[0]&&(l[0]=s);u!=null&&u>l[1]&&(l[1]=u);var p=t.get("colorMappingBy");var c={type:o.name,dataExtent:l,visual:o.range};if(c.type==="color"&&(p==="index"||p==="id")){c.mappingMethod="category";c.loop=true}else{c.mappingMethod="linear"}var d=new e5(c);b5(d).drColorMappingBy=p;return d}function S5(e,t){var n=e.get(t);return N(n)&&n.length?{name:t,range:n}:null}function j5(e,t,n,r,a,i){var o=U({},t);if(a){var s=a.type;var u=s==="color"&&b5(a).drColorMappingBy;var l=u==="index"?r:u==="id"?i.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[s]=a.mapValueToVisual(l)}return o}var _5=Math.max;var A5=Math.min;var T5=xe;var C5=q;var w5=["itemStyle","borderWidth"];var k5=["itemStyle","gapWidth"];var N5=["upperLabel","show"];var P5=["upperLabel","height"];var E5={seriesType:"treemap",reset:function(e,t,n,r){var a=n.getWidth();var i=n.getHeight();var o=e.option;var s=om(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()});var u=o.size||[];var l=X(T5(s.width,u[0]),a);var p=X(T5(s.height,u[1]),i);var c=r&&r.type;var d=["treemapZoomToNode","treemapRootToNode"];var g=lC(r,d,e);var m=c==="treemapRender"||c==="treemapMove"?r.rootRect:null;var b=e.getViewRoot();var h=pC(b);if(c!=="treemapMove"){var f=c==="treemapZoomToNode"?U5(e,g,b,l,p):m?[m.width,m.height]:[l,p];var v=o.sort;if(v&&v!=="asc"&&v!=="desc"){v="desc"}var O={squareRatio:o.squareRatio,sort:v,leafDepth:o.leafDepth};b.hostTree.clearLayouts();var y={x:0,y:0,width:f[0],height:f[1],area:f[0]*f[1]};b.setLayout(y);L5(b,O,false,0);y=b.getLayout();C5(h,function(e,t){var n=(h[t+1]||b).getValue();e.setLayout(U({dataExtent:[n,n],borderWidth:0,upperHeight:0},y))})}var x=e.getData().tree.root;x.setLayout(F5(s,m,g),true);e.setLayoutInfo(s);G5(x,new z(-s.x,-s.y,a,i),h,b,0)}};function L5(e,t,n,r){var a;var i;if(e.isRemoved()){return}var o=e.getLayout();a=o.width;i=o.height;var s=e.getModel();var u=s.get(w5);var l=s.get(k5)/2;var p=H5(s);var c=Math.max(u,p);var d=u-l;var g=c-l;e.setLayout({borderWidth:u,upperHeight:c,upperLabelHeight:p},true);a=_5(a-2*d,0);i=_5(i-d-g,0);var m=a*i;var b=D5(e,s,m,t,n,r);if(!b.length){return}var h={x:d,y:g,width:a,height:i};var f=A5(a,i);var v=Infinity;var O=[];O.area=0;for(var y=0,x=b.length;y<x;){var I=b[y];O.push(I);O.area+=I.getLayout().area;var S=V5(O,f,t.squareRatio);if(S<=v){y++;v=S}else{O.area-=O.pop().getLayout().area;R5(O,f,h,l,false);f=A5(h.width,h.height);O.length=O.area=0;v=Infinity}}if(O.length){R5(O,f,h,l,true)}if(!n){var j=s.get("childrenVisibleMin");if(j!=null&&m<j){n=true}}for(var y=0,x=b.length;y<x;y++){L5(b[y],t,n,r+1)}}function D5(e,t,n,r,a,i){var o=e.children||[];var s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var u=r.leafDepth!=null&&r.leafDepth<=i;if(a&&!u){return e.viewChildren=[]}o=le(o,function(e){return!e.isRemoved()});B5(o,s);var l=z5(t,o,s);if(l.sum===0){return e.viewChildren=[]}l.sum=M5(t,n,l.sum,s,o);if(l.sum===0){return e.viewChildren=[]}for(var p=0,c=o.length;p<c;p++){var d=o[p].getValue()/l.sum*n;o[p].setLayout({area:d})}if(u){o.length&&e.setLayout({isLeafRoot:true},true);o.length=0}e.viewChildren=o;e.setLayout({dataExtent:l.dataExtent},true);return o}function M5(e,t,n,r,a){if(!r){return n}var i=e.get("visibleMin");var o=a.length;var s=o;for(var u=o-1;u>=0;u--){var l=a[r==="asc"?o-u-1:u].getValue();if(l/n*t<i){s=u;n-=l}}r==="asc"?a.splice(0,o-s):a.splice(s,o-s);return n}function B5(e,r){if(r){e.sort(function(e,t){var n=r==="asc"?e.getValue()-t.getValue():t.getValue()-e.getValue();return n===0?r==="asc"?e.dataIndex-t.dataIndex:t.dataIndex-e.dataIndex:n})}return e}function z5(e,t,n){var r=0;for(var a=0,i=t.length;a<i;a++){r+=t[a].getValue()}var o=e.get("visualDimension");var s;if(!t||!t.length){s=[NaN,NaN]}else if(o==="value"&&n){s=[t[t.length-1].getValue(),t[0].getValue()];n==="asc"&&s.reverse()}else{s=[Infinity,-Infinity];C5(t,function(e){var t=e.getValue(o);t<s[0]&&(s[0]=t);t>s[1]&&(s[1]=t)})}return{sum:r,dataExtent:s}}function V5(e,t,n){var r=0;var a=Infinity;for(var i=0,o=void 0,s=e.length;i<s;i++){o=e[i].getLayout().area;if(o){o<a&&(a=o);o>r&&(r=o)}}var u=e.area*e.area;var l=t*t*n;return u?_5(l*r/u,u/(l*a)):Infinity}function R5(e,t,n,r,a){var i=t===n.width?0:1;var o=1-i;var s=["x","y"];var u=["width","height"];var l=n[s[i]];var p=t?e.area/t:0;if(a||p>n[u[o]]){p=n[u[o]]}for(var c=0,d=e.length;c<d;c++){var g=e[c];var m={};var b=p?g.getLayout().area/p:0;var h=m[u[o]]=_5(p-2*r,0);var f=n[s[i]]+n[u[i]]-l;var v=c===d-1||f<b?f:b;var O=m[u[i]]=_5(v-2*r,0);m[s[o]]=n[s[o]]+A5(r,h/2);m[s[i]]=l+A5(r,O/2);l+=v;g.setLayout(m,true)}n[s[o]]+=p;n[u[o]]-=p}function U5(e,t,n,r,a){var i=(t||{}).node;var o=[r,a];if(!i||i===n){return o}var s;var u=r*a;var l=u*e.option.zoomToNodeRatio;while(s=i.parentNode){var p=0;var c=s.children;for(var d=0,g=c.length;d<g;d++){p+=c[d].getValue()}var m=i.getValue();if(m===0){return o}l*=p/m;var b=s.getModel();var h=b.get(w5);var f=Math.max(h,H5(b));l+=4*h*h+(3*h+f)*Math.pow(l,.5);l>Qa&&(l=Qa);i=s}l<u&&(l=u);var v=Math.pow(l/u,.5);return[r*v,a*v]}function F5(e,t,n){if(t){return{x:t.x,y:t.y}}var r={x:0,y:0};if(!n){return r}var a=n.node;var i=a.getLayout();if(!i){return r}var o=[i.width/2,i.height/2];var s=a;while(s){var u=s.getLayout();o[0]+=u.x;o[1]+=u.y;s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function G5(e,t,n,r,a){var i=e.getLayout();var o=n[a];var s=o&&o===e;if(o&&!s||a===n.length&&e!==r){return}e.setLayout({isInView:true,invisible:!s&&!t.intersect(i),isAboveViewRoot:s},true);var u=new z(t.x-i.x,t.y-i.y,t.width,t.height);C5(e.viewChildren||[],function(e){G5(e,u,n,r,a+1)})}function H5(e){return e.get(N5)?e.get(P5):0}function q5(e){e.registerSeriesModel(_C);e.registerChartView(XC);e.registerVisual(h5);e.registerLayout(E5);SC(e)}function W5(e){var o=e.findComponents({mainType:"legend"});if(!o||!o.length){return}e.eachSeriesByType("graph",function(e){var t=e.getCategoriesData();var n=e.getGraph();var a=n.data;var i=t.mapArray(t.getName);a.filterSelf(function(e){var t=a.getItemModel(e);var n=t.getShallow("category");if(n!=null){if(typeof n==="number"){n=i[n]}for(var r=0;r<o.length;r++){if(!o[r].isSelected(n)){return false}}}return true})})}function X5(e){var c={};e.eachSeriesByType("graph",function(s){var u=s.getCategoriesData();var l=s.getData();var p={};u.each(function(e){var t=u.getName(e);p["ec-"+t]=e;var n=u.getItemModel(e);var r=n.getModel("itemStyle").getItemStyle();if(!r.fill){r.fill=s.getColorFromPalette(t,c)}u.setItemVisual(e,"style",r);var a=["symbol","symbolSize","symbolKeepAspect"];for(var i=0;i<a.length;i++){var o=n.getShallow(a[i],true);if(o!=null){u.setItemVisual(e,a[i],o)}}});if(u.count()){l.each(function(e){var t=l.getItemModel(e);var n=t.getShallow("category");if(n!=null){if(typeof n==="string"){n=p["ec-"+n]}var r=u.getItemVisual(n,"style");var a=l.ensureUniqueItemVisual(e,"style");U(a,r);var i=["symbol","symbolSize","symbolKeepAspect"];for(var o=0;o<i.length;o++){l.setItemVisual(e,i[o],u.getItemVisual(n,i[o]))}}})}})}function Y5(e){if(!(e instanceof Array)){e=[e,e]}return e}function J5(e){e.eachSeriesByType("graph",function(e){var u=e.getGraph();var l=e.getEdgeData();var t=Y5(e.get("edgeSymbol"));var n=Y5(e.get("edgeSymbolSize"));l.setVisual("fromSymbol",t&&t[0]);l.setVisual("toSymbol",t&&t[1]);l.setVisual("fromSymbolSize",n&&n[0]);l.setVisual("toSymbolSize",n&&n[1]);l.setVisual("style",e.getModel("lineStyle").getLineStyle());l.each(function(e){var t=l.getItemModel(e);var n=u.getEdgeByIndex(e);var r=Y5(t.getShallow("symbol",true));var a=Y5(t.getShallow("symbolSize",true));var i=t.getModel("lineStyle").getLineStyle();var o=l.ensureUniqueItemVisual(e,"style");U(o,i);switch(o.stroke){case"source":{var s=n.node1.getVisual("style");o.stroke=s&&s.fill;break}case"target":{var s=n.node2.getVisual("style");o.stroke=s&&s.fill;break}}r[0]&&n.setVisual("fromSymbol",r[0]);r[1]&&n.setVisual("toSymbol",r[1]);a[0]&&n.setVisual("fromSymbolSize",a[0]);a[1]&&n.setVisual("toSymbolSize",a[1])})})}var Z5="--\x3e";var $5=function(e){return e.get("autoCurveness")||null};var K5=function(e,t){var n=$5(e);var r=20;var a=[];if(typeof n==="number"){r=n}else if(N(n)){e.__curvenessList=n;return}if(t>r){r=t}var i=r%2?r+2:r+3;a=[];for(var o=0;o<i;o++){a.push((o%2?o+1:o)/10*(o%2?-1:1))}e.__curvenessList=a};var Q5=function(e,t,n){var r=[e.id,e.dataIndex].join(".");var a=[t.id,t.dataIndex].join(".");return[n.uid,r,a].join(Z5)};var e3=function(e){var t=e.split(Z5);return[t[0],t[2],t[1]].join(Z5)};var t3=function(e,t){var n=Q5(e.node1,e.node2,t);return t.__edgeMap[n]};var n3=function(e,t){var n=r3(Q5(e.node1,e.node2,t),t);var r=r3(Q5(e.node2,e.node1,t),t);return n+r};var r3=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function a3(e){if(!$5(e)){return}e.__curvenessList=[];e.__edgeMap={};K5(e)}function i3(e,t,n,r){if(!$5(n)){return}var a=Q5(e,t,n);var i=n.__edgeMap;var o=i[e3(a)];if(i[a]&&!o){i[a].isForward=true}else if(o&&i[a]){o.isForward=true;i[a].isForward=false}i[a]=i[a]||[];i[a].push(r)}function o3(e,t,n,r){var a=$5(t);var i=N(a);if(!a){return null}var o=t3(e,t);if(!o){return null}var s=-1;for(var u=0;u<o.length;u++){if(o[u]===n){s=u;break}}var l=n3(e,t);K5(t,l);e.lineStyle=e.lineStyle||{};var p=Q5(e.node1,e.node2,t);var c=t.__curvenessList;var d=i?0:l%2?0:1;if(!o.isForward){var g=e3(p);var m=r3(g,t);var b=c[s+m+d];if(r){if(i){if(a&&a[0]===0){return(m+d)%2?b:-b}else{return((m%2?0:1)+d)%2?b:-b}}else{return(m+d)%2?b:-b}}else{return c[s+m+d]}}else{return c[d+s]}}function s3(e){var t=e.coordinateSystem;if(t&&t.type!=="view"){return}var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])});u3(n,e)}function u3(e,o){e.eachEdge(function(e,t){var n=Ie(e.getModel().get(["lineStyle","curveness"]),-o3(e,o,t,true),0);var r=Me(e.node1.getLayout());var a=Me(e.node2.getLayout());var i=[r,a];if(+n){i.push([(r[0]+a[0])/2-(r[1]-a[1])*n,(r[1]+a[1])/2-(a[0]-r[0])*n])}e.setLayout(i)})}function l3(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout");var n=e.coordinateSystem;if(n&&n.type!=="view"){var r=e.getData();var a=[];q(n.dimensions,function(e){a=a.concat(r.mapDimensionsAll(e))});for(var i=0;i<r.count();i++){var o=[];var s=false;for(var u=0;u<a.length;u++){var l=r.get(a[u],i);if(!isNaN(l)){s=true}o.push(l)}if(s){r.setItemLayout(i,n.dataToPoint(o))}else{r.setItemLayout(i,[NaN,NaN])}}u3(r.graph,e)}else if(!t||t==="none"){s3(e)}})}function p3(e){var t=e.coordinateSystem;if(t.type!=="view"){return 1}var n=e.option.nodeScaleRatio;var r=t.scaleX;var a=t.getZoom();var i=(a-1)*n+1;return i/r}function c3(e){var t=e.getVisual("symbolSize");if(t instanceof Array){t=(t[0]+t[1])/2}return+t}var d3=Math.PI;var g3=[];function m3(u,e){var t=u.coordinateSystem;if(t&&t.type!=="view"){return}var n=t.getBoundingRect();var r=u.getData();var a=r.graph;var l=n.width/2+n.x;var p=n.height/2+n.y;var i=Math.min(n.width,n.height)/2;var o=r.count();r.setLayout({cx:l,cy:p});if(!o){return}b3[e](u,a,r,i,l,p,o);a.eachEdge(function(e,t){var n=Ie(e.getModel().get(["lineStyle","curveness"]),o3(e,u,t),0);var r=Me(e.node1.getLayout());var a=Me(e.node2.getLayout());var i;var o=(r[0]+a[0])/2;var s=(r[1]+a[1])/2;if(+n){n*=3;i=[l*n+o*(1-n),p*n+s*(1-n)]}e.setLayout([r,a,i])})}var b3={value:function(e,t,n,r,a,i,o){var s=0;var u=n.getSum("value");var l=Math.PI*2/(u||o);t.eachNode(function(e){var t=e.getValue("value");var n=l*(u?t:1)/2;s+=n;e.setLayout([r*Math.cos(s)+a,r*Math.sin(s)+i]);s+=n})},symbolSize:function(e,t,n,r,a,i,o){var s=0;g3.length=o;var u=p3(e);t.eachNode(function(e){var t=c3(e);isNaN(t)&&(t=2);t<0&&(t=0);t*=u;var n=Math.asin(t/2/r);isNaN(n)&&(n=d3/2);g3[e.dataIndex]=n;s+=n*2});var l=(2*d3-s)/o/2;var p=0;t.eachNode(function(e){var t=l+g3[e.dataIndex];p+=t;e.setLayout([r*Math.cos(p)+a,r*Math.sin(p)+i]);p+=t})}};function h3(e){e.eachSeriesByType("graph",function(e){if(e.get("layout")==="circular"){m3(e,"symbolSize")}})}var f3=Ve;function v3(e,t,n){var m=e;var b=t;var r=n.rect;var a=r.width;var i=r.height;var h=[r.x+a/2,r.y+i/2];var f=n.gravity==null?.1:n.gravity;for(var o=0;o<m.length;o++){var s=m[o];if(!s.p){s.p=Le(a*(Math.random()-.5)+h[0],i*(Math.random()-.5)+h[1])}s.pp=Me(s.p);s.edges=null}var u=n.friction==null?.6:n.friction;var v=u;var O;var y;return{warmUp:function(){v=u*.8},setFixed:function(e){m[e].fixed=true},setUnfixed:function(e){m[e].fixed=false},beforeStep:function(e){O=e},afterStep:function(e){y=e},step:function(e){O&&O(m,b);var t=[];var n=m.length;for(var r=0;r<b.length;r++){var a=b[r];if(a.ignoreForceLayout){continue}var i=a.n1;var o=a.n2;Re(t,o.p,i.p);var s=Ue(t)-a.d;var u=o.w/(i.w+o.w);if(isNaN(u)){u=0}Je(t,t);!i.fixed&&f3(i.p,i.p,t,u*s*v);!o.fixed&&f3(o.p,o.p,t,-(1-u)*s*v)}for(var r=0;r<n;r++){var l=m[r];if(!l.fixed){Re(t,h,l.p);f3(l.p,l.p,t,f*v)}}for(var r=0;r<n;r++){var i=m[r];for(var p=r+1;p<n;p++){var o=m[p];Re(t,o.p,i.p);var s=Ue(t);if(s===0){Be(t,Math.random()-.5,Math.random()-.5);s=1}var c=(i.rep+o.rep)/s/s;!i.fixed&&f3(i.pp,i.pp,t,c);!o.fixed&&f3(o.pp,o.pp,t,-c)}}var d=[];for(var r=0;r<n;r++){var l=m[r];if(!l.fixed){Re(d,l.p,l.pp);f3(l.p,l.p,d,v);De(l.pp,l.p)}}v=v*.992;var g=v<.01;y&&y(m,b,g);e&&e(g)}}}function O3(e){e.eachSeriesByType("graph",function(o){var e=o.coordinateSystem;if(e&&e.type!=="view"){return}if(o.get("layout")==="force"){var p=o.preservedPoints||{};var c=o.getGraph();var d=c.data;var t=c.edgeData;var n=o.getModel("force");var r=n.get("initLayout");if(o.preservedPoints){d.each(function(e){var t=d.getId(e);d.setItemLayout(e,p[t]||[NaN,NaN])})}else if(!r||r==="none"){s3(o)}else if(r==="circular"){m3(o,"value")}var a=d.getDataExtent("value");var s=t.getDataExtent("value");var i=n.get("repulsion");var u=n.get("edgeLength");var l=N(i)?i:[i,i];var g=N(u)?u:[u,u];g=[g[1],g[0]];var m=d.mapArray("value",function(e,t){var n=d.getItemLayout(t);var r=V(e,a,l);if(isNaN(r)){r=(l[0]+l[1])/2}return{w:r,rep:r,fixed:d.getItemModel(t).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}});var b=t.mapArray("value",function(e,t){var n=c.getEdgeByIndex(t);var r=V(e,s,g);if(isNaN(r)){r=(g[0]+g[1])/2}var a=n.getModel();var i=Ie(n.getModel().get(["lineStyle","curveness"]),-o3(n,o,t,true),0);return{n1:m[n.node1.dataIndex],n2:m[n.node2.dataIndex],d:r,curveness:i,ignoreForceLayout:a.get("ignoreForceLayout")}});var h=e.getBoundingRect();var f=v3(m,b,{rect:h,gravity:n.get("gravity"),friction:n.get("friction")});f.beforeStep(function(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n].fixed){De(e[n].p,c.getNodeByIndex(n).getLayout())}}});f.afterStep(function(e,t,n){for(var r=0,a=e.length;r<a;r++){if(!e[r].fixed){c.getNodeByIndex(r).setLayout(e[r].p)}p[d.getId(r)]=e[r].p}for(var r=0,a=t.length;r<a;r++){var i=t[r];var o=c.getEdgeByIndex(r);var s=i.n1.p;var u=i.n2.p;var l=o.getLayout();l=l?l.slice():[];l[0]=l[0]||[];l[1]=l[1]||[];De(l[0],s);De(l[1],u);if(+i.curveness){l[2]=[(s[0]+u[0])/2-(s[1]-u[1])*i.curveness,(s[1]+u[1])/2-(u[0]-s[0])*i.curveness]}o.setLayout(l)}});o.forceLayout=f;o.preservedPoints=p;f.step()}else{o.forceLayout=null}})}function y3(e,t,n){var r=U(e.getBoxLayoutParams(),{aspect:n});return om(r,{width:t.getWidth(),height:t.getHeight()})}function x3(e,g){var m=[];e.eachSeriesByType("graph",function(e){var t=e.get("coordinateSystem");if(!t||t==="view"){var n=e.getData();var r=n.mapArray(function(e){var t=n.getItemModel(e);return[+t.get("x"),+t.get("y")]});var a=[];var i=[];Ls(r,a,i);if(i[0]-a[0]===0){i[0]+=1;a[0]-=1}if(i[1]-a[1]===0){i[1]+=1;a[1]-=1}var o=(i[0]-a[0])/(i[1]-a[1]);var s=y3(e,g,o);if(isNaN(o)){a=[s.x,s.y];i=[s.x+s.width,s.y+s.height]}var u=i[0]-a[0];var l=i[1]-a[1];var p=s.width;var c=s.height;var d=e.coordinateSystem=new bT;d.zoomLimit=e.get("scaleLimit");d.setBoundingRect(a[0],a[1],u,l);d.setViewRect(s.x,s.y,p,c);d.setCenter(e.get("center"));d.setZoom(e.get("zoom"));m.push(d)}});return m}var I3=gc.prototype;var S3=fc.prototype;var j3=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.percent=1}return e}();var _3=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(j3);function A3(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var T3=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="ec-line";return t}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new j3};e.prototype.buildPath=function(e,t){if(A3(t)){I3.buildPath.call(this,e,t)}else{S3.buildPath.call(this,e,t)}};e.prototype.pointAt=function(e){if(A3(this.shape)){return I3.pointAt.call(this,e)}else{return S3.pointAt.call(this,e)}};e.prototype.tangentAt=function(e){var t=this.shape;var n=A3(t)?[t.x2-t.x1,t.y2-t.y1]:S3.tangentAt.call(this,e);return Je(n,n)};return e}(v);var C3=["fromSymbol","toSymbol"];function w3(e){return"_"+e+"Type"}function k3(e,t,n){var r=t.getItemVisual(n,e);if(!r||r==="none"){return}var a=t.getItemVisual(n,e+"Size");var i=t.getItemVisual(n,e+"Rotate");var o=t.getItemVisual(n,e+"Offset")||0;var s=t.getItemVisual(n,e+"KeepAspect");var u=N(a)?a:[a,a];var l=N(o)?o:[o,o];l[0]=X(l[0],u[0]);l[1]=X(L(l[1],l[0]),u[1]);var p=S0(r,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,s);p.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0;p.name=e;return p}function N3(e){var t=new T3({name:"line",subPixelOptimize:true});P3(t.shape,e);return t}function P3(e,t){e.x1=t[0][0];e.y1=t[0][1];e.x2=t[1][0];e.y2=t[1][1];e.percent=1;var n=t[2];if(n){e.cpx1=n[0];e.cpy1=n[1]}else{e.cpx1=NaN;e.cpy1=NaN}}var E3=function(a){b(e,a);function e(e,t,n){var r=a.call(this)||this;r._createLine(e,t,n);return r}e.prototype._createLine=function(n,r,e){var t=n.hostModel;var a=n.getItemLayout(r);var i=N3(a);i.shape.percent=0;Yc(i,{shape:{percent:1}},t,r);this.add(i);q(C3,function(e){var t=k3(e,n,r);this.add(t);this[w3(e)]=n.getItemVisual(r,e)},this);this._updateCommonStl(n,r,e)};e.prototype.updateData=function(a,i,e){var t=a.hostModel;var n=this.childOfName("line");var r=a.getItemLayout(i);var o={shape:{}};P3(o.shape,r);Y(n,o,t,i);q(C3,function(e){var t=a.getItemVisual(i,e);var n=w3(e);if(this[n]!==t){this.remove(this.childOfName(e));var r=k3(e,a,i);this.add(r)}this[n]=t},this);this._updateCommonStl(a,i,e)};e.prototype.getLinePath=function(){return this.childAt(0)};e.prototype._updateCommonStl=function(n,e,t){var r=n.hostModel;var u=this.childOfName("line");var a=t&&t.emphasisLineStyle;var i=t&&t.blurLineStyle;var o=t&&t.selectLineStyle;var s=t&&t.labelStatesModels;if(!t||n.hasItemOption){var l=n.getItemModel(e);a=l.getModel(["emphasis","lineStyle"]).getLineStyle();i=l.getModel(["blur","lineStyle"]).getLineStyle();o=l.getModel(["select","lineStyle"]).getLineStyle();s=vd(l)}var p=n.getItemVisual(e,"style");var c=p.stroke;u.useStyle(p);u.style.fill=null;u.style.strokeNoScale=true;u.ensureState("emphasis").style=a;u.ensureState("blur").style=i;u.ensureState("select").style=o;q(C3,function(e){var t=this.childOfName(e);if(t){t.setColor(c);t.style.opacity=p.opacity;for(var n=0;n<ul.length;n++){var r=ul[n];var a=u.getState(r);if(a){var i=a.style||{};var o=t.ensureState(r);var s=o.style||(o.style={});if(i.stroke!=null){s[t.__isEmptyBrush?"stroke":"fill"]=i.stroke}if(i.opacity!=null){s.opacity=i.opacity}}}t.markRedraw()}},this);var d=r.getRawValue(e);fd(this,s,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,t){return r.getFormattedLabel(e,t,n.dataType)}},inheritColor:c||"#000",defaultOpacity:p.opacity,defaultText:(d==null?n.getName(e):isFinite(d)?Wa(d):d)+""});var g=this.getTextContent();if(g){var m=s.normal;g.__align=g.style.align;g.__verticalAlign=g.style.verticalAlign;g.__position=m.get("position")||"middle";var b=m.get("distance");if(!N(b)){b=[b,b]}g.__labelDistance=b}this.setTextConfig({position:null,local:true,inside:false});tp(this)};e.prototype.highlight=function(){zl(this)};e.prototype.downplay=function(){Vl(this)};e.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))};e.prototype.setLinePoints=function(e){var t=this.childOfName("line");P3(t.shape,e);t.dirty()};e.prototype.beforeUpdate=function(){var e=this;var t=e.childOfName("fromSymbol");var n=e.childOfName("toSymbol");var r=e.getTextContent();if(!t&&!n&&(!r||r.ignore)){return}var a=1;var i=this.parent;while(i){if(i.scaleX){a/=i.scaleX}i=i.parent}var o=e.childOfName("line");if(!this.__dirty&&!o.__dirty){return}var s=o.shape.percent;var u=o.pointAt(0);var l=o.pointAt(s);var p=Re([],l,u);Je(p,p);function c(e,t){var n=e.__specifiedRotation;if(n==null){var r=o.tangentAt(t);e.attr("rotation",(t===1?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else{e.attr("rotation",n)}}if(t){t.setPosition(u);c(t,0);t.scaleX=t.scaleY=a*s;t.markRedraw()}if(n){n.setPosition(l);c(n,1);n.scaleX=n.scaleY=a*s;n.markRedraw()}if(r&&!r.ignore){r.x=r.y=0;r.originX=r.originY=0;var d=void 0;var g=void 0;var m=r.__labelDistance;var b=m[0]*a;var h=m[1]*a;var f=s/2;var v=o.tangentAt(f);var O=[v[1],-v[0]];var y=o.pointAt(f);if(O[1]>0){O[0]=-O[0];O[1]=-O[1]}var x=v[0]<0?-1:1;if(r.__position!=="start"&&r.__position!=="end"){var I=-Math.atan2(v[1],v[0]);if(l[0]<u[0]){I=Math.PI+I}r.rotation=I}var S=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-h;g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=h;g="top";break;default:S=0;g="middle"}switch(r.__position){case"end":r.x=p[0]*b+l[0];r.y=p[1]*h+l[1];d=p[0]>.8?"left":p[0]<-.8?"right":"center";g=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":r.x=-p[0]*b+u[0];r.y=-p[1]*h+u[1];d=p[0]>.8?"right":p[0]<-.8?"left":"center";g=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=b*x+u[0];r.y=u[1]+S;d=v[0]<0?"right":"left";r.originX=-b*x;r.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=y[0];r.y=y[1]+S;d="center";r.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-b*x+l[0];r.y=l[1]+S;d=v[0]>=0?"right":"left";r.originX=b*x;r.originY=-S;break}r.scaleX=r.scaleY=a;r.setStyle({verticalAlign:r.__verticalAlign||g,align:r.__align||d})}};return e}(F);var L3=function(){function e(e){this.group=new F;this._LineCtor=e||E3}e.prototype.isPersistent=function(){return true};e.prototype.updateData=function(n){var r=this;var e=this;var t=e.group;var a=e._lineData;e._lineData=n;if(!a){t.removeAll()}var i=M3(n);n.diff(a).add(function(e){r._doAdd(n,e,i)}).update(function(e,t){r._doUpdate(a,n,t,e,i)}).remove(function(e){t.remove(a.getItemGraphicEl(e))}).execute()};e.prototype.updateLayout=function(){var n=this._lineData;if(!n){return}n.eachItemGraphicEl(function(e,t){e.updateLayout(n,t)},this)};e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=M3(e);this._lineData=null;this.group.removeAll()};e.prototype.incrementalUpdate=function(e,t){function n(e){if(!e.isGroup&&!D3(e)){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var r=e.start;r<e.end;r++){var a=t.getItemLayout(r);if(z3(a)){var i=new this._LineCtor(t,r,this._seriesScope);i.traverse(n);this.group.add(i);t.setItemGraphicEl(r,i)}}};e.prototype.remove=function(){this.group.removeAll()};e.prototype._doAdd=function(e,t,n){var r=e.getItemLayout(t);if(!z3(r)){return}var a=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,a);this.group.add(a)};e.prototype._doUpdate=function(e,t,n,r,a){var i=e.getItemGraphicEl(n);if(!z3(t.getItemLayout(r))){this.group.remove(i);return}if(!i){i=new this._LineCtor(t,r,a)}else{i.updateData(t,r,a)}t.setItemGraphicEl(r,i);this.group.add(i)};return e}();function D3(e){return e.animators&&e.animators.length>0}function M3(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:vd(t)}}function B3(e){return isNaN(e[0])||isNaN(e[1])}function z3(e){return!B3(e[0])&&!B3(e[1])}var V3=[];var R3=[];var U3=[];var F3=Os;var G3=Qe;var H3=Math.abs;function q3(e,t,n){var r=e[0];var a=e[1];var i=e[2];var o=Infinity;var s;var u=n*n;var l=.1;for(var p=.1;p<=.9;p+=.1){V3[0]=F3(r[0],a[0],i[0],p);V3[1]=F3(r[1],a[1],i[1],p);var c=H3(G3(V3,t)-u);if(c<o){o=c;s=p}}for(var d=0;d<32;d++){var g=s+l;R3[0]=F3(r[0],a[0],i[0],s);R3[1]=F3(r[1],a[1],i[1],s);U3[0]=F3(r[0],a[0],i[0],g);U3[1]=F3(r[1],a[1],i[1],g);var c=G3(R3,t)-u;if(H3(c)<.01){break}var m=G3(U3,t)-u;l/=2;if(c<0){if(m>=0){s=s+l}else{s=s-l}}else{if(m>=0){s=s-l}else{s=s+l}}}return s}function W3(e,u){var l=[];var p=Ss;var c=[[],[],[]];var d=[[],[]];var g=[];u/=2;e.eachEdge(function(e,t){var n=e.getLayout();var r=e.getVisual("fromSymbol");var a=e.getVisual("toSymbol");if(!n.__original){n.__original=[Me(n[0]),Me(n[1])];if(n[2]){n.__original.push(Me(n[2]))}}var i=n.__original;if(n[2]!=null){De(c[0],i[0]);De(c[1],i[2]);De(c[2],i[1]);if(r&&r!=="none"){var o=c3(e.node1);var s=q3(c,i[0],o*u);p(c[0][0],c[1][0],c[2][0],s,l);c[0][0]=l[3];c[1][0]=l[4];p(c[0][1],c[1][1],c[2][1],s,l);c[0][1]=l[3];c[1][1]=l[4]}if(a&&a!=="none"){var o=c3(e.node2);var s=q3(c,i[1],o*u);p(c[0][0],c[1][0],c[2][0],s,l);c[1][0]=l[1];c[2][0]=l[2];p(c[0][1],c[1][1],c[2][1],s,l);c[1][1]=l[1];c[2][1]=l[2]}De(n[0],c[0]);De(n[1],c[2]);De(n[2],c[1])}else{De(d[0],i[0]);De(d[1],i[1]);Re(g,d[1],d[0]);Je(g,g);if(r&&r!=="none"){var o=c3(e.node1);Ve(d[0],d[0],g,o*u)}if(a&&a!=="none"){var o=c3(e.node2);Ve(d[1],d[1],g,-o*u)}De(n[0],d[0]);De(n[1],d[1])}})}function X3(e){return e.type==="view"}var Y3=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(e,t){var n=new k_;var r=new L3;var a=this.group;this._controller=new G4(t.getZr());this._controllerHost={target:a};a.add(n.group);a.add(r.group);this._symbolDraw=n;this._lineDraw=r;this._firstRender=true};n.prototype.render=function(e,t,n){var o=this;var r=e.coordinateSystem;this._model=e;var a=this._symbolDraw;var i=this._lineDraw;var s=this.group;if(X3(r)){var u={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};if(this._firstRender){s.attr(u)}else{Y(s,u,e)}}W3(e.getGraph(),p3(e));var p=e.getData();a.updateData(p);var l=e.getEdgeData();i.updateData(l);this._updateNodeAndLinkScale();this._updateController(e,t,n);clearTimeout(this._layoutTimeout);var c=e.forceLayout;var d=e.get(["force","layoutAnimation"]);if(c){this._startForceLayoutIteration(c,d)}p.graph.eachNode(function(e){var t=e.dataIndex;var n=e.getGraphicEl();var r=e.getModel();n.off("drag").off("dragend");var a=r.get("draggable");if(a){n.on("drag",function(){if(c){c.warmUp();!o._layouting&&o._startForceLayoutIteration(c,d);c.setFixed(t);p.setItemLayout(t,[n.x,n.y])}}).on("dragend",function(){if(c){c.setUnfixed(t)}})}n.setDraggable(a&&!!c);var i=r.get(["emphasis","focus"]);if(i==="adjacency"){H(n).focus=e.getAdjacentDataIndices()}});p.graph.eachEdge(function(e){var t=e.getGraphicEl();var n=e.getModel().get(["emphasis","focus"]);if(n==="adjacency"){H(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]}}});var g=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]);var m=p.getLayout("cx");var b=p.getLayout("cy");p.eachItemGraphicEl(function(e,t){var n=p.getItemModel(t);var r=n.get(["label","rotate"])||0;var a=e.getSymbolPath();if(g){var i=p.getItemLayout(t);var o=Math.atan2(i[1]-b,i[0]-m);if(o<0){o=Math.PI*2+o}var s=i[0]<m;if(s){o=o-Math.PI}var u=s?"left":"right";a.setTextConfig({rotation:-o,position:u,origin:"center"});var l=a.ensureState("emphasis");U(l.textConfig||(l.textConfig={}),{position:u})}else{a.setTextConfig({rotation:r*=Math.PI/180})}});this._firstRender=false};n.prototype.dispose=function(){this._controller&&this._controller.dispose();this._controllerHost=null};n.prototype._startForceLayoutIteration=function(e,n){var r=this;(function t(){e.step(function(e){r.updateLayout(r._model);(r._layouting=!e)&&(n?r._layoutTimeout=setTimeout(t,16):t())})})()};n.prototype._updateController=function(a,e,i){var t=this;var n=this._controller;var r=this._controllerHost;var o=this.group;n.setPointerChecker(function(e,t,n){var r=o.getBoundingRect();r.applyTransform(o.transform);return r.contain(t,n)&&!Z4(e,i,a)});if(!X3(a.coordinateSystem)){n.disable();return}n.enable(a.get("roam"));r.zoomLimit=a.get("scaleLimit");r.zoom=a.coordinateSystem.getZoom();n.off("pan").off("zoom").on("pan",function(e){X4(r,e.dx,e.dy);i.dispatchAction({seriesId:a.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){Y4(r,e.scale,e.originX,e.originY);i.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY});t._updateNodeAndLinkScale();W3(a.getGraph(),p3(a));t._lineDraw.updateLayout();i.updateLabelLayout()})};n.prototype._updateNodeAndLinkScale=function(){var e=this._model;var t=e.getData();var n=p3(e);t.eachItemGraphicEl(function(e,t){e.setSymbolScale(n)})};n.prototype.updateLayout=function(e){W3(e.getGraph(),p3(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()};n.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()};n.type="graph";return n}(m);function J3(e){return"_EC_"+e}var Z3=function(){function i(e){this.type="graph";this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this._directed=e||false}i.prototype.isDirected=function(){return this._directed};i.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(n[J3(e)]){if("development"!=="production"){console.error("Graph nodes have duplicate name or id")}return}var r=new $3(e,t);r.hostGraph=this;this.nodes.push(r);n[J3(e)]=r;return r};i.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]};i.prototype.getNodeById=function(e){return this._nodesMap[J3(e)]};i.prototype.addEdge=function(e,t,n){var r=this._nodesMap;var a=this._edgesMap;if(typeof e==="number"){e=this.nodes[e]}if(typeof t==="number"){t=this.nodes[t]}if(!(e instanceof $3)){e=r[J3(e)]}if(!(t instanceof $3)){t=r[J3(t)]}if(!e||!t){return}var i=e.id+"-"+t.id;var o=new K3(e,t,n);o.hostGraph=this;if(this._directed){e.outEdges.push(o);t.inEdges.push(o)}e.edges.push(o);if(e!==t){t.edges.push(o)}this.edges.push(o);a[i]=o;return o};i.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]};i.prototype.getEdge=function(e,t){if(e instanceof $3){e=e.id}if(t instanceof $3){t=t.id}var n=this._edgesMap;if(this._directed){return n[e+"-"+t]}else{return n[e+"-"+t]||n[t+"-"+e]}};i.prototype.eachNode=function(e,t){var n=this.nodes;var r=n.length;for(var a=0;a<r;a++){if(n[a].dataIndex>=0){e.call(t,n[a],a)}}};i.prototype.eachEdge=function(e,t){var n=this.edges;var r=n.length;for(var a=0;a<r;a++){if(n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0){e.call(t,n[a],a)}}};i.prototype.breadthFirstTraverse=function(e,t,n,r){if(!(t instanceof $3)){t=this._nodesMap[J3(t)]}if(!t){return}var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges";for(var i=0;i<this.nodes.length;i++){this.nodes[i].__visited=false}if(e.call(r,t,null)){return}var o=[t];while(o.length){var s=o.shift();var u=s[a];for(var i=0;i<u.length;i++){var l=u[i];var p=l.node1===s?l.node2:l.node1;if(!p.__visited){if(e.call(r,p,s)){return}o.push(p);p.__visited=true}}}};i.prototype.update=function(){var e=this.data;var n=this.edgeData;var t=this.nodes;var r=this.edges;for(var a=0,i=t.length;a<i;a++){t[a].dataIndex=-1}for(var a=0,i=e.count();a<i;a++){t[e.getRawIndex(a)].dataIndex=a}n.filterSelf(function(e){var t=r[n.getRawIndex(e)];return t.node1.dataIndex>=0&&t.node2.dataIndex>=0});for(var a=0,i=r.length;a<i;a++){r[a].dataIndex=-1}for(var a=0,i=n.count();a<i;a++){r[n.getRawIndex(a)].dataIndex=a}};i.prototype.clone=function(){var e=new i(this._directed);var t=this.nodes;var n=this.edges;for(var r=0;r<t.length;r++){e.addNode(t[r].id,t[r].dataIndex)}for(var r=0;r<n.length;r++){var a=n[r];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e};return i}();var $3=function(){function e(e,t){this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=-1;this.id=e==null?"":e;this.dataIndex=t==null?-1:t}e.prototype.degree=function(){return this.edges.length};e.prototype.inDegree=function(){return this.inEdges.length};e.prototype.outDegree=function(){return this.outEdges.length};e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostGraph;var n=t.data.getItemModel(this.dataIndex);return n.getModel(e)};e.prototype.getAdjacentDataIndices=function(){var e={edge:[],node:[]};for(var t=0;t<this.edges.length;t++){var n=this.edges[t];if(n.dataIndex<0){continue}e.edge.push(n.dataIndex);e.node.push(n.node1.dataIndex,n.node2.dataIndex)}return e};return e}();var K3=function(){function e(e,t,n){this.dataIndex=-1;this.node1=e;this.node2=t;this.dataIndex=n==null?-1:n}e.prototype.getModel=function(e){if(this.dataIndex<0){return}var t=this.hostGraph;var n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)};e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}};return e}();function Q3(n,r){return{getValue:function(e){var t=this[n][r];return t.get(t.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,t){this.dataIndex>=0&&this[n][r].setItemVisual(this.dataIndex,e,t)},getVisual:function(e){return this[n][r].getItemVisual(this.dataIndex,e)},setLayout:function(e,t){this.dataIndex>=0&&this[n][r].setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this[n][r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][r].getRawIndex(this.dataIndex)}}}oe($3,Q3("hostGraph","data"));oe(K3,Q3("hostGraph","edgeData"));function ew(e,t,n,r,a){var i=new Z3(r);for(var o=0;o<e.length;o++){i.addNode(xe(e[o].id,e[o].name,o),o)}var s=[];var u=[];var l=0;for(var o=0;o<t.length;o++){var p=t[o];var c=p.source;var d=p.target;if(i.addEdge(c,d,l)){u.push(p);s.push(xe(Vi(p.id,null),c+" > "+d));l++}}var g=n.get("coordinateSystem");var m;if(g==="cartesian2d"||g==="polar"){m=sI(e,n)}else{var b=pb.get(g);var h=b?b.dimensions||[]:[];if(C(h,"value")<0){h.concat(["value"])}var f=Qx(e,{coordDimensions:h});m=new Jx(f,n);m.initData(e)}var v=new Jx(["value"],n);v.initData(u,s);a&&a(m,v);$T({mainData:m,struct:i,structAttr:"graph",datas:{node:m,edge:v},datasAttr:{node:"data",edge:"edgeData"}});i.update();return i}var tw=function(r){b(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;e.type=t.type;e.hasSymbolVisual=true;return e}t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var t=this;function n(){return t._categoriesData}this.legendVisualProvider=new iA(n,n);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()};t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments);Ai(e,"edgeLabel",["show"])};t.prototype.getInitialData=function(e,t){var n=e.edges||e.links||[];var r=e.data||e.nodes||[];var i=this;if(r&&n){a3(this);var a=ew(r,n,this,true,o);q(a.edges,function(e){i3(e.node1,e.node2,this,e.dataIndex)},this);return a.data}function o(e,t){e.wrapMethod("getItemModel",function(e){var t=i._categoriesModels;var n=e.getShallow("category");var r=t[n];if(r){r.parentModel=e.parentModel;e.parentModel=r}return e});var r=A.prototype.getModel;function n(e,t){var n=r.call(this,e,t);n.resolveParentPath=a;return n}t.wrapMethod("getItemModel",function(e){e.resolveParentPath=a;e.getModel=n;return e});function a(e){if(e&&(e[0]==="label"||e[1]==="label")){var t=e.slice();if(e[0]==="label"){t[0]="edgeLabel"}else if(e[1]==="label"){t[1]="edgeLabel"}return t}return e}}};t.prototype.getGraph=function(){return this.getData().graph};t.prototype.getEdgeData=function(){return this.getGraph().edgeData};t.prototype.getCategoriesData=function(){return this._categoriesData};t.prototype.formatTooltip=function(e,t,n){if(n==="edge"){var r=this.getData();var a=this.getDataParams(e,n);var i=r.graph.getEdgeByIndex(e);var o=r.getName(i.node1.dataIndex);var s=r.getName(i.node2.dataIndex);var u=[];o!=null&&u.push(o);s!=null&&u.push(s);return Zh("nameValue",{name:u.join(" > "),value:a.value,noValue:a.value==null})}var l=cf({series:this,dataIndex:e,multipleSeries:t});return l};t.prototype._updateCategoriesData=function(){var e=w(this.option.categories||[],function(e){return e.value!=null?e:U({value:0},e)});var t=new Jx(["value"],this);t.initData(e);this._categoriesData=t;this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e)})};t.prototype.setZoom=function(e){this.option.zoom=e};t.prototype.setCenter=function(e){this.option.center=e};t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))};t.type="series.graph";t.dependencies=["grid","polar","geo","singleAxis","calendar"];t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,layout:null,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:true,label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return t}(bf);var nw={type:"graphRoam",event:"graphRoam",update:"none"};function rw(e){e.registerChartView(Y3);e.registerSeriesModel(tw);e.registerProcessor(W5);e.registerVisual(X5);e.registerVisual(J5);e.registerLayout(l3);e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,h3);e.registerLayout(O3);e.registerCoordinateSystem("graphView",{dimensions:bT.dimensions,create:x3});e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){});e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});e.registerAction(nw,function(r,e){e.eachComponent({mainType:"series",query:r},function(e){var t=e.coordinateSystem;var n=_T(t,r);e.setCenter&&e.setCenter(n.center);e.setZoom&&e.setZoom(n.zoom)})})}var aw=function(){function e(){this.angle=0;this.width=10;this.r=10;this.x=0;this.y=0}return e}();var iw=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="pointer";return t}e.prototype.getDefaultShape=function(){return new aw};e.prototype.buildPath=function(e,t){var n=Math.cos;var r=Math.sin;var a=t.r;var i=t.width;var o=t.angle;var s=t.x-n(o)*i*(i>=a/3?1:2);var u=t.y-r(o)*i*(i>=a/3?1:2);o=t.angle-Math.PI/2;e.moveTo(s,u);e.lineTo(t.x+n(o)*i,t.y+r(o)*i);e.lineTo(t.x+n(t.angle)*a,t.y+r(t.angle)*a);e.lineTo(t.x-n(o)*i,t.y-r(o)*i);e.lineTo(s,u)};return e}(v);function ow(e,t){var n=e.get("center");var r=t.getWidth();var a=t.getHeight();var i=Math.min(r,a);var o=X(n[0],t.getWidth());var s=X(n[1],t.getHeight());var u=X(e.get("radius"),i/2);return{cx:o,cy:s,r:u}}function sw(e,t){var n=e==null?"":e+"";if(t){if(typeof t==="string"){n=t.replace("{value}",n)}else if(typeof t==="function"){n=t(e)}}return n}var uw=Math.PI*2;var lw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){this.group.removeAll();var r=e.get(["axisLine","lineStyle","color"]);var a=ow(e,n);this._renderMain(e,t,n,r,a);this._data=e.getData()};n.prototype.dispose=function(){};n.prototype._renderMain=function(e,t,n,r,a){var i=this.group;var o=e.get("clockwise");var s=-e.get("startAngle")/180*Math.PI;var u=-e.get("endAngle")/180*Math.PI;var l=e.getModel("axisLine");var p=l.get("roundCap");var c=p?x2:ec;var d=l.get("show");var g=l.getModel("lineStyle");var m=g.get("width");var b=!((u-s)%uw)&&u!==s?uw:(u-s)%uw;var h=s;for(var f=0;d&&f<r.length;f++){var v=Math.min(Math.max(r[f][0],0),1);u=s+b*v;var O=new c({shape:{startAngle:h,endAngle:u,cx:a.cx,cy:a.cy,clockwise:o,r0:a.r-m,r:a.r},silent:true});O.setStyle({fill:r[f][1]});O.setStyle(g.getLineStyle(["color","width"]));i.add(O);h=u}var y=function(e){if(e<=0){return r[0][1]}var t;for(t=0;t<r.length;t++){if(r[t][0]>=e&&(t===0?0:r[t-1][0])<e){return r[t][1]}}return r[t-1][1]};if(!o){var x=s;s=u;u=x}this._renderTicks(e,t,n,y,a,s,u,o,m);this._renderTitleAndDetail(e,t,n,y,a);this._renderAnchor(e,a);this._renderPointer(e,t,n,y,a,s,u,o,m)};n.prototype._renderTicks=function(e,t,D,n,r,a,i,M,o){var s=this.group;var u=r.cx;var l=r.cy;var p=r.r;var c=+e.get("min");var d=+e.get("max");var g=e.getModel("splitLine");var m=e.getModel("axisTick");var b=e.getModel("axisLabel");var h=e.get("splitNumber");var f=m.get("splitNumber");var v=X(g.get("length"),p);var O=X(m.get("length"),p);var y=a;var x=(i-a)/h;var I=x/f;var S=g.getModel("lineStyle").getLineStyle();var j=m.getModel("lineStyle").getLineStyle();var _=g.get("distance");var A;var T;for(var C=0;C<=h;C++){A=Math.cos(y);T=Math.sin(y);if(g.get("show")){var w=_?_+o:o;var k=new gc({shape:{x1:A*(p-w)+u,y1:T*(p-w)+l,x2:A*(p-v-w)+u,y2:T*(p-v-w)+l},style:S,silent:true});if(S.stroke==="auto"){k.setStyle({stroke:n(C/h)})}s.add(k)}if(b.get("show")){var w=b.get("distance")+_;var N=sw(Wa(C/h*(d-c)+c),b.get("formatter"));var P=n(C/h);s.add(new G({style:Od(b,{text:N,x:A*(p-v-w)+u,y:T*(p-v-w)+l,verticalAlign:T<-.8?"top":T>.8?"bottom":"middle",align:A<-.4?"left":A>.4?"right":"center"},{inheritColor:P}),silent:true}))}if(m.get("show")&&C!==h){var w=m.get("distance");w=w?w+o:o;for(var E=0;E<=f;E++){A=Math.cos(y);T=Math.sin(y);var L=new gc({shape:{x1:A*(p-w)+u,y1:T*(p-w)+l,x2:A*(p-O-w)+u,y2:T*(p-O-w)+l},silent:true,style:j});if(j.stroke==="auto"){L.setStyle({stroke:n((C+E/f)/h)})}s.add(L);y+=I}y-=I}else{y+=x}}};n.prototype._renderPointer=function(d,e,t,u,g,l,n,p,c){var m=this.group;var b=this._data;var h=this._progressEls;var f=[];var v=d.get(["pointer","show"]);var O=d.getModel("progress");var y=O.get("show");var x=d.getData();var I=x.mapDimension("value");var r=+d.get("min");var S=+d.get("max");var j=[r,S];var _=[l,n];function A(e,t){var n=x.getItemModel(e);var r=n.getModel("pointer");var a=X(r.get("width"),g.r);var i=X(r.get("length"),g.r);var o=d.get(["pointer","icon"]);var s=r.get("offsetCenter");var u=X(s[0],g.r);var l=X(s[1],g.r);var p=r.get("keepAspect");var c;if(o){c=S0(o,u-a/2,l-i,a,i,null,p)}else{c=new iw({shape:{angle:-Math.PI/2,width:a,r:i,x:u,y:l}})}c.rotation=-(t+Math.PI/2);c.x=g.cx;c.y=g.cy;return c}function T(e,t){var n=O.get("roundCap");var r=n?x2:ec;var a=O.get("overlap");var i=a?O.get("width"):c/x.count();var o=a?g.r-i:g.r-(e+1)*i;var s=a?g.r:g.r-e*i;var u=new r({shape:{startAngle:l,endAngle:t,cx:g.cx,cy:g.cy,clockwise:p,r0:o,r:s}});a&&(u.z2=S-x.get(I,e)%S);return u}if(y||v){x.diff(b).add(function(e){if(v){var t=A(e,l);Yc(t,{rotation:-(V(x.get(I,e),j,_,true)+Math.PI/2)},d);m.add(t);x.setItemGraphicEl(e,t)}if(y){var n=T(e,l);var r=O.get("clip");Yc(n,{shape:{endAngle:V(x.get(I,e),j,_,r)}},d);m.add(n);f[e]=n}}).update(function(e,t){if(v){var n=b.getItemGraphicEl(t);var r=n?n.rotation:l;var a=A(e,r);a.rotation=r;Y(a,{rotation:-(V(x.get(I,e),j,_,true)+Math.PI/2)},d);m.add(a);x.setItemGraphicEl(e,a)}if(y){var i=h[t];var o=i?i.shape.endAngle:l;var s=T(e,o);var u=O.get("clip");Y(s,{shape:{endAngle:V(x.get(I,e),j,_,u)}},d);m.add(s);f[e]=s}}).execute();x.each(function(e){var t=x.getItemModel(e);var n=t.getModel("emphasis");if(v){var r=x.getItemGraphicEl(e);var a=x.getItemVisual(e,"style");var i=a.fill;if(r instanceof Mu){var o=r.style;r.useStyle(U({image:o.image,x:o.x,y:o.y,width:o.width,height:o.height},a))}else{r.useStyle(a);r.type!=="pointer"&&r.setColor(i)}r.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle());if(r.style.fill==="auto"){r.setStyle("fill",u(V(x.get(I,e),j,[0,1],true)))}r.z2EmphasisLift=0;ip(r,t);tp(r,n.get("focus"),n.get("blurScope"))}if(y){var s=f[e];s.useStyle(x.getItemVisual(e,"style"));s.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle());s.z2EmphasisLift=0;ip(s,t);tp(s,n.get("focus"),n.get("blurScope"))}});this._progressEls=f}};n.prototype._renderAnchor=function(e,t){var n=e.getModel("anchor");var r=n.get("show");if(r){var a=n.get("size");var i=n.get("icon");var o=n.get("offsetCenter");var s=n.get("keepAspect");var u=S0(i,t.cx-a/2+X(o[0],t.r),t.cy-a/2+X(o[1],t.r),a,a,null,s);u.z2=n.get("showAbove")?1:0;u.setStyle(n.getModel("itemStyle").getItemStyle());this.group.add(u)}};n.prototype._renderTitleAndDetail=function(v,e,t,O,y){var n=this;var x=v.getData();var I=x.mapDimension("value");var S=+v.get("min");var j=+v.get("max");var _=new F;var A=[];var T=[];var C=v.isAnimationEnabled();x.diff(this._data).add(function(e){A[e]=new G({silent:true});T[e]=new G({silent:true})}).update(function(e,t){A[e]=n._titleEls[t];T[e]=n._detailEls[t]}).execute();x.each(function(e){var t=x.getItemModel(e);var o=x.get(I,e);var n=new F;var r=O(V(o,[S,j],[0,1],true));var a=t.getModel("title");if(a.get("show")){var i=a.get("offsetCenter");var s=y.cx+X(i[0],y.r);var u=y.cy+X(i[1],y.r);var l=A[e];l.attr({style:Od(a,{x:s,y:u,text:x.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:r})});n.add(l)}var p=t.getModel("detail");if(p.get("show")){var c=p.get("offsetCenter");var d=y.cx+X(c[0],y.r);var g=y.cy+X(c[1],y.r);var m=X(p.get("width"),y.r);var b=X(p.get("height"),y.r);var h=v.get(["progress","show"])?x.getItemVisual(e,"style").fill:r;var l=T[e];var f=p.get("formatter");l.attr({style:Od(p,{x:d,y:g,text:sw(o,f),width:isNaN(m)?null:m,height:isNaN(b)?null:b,align:"center",verticalAlign:"middle"},{inheritColor:h})});wd(l,{normal:p},o,function(e){return sw(e,f)});C&&kd(l,e,x,v,{getFormattedLabel:function(e,t,n,r,a,i){return sw(i?i.interpolatedValue:o,f)}});n.add(l)}_.add(n)});this.group.add(_);this._titleEls=A;this._detailEls=T};n.type="gauge";return n}(m);var pw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.visualStyleAccessPath="itemStyle";e.useColorPaletteOnData=true;return e}n.prototype.getInitialData=function(e,t){return aA(this,["value"])};n.type="series.gauge";n.defaultOption={zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,roundCap:false,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:false,overlap:true,width:10,roundCap:false,clip:true},splitLine:{show:true,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:true,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:true,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:true,length:"60%",width:6,keepAspect:false},anchor:{show:false,showAbove:false,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:false,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:true,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:false},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:false}};return n}(bf);function cw(e){e.registerChartView(lw);e.registerSeriesModel(pw)}var dw=["itemStyle","opacity"];var gw=function(o){b(e,o);function e(e,t){var n=o.call(this)||this;var r=n;var a=new pc;var i=new G;r.setTextContent(i);n.setTextGuideLine(a);n.updateData(e,t,true);return n}e.prototype.updateData=function(e,t,n){var r=this;var a=e.hostModel;var i=e.getItemModel(t);var o=e.getItemLayout(t);var s=i.getModel("emphasis");var u=i.get(dw);u=u==null?1:u;r.useStyle(e.getItemVisual(t,"style"));r.style.lineJoin="round";if(n){r.setShape({points:o.points});r.style.opacity=0;Yc(r,{style:{opacity:u}},a,t)}else{Y(r,{style:{opacity:u},shape:{points:o.points}},a,t)}ip(r,i);this._updateLabel(e,t);tp(this,s.get("focus"),s.get("blurScope"))};e.prototype._updateLabel=function(e,t){var n=this;var r=this.getTextGuideLine();var a=n.getTextContent();var i=e.hostModel;var o=e.getItemModel(t);var s=e.getItemLayout(t);var u=s.label;var l=e.getItemVisual(t,"style");var p=l.fill;fd(a,vd(o),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}});n.setTextConfig({local:true,inside:!!u.inside,insideStroke:p,outsideFill:p});var c=u.linePoints;r.setShape({points:c});n.textGuideLineConfig={anchor:c?new W(c[0][0],c[0][1]):null};Y(a,{style:{x:u.x,y:u.y}},i,t);a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10});Wv(n,Xv(o),{stroke:p})};return e}(uc);var mw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.ignoreLabelLineUpdate=true;return e}n.prototype.render=function(n,e,t){var r=n.getData();var a=this._data;var i=this.group;r.diff(a).add(function(e){var t=new gw(r,e);r.setItemGraphicEl(e,t);i.add(t)}).update(function(e,t){var n=a.getItemGraphicEl(t);n.updateData(r,e);i.add(n);r.setItemGraphicEl(e,n)}).remove(function(e){var t=a.getItemGraphicEl(e);$c(t,n,e)}).execute();this._data=r};n.prototype.remove=function(){this.group.removeAll();this._data=null};n.prototype.dispose=function(){};n.type="funnel";return n}(m);var bw=function(i){b(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;e.type=t.type;e.useColorPaletteOnData=true;return e}t.prototype.init=function(e){i.prototype.init.apply(this,arguments);this.legendVisualProvider=new iA(O(this.getData,this),O(this.getRawData,this));this._defaultLabelLine(e)};t.prototype.getInitialData=function(e,t){return aA(this,{coordDimensions:["value"],encodeDefaulter:y(Nm,this)})};t.prototype._defaultLabelLine=function(e){Ai(e,"labelLine",["show"]);var t=e.labelLine;var n=e.emphasis.labelLine;t.show=t.show&&e.label.show;n.show=n.show&&e.emphasis.label.show};t.prototype.getDataParams=function(e){var t=this.getData();var n=i.prototype.getDataParams.call(this,e);var r=t.mapDimension("value");var a=t.getSum(r);n.percent=!a?0:+(t.get(r,e)/a*100).toFixed(2);n.$vars.push("percent");return n};t.type="series.funnel";t.defaultOption={zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}},select:{itemStyle:{borderColor:"#212121"}}};return t}(bf);function hw(e,t){return om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function fw(e,t){var n=e.mapDimension("value");var r=e.mapArray(n,function(e){return e});var a=[];var i=t==="ascending";for(var o=0,s=e.count();o<s;o++){a[o]=o}if(typeof t==="function"){a.sort(t)}else if(t!=="none"){a.sort(function(e,t){return i?r[e]-r[t]:r[t]-r[e]})}return a}function vw(f){var e=f.hostModel;var v=e.get("orient");f.each(function(e){var t=f.getItemModel(e);var n=t.getModel("label");var r=n.get("position");var a=t.getModel("labelLine");var i=f.getItemLayout(e);var o=i.points;var s=r==="inner"||r==="inside"||r==="center"||r==="insideLeft"||r==="insideRight";var u;var l;var p;var c;if(s){if(r==="insideLeft"){l=(o[0][0]+o[3][0])/2+5;p=(o[0][1]+o[3][1])/2;u="left"}else if(r==="insideRight"){l=(o[1][0]+o[2][0])/2-5;p=(o[1][1]+o[2][1])/2;u="right"}else{l=(o[0][0]+o[1][0]+o[2][0]+o[3][0])/4;p=(o[0][1]+o[1][1]+o[2][1]+o[3][1])/4;u="center"}c=[[l,p],[l,p]]}else{var d=void 0;var g=void 0;var m=void 0;var b=void 0;var h=a.get("length");if("development"!=="production"){if(v==="vertical"&&["top","bottom"].indexOf(r)>-1){r="left";console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")}if(v==="horizontal"&&["left","right"].indexOf(r)>-1){r="bottom";console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")}}if(r==="left"){d=(o[3][0]+o[0][0])/2;g=(o[3][1]+o[0][1])/2;m=d-h;l=m-5;u="right"}else if(r==="right"){d=(o[1][0]+o[2][0])/2;g=(o[1][1]+o[2][1])/2;m=d+h;l=m+5;u="left"}else if(r==="top"){d=(o[3][0]+o[0][0])/2;g=(o[3][1]+o[0][1])/2;b=g-h;p=b-5;u="center"}else if(r==="bottom"){d=(o[1][0]+o[2][0])/2;g=(o[1][1]+o[2][1])/2;b=g+h;p=b+5;u="center"}else if(r==="rightTop"){d=v==="horizontal"?o[3][0]:o[1][0];g=v==="horizontal"?o[3][1]:o[1][1];if(v==="horizontal"){b=g-h;p=b-5;u="center"}else{m=d+h;l=m+5;u="top"}}else if(r==="rightBottom"){d=o[2][0];g=o[2][1];if(v==="horizontal"){b=g+h;p=b+5;u="center"}else{m=d+h;l=m+5;u="bottom"}}else if(r==="leftTop"){d=o[0][0];g=v==="horizontal"?o[0][1]:o[1][1];if(v==="horizontal"){b=g-h;p=b-5;u="center"}else{m=d-h;l=m-5;u="right"}}else if(r==="leftBottom"){d=v==="horizontal"?o[1][0]:o[3][0];g=v==="horizontal"?o[1][1]:o[2][1];if(v==="horizontal"){b=g+h;p=b+5;u="center"}else{m=d-h;l=m-5;u="right"}}else{d=(o[1][0]+o[2][0])/2;g=(o[1][1]+o[2][1])/2;if(v==="horizontal"){b=g+h;p=b+5;u="center"}else{m=d+h;l=m+5;u="left"}}if(v==="horizontal"){m=d;l=m}else{b=g;p=b}c=[[d,g],[m,b]]}i.label={linePoints:c,x:l,y:p,verticalAlign:"middle",textAlign:u,inside:s}})}function Ow(e,C){e.eachSeriesByType("funnel",function(e){var u=e.getData();var l=u.mapDimension("value");var t=e.get("sort");var n=hw(e,C);var p=e.get("orient");var c=n.width;var d=n.height;var r=fw(u,t);var g=n.x;var m=n.y;var b=p==="horizontal"?[X(e.get("minSize"),d),X(e.get("maxSize"),d)]:[X(e.get("minSize"),c),X(e.get("maxSize"),c)];var a=u.getDataExtent(l);var h=e.get("min");var f=e.get("max");if(h==null){h=Math.min(a[0],0)}if(f==null){f=a[1]}var v=e.get("funnelAlign");var i=e.get("gap");var o=p==="horizontal"?c:d;var s=(o-i*(u.count()-1))/u.count();var O=function(e,t){if(p==="horizontal"){var n=u.get(l,e)||0;var r=V(n,[h,f],b,true);var a=void 0;switch(v){case"top":a=m;break;case"center":a=m+(d-r)/2;break;case"bottom":a=m+(d-r);break}return[[t,a],[t,a+r]]}var i=u.get(l,e)||0;var o=V(i,[h,f],b,true);var s;switch(v){case"left":s=g;break;case"center":s=g+(c-o)/2;break;case"right":s=g+c-o;break}return[[s,t],[s+o,t]]};if(t==="ascending"){s=-s;i=-i;if(p==="horizontal"){g+=c}else{m+=d}r=r.reverse()}for(var y=0;y<r.length;y++){var x=r[y];var I=r[y+1];var S=u.getItemModel(x);if(p==="horizontal"){var j=S.get(["itemStyle","width"]);if(j==null){j=s}else{j=X(j,c);if(t==="ascending"){j=-j}}var _=O(x,g);var A=O(I,g+j);g+=j+i;u.setItemLayout(x,{points:_.concat(A.slice().reverse())})}else{var T=S.get(["itemStyle","height"]);if(T==null){T=s}else{T=X(T,d);if(t==="ascending"){T=-T}}var _=O(x,m);var A=O(I,m+T);m+=T+i;u.setItemLayout(x,{points:_.concat(A.slice().reverse())})}}vw(u)})}function yw(e){e.registerChartView(mw);e.registerSeriesModel(bw);e.registerLayout(Ow);e.registerProcessor(J2("funnel"))}var xw=.3;var Iw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._dataGroup=new F;e._initialized=false;return e}n.prototype.init=function(){this.group.add(this._dataGroup)};n.prototype.render=function(a,e,t,n){var r=this._dataGroup;var i=a.getData();var o=this._data;var s=a.coordinateSystem;var u=s.dimensions;var l=Aw(a);i.diff(o).add(p).update(c).remove(d).execute();function p(e){var t=_w(i,r,e,u,s);Tw(t,i,e,l)}function c(e,t){var n=o.getItemGraphicEl(t);var r=jw(i,e,u,s);i.setItemGraphicEl(e,n);Y(n,{shape:{points:r}},a,e);Tw(n,i,e,l)}function d(e){var t=o.getItemGraphicEl(e);r.remove(t)}if(!this._initialized){this._initialized=true;var g=Sw(s,a,function(){setTimeout(function(){r.removeClipPath()})});r.setClipPath(g)}this._data=i};n.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=true;this._data=null;this._dataGroup.removeAll()};n.prototype.incrementalRender=function(e,t,n){var r=t.getData();var a=t.coordinateSystem;var i=a.dimensions;var o=Aw(t);for(var s=e.start;s<e.end;s++){var u=_w(r,this._dataGroup,s,i,a);u.incremental=true;Tw(u,r,s,o)}};n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null};n.type="parallel";return n}(m);function Sw(e,t,n){var r=e.model;var a=e.getRect();var i=new R({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var o=r.get("layout")==="horizontal"?"width":"height";i.setShape(o,0);Yc(i,{shape:{width:a.width,height:a.height}},t,n);return i}function jw(e,t,n,r){var a=[];for(var i=0;i<n.length;i++){var o=n[i];var s=e.get(e.mapDimension(o),t);if(!Cw(s,r.getAxis(o).type)){a.push(r.dataToPoint(s,o))}}return a}function _w(e,t,n,r,a){var i=jw(e,n,r,a);var o=new pc({shape:{points:i},z2:10});t.add(o);e.setItemGraphicEl(n,o);return o}function Aw(e){var t=e.get("smooth",true);t===true&&(t=xw);t=li(t);ye(t)&&(t=0);return{smooth:t}}function Tw(e,t,n,r){e.useStyle(t.getItemVisual(n,"style"));e.style.fill=null;e.setShape("smooth",r.smooth);var a=t.getItemModel(n);var i=a.getModel("emphasis");ip(e,a,"lineStyle");tp(e,i.get("focus"),i.get("blurScope"))}function Cw(e,t){return t==="category"?e==null:e==null||isNaN(e)}var ww=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.visualStyleAccessPath="lineStyle";e.visualDrawType="stroke";return e}n.prototype.getInitialData=function(e,t){return sI(this.getSource(),this,{useEncodeDefaulter:O(kw,null,this)})};n.prototype.getRawIndicesByActiveState=function(n){var e=this.coordinateSystem;var r=this.getData();var a=[];e.eachActiveState(r,function(e,t){if(n===e){a.push(r.getRawIndex(t))}});return a};n.type="series.parallel";n.dependencies=["parallel"];n.defaultOption={zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:false}},progressive:500,smooth:false,animationEasing:"linear"};return n}(bf);function kw(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!t){return}var n={};q(t.dimensions,function(e){var t=Nw(e);n[e]=t});return n}function Nw(e){return+e.replace("dim","")}var Pw=["lineStyle","opacity"];var Ew={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem;var o={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,i){n.eachActiveState(i,function(e,t){var n=o[e];if(e==="normal"&&i.hasItemOption){var r=i.getItemModel(t).get(Pw,true);r!=null&&(n=r)}var a=i.ensureUniqueItemVisual(t,"style");a.opacity=n},e.start,e.end)}}}};function Lw(e){Dw(e);Mw(e)}function Dw(e){if(e.parallel){return}var t=false;q(e.series,function(e){if(e&&e.type==="parallel"){t=true}});if(t){e.parallel=[{}]}}function Mw(r){var e=_i(r.parallelAxis);q(e,function(e){if(!E(e)){return}var t=e.parallelIndex||0;var n=_i(r.parallel)[t];if(n&&n.parallelAxisDefault){f(e,n.parallelAxisDefault,false)}})}var Bw=5;var zw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){this._model=e;this._api=n;if(!this._handlers){this._handlers={};q(Vw,function(e,t){n.getZr().on(t,this._handlers[t]=O(e,this))},this)}Bf(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")};n.prototype.dispose=function(e,n){q(this._handlers,function(e,t){n.getZr().off(t,e)});this._handlers=null};n.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)};n.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(U({type:"parallelAxisExpand"},e))};n.type="parallel";return n}(jf);var Vw={mousedown:function(e){if(Rw(this,"click")){this._mouseDownPoint=[e.offsetX,e.offsetY]}},mouseup:function(e){var t=this._mouseDownPoint;if(Rw(this,"click")&&t){var n=[e.offsetX,e.offsetY];var r=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(r>Bw){return}var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(this._mouseDownPoint||!Rw(this,"mousemove")){return}var t=this._model;var n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);var r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce"));this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}};function Rw(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var Uw=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(){t.prototype.init.apply(this,arguments);this.mergeOption({})};n.prototype.mergeOption=function(e){var t=this.option;e&&f(t,e,true);this._initDimensions()};n.prototype.contains=function(e,t){var n=e.get("parallelIndex");return n!=null&&t.getComponent("parallel",n)===this};n.prototype.setAxisExpand=function(t){q(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){if(t.hasOwnProperty(e)){this.option[e]=t[e]}},this)};n.prototype._initDimensions=function(){var t=this.dimensions=[];var n=this.parallelAxisIndex=[];var e=le(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);q(e,function(e){t.push("dim"+e.get("dim"));n.push(e.componentIndex)})};n.type="parallel";n.dependencies=["parallelAxis"];n.layoutMode="box";n.defaultOption={zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null};return n}(g);var Fw=function(o){b(e,o);function e(e,t,n,r,a){var i=o.call(this,e,t,n)||this;i.type=r||"value";i.axisIndex=a;return i}e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"};return e}(QS);function Gw(e,t,n,r,a,i){e=e||0;var o=n[1]-n[0];if(a!=null){a=qw(a,[0,o])}if(i!=null){i=Math.max(i,a!=null?a:0)}if(r==="all"){var s=Math.abs(t[1]-t[0]);s=qw(s,[0,o]);a=i=qw(s,[a,i]);r=0}t[0]=qw(t[0],n);t[1]=qw(t[1],n);var u=Hw(t,r);t[r]+=e;var l=a||0;var p=n.slice();u.sign<0?p[0]+=l:p[1]-=l;t[r]=qw(t[r],p);var c;c=Hw(t,r);if(a!=null&&(c.sign!==u.sign||c.span<a)){t[1-r]=t[r]+u.sign*a}c=Hw(t,r);if(i!=null&&c.span>i){t[1-r]=t[r]+c.sign*i}return t}function Hw(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function qw(e,t){return Math.min(t[1]!=null?t[1]:Infinity,Math.max(t[0]!=null?t[0]:-Infinity,e))}var Ww=q;var Xw=Math.min;var Yw=Math.max;var Jw=Math.floor;var Zw=Math.ceil;var $w=Wa;var Kw=Math.PI;var Qw=function(){function e(e,t,n){this.type="parallel";this._axesMap=_();this._axesLayout={};this.dimensions=e.dimensions;this._model=e;this._init(e,t,n)}e.prototype._init=function(e,o,t){var n=e.dimensions;var s=e.parallelAxisIndex;Ww(n,function(e,t){var n=s[t];var r=o.getComponent("parallelAxis",n);var a=this._axesMap.set(e,new Fw(e,bS(r),[0,0],r.get("type"),n));var i=a.type==="category";a.onBand=i&&r.get("boundaryGap");a.inverse=r.get("inverse");r.axis=a;a.model=r;a.coordinateSystem=r.coordinateSystem=this},this)};e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)};e.prototype.containPoint=function(e){var t=this._makeLayoutInfo();var n=t.axisBase;var r=t.layoutBase;var a=t.pixelDimIndex;var i=e[1-a];var o=e[a];return i>=n&&i<=n+t.axisLength&&o>=r&&o<=r+t.layoutLength};e.prototype.getModel=function(){return this._model};e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(e){if(!t.contains(e,r)){return}var n=e.getData();Ww(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(n,n.mapDimension(e));mS(t.scale,t.model)},this)},this)};e.prototype.resize=function(e,t){this._rect=om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes()};e.prototype.getRect=function(){return this._rect};e.prototype._makeLayoutInfo=function(){var e=this._model;var t=this._rect;var n=["x","y"];var r=["width","height"];var a=e.get("layout");var i=a==="horizontal"?0:1;var o=t[r[i]];var s=[0,o];var u=this.dimensions.length;var l=ek(e.get("axisExpandWidth"),s);var p=ek(e.get("axisExpandCount")||0,[0,u]);var c=e.get("axisExpandable")&&u>3&&u>p&&p>1&&l>0&&o>0;var d=e.get("axisExpandWindow");var g;if(!d){g=ek(l*(p-1),s);var m=e.get("axisExpandCenter")||Jw(u/2);d=[l*m-g/2];d[1]=d[0]+g}else{g=ek(d[1]-d[0],s);d[1]=d[0]+g}var b=(o-g)/(u-p);b<3&&(b=0);var h=[Jw($w(d[0]/l,1))+1,Zw($w(d[1]/l,1))-1];var f=b/l*d[0];return{layout:a,pixelDimIndex:i,layoutBase:t[n[i]],layoutLength:o,axisBase:t[n[1-i]],axisLength:t[r[1-i]],axisExpandable:c,axisExpandWidth:l,axisCollapseWidth:b,axisExpandWindow:d,axisCount:u,winInnerIndices:h,axisExpandWindow0Pos:f}};e.prototype._layoutAxes=function(){var u=this._rect;var e=this._axesMap;var t=this.dimensions;var l=this._makeLayoutInfo();var p=l.layout;e.each(function(e){var t=[0,l.axisLength];var n=e.inverse?1:0;e.setExtent(t[n],t[1-n])});Ww(t,function(e,t){var n=(l.axisExpandable?nk:tk)(t,l);var r={horizontal:{x:n.position,y:l.axisLength},vertical:{x:0,y:n.position}};var a={horizontal:Kw/2,vertical:0};var i=[r[p].x+u.x,r[p].y+u.y];var o=a[p];var s=Er();zr(s,s,o);Br(s,s,i);this._axesLayout[e]={position:i,rotation:o,transform:s,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)};e.prototype.getAxis=function(e){return this._axesMap.get(e)};e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)};e.prototype.eachActiveState=function(t,e,n,r){n==null&&(n=0);r==null&&(r=t.count());var a=this._axesMap;var i=this.dimensions;var o=[];var s=[];q(i,function(e){o.push(t.mapDimension(e));s.push(a.get(e).model)});var u=this.hasAxisBrushed();for(var l=n;l<r;l++){var p=void 0;if(!u){p="normal"}else{p="active";var c=t.getValues(o,l);for(var d=0,g=i.length;d<g;d++){var m=s[d].getActiveState(c[d]);if(m==="inactive"){p="inactive";break}}}e(p,l)}};e.prototype.hasAxisBrushed=function(){var e=this.dimensions;var t=this._axesMap;var n=false;for(var r=0,a=e.length;r<a;r++){if(t.get(e[r]).model.getActiveState()!=="normal"){n=true}}return n};e.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return ed([e,0],n.transform)};e.prototype.getAxisLayout=function(e){return j(this._axesLayout[e])};e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo();var n=t.pixelDimIndex;var r=t.axisExpandWindow.slice();var a=r[1]-r[0];var i=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e)){return{behavior:"none",axisExpandWindow:r}}var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos;var s;var u="slide";var l=t.axisCollapseWidth;var p=this._model.get("axisExpandSlideTriggerArea");var c=p[0]!=null;if(l){if(c&&l&&o<a*p[0]){u="jump";s=o-a*p[2]}else if(c&&l&&o>a*(1-p[0])){u="jump";s=o-a*(1-p[2])}else{(s=o-a*p[1])>=0&&(s=o-a*(1-p[1]))<=0&&(s=0)}s*=t.axisExpandWidth/l;s?Gw(s,r,i,"all"):u="none"}else{var d=r[1]-r[0];var g=i[1]*o/d;r=[Yw(0,g-d/2)];r[1]=Xw(i[1],r[0]+d);r[0]=r[1]-d}return{axisExpandWindow:r,behavior:u}};return e}();function ek(e,t){return Xw(Yw(e,t[0]),t[1])}function tk(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:true}}function nk(e,t){var n=t.layoutLength;var r=t.axisExpandWidth;var a=t.axisCount;var i=t.axisCollapseWidth;var o=t.winInnerIndices;var s;var u=i;var l=false;var p;if(e<o[0]){s=e*i;p=i}else if(e<=o[1]){s=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0];u=r;l=true}else{s=n-(a-1-e)*i;p=i}return{position:s,axisNameAvailableWidth:u,axisLabelShow:l,nameTruncateMaxWidth:p}}function rk(r,a){var i=[];r.eachComponent("parallel",function(e,t){var n=new Qw(e,r,a);n.name="parallel_"+t;n.resize(e,a);e.coordinateSystem=n;n.model=e;i.push(n)});r.eachSeries(function(e){if(e.get("coordinateSystem")==="parallel"){var t=e.getReferringComponents("parallel",Qi).models[0];e.coordinateSystem=t.coordinateSystem}});return i}var ak={create:rk};var ik=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.activeIntervals=[];return e}n.prototype.getAreaSelectStyle=function(){return Io([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))};n.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=j(e);if(t){for(var n=t.length-1;n>=0;n--){Xa(t[n])}}};n.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length){return"normal"}if(e==null||isNaN(+e)){return"inactive"}if(t.length===1){var n=t[0];if(n[0]<=e&&e<=n[1]){return"active"}}else{for(var r=0,a=t.length;r<a;r++){if(t[r][0]<=e&&e<=t[r][1]){return"active"}}}return"inactive"};return n}(g);oe(ik,_S);var ok=true;var sk=Math.min;var uk=Math.max;var lk=Math.pow;var pk=1e4;var ck=6;var dk=6;var gk="globalPan";var mk={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var bk={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var hk={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:true,brushMode:"single",removeOnClick:false};var fk=0;var vk=function(n){b(e,n);function e(e){var t=n.call(this)||this;t._track=[];t._covers=[];t._handlers={};if("development"!=="production"){D(e)}t._zr=e;t.group=new F;t._uid="brushController_"+fk++;q(Zk,function(e,t){this._handlers[t]=O(e,this)},t);return t}e.prototype.enableBrush=function(e){if("development"!=="production"){D(this._mounted)}this._brushType&&this._doDisableBrush();e.brushType&&this._doEnableBrush(e);return this};e.prototype._doEnableBrush=function(e){var n=this._zr;if(!this._enableGlobalPan){V4(n,gk,this._uid)}q(this._handlers,function(e,t){n.on(t,e)});this._brushType=e.brushType;this._brushOption=f(j(hk),e,true)};e.prototype._doDisableBrush=function(){var n=this._zr;R4(n,gk,this._uid);q(this._handlers,function(e,t){n.off(t,e)});this._brushType=this._brushOption=null};e.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};q(e,function(e){t[e.panelId]=j(e)})}else{this._panels=null}return this};e.prototype.mount=function(e){e=e||{};if("development"!=="production"){this._mounted=true}this._enableGlobalPan=e.enableGlobalPan;var t=this.group;this._zr.add(t);t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1});this._transform=t.getLocalTransform();return this};e.prototype.updateCovers=function(a){if("development"!=="production"){D(this._mounted)}a=w(a,function(e){return f(j(hk),e,true)});var n="\0-brush-index-";var i=this._covers;var o=this._covers=[];var s=this;var u=this._creatingCover;new bx(i,a,e,r).add(t).update(t).remove(l).execute();return this;function r(e,t){return(e.id!=null?e.id:n+t)+"-"+e.brushType}function e(e,t){return r(e.__brushOption,t)}function t(e,t){var n=a[e];if(t!=null&&i[t]===u){o[e]=i[t]}else{var r=o[e]=t!=null?(i[t].__brushOption=n,i[t]):yk(s,Ok(s,n));Sk(s,r)}}function l(e){if(i[e]!==u){s.group.remove(i[e])}}};e.prototype.unmount=function(){if("development"!=="production"){if(!this._mounted){return}}this.enableBrush(false);Tk(this);this._zr.remove(this.group);if("development"!=="production"){this._mounted=false}return this};e.prototype.dispose=function(){this.unmount();this.off()};return e}(ut);function Ok(e,t){var n=Qk[t.brushType].createCover(e,t);n.__brushOption=t;Ik(n,t);e.group.add(n);return n}function yk(e,t){var n=jk(t);if(n.endCreating){n.endCreating(e,t);Ik(t,t.__brushOption)}return t}function xk(e,t){var n=t.__brushOption;jk(t).updateCoverShape(e,t,n.range,n)}function Ik(e,t){var n=t.z;n==null&&(n=pk);e.traverse(function(e){e.z=n;e.z2=n})}function Sk(e,t){jk(t).updateCommon(e,t);xk(e,t)}function jk(e){return Qk[e.__brushOption.brushType]}function _k(e,t,n){var r=e._panels;if(!r){return ok}var a;var i=e._transform;q(r,function(e){e.isTargetByCursor(t,n,i)&&(a=e)});return a}function Ak(e,t){var n=e._panels;if(!n){return ok}var r=t.__brushOption.panelId;return r!=null?n[r]:ok}function Tk(t){var e=t._covers;var n=e.length;q(e,function(e){t.group.remove(e)},t);e.length=0;return!!n}function Ck(e,t){var n=w(e._covers,function(e){var t=e.__brushOption;var n=j(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function wk(e){var t=e._track;if(!t.length){return false}var n=t[t.length-1];var r=t[0];var a=n[0]-r[0];var i=n[1]-r[1];var o=lk(a*a+i*i,.5);return o>ck}function kk(e){var t=e.length-1;t<0&&(t=0);return[e[0],e[t]]}function Nk(t,n,e,r){var a=new F;a.add(new R({name:"main",style:Dk(e),silent:true,draggable:true,cursor:"move",drift:y(Rk,t,n,a,["n","s","w","e"]),ondragend:y(Ck,n,{isEnd:true})}));q(r,function(e){a.add(new R({name:e.join(""),style:{opacity:0},draggable:true,silent:true,invisible:true,drift:y(Rk,t,n,a,e),ondragend:y(Ck,n,{isEnd:true})}))});return a}function Pk(e,t,n,r){var a=r.brushStyle.lineWidth||0;var i=uk(a,dk);var o=n[0][0];var s=n[1][0];var u=o-a/2;var l=s-a/2;var p=n[0][1];var c=n[1][1];var d=p-i+a/2;var g=c-i+a/2;var m=p-o;var b=c-s;var h=m+a;var f=b+a;Lk(e,t,"main",o,s,m,b);if(r.transformable){Lk(e,t,"w",u,l,i,f);Lk(e,t,"e",d,l,i,f);Lk(e,t,"n",u,l,h,i);Lk(e,t,"s",u,g,h,i);Lk(e,t,"nw",u,l,i,i);Lk(e,t,"ne",d,l,i,i);Lk(e,t,"sw",u,g,i,i);Lk(e,t,"se",d,g,i,i)}}function Ek(r,a){var e=a.__brushOption;var i=e.transformable;var t=a.childAt(0);t.useStyle(Dk(e));t.attr({silent:!i,cursor:i?"move":"default"});q([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(e){var t=a.childOfName(e.join(""));var n=e.length===1?zk(r,e[0]):Vk(r,e);t&&t.attr({silent:!i,invisible:!i,cursor:i?bk[n]+"-resize":null})})}function Lk(e,t,n,r,a,i,o){var s=t.childOfName(n);s&&s.setShape(Hk(Gk(e,t,[[r,a],[r+i,a+o]])))}function Dk(e){return M({strokeNoScale:true},e.brushStyle)}function Mk(e,t,n,r){var a=[sk(e,n),sk(t,r)];var i=[uk(e,n),uk(t,r)];return[[a[0],i[0]],[a[1],i[1]]]}function Bk(e){return Qc(e.group)}function zk(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"};var r={left:"w",right:"e",top:"n",bottom:"s"};var a=td(n[t],Bk(e));return r[a]}function Vk(e,t){var n=[zk(e,t[0]),zk(e,t[1])];(n[0]==="e"||n[0]==="w")&&n.reverse();return n.join("")}function Rk(e,t,n,r,a,i){var o=n.__brushOption;var s=e.toRectRange(o.range);var u=Fk(t,a,i);q(r,function(e){var t=mk[e];s[t[0]][t[1]]+=u[t[0]]});o.range=e.fromRectRange(Mk(s[0][0],s[1][0],s[0][1],s[1][1]));Sk(t,n);Ck(t,{isEnd:false})}function Uk(e,t,n,r){var a=t.__brushOption.range;var i=Fk(e,n,r);q(a,function(e){e[0]+=i[0];e[1]+=i[1]});Sk(e,t);Ck(e,{isEnd:false})}function Fk(e,t,n){var r=e.group;var a=r.transformCoordToLocal(t,n);var i=r.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function Gk(e,t,n){var r=Ak(e,t);return r&&r!==ok?r.clipPath(n,e._transform):j(n)}function Hk(e){var t=sk(e[0][0],e[1][0]);var n=sk(e[0][1],e[1][1]);var r=uk(e[0][0],e[1][0]);var a=uk(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:a-n}}function qk(e,t,n){if(!e._brushType||Kk(e,t.offsetX,t.offsetY)){return}var r=e._zr;var a=e._covers;var i=_k(e,t,n);if(!e._dragging){for(var o=0;o<a.length;o++){var s=a[o].__brushOption;if(i&&(i===ok||s.panelId===i.panelId)&&Qk[s.brushType].contain(a[o],n[0],n[1])){return}}}i&&r.setCursorStyle("crosshair")}function Wk(e){var t=e.event;t.preventDefault&&t.preventDefault()}function Xk(e,t,n){return e.childOfName("main").contain(t,n)}function Yk(e,t,n,r){var a=e._creatingCover;var i=e._creatingPanel;var o=e._brushOption;var s;e._track.push(n.slice());if(wk(e)||a){if(i&&!a){o.brushMode==="single"&&Tk(e);var u=j(o);u.brushType=Jk(u.brushType,i);u.panelId=i===ok?null:i.panelId;a=e._creatingCover=Ok(e,u);e._covers.push(a)}if(a){var l=Qk[Jk(e._brushType,i)];var p=a.__brushOption;p.range=l.getCreatingRange(Gk(e,a,e._track));if(r){yk(e,a);l.updateCommon(e,a)}xk(e,a);s={isEnd:r}}}else if(r&&o.brushMode==="single"&&o.removeOnClick){if(_k(e,t,n)&&Tk(e)){s={isEnd:r,removeOnClick:true}}}return s}function Jk(e,t){if(e==="auto"){if("development"!=="production"){D(t&&t.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return t.defaultBrushType}return e}var Zk={mousedown:function(e){if(this._dragging){$k(this,e)}else if(!e.target||!e.target.draggable){Wk(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=_k(this,e,t);if(n){this._dragging=true;this._track=[t.slice()]}}},mousemove:function(e){var t=e.offsetX;var n=e.offsetY;var r=this.group.transformCoordToLocal(t,n);qk(this,e,r);if(this._dragging){Wk(e);var a=Yk(this,e,r,false);a&&Ck(this,a)}},mouseup:function(e){$k(this,e)}};function $k(e,t){if(e._dragging){Wk(t);var n=t.offsetX;var r=t.offsetY;var a=e.group.transformCoordToLocal(n,r);var i=Yk(e,t,a,true);e._dragging=false;e._track=[];e._creatingCover=null;i&&Ck(e,i)}}function Kk(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var Qk={lineX:eN(0),lineY:eN(1),rect:{createCover:function(e,t){function n(e){return e}return Nk({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=kk(e);return Mk(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){Pk(e,t,n,r)},updateCommon:Ek,contain:Xk},polygon:{createCover:function(e,t){var n=new F;n.add(new pc({name:"main",style:Dk(t),silent:true}));return n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0));t.add(new uc({name:"main",draggable:true,drift:y(Uk,e,t),ondragend:y(Ck,e,{isEnd:true})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:Gk(e,t,n)})},updateCommon:Ek,contain:Xk}};function eN(u){return{createCover:function(e,t){return Nk({toRectRange:function(e){var t=[e,[0,100]];u&&t.reverse();return t},fromRectRange:function(e){return e[u]}},e,t,[[["w"],["e"]],[["n"],["s"]]][u])},getCreatingRange:function(e){var t=kk(e);var n=sk(t[0][u],t[1][u]);var r=uk(t[0][u],t[1][u]);return[n,r]},updateCoverShape:function(e,t,n,r){var a;var i=Ak(e,t);if(i!==ok&&i.getLinearBrushOtherExtent){a=i.getLinearBrushOtherExtent(u)}else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-u]]}var s=[n,a];u&&s.reverse();Pk(e,t,s,r)},updateCommon:Ek,contain:Xk}}function tN(t){t=aN(t);return function(e){return id(e,t)}}function nN(a,i){a=aN(a);return function(e){var t=i!=null?i:e;var n=t?a.width:a.height;var r=t?a.x:a.y;return[r,r+(n||0)]}}function rN(e,n,r){var a=aN(e);return function(e,t){return a.contain(t[0],t[1])&&!Z4(e,n,r)}}function aN(e){return z.create(e)}var iN=["axisLine","axisTickLabel","axisName"];var oN=function(n){b(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.init=function(e,t){n.prototype.init.apply(this,arguments);(this._brushController=new vk(t.getZr())).on("brush",O(this._onBrush,this))};t.prototype.render=function(e,t,n,r){if(sN(e,t,r)){return}this.axisModel=e;this.api=n;this.group.removeAll();var a=this._axisGroup;this._axisGroup=new F;this.group.add(this._axisGroup);if(!e.get("show")){return}var i=lN(e,t);var o=i.coordinateSystem;var s=e.getAreaSelectStyle();var u=s.width;var l=e.axis.dim;var p=o.getAxisLayout(l);var c=U({strokeContainThreshold:u},p);var d=new VA(e,c);q(iN,d.add,d);this._axisGroup.add(d.getGroup());this._refreshBrushController(c,s,e,i,u,n);ad(a,this._axisGroup,e)};t.prototype._refreshBrushController=function(e,t,n,r,a,i){var o=n.axis.getExtent();var s=o[1]-o[0];var u=Math.min(30,Math.abs(s)*.1);var l=z.create({x:o[0],y:-a/2,width:s,height:a});l.x-=u;l.width+=2*u;this._brushController.mount({enableGlobalPan:true,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:tN(l),isTargetByCursor:rN(l,i,r),getLinearBrushOtherExtent:nN(l,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:true}).updateCovers(uN(n))};t.prototype._onBrush=function(e){var t=e.areas;var n=this.axisModel;var r=n.axis;var a=w(t,function(e){return[r.coordToData(e.range[0],true),r.coordToData(e.range[1],true)]});if(!n.option.realtime===e.isEnd||e.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:a})}};t.prototype.dispose=function(){this._brushController.dispose()};t.type="parallelAxis";return t}(jf);function sN(e,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function uN(e){var t=e.axis;return w(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],true),t.dataToCoord(e[1],true)]}})}function lN(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var pN={type:"axisAreaSelect",event:"axisAreaSelected"};function cN(e){e.registerAction(pN,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})});e.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})}var dN={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:true,z:10};function gN(e){e.registerComponentView(zw);e.registerComponentModel(Uw);e.registerCoordinateSystem("parallel",ak);e.registerPreprocessor(Lw);e.registerComponentModel(ik);e.registerComponentView(oN);SA(e,"parallel",ik,dN);cN(e)}function mN(e){t(gN);e.registerChartView(Iw);e.registerSeriesModel(ww);e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Ew)}var bN=function(){function e(){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.cpx1=0;this.cpy1=0;this.cpx2=0;this.cpy2=0;this.extent=0}return e}();var hN=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultShape=function(){return new bN};e.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1);e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2);if(t.orient==="vertical"){e.lineTo(t.x2+n,t.y2);e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)}else{e.lineTo(t.x2,t.y2+n);e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)}e.closePath()};e.prototype.highlight=function(){zl(this)};e.prototype.downplay=function(){Vl(this)};return e}(v);var fN=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._focusAdjacencyDisabled=false;return e}n.prototype.render=function(T,e,r){var a=this;var t=T.getGraph();var C=this.group;var n=T.layoutInfo;var w=n.width;var k=n.height;var u=T.getData();var N=T.getData("edge");var P=T.get("orient");this._model=T;C.removeAll();C.x=n.x;C.y=n.y;t.eachEdge(function(e){var t=new hN;var n=H(t);n.dataIndex=e.dataIndex;n.seriesIndex=T.seriesIndex;n.dataType="edge";var r=e.getModel();var a=r.getModel("lineStyle");var i=a.get("curveness");var o=e.node1.getLayout();var s=e.node1.getModel();var u=s.get("localX");var l=s.get("localY");var p=e.node2.getLayout();var c=e.node2.getModel();var d=c.get("localX");var g=c.get("localY");var m=e.getLayout();var b;var h;var f;var v;var O;var y;var x;var I;t.shape.extent=Math.max(1,m.dy);t.shape.orient=P;if(P==="vertical"){b=(u!=null?u*w:o.x)+m.sy;h=(l!=null?l*k:o.y)+o.dy;f=(d!=null?d*w:p.x)+m.ty;v=g!=null?g*k:p.y;O=b;y=h*(1-i)+v*i;x=f;I=h*i+v*(1-i)}else{b=(u!=null?u*w:o.x)+o.dx;h=(l!=null?l*k:o.y)+m.sy;f=d!=null?d*w:p.x;v=(g!=null?g*k:p.y)+m.ty;O=b*(1-i)+f*i;y=h;x=b*i+f*(1-i);I=v}t.setShape({x1:b,y1:h,x2:f,y2:v,cpx1:O,cpy1:y,cpx2:x,cpy2:I});t.useStyle(a.getItemStyle());switch(t.style.fill){case"source":t.style.fill=e.node1.getVisual("color");t.style.decal=e.node1.getVisual("style").decal;break;case"target":t.style.fill=e.node2.getVisual("color");t.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var S=e.node1.getVisual("color");var j=e.node2.getVisual("color");if(typeof S==="string"&&typeof j==="string"){t.style.fill=new Ic(0,0,1,0,[{color:S,offset:0},{color:j,offset:1}])}}var _=r.getModel("emphasis");ip(t,r,"lineStyle",function(e){return e.getItemStyle()});C.add(t);N.setItemGraphicEl(e.dataIndex,t);var A=_.get("focus");tp(t,A==="adjacency"?e.getAdjacentDataIndices():A,_.get("blurScope"));H(t).dataType="edge"});t.eachNode(function(e){var t=e.getLayout();var n=e.getModel();var r=n.get("localX");var a=n.get("localY");var i=n.getModel("emphasis");var o=new R({shape:{x:r!=null?r*w:t.x,y:a!=null?a*k:t.y,width:t.dx,height:t.dy},style:n.getModel("itemStyle").getItemStyle(),z2:10});fd(o,vd(n),{labelFetcher:T,labelDataIndex:e.dataIndex,defaultText:e.id});o.disableLabelAnimation=true;o.setStyle("fill",e.getVisual("color"));o.setStyle("decal",e.getVisual("style").decal);ip(o,n);C.add(o);u.setItemGraphicEl(e.dataIndex,o);H(o).dataType="node";var s=i.get("focus");tp(o,s==="adjacency"?e.getAdjacentDataIndices():s,i.get("blurScope"))});u.eachItemGraphicEl(function(e,n){var t=u.getItemModel(n);if(t.get("draggable")){e.drift=function(e,t){a._focusAdjacencyDisabled=true;this.shape.x+=e;this.shape.y+=t;this.dirty();r.dispatchAction({type:"dragNode",seriesId:T.id,dataIndex:u.getRawIndex(n),localX:this.shape.x/w,localY:this.shape.y/k})};e.ondragend=function(){a._focusAdjacencyDisabled=false};e.draggable=true;e.cursor="move"}});if(!this._data&&T.isAnimationEnabled()){C.setClipPath(vN(C.getBoundingRect(),T,function(){C.removeClipPath()}))}this._data=T.getData()};n.prototype.dispose=function(){};n.type="sankey";return n}(m);function vN(e,t,n){var r=new R({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});Yc(r,{shape:{width:e.width+20}},t,n);return r}var ON=function(i){b(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.getInitialData=function(e,t){var n=e.edges||e.links;var r=e.data||e.nodes;var a=e.levels;this.levelModels=[];var i=this.levelModels;for(var o=0;o<a.length;o++){if(a[o].depth!=null&&a[o].depth>=0){i[a[o].depth]=new A(a[o],this,t)}else{if("development"!=="production"){throw new Error("levels[i].depth is mandatory and should be natural number")}}}if(r&&n){var s=ew(r,n,this,true,u);return s.data}function u(e,t){e.wrapMethod("getItemModel",function(e,t){var n=e.parentModel;var r=n.getData().getItemLayout(t);if(r){var a=r.depth;var i=n.levelModels[a];if(i){e.parentModel=i}}return e});t.wrapMethod("getItemModel",function(e,t){var n=e.parentModel;var r=n.getGraph().getEdgeByIndex(t);var a=r.node1.getLayout();if(a){var i=a.depth;var o=n.levelModels[i];if(o){e.parentModel=o}}return e})}};t.prototype.setNodePosition=function(e,t){var n=this.option.data[e];n.localX=t[0];n.localY=t[1]};t.prototype.getGraph=function(){return this.getData().graph};t.prototype.getEdgeData=function(){return this.getGraph().edgeData};t.prototype.formatTooltip=function(e,t,n){function r(e){return isNaN(e)||e==null}if(n==="edge"){var a=this.getDataParams(e,n);var i=a.data;var o=a.value;var s=i.source+" -- "+i.target;return Zh("nameValue",{name:s,value:o,noValue:r(o)})}else{var u=this.getGraph().getNodeByIndex(e);var l=u.getLayout().value;var p=this.getDataParams(e,n).data.name;return Zh("nameValue",{name:p!=null?p+"":null,value:l,noValue:r(l)})}};t.prototype.optionUpdated=function(){};t.prototype.getDataParams=function(e,t){var n=i.prototype.getDataParams.call(this,e,t);if(n.value==null&&t==="node"){var r=this.getGraph().getNodeByIndex(e);var a=r.getLayout().value;n.value=a}return n};t.type="series.sankey";t.defaultOption={zlevel:0,z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:true,layoutIterations:32,label:{show:true,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:true},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3};return t}(bf);function yN(e,g){e.eachSeriesByType("sankey",function(e){var t=e.get("nodeWidth");var n=e.get("nodeGap");var r=xN(e,g);e.layoutInfo=r;var a=r.width;var i=r.height;var o=e.getGraph();var s=o.nodes;var u=o.edges;SN(s);var l=le(s,function(e){return e.getLayout().value===0});var p=l.length!==0?0:e.get("layoutIterations");var c=e.get("orient");var d=e.get("nodeAlign");IN(s,u,t,n,a,i,p,c,d)})}function xN(e,t){return om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function IN(e,t,n,r,a,i,o,s,u){jN(e,t,n,a,i,s,u);wN(e,t,i,a,r,o,s);FN(e,s)}function SN(e){q(e,function(e){var t=RN(e.outEdges,VN);var n=RN(e.inEdges,VN);var r=e.getValue()||0;var a=Math.max(t,n,r);e.setLayout({value:a},true)})}function jN(e,t,n,r,a,i,o){var s=[];var u=[];var l=[];var p=[];var c=0;for(var d=0;d<t.length;d++){s[d]=1}for(var d=0;d<e.length;d++){u[d]=e[d].inEdges.length;if(u[d]===0){l.push(e[d])}}var g=-1;while(l.length){for(var m=0;m<l.length;m++){var b=l[m];var h=b.hostGraph.data.getRawDataItem(b.dataIndex);var f=h.depth!=null&&h.depth>=0;if(f&&h.depth>g){g=h.depth}b.setLayout({depth:f?h.depth:c},true);i==="vertical"?b.setLayout({dy:n},true):b.setLayout({dx:n},true);for(var v=0;v<b.outEdges.length;v++){var O=b.outEdges[v];var y=t.indexOf(O);s[y]=0;var x=O.node2;var I=e.indexOf(x);if(--u[I]===0&&p.indexOf(x)<0){p.push(x)}}}++c;l=p;p=[]}for(var d=0;d<s.length;d++){if(s[d]===1){throw new Error("Sankey is a DAG, the original data has cycle!")}}var S=g>c-1?g:c-1;if(o&&o!=="left"){AN(e,o,i,S)}var j=i==="vertical"?(a-n)/S:(r-n)/S;CN(e,j,i)}function _N(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function AN(e,t,n,r){if(t==="right"){var a=[];var i=e;var o=0;while(i.length){for(var s=0;s<i.length;s++){var u=i[s];u.setLayout({skNodeHeight:o},true);for(var l=0;l<u.inEdges.length;l++){var p=u.inEdges[l];if(a.indexOf(p.node1)<0){a.push(p.node1)}}}i=a;a=[];++o}q(e,function(e){if(!_N(e)){e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},true)}})}else if(t==="justify"){TN(e,r)}}function TN(e,t){q(e,function(e){if(!_N(e)&&!e.outEdges.length){e.setLayout({depth:t},true)}})}function CN(e,n,r){q(e,function(e){var t=e.getLayout().depth*n;r==="vertical"?e.setLayout({y:t},true):e.setLayout({x:t},true)})}function wN(e,t,n,r,a,i,o){var s=kN(e,o);NN(s,t,n,r,a,o);PN(s,a,n,r,o);for(var u=1;i>0;i--){u*=.99;EN(s,u,o);PN(s,a,n,r,o);UN(s,u,o);PN(s,a,n,r,o)}}function kN(e,t){var n=[];var r=t==="vertical"?"y":"x";var a=io(e,function(e){return e.getLayout()[r]});a.keys.sort(function(e,t){return e-t});q(a.keys,function(e){n.push(a.buckets.get(e))});return n}function NN(e,t,a,i,o,s){var u=Infinity;q(e,function(e){var t=e.length;var n=0;q(e,function(e){n+=e.getLayout().value});var r=s==="vertical"?(i-(t-1)*o)/n:(a-(t-1)*o)/n;if(r<u){u=r}});q(e,function(e){q(e,function(e,t){var n=e.getLayout().value*u;if(s==="vertical"){e.setLayout({x:t},true);e.setLayout({dx:n},true)}else{e.setLayout({y:t},true);e.setLayout({dy:n},true)}})});q(t,function(e){var t=+e.getValue()*u;e.setLayout({dy:t},true)})}function PN(e,l,p,c,d){var g=d==="vertical"?"x":"y";q(e,function(e){e.sort(function(e,t){return e.getLayout()[g]-t.getLayout()[g]});var t;var n;var r;var a=0;var i=e.length;var o=d==="vertical"?"dx":"dy";for(var s=0;s<i;s++){n=e[s];r=a-n.getLayout()[g];if(r>0){t=n.getLayout()[g]+r;d==="vertical"?n.setLayout({x:t},true):n.setLayout({y:t},true)}a=n.getLayout()[g]+n.getLayout()[o]+l}var u=d==="vertical"?c:p;r=a-l-u;if(r>0){t=n.getLayout()[g]-r;d==="vertical"?n.setLayout({x:t},true):n.setLayout({y:t},true);a=t;for(var s=i-2;s>=0;--s){n=e[s];r=n.getLayout()[g]+n.getLayout()[o]+l-a;if(r>0){t=n.getLayout()[g]-r;d==="vertical"?n.setLayout({x:t},true):n.setLayout({y:t},true)}a=n.getLayout()[g]}}})}function EN(e,i,o){q(e.slice().reverse(),function(e){q(e,function(e){if(e.outEdges.length){var t=RN(e.outEdges,LN,o)/RN(e.outEdges,VN);if(isNaN(t)){var n=e.outEdges.length;t=n?RN(e.outEdges,DN,o)/n:0}if(o==="vertical"){var r=e.getLayout().x+(t-zN(e,o))*i;e.setLayout({x:r},true)}else{var a=e.getLayout().y+(t-zN(e,o))*i;e.setLayout({y:a},true)}}})})}function LN(e,t){return zN(e.node2,t)*e.getValue()}function DN(e,t){return zN(e.node2,t)}function MN(e,t){return zN(e.node1,t)*e.getValue()}function BN(e,t){return zN(e.node1,t)}function zN(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function VN(e){return e.getValue()}function RN(e,t,n){var r=0;var a=e.length;var i=-1;while(++i<a){var o=+t(e[i],n);if(!isNaN(o)){r+=o}}return r}function UN(e,i,o){q(e,function(e){q(e,function(e){if(e.inEdges.length){var t=RN(e.inEdges,MN,o)/RN(e.inEdges,VN);if(isNaN(t)){var n=e.inEdges.length;t=n?RN(e.inEdges,BN,o)/n:0}if(o==="vertical"){var r=e.getLayout().x+(t-zN(e,o))*i;e.setLayout({x:r},true)}else{var a=e.getLayout().y+(t-zN(e,o))*i;e.setLayout({y:a},true)}}})})}function FN(e,t){var n=t==="vertical"?"x":"y";q(e,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]});e.inEdges.sort(function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]})});q(e,function(e){var t=0;var n=0;q(e.outEdges,function(e){e.setLayout({sy:t},true);t+=e.getLayout().dy});q(e.inEdges,function(e){e.setLayout({ty:n},true);n+=e.getLayout().dy})})}function GN(e){e.eachSeriesByType("sankey",function(a){var e=a.getGraph();var t=e.nodes;if(t.length){var i=Infinity;var o=-Infinity;q(t,function(e){var t=e.getLayout().value;if(t<i){i=t}if(t>o){o=t}});q(t,function(e){var t=new e5({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:a.get("color")});var n=t.mapValueToVisual(e.getLayout().value);var r=e.getModel().get(["itemStyle","color"]);if(r!=null){e.setVisual("color",r);e.setVisual("style",{fill:r})}else{e.setVisual("color",n);e.setVisual("style",{fill:n})}})}})}function HN(e){e.registerChartView(fN);e.registerSeriesModel(ON);e.registerLayout(yN);e.registerVisual(GN);e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var qN=function(){function e(){}e.prototype.getInitialData=function(e,t){var n;var r=t.getComponent("xAxis",this.get("xAxisIndex"));var a=t.getComponent("yAxis",this.get("yAxisIndex"));var i=r.get("type");var o=a.get("type");var s;if(i==="category"){e.layout="horizontal";n=r.getOrdinalMeta();s=true}else if(o==="category"){e.layout="vertical";n=a.getOrdinalMeta();s=true}else{e.layout=e.layout||"horizontal"}var u=["x","y"];var l=e.layout==="horizontal"?0:1;var p=this._baseAxisDim=u[l];var c=u[1-l];var d=[r,a];var g=d[l].get("type");var m=d[1-l].get("type");var b=e.data;if(b&&s){var h=[];q(b,function(e,t){var n;if(N(e)){n=e.slice();e.unshift(t)}else if(N(e.value)){n=e.value.slice();e.value.unshift(t)}else{n=e}h.push(n)});e.data=h}var f=this.defaultValueDimensions;var v=[{name:p,type:vx(g),ordinalMeta:n,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:c,type:vx(m),dimsDef:f.slice()}];return aA(this,{coordDimensions:v,dimensionsCount:f.length+1,encodeDefaulter:y(km,v,this)})};e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis};return e}();var WN=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.defaultValueDimensions=[{name:"min",defaultTooltip:true},{name:"Q1",defaultTooltip:true},{name:"median",defaultTooltip:true},{name:"Q3",defaultTooltip:true},{name:"max",defaultTooltip:true}];e.visualDrawType="stroke";return e}n.type="series.boxplot";n.dependencies=["xAxis","yAxis","grid"];n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800};return n}(bf);oe(WN,qN,true);var XN=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var a=e.getData();var i=this.group;var o=this._data;if(!this._data){i.removeAll()}var s=e.get("layout")==="horizontal"?1:0;a.diff(o).add(function(e){if(a.hasValue(e)){var t=a.getItemLayout(e);var n=ZN(t,a,e,s,true);a.setItemGraphicEl(e,n);i.add(n)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(!a.hasValue(e)){i.remove(n);return}var r=a.getItemLayout(e);if(!n){n=ZN(r,a,e,s)}else{$N(r,n,a,e)}i.add(n);a.setItemGraphicEl(e,n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&i.remove(t)}).execute();this._data=a};n.prototype.remove=function(e){var t=this.group;var n=this._data;this._data=null;n&&n.eachItemGraphicEl(function(e){e&&t.remove(e)})};n.type="boxplot";return n}(m);var YN=function(){function e(){}return e}();var JN=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="boxplotBoxPath";return t}e.prototype.getDefaultShape=function(){return new YN};e.prototype.buildPath=function(e,t){var n=t.points;var r=0;e.moveTo(n[r][0],n[r][1]);r++;for(;r<4;r++){e.lineTo(n[r][0],n[r][1])}e.closePath();for(;r<n.length;r++){e.moveTo(n[r][0],n[r][1]);r++;e.lineTo(n[r][0],n[r][1])}};return e}(v);function ZN(e,t,n,r,a){var i=e.ends;var o=new JN({shape:{points:a?KN(i,r,e):i}});$N(e,o,t,n,a);return o}function $N(e,t,n,r,a){var i=n.hostModel;var o=gd[a?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},i,r);t.useStyle(n.getItemVisual(r,"style"));t.style.strokeNoScale=true;t.z2=100;var s=n.getItemModel(r);ip(t,s);tp(t,s.get(["emphasis","focus"]),s.get(["emphasis","blurScope"]))}function KN(e,t,n){return w(e,function(e){e=e.slice();e[t]=n.initBaseline;return e})}function QN(e,t){}var eP=q;function tP(e){var t=nP(e);eP(t,function(n){var e=n.seriesModels;if(!e.length){return}rP(n);eP(e,function(e,t){aP(e,n.boxOffsetList[t],n.boxWidthList[t])})})}function nP(e){var r=[];var a=[];e.eachSeriesByType("boxplot",function(e){var t=e.getBaseAxis();var n=C(a,t);if(n<0){n=a.length;a[n]=t;r[n]={axis:t,seriesModels:[]}}r[n].seriesModels.push(e)});return r}function rP(e){var t;var n=e.axis;var r=e.seriesModels;var a=r.length;var i=e.boxWidthList=[];var o=e.boxOffsetList=[];var s=[];var u;if(n.type==="category"){u=n.getBandWidth()}else{var l=0;eP(r,function(e){l=Math.max(l,e.getData().count())});t=n.getExtent(),Math.abs(t[1]-t[0])/l}eP(r,function(e){var t=e.get("boxWidth");if(!N(t)){t=[t,t]}s.push([X(t[0],u)||0,X(t[1],u)||0])});var p=u*.8-2;var c=p/a*.3;var d=(p-c*(a-1))/a;var g=d/2-p/2;eP(r,function(e,t){o.push(g);g+=c+d;i.push(Math.min(Math.max(d,s[t][0]),s[t][1]))})}function aP(e,o,t){var s=e.coordinateSystem;var u=e.getData();var i=t/2;var l=e.get("layout")==="horizontal"?0:1;var p=1-l;var n=["x","y"];var r=u.mapDimension(n[l]);var a=u.mapDimensionsAll(n[p]);if(r==null||a.length<5){return}for(var c=0;c<u.count();c++){var d=u.get(r,c);var g=O(d,a[2],c);var m=O(d,a[0],c);var b=O(d,a[1],c);var h=O(d,a[3],c);var f=O(d,a[4],c);var v=[];y(v,b,false);y(v,h,true);v.push(m,b,f,h);x(v,m);x(v,f);x(v,g);u.setItemLayout(c,{initBaseline:g[p],ends:v})}function O(e,t,n){var r=u.get(t,n);var a=[];a[l]=e;a[p]=r;var i;if(isNaN(e)||isNaN(r)){i=[NaN,NaN]}else{i=s.dataToPoint(a);i[l]+=o}return i}function y(e,t,n){var r=t.slice();var a=t.slice();r[l]+=i;a[l]-=i;n?e.push(r,a):e.push(a,r)}function x(e,t){var n=t.slice();var r=t.slice();n[l]-=i;r[l]+=i;e.push(n,r)}}function iP(e,t){t=t||{};var n=[];var r=[];var a=t.boundIQR;var i=a==="none"||a===0;for(var o=0;o<e.length;o++){var s=Xa(e[o].slice());var u=si(s,.25);var l=si(s,.5);var p=si(s,.75);var c=s[0];var d=s[s.length-1];var g=(a==null?1.5:a)*(p-u);var m=i?c:Math.max(c,u-g);var b=i?d:Math.min(d,p+g);var h=t.itemNameFormatter;var f=x(h)?h({value:o}):P(h)?h.replace("{value}",o+""):o+"";n.push([f,m,u,l,p,b]);for(var v=0;v<s.length;v++){var O=s[v];if(O<m||O>b){var y=[f,O];r.push(y)}}}return{boxData:n,outliers:r}}var oP={type:"echarts:boxplot",transform:function e(t){var n=t.upstream;if(n.sourceFormat!==ym){var r="";if("development"!=="production"){r=Ii("source data is not applicable for this boxplot transform. Expect number[][].")}h(r)}var a=iP(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function sP(e){e.registerSeriesModel(WN);e.registerChartView(XN);e.registerVisual(QN);e.registerLayout(tP);e.registerTransform(oP)}var uP=["color","borderColor"];var lP=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){this.group.removeClipPath();this._updateDrawMode(e);this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)};n.prototype.incrementalPrepareRender=function(e,t,n){this._clear();this._updateDrawMode(e)};n.prototype.incrementalRender=function(e,t,n,r){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)};n.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;if(this._isLargeDraw==null||t!==this._isLargeDraw){this._isLargeDraw=t;this._clear()}};n.prototype._renderNormal=function(a){var i=a.getData();var o=this._data;var s=this.group;var u=i.getLayout("isSimpleBox");var l=a.get("clip",true);var e=a.coordinateSystem;var p=e.getArea&&e.getArea();if(!this._data){s.removeAll()}i.diff(o).add(function(e){if(i.hasValue(e)){var t=i.getItemLayout(e);if(l&&gP(p,t)){return}var n=dP(t,e,true);Yc(n,{shape:{points:t.ends}},a,e);mP(n,i,e,u);s.add(n);i.setItemGraphicEl(e,n)}}).update(function(e,t){var n=o.getItemGraphicEl(t);if(!i.hasValue(e)){s.remove(n);return}var r=i.getItemLayout(e);if(l&&gP(p,r)){s.remove(n);return}if(!n){n=dP(r)}else{Y(n,{shape:{points:r.ends}},a,e)}mP(n,i,e,u);s.add(n);i.setItemGraphicEl(e,n)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&s.remove(t)}).execute();this._data=i};n.prototype._renderLarge=function(e){this._clear();vP(e,this.group);var t=e.get("clip",true)?J_(e.coordinateSystem,false,e):null;if(t){this.group.setClipPath(t)}else{this.group.removeClipPath()}};n.prototype._incrementalRenderNormal=function(e,t){var n=t.getData();var r=n.getLayout("isSimpleBox");var a;while((a=e.next())!=null){var i=n.getItemLayout(a);var o=dP(i);mP(o,n,a,r);o.incremental=true;this.group.add(o)}};n.prototype._incrementalRenderLarge=function(e,t){vP(t,this.group,true)};n.prototype.remove=function(e){this._clear()};n.prototype._clear=function(){this.group.removeAll();this._data=null};n.type="candlestick";return n}(m);var pP=function(){function e(){}return e}();var cP=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="normalCandlestickBox";return t}e.prototype.getDefaultShape=function(){return new pP};e.prototype.buildPath=function(e,t){var n=t.points;if(this.__simpleBox){e.moveTo(n[4][0],n[4][1]);e.lineTo(n[6][0],n[6][1])}else{e.moveTo(n[0][0],n[0][1]);e.lineTo(n[1][0],n[1][1]);e.lineTo(n[2][0],n[2][1]);e.lineTo(n[3][0],n[3][1]);e.closePath();e.moveTo(n[4][0],n[4][1]);e.lineTo(n[5][0],n[5][1]);e.moveTo(n[6][0],n[6][1]);e.lineTo(n[7][0],n[7][1])}};return e}(v);function dP(e,t,n){var r=e.ends;return new cP({shape:{points:n?bP(r,e):r},z2:100})}function gP(e,t){var n=true;for(var r=0;r<t.ends.length;r++){if(e.contain(t.ends[r][0],t.ends[r][1])){n=false;break}}return n}function mP(e,t,n,r){var a=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style"));e.style.strokeNoScale=true;e.__simpleBox=r;ip(e,a)}function bP(e,t){return w(e,function(e){e=e.slice();e[1]=t.initBaseline;return e})}var hP=function(){function e(){}return e}();var fP=function(n){b(e,n);function e(e){var t=n.call(this,e)||this;t.type="largeCandlestickBox";return t}e.prototype.getDefaultShape=function(){return new hP};e.prototype.buildPath=function(e,t){var n=t.points;for(var r=0;r<n.length;){if(this.__sign===n[r++]){var a=n[r++];e.moveTo(a,n[r++]);e.lineTo(a,n[r++])}else{r+=3}}};return e}(v);function vP(e,t,n){var r=e.getData();var a=r.getLayout("largePoints");var i=new fP({shape:{points:a},__sign:1});t.add(i);var o=new fP({shape:{points:a},__sign:-1});t.add(o);OP(1,i,e);OP(-1,o,e);if(n){i.incremental=true;o.incremental=true}}function OP(e,t,n,r){var a=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);var i=n.getModel("itemStyle").getItemStyle(uP);t.useStyle(i);t.style.fill=null;t.style.stroke=a}var yP=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.defaultValueDimensions=[{name:"open",defaultTooltip:true},{name:"close",defaultTooltip:true},{name:"lowest",defaultTooltip:true},{name:"highest",defaultTooltip:true}];return e}n.prototype.getShadowDim=function(){return"open"};n.prototype.brushSelector=function(e,t,n){var r=t.getItemLayout(e);return r&&n.rect(r.brushRect)};n.type="series.candlestick";n.dependencies=["xAxis","yAxis","grid"];n.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,layout:null,clip:true,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:true,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:true,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300};return n}(bf);oe(yP,qN,true);function xP(e){if(!e||!N(e.series)){return}q(e.series,function(e){if(E(e)&&e.type==="k"){e.type="candlestick"}})}var IP=["itemStyle","borderColor"];var SP=["itemStyle","borderColor0"];var jP=["itemStyle","color"];var _P=["itemStyle","color0"];var AP={seriesType:"candlestick",plan:_f(),performRawSeries:true,reset:function(e,t){function s(e,t){return t.get(e>0?jP:_P)}function u(e,t){return t.get(e>0?IP:SP)}if(t.isSeriesFiltered(e)){return}var n=e.pipelineContext.large;return!n&&{progress:function(e,t){var n;while((n=e.next())!=null){var r=t.getItemModel(n);var a=t.getItemLayout(n).sign;var i=r.getItemStyle();i.fill=s(a,r);i.stroke=u(a,r)||i.fill;var o=t.ensureUniqueItemVisual(n,"style");U(o,i)}}}}};var TP=typeof Float32Array!=="undefined"?Float32Array:Array;var CP={seriesType:"candlestick",plan:_f(),reset:function(e){var O=e.coordinateSystem;var t=e.getData();var y=kP(e,t);var x=0;var I=1;var n=["x","y"];var S=t.mapDimension(n[x]);var r=t.mapDimensionsAll(n[I]);var j=r[0];var _=r[1];var A=r[2];var T=r[3];t.setLayout({candleWidth:y,isSimpleBox:y<=1.3});if(S==null||r.length<4){return}return{progress:e.pipelineContext.large?i:a};function a(e,t){var n;while((n=e.next())!=null){var r=t.get(S,n);var a=t.get(j,n);var i=t.get(_,n);var o=t.get(A,n);var s=t.get(T,n);var u=Math.min(a,i);var l=Math.max(a,i);var p=b(u,r);var c=b(l,r);var d=b(o,r);var g=b(s,r);var m=[];h(m,c,0);h(m,p,1);m.push(v(g),v(c),v(d),v(p));t.setItemLayout(n,{sign:wP(t,n,a,i,_),initBaseline:a>i?c[I]:p[I],ends:m,brushRect:f(o,s,r)})}function b(e,t){var n=[];n[x]=t;n[I]=e;return isNaN(t)||isNaN(e)?[NaN,NaN]:O.dataToPoint(n)}function h(e,t,n){var r=t.slice();var a=t.slice();r[x]=Wc(r[x]+y/2,1,false);a[x]=Wc(a[x]-y/2,1,true);n?e.push(r,a):e.push(a,r)}function f(e,t,n){var r=b(e,n);var a=b(t,n);r[x]-=y/2;a[x]-=y/2;return{x:r[0],y:r[1],width:y,height:a[1]-r[1]}}function v(e){e[x]=Wc(e[x],1);return e}}function i(e,t){var n=new TP(e.count*4);var r=0;var a;var i=[];var o=[];var s;while((s=e.next())!=null){var u=t.get(S,s);var l=t.get(j,s);var p=t.get(_,s);var c=t.get(A,s);var d=t.get(T,s);if(isNaN(u)||isNaN(c)||isNaN(d)){n[r++]=NaN;r+=3;continue}n[r++]=wP(t,s,l,p,_);i[x]=u;i[I]=c;a=O.dataToPoint(i,null,o);n[r++]=a?a[0]:NaN;n[r++]=a?a[1]:NaN;i[I]=d;a=O.dataToPoint(i,null,o);n[r++]=a?a[1]:NaN}t.setLayout("largePoints",n)}}};function wP(e,t,n,r,a){var i;if(n>r){i=-1}else if(n<r){i=1}else{i=t>0?e.get(a,t-1)<=r?1:-1:1}return i}function kP(e,t){var n=e.getBaseAxis();var r;var a=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/t.count());var i=X(L(e.get("barMaxWidth"),a),a);var o=X(L(e.get("barMinWidth"),1),a);var s=e.get("barWidth");return s!=null?X(s,a):Math.max(Math.min(a/2,i),o)}function NP(e){e.registerChartView(lP);e.registerSeriesModel(yP);e.registerPreprocessor(xP);e.registerVisual(AP);e.registerLayout(CP)}var PP=3;function EP(e){if(!N(e)){e=[+e,+e]}return e}function LP(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var DP=function(i){b(e,i);function e(e,t){var n=i.call(this)||this;var r=new __(e,t);var a=new F;n.add(r);n.add(a);n.updateData(e,t);return n}e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()};e.prototype.startEffectAnimation=function(e){var t=e.symbolType;var n=e.color;var r=this.childAt(1);for(var a=0;a<PP;a++){var i=S0(t,-1,-1,2,2,n);i.attr({style:{strokeNoScale:true},z2:99,silent:true,scaleX:.5,scaleY:.5});var o=-a/PP*e.period+e.effectOffset;i.animate("",true).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(o).start();i.animateStyle(true).when(e.period,{opacity:0}).delay(o).start();r.add(i)}LP(r,e)};e.prototype.updateEffectAnimation=function(e){var t=this._effectCfg;var n=this.childAt(1);var r=["symbolType","period","rippleScale"];for(var a=0;a<r.length;a++){var i=r[a];if(t[i]!==e[i]){this.stopEffectAnimation();this.startEffectAnimation(e);return}}LP(n,e)};e.prototype.highlight=function(){zl(this)};e.prototype.downplay=function(){Vl(this)};e.prototype.updateData=function(e,t){var n=this;var r=e.hostModel;this.childAt(0).updateData(e,t);var a=this.childAt(1);var i=e.getItemModel(t);var o=e.getItemVisual(t,"symbol");var s=EP(e.getItemVisual(t,"symbolSize"));var u=e.getItemVisual(t,"style");var l=u&&u.fill;a.setScale(s);a.traverse(function(e){e.setStyle("fill",l)});var p=e.getItemVisual(t,"symbolOffset");if(p){if(!N(p)){p=[p,p]}a.x=X(p[0],s[0]);a.y=X(L(p[1],p[0])||0,s[1])}var c=e.getItemVisual(t,"symbolRotate");a.rotation=(c||0)*Math.PI/180||0;var d={};d.showEffectOn=r.get("showEffectOn");d.rippleScale=i.get(["rippleEffect","scale"]);d.brushType=i.get(["rippleEffect","brushType"]);d.period=i.get(["rippleEffect","period"])*1e3;d.effectOffset=t/e.count();d.z=r.getShallow("z")||0;d.zlevel=r.getShallow("zlevel")||0;d.symbolType=o;d.color=l;d.rippleEffectColor=i.get(["rippleEffect","color"]);this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(d.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(d):this.startEffectAnimation(d);this._effectCfg=d}else{this._effectCfg=null;this.stopEffectAnimation();this.onHoverStateChange=function(e){if(e==="emphasis"){if(d.showEffectOn!=="render"){n.startEffectAnimation(d)}}else if(e==="normal"){if(d.showEffectOn!=="render"){n.stopEffectAnimation()}}}}this._effectCfg=d;tp(this)};e.prototype.fadeOut=function(e){this.off("mouseover").off("mouseout");e&&e()};return e}(F);var MP=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(){this._symbolDraw=new k_(DP)};n.prototype.render=function(e,t,n){var r=e.getData();var a=this._symbolDraw;a.updateData(r,{clipShape:this._getClipShape(e)});this.group.add(a.group)};n.prototype._getClipShape=function(e){var t=e.coordinateSystem;var n=t&&t.getArea&&t.getArea();return e.get("clip",true)?n:null};n.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();var a=g2("").reset(e,t,n);if(a.progress){a.progress({start:0,end:r.count(),count:r.count()},r)}this._symbolDraw.updateLayout()};n.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;if(t&&t.getRoamTransform){this.group.transform=Ur(t.getRoamTransform());this.group.decomposeTransform()}};n.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(true)};n.type="effectScatter";return n}(m);var BP=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.hasSymbolVisual=true;return e}n.prototype.getInitialData=function(e,t){return sI(this.getSource(),this,{useEncodeDefaulter:true})};n.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))};n.type="series.effectScatter";n.dependencies=["grid","polar"];n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",clip:true,rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10};return n}(bf);function zP(e){e.registerChartView(MP);e.registerSeriesModel(BP);e.registerLayout(g2("effectScatter"))}var VP=function(a){b(e,a);function e(e,t,n){var r=a.call(this)||this;r.add(r.createLine(e,t,n));r._updateEffectSymbol(e,t);return r}e.prototype.createLine=function(e,t,n){return new E3(e,t,n)};e.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t);var r=n.getModel("effect");var a=r.get("symbolSize");var i=r.get("symbol");if(!N(a)){a=[a,a]}var o=e.getItemVisual(t,"style");var s=r.get("color")||o&&o.stroke;var u=this.childAt(1);if(this._symbolType!==i){this.remove(u);u=S0(i,-.5,-.5,1,1,s);u.z2=100;u.culling=true;this.add(u)}if(!u){return}u.setStyle("shadowColor",s);u.setStyle(r.getItemStyle(["color"]));u.scaleX=a[0];u.scaleY=a[1];u.setColor(s);this._symbolType=i;this._symbolScale=a;this._updateEffectAnimation(e,r,t)};e.prototype._updateEffectAnimation=function(t,e,n){var r=this.childAt(1);if(!r){return}var a=this;var i=t.getItemLayout(n);var o=e.get("period")*1e3;var s=e.get("loop");var u=e.get("constantSpeed");var l=xe(e.get("delay"),function(e){return e/t.count()*o/3});r.ignore=true;this._updateAnimationPoints(r,i);if(u>0){o=this._getLineLength(r)/u*1e3}if(o!==this._period||s!==this._loop){r.stopAnimation();if(o>0){var p=void 0;if(typeof l==="function"){p=l(n)}else{p=l}if(r.__t>0){p=-o*r.__t}r.__t=0;var c=r.animate("",s).when(o,{__t:1}).delay(p).during(function(){a._updateSymbolPosition(r)});if(!s){c.done(function(){a.remove(r)})}c.start()}}this._period=o;this._loop=s};e.prototype._getLineLength=function(e){return $e(e.__p1,e.__cp1)+$e(e.__cp1,e.__p2)};e.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0];e.__p2=t[1];e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};e.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n);this._updateEffectSymbol(e,t)};e.prototype._updateSymbolPosition=function(e){var t=e.__p1;var n=e.__p2;var r=e.__cp1;var a=e.__t;var i=[e.x,e.y];var o=i.slice();var s=Os;var u=ys;i[0]=s(t[0],r[0],n[0],a);i[1]=s(t[1],r[1],n[1],a);var l=u(t[0],r[0],n[0],a);var p=u(t[1],r[1],n[1],a);e.rotation=-Math.atan2(p,l)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect"){if(e.__lastT!==undefined&&e.__lastT<e.__t){e.scaleY=$e(o,i)*1.05;if(a===1){i[0]=o[0]+(i[0]-o[0])/2;i[1]=o[1]+(i[1]-o[1])/2}}else if(e.__lastT===1){e.scaleY=2*$e(t,i)}else{e.scaleY=this._symbolScale[1]}}e.__lastT=e.__t;e.ignore=false;e.x=i[0];e.y=i[1]};e.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)};return e}(F);var RP=function(a){b(e,a);function e(e,t,n){var r=a.call(this)||this;r._createPolyline(e,t,n);return r}e.prototype._createPolyline=function(e,t,n){var r=e.getItemLayout(t);var a=new pc({shape:{points:r}});this.add(a);this._updateCommonStl(e,t,n)};e.prototype.updateData=function(e,t,n){var r=e.hostModel;var a=this.childAt(0);var i={shape:{points:e.getItemLayout(t)}};Y(a,i,r,t);this._updateCommonStl(e,t,n)};e.prototype._updateCommonStl=function(e,t,n){var r=this.childAt(0);var a=e.getItemModel(t);var i=n&&n.emphasisLineStyle;if(!n||e.hasItemOption){i=a.getModel(["emphasis","lineStyle"]).getLineStyle()}r.useStyle(e.getItemVisual(t,"style"));r.style.fill=null;r.style.strokeNoScale=true;var o=r.ensureState("emphasis");o.style=i;tp(this)};e.prototype.updateLayout=function(e,t){var n=this.childAt(0);n.setShape("points",e.getItemLayout(t))};return e}(F);var UP=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._lastFrame=0;e._lastFramePercent=0;return e}e.prototype.createLine=function(e,t,n){return new RP(e,t,n)};e.prototype._updateAnimationPoints=function(e,t){this._points=t;var n=[0];var r=0;for(var a=1;a<t.length;a++){var i=t[a-1];var o=t[a];r+=$e(i,o);n.push(r)}if(r===0){this._length=0;return}for(var a=0;a<n.length;a++){n[a]/=r}this._offsets=n;this._length=r};e.prototype._getLineLength=function(){return this._length};e.prototype._updateSymbolPosition=function(e){var t=e.__t;var n=this._points;var r=this._offsets;var a=n.length;if(!r){return}var i=this._lastFrame;var o;if(t<this._lastFramePercent){var s=Math.min(i+1,a-1);for(o=s;o>=0;o--){if(r[o]<=t){break}}o=Math.min(o,a-2)}else{for(o=i;o<a;o++){if(r[o]>t){break}}o=Math.min(o-1,a-2)}var u=(t-r[o])/(r[o+1]-r[o]);var l=n[o];var p=n[o+1];e.x=l[0]*(1-u)+u*p[0];e.y=l[1]*(1-u)+u*p[1];var c=p[0]-l[0];var d=p[1]-l[1];e.rotation=-Math.atan2(d,c)-Math.PI/2;this._lastFrame=o;this._lastFramePercent=t;e.ignore=false};return e}(VP);var FP=function(){function e(){this.polyline=false;this.curveness=0;this.segs=[]}return e}();var GP=function(t){b(e,t);function e(e){return t.call(this,e)||this}e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}};e.prototype.getDefaultShape=function(){return new FP};e.prototype.buildPath=function(e,t){var n=t.segs;var r=t.curveness;if(t.polyline){for(var a=0;a<n.length;){var i=n[a++];if(i>0){e.moveTo(n[a++],n[a++]);for(var o=1;o<i;o++){e.lineTo(n[a++],n[a++])}}}}else{for(var a=0;a<n.length;){var s=n[a++];var u=n[a++];var l=n[a++];var p=n[a++];e.moveTo(s,u);if(r>0){var c=(s+l)/2-(u-p)*r;var d=(u+p)/2-(l-s)*r;e.quadraticCurveTo(c,d,l,p)}else{e.lineTo(l,p)}}}};e.prototype.findDataIndex=function(e,t){var n=this.shape;var r=n.segs;var a=n.curveness;var i=this.style.lineWidth;if(n.polyline){var o=0;for(var s=0;s<r.length;){var u=r[s++];if(u>0){var l=r[s++];var p=r[s++];for(var c=1;c<u;c++){var d=r[s++];var g=r[s++];if(su(l,p,d,g,i,e,t)){return o}}}o++}}else{var o=0;for(var s=0;s<r.length;){var l=r[s++];var p=r[s++];var d=r[s++];var g=r[s++];if(a>0){var m=(l+d)/2-(p-g)*a;var b=(p+g)/2-(d-l)*a;if(lu(l,p,m,b,d,g,i,e,t)){return o}}else{if(su(l,p,d,g,i,e,t)){return o}}o++}}return-1};return e}(v);var HP=function(){function e(){this.group=new F}e.prototype.isPersistent=function(){return!this._incremental};e.prototype.updateData=function(e){this.group.removeAll();var t=new GP({rectHover:true,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")});this._setCommon(t,e);this.group.add(t);this._incremental=null};e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll();this._clearIncremental();if(e.count()>5e5){if(!this._incremental){this._incremental=new kc({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};e.prototype.incrementalUpdate=function(e,t){var n=new GP;n.setShape({segs:t.getLayout("linesPoints")});this._setCommon(n,t,!!this._incremental);if(!this._incremental){n.rectHover=true;n.cursor="default";n.__startIndex=e.start;this.group.add(n)}else{this._incremental.addDisplayable(n,true)}};e.prototype.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};e.prototype._setCommon=function(n,e,t){var r=e.hostModel;n.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])});n.useStyle(r.getModel("lineStyle").getLineStyle());n.style.strokeNoScale=true;var a=e.getVisual("style");if(a&&a.stroke){n.setStyle("stroke",a.stroke)}n.setStyle("fill",null);if(!t){var i=H(n);i.seriesIndex=r.seriesIndex;n.on("mousemove",function(e){i.dataIndex=null;var t=n.findDataIndex(e.offsetX,e.offsetY);if(t>0){i.dataIndex=t+n.__startIndex}})}};e.prototype._clearIncremental=function(){var e=this._incremental;if(e){e.clearDisplaybles()}};return e}();var qP={seriesType:"lines",plan:_f(),reset:function(b){var h=b.coordinateSystem;var f=b.get("polyline");var v=b.pipelineContext.large;return{progress:function(e,t){var n=[];if(v){var r=void 0;var a=e.end-e.start;if(f){var i=0;for(var o=e.start;o<e.end;o++){i+=b.getLineCoordsCount(o)}r=new Float32Array(a+i*2)}else{r=new Float32Array(a*4)}var s=0;var u=[];for(var o=e.start;o<e.end;o++){var l=b.getLineCoords(o,n);if(f){r[s++]=l}for(var p=0;p<l;p++){u=h.dataToPoint(n[p],false,u);r[s++]=u[0];r[s++]=u[1]}}t.setLayout("linesPoints",r)}else{for(var o=e.start;o<e.end;o++){var c=t.getItemModel(o);var l=b.getLineCoords(o,n);var d=[];if(f){for(var g=0;g<l;g++){d.push(h.dataToPoint(n[g]))}}else{d[0]=h.dataToPoint(n[0]);d[1]=h.dataToPoint(n[1]);var m=c.get(["lineStyle","curveness"]);if(+m){d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*m,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*m]}}t.setItemLayout(o,d)}}}}}};var WP=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(t,e,n){var r=t.getData();var a=this._updateLineDraw(r,t);var i=t.get("zlevel");var o=t.get(["effect","trailLength"]);var s=n.getZr();var u=s.painter.getType()==="svg";if(!u){s.painter.getLayer(i).clear(true)}if(this._lastZlevel!=null&&!u){s.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(t)&&o){if("development"!=="production"){var l=false;e.eachSeries(function(e){if(e!==t&&e.get("zlevel")===i){l=true}});l&&console.warn("Lines with trail effect should have an individual zlevel")}if(!u){s.configLayer(i,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})}}a.updateData(r);var p=t.get("clip",true)&&J_(t.coordinateSystem,false,t);if(p){this.group.setClipPath(p)}else{this.group.removeClipPath()}this._lastZlevel=i;this._finished=true};n.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();var a=this._updateLineDraw(r,e);a.incrementalPrepareUpdate(r);this._clearLayer(n);this._finished=false};n.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData());this._finished=e.end===t.getData().count()};n.prototype.updateTransform=function(e,t,n){var r=e.getData();var a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender){return{update:true}}else{var i=qP.reset(e,t,n);if(i.progress){i.progress({start:0,end:r.count(),count:r.count()},r)}this._lineDraw.updateLayout();this._clearLayer(n)}};n.prototype._updateLineDraw=function(e,t){var n=this._lineDraw;var r=this._showEffect(t);var a=!!t.get("polyline");var i=t.pipelineContext;var o=i.large;if("development"!=="production"){if(r&&o){console.warn("Large lines not support effect")}}if(!n||r!==this._hasEffet||a!==this._isPolyline||o!==this._isLargeDraw){if(n){n.remove()}n=this._lineDraw=o?new HP:new L3(a?r?UP:RP:r?VP:E3);this._hasEffet=r;this._isPolyline=a;this._isLargeDraw=o;this.group.removeAll()}this.group.add(n.group);return n};n.prototype._showEffect=function(e){return!!e.get(["effect","show"])};n.prototype._clearLayer=function(e){var t=e.getZr();var n=t.painter.getType()==="svg";if(!n&&this._lastZlevel!=null){t.painter.getLayer(this._lastZlevel).clear(true)}};n.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(t)};n.type="lines";return n}(m);var XP=typeof Uint32Array==="undefined"?Array:Uint32Array;var YP=typeof Float64Array==="undefined"?Array:Float64Array;function JP(e){var t=e.data;if(t&&t[0]&&t[0][0]&&t[0][0].coord){if("development"!=="production"){console.warn("Lines data configuration has been changed to"+" { coords:[[1,2],[2,3]] }")}e.data=w(t,function(e){var t=[e[0].coord,e[1].coord];var n={coords:t};if(e[0].name){n.fromName=e[0].name}if(e[1].name){n.toName=e[1].name}return re([n,e[0],e[1]])})}}var ZP=function(n){b(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;e.type=t.type;e.visualStyleAccessPath="lineStyle";e.visualDrawType="stroke";return e}t.prototype.init=function(e){e.data=e.data||[];JP(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset;if(t.flatCoords){e.data=new Float32Array(t.count)}n.prototype.init.apply(this,arguments)};t.prototype.mergeOption=function(e){JP(e);if(e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset;if(t.flatCoords){e.data=new Float32Array(t.count)}}n.prototype.mergeOption.apply(this,arguments)};t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);if(t.flatCoords){if(!this._flatCoords){this._flatCoords=t.flatCoords;this._flatCoordsOffset=t.flatCoordsOffset}else{this._flatCoords=ke(this._flatCoords,t.flatCoords);this._flatCoordsOffset=ke(this._flatCoordsOffset,t.flatCoordsOffset)}e.data=new Float32Array(t.count)}this.getRawData().appendData(e.data)};t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);var n=t.option instanceof Array?t.option:t.getShallow("coords");if("development"!=="production"){if(!(n instanceof Array&&n.length>0&&n[0]instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(n)+". Lines must have 2d coords array in data item.")}}return n};t.prototype.getLineCoordsCount=function(e){if(this._flatCoordsOffset){return this._flatCoordsOffset[e*2+1]}else{return this._getCoordsFromItemModel(e).length}};t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){var n=this._flatCoordsOffset[e*2];var r=this._flatCoordsOffset[e*2+1];for(var a=0;a<r;a++){t[a]=t[a]||[];t[a][0]=this._flatCoords[n+a*2];t[a][1]=this._flatCoords[n+a*2+1]}return r}else{var i=this._getCoordsFromItemModel(e);for(var a=0;a<i.length;a++){t[a]=t[a]||[];t[a][0]=i[a][0];t[a][1]=i[a][1]}return i.length}};t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords){t=this._flatCoords.length}if(typeof e[0]==="number"){var n=e.length;var r=new XP(n);var a=new YP(n);var i=0;var o=0;var s=0;for(var u=0;u<n;){s++;var l=e[u++];r[o++]=i+t;r[o++]=l;for(var p=0;p<l;p++){var c=e[u++];var d=e[u++];a[i++]=c;a[i++]=d;if(u>n){if("development"!=="production"){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:a,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}};t.prototype.getInitialData=function(e,t){if("development"!=="production"){var n=pb.get(e.coordinateSystem);if(!n){throw new Error("Unkown coordinate system "+e.coordinateSystem)}}var i=new Jx(["value"],this);i.hasItemOption=false;i.initData(e.data,[],function(e,t,n,r){if(e instanceof Array){return NaN}else{i.hasItemOption=true;var a=e.value;if(a!=null){return a instanceof Array?a[r]:a}}});return i};t.prototype.formatTooltip=function(e,t,n){var r=this.getData();var a=r.getItemModel(e);var i=a.get("name");if(i){return i}var o=a.get("fromName");var s=a.get("toName");var u=[];o!=null&&u.push(o);s!=null&&u.push(s);return Zh("nameValue",{name:u.join(" > ")})};t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])};t.prototype.getProgressive=function(){var e=this.option.progressive;if(e==null){return this.option.large?1e4:this.get("progressive")}return e};t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;if(e==null){return this.option.large?2e4:this.get("progressiveThreshold")}return e};t.type="series.lines";t.dependencies=["grid","polar","geo","calendar"];t.defaultOption={coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:.2},large:false,largeThreshold:2e3,polyline:false,clip:true,label:{show:false,position:"end"},lineStyle:{opacity:.5}};return t}(bf);function $P(e){if(!(e instanceof Array)){e=[e,e]}return e}var KP={seriesType:"lines",reset:function(e){var t=$P(e.get("symbol"));var n=$P(e.get("symbolSize"));var r=e.getData();r.setVisual("fromSymbol",t&&t[0]);r.setVisual("toSymbol",t&&t[1]);r.setVisual("fromSymbolSize",n&&n[0]);r.setVisual("toSymbolSize",n&&n[1]);function a(e,t){var n=e.getItemModel(t);var r=$P(n.getShallow("symbol",true));var a=$P(n.getShallow("symbolSize",true));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]);r[1]&&e.setItemVisual(t,"toSymbol",r[1]);a[0]&&e.setItemVisual(t,"fromSymbolSize",a[0]);a[1]&&e.setItemVisual(t,"toSymbolSize",a[1])}return{dataEach:r.hasItemOption?a:null}}};function QP(e){e.registerChartView(WP);e.registerSeriesModel(ZP);e.registerLayout(qP);e.registerVisual(KP)}var eE=256;var tE=function(){function e(){this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={inRange:null,outOfRange:null};var e=ae();this.canvas=e}e.prototype.update=function(e,t,n,r,a,i){var o=this._getBrush();var s=this._getGradient(a,"inRange");var u=this._getGradient(a,"outOfRange");var l=this.pointSize+this.blurSize;var p=this.canvas;var c=p.getContext("2d");var d=e.length;p.width=t;p.height=n;for(var g=0;g<d;++g){var m=e[g];var b=m[0];var h=m[1];var f=m[2];var v=r(f);c.globalAlpha=v;c.drawImage(o,b-l,h-l)}if(!p.width||!p.height){return p}var O=c.getImageData(0,0,p.width,p.height);var y=O.data;var x=0;var I=y.length;var S=this.minOpacity;var j=this.maxOpacity;var _=j-S;while(x<I){var v=y[x+3]/256;var A=Math.floor(v*(eE-1))*4;if(v>0){var T=i(v)?s:u;v>0&&(v=v*_+S);y[x++]=T[A];y[x++]=T[A+1];y[x++]=T[A+2];y[x++]=T[A+3]*v*256}else{x+=4}}c.putImageData(O,0,0);return p};e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ae());var t=this.pointSize+this.blurSize;var n=t*2;e.width=n;e.height=n;var r=e.getContext("2d");r.clearRect(0,0,n,n);r.shadowOffsetX=n;r.shadowBlur=this.blurSize;r.shadowColor="#000";r.beginPath();r.arc(-t,t,this.pointSize,0,Math.PI*2,true);r.closePath();r.fill();return e};e.prototype._getGradient=function(e,t){var n=this._gradientPixels;var r=n[t]||(n[t]=new Uint8ClampedArray(256*4));var a=[0,0,0,0];var i=0;for(var o=0;o<256;o++){e[t](o/255,true,a);r[i++]=a[0];r[i++]=a[1];r[i++]=a[2];r[i++]=a[3]}return r};return e}();function nE(t,r,a){var n=t[1]-t[0];r=w(r,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}});var i=r.length;var o=0;return function(e){var t;for(t=o;t<i;t++){var n=r[t].interval;if(n[0]<=e&&e<=n[1]){o=t;break}}if(t===i){for(t=o-1;t>=0;t--){var n=r[t].interval;if(n[0]<=e&&e<=n[1]){o=t;break}}}return t>=0&&t<i&&a[t]}}function rE(e,t){var n=e[1]-e[0];t=[(t[0]-e[0])/n,(t[1]-e[0])/n];return function(e){return e>=t[0]&&e<=t[1]}}function aE(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var iE=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(n,e,t){var r;e.eachComponent("visualMap",function(t){t.eachTargetSeries(function(e){if(e===n){r=t}})});if("development"!=="production"){if(!r){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var a=n.coordinateSystem;if(a.type==="cartesian2d"||a.type==="calendar"){this._renderOnCartesianAndCalendar(n,t,0,n.getData().count())}else if(aE(a)){this._renderOnGeo(a,n,r,t)}};n.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()};n.prototype.incrementalRender=function(e,t,n,r){var a=t.coordinateSystem;if(a){if(aE(a)){this.render(t,n,r)}else{this._renderOnCartesianAndCalendar(t,r,e.start,e.end,true)}}};n.prototype._renderOnCartesianAndCalendar=function(e,t,n,r,a){var i=e.coordinateSystem;var o;var s;var u;var l;if(Z_(i,"cartesian2d")){var p=i.getAxis("x");var c=i.getAxis("y");if("development"!=="production"){if(!(p.type==="category"&&c.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(p.onBand&&c.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}o=p.getBandWidth();s=c.getBandWidth();u=p.scale.getExtent();l=c.scale.getExtent()}var d=this.group;var g=e.getData();var m=e.getModel(["emphasis","itemStyle"]).getItemStyle();var b=e.getModel(["blur","itemStyle"]).getItemStyle();var h=e.getModel(["select","itemStyle"]).getItemStyle();var f=vd(e);var v=e.get(["emphasis","focus"]);var O=e.get(["emphasis","blurScope"]);var y=Z_(i,"cartesian2d")?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")];for(var x=n;x<r;x++){var I=void 0;var S=g.getItemVisual(x,"style");if(Z_(i,"cartesian2d")){var j=g.get(y[0],x);var _=g.get(y[1],x);if(isNaN(g.get(y[2],x))||j<u[0]||j>u[1]||_<l[0]||_>l[1]){continue}var A=i.dataToPoint([j,_]);I=new R({shape:{x:Math.floor(Math.round(A[0])-o/2),y:Math.floor(Math.round(A[1])-s/2),width:Math.ceil(o),height:Math.ceil(s)},style:S})}else{if(isNaN(g.get(y[1],x))){continue}I=new R({z2:1,shape:i.dataToRect([g.get(y[0],x)]).contentShape,style:S})}var T=g.getItemModel(x);if(g.hasItemOption){var C=T.getModel("emphasis");m=C.getModel("itemStyle").getItemStyle();b=T.getModel(["blur","itemStyle"]).getItemStyle();h=T.getModel(["select","itemStyle"]).getItemStyle();v=C.get("focus");O=C.get("blurScope");f=vd(T)}var w=e.getRawValue(x);var k="-";if(w&&w[2]!=null){k=w[2]+""}fd(I,f,{labelFetcher:e,labelDataIndex:x,defaultOpacity:S.opacity,defaultText:k});I.ensureState("emphasis").style=m;I.ensureState("blur").style=b;I.ensureState("select").style=h;tp(I,v,O);I.incremental=a;if(a){I.states.emphasis.hoverLayer=true}d.add(I);g.setItemGraphicEl(x,I)}};n.prototype._renderOnGeo=function(a,e,t,n){var r=t.targetVisuals.inRange;var i=t.targetVisuals.outOfRange;var o=e.getData();var s=this._hmLayer||this._hmLayer||new tE;s.blurSize=e.get("blurSize");s.pointSize=e.get("pointSize");s.minOpacity=e.get("minOpacity");s.maxOpacity=e.get("maxOpacity");var u=a.getViewRect().clone();var l=a.getRoamTransform();u.applyTransform(l);var p=Math.max(u.x,0);var c=Math.max(u.y,0);var d=Math.min(u.width+u.x,n.getWidth());var g=Math.min(u.height+u.y,n.getHeight());var m=d-p;var b=g-c;var h=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")];var f=o.mapArray(h,function(e,t,n){var r=a.dataToPoint([e,t]);r[0]-=p;r[1]-=c;r.push(n);return r});var v=t.getExtent();var O=t.type==="visualMap.continuous"?rE(v,t.option.range):nE(v,t.getPieceList(),t.option.selected);s.update(f,m,b,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:i.color.getColorMapper()},O);var y=new Mu({style:{width:m,height:b,x:p,y:c,image:s.canvas},silent:true});this.group.add(y)};n.type="heatmap";return n}(m);var oE=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.getInitialData=function(e,t){return sI(this.getSource(),this,{generateCoord:"value"})};n.prototype.preventIncremental=function(){var e=pb.get(this.get("coordinateSystem"));if(e&&e.dimensions){return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"}};n.type="series.heatmap";n.dependencies=["grid","geo","calendar"];n.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}};return n}(bf);function sE(e){e.registerChartView(iE);e.registerSeriesModel(oE)}var uE=["itemStyle","borderWidth"];var lE=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var pE=new Mp;var cE=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var o=this.group;var s=e.getData();var u=this._data;var r=e.coordinateSystem;var a=r.getBaseAxis();var i=a.isHorizontal();var l=r.master.getRect();var p={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:r,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:i,valueDim:lE[+i],categoryDim:lE[1-+i]};s.diff(u).add(function(e){if(!s.hasValue(e)){return}var t=SE(s,e);var n=dE(s,e,t,p);var r=AE(s,p,n);s.setItemGraphicEl(e,r);o.add(r);PE(r,p,n)}).update(function(e,t){var n=u.getItemGraphicEl(t);if(!s.hasValue(e)){o.remove(n);return}var r=SE(s,e);var a=dE(s,e,r,p);var i=wE(s,a);if(n&&i!==n.__pictorialShapeStr){o.remove(n);s.setItemGraphicEl(e,null);n=null}if(n){TE(n,p,a)}else{n=AE(s,p,a,true)}s.setItemGraphicEl(e,n);n.__pictorialSymbolMeta=a;o.add(n);PE(n,p,a)}).remove(function(e){var t=u.getItemGraphicEl(e);t&&CE(u,e,t.__pictorialSymbolMeta.animationModel,t)}).execute();this._data=s;return this.group};n.prototype.remove=function(t,e){var n=this.group;var r=this._data;if(t.get("animation")){if(r){r.eachItemGraphicEl(function(e){CE(r,H(e).dataIndex,t,e)})}}else{n.removeAll()}};n.type="pictorialBar";return n}(m);function dE(e,t,n,r){var a=e.getItemLayout(t);var i=n.get("symbolRepeat");var o=n.get("symbolClip");var s=n.get("symbolPosition")||"start";var u=n.get("symbolRotate");var l=(u||0)*Math.PI/180||0;var p=n.get("symbolPatternSize")||2;var c=n.isAnimationEnabled();var d={dataIndex:t,layout:a,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:i,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:p,rotation:l,animationModel:c?n:null,hoverScale:c&&n.get(["emphasis","scale"]),z2:n.getShallow("z",true)||0};gE(n,i,a,r,d);bE(e,t,a,i,o,d.boundingLength,d.pxSign,p,r,d);hE(n,d.symbolScale,l,r,d);var g=d.symbolSize;var m=n.get("symbolOffset");if(N(m)){m=[X(m[0],g[0]),X(m[1],g[1])]}fE(n,g,a,i,o,m,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d);return d}function gE(e,t,n,r,a){var i=r.valueDim;var o=e.get("symbolBoundingData");var s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis());var u=s.toGlobalCoord(s.dataToCoord(0));var l=1-+(n[i.wh]<=0);var p;if(N(o)){var c=[mE(s,o[0])-u,mE(s,o[1])-u];c[1]<c[0]&&c.reverse();p=c[l]}else if(o!=null){p=mE(s,o)-u}else if(t){p=r.coordSysExtent[i.index][l]-u}else{p=n[i.wh]}a.boundingLength=p;if(t){a.repeatCutLength=n[i.wh]}a.pxSign=p>0?1:p<0?-1:0}function mE(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function bE(e,t,n,r,a,i,o,s,u,l){var p=u.valueDim;var c=u.categoryDim;var d=Math.abs(n[c.wh]);var g=e.getItemVisual(t,"symbolSize");var m;if(N(g)){m=g.slice()}else{if(g==null){m=["100%","100%"]}else{m=[g,g]}}m[c.index]=X(m[c.index],d);m[p.index]=X(m[p.index],r?d:Math.abs(i));l.symbolSize=m;var b=l.symbolScale=[m[0]/s,m[1]/s];b[p.index]*=(u.isHorizontal?-1:1)*o}function hE(e,t,n,r,a){var i=e.get(uE)||0;if(i){pE.attr({scaleX:t[0],scaleY:t[1],rotation:n});pE.updateTransform();i/=pE.getLineScale();i*=t[r.valueDim.index]}a.valueLineWidth=i}function fE(e,t,n,r,a,i,o,s,u,l,p,c){var d=p.categoryDim;var g=p.valueDim;var m=c.pxSign;var b=Math.max(t[g.index]+s,0);var h=b;if(r){var f=Math.abs(u);var v=xe(e.get("symbolMargin"),"15%")+"";var O=false;if(v.lastIndexOf("!")===v.length-1){O=true;v=v.slice(0,v.length-1)}var y=X(v,t[g.index]);var x=Math.max(b+y*2,0);var I=O?0:y*2;var S=pi(r);var j=S?r:EE((f+I)/x);var _=f-j*b;y=_/2/(O?j:j-1);x=b+y*2;I=O?0:y*2;if(!S&&r!=="fixed"){j=l?EE((Math.abs(l)+I)/x):0}h=j*x-I;c.repeatTimes=j;c.symbolMargin=y}var A=m*(h/2);var T=c.pathPosition=[];T[d.index]=n[d.wh]/2;T[g.index]=o==="start"?A:o==="end"?u-A:u/2;if(i){T[0]+=i[0];T[1]+=i[1]}var C=c.bundlePosition=[];C[d.index]=n[d.xy];C[g.index]=n[g.xy];var w=c.barRectShape=U({},n);w[g.wh]=m*Math.max(Math.abs(n[g.wh]),Math.abs(T[g.index]+A));w[d.wh]=n[d.wh];var k=c.clipShape={};k[d.xy]=-n[d.xy];k[d.wh]=p.ecSize[d.wh];k[g.xy]=0;k[g.wh]=n[g.wh]}function vE(e){var t=e.symbolPatternSize;var n=S0(e.symbolType,-t/2,-t/2,t,t);n.attr({culling:true});n.type!=="image"&&n.setStyle({strokeNoScale:true});return n}function OE(e,t,a,n){var r=e.__pictorialBundle;var i=a.symbolSize;var o=a.valueLineWidth;var s=a.pathPosition;var u=t.valueDim;var l=a.repeatTimes||0;var p=0;var c=i[t.valueDim.index]+o+a.symbolMargin*2;kE(e,function(e){e.__pictorialAnimationIndex=p;e.__pictorialRepeatTimes=l;if(p<l){NE(e,null,m(p),a,n)}else{NE(e,null,{scaleX:0,scaleY:0},a,n,function(){r.remove(e)})}p++});for(;p<l;p++){var d=vE(a);d.__pictorialAnimationIndex=p;d.__pictorialRepeatTimes=l;r.add(d);var g=m(p);NE(d,{x:g.x,y:g.y,scaleX:0,scaleY:0},{scaleX:g.scaleX,scaleY:g.scaleY,rotation:g.rotation},a,n)}function m(e){var t=s.slice();var n=a.pxSign;var r=e;if(a.symbolRepeatDirection==="start"?n>0:n<0){r=l-1-e}t[u.index]=c*(r-l/2+.5)+s[u.index];return{x:t[0],y:t[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function yE(e,t,n,r){var a=e.__pictorialBundle;var i=e.__pictorialMainPath;if(!i){i=e.__pictorialMainPath=vE(n);a.add(i);NE(i,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r)}else{NE(i,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r)}}function xE(e,t,n){var r=U({},t.barRectShape);var a=e.__pictorialBarRect;if(!a){a=e.__pictorialBarRect=new R({z2:2,shape:r,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});e.add(a)}else{NE(a,null,{shape:r},t,n)}}function IE(e,t,n,r){if(n.symbolClip){var a=e.__pictorialClipPath;var i=U({},n.clipShape);var o=t.valueDim;var s=n.animationModel;var u=n.dataIndex;if(a){Y(a,{shape:i},s,u)}else{i[o.wh]=0;a=new R({shape:i});e.__pictorialBundle.setClipPath(a);e.__pictorialClipPath=a;var l={};l[o.wh]=n.clipShape[o.wh];gd[r?"updateProps":"initProps"](a,{shape:l},s,u)}}}function SE(e,t){var n=e.getItemModel(t);n.getAnimationDelayParams=jE;n.isAnimationEnabled=_E;return n}function jE(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function _E(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function AE(e,t,n,r){var a=new F;var i=new F;a.add(i);a.__pictorialBundle=i;i.x=n.bundlePosition[0];i.y=n.bundlePosition[1];if(n.symbolRepeat){OE(a,t,n)}else{yE(a,t,n)}xE(a,n,r);IE(a,t,n,r);a.__pictorialShapeStr=wE(e,n);a.__pictorialSymbolMeta=n;return a}function TE(e,t,n){var r=n.animationModel;var a=n.dataIndex;var i=e.__pictorialBundle;Y(i,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,a);if(n.symbolRepeat){OE(e,t,n,true)}else{yE(e,t,n,true)}xE(e,n,true);IE(e,t,n,true)}function CE(e,t,n,r){var a=r.__pictorialBarRect;a&&a.removeTextContent();var i=[];kE(r,function(e){i.push(e)});r.__pictorialMainPath&&i.push(r.__pictorialMainPath);r.__pictorialClipPath&&(n=null);q(i,function(e){Jc(e,{scaleX:0,scaleY:0},n,t,function(){r.parent&&r.parent.remove(r)})});e.setItemGraphicEl(t,null)}function wE(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function kE(t,n,r){q(t.__pictorialBundle.children(),function(e){e!==t.__pictorialBarRect&&n.call(r,e)})}function NE(e,t,n,r,a,i){t&&e.attr(t);if(r.symbolClip&&!a){n&&e.attr(n)}else{n&&gd[a?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,i)}}function PE(e,t,r){var n=r.dataIndex;var a=r.itemModel;var i=a.getModel("emphasis");var o=i.getModel("itemStyle").getItemStyle();var s=a.getModel(["blur","itemStyle"]).getItemStyle();var u=a.getModel(["select","itemStyle"]).getItemStyle();var l=a.getShallow("cursor");var p=i.get("focus");var c=i.get("blurScope");var d=i.get("scale");kE(e,function(e){if(e instanceof Mu){var t=e.style;e.useStyle(U({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},r.style))}else{e.useStyle(r.style)}var n=e.ensureState("emphasis");n.style=o;if(d){n.scaleX=e.scaleX*1.1;n.scaleY=e.scaleY*1.1}e.ensureState("blur").style=s;e.ensureState("select").style=u;l&&(e.cursor=l);e.z2=r.z2});var g=t.valueDim.posDesc[+(r.boundingLength>0)];var m=e.__pictorialBarRect;fd(m,vd(a),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:S_(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:g});tp(e,p,c)}function EE(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var LE=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.hasSymbolVisual=true;e.defaultSymbol="roundRect";return e}n.prototype.getInitialData=function(e){e.stack=null;return t.prototype.getInitialData.apply(this,arguments)};n.type="series.pictorialBar";n.dependencies=["grid"];n.defaultOption=Hd(v2.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:false},select:{itemStyle:{borderColor:"#212121"}}});return n}(v2);function DE(e){e.registerChartView(cE);e.registerSeriesModel(LE);e.registerLayout(y(DI,"pictorialBar"))}var ME=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._layers=[];return e}n.prototype.render=function(y,e,t){var x=y.getData();var I=this;var S=this.group;var j=y.getLayerSeries();var n=x.getLayout("layoutInfo");var r=n.rect;var a=n.boundaryGap;S.x=0;S.y=r.y+a[0];function i(e){return e.name}var o=new bx(this._layersSeries||[],j,i,i);var _=[];o.add(O(s,this,"add")).update(O(s,this,"update")).remove(O(s,this,"remove")).execute();function s(e,t,n){var r=I._layers;if(e==="remove"){S.remove(r[t]);return}var a=[];var i=[];var o;var s=j[t].indices;var u=0;for(;u<s.length;u++){var l=x.getItemLayout(s[u]);var p=l.x;var c=l.y0;var d=l.y;a.push(p,c);i.push(p,c+d);o=x.getItemVisual(s[u],"style")}var g;var m=x.getItemLayout(s[0]);var b=y.getModel("label");var h=b.get("margin");var f=y.getModel("emphasis");if(e==="add"){var v=_[t]=new F;g=new W_({shape:{points:a,stackedOnPoints:i,smooth:.4,stackedOnSmooth:.4,smoothConstraint:false},z2:0});v.add(g);S.add(v);if(y.isAnimationEnabled()){g.setClipPath(BE(g.getBoundingRect(),y,function(){g.removeClipPath()}))}}else{var v=r[n];g=v.childAt(0);S.add(v);_[t]=v;Y(g,{shape:{points:a,stackedOnPoints:i}},y)}fd(g,vd(y),{labelDataIndex:s[u-1],defaultText:x.getName(s[u-1]),inheritColor:o.fill},{normal:{verticalAlign:"middle"}});g.setTextConfig({position:null,local:true});var O=g.getTextContent();if(O){O.x=m.x-h;O.y=m.y0+m.y/2}g.useStyle(o);x.setItemGraphicEl(t,g);ip(g,y);tp(g,f.get("focus"),f.get("blurScope"))}this._layersSeries=j;this._layers=_};n.type="themeRiver";return n}(m);function BE(e,t,n){var r=new R({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});Yc(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n);return r}var zE=2;var VE=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.useColorPaletteOnData=true;return e}n.prototype.init=function(e){t.prototype.init.apply(this,arguments);this.legendVisualProvider=new iA(O(this.getData,this),O(this.getRawData,this))};n.prototype.fixData=function(e){var t=e.length;var n={};var r=io(e,function(e){if(!n.hasOwnProperty(e[0]+"")){n[e[0]+""]=-1}return e[2]});var a=[];r.buckets.each(function(e,t){a.push({name:t,dataList:e})});var i=a.length;for(var o=0;o<i;++o){var s=a[o].name;for(var u=0;u<a[o].dataList.length;++u){var l=a[o].dataList[u][0]+"";n[l]=o}for(var l in n){if(n.hasOwnProperty(l)&&n[l]!==o){n[l]=o;e[t]=[l,0,s];t++}}}return e};n.prototype.getInitialData=function(e,t){var n=this.getReferringComponents("singleAxis",Qi).models[0];var r=n.get("type");var a=le(e.data,function(e){return e[2]!==undefined});var i=this.fixData(a||[]);var o=[];var s=this.nameMap=_();var u=0;for(var l=0;l<i.length;++l){o.push(i[l][zE]);if(!s.get(i[l][zE])){s.set(i[l][zE],u);u++}}var p=Qx(i,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:vx(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});var c=new Jx(p,this);c.initData(i);return c};n.prototype.getLayerSeries=function(){var n=this.getData();var e=n.count();var t=[];for(var r=0;r<e;++r){t[r]=r}var a=n.mapDimension("single");var i=io(t,function(e){return n.get("name",e)});var o=[];i.buckets.each(function(e,t){e.sort(function(e,t){return n.get(a,e)-n.get(a,t)});o.push({name:t,indices:e})});return o};n.prototype.getAxisTooltipData=function(e,t,n){if(!N(e)){e=e?[e]:[]}var r=this.getData();var a=this.getLayerSeries();var i=[];var o=a.length;var s;for(var u=0;u<o;++u){var l=Number.MAX_VALUE;var p=-1;var c=a[u].indices.length;for(var d=0;d<c;++d){var g=r.get(e[0],a[u].indices[d]);var m=Math.abs(g-t);if(m<=l){s=g;l=m;p=a[u].indices[d]}}i.push(p)}return{dataIndices:i,nestestValue:s}};n.prototype.formatTooltip=function(e,t,n){var r=this.getData();var a=r.getName(e);var i=r.get(r.mapDimension("value"),e);return Zh("nameValue",{name:a,value:i})};n.type="series.themeRiver";n.dependencies=["singleAxis"];n.defaultOption={zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:true,position:"left",fontSize:11},emphasis:{label:{show:true}}};return n}(bf);function RE(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData();var n=e.coordinateSystem;var r={};var a=n.getRect();r.rect=a;var i=e.get("boundaryGap");var o=n.getAxis();r.boundaryGap=i;if(o.orient==="horizontal"){i[0]=X(i[0],a.height);i[1]=X(i[1],a.height);var s=a.height-i[0]-i[1];UE(t,e,s)}else{i[0]=X(i[0],a.width);i[1]=X(i[1],a.width);var u=a.width-i[0]-i[1];UE(t,e,u)}t.setLayout("layoutInfo",r)})}function UE(n,e,t){if(!n.count()){return}var r=e.coordinateSystem;var a=e.getLayerSeries();var i=n.mapDimension("single");var o=n.mapDimension("value");var s=w(a,function(e){return w(e.indices,function(e){var t=r.dataToPoint(n.get(i,e));t[1]=n.get(o,e);return t})});var u=FE(s);var l=u.y0;var p=t/u.max;var c=a.length;var d=a[0].indices.length;var g;for(var m=0;m<d;++m){g=l[m]*p;n.setItemLayout(a[0].indices[m],{layerIndex:0,x:s[0][m][0],y0:g,y:s[0][m][1]*p});for(var b=1;b<c;++b){g+=s[b-1][m][1]*p;n.setItemLayout(a[b].indices[m],{layerIndex:b,x:s[b][m][0],y0:g,y:s[b][m][1]*p})}}}function FE(e){var t=e.length;var n=e[0].length;var r=[];var a=[];var i=0;for(var o=0;o<n;++o){var s=0;for(var u=0;u<t;++u){s+=e[u][o][1]}if(s>i){i=s}r.push(s)}for(var l=0;l<n;++l){a[l]=(i-r[l])/2}i=0;for(var p=0;p<n;++p){var c=r[p]+a[p];if(c>i){i=c}}return{y0:a,max:i}}function GE(e){e.registerChartView(ME);e.registerSeriesModel(VE);e.registerLayout(RE);e.registerProcessor(J2("themeRiver"))}var HE=2;var qE=4;var WE=function(o){b(e,o);function e(e,t,n,r){var a=o.call(this)||this;a.z2=HE;a.textConfig={inside:true};H(a).seriesIndex=t.seriesIndex;var i=new G({z2:qE,silent:e.getModel().get(["label","silent"])});a.setTextContent(i);a.updateData(true,e,t,n,r);return a}e.prototype.updateData=function(e,t,n,r,a){this.node=t;t.piece=this;n=n||this._seriesModel;r=r||this._ecModel;var i=this;H(i).dataIndex=t.dataIndex;var o=t.getModel();var s=o.getModel("emphasis");var u=t.getLayout();var l=U({},u);l.label=null;var p=t.getVisual("style");p.lineJoin="bevel";var c=t.getVisual("decal");if(c){p.decal=iO(c,a)}var d=tA(o.getModel("itemStyle"),l);U(l,d);q(ul,function(e){var t=i.ensureState(e);var n=o.getModel([e,"itemStyle"]);t.style=n.getItemStyle();var r=tA(n,l);if(r){t.shape=r}});if(e){i.setShape(l);i.shape.r=u.r0;Y(i,{shape:{r:u.r}},n,t.dataIndex)}else{Y(i,{shape:l},n)}i.useStyle(p);this._updateLabel(n);var g=o.getShallow("cursor");g&&i.attr("cursor",g);this._seriesModel=n||this._seriesModel;this._ecModel=r||this._ecModel;var m=s.get("focus");var b=m==="ancestor"?t.getAncestorsIndices():m==="descendant"?t.getDescendantIndices():m;tp(this,b,s.get("blurScope"))};e.prototype._updateLabel=function(m){var b=this;var h=this.node.getModel();var r=h.getModel("label");var f=this.node.getLayout();var e=f.endAngle-f.startAngle;var v=(f.startAngle+f.endAngle)/2;var O=Math.cos(v);var y=Math.sin(v);var x=this;var I=x.getTextContent();var S=this.node.dataIndex;var t=r.get("minAngle")/180*Math.PI;var n=r.get("show")&&!(t!=null&&Math.abs(e)<t);I.ignore=!n;q(ll,function(e){var t=e==="normal"?h.getModel("label"):h.getModel([e,"label"]);var n=e==="normal";var r=n?I:I.ensureState(e);var a=m.getFormattedLabel(S,e);if(n){a=a||b.node.name}r.style=Od(t,{},null,e!=="normal",true);if(a){r.style.text=a}var i=t.get("show");if(i!=null&&!n){r.ignore=!i}var o=j(t,"position");var s=n?x:x.states[e];var u=s.style.fill;s.textConfig={outsideFill:t.get("color")==="inherit"?u:null,inside:o!=="outside"};var l;var p=j(t,"distance")||0;var c=j(t,"align");if(o==="outside"){l=f.r+p;c=v>Math.PI/2?"right":"left"}else{if(!c||c==="center"){l=(f.r+f.r0)/2;c="center"}else if(c==="left"){l=f.r0+p;if(v>Math.PI/2){c="right"}}else if(c==="right"){l=f.r-p;if(v>Math.PI/2){c="left"}}}r.style.align=c;r.style.verticalAlign=j(t,"verticalAlign")||"middle";r.x=l*O+f.cx;r.y=l*y+f.cy;var d=j(t,"rotate");var g=0;if(d==="radial"){g=-v;if(g<-Math.PI/2){g+=Math.PI}}else if(d==="tangential"){g=Math.PI/2-v;if(g>Math.PI/2){g-=Math.PI}else if(g<-Math.PI/2){g+=Math.PI}}else if(typeof d==="number"){g=d*Math.PI/180}r.rotation=g});function j(e,t){var n=e.get(t);if(n==null){return r.get(t)}return n}I.dirtyStyle()};return e}(ec);var XE="sunburstRootToNode";var YE="sunburstHighlight";var JE="sunburstUnhighlight";function ZE(e){e.registerAction({type:XE,update:"updateView"},function(a,e){e.eachComponent({mainType:"series",subType:"sunburst",query:a},t);function t(e,t){var n=lC(a,[XE],e);if(n){var r=e.getViewRoot();if(r){a.direction=cC(r,n.node)?"rollUp":"drillDown"}e.resetViewRoot(n.node)}}});e.registerAction({type:YE,update:"none"},function(n,e,t){n=U({},n);e.eachComponent({mainType:"series",subType:"sunburst",query:n},r);function r(e){var t=lC(n,[YE],e);if(t){n.dataIndex=t.node.dataIndex}}if("development"!=="production"){yi("highlight","sunburstHighlight")}t.dispatchAction(U(n,{type:"highlight"}))});e.registerAction({type:JE,update:"updateView"},function(e,t,n){e=U({},e);if("development"!=="production"){yi("downplay","sunburstUnhighlight")}n.dispatchAction(U(e,{type:"downplay"}))})}var $E=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(r,a,i,e){var n=this;this.seriesModel=r;this.api=i;this.ecModel=a;var o=r.getData();var s=o.tree.root;var t=r.getViewRoot();var u=this.group;var l=r.get("renderLabelForZeroData");var p=[];t.eachNode(function(e){p.push(e)});var c=this._oldChildren||[];d(p,c);b(s,t);this._initEvents();this._oldChildren=p;function d(a,i){if(a.length===0&&i.length===0){return}new bx(i,a,e,e).add(t).update(t).remove(y(t,null)).execute();function e(e){return e.getId()}function t(e,t){var n=e==null?null:a[e];var r=t==null?null:i[t];g(n,r)}}function g(e,t){if(!l&&e&&!e.getValue()){e=null}if(e!==s&&t!==s){if(t&&t.piece){if(e){t.piece.updateData(false,e,r,a,i);o.setItemGraphicEl(e.dataIndex,t.piece)}else{m(t)}}else if(e){var n=new WE(e,r,a,i);u.add(n);o.setItemGraphicEl(e.dataIndex,n)}}}function m(e){if(!e){return}if(e.piece){u.remove(e.piece);e.piece=null}}function b(e,t){if(t.depth>0){if(n.virtualPiece){n.virtualPiece.updateData(false,e,r,a,i)}else{n.virtualPiece=new WE(e,r,a,i);u.add(n.virtualPiece)}t.piece.off("click");n.virtualPiece.on("click",function(e){n._rootToNode(t.parentNode)})}else if(n.virtualPiece){u.remove(n.virtualPiece);n.virtualPiece=null}}};n.prototype._initEvents=function(){var s=this;this.group.off("click");this.group.on("click",function(i){var o=false;var e=s.seriesModel.getViewRoot();e.eachNode(function(e){if(!o&&e.piece&&e.piece===i.target){var t=e.getModel().get("nodeClick");if(t==="rootToNode"){s._rootToNode(e)}else if(t==="link"){var n=e.getModel();var r=n.get("link");if(r){var a=n.get("target",true)||"_blank";$g(r,a)}}o=true}})})};n.prototype._rootToNode=function(e){if(e!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:XE,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})}};n.prototype.containPoint=function(e,t){var n=t.getData();var r=n.getItemLayout(0);if(r){var a=e[0]-r.cx;var i=e[1]-r.cy;var o=Math.sqrt(a*a+i*i);return o<=r.r&&o>=r.r0}};n.type="sunburst";return n}(m);var KE=function(r){b(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;e.type=t.type;e.ignoreStyleOnData=true;return e}t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};QE(n);var a=w(e.levels||[],function(e){return new A(e,this,t)},this);var i=sC.createTree(n,this,r);function r(e){e.wrapMethod("getItemModel",function(e,t){var n=i.getNodeByDataIndex(t);var r=a[n.depth];r&&(e.parentModel=r);return e})}return i.data};t.prototype.optionUpdated=function(){this.resetViewRoot()};t.prototype.getDataParams=function(e){var t=r.prototype.getDataParams.apply(this,arguments);var n=this.getData().tree.getNodeByDataIndex(e);t.treePathInfo=dC(n,this);return t};t.prototype.getViewRoot=function(){return this._viewRoot};t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;if(!e||e!==t&&!t.contains(e)){this._viewRoot=t}};t.prototype.enableAriaDecal=function(){jC(this)};t.type="series.sunburst";t.defaultOption={zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,stillShowZeroSum:true,nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],levels:[],sort:"desc"};return t}(bf);function QE(e){var n=0;q(e.children,function(e){QE(e);var t=e.value;N(t)&&(t=t[0]);n+=t});var t=e.value;if(N(t)){t=t[0]}if(t==null||isNaN(t)){t=n}if(t<0){t=0}N(e.value)?e.value[0]=t:e.value=t}var eL=Math.PI/180;function tL(e,t,w){t.eachSeriesByType(e,function(e){var t=e.get("center");var n=e.get("radius");if(!N(n)){n=[0,n]}if(!N(t)){t=[t,t]}var r=w.getWidth();var a=w.getHeight();var p=Math.min(r,a);var c=X(t[0],r);var d=X(t[1],a);var g=X(n[0],p/2);var i=X(n[1],p/2);var o=-e.get("startAngle")*eL;var m=e.get("minAngle")*eL;var b=e.getData().tree.root;var s=e.getViewRoot();var h=s.depth;var u=e.get("sort");if(u!=null){nL(s,u)}var l=0;q(s.children,function(e){!isNaN(e.getValue())&&l++});var f=s.getValue();var v=Math.PI/(f||l)*2;var O=s.depth>0;var y=s.height-(O?-1:1);var x=(i-g)/(y||1);var I=e.get("clockwise");var S=e.get("stillShowZeroSum");var j=I?1:-1;var _=function(e,t){if(!e){return}var n=t;if(e!==b){var r=e.getValue();var a=f===0&&S?v:r*v;if(a<m){a=m}n=t+j*a;var i=e.depth-h-(O?-1:1);var o=g+x*i;var s=g+x*(i+1);var u=e.getModel();if(u.get("r0")!=null){o=X(u.get("r0"),p/2)}if(u.get("r")!=null){s=X(u.get("r"),p/2)}e.setLayout({angle:a,startAngle:t,endAngle:n,clockwise:I,cx:c,cy:d,r0:o,r:s})}if(e.children&&e.children.length){var l=0;q(e.children,function(e){l+=_(e,t+l)})}return n-t};if(O){var A=g;var T=g+x;var C=Math.PI*2;b.setLayout({angle:C,startAngle:o,endAngle:o+C,clockwise:I,cx:c,cy:d,r0:A,r:T})}_(s,o)})}function nL(e,t){var n=e.children||[];e.children=rL(n,t);if(n.length){q(e.children,function(e){nL(e,t)})}}function rL(t,n){if(typeof n==="function"){var e=w(t,function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}});e.sort(function(e,t){return n(e.params,t.params)});return w(e,function(e){return t[e.index]})}else{var r=n==="asc";return t.sort(function(e,t){var n=(e.getValue()-t.getValue())*(r?1:-1);return n===0?(e.dataIndex-t.dataIndex)*(r?-1:1):n})}}function aL(e){var i={};function s(e,t,n){var r=e;while(r&&r.depth>1){r=r.parentNode}var a=t.getColorFromPalette(r.name||r.dataIndex+"",i);if(e.depth>1&&typeof a==="string"){a=Nn(a,(e.depth-1)/(n-1)*.5)}return a}e.eachSeriesByType("sunburst",function(a){var i=a.getData();var o=i.tree;o.eachNode(function(e){var t=e.getModel();var n=t.getModel("itemStyle").getItemStyle();if(!n.fill){n.fill=s(e,a,o.root.height)}var r=i.ensureUniqueItemVisual(e.dataIndex,"style");U(r,n)})})}function iL(e){e.registerChartView($E);e.registerSeriesModel(KE);e.registerLayout(y(tL,"sunburst"));e.registerProcessor(y(J2,"sunburst"));e.registerVisual(aL);ZE(e)}function oL(i,o){o=o||[0,0];return w(["x","y"],function(e,t){var n=this.getAxis(e);var r=o[t];var a=i[t]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-a)-n.dataToCoord(r+a))},this)}function sL(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:O(oL,t)}}}function uL(i,o){o=o||[0,0];return w([0,1],function(e){var t=o[e];var n=i[e]/2;var r=[];var a=[];r[e]=t-n;a[e]=t+n;r[1-e]=a[1-e]=o[1-e];return Math.abs(this.dataToPoint(r)[e]-this.dataToPoint(a)[e])},this)}function lL(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:O(uL,t)}}}function pL(e,t){var n=this.getAxis();var r=t instanceof Array?t[0]:t;var a=(e instanceof Array?e[0]:e)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-a)-n.dataToCoord(r+a))}function cL(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:O(pL,t)}}}function dL(s,u){u=u||[0,0];return w(["Radius","Angle"],function(e,t){var n="get"+e+"Axis";var r=this[n]();var a=u[t];var i=s[t]/2;var o=r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(a-i)-r.dataToCoord(a+i));if(e==="Angle"){o=o*Math.PI/180}return o},this)}function gL(a){var i=a.getRadiusAxis();var o=a.getAngleAxis();var e=i.getExtent();e[0]>e[1]&&e.reverse();return{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:e[1],r0:e[0]},api:{coord:function(e){var t=i.dataToRadius(e[0]);var n=o.dataToAngle(e[1]);var r=a.coordToPoint([t,n]);r.push(t,n*Math.PI/180);return r},size:O(dL,a)}}}function mL(n){var e=n.getRect();var t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(e,t){return n.dataToPoint(e,t)}}}}var bL={};function hL(e,t,n,r){return e&&(e.legacy||e.legacy!==false&&!n&&!r&&t!=="tspan"&&(t==="text"||B(e,"text")))}function fL(e,t,n){var r=e;var a;var i;var o;if(t==="text"){o=r}else{o={};B(r,"text")&&(o.text=r.text);B(r,"rich")&&(o.rich=r.rich);B(r,"textFill")&&(o.fill=r.textFill);B(r,"textStroke")&&(o.stroke=r.textStroke);i={type:"text",style:o,silent:true};a={};var s=B(r,"textPosition");if(n){a.position=s?r.textPosition:"inside"}else{s&&(a.position=r.textPosition)}B(r,"textPosition")&&(a.position=r.textPosition);B(r,"textOffset")&&(a.offset=r.textOffset);B(r,"textRotation")&&(a.rotation=r.textRotation);B(r,"textDistance")&&(a.distance=r.textDistance)}vL(o,e);q(o.rich,function(e){vL(e,e)});return{textConfig:a,textContent:i}}function vL(e,t){if(!t){return}t.font=t.textFont||t.font;B(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth);B(t,"textAlign")&&(e.align=t.textAlign);B(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign);B(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight);B(t,"textWidth")&&(e.width=t.textWidth);B(t,"textHeight")&&(e.height=t.textHeight);B(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor);B(t,"textPadding")&&(e.padding=t.textPadding);B(t,"textBorderColor")&&(e.borderColor=t.textBorderColor);B(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth);B(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius);B(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor);B(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur);B(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX);B(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY)}function OL(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside";n.offset!=null&&(r.textOffset=n.offset);n.rotation!=null&&(r.textRotation=n.rotation);n.distance!=null&&(r.textDistance=n.distance);var a=r.textPosition.indexOf("inside")>=0;var i=e.fill||"#000";yL(r,t);var o=r.textFill==null;if(a){if(o){r.textFill=n.insideFill||"#fff";!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke);!r.textStroke&&(r.textStroke=i);r.textStrokeWidth==null&&(r.textStrokeWidth=2)}}else{if(o){r.textFill=e.fill||n.outsideFill||"#000"}!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)}r.text=t.text;r.rich=t.rich;q(t.rich,function(e){yL(e,e)});return r}function yL(e,t){if(!t){return}B(t,"fill")&&(e.textFill=t.fill);B(t,"stroke")&&(e.textStroke=t.fill);B(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth);B(t,"font")&&(e.font=t.font);B(t,"fontStyle")&&(e.fontStyle=t.fontStyle);B(t,"fontWeight")&&(e.fontWeight=t.fontWeight);B(t,"fontSize")&&(e.fontSize=t.fontSize);B(t,"fontFamily")&&(e.fontFamily=t.fontFamily);B(t,"align")&&(e.textAlign=t.align);B(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign);B(t,"lineHeight")&&(e.textLineHeight=t.lineHeight);B(t,"width")&&(e.textWidth=t.width);B(t,"height")&&(e.textHeight=t.height);B(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor);B(t,"padding")&&(e.textPadding=t.padding);B(t,"borderColor")&&(e.textBorderColor=t.borderColor);B(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth);B(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius);B(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor);B(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur);B(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX);B(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY);B(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor);B(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur);B(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX);B(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY)}function xL(e,t){if("development"!=="production"){var n=e+"^_^"+t;if(!bL[n]){console.warn('[ECharts] DEPRECATED: "'+e+'" has been deprecated. '+t);bL[n]=true}}}var IL=ou.CMD;var SL=Math.PI*2;var jL=["x","y"];var _L=["width","height"];var AL=[];function TL(e,t){return Math.abs(e-t)<1e-5}function CL(e){var t=e.data;var n=e.len();var r=[];var O;var a=0;var i=0;var o=0;var s=0;function u(e,t){if(O&&O.length>2){r.push(O)}O=[e,t]}function l(e,t,n,r){if(!(TL(e,n)&&TL(t,r))){O.push(e,t,n,r,n,r)}}function p(e,t,n,r,a,i){var o=Math.abs(t-e);var s=Math.tan(o/4)*4/3;var u=t<e?-1:1;var l=Math.cos(e);var p=Math.sin(e);var c=Math.cos(t);var d=Math.sin(t);var g=l*a+n;var m=p*i+r;var b=c*a+n;var h=d*i+r;var f=a*s*u;var v=i*s*u;O.push(g-f*p,m+v*l,b+f*d,h-v*c,b,h)}var c;var d;var g;var m;for(var b=0;b<n;){var h=t[b++];var f=b===1;if(f){a=t[b];i=t[b+1];o=a;s=i;if(h===IL.L||h===IL.C||h===IL.Q){O=[o,s]}}switch(h){case IL.M:a=o=t[b++];i=s=t[b++];u(o,s);break;case IL.L:c=t[b++];d=t[b++];l(a,i,c,d);a=c;i=d;break;case IL.C:O.push(t[b++],t[b++],t[b++],t[b++],a=t[b++],i=t[b++]);break;case IL.Q:c=t[b++];d=t[b++];g=t[b++];m=t[b++];O.push(a+2/3*(c-a),i+2/3*(d-i),g+2/3*(c-g),m+2/3*(d-m),g,m);a=g;i=m;break;case IL.A:var v=t[b++];var y=t[b++];var x=t[b++];var I=t[b++];var S=t[b++];var j=t[b++]+S;b+=1;var _=!t[b++];c=Math.cos(S)*x+v;d=Math.sin(S)*I+y;if(f){o=c;s=d;u(o,s)}else{l(a,i,c,d)}a=Math.cos(j)*x+v;i=Math.sin(j)*I+y;var A=(_?-1:1)*Math.PI/2;for(var T=S;_?T>j:T<j;T+=A){var C=_?Math.max(T+A,j):Math.min(T+A,j);p(T,C,v,y,x,I)}break;case IL.R:o=a=t[b++];s=i=t[b++];c=o+t[b++];d=s+t[b++];u(c,s);l(c,s,c,d);l(c,d,o,d);l(o,d,o,s);l(o,s,c,s);break;case IL.Z:O&&l(a,i,o,s);a=o;i=s;break}}if(O&&O.length>2){r.push(O)}return r}function wL(e,t){var n=e.length;var r=t.length;if(n===r){return[e,t]}var a=n<r?e:t;var i=Math.min(n,r);var o=Math.abs(r-n)/6;var s=(i-2)/6;var u=Math.ceil(o/s)+1;var l=[a[0],a[1]];var p=o;var c=[];var d=[];for(var g=2;g<i;){var m=a[g-2];var b=a[g-1];var h=a[g++];var f=a[g++];var v=a[g++];var O=a[g++];var y=a[g++];var x=a[g++];if(p<=0){l.push(h,f,v,O,y,x);continue}var I=Math.min(p,u-1)+1;for(var S=1;S<=I;S++){var j=S/I;hs(m,h,v,y,j,c);hs(b,f,O,x,j,d);m=c[3];b=d[3];l.push(c[1],d[1],c[2],d[2],m,b);h=c[5];f=d[5];v=c[6];O=d[6]}p-=I-1}return a===e?[l,t]:[e,l]}function kL(e,t){var n=e.length;var r=e[n-2];var a=e[n-1];var i=[];for(var o=0;o<t.length;){i[o++]=r;i[o++]=a}return i}function NL(e,t){var n;var r;var a;var i=[];var o=[];for(var s=0;s<Math.max(e.length,t.length);s++){var u=e[s];var l=t[s];var p=void 0;var c=void 0;if(!u){p=kL(r||l,l);c=l}else if(!l){c=kL(a||u,u);p=u}else{n=wL(u,l),p=n[0],c=n[1];r=p;a=c}i.push(p);o.push(c)}return[i,o]}function PL(e){var t=0;var n=0;var r=0;var a=e.length;for(var i=0,o=a-2;i<a;o=i,i+=2){var s=e[o];var u=e[o+1];var l=e[i];var p=e[i+1];var c=s*p-l*u;t+=c;n+=(s+l)*c;r+=(u+p)*c}if(t===0){return[e[0]||0,e[1]||0]}return[n/t/3,r/t/3,t]}function EL(e,t,n,r){var a=(e.length-2)/6;var i=Infinity;var o=0;var s=e.length;var u=s-2;for(var l=0;l<a;l++){var p=l*6;var c=0;for(var d=0;d<s;d+=2){var g=d===0?p:(p+d-2)%u+2;var m=e[g]-n[0];var b=e[g+1]-n[1];var h=t[d]-r[0];var f=t[d+1]-r[1];var v=h-m;var O=f-b;c+=v*v+O*O}if(c<i){i=c;o=l}}return o}function LL(e){var t=[];var n=e.length;for(var r=0;r<n;r+=2){t[r]=e[n-r-2];t[r+1]=e[n-r-1]}return t}function DL(e,t,n,r){var a=[];var i;for(var o=0;o<e.length;o++){var s=e[o];var u=t[o];var l=PL(s);var p=PL(u);if(i==null){i=l[2]<0!==p[2]<0}var c=[];var d=[];var g=0;var m=Infinity;var b=[];var h=s.length;if(i){s=LL(s)}var f=EL(s,u,l,p)*6;var v=h-2;for(var O=0;O<v;O+=2){var y=(f+O)%v+2;c[O+2]=s[y]-l[0];c[O+3]=s[y+1]-l[1]}c[0]=s[f]-l[0];c[1]=s[f+1]-l[1];if(n>0){var x=r/n;for(var I=-r/2;I<=r/2;I+=x){var S=Math.sin(I);var j=Math.cos(I);var _=0;for(var O=0;O<s.length;O+=2){var A=c[O];var T=c[O+1];var C=u[O]-p[0];var w=u[O+1]-p[1];var k=C*j-w*S;var N=C*S+w*j;b[O]=k;b[O+1]=N;var P=k-A;var E=N-T;_+=P*P+E*E}if(_<m){m=_;g=I;for(var L=0;L<b.length;L++){d[L]=b[L]}}}}else{for(var D=0;D<h;D+=2){d[D]=u[D]-p[0];d[D+1]=u[D+1]-p[1]}}a.push({from:c,to:d,fromCp:l,toCp:p,rotation:-g})}return a}function ML(e,t,n){var r;var a;if(!e||!t){return t}!e.path&&e.createPathProxy();r=e.path;r.beginPath();e.buildPath(r,e.shape);!t.path&&t.createPathProxy();a=t.path;a===r&&(a=new ou(false));a.beginPath();if(UL(t)){t.__oldBuildPath(a,t.shape)}else{t.buildPath(a,t.shape)}var i=NL(CL(r),CL(a)),o=i[0],s=i[1];var u=DL(o,s,10,Math.PI);zL(t,u,0);var l=n&&n.done;var p=n&&n.aborted;var c=n&&n.during;t.animateTo({__morphT:1},M({during:function(e){t.dirtyShape();c&&c(e)},done:function(){RL(t);t.createPathProxy();t.dirtyShape();l&&l()},aborted:function(){p&&p()}},n));return t}function BL(e){var t=this.__morphingData;var n=this.__morphT;var r=1-n;var a=[];for(var i=0;i<t.length;i++){var o=t[i];var s=o.from;var u=o.to;var l=o.rotation*n;var p=o.fromCp;var c=o.toCp;var d=Math.sin(l);var g=Math.cos(l);tt(a,p,c,n);for(var m=0;m<s.length;m+=2){var b=s[m];var h=s[m+1];var f=u[m];var v=u[m+1];var O=b*r+f*n;var y=h*r+v*n;AL[m]=O*g-y*d+a[0];AL[m+1]=O*d+y*g+a[1]}for(var m=0;m<s.length;){if(m===0){e.moveTo(AL[m++],AL[m++])}e.bezierCurveTo(AL[m++],AL[m++],AL[m++],AL[m++],AL[m++],AL[m++])}}}function zL(e,t,n){if(UL(e)){VL(e,t,n);return}var r=e;r.__oldBuildPath=r.buildPath;r.buildPath=BL;VL(r,t,n)}function VL(e,t,n){e.__morphingData=t;e.__morphT=n}function RL(e){if(UL(e)){e.buildPath=e.__oldBuildPath;e.__oldBuildPath=e.__morphingData=null}}function UL(e){return e.__oldBuildPath!=null}function FL(e){return!!e.__combiningSubList}function GL(e){return UL(e)||FL(e)}function HL(e,t,n,r){var a=[];var i=0;for(var o=0;o<e.length;o++){var s=e[o];if(FL(s)){var u=s.__combiningSubList;for(var l=0;l<u.length;l++){a.push(u[l])}i+=u.length}else{a.push(s);i++}}if(!i){return}var p=n?n.dividingMethod:null;var c=QL(t,i,p);D(c.length===i);var d=n&&n.done;var g=n&&n.aborted;var m=n&&n.during;var b=0;var h=false;var f=M({during:function(e){m&&m(e)},done:function(){b++;if(b===c.length){WL(t);d&&d()}},aborted:function(){if(!h){h=true;g&&g()}}},n);for(var o=0;o<i;o++){var v=a[o];var O=c[o];r&&r(t,O,true);ML(v,O,f)}qL(t,c);return{fromIndividuals:a,toIndividuals:c,count:i}}function qL(e,t){if(FL(e)){XL(e,t);return}var n=e;XL(n,t);n.__oldAddSelfToZr=e.addSelfToZr;n.__oldRemoveSelfFromZr=e.removeSelfFromZr;n.addSelfToZr=YL;n.removeSelfFromZr=ZL;n.__oldBuildPath=n.buildPath;n.buildPath=Pe;n.childrenRef=$L}function WL(e){if(!FL(e)){return}var t=e;XL(t,null);t.addSelfToZr=t.__oldAddSelfToZr;t.removeSelfFromZr=t.__oldRemoveSelfFromZr;t.buildPath=t.__oldBuildPath;t.childrenRef=t.__combiningSubList=t.__oldAddSelfToZr=t.__oldRemoveSelfFromZr=t.__oldBuildPath=null}function XL(e,t){if(e.__combiningSubList!==t){JL(e,"removeSelfFromZr");e.__combiningSubList=t;if(t){for(var n=0;n<t.length;n++){t[n].parent=e}}JL(e,"addSelfToZr")}}function YL(e){this.__oldAddSelfToZr(e);JL(this,"addSelfToZr")}function JL(e,t){var n=e.__combiningSubList;var r=e.__zr;if(n&&r){for(var a=0;a<n.length;a++){var i=n[a];i[t](r)}}}function ZL(e){this.__oldRemoveSelfFromZr(e);var t=this.__combiningSubList;for(var n=0;n<t.length;n++){var r=t[n];r.removeSelfFromZr(e)}}function $L(){return this.__combiningSubList}function KL(e,t,n,r){var a=t.length;var i;var o=n?n.dividingMethod:null;var s=false;if(FL(e)){var u=e.__combiningSubList;if(u.length===a){i=u}else{i=QL(e,a,o);s=true}}else{i=QL(e,a,o);s=true}D(i.length===a);for(var l=0;l<a;l++){if(s&&r){r(e,i[l],false)}ML(i[l],t[l],n)}return{fromIndividuals:i,toIndividuals:t,count:a}}function QL(e,t,n){return n==="duplicate"?t6(e,t):e6(e,t)}function e6(e,t){var n=[];if(t<=0){return n}if(t===1){return t6(e,t)}if(e instanceof R){var r=e.shape;var a=r.height>r.width?1:0;var i=_L[a];var o=jL[a];var s=r[i]/t;var u=r[o];for(var l=0;l<t;l++,u+=s){var p={x:r.x,y:r.y,width:r.width,height:r.height};p[o]=u;p[i]=l<t-1?s:r[o]+r[i]-u;var c=new R({shape:p});n.push(c)}}else if(e instanceof ec){var r=e.shape;var d=r.clockwise;var g=r.startAngle;var m=r.endAngle;var b=n6(g,r.endAngle,d);var h=(b-g)/t;var f=g;for(var l=0;l<t;l++,f+=h){var c=new ec({shape:{cx:r.cx,cy:r.cy,r:r.r,r0:r.r0,clockwise:d,startAngle:f,endAngle:l===t-1?m:f+h}});n.push(c)}}else{return t6(e,t)}return n}function t6(e,t){var n=[];if(t<=0){return n}var r=e.constructor;for(var a=0;a<t;a++){var i=new r({shape:j(e.shape)});n.push(i)}return n}function n6(e,t,n){return t+SL*Math[n?"ceil":"floor"]((e-t)/SL)}var r6=Ji();var a6={x:1,y:1,scaleX:1,scaleY:1,originX:1,originY:1,rotation:1};var i6=k(a6).join(", ");var o6={color:"fill",borderColor:"stroke"};var s6={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1};var u6="emphasis";var l6="normal";var p6="blur";var c6="select";var d6=[l6,u6,p6,c6];var g6={normal:["itemStyle"],emphasis:[u6,"itemStyle"],blur:[p6,"itemStyle"],select:[c6,"itemStyle"]};var m6={normal:["label"],emphasis:[u6,"label"],blur:[p6,"label"],select:[c6,"label"]};var b6="e\0\0";var h6={normal:{},emphasis:{},blur:{},select:{}};var f6={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]};var v6=new Zr;var O6={cartesian2d:sL,geo:lL,singleAxis:cL,polar:gL,calendar:mL};var y6=function(a){b(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",true);this.currentZ=this.get("z",true)};t.prototype.getInitialData=function(e,t){return sI(this.getSource(),this)};t.prototype.getDataParams=function(e,t,n){var r=a.prototype.getDataParams.call(this,e,t);n&&(r.info=r6(n).info);return r};t.type="series.custom";t.dependencies=["grid","polar","geo","singleAxis","calendar"];t.defaultOption={coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,clip:false};return t}(bf);var x6=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(i,e,o,s){var u=this._data;var l=i.getData();var p=this.group;var c=X6(i,l,e,o);if(!u){p.removeAll()}var t=i.__transientTransitionOpt;if(t&&(t.from==null||t.to==null)){u&&u.each(function(e){uD(u.getItemGraphicEl(e),i,p)});l.each(function(e){J6(o,null,e,c(e,s),i,p,l,null)})}else{var d=new gD(i,t);var n=t?"multiple":"oneToOne";new bx(u?u.getIndices():[],l.getIndices(),I6(u,n,t&&t.from),I6(l,n,t&&t.to),null,n).add(function(e){J6(o,null,e,c(e,s),i,p,l,null)}).remove(function(e){uD(u.getItemGraphicEl(e),i,p)}).update(function(e,t){d.reset("oneToOne");var n=u.getItemGraphicEl(t);d.findAndAddFrom(n);if(d.hasFrom()){dD(n,p);n=null}J6(o,n,e,c(e,s),i,p,l,d);d.applyMorphing()}).updateManyToOne(function(e,t){d.reset("manyToOne");for(var n=0;n<t.length;n++){var r=u.getItemGraphicEl(t[n]);d.findAndAddFrom(r);dD(r,p)}J6(o,null,e,c(e,s),i,p,l,d);d.applyMorphing()}).updateOneToMany(function(e,t){d.reset("oneToMany");var n=e.length;var r=u.getItemGraphicEl(t);d.findAndAddFrom(r);dD(r,p);for(var a=0;a<n;a++){J6(o,null,e[a],c(e[a],s),i,p,l,d)}d.applyMorphing()}).execute()}var r=i.get("clip",true)?J_(i.coordinateSystem,false,i):null;if(r){p.setClipPath(r)}else{p.removeClipPath()}this._data=l};n.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll();this._data=null};n.prototype.incrementalRender=function(e,t,n,r,a){var i=t.getData();var o=X6(t,i,n,r);function s(e){if(!e.isGroup){e.incremental=true;e.ensureState("emphasis").hoverLayer=true}}for(var u=e.start;u<e.end;u++){var l=J6(null,null,u,o(u,a),t,this.group,i,null);l&&l.traverse(s)}};n.prototype.filterForExposedEvent=function(e,t,n,r){var a=t.element;if(a==null||n.name===a){return true}while((n=n.__hostTarget||n.parent)&&n!==this.group){if(n.name===a){return true}}return false};n.type="custom";return n}(m);function I6(r,e,t){if(!r){return}if(e==="oneToOne"){return function(e,t){return r.getId(t)}}var a=r.getDimension(t);var n=r.getDimensionInfo(a);if(!n){var i="";if("development"!=="production"){i=t+" is not a valid dimension."}h(i)}var o=n.ordinalMeta;return function(e,t){var n=r.get(a,t);if(o){n=o.categories[n]}return n==null||ye(n)?e+"":"_ec_"+n}}function S6(e){var t=e.type;var n;if(t==="path"){var r=e.shape;var a=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null;var i=lD(r);n=Vc(i,null,a,r.layout||"center");r6(n).customPathData=i}else if(t==="image"){n=new Mu({});r6(n).customImagePath=e.style.image}else if(t==="text"){n=new G({})}else if(t==="group"){n=new F}else if(t==="compoundPath"){throw new Error('"compoundPath" is not supported yet.')}else{var o=zc(t);if(!o){var s="";if("development"!=="production"){s='graphic type "'+t+'" can not be found.'}h(s)}n=new o}r6(n).customGraphicType=t;n.name=e.name;n.z2EmphasisLift=1;n.z2SelectLift=1;return n}function j6(e,t,n,r,a,i,o,s,u,l){var p={};var c={};var d=t.isGroup?null:t;!n&&T6("shape",t,null,a,p,u);C6("shape",a,c);!n&&T6("extra",t,null,a,p,u);C6("extra",a,c);!n&&w6(t,null,a,p,u);k6(a,c);var g=o&&o.normal.cfg;if(g){t.setTextConfig(g)}if(t.type==="text"&&i){var m=i;B(m,"textFill")&&(m.fill=m.textFill);B(m,"textStroke")&&(m.stroke=m.textStroke)}if(i){var b=void 0;var h=cD(t)?i.decal:null;if(e&&h){h.dirty=true;b=iO(h,e)}i.__decalPattern=b}!n&&N6(t,null,a,i,p,u);if(d){B(a,"invisible")&&(d.invisible=a.invisible)}if(!n){_6(t,c,i);A6(t,r,a,s,p,u)}B(a,"silent")&&(t.silent=a.silent);B(a,"ignore")&&(t.ignore=a.ignore);if(!l){B(a,"info")&&(r6(t).info=a.info)}i?t.dirty():t.markRedraw();return n?c:null}function _6(e,t,n){var r=e.isGroup?null:e;if(r&&n){var a=n.__decalPattern;var i=void 0;if(a){i=n.decal;n.decal=a}r.useStyle(n);if(a){n.decal=i}var o=r.animators;for(var s=0;s<o.length;s++){var u=o[s];if(u.targetName==="style"){u.changeTarget(r.style)}}}t&&e.attr(t)}function A6(e,t,n,r,a,i){if(a){var o=n.during;r6(e).userDuring=o;var s=o?O(R6,{el:e,userDuring:o}):null;var u={dataIndex:t,isFrom:true,during:s};i?Yc(e,a,r,u):Y(e,a,r,u)}}function T6(e,t,n,r,a,i){var o=r[e];if(!o){return}var s=t[e];var u;var l=o.enterFrom;if(i&&l){!u&&(u=a[e]={});var p=k(l);for(var c=0;c<p.length;c++){var d=p[c];u[d]=l[d]}}if(!i&&s&&!(n!=null&&e==="shape")){if(o.transition){!u&&(u=a[e]={});var g=_i(o.transition);for(var c=0;c<g.length;c++){var d=g[c];var m=s[d];if("development"!=="production"){E6(d,o[d],m)}u[d]=m}}else if(C(r.transition,e)>=0){!u&&(u=a[e]={});var b=k(s);for(var c=0;c<b.length;c++){var d=b[c];var m=s[d];if(L6(o[d],m)){u[d]=m}}}}var h=o.leaveTo;if(h){var f=M6(t);var v=f[e]||(f[e]={});var O=k(h);for(var c=0;c<O.length;c++){var d=O[c];v[d]=h[d]}}}function C6(e,t,n){var r=t[e];if(!r){return}var a=n[e]={};var i=k(r);for(var o=0;o<i.length;o++){var s=i[o];a[s]=tr(r[s])}}function w6(e,t,n,r,a){var i=n.enterFrom;if(a&&i){var o=k(i);for(var s=0;s<o.length;s++){var u=o[s];if("development"!=="production"){D6(u,"el.enterFrom")}r[u]=i[u]}}if(!a){if(t){var l=P6(t,e);W6(r,"x",l);W6(r,"y",l);W6(r,"scaleX",l);W6(r,"scaleY",l);W6(r,"originX",l);W6(r,"originY",l);W6(r,"rotation",l)}else if(n.transition){var p=_i(n.transition);for(var s=0;s<p.length;s++){var u=p[s];if(u==="style"||u==="shape"||u==="extra"){continue}var c=e[u];if("development"!=="production"){D6(u,"el.transition");E6(u,n[u],c)}r[u]=c}}else{W6(r,"x",e);W6(r,"y",e)}}var d=n.leaveTo;if(d){var g=M6(e);var m=k(d);for(var s=0;s<m.length;s++){var u=m[s];if("development"!=="production"){D6(u,"el.leaveTo")}g[u]=d[u]}}}function k6(e,t){H6(e,t,"position");H6(e,t,"scale");H6(e,t,"origin");q6(e,t,"x");q6(e,t,"y");q6(e,t,"scaleX");q6(e,t,"scaleY");q6(e,t,"originX");q6(e,t,"originY");q6(e,t,"rotation")}function N6(e,t,n,r,a,i){if(!r){return}var o=t||e;var s=o.style;var u;var l=r.enterFrom;if(i&&l){var p=k(l);!u&&(u=a.style={});for(var c=0;c<p.length;c++){var d=p[c];u[d]=l[d]}}if(!i&&s){if(r.transition){var g=_i(r.transition);!u&&(u=a.style={});for(var c=0;c<g.length;c++){var d=g[c];var m=s[d];u[d]=m}}else if(e.getAnimationStyleProps&&C(n.transition,"style")>=0){var b=e.getAnimationStyleProps();var h=b?b.style:null;if(h){!u&&(u=a.style={});var f=k(r);for(var c=0;c<f.length;c++){var d=f[c];if(h[d]){var m=s[d];u[d]=m}}}}}var v=r.leaveTo;if(v){var O=k(v);var y=M6(e);var x=y.style||(y.style={});for(var c=0;c<O.length;c++){var d=O[c];x[d]=v[d]}}}function P6(e,t){if(!e||e===t||e.parent===t.parent){return e}var n=v6.transform||(v6.transform=Lr([]));var r=e.getComputedTransform();r?Dr(n,r):Lr(n);var a=t.parent;if(a){a.getComputedTransform()}v6.originX=e.originX;v6.originY=e.originY;v6.parent=a;v6.decomposeTransform();return v6}var E6;if("development"!=="production"){E6=function(e,t,n){if(!se(t)){D(t!=null&&isFinite(t),"Prop `"+e+"` must refer to a finite number or ArrayLike for transition.")}else{D(t!==n,"Prop `"+e+"` must use different Array object each time for transition.")}}}function L6(e,t){return!se(e)?e!=null&&isFinite(e):e!==t}var D6;if("development"!=="production"){D6=function(e,t){D(B(a6,e),"Prop `"+e+"` is not a permitted in `"+t+"`. "+"Only `"+k(a6).join("`, `")+"` are permitted.")}}function M6(e){var t=r6(e);return t.leaveToProps||(t.leaveToProps={})}var B6={};var z6={setTransform:function(e,t){if("development"!=="production"){D(B(a6,e),"Only "+i6+" available in `setTransform`.")}B6.el[e]=t;return this},getTransform:function(e){if("development"!=="production"){D(B(a6,e),"Only "+i6+" available in `getTransform`.")}return B6.el[e]},setShape:function(e,t){if("development"!=="production"){V6(e)}var n=B6.el.shape||(B6.el.shape={});n[e]=t;B6.isShapeDirty=true;return this},getShape:function(e){if("development"!=="production"){V6(e)}var t=B6.el.shape;if(t){return t[e]}},setStyle:function(e,t){if("development"!=="production"){V6(e)}var n=B6.el.style;if(n){if("development"!=="production"){if(ye(t)){fi("style."+e+" must not be assigned with NaN.")}}n[e]=t;B6.isStyleDirty=true}return this},getStyle:function(e){if("development"!=="production"){V6(e)}var t=B6.el.style;if(t){return t[e]}},setExtra:function(e,t){if("development"!=="production"){V6(e)}var n=B6.el.extra||(B6.el.extra={});n[e]=t;return this},getExtra:function(e){if("development"!=="production"){V6(e)}var t=B6.el.extra;if(t){return t[e]}}};function V6(e){if("development"!=="production"){if(e==="transition"||e==="enterFrom"||e==="leaveTo"){throw new Error('key must not be "'+e+'"')}}}function R6(){var e=this;var t=e.el;if(!t){return}var n=r6(t).userDuring;var r=e.userDuring;if(n!==r){e.el=e.userDuring=null;return}B6.el=t;B6.isShapeDirty=false;B6.isStyleDirty=false;r(z6);if(B6.isShapeDirty&&t.dirtyShape){t.dirtyShape()}if(B6.isStyleDirty&&t.dirtyStyle){t.dirtyStyle()}}function U6(e,t,n,r,a,i,o){var s=t.isGroup?null:t;var u=a&&a[e].cfg;if(s){var l=s.ensureState(e);if(r===false){var p=s.getState(e);if(p){p.style=null}}else{l.style=r||null}if(u){l.textConfig=u}Dl(s)}}function F6(e,t,n,r){if(e.isGroup){return}var a=e;var i=n.currentZ;var o=n.currentZLevel;a.z=i;a.zlevel=o;var s=t.z2;s!=null&&(a.z2=s||0);for(var u=0;u<d6.length;u++){G6(a,t,d6[u])}}function G6(e,t,n){var r=n===l6;var a=r?t:tD(t,n);var i=a?a.z2:null;var o;if(i!=null){o=r?e:e.ensureState(n);o.z2=i||0}}function H6(e,t,n,r){var a=e[n];var i=f6[n];if(a){if(r){t[i[0]]=r[i[0]];t[i[1]]=r[i[1]]}else{t[i[0]]=a[0];t[i[1]]=a[1]}}}function q6(e,t,n,r){if(e[n]!=null){t[n]=r?r[n]:e[n]}}function W6(e,t,n){if(n){e[t]=n[t]}}function X6(p,c,t,e){var n=p.get("renderItem");var r=p.coordinateSystem;var a={};if(r){if("development"!=="production"){D(n,"series.render is required.");D(r.prepareCustoms||O6[r.type],"This coordSys does not support custom series.")}a=r.prepareCustoms?r.prepareCustoms(r):O6[r.type](r)}var i=M({getWidth:e.getWidth,getHeight:e.getHeight,getZr:e.getZr,getDevicePixelRatio:e.getDevicePixelRatio,value:y,style:I,ordinalRawValue:x,styleEmphasis:S,visual:A,barLayout:T,currentSeriesIndices:C,font:w},a.api||{});var o={context:{},seriesId:p.id,seriesName:p.name,seriesIndex:p.seriesIndex,coordSys:a.coordSys,dataInsideLength:c.count(),encode:Y6(p.getData())};var d;var s;var u={};var l={};var g={};var m={};for(var b=0;b<d6.length;b++){var h=d6[b];g[h]=p.getModel(g6[h]);m[h]=p.getModel(m6[h])}function f(e){return e===d?s||(s=c.getItemModel(e)):c.getItemModel(e)}function v(e,t){return!c.hasItemOption?g[t]:e===d?u[t]||(u[t]=f(e).getModel(g6[t])):f(e).getModel(g6[t])}function O(e,t){return!c.hasItemOption?m[t]:e===d?l[t]||(l[t]=f(e).getModel(m6[t])):f(e).getModel(m6[t])}return function(e,t){d=e;s=null;u={};l={};return n&&n(M({dataIndexInside:e,dataIndex:c.getRawIndex(e),actionType:t?t.type:null},o),i)};function y(e,t){t==null&&(t=d);return c.get(c.getDimension(e||0),t)}function x(e,t){t==null&&(t=d);var n=c.getDimensionInfo(e||0);if(!n){return}var r=c.get(n.name,t);var a=n&&n.ordinalMeta;return a?a.categories[r]:r}function I(e,t){if("development"!=="production"){xL("api.style","Please write literal style directly instead.")}t==null&&(t=d);var n=c.getItemVisual(t,"style");var r=n&&n.fill;var a=n&&n.opacity;var i=v(t,l6).getItemStyle();r!=null&&(i.fill=r);a!=null&&(i.opacity=a);var o={inheritColor:P(r)?r:"#000"};var s=O(t,l6);var u=Od(s,null,o,false,true);u.text=s.getShallow("show")?L(p.getFormattedLabel(t,l6),S_(c,t)):null;var l=yd(s,o,false);_(e,i);i=OL(i,u,l);e&&j(i,e);i.legacy=true;return i}function S(e,t){if("development"!=="production"){xL("api.styleEmphasis","Please write literal style directly instead.")}t==null&&(t=d);var n=v(t,u6).getItemStyle();var r=O(t,u6);var a=Od(r,null,null,true,true);a.text=r.getShallow("show")?Ie(p.getFormattedLabel(t,u6),p.getFormattedLabel(t,l6),S_(c,t)):null;var i=yd(r,null,true);_(e,n);n=OL(n,a,i);e&&j(n,e);n.legacy=true;return n}function j(e,t){for(var n in t){if(B(t,n)){e[n]=t[n]}}}function _(e,t){if(e){e.textFill&&(t.textFill=e.textFill);e.textPosition&&(t.textPosition=e.textPosition)}}function A(e,t){t==null&&(t=d);if(B(o6,e)){var n=c.getItemVisual(t,"style");return n?n[o6[e]]:null}if(B(s6,e)){return c.getItemVisual(t,e)}}function T(e){if(r.type==="cartesian2d"){var t=r.getBaseAxis();return wI(M({axis:t},e))}}function C(){return t.getCurrentSeriesIndices()}function w(e){return Td(e,t)}}function Y6(i){var o={};q(i.dimensions,function(e,t){var n=i.getDimensionInfo(e);if(!n.isExtraCoord){var r=n.coordDim;var a=o[r]=o[r]||[];a[n.coordDimIndex]=t}});return o}function J6(e,t,n,r,a,i,o,s){if(!r){dD(t,i);return}t=Z6(e,t,n,r,a,i,true,s);t&&o.setItemGraphicEl(n,t);t&&tp(t,r.focus,r.blurScope);return t}function Z6(e,t,n,r,a,i,o,s){if("development"!=="production"){D(r,"should not have an null/undefined element setting")}var u=-1;if(t&&$6(t,r)){u=i.childrenRef().indexOf(t);t=null}var l=!t;if(!t){t=S6(r)}else{t.clearStates()}var p=r6(t).canMorph=r.morph&&cD(t);var c=p&&s&&s.hasFrom();var d=l&&!c;h6.normal.cfg=h6.normal.conOpt=h6.emphasis.cfg=h6.emphasis.conOpt=h6.blur.cfg=h6.blur.conOpt=h6.select.cfg=h6.select.conOpt=null;h6.isLegacy=false;Q6(t,n,r,a,d,h6);K6(t,n,r,a,d);var g=j6(e,t,c,n,r,r.style,h6,a,d,false);if(c){s.addTo(t,r,n,g)}for(var m=0;m<d6.length;m++){var b=d6[m];if(b!==l6){var h=tD(r,b);var f=nD(r,h,b);U6(b,t,h,f,h6)}}F6(t,r,a);if(r.type==="group"){rD(e,t,n,r,a,s)}if(u>=0){i.replaceAt(t,u)}else{i.add(t)}return t}function $6(e,t){var n=r6(e);var r=t.type;var a=t.shape;var i=t.style;return r!=null&&r!==n.customGraphicType||r==="path"&&pD(a)&&lD(a)!==n.customPathData||r==="image"&&B(i,"image")&&i.image!==n.customImagePath}function K6(e,t,n,r,a){var i=n.clipPath;if(i===false){if(e&&e.getClipPath()){e.removeClipPath()}}else if(i){var o=e.getClipPath();if(o&&$6(o,i)){o=null}if(!o){o=S6(i);if("development"!=="production"){D(o instanceof v,"Only any type of `path` can be used in `clipPath`, rather than "+o.type+".")}e.setClipPath(o)}j6(null,o,null,t,i,null,null,r,a,false)}}function Q6(e,t,n,r,a,i){if(e.isGroup){return}eD(n,null,i);eD(n,u6,i);var o=i.normal.conOpt;var s=i.emphasis.conOpt;var u=i.blur.conOpt;var l=i.select.conOpt;if(o!=null||s!=null||l!=null||u!=null){var p=e.getTextContent();if(o===false){p&&e.removeTextContent()}else{o=i.normal.conOpt=o||{type:"text"};if(!p){p=S6(o);e.setTextContent(p)}else{p.clearStates()}var c=o&&o.style;j6(null,p,null,t,o,c,null,r,a,true);for(var d=0;d<d6.length;d++){var g=d6[d];if(g!==l6){var m=i[g].conOpt;U6(g,p,m,nD(o,m,g),null)}}c?p.dirty():p.markRedraw()}}}function eD(e,t,n){var r=!t?e:tD(e,t);var a=!t?e.style:nD(e,r,u6);var i=e.type;var o=r?r.textConfig:null;var s=e.textContent;var u=!s?null:!t?s:tD(s,t);if(a&&(n.isLegacy||hL(a,i,!!o,!!u))){n.isLegacy=true;var l=fL(a,i,!t);if(!o&&l.textConfig){o=l.textConfig}if(!u&&l.textContent){u=l.textContent}}if(!t&&u){var p=u;!p.type&&(p.type="text");if("development"!=="production"){p.type!=="text"&&D(p.type==="text",'textContent.type must be "text"')}}var c=!t?n.normal:n[t];c.cfg=o;c.conOpt=u}function tD(e,t){return!t?e:e?e[t]:null}function nD(e,t,n){var r=t&&t.style;if(r==null&&n===u6&&e){r=e.styleEmphasis}return r}function rD(e,t,n,r,a,i){var o=r.children;var s=o?o.length:0;var u=r.$mergeChildren;var l=u==="byName"||r.diffChildrenByName;var p=u===false;if(!s&&!l&&!p){return}if(l){aD({api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:a,group:t,morphPreparation:i});return}p&&t.removeAll();var c=0;for(;c<s;c++){o[c]&&Z6(e,t.childAt(c),n,o[c],a,t,false,i)}for(var d=t.childCount()-1;d>=c;d--){uD(t.childAt(d),a,t)}}function aD(e){new bx(e.oldChildren,e.newChildren,iD,iD,e).add(oD).update(oD).remove(sD).execute()}function iD(e,t){var n=e&&e.name;return n!=null?n:b6+t}function oD(e,t){var n=this.context;var r=e!=null?n.newChildren[e]:null;var a=t!=null?n.oldChildren[t]:null;Z6(n.api,a,n.dataIndex,r,n.seriesModel,n.group,false,n.morphPreparation)}function sD(e){var t=this.context;var n=t.oldChildren[e];uD(n,t.seriesModel,t.group)}function uD(e,t,n){if(e){var r=r6(e).leaveToProps;r?Y(e,r,t,{cb:function(){n.remove(e)}}):n.remove(e)}}function lD(e){return e&&(e.pathData||e.d)}function pD(e){return e&&(B(e,"pathData")||B(e,"d"))}function cD(e){return e&&e instanceof v}function dD(e,t){e&&t.remove(e)}var gD=function(){function e(e,t){this._fromList=[];this._toList=[];this._toElOptionList=[];this._allPropsFinalList=[];this._toDataIndices=[];this._morphConfigList=[];this._seriesModel=e;this._transOpt=t}e.prototype.hasFrom=function(){return!!this._fromList.length};e.prototype.findAndAddFrom=function(e){if(!e){return}if(r6(e).canMorph){this._fromList.push(e)}if(e.isGroup){var t=e.childrenRef();for(var n=0;n<t.length;n++){this.findAndAddFrom(t[n])}}};e.prototype.addTo=function(e,t,n,r){if(e){this._toList.push(e);this._toElOptionList.push(t);this._toDataIndices.push(n);this._allPropsFinalList.push(r)}};e.prototype.applyMorphing=function(){var e=this._type;var t=this._fromList;var n=this._toList;var r=n.length;var a=t.length;if(!a||!r){return}if(e==="oneToOne"){for(var i=0;i<r;i++){this._oneToOneForSingleTo(i,i)}}else if(e==="manyToOne"){var o=Math.max(1,Math.floor(a/r));for(var i=0,s=0;i<r;i++,s+=o){var u=i+1>=r?a-s:o;this._manyToOneForSingleTo(i,s>=a?null:s,u)}}else if(e==="oneToMany"){var l=Math.max(1,Math.floor(r/a));for(var p=0,c=0;p<r;p+=l,c++){var d=p+l>=r?r-p:l;this._oneToManyForSingleFrom(p,d,c>=a?null:c)}}};e.prototype._oneToOneForSingleTo=function(e,t){var n=this._toList[e];var r=this._toElOptionList[e];var a=this._toDataIndices[e];var i=this._allPropsFinalList[e];var o=this._fromList[t];var s=this._getOrCreateMorphConfig(a);var u=s.duration;if(o&&FL(o)){_6(n,i,r.style);if(u){var l=HL([o],n,s,mD);this._processResultIndividuals(l,e,null)}}else{var p=u&&o&&(o!==n||GL(o))?o:null;var c={};T6("shape",n,p,r,c,false);T6("extra",n,p,r,c,false);w6(n,p,r,c,false);N6(n,p,r,r.style,c,false);_6(n,i,r.style);if(p){ML(p,n,s)}A6(n,a,r,this._seriesModel,c,false)}};e.prototype._manyToOneForSingleTo=function(e,t,n){var r=this._toList[e];var a=this._toElOptionList[e];var i=this._allPropsFinalList[e];_6(r,i,a.style);var o=this._getOrCreateMorphConfig(this._toDataIndices[e]);if(o.duration&&t!=null){var s=[];for(var u=t;u<n;u++){s.push(this._fromList[u])}var l=HL(s,r,o,mD);this._processResultIndividuals(l,e,null)}};e.prototype._oneToManyForSingleFrom=function(e,t,n){var r=n==null?null:this._fromList[n];var a=this._toList;var i=[];for(var o=e;o<t;o++){var s=a[o];_6(s,this._allPropsFinalList[o],this._toElOptionList[o].style);i.push(s)}var u=this._getOrCreateMorphConfig(this._toDataIndices[e]);if(u.duration&&r){var l=KL(r,i,u,mD);this._processResultIndividuals(l,e,t)}};e.prototype._processResultIndividuals=function(e,t,n){var r=n!=null;for(var a=0;a<e.count;a++){var i=e.fromIndividuals[a];var o=e.toIndividuals[a];var s=t+(r?a:0);var u=this._toElOptionList[s];var l=this._toDataIndices[s];var p={};w6(o,i,u,p,false);N6(o,i,u,u.style,p,false);A6(o,l,u,this._seriesModel,p,false)}};e.prototype._getOrCreateMorphConfig=function(e){var t=this._morphConfigList;var n=t[e];if(n){return n}var r;var a;var i;var o=this._seriesModel;var s=this._transOpt;if(o.isAnimationEnabled()){var u=void 0;if(o&&o.ecModel){var l=o.ecModel.getUpdatePayload();u=l&&l.animation}if(u){r=u.duration||0;a=u.easing||"cubicOut";i=u.delay||0}else{a=o.get("animationEasingUpdate");var p=o.get("animationDelayUpdate");i=x(p)?p(e):p;var c=o.get("animationDurationUpdate");r=x(c)?c(e):c}}n={duration:r||0,delay:i,easing:a,dividingMethod:s?s.dividingMethod:null};t[e]=n;return n};e.prototype.reset=function(e){this._type=e;this._fromList.length=this._toList.length=this._toElOptionList.length=this._allPropsFinalList.length=this._toDataIndices.length=0};return e}();function mD(e,t,n){t.style=n?j(e.style):e.style;t.zlevel=e.zlevel;t.z=e.z;t.z2=e.z2}function bD(e){e.registerChartView(x6);e.registerSeriesModel(y6)}var hD=Ji();var fD=j;var vD=O;var OD=function(){function e(){this._dragging=false;this.animationThreshold=15}e.prototype.render=function(e,t,n,r){var a=t.get("value");var i=t.get("status");this._axisModel=e;this._axisPointerModel=t;this._api=n;if(!r&&this._lastValue===a&&this._lastStatus===i){return}this._lastValue=a;this._lastStatus=i;var o=this._group;var s=this._handle;if(!i||i==="hide"){o&&o.hide();s&&s.hide();return}o&&o.show();s&&s.show();var u={};this.makeElOption(u,a,e,t,n);var l=u.graphicKey;if(l!==this._lastGraphicKey){this.clear(n)}this._lastGraphicKey=l;var p=this._moveAnimation=this.determineAnimation(e,t);if(!o){o=this._group=new F;this.createPointerEl(o,u,e,t);this.createLabelEl(o,u,e,t);n.getZr().add(o)}else{var c=y(yD,t,p);this.updatePointerEl(o,u,c);this.updateLabelEl(o,u,c,t)}jD(o,t,true);this._renderHandle(a)};e.prototype.remove=function(e){this.clear(e)};e.prototype.dispose=function(e){this.clear(e)};e.prototype.determineAnimation=function(e,t){var n=t.get("animation");var r=e.axis;var a=r.type==="category";var i=t.get("snap");if(!i&&!a){return false}if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&r.getBandWidth()>o){return true}if(i){var s=r4(e).seriesDataCount;var u=r.getExtent();return Math.abs(u[0]-u[1])/s>o}return false}return n===true};e.prototype.makeElOption=function(e,t,n,r,a){};e.prototype.createPointerEl=function(e,t,n,r){var a=t.pointer;if(a){var i=hD(e).pointerEl=new gd[a.type](fD(t.pointer));e.add(i)}};e.prototype.createLabelEl=function(e,t,n,r){if(t.label){var a=hD(e).labelEl=new G(fD(t.label));e.add(a);ID(a,r)}};e.prototype.updatePointerEl=function(e,t,n){var r=hD(e).pointerEl;if(r&&t.pointer){r.setStyle(t.pointer.style);n(r,{shape:t.pointer.shape})}};e.prototype.updateLabelEl=function(e,t,n,r){var a=hD(e).labelEl;if(a){a.setStyle(t.label.style);n(a,{x:t.label.x,y:t.label.y});ID(a,r)}};e.prototype._renderHandle=function(e){if(this._dragging||!this.updateHandleTransform){return}var t=this._axisPointerModel;var n=this._api.getZr();var r=this._handle;var a=t.getModel("handle");var i=t.get("status");if(!a.get("show")||!i||i==="hide"){r&&n.remove(r);this._handle=null;return}var o;if(!this._handle){o=true;r=this._handle=sd(a.get("icon"),{cursor:"move",draggable:true,onmousemove:function(e){wt(e.event)},onmousedown:vD(this._onHandleDragMove,this,0,0),drift:vD(this._onHandleDragMove,this),ondragend:vD(this._onHandleDragEnd,this)});n.add(r)}jD(r,t,false);r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");if(!N(s)){s=[s,s]}r.scaleX=s[0]/2;r.scaleY=s[1]/2;Bf(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate");this._moveHandleToValue(e,o)};e.prototype._moveHandleToValue=function(e,t){yD(this._axisPointerModel,!t&&this._moveAnimation,this._handle,SD(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))};e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(!n){return}this._dragging=true;var r=this.updateHandleTransform(SD(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r;n.stopAnimation();n.attr(SD(r));hD(n).lastProp=null;this._doDispatchAxisPointer()};e.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(!e){return}var t=this._payloadInfo;var n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})};e.prototype._onHandleDragEnd=function(){this._dragging=false;var e=this._handle;if(!e){return}var t=this._axisPointerModel.get("value");this._moveHandleToValue(t);this._api.dispatchAction({type:"hideTip"})};e.prototype.clear=function(e){this._lastValue=null;this._lastStatus=null;var t=e.getZr();var n=this._group;var r=this._handle;if(t&&n){this._lastGraphicKey=null;n&&t.remove(n);r&&t.remove(r);this._group=null;this._handle=null;this._payloadInfo=null}};e.prototype.doClear=function(){};e.prototype.buildLabel=function(e,t,n){n=n||0;return{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}};return e}();function yD(e,t,n,r){if(!xD(hD(n).lastProp,r)){hD(n).lastProp=r;t?Y(n,r,e):(n.stopAnimation(),n.attr(r))}}function xD(n,e){if(E(n)&&E(e)){var r=true;q(e,function(e,t){r=r&&xD(n[t],e)});return!!r}else{return n===e}}function ID(e,t){e[t.get(["label","show"])?"show":"hide"]()}function SD(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function jD(e,t,n){var r=t.get("z");var a=t.get("zlevel");e&&e.traverse(function(e){if(e.type!=="group"){r!=null&&(e.z=r);a!=null&&(e.zlevel=a);e.silent=n}})}function _D(e){var t=e.get("type");var n=e.getModel(t+"Style");var r;if(t==="line"){r=n.getLineStyle();r.fill=null}else if(t==="shadow"){r=n.getAreaStyle();r.stroke=null}return r}function AD(e,t,n,r,a){var i=n.get("value");var o=CD(i,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])});var s=n.getModel("label");var u=zg(s.get("padding")||0);var l=s.getFont();var p=ga(o,l);var c=a.position;var d=p.width+u[1]+u[3];var g=p.height+u[0]+u[2];var m=a.align;m==="right"&&(c[0]-=d);m==="center"&&(c[0]-=d/2);var b=a.verticalAlign;b==="bottom"&&(c[1]-=g);b==="middle"&&(c[1]-=g/2);TD(c,d,g,r);var h=s.get("backgroundColor");if(!h||h==="auto"){h=t.get(["axisLine","lineStyle","color"])}e.label={x:c[0],y:c[1],style:Od(s,{text:o,font:l,fill:s.getTextColor(),padding:u,backgroundColor:h}),z2:10}}function TD(e,t,n,r){var a=r.getWidth();var i=r.getHeight();e[0]=Math.min(e[0]+t,a)-t;e[1]=Math.min(e[1]+n,i)-n;e[0]=Math.max(e[0],0);e[1]=Math.max(e[1],0)}function CD(e,t,a,n,r){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:r.precision});var o=r.formatter;if(o){var s={value:vS(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};q(n,function(e){var t=a.getSeriesByIndex(e.seriesIndex);var n=e.dataIndexInside;var r=t&&t.getDataParams(n);r&&s.seriesData.push(r)});if(P(o)){i=o.replace("{value}",i)}else if(x(o)){i=o(s)}}return i}function wD(e,t,n){var r=Er();zr(r,r,n.rotation);Br(r,r,n.position);return ed([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function kD(e,t,n,r,a,i){var o=VA.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]);AD(t,r,a,i,{position:wD(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function ND(e,t,n){n=n||0;return{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function PD(e,t,n){n=n||0;return{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function ED(e,t,n,r,a,i){return{cx:e,cy:t,r0:n,r:r,startAngle:a,endAngle:i,clockwise:true}}var LD=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.makeElOption=function(e,t,n,r,a){var i=n.axis;var o=i.grid;var s=r.get("type");var u=DD(o,i).getOtherAxis(i).getGlobalExtent();var l=i.toGlobalCoord(i.dataToCoord(t,true));if(s&&s!=="none"){var p=_D(r);var c=MD[s](i,l,u);c.style=p;e.graphicKey=c.type;e.pointer=c}var d=kA(o.model,n);kD(t,e,d,n,r,a)};t.prototype.getHandleTransform=function(e,t,n){var r=kA(t.axis.grid.model,t,{labelInside:false});r.labelMargin=n.get(["handle","margin"]);var a=wD(t.axis,e,r);return{x:a[0],y:a[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}};t.prototype.updateHandleTransform=function(e,t,n,r){var a=n.axis;var i=a.grid;var o=a.getGlobalExtent(true);var s=DD(i,a).getOtherAxis(a).getGlobalExtent();var u=a.dim==="x"?0:1;var l=[e.x,e.y];l[u]+=t[u];l[u]=Math.min(o[1],l[u]);l[u]=Math.max(o[0],l[u]);var p=(s[1]+s[0])/2;var c=[p,p];c[u]=l[u];var d=[{verticalAlign:"middle"},{align:"center"}];return{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:c,tooltipOption:d[u]}};return t}(OD);function DD(e,t){var n={};n[t.dim+"AxisIndex"]=t.index;return e.getCartesian(n)}var MD={line:function(e,t,n){var r=ND([t,n[0]],[t,n[1]],BD(e));return{type:"Line",subPixelOptimize:true,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth());var a=n[1]-n[0];return{type:"Rect",shape:PD([t-r/2,n[0]],[r,a],BD(e))}}};function BD(e){return e.dim==="x"?0:1}var zD=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="axisPointer";n.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}};return n}(g);var VD=Ji();var RD=q;function UD(e,t,n){if(S.node){return}var r=t.getZr();VD(r).records||(VD(r).records={});FD(r,t);var a=VD(r).records[e]||(VD(r).records[e]={});a.handler=n}function FD(a,i){if(VD(a).initialized){return}VD(a).initialized=true;e("click",y(qD,"click"));e("mousemove",y(qD,"mousemove"));e("globalout",HD);function e(e,r){a.on(e,function(t){var n=WD(i);RD(VD(a).records,function(e){e&&r(e,t,n.dispatchAction)});GD(n.pendings,i)})}}function GD(e,t){var n=e.showTip.length;var r=e.hideTip.length;var a;if(n){a=e.showTip[n-1]}else if(r){a=e.hideTip[r-1]}if(a){a.dispatchAction=null;t.dispatchAction(a)}}function HD(e,t,n){e.handler("leave",null,n)}function qD(e,t,n,r){t.handler(e,n,r)}function WD(n){var r={showTip:[],hideTip:[]};var a=function(e){var t=r[e.type];if(t){t.push(e)}else{e.dispatchAction=a;n.dispatchAction(e)}};return{dispatchAction:a,pendings:r}}function XD(e,t){if(S.node){return}var n=t.getZr();var r=(VD(n).records||{})[e];if(r){VD(n).records[e]=null}}var YD=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var r=t.getComponent("tooltip");var a=e.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";UD("axisPointer",n,function(e,t,n){if(a!=="none"&&(e==="leave"||a.indexOf(e)>=0)){n({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}})};n.prototype.remove=function(e,t){XD("axisPointer",t)};n.prototype.dispose=function(e,t){XD("axisPointer",t)};n.type="axisPointer";return n}(jf);function JD(e,t){var n=[];var r=e.seriesIndex;var a;if(r==null||!(a=t.getSeriesByIndex(r))){return{point:[]}}var i=a.getData();var o=Yi(i,e);if(o==null||o<0||N(o)){return{point:[]}}var s=i.getItemGraphicEl(o);var u=a.coordinateSystem;if(a.getTooltipPosition){n=a.getTooltipPosition(o)||[]}else if(u&&u.dataToPoint){if(e.isStacked){var l=u.getBaseAxis();var p=u.getOtherAxis(l);var c=p.dim;var d=l.dim;var g=c==="x"||c==="radius"?1:0;var m=i.mapDimension(d);var b=[];b[g]=i.get(m,o);b[1-g]=i.get(i.getCalculationInfo("stackResultDimension"),o);n=u.dataToPoint(b)||[]}else{n=u.dataToPoint(i.getValues(w(u.dimensions,function(e){return i.mapDimension(e)}),o))||[]}}else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform);n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}}var ZD=Ji();function $D(e,t,n){var r=e.currTrigger;var o=[e.x,e.y];var a=e;var i=e.dispatchAction||O(n.dispatchAction,n);var s=t.getComponent("axisPointer").coordSysAxesInfo;if(!s){return}if(sM(o)){o=JD({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point}var u=sM(o);var l=a.axesInfo;var p=s.axesInfo;var c=r==="leave"||sM(o);var d={};var g={};var m={list:[],map:{}};var b={showPointer:y(eM,g),showTooltip:y(tM,m)};q(s.coordSysMap,function(e,t){var i=u||e.containPoint(o);q(s.coordSysAxesInfo[t],function(e,t){var n=e.axis;var r=iM(l,e);if(!c&&i&&(!l||r)){var a=r&&r.value;if(a==null&&!u){a=n.pointToData(o)}a!=null&&KD(e,a,b,false,d)}})});var h={};q(p,function(a,e){var i=a.linkGroup;if(i&&!g[e]){q(i.axesInfo,function(e,t){var n=g[t];if(e!==a&&n){var r=n.value;i.mapper&&(r=a.axis.scale.parse(i.mapper(r,oM(e),oM(a))));h[a.key]=r}})}});q(h,function(e,t){KD(p[t],e,b,true,d)});nM(g,p,d);rM(m,o,e,i);aM(p,i,n);return d}function KD(e,t,n,r,a){var i=e.axis;if(i.scale.isBlank()||!i.containData(t)){return}if(!e.involveSeries){n.showPointer(e,t);return}var o=QD(t,e);var s=o.payloadBatch;var u=o.snapToValue;if(s[0]&&a.seriesIndex==null){U(a,s[0])}if(!r&&e.snap){if(i.containData(u)&&u!=null){t=u}}n.showPointer(e,t,s);n.showTooltip(e,o,u)}function QD(u,e){var l=e.axis;var p=l.dim;var c=u;var d=[];var g=Number.MAX_VALUE;var m=-1;q(e.seriesModels,function(t,e){var n=t.getData().mapDimensionsAll(p);var r;var a;if(t.getAxisTooltipData){var i=t.getAxisTooltipData(n,u,l);a=i.dataIndices;r=i.nestestValue}else{a=t.getData().indicesOfNearest(n[0],u,l.type==="category"?.5:null);if(!a.length){return}r=t.getData().get(n[0],a[0])}if(r==null||!isFinite(r)){return}var o=u-r;var s=Math.abs(o);if(s<=g){if(s<g||o>=0&&m<0){g=s;m=o;c=r;d.length=0}q(a,function(e){d.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})}});return{payloadBatch:d,snapToValue:c}}function eM(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function tM(e,t,n,r){var a=n.payloadBatch;var i=t.axis;var o=i.model;var s=t.axisPointerModel;if(!t.triggerTooltip||!a.length){return}var u=t.coordSys.model;var l=o4(u);var p=e.map[l];if(!p){p=e.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]};e.list.push(p)}p.dataByAxis.push({axisDim:i.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}function nM(a,e,t){var i=t.axesInfo=[];q(e,function(e,t){var n=e.axisPointerModel.option;var r=a[t];if(r){!e.useHandle&&(n.status="show");n.value=r.value;n.seriesDataIndices=(r.payloadBatch||[]).slice()}else{!e.useHandle&&(n.status="hide")}n.status==="show"&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})})}function rM(e,t,n,r){if(sM(t)||!e.list.length){r({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:true,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function aM(e,t,n){var r=n.getZr();var a="axisPointerLastHighlights";var i=ZD(r)[a]||{};var o=ZD(r)[a]={};q(e,function(e,t){var n=e.axisPointerModel.option;n.status==="show"&&q(n.seriesDataIndices,function(e){var t=e.seriesIndex+" | "+e.dataIndex;o[t]=e})});var s=[];var u=[];q(i,function(e,t){!o[t]&&u.push(e)});q(o,function(e,t){!i[t]&&s.push(e)});u.length&&n.dispatchAction({type:"downplay",escapeConnect:true,notBlur:true,batch:u});s.length&&n.dispatchAction({type:"highlight",escapeConnect:true,notBlur:true,batch:s})}function iM(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex){return r}}}function oM(e){var t=e.axis.model;var n={};var r=n.axisDim=e.axis.dim;n.axisIndex=n[r+"AxisIndex"]=t.componentIndex;n.axisName=n[r+"AxisName"]=t.name;n.axisId=n[r+"AxisId"]=t.id;return n}function sM(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function uM(e){u4.registerAxisPointerClass("CartesianAxisPointer",LD);e.registerComponentModel(zD);e.registerComponentView(YD);e.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;if(t&&!N(t)){e.axisPointer.link=[t]}}});e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=ZA(e,t)});e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},$D)}function lM(e){t(y4);t(uM)}var pM=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.makeElOption=function(e,t,n,r,a){var i=n.axis;if(i.dim==="angle"){this.animationThreshold=Math.PI/18}var o=i.polar;var s=o.getOtherAxis(i);var u=s.getExtent();var l=i.dataToCoord(t);var p=r.get("type");if(p&&p!=="none"){var c=_D(r);var d=dM[p](i,o,l,u);d.style=c;e.graphicKey=d.type;e.pointer=d}var g=r.get(["label","margin"]);var m=cM(t,n,r,o,g);AD(e,n,r,a,m)};return t}(OD);function cM(e,t,n,r,a){var i=t.axis;var o=i.dataToCoord(e);var s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var u=r.getRadiusAxis().getExtent();var l;var p;var c;if(i.dim==="radius"){var d=Er();zr(d,d,s);Br(d,d,[r.cx,r.cy]);l=ed([o,-a],d);var g=t.getModel("axisLabel").get("rotate")||0;var m=VA.innerTextLayout(s,g*Math.PI/180,-1);p=m.textAlign;c=m.textVerticalAlign}else{var b=u[1];l=r.coordToPoint([b+a,o]);var h=r.cx;var f=r.cy;p=Math.abs(l[0]-h)/b<.3?"center":l[0]>h?"left":"right";c=Math.abs(l[1]-f)/b<.3?"middle":l[1]>f?"top":"bottom"}return{position:l,align:p,verticalAlign:c}}var dM={line:function(e,t,n,r){return e.dim==="angle"?{type:"Line",shape:ND(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var a=Math.max(1,e.getBandWidth());var i=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:ED(t.cx,t.cy,r[0],r[1],(-n-a/2)*i,(-n+a/2)*i)}:{type:"Sector",shape:ED(t.cx,t.cy,n-a/2,n+a/2,0,Math.PI*2)}}};var gM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.findAxisModel=function(e){var t;var n=this.ecModel;n.eachComponent(e,function(e){if(e.getCoordSysModel()===this){t=e}},this);return t};n.type="polar";n.dependencies=["radiusAxis","angleAxis"];n.defaultOption={zlevel:0,z:0,center:["50%","50%"],radius:"80%"};return n}(g);var mM=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qi).models[0]};t.type="polarAxis";return t}(g);oe(mM,_S);var bM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="angleAxis";return n}(mM);var hM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="radiusAxis";return n}(mM);var fM=function(n){b(e,n);function e(e,t){return n.call(this,"radius",e,t)||this}e.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]};return e}(QS);fM.prototype.dataToRadius=QS.prototype.dataToCoord;fM.prototype.radiusToData=QS.prototype.coordToData;var vM=Ji();var OM=function(n){b(e,n);function e(e,t){return n.call(this,"angle",e,t||[0,360])||this}e.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[this.dim==="radius"?0:1]};e.prototype.calculateCategoryInterval=function(){var e=this;var t=e.getLabelModel();var n=e.scale;var r=n.getExtent();var a=n.count();if(r[1]-r[0]<1){return 0}var i=r[0];var o=e.dataToCoord(i+1)-e.dataToCoord(i);var s=Math.abs(o);var u=ga(i==null?"":i+"",t.getFont(),"center","top");var l=Math.max(u.height,7);var p=l/s;isNaN(p)&&(p=Infinity);var c=Math.max(0,Math.floor(p));var d=vM(e.model);var g=d.lastAutoInterval;var m=d.lastTickCount;if(g!=null&&m!=null&&Math.abs(g-c)<=1&&Math.abs(m-a)<=1&&g>c){c=g}else{d.lastTickCount=a;d.lastAutoInterval=c}return c};return e}(QS);OM.prototype.dataToAngle=QS.prototype.dataToCoord;OM.prototype.angleToData=QS.prototype.coordToData;var yM=function(){function e(e){this.dimensions=["radius","angle"];this.type="polar";this.cx=0;this.cy=0;this._radiusAxis=new fM;this._angleAxis=new OM;this.axisPointerEnabled=true;this.name=e||"";this._radiusAxis.polar=this._angleAxis.polar=this}e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])};e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])};e.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]};e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]};e.prototype.getAxesByScale=function(e){var t=[];var n=this._angleAxis;var r=this._radiusAxis;n.scale.type===e&&t.push(n);r.scale.type===e&&t.push(r);return t};e.prototype.getAngleAxis=function(){return this._angleAxis};e.prototype.getRadiusAxis=function(){return this._radiusAxis};e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t};e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()};e.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}};e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])};e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]};e.prototype.pointToCoord=function(e){var t=e[0]-this.cx;var n=e[1]-this.cy;var r=this.getAngleAxis();var a=r.getExtent();var i=Math.min(a[0],a[1]);var o=Math.max(a[0],a[1]);r.inverse?i=o-360:o=i+360;var s=Math.sqrt(t*t+n*n);t/=s;n/=s;var u=Math.atan2(-n,t)/Math.PI*180;var l=u<i?1:-1;while(u<i||u>o){u+=l*360}return[s,u]};e.prototype.coordToPoint=function(e){var t=e[0];var n=e[1]/180*Math.PI;var r=Math.cos(n)*t+this.cx;var a=-Math.sin(n)*t+this.cy;return[r,a]};e.prototype.getArea=function(){var e=this.getAngleAxis();var t=this.getRadiusAxis();var n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var r=e.getExtent();var a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx;var r=t-this.cy;var a=n*n+r*r;var i=this.r;var o=this.r0;return a<=i*i&&a>=o*o}}};e.prototype.convertToPixel=function(e,t,n){var r=xM(t);return r===this?this.dataToPoint(n):null};e.prototype.convertFromPixel=function(e,t,n){var r=xM(t);return r===this?this.pointToData(n):null};return e}();function xM(e){var t=e.seriesModel;var n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function IM(e,t,n){var r=t.get("center");var a=n.getWidth();var i=n.getHeight();e.cx=X(r[0],a);e.cy=X(r[1],i);var o=e.getRadiusAxis();var s=Math.min(a,i)/2;var u=t.get("radius");if(u==null){u=[0,"100%"]}else if(!N(u)){u=[0,u]}var l=[X(u[0],s),X(u[1],s)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}function SM(e,t){var n=this;var r=n.getAngleAxis();var a=n.getRadiusAxis();r.scale.setExtent(Infinity,-Infinity);a.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();q(SS(t,"radius"),function(e){a.scale.unionExtentFromData(t,e)});q(SS(t,"angle"),function(e){r.scale.unionExtentFromData(t,e)})}});mS(r.scale,r.model);mS(a.scale,a.model);if(r.type==="category"&&!r.onBand){var i=r.getExtent();var o=360/r.scale.count();r.inverse?i[1]+=o:i[1]-=o;r.setExtent(i[0],i[1])}}function jM(e){return e.mainType==="angleAxis"}function _M(e,t){e.type=t.get("type");e.scale=bS(t);e.onBand=t.get("boundaryGap")&&e.type==="category";e.inverse=t.get("inverse");if(jM(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e;e.model=t}var AM={dimensions:yM.prototype.dimensions,create:function(e,s){var u=[];e.eachComponent("polar",function(e,t){var n=new yM(t+"");n.update=SM;var r=n.getRadiusAxis();var a=n.getAngleAxis();var i=e.findAxisModel("radiusAxis");var o=e.findAxisModel("angleAxis");_M(r,i);_M(a,o);IM(n,e,s);u.push(n);e.coordinateSystem=n;n.model=e});e.eachSeries(function(e){if(e.get("coordinateSystem")==="polar"){var t=e.getReferringComponents("polar",Qi).models[0];if("development"!=="production"){if(!t){throw new Error('Polar "'+xe(e.get("polarIndex"),e.get("polarId"),0)+'" not found')}}e.coordinateSystem=t.coordinateSystem}});return u}};var TM=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function CM(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]);var a=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:a[0],y2:a[1]}}function wM(e){var t=e.getRadiusAxis();return t.inverse?0:1}function kM(e){var t=e[0];var n=e[e.length-1];if(t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4){e.pop()}}var NM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.axisPointerClass="PolarAxisPointer";return e}n.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var r=t.axis;var n=r.polar;var a=n.getRadiusAxis().getExtent();var i=r.getTicksCoords();var o=r.getMinorTicksCoords();var s=w(r.getViewLabels(),function(e){e=j(e);var t=r.scale;var n=t.type==="ordinal"?t.getRawOrdinalNumber(e.tickValue):e.tickValue;e.coord=r.dataToCoord(n);return e});kM(s);kM(i);q(TM,function(e){if(t.get([e,"show"])&&(!r.scale.isBlank()||e==="axisLine")){PM[e](this.group,t,n,i,o,a,s)}},this)};n.type="angleAxis";return n}(u4);var PM={axisLine:function(e,t,n,r,a,i){var o=t.getModel(["axisLine","lineStyle"]);var s=wM(n);var u=s?0:1;var l;if(i[u]===0){l=new Mp({shape:{cx:n.cx,cy:n.cy,r:i[s]},style:o.getLineStyle(),z2:1,silent:true})}else{l=new nc({shape:{cx:n.cx,cy:n.cy,r:i[s],r0:i[u]},style:o.getLineStyle(),z2:1,silent:true})}l.style.fill=null;e.add(l)},axisTick:function(e,t,n,r,a,i){var o=t.getModel("axisTick");var s=(o.get("inside")?-1:1)*o.get("length");var u=i[wM(n)];var l=w(r,function(e){return new gc({shape:CM(n,[u,u+s],e.coord)})});e.add(Fc(l,{style:M(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,a,i){if(!a.length){return}var o=t.getModel("axisTick");var s=t.getModel("minorTick");var u=(o.get("inside")?-1:1)*s.get("length");var l=i[wM(n)];var p=[];for(var c=0;c<a.length;c++){for(var d=0;d<a[c].length;d++){p.push(new gc({shape:CM(n,[l,l+u],a[c][d].coord)}))}}e.add(Fc(p,{style:M(s.getModel("lineStyle").getLineStyle(),M(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))},axisLabel:function(g,m,b,e,t,h,n){var f=m.getCategories(true);var v=m.getModel("axisLabel");var O=v.get("margin");var y=m.get("triggerEvent");q(n,function(e,t){var n=v;var r=e.tickValue;var a=h[wM(b)];var i=b.coordToPoint([a+O,e.coord]);var o=b.cx;var s=b.cy;var u=Math.abs(i[0]-o)/a<.3?"center":i[0]>o?"left":"right";var l=Math.abs(i[1]-s)/a<.3?"middle":i[1]>s?"top":"bottom";if(f&&f[r]){var p=f[r];if(E(p)&&p.textStyle){n=new A(p.textStyle,v,v.ecModel)}}var c=new G({silent:VA.isLabelSilent(m),style:Od(n,{x:i[0],y:i[1],fill:n.getTextColor()||m.get(["axisLine","lineStyle","color"]),text:e.formattedLabel,align:u,verticalAlign:l})});g.add(c);if(y){var d=VA.makeAxisEventDataBase(m);d.targetType="axisLabel";d.value=e.rawLabel;H(c).eventData=d}},this)},splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine");var s=o.getModel("lineStyle");var u=s.get("color");var l=0;u=u instanceof Array?u:[u];var p=[];for(var c=0;c<r.length;c++){var d=l++%u.length;p[d]=p[d]||[];p[d].push(new gc({shape:CM(n,i,r[c].coord)}))}for(var c=0;c<p.length;c++){e.add(Fc(p[c],{style:M({stroke:u[c%u.length]},s.getLineStyle()),silent:true,z:t.get("z")}))}},minorSplitLine:function(e,t,n,r,a,i){if(!a.length){return}var o=t.getModel("minorSplitLine");var s=o.getModel("lineStyle");var u=[];for(var l=0;l<a.length;l++){for(var p=0;p<a[l].length;p++){u.push(new gc({shape:CM(n,i,a[l][p].coord)}))}}e.add(Fc(u,{style:s.getLineStyle(),silent:true,z:t.get("z")}))},splitArea:function(e,t,n,r,a,i){if(!r.length){return}var o=t.getModel("splitArea");var s=o.getModel("areaStyle");var u=s.get("color");var l=0;u=u instanceof Array?u:[u];var p=[];var c=Math.PI/180;var d=-r[0].coord*c;var g=Math.min(i[0],i[1]);var m=Math.max(i[0],i[1]);var b=t.get("clockwise");for(var h=1,f=r.length;h<=f;h++){var v=h===f?r[0].coord:r[h].coord;var O=l++%u.length;p[O]=p[O]||[];p[O].push(new ec({shape:{cx:n.cx,cy:n.cy,r0:g,r:m,startAngle:d,endAngle:-v*c,clockwise:b},silent:true}));d=-v*c}for(var h=0;h<p.length;h++){e.add(Fc(p[h],{style:M({fill:u[h%u.length]},s.getAreaStyle()),silent:true}))}}};var EM=["axisLine","axisTickLabel","axisName"];var LM=["splitLine","splitArea","minorSplitLine"];var DM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.axisPointerClass="PolarAxisPointer";return e}n.prototype.render=function(t,e){this.group.removeAll();if(!t.get("show")){return}var n=this._axisGroup;var r=this._axisGroup=new F;this.group.add(r);var a=t.axis;var i=a.polar;var o=i.getAngleAxis();var s=a.getTicksCoords();var u=a.getMinorTicksCoords();var l=o.getExtent()[0];var p=a.getExtent();var c=BM(i,t,l);var d=new VA(t,c);q(EM,d.add,d);r.add(d.getGroup());ad(n,r,t);q(LM,function(e){if(t.get([e,"show"])&&!a.scale.isBlank()){MM[e](this.group,t,i,l,p,s,u)}},this)};n.type="radiusAxis";return n}(u4);var MM={splitLine:function(e,t,n,r,a,i){var o=t.getModel("splitLine");var s=o.getModel("lineStyle");var u=s.get("color");var l=0;u=u instanceof Array?u:[u];var p=[];for(var c=0;c<i.length;c++){var d=l++%u.length;p[d]=p[d]||[];p[d].push(new Mp({shape:{cx:n.cx,cy:n.cy,r:i[c].coord}}))}for(var c=0;c<p.length;c++){e.add(Fc(p[c],{style:M({stroke:u[c%u.length],fill:null},s.getLineStyle()),silent:true}))}},minorSplitLine:function(e,t,n,r,a,i,o){if(!o.length){return}var s=t.getModel("minorSplitLine");var u=s.getModel("lineStyle");var l=[];for(var p=0;p<o.length;p++){for(var c=0;c<o[p].length;c++){l.push(new Mp({shape:{cx:n.cx,cy:n.cy,r:o[p][c].coord}}))}}e.add(Fc(l,{style:M({fill:null},u.getLineStyle()),silent:true}))},splitArea:function(e,t,n,r,a,i){if(!i.length){return}var o=t.getModel("splitArea");var s=o.getModel("areaStyle");var u=s.get("color");var l=0;u=u instanceof Array?u:[u];var p=[];var c=i[0].coord;for(var d=1;d<i.length;d++){var g=l++%u.length;p[g]=p[g]||[];p[g].push(new ec({shape:{cx:n.cx,cy:n.cy,r0:c,r:i[d].coord,startAngle:0,endAngle:Math.PI*2},silent:true}));c=i[d].coord}for(var d=0;d<p.length;d++){e.add(Fc(p[d],{style:M({fill:u[d%u.length]},s.getAreaStyle()),silent:true}))}}};function BM(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function zM(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function VM(e,t){return t.dim+e.model.componentIndex}function RM(e,t,n){var E={};var L=UM(le(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&e.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(e){if(e.coordinateSystem.type!=="polar"){return}var t=e.getData();var n=e.coordinateSystem;var r=n.getBaseAxis();var a=VM(n,r);var i=zM(e);var o=L[a][i];var s=o.offset;var u=o.width;var l=n.getOtherAxis(r);var p=e.coordinateSystem.cx;var c=e.coordinateSystem.cy;var d=e.get("barMinHeight")||0;var g=e.get("barMinAngle")||0;E[i]=E[i]||[];var m=t.mapDimension(l.dim);var b=t.mapDimension(r.dim);var h=iI(t,m);var f=r.dim!=="radius"||!e.get("roundCap",true);var v=l.dataToCoord(0);for(var O=0,y=t.count();O<y;O++){var x=t.get(m,O);var I=t.get(b,O);var S=x>=0?"p":"n";var j=v;if(h){if(!E[i][I]){E[i][I]={p:v,n:v}}j=E[i][I][S]}var _=void 0;var A=void 0;var T=void 0;var C=void 0;if(l.dim==="radius"){var w=l.dataToCoord(x)-v;var k=r.dataToCoord(I);if(Math.abs(w)<d){w=(w<0?-1:1)*d}_=j;A=j+w;T=k-s;C=T-u;h&&(E[i][I][S]=A)}else{var N=l.dataToCoord(x,f)-v;var P=r.dataToCoord(I);if(Math.abs(N)<g){N=(N<0?-1:1)*g}_=P+s;A=_+u;T=j;C=j+N;h&&(E[i][I][S]=C)}t.setItemLayout(O,{cx:p,cy:c,r0:_,r:A,startAngle:-T*Math.PI/180,endAngle:-C*Math.PI/180})}})}function UM(e){var b={};q(e,function(e,t){var n=e.getData();var r=e.coordinateSystem;var a=r.getBaseAxis();var i=VM(r,a);var o=a.getExtent();var s=a.type==="category"?a.getBandWidth():Math.abs(o[1]-o[0])/n.count();var u=b[i]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var l=u.stacks;b[i]=u;var p=zM(e);if(!l[p]){u.autoWidthCount++}l[p]=l[p]||{width:0,maxWidth:0};var c=X(e.get("barWidth"),s);var d=X(e.get("barMaxWidth"),s);var g=e.get("barGap");var m=e.get("barCategoryGap");if(c&&!l[p].width){c=Math.min(u.remainedWidth,c);l[p].width=c;u.remainedWidth-=c}d&&(l[p].maxWidth=d);g!=null&&(u.gap=g);m!=null&&(u.categoryGap=m)});var d={};q(b,function(e,n){d[n]={};var t=e.stacks;var r=e.bandWidth;var a=X(e.categoryGap,r);var i=X(e.gap,1);var o=e.remainedWidth;var s=e.autoWidthCount;var u=(o-a)/(s+(s-1)*i);u=Math.max(u,0);q(t,function(e,t){var n=e.maxWidth;if(n&&n<u){n=Math.min(n,o);if(e.width){n=Math.min(n,e.width)}o-=n;e.width=n;s--}});u=(o-a)/(s+(s-1)*i);u=Math.max(u,0);var l=0;var p;q(t,function(e,t){if(!e.width){e.width=u}p=e;l+=e.width*(1+i)});if(p){l-=p.width*i}var c=-l/2;q(t,function(e,t){d[n][t]=d[n][t]||{offset:c,width:e.width};c+=e.width*(1+i)})});return d}var FM={startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:0}};var GM={splitNumber:5};var HM=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="polar";return n}(jf);function qM(e){t(uM);u4.registerAxisPointerClass("PolarAxisPointer",pM);e.registerCoordinateSystem("polar",AM);e.registerComponentModel(gM);e.registerComponentView(HM);SA(e,"angle",bM,FM);SA(e,"radius",hM,GM);e.registerComponentView(NM);e.registerComponentView(DM);e.registerLayout(y(RM,"bar"))}function WM(e,t){t=t||{};var n=e.coordinateSystem;var r=e.axis;var a={};var i=r.position;var o=r.orient;var s=n.getRect();var u=[s.x,s.x+s.width,s.y,s.y+s.height];var l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};a.position=[o==="vertical"?l.vertical[i]:u[0],o==="horizontal"?l.horizontal[i]:u[3]];var p={horizontal:0,vertical:1};a.rotation=Math.PI/2*p[o];var c={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=c[i];if(e.get(["axisTick","inside"])){a.tickDirection=-a.tickDirection}if(xe(t.labelInside,e.get(["axisLabel","inside"]))){a.labelDirection=-a.labelDirection}var d=t.rotate;d==null&&(d=e.get(["axisLabel","rotate"]));a.labelRotation=i==="top"?-d:d;a.z2=1;return a}var XM=["axisLine","axisTickLabel","axisName"];var YM=["splitArea","splitLine"];var JM=function(u){b(t,u);function t(){var e=u!==null&&u.apply(this,arguments)||this;e.type=t.type;e.axisPointerClass="SingleAxisPointer";return e}t.prototype.render=function(t,e,n,r){var a=this.group;a.removeAll();var i=this._axisGroup;this._axisGroup=new F;var o=WM(t);var s=new VA(t,o);q(XM,s.add,s);a.add(this._axisGroup);a.add(s.getGroup());q(YM,function(e){if(t.get([e,"show"])){ZM[e](this,this.group,this._axisGroup,t)}},this);ad(i,this._axisGroup,t);u.prototype.render.call(this,t,e,n,r)};t.prototype.remove=function(){c4(this)};t.type="singleAxis";return t}(u4);var ZM={splitLine:function(e,t,n,r){var a=r.axis;if(a.scale.isBlank()){return}var i=r.getModel("splitLine");var o=i.getModel("lineStyle");var s=o.get("color");s=s instanceof Array?s:[s];var u=r.coordinateSystem.getRect();var l=a.isHorizontal();var p=[];var c=0;var d=a.getTicksCoords({tickModel:i});var g=[];var m=[];for(var b=0;b<d.length;++b){var h=a.toGlobalCoord(d[b].coord);if(l){g[0]=h;g[1]=u.y;m[0]=h;m[1]=u.y+u.height}else{g[0]=u.x;g[1]=h;m[0]=u.x+u.width;m[1]=h}var f=c++%s.length;p[f]=p[f]||[];p[f].push(new gc({subPixelOptimize:true,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},silent:true}))}var v=o.getLineStyle(["color"]);for(var b=0;b<p.length;++b){t.add(Fc(p[b],{style:M({stroke:s[b%s.length]},v),silent:true}))}},splitArea:function(e,t,n,r){p4(e,n,r,r)}};var $M=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.getCoordSysModel=function(){return this};n.type="singleAxis";n.layoutMode="box";n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:1,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:1}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:.2}}};return n}(g);oe($M,_S.prototype);var KM=function(o){b(e,o);function e(e,t,n,r,a){var i=o.call(this,e,t,n)||this;i.type=r||"value";i.position=a||"bottom";return i}e.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"};e.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]};return e}(QS);var QM=function(){function e(e,t,n){this.type="single";this.dimension="single";this.dimensions=["single"];this.axisPointerEnabled=true;this.model=e;this._init(e,t,n)}e.prototype._init=function(e,t,n){var r=this.dimension;var a=new KM(r,bS(e),[0,0],e.get("type"),e.get("position"));var i=a.type==="category";a.onBand=i&&e.get("boundaryGap");a.inverse=e.get("inverse");a.orient=e.get("orient");e.axis=a;a.model=e;a.coordinateSystem=this;this._axis=a};e.prototype.update=function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();q(t.mapDimensionsAll(this.dimension),function(e){this._axis.scale.unionExtentFromData(t,e)},this);mS(this._axis.scale,this._axis.model)}},this)};e.prototype.resize=function(e,t){this._rect=om({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()};e.prototype.getRect=function(){return this._rect};e.prototype._adjustAxis=function(){var e=this._rect;var t=this._axis;var n=t.isHorizontal();var r=n?[0,e.width]:[0,e.height];var a=t.reverse?1:0;t.setExtent(r[a],r[1-a]);this._updateAxisTransform(t,n?e.x:e.y)};e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent();var r=n[0]+n[1];var a=e.isHorizontal();e.toGlobalCoord=a?function(e){return e+t}:function(e){return r-e+t};e.toLocalCoord=a?function(e){return e-t}:function(e){return r-e+t}};e.prototype.getAxis=function(){return this._axis};e.prototype.getBaseAxis=function(){return this._axis};e.prototype.getAxes=function(){return[this._axis]};e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}};e.prototype.containPoint=function(e){var t=this.getRect();var n=this.getAxis();var r=n.orient;if(r==="horizontal"){return n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height}else{return n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height}};e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]};e.prototype.dataToPoint=function(e){var t=this.getAxis();var n=this.getRect();var r=[];var a=t.orient==="horizontal"?0:1;if(e instanceof Array){e=e[0]}r[a]=t.toGlobalCoord(t.dataToCoord(+e));r[1-a]=a===0?n.y+n.height/2:n.x+n.width/2;return r};e.prototype.convertToPixel=function(e,t,n){var r=e9(t);return r===this?this.dataToPoint(n):null};e.prototype.convertFromPixel=function(e,t,n){var r=e9(t);return r===this?this.pointToData(n):null};return e}();function e9(e){var t=e.seriesModel;var n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function t9(r,a){var i=[];r.eachComponent("singleAxis",function(e,t){var n=new QM(e,r,a);n.name="single_"+t;n.resize(e,a);e.coordinateSystem=n;i.push(n)});r.eachSeries(function(e){if(e.get("coordinateSystem")==="singleAxis"){var t=e.getReferringComponents("singleAxis",Qi).models[0];e.coordinateSystem=t&&t.coordinateSystem}});return i}var n9={create:t9,dimensions:QM.prototype.dimensions};var r9=["x","y"];var a9=["width","height"];var i9=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.makeElOption=function(e,t,n,r,a){var i=n.axis;var o=i.coordinateSystem;var s=u9(o,1-s9(i));var u=o.dataToPoint(t)[0];var l=r.get("type");if(l&&l!=="none"){var p=_D(r);var c=o9[l](i,u,s);c.style=p;e.graphicKey=c.type;e.pointer=c}var d=WM(n);kD(t,e,d,n,r,a)};t.prototype.getHandleTransform=function(e,t,n){var r=WM(t,{labelInside:false});r.labelMargin=n.get(["handle","margin"]);var a=wD(t.axis,e,r);return{x:a[0],y:a[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}};t.prototype.updateHandleTransform=function(e,t,n,r){var a=n.axis;var i=a.coordinateSystem;var o=s9(a);var s=u9(i,o);var u=[e.x,e.y];u[o]+=t[o];u[o]=Math.min(s[1],u[o]);u[o]=Math.max(s[0],u[o]);var l=u9(i,1-o);var p=(l[1]+l[0])/2;var c=[p,p];c[o]=u[o];return{x:u[0],y:u[1],rotation:e.rotation,cursorPoint:c,tooltipOption:{verticalAlign:"middle"}}};return t}(OD);var o9={line:function(e,t,n){var r=ND([t,n[0]],[t,n[1]],s9(e));return{type:"Line",subPixelOptimize:true,shape:r}},shadow:function(e,t,n){var r=e.getBandWidth();var a=n[1]-n[0];return{type:"Rect",shape:PD([t-r/2,n[0]],[r,a],s9(e))}}};function s9(e){return e.isHorizontal()?0:1}function u9(e,t){var n=e.getRect();return[n[r9[t]],n[r9[t]]+n[a9[t]]]}var l9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="single";return n}(jf);function p9(e){t(uM);u4.registerAxisPointerClass("SingleAxisPointer",i9);e.registerComponentView(l9);e.registerComponentView(JM);e.registerComponentModel($M);SA(e,"single",$M,$M.defaultOption);e.registerCoordinateSystem("single",n9)}var c9=function(a){b(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.init=function(e,t,n){var r=cm(e);a.prototype.init.apply(this,arguments);d9(e,r)};t.prototype.mergeOption=function(e){a.prototype.mergeOption.apply(this,arguments);d9(this.option,e)};t.prototype.getCellSize=function(){return this.option.cellSize};t.type="calendar";t.defaultOption={zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}};return t}(g);function d9(e,t){var n=e.cellSize;var r;if(!N(n)){r=e.cellSize=[n,n]}else{r=n}if(r.length===1){r[1]=r[0]}var a=w([0,1],function(e){if(um(t,e)){r[e]="auto"}return r[e]!=null&&r[e]!=="auto"});pm(e,t,{type:"box",ignoreSize:a})}var g9={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var m9={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};var b9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){var r=this.group;r.removeAll();var a=e.coordinateSystem;var i=a.getRangeInfo();var o=a.getOrient();this._renderDayRect(e,i,r);this._renderLines(e,i,o,r);this._renderYearText(e,i,o,r);this._renderMonthText(e,o,r);this._renderWeekText(e,i,o,r)};n.prototype._renderDayRect=function(e,t,n){var r=e.coordinateSystem;var a=e.getModel("itemStyle").getItemStyle();var i=r.getCellWidth();var o=r.getCellHeight();for(var s=t.start.time;s<=t.end.time;s=r.getNextNDay(s,1).time){var u=r.dataToRect([s],false).tl;var l=new R({shape:{x:u[0],y:u[1],width:i,height:o},cursor:"default",style:a});n.add(l)}};n.prototype._renderLines=function(n,e,r,a){var i=this;var o=n.coordinateSystem;var s=n.getModel(["splitLine","lineStyle"]).getLineStyle();var u=n.get(["splitLine","show"]);var t=s.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var l=e.start;for(var p=0;l.time<=e.end.time;p++){d(l.formatedDate);if(p===0){l=o.getDateInfo(e.start.y+"-"+e.start.m)}var c=l.date;c.setMonth(c.getMonth()+1);l=o.getDateInfo(c)}d(o.getNextNDay(e.end.time,1).formatedDate);function d(e){i._firstDayOfMonth.push(o.getDateInfo(e));i._firstDayPoints.push(o.dataToRect([e],false).tl);var t=i._getLinePointsOfOneWeek(n,e,r);i._tlpoints.push(t[0]);i._blpoints.push(t[t.length-1]);u&&i._drawSplitline(t,s,a)}u&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,t,r),s,a);u&&this._drawSplitline(i._getEdgesPoints(i._blpoints,t,r),s,a)};n.prototype._getEdgesPoints=function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()];var a=n==="horizontal"?0:1;r[0][a]=r[0][a]-t/2;r[1][a]=r[1][a]+t/2;return r};n.prototype._drawSplitline=function(e,t,n){var r=new pc({z2:20,shape:{points:e},style:t});n.add(r)};n.prototype._getLinePointsOfOneWeek=function(e,t,n){var r=e.coordinateSystem;var a=r.getDateInfo(t);var i=[];for(var o=0;o<7;o++){var s=r.getNextNDay(a.time,o);var u=r.dataToRect([s.time],false);i[2*s.day]=u.tl;i[2*s.day+1]=u[n==="horizontal"?"bl":"tr"]}return i};n.prototype._formatterLabel=function(e,t){if(typeof e==="string"&&e){return Wg(e,t)}if(typeof e==="function"){return e(t)}return t.nameMap};n.prototype._yearTextPositionControl=function(e,t,n,r,a){var i=t[0];var o=t[1];var s=["center","bottom"];if(r==="bottom"){o+=a;s=["center","top"]}else if(r==="left"){i-=a}else if(r==="right"){i+=a;s=["center","top"]}else{o-=a}var u=0;if(r==="left"||r==="right"){u=Math.PI/2}return{rotation:u,x:i,y:o,style:{align:s[0],verticalAlign:s[1]}}};n.prototype._renderYearText=function(e,t,n,r){var a=e.getModel("yearLabel");if(!a.get("show")){return}var i=a.get("margin");var o=a.get("position");if(!o){o=n!=="horizontal"?"top":"left"}var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var u=(s[0][0]+s[1][0])/2;var l=(s[0][1]+s[1][1])/2;var p=n==="horizontal"?0:1;var c={top:[u,s[p][1]],bottom:[u,s[1-p][1]],left:[s[1-p][0],l],right:[s[p][0],l]};var d=t.start.y;if(+t.end.y>+t.start.y){d=d+"-"+t.end.y}var g=a.get("formatter");var m={start:t.start.y,end:t.end.y,nameMap:d};var b=this._formatterLabel(g,m);var h=new G({z2:30,style:Od(a,{text:b})});h.attr(this._yearTextPositionControl(h,c[o],n,o,i));r.add(h)};n.prototype._monthTextPositionControl=function(e,t,n,r,a){var i="left";var o="top";var s=e[0];var u=e[1];if(n==="horizontal"){u=u+a;if(t){i="center"}if(r==="start"){o="bottom"}}else{s=s+a;if(t){o="middle"}if(r==="start"){i="right"}}return{x:s,y:u,align:i,verticalAlign:o}};n.prototype._renderMonthText=function(e,t,n){var r=e.getModel("monthLabel");if(!r.get("show")){return}var a=r.get("nameMap");var i=r.get("margin");var o=r.get("position");var s=r.get("align");var u=[this._tlpoints,this._blpoints];if(P(a)){a=g9[a.toUpperCase()]||[]}var l=o==="start"?0:1;var p=t==="horizontal"?0:1;i=o==="start"?-i:i;var c=s==="center";for(var d=0;d<u[l].length-1;d++){var g=u[l][d].slice();var m=this._firstDayOfMonth[d];if(c){var b=this._firstDayPoints[d];g[p]=(b[p]+u[0][d+1][p])/2}var h=r.get("formatter");var f=a[+m.m-1];var v={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:f};var O=this._formatterLabel(h,v);var y=new G({z2:30,style:U(Od(r,{text:O}),this._monthTextPositionControl(g,c,t,o,i))});n.add(y)}};n.prototype._weekTextPositionControl=function(e,t,n,r,a){var i="center";var o="middle";var s=e[0];var u=e[1];var l=n==="start";if(t==="horizontal"){s=s+r+(l?1:-1)*a[0]/2;i=l?"right":"left"}else{u=u+r+(l?1:-1)*a[1]/2;o=l?"bottom":"top"}return{x:s,y:u,align:i,verticalAlign:o}};n.prototype._renderWeekText=function(e,t,n,r){var a=e.getModel("dayLabel");if(!a.get("show")){return}var i=e.coordinateSystem;var o=a.get("position");var s=a.get("nameMap");var u=a.get("margin");var l=i.getFirstDayOfWeek();if(P(s)){s=m9[s.toUpperCase()]||[]}var p=i.getNextNDay(t.end.time,7-t.lweek).time;var c=[i.getCellWidth(),i.getCellHeight()];u=X(u,Math.min(c[1],c[0]));if(o==="start"){p=i.getNextNDay(t.start.time,-(7+t.fweek)).time;u=-u}for(var d=0;d<7;d++){var g=i.getNextNDay(p,d);var m=i.dataToRect([g.time],false).center;var b=d;b=Math.abs((d+l)%7);var h=new G({z2:30,style:U(Od(a,{text:s[b]}),this._weekTextPositionControl(m,n,o,u,c))});r.add(h)}};n.type="calendar";return n}(jf);var h9=864e5;var f9=function(){function i(e,t,n){this.type="calendar";this.dimensions=i.dimensions;this.getDimensionsInfo=i.getDimensionsInfo;this._model=e}i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]};i.prototype.getRangeInfo=function(){return this._rangeInfo};i.prototype.getModel=function(){return this._model};i.prototype.getRect=function(){return this._rect};i.prototype.getCellWidth=function(){return this._sw};i.prototype.getCellHeight=function(){return this._sh};i.prototype.getOrient=function(){return this._orient};i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};i.prototype.getDateInfo=function(e){e=ri(e);var t=e.getFullYear();var n=e.getMonth()+1;var r=n<10?"0"+n:""+n;var a=e.getDate();var i=a<10?"0"+a:""+a;var o=e.getDay();o=Math.abs((o+7-this.getFirstDayOfWeek())%7);return{y:t+"",m:r,d:i,day:o,time:e.getTime(),formatedDate:t+"-"+r+"-"+i,date:e}};i.prototype.getNextNDay=function(e,t){t=t||0;if(t===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+t);return this.getDateInfo(e)};i.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1;var r=["width","height"];var a=this._model.getCellSize().slice();var i=this._model.getBoxLayoutParams();var o=this._orient==="horizontal"?[n,7]:[7,n];q([0,1],function(e){if(l(a,e)){i[r[e]]=a[e]*o[e]}});var s={width:t.getWidth(),height:t.getHeight()};var u=this._rect=om(i,s);q([0,1],function(e){if(!l(a,e)){a[e]=u[r[e]]/o[e]}});function l(e,t){return e[t]!=null&&e[t]!=="auto"}this._sw=a[0];this._sh=a[1]};i.prototype.dataToPoint=function(e,t){N(e)&&(e=e[0]);t==null&&(t=true);var n=this.getDateInfo(e);var r=this._rangeInfo;var a=n.formatedDate;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+h9)){return[NaN,NaN]}var i=n.day;var o=this._getRangeInfo([r.start.time,a]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+i*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]}return[this._rect.x+o*this._sw+this._sw/2,this._rect.y+i*this._sh+this._sh/2]};i.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time};i.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}};i.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1;var n=Math.floor((e[1]-this._rect.y)/this._sh)+1;var r=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(n,t-1,r)}return this._getDateByWeeksAndDay(t,n-1,r)};i.prototype.convertToPixel=function(e,t,n){var r=v9(t);return r===this?r.dataToPoint(n):null};i.prototype.convertFromPixel=function(e,t,n){var r=v9(t);return r===this?r.pointToData(n):null};i.prototype.containPoint=function(e){console.warn("Not implemented.");return false};i.prototype._initRangeOption=function(){var e=this._model.get("range");var t;if(N(e)&&e.length===1){e=e[0]}if(!N(e)){var n=e.toString();if(/^\d{4}$/.test(n)){t=[n+"-01-01",n+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n);var a=r.date;a.setMonth(a.getMonth()+1);var i=this.getNextNDay(a,-1);t=[r.formatedDate,i.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)){t=[n,n]}}else{t=e}if(!t){if("development"!=="production"){ne("Invalid date range.")}return e}var o=this._getRangeInfo(t);if(o.start.time>o.end.time){t.reverse()}return t};i.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];var n;if(t[0].time>t[1].time){n=true;t.reverse()}var r=Math.floor(t[1].time/h9)-Math.floor(t[0].time/h9)+1;var a=new Date(t[0].time);var i=a.getDate();var o=t[1].date.getDate();a.setDate(i+r-1);var s=a.getDate();if(s!==o){var u=a.getTime()-t[1].time>0?1:-1;while((s=a.getDate())!==o&&(a.getTime()-t[1].time)*u>0){r-=u;a.setDate(s-u)}}var l=Math.floor((r+t[0].day+6)/7);var p=n?-l+1:l-1;n&&t.reverse();return{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:l,nthWeek:p,fweek:t[0].day,lweek:t[1].day}};i.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek){return null}var a=(e-1)*7-r.fweek+t;var i=new Date(r.start.time);i.setDate(+r.start.d+a);return this.getDateInfo(i)};i.create=function(n,r){var a=[];n.eachComponent("calendar",function(e){var t=new i(e,n,r);a.push(t);e.coordinateSystem=t});n.eachSeries(function(e){if(e.get("coordinateSystem")==="calendar"){e.coordinateSystem=a[e.get("calendarIndex")||0]}});return a};i.dimensions=["time","value"];return i}();function v9(e){var t=e.calendarModel;var n=e.seriesModel;var r=t?t.coordinateSystem:n?n.coordinateSystem:null;return r}function O9(e){e.registerComponentModel(c9);e.registerComponentView(b9);e.registerCoordinateSystem("calendar",f9)}var y9=Ji();var x9={path:null,compoundPath:null,group:F,image:Mu,text:G};var I9=function(e){var t=e.graphic;if(N(t)){if(!t[0]||!t[0].elements){e.graphic=[{elements:t}]}else{e.graphic=[e.graphic[0]]}}else if(t&&!t.elements){e.graphic=[{elements:[t]}]}};var S9=function(r){b(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;e.type=t.type;e.preventAutoZ=true;return e}t.prototype.mergeOption=function(e,t){var n=this.option.elements;this.option.elements=null;r.prototype.mergeOption.call(this,e,t);this.option.elements=n};t.prototype.optionUpdated=function(e,t){var n=this.option;var r=(t?n:e).elements;var a=n.elements=t?[]:n.elements;var i=[];this._flatten(r,i,null);var o=ki(a,i,"normalMerge");var s=this._elOptionsToUpdate=[];q(o,function(e,t){var n=e.newOption;if("development"!=="production"){D(E(n)||e.existing,"Empty graphic option definition")}if(!n){return}s.push(n);w9(e,n);k9(a,t,n);N9(a[t],n)},this);for(var u=a.length-1;u>=0;u--){if(a[u]==null){a.splice(u,1)}else{delete a[u].$action}}};t.prototype._flatten=function(e,n,r){q(e,function(e){if(!e){return}if(r){e.parentOption=r}n.push(e);var t=e.children;if(e.type==="group"&&t){this._flatten(t,n,e)}delete e.children},this)};t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return e};t.type="graphic";t.defaultOption={elements:[]};return t}(g);var j9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(){this._elMap=_()};n.prototype.render=function(e,t,n){if(e!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=e;this._updateElements(e);this._relocate(e,n)};n.prototype._updateElements=function(b){var e=b.useElOptionsToUpdate();if(!e){return}var h=this._elMap;var f=this.group;q(e,function(e){var t=Vi(e.id,null);var n=t!=null?h.get(t):null;var r=Vi(e.parentId,null);var a=r!=null?h.get(r):f;var i=e.type;var o=e.style;if(i==="text"&&o){if(e.hv&&e.hv[1]){o.textVerticalAlign=o.textBaseline=o.verticalAlign=o.align=null}}var s=e.textContent;var u=e.textConfig;if(o&&hL(o,i,!!u,!!s)){var l=fL(o,i,true);if(!u&&l.textConfig){u=e.textConfig=l.textConfig}if(!s&&l.textContent){s=l.textContent}}var p=T9(e);if("development"!=="production"){n&&D(a===n.parent,"Changing parent is not supported.")}var c=e.$action||"merge";if(c==="merge"){n?n.attr(p):_9(t,a,p,h)}else if(c==="replace"){A9(n,h);_9(t,a,p,h)}else if(c==="remove"){A9(n,h)}var d=h.get(t);if(d&&s){if(c==="merge"){var g=d.getTextContent();g?g.attr(s):d.setTextContent(new G(s))}else if(c==="replace"){d.setTextContent(new G(s))}}if(d){var m=y9(d);m.__ecGraphicWidthOption=e.width;m.__ecGraphicHeightOption=e.height;P9(d,b,e);dd({el:d,componentModel:b,itemName:d.name,itemTooltipOption:e.tooltip})}})};n.prototype._relocate=function(e,t){var n=e.option.elements;var r=this.group;var a=this._elMap;var i=t.getWidth();var o=t.getHeight();for(var s=0;s<n.length;s++){var u=n[s];var l=Vi(u.id,null);var p=l!=null?a.get(l):null;if(!p||!p.isGroup){continue}var c=p.parent;var d=c===r;var g=y9(p);var m=y9(c);g.__ecGraphicWidth=X(g.__ecGraphicWidthOption,d?i:m.__ecGraphicWidth)||0;g.__ecGraphicHeight=X(g.__ecGraphicHeightOption,d?o:m.__ecGraphicHeight)||0}for(var s=n.length-1;s>=0;s--){var u=n[s];var l=Vi(u.id,null);var p=l!=null?a.get(l):null;if(!p){continue}var c=p.parent;var m=y9(c);var b=c===r?{width:i,height:o}:{width:m.__ecGraphicWidth,height:m.__ecGraphicHeight};sm(p,u,b,null,{hv:u.hv,boundingMode:u.bounding})}};n.prototype._clear=function(){var t=this._elMap;t.each(function(e){A9(e,t)});this._elMap=_()};n.prototype.dispose=function(){this._clear()};n.type="graphic";return n}(jf);function _9(e,t,n,r){var a=n.type;if("development"!=="production"){D(a,"graphic type MUST be set")}var i=B(x9,a)?x9[a]:zc(a);if("development"!=="production"){D(i,"graphic type can not be found")}var o=new i(n);t.add(o);r.set(e,o);y9(o).__ecGraphicId=e}function A9(e,t){var n=e&&e.parent;if(n){e.type==="group"&&e.traverse(function(e){A9(e,t)});t.removeKey(y9(e).__ecGraphicId);n.remove(e)}}function T9(t){t=U({},t);q(["id","parentId","$action","hv","bounding","textContent"].concat(Qg),function(e){delete t[e]});return t}function C9(t,e){var n;q(e,function(e){t[e]!=null&&t[e]!=="auto"&&(n=true)});return n}function w9(e,t){var n=e.existing;t.id=e.keyInfo.id;!t.type&&n&&(t.type=n.type);if(t.parentId==null){var r=t.parentOption;if(r){t.parentId=r.id}else if(n){t.parentId=n.parentId}}t.parentOption=null}function k9(e,t,n){var r=U({},n);var a=e[t];var i=n.$action||"merge";if(i==="merge"){if(a){if("development"!=="production"){var o=n.type;D(!o||a.type===o,'Please set $action: "replace" to change `type`')}f(a,r,true);pm(a,r,{ignoreSize:true});dm(n,a)}else{e[t]=r}}else if(i==="replace"){e[t]=r}else if(i==="remove"){a&&(e[t]=null)}}function N9(e,t){if(!e){return}e.hv=t.hv=[C9(t,["left","right"]),C9(t,["top","bottom"])];if(e.type==="group"){var n=e;var r=t;n.width==null&&(n.width=r.width=0);n.height==null&&(n.height=r.height=0)}}function P9(e,t,n){var r=H(e).eventData;if(!e.silent&&!e.ignore&&!r){r=H(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}}if(r){r.info=n.info}}function E9(e){e.registerComponentModel(S9);e.registerComponentView(j9);e.registerPreprocessor(I9)}var L9=["x","y","radius","angle","single"];var D9=["cartesian2d","polar","singleAxis"];function M9(e){var t=e.get("coordinateSystem");return C(D9,t)>=0}function B9(e){if("development"!=="production"){D(e)}return e+"Axis"}function z9(e,t){var a=_();var n=[];var r=_();e.eachComponent({mainType:"dataZoom",query:t},function(e){if(!r.get(e.uid)){s(e)}});var i;do{i=false;e.eachComponent("dataZoom",o)}while(i);function o(e){if(!r.get(e.uid)&&u(e)){s(e);i=true}}function s(e){r.set(e.uid,true);n.push(e);l(e)}function u(e){var r=false;e.eachTargetAxis(function(e,t){var n=a.get(e);if(n&&n[t]){r=true}});return r}function l(e){e.eachTargetAxis(function(e,t){(a.get(e)||a.set(e,[]))[t]=true})}return n}function V9(e){var o=e.ecModel;var s={infoList:[],infoMap:_()};e.eachTargetAxis(function(e,t){var n=o.getComponent(B9(e),t);if(!n){return}var r=n.getCoordSysModel();if(!r){return}var a=r.uid;var i=s.infoMap.get(a);if(!i){i={model:r,axisModels:[]};s.infoList.push(i);s.infoMap.set(a,i)}i.axisModels.push(n)});return s}var R9=function(){function e(){this.indexList=[];this.indexMap=[]}e.prototype.add=function(e){if(!this.indexMap[e]){this.indexList.push(e);this.indexMap[e]=true}};return e}();var U9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._autoThrottle=true;e._noTarget=true;e._rangePropMode=["percent","percent"];return e}n.prototype.init=function(e,t,n){var r=F9(e);this.settledOption=r;this.mergeDefaultAndTheme(e,n);this._doInit(r)};n.prototype.mergeOption=function(e){var t=F9(e);f(this.option,e,true);f(this.settledOption,t,true);this._doInit(t)};n.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e);this._updateRangeUse(e);var r=this.settledOption;q([["start","startValue"],["end","endValue"]],function(e,t){if(this._rangePropMode[t]==="value"){n[e[0]]=r[e[0]]=null}},this);this._resetTarget()};n.prototype._resetTarget=function(){var e=this.get("orient",true);var t=this._targetAxisInfoMap=_();var n=this._fillSpecifiedTargetAxis(t);if(n){this._orient=e||this._makeAutoOrientByTargetAxis()}else{this._orient=e||"horizontal";this._fillAutoTargetAxisByOrient(t,this._orient)}this._noTarget=true;t.each(function(e){if(e.indexList.length){this._noTarget=false}},this)};n.prototype._fillSpecifiedTargetAxis=function(r){var a=false;q(L9,function(e){var t=this.getReferringComponents(B9(e),eo);if(!t.specified){return}a=true;var n=new R9;q(t.models,function(e){n.add(e.componentIndex)});r.set(e,n)},this);return a};n.prototype._fillAutoTargetAxisByOrient=function(i,t){var r=this.ecModel;var o=true;if(o){var e=t==="vertical"?"y":"x";var n=r.findComponents({mainType:e+"Axis"});a(n,e)}if(o){var n=r.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",true)===t}});a(n,"single")}function a(e,t){var n=e[0];if(!n){return}var r=new R9;r.add(n.componentIndex);i.set(t,r);o=false;if(t==="x"||t==="y"){var a=n.getReferringComponents("grid",Qi).models[0];a&&q(e,function(e){if(n.componentIndex!==e.componentIndex&&a===e.getReferringComponents("grid",Qi).models[0]){r.add(e.componentIndex)}})}}if(o){q(L9,function(e){if(!o){return}var t=r.findComponents({mainType:B9(e),filter:function(e){return e.get("type",true)==="category"}});if(t[0]){var n=new R9;n.add(t[0].componentIndex);i.set(e,n);o=false}},this)}};n.prototype._makeAutoOrientByTargetAxis=function(){var t;this.eachTargetAxis(function(e){!t&&(t=e)},this);return t==="y"?"vertical":"horizontal"};n.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}};n.prototype._updateRangeUse=function(a){var i=this._rangePropMode;var o=this.get("rangeMode");q([["start","startValue"],["end","endValue"]],function(e,t){var n=a[e[0]]!=null;var r=a[e[1]]!=null;if(n&&!r){i[t]="percent"}else if(!n&&r){i[t]="value"}else if(o){i[t]=o[t]}else if(n){i[t]="percent"}})};n.prototype.noTarget=function(){return this._noTarget};n.prototype.getFirstTargetAxisModel=function(){var n;this.eachTargetAxis(function(e,t){if(n==null){n=this.ecModel.getComponent(B9(e),t)}},this);return n};n.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(e,t){q(e.indexList,function(e){n.call(r,t,e)})})};n.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n){return n.__dzAxisProxy}};n.prototype.getAxisModel=function(e,t){if("development"!=="production"){D(e&&t!=null)}var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t]){return this.ecModel.getComponent(B9(e),t)}};n.prototype.setRawRange=function(t){var n=this.option;var r=this.settledOption;q([["start","startValue"],["end","endValue"]],function(e){if(t[e[0]]!=null||t[e[1]]!=null){n[e[0]]=r[e[0]]=t[e[0]];n[e[1]]=r[e[1]]=t[e[1]]}},this);this._updateRangeUse(t)};n.prototype.setCalculatedRange=function(t){var n=this.option;q(["start","startValue","end","endValue"],function(e){n[e]=t[e]})};n.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataPercentWindow()}};n.prototype.getValueRange=function(e,t){if(e==null&&t==null){var n=this.findRepresentativeAxisProxy();if(n){return n.getDataValueWindow()}}else{return this.getAxisProxy(e,t).getDataValueWindow()}};n.prototype.findRepresentativeAxisProxy=function(e){if(e){return e.__dzAxisProxy}var t;var n=this._targetAxisInfoMap.keys();for(var r=0;r<n.length;r++){var a=n[r];var i=this._targetAxisInfoMap.get(a);for(var o=0;o<i.indexList.length;o++){var s=this.getAxisProxy(a,i.indexList[o]);if(s.hostedBy(this)){return s}if(!t){t=s}}}return t};n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()};n.prototype.getOrient=function(){if("development"!=="production"){D(this._orient)}return this._orient};n.type="dataZoom";n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"];n.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100};return n}(g);function F9(t){var n={};q(["start","end","startValue","endValue","throttle"],function(e){t.hasOwnProperty(e)&&(n[e]=t[e])});return n}var G9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="dataZoom.select";return n}(U9);var H9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n,r){this.dataZoomModel=e;this.ecModel=t;this.api=n};n.type="dataZoom";return n}(jf);var q9=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="dataZoom.select";return n}(H9);var W9=q;var X9=Xa;var Y9=function(){function e(e,t,n,r){this._dimName=e;this._axisIndex=t;this.ecModel=r;this._dataZoomModel=n}e.prototype.hostedBy=function(e){return this._dataZoomModel===e};e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()};e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()};e.prototype.getTargetSeriesModels=function(){var r=[];this.ecModel.eachSeries(function(e){if(M9(e)){var t=B9(this._dimName);var n=e.getReferringComponents(t,Qi).models[0];if(n&&this._axisIndex===n.componentIndex){r.push(e)}}},this);return r};e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)};e.prototype.getMinMaxSpan=function(){return j(this._minMaxSpan)};e.prototype.calculateDataWindow=function(a){var i=this._dataExtent;var e=this.getAxisModel();var s=e.axis.scale;var o=this._dataZoomModel.getRangePropMode();var u=[0,100];var l=[];var p=[];var c;W9(["start","end"],function(e,t){var n=a[e];var r=a[e+"Value"];if(o[t]==="percent"){n==null&&(n=u[t]);r=s.parse(V(n,u,i))}else{c=true;r=r==null?i[t]:s.parse(r);n=V(r,i,u)}p[t]=r;l[t]=n});X9(p);X9(l);var d=this._minMaxSpan;c?t(p,l,i,u,false):t(l,p,u,i,true);function t(e,t,n,r,a){var i=a?"Span":"ValueSpan";Gw(0,e,n,"all",d["min"+i],d["max"+i]);for(var o=0;o<2;o++){t[o]=V(e[o],n,r,true);a&&(t[o]=s.parse(t[o]))}}return{valueWindow:p,percentWindow:l}};e.prototype.reset=function(e){if(e!==this._dataZoomModel){return}var t=this.getTargetSeriesModels();this._dataExtent=J9(this,this._dimName,t);this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow;this._percentWindow=n.percentWindow;this._setAxisModel()};e.prototype.filterData=function(e,t){if(e!==this._dataZoomModel){return}var r=this._dimName;var n=this.getTargetSeriesModels();var a=e.get("filterMode");var c=this._valueWindow;if(a==="none"){return}W9(n,function(n){var l=n.getData();var p=l.mapDimensionsAll(r);if(!p.length){return}if(a==="weakFilter"){l.filterSelf(function(e){var t;var n;var r;for(var a=0;a<p.length;a++){var i=l.get(p[a],e);var o=!isNaN(i);var s=i<c[0];var u=i>c[1];if(o&&!s&&!u){return true}o&&(r=true);s&&(t=true);u&&(n=true)}return r&&t&&n})}else{W9(p,function(e){if(a==="empty"){n.setData(l=l.map(e,function(e){return!i(e)?NaN:e}))}else{var t={};t[e]=c;l.selectRange(t)}})}W9(p,function(e){l.setApproximateExtent(c,e)})});function i(e){return e>=c[0]&&e<=c[1]}};e.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={};var a=this._dataZoomModel;var i=this._dataExtent;W9(["min","max"],function(e){var t=a.get(e+"Span");var n=a.get(e+"ValueSpan");n!=null&&(n=this.getAxisModel().axis.scale.parse(n));if(n!=null){t=V(i[0]+n,i,[0,100],true)}else if(t!=null){n=V(t,[0,100],i,true)-i[0]}r[e+"Span"]=t;r[e+"ValueSpan"]=n},this)};e.prototype._setAxisModel=function(){var e=this.getAxisModel();var t=this._percentWindow;var n=this._valueWindow;if(!t){return}var r=Za(n,[0,500]);r=Math.min(r,20);var a=e.axis.scale.rawExtentInfo;if(t[0]!==0){a.setDeterminedMinMax("min",+n[0].toFixed(r))}if(t[1]!==100){a.setDeterminedMinMax("max",+n[1].toFixed(r))}a.freeze()};return e}();function J9(e,t,n){var r=[Infinity,-Infinity];W9(n,function(e){jS(r,e.getData(),t)});var a=e.getAxisModel();var i=pS(a.axis.scale,a,r).calculate();return[i.min,i.max]}var Z9={getTargetSeries:function(i){function e(a){i.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(e,t){var n=i.getComponent(B9(e),t);a(e,t,n,r)})})}e(function(e,t,n,r){n.__dzAxisProxy=null});var a=[];e(function(e,t,n,r){if(!n.__dzAxisProxy){n.__dzAxisProxy=new Y9(e,t,r,i);a.push(n.__dzAxisProxy)}});var t=_();q(a,function(e){q(e.getTargetSeriesModels(),function(e){t.set(e.uid,e)})});return t},overallReset:function(e,r){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(e,t){n.getAxisProxy(e,t).reset(n)});n.eachTargetAxis(function(e,t){n.getAxisProxy(e,t).filterData(n,r)})});e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow();var r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}})}};function $9(e){e.registerAction("dataZoom",function(t,e){var n=z9(e,t);q(n,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var K9=false;function Q9(e){if(K9){return}K9=true;e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Z9);$9(e);e.registerSubTypeDefaulter("dataZoom",function(){return"slider"})}function e7(e){e.registerComponentModel(G9);e.registerComponentView(q9);Q9(e)}var t7=function(){function e(){}return e}();var n7={};function r7(e,t){n7[e]=t}function a7(e){return n7[e]}var i7=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;q(this.option.feature,function(e,t){var n=a7(t);if(n){if(n.getDefaultOption){n.defaultOption=n.getDefaultOption(r)}f(e,n.defaultOption)}})};n.type="toolbox";n.layoutMode={type:"box",ignoreSize:true};n.defaultOption={show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:false,position:"bottom"}};return n}(g);function o7(e,t,n){var r=t.getBoxLayoutParams();var a=t.get("padding");var i={width:n.getWidth(),height:n.getHeight()};var o=om(r,i,a);nm(t.get("orient"),e,t.get("itemGap"),o.width,o.height);sm(e,r,i,a)}function s7(e,t){var n=zg(t.get("padding"));var r=t.getItemStyle(["color","opacity"]);r.fill=t.get("backgroundColor");e=new R({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:true,z2:-1});return e}var u7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.render=function(c,d,g,l){var m=this.group;m.removeAll();if(!c.get("show")){return}var b=+c.get("itemSize");var p=c.get("feature")||{};var h=this._features||(this._features={});var f=[];q(p,function(e,t){f.push(t)});new bx(this._featureNames||[],f).add(e).update(e).remove(y(e,null)).execute();this._featureNames=f;function e(e,t){var n=f[e];var r=f[t];var a=p[n];var i=new A(a,c,c.ecModel);var o;if(l&&l.newTitle!=null&&l.featureName===n){a.title=l.newTitle}if(n&&!r){if(l7(n)){o={onclick:i.option.onclick,featureName:n}}else{var s=a7(n);if(!s){return}o=new s}h[n]=o}else{o=h[r];if(!o){return}}o.uid=Ud("toolbox-feature");o.model=i;o.ecModel=d;o.api=g;var u=o instanceof t7;if(!n&&r){u&&o.dispose&&o.dispose(d,g);return}if(!i.get("show")||u&&o.unusable){u&&o.remove&&o.remove(d,g);return}v(i,o,n);i.setIconStatus=function(e,t){var n=this.option;var r=this.iconPaths;n.iconStatus=n.iconStatus||{};n.iconStatus[e]=t;if(r[e]){(t==="emphasis"?zl:Vl)(r[e])}};if(o instanceof t7){if(o.render){o.render(i,d,g,l)}}}function v(i,o,e){var s=i.getModel("iconStyle");var u=i.getModel(["emphasis","iconStyle"]);var t=o instanceof t7&&o.getIcons?o.getIcons():i.get("icon");var n=i.get("title")||{};var r;var l;if(typeof t==="string"){r={};r[e]=t}else{r=t}if(typeof n==="string"){l={};l[e]=n}else{l=n}var p=i.iconPaths={};q(r,function(e,t){var n=sd(e,{},{x:-b/2,y:-b/2,width:b,height:b});n.setStyle(s.getItemStyle());var r=n.ensureState("emphasis");r.style=u.getItemStyle();var a=new G({style:{text:l[t],align:u.get("textAlign"),borderRadius:u.get("textBorderRadius"),padding:u.get("textPadding"),fill:null},ignore:true});n.setTextContent(a);dd({el:n,componentModel:c,itemName:t,formatterParamsExtra:{title:l[t]}});n.__title=l[t];n.on("mouseover",function(){var e=u.getItemStyle();var t=c.get("orient")==="vertical"?c.get("right")==null?"right":"left":c.get("bottom")==null?"bottom":"top";a.setStyle({fill:u.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:u.get("textBackgroundColor")});n.setTextConfig({position:u.get("textPosition")||t});a.ignore=!c.get("showTitle");zl(this)}).on("mouseout",function(){if(i.get(["iconStatus",t])!=="emphasis"){Vl(this)}a.hide()});(i.get(["iconStatus",t])==="emphasis"?zl:Vl)(n);m.add(n);n.on("click",O(o.onclick,o,d,g,t));p[t]=n})}o7(m,c,g);m.add(s7(m.getBoundingRect(),c));m.eachChild(function(e){var t=e.__title;var n=e.ensureState("emphasis");var r=n.textConfig||(n.textConfig={});var a=e.getTextContent();var i=a&&a.states.emphasis;if(i&&!x(i)&&t){var o=i.style||(i.style={});var s=ga(t,G.makeFont(o));var u=e.x+m.x;var l=e.y+m.y+b;var p=false;if(l+s.height>g.getHeight()){r.position="top";p=true}var c=p?-5-s.height:b+8;if(u+s.width/2>g.getWidth()){r.position=["100%",c];o.align="right"}else if(u-s.width/2<0){r.position=[0,c];o.align="left"}}})};t.prototype.updateView=function(e,t,n,r){q(this._features,function(e){e instanceof t7&&e.updateView&&e.updateView(e.model,t,n,r)})};t.prototype.remove=function(t,n){q(this._features,function(e){e instanceof t7&&e.remove&&e.remove(t,n)});this.group.removeAll()};t.prototype.dispose=function(t,n){q(this._features,function(e){e instanceof t7&&e.dispose&&e.dispose(t,n)})};t.type="toolbox";return t}(jf);function l7(e){return e.indexOf("my")===0}var p7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onclick=function(e,t){var n=this.model;var r=n.get("name")||e.get("title.0.text")||"echarts";var a=t.getZr().painter.getType()==="svg";var i=a?"svg":n.get("type",true)||"png";var o=t.getConnectedDataURL({type:i,backgroundColor:n.get("backgroundColor",true)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(typeof MouseEvent==="function"&&(S.browser.newEdge||!S.browser.ie&&!S.browser.edge)){var s=document.createElement("a");s.download=r+"."+i;s.target="_blank";s.href=o;var u=new MouseEvent("click",{view:document.defaultView,bubbles:true,cancelable:false});s.dispatchEvent(u)}else{if(window.navigator.msSaveOrOpenBlob||a){var l=o.split(",");var p=l[0].indexOf("base64")>-1;var c=a?decodeURIComponent(l[1]):l[1];p&&(c=window.atob(c));var d=r+"."+i;if(window.navigator.msSaveOrOpenBlob){var g=c.length;var m=new Uint8Array(g);while(g--){m[g]=c.charCodeAt(g)}var b=new Blob([m]);window.navigator.msSaveOrOpenBlob(b,d)}else{var h=document.createElement("iframe");document.body.appendChild(h);var f=h.contentWindow;var v=f.document;v.open("image/svg+xml","replace");v.write(c);v.close();f.focus();v.execCommand("SaveAs",true,d);document.body.removeChild(h)}}else{var O=n.get("lang");var y=""+'<body style="margin:0;">'+'<img src="'+o+'" style="max-width:100%;" title="'+(O&&O[0]||"")+'" />'+"</body>";var x=window.open();x.document.write(y);x.document.title=r}}};t.getDefaultOption=function(e){var t={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocale(["toolbox","saveAsImage","lang"])};return t};return t}(t7);p7.prototype.unusable=!S.canvasSupported;var c7="__ec_magicType_stack__";var d7=[["line","bar"],["stack"]];var g7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getIcons=function(){var e=this.model;var t=e.get("icon");var n={};q(e.get("type"),function(e){if(t[e]){n[e]=t[e]}});return n};t.getDefaultOption=function(e){var t={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t};t.prototype.onclick=function(e,t,c){var d=this.model;var n=d.get(["seriesIndex",c]);if(!m7[c]){return}var g={series:[]};var r=function(e){var t=e.subType;var n=e.id;var r=m7[c](t,n,e,d);if(r){M(r,e.option);g.series.push(r)}var a=e.coordinateSystem;if(a&&a.type==="cartesian2d"&&(c==="line"||c==="bar")){var i=a.getAxesByScale("ordinal")[0];if(i){var o=i.dim;var s=o+"Axis";var u=e.getReferringComponents(s,Qi).models[0];var l=u.componentIndex;g[s]=g[s]||[];for(var p=0;p<=l;p++){g[s][l]=g[s][l]||{}}g[s][l].boundaryGap=c==="bar"}}};q(d7,function(e){if(C(e,c)>=0){q(e,function(e){d.setIconStatus(e,"normal")})}});d.setIconStatus(c,"emphasis");e.eachComponent({mainType:"series",query:n==null?null:{seriesIndex:n}},r);var a;var i=c;if(c==="stack"){a=f({stack:d.option.title.tiled,tiled:d.option.title.stack},d.option.title);if(d.get(["iconStatus",c])!=="emphasis"){i="tiled"}}t.dispatchAction({type:"changeMagicType",currentType:i,newOption:g,newTitle:a,featureName:"magicType"})};return t}(t7);var m7={line:function(e,t,n,r){if(e==="bar"){return f({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},true)}},bar:function(e,t,n,r){if(e==="line"){return f({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},true)}},stack:function(e,t,n,r){var a=n.get("stack")===c7;if(e==="line"||e==="bar"){r.setIconStatus("stack",a?"normal":"emphasis");return f({id:t,stack:a?"":c7},r.get(["option","stack"])||{},true)}}};K1({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var b7=new Array(60).join("-");var h7="\t";function f7(e){var a={};var i=[];var o=[];e.eachRawSeries(function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="polar")){var n=t.getBaseAxis();if(n.type==="category"){var r=n.dim+"_"+n.index;if(!a[r]){a[r]={categoryAxis:n,valueAxis:t.getOtherAxis(n),series:[]};o.push({axisDim:n.dim,axisIndex:n.index})}a[r].series.push(e)}else{i.push(e)}}else{i.push(e)}});return{seriesGroupByCategoryAxis:a,other:i,meta:o}}function v7(e){var c=[];q(e,function(e,t){var n=e.categoryAxis;var r=e.valueAxis;var a=r.dim;var i=[" "].concat(w(e.series,function(e){return e.name}));var o=[n.model.getCategories()];q(e.series,function(e){var t=e.getRawData();o.push(e.getRawData().mapArray(t.mapDimension(a),function(e){return e}))});var s=[i.join(h7)];for(var u=0;u<o[0].length;u++){var l=[];for(var p=0;p<o.length;p++){l.push(o[p][u])}s.push(l.join(h7))}c.push(s.join("\n"))});return c.join("\n\n"+b7+"\n\n")}function O7(e){return w(e,function(e){var a=e.getRawData();var i=[e.name];var o=[];a.each(a.dimensions,function(){var e=arguments.length;var t=arguments[e-1];var n=a.getName(t);for(var r=0;r<e-1;r++){o[r]=arguments[r]}i.push((n?n+h7:"")+o.join(h7))});return i.join("\n")}).join("\n\n"+b7+"\n\n")}function y7(e){var t=f7(e);return{value:le([v7(t.seriesGroupByCategoryAxis),O7(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+b7+"\n\n"),meta:t.meta}}function x7(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function I7(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(h7)>=0){return true}}var S7=new RegExp("["+h7+"]+","g");function j7(e){var t=e.split(/\n+/g);var n=x7(t.shift()).split(S7);var r=[];var a=w(n,function(e){return{name:e,data:[]}});for(var i=0;i<t.length;i++){var o=x7(t[i]).split(S7);r.push(o.shift());for(var s=0;s<o.length;s++){a[s]&&(a[s].data[i]=o[s])}}return{series:a,categories:r}}function _7(e){var t=e.split(/\n+/g);var n=x7(t.shift());var r=[];for(var a=0;a<t.length;a++){var i=x7(t[a]);if(!i){continue}var o=i.split(S7);var s="";var u=void 0;var l=false;if(isNaN(o[0])){l=true;s=o[0];o=o.slice(1);r[a]={name:s,value:[]};u=r[a].value}else{u=r[a]=[]}for(var p=0;p<o.length;p++){u.push(+o[p])}if(u.length===1){l?r[a].value=u[0]:r[a]=u[0]}}return{name:n,data:r}}function A7(e,i){var t=e.split(new RegExp("\n*"+b7+"\n*","g"));var o={series:[]};q(t,function(e,t){if(I7(e)){var n=j7(e);var r=i[t];var a=r.axisDim+"Axis";if(r){o[a]=o[a]||[];o[a][r.axisIndex]={data:n.categories};o.series=o.series.concat(n.series)}}else{var n=_7(e);o.series.push(n)}});return o}var T7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onclick=function(e,t){var n=t.getDom();var r=this.model;if(this._dom){n.removeChild(this._dom)}var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";a.style.backgroundColor=r.get("backgroundColor")||"#fff";var i=document.createElement("h4");var o=r.get("lang")||[];i.innerHTML=o[0]||r.get("title");i.style.cssText="margin: 10px 20px;";i.style.color=r.get("textColor");var s=document.createElement("div");var u=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var l=r.get("optionToContent");var p=r.get("contentToOption");var c=y7(e);if(typeof l==="function"){var d=l(t.getOption());if(typeof d==="string"){s.innerHTML=d}else if(he(d)){s.appendChild(d)}}else{s.appendChild(u);u.readOnly=r.get("readOnly");u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";u.style.color=r.get("textColor");u.style.borderColor=r.get("textareaBorderColor");u.style.backgroundColor=r.get("textareaColor");u.value=c.value}var g=c.meta;var m=document.createElement("div");m.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;"+"cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var h=document.createElement("div");var f=document.createElement("div");b+=";background-color:"+r.get("buttonColor");b+=";color:"+r.get("buttonTextColor");var v=this;function O(){n.removeChild(a);v._dom=null}Tt(h,"click",O);Tt(f,"click",function(){if(p==null&&l!=null||p!=null&&l==null){if("development"!=="production"){console.warn("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.")}O();return}var e;try{if(typeof p==="function"){e=p(s,t.getOption())}else{e=A7(u.value,g)}}catch(e){O();throw new Error("Data view format error "+e)}if(e){t.dispatchAction({type:"changeDataView",newOption:e})}O()});h.innerHTML=o[1];f.innerHTML=o[2];f.style.cssText=b;h.style.cssText=b;!r.get("readOnly")&&m.appendChild(f);m.appendChild(h);a.appendChild(i);a.appendChild(s);a.appendChild(m);s.style.height=n.clientHeight-80+"px";n.appendChild(a);this._dom=a};t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)};t.prototype.dispose=function(e,t){this.remove(e,t)};t.getDefaultOption=function(e){var t={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocale(["toolbox","dataView","title"]),lang:e.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t};return t}(t7);function C7(e,i){return w(e,function(e,t){var n=i&&i[t];if(E(n)&&!N(n)){var r=E(e)&&!N(e);if(!r){e={value:e}}var a=n.name!=null&&e.name==null;e=M(e,n);a&&delete e.name;return e}else{return e}})}K1({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,r){var a=[];q(e.newOption.series,function(e){var t=r.getSeriesByName(e.name)[0];if(!t){a.push(U({type:"scatter"},e))}else{var n=t.get("data");a.push({name:e.name,data:C7(e.data,n)})}});r.mergeOption(M({series:a},e.newOption))});var w7=q;var k7=Ji();function N7(o,e){var s=D7(o);w7(e,function(e,t){var n=s.length-1;for(;n>=0;n--){var r=s[n];if(r[t]){break}}if(n<0){var a=o.queryComponents({mainType:"dataZoom",subType:"select",id:t})[0];if(a){var i=a.getPercentRange();s[0][t]={dataZoomId:t,start:i[0],end:i[1]}}}});s.push(e)}function P7(e){var r=D7(e);var t=r[r.length-1];r.length>1&&r.pop();var a={};w7(t,function(e,t){for(var n=r.length-1;n>=0;n--){e=r[n][t];if(e){a[t]=e;break}}});return a}function E7(e){k7(e).snapshots=null}function L7(e){return D7(e).length}function D7(e){var t=k7(e);if(!t.snapshots){t.snapshots=[{}]}return t.snapshots}var M7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onclick=function(e,t){E7(e);t.dispatchAction({type:"restore",from:this.uid})};t.getDefaultOption=function(e){var t={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocale(["toolbox","restore","title"])};return t};return t}(t7);K1({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var B7=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];var z7=function(){function e(e,t,n){var r=this;this._targetInfoList=[];var a=R7(t,e);q(U7,function(e,t){if(!n||!n.include||C(n.include,t)>=0){e(a,r._targetInfoList)}})}e.prototype.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,n){(e.coordRanges||(e.coordRanges=[])).push(t);if(!e.coordRange){e.coordRange=t;var r=H7[e.brushType](0,n,t);e.__rangeOffset={offset:W7[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}});return e};e.prototype.matchOutputRanges=function(e,r,a){q(e,function(n){var e=this.findTargetInfo(n,r);if(e&&e!==true){q(e.coordSyses,function(e){var t=H7[n.brushType](1,e,n.range,true);a(n,t.values,e,r)})}},this)};e.prototype.setInputRanges=function(e,a){q(e,function(e){var t=this.findTargetInfo(e,a);if("development"!=="production"){D(!t||t===true||e.coordRange,"coordRange must be specified when coord index specified.");D(!t||t!==true||e.range,"range must be specified in global brush.")}e.range=e.range||[];if(t&&t!==true){e.panelId=t.panelId;var n=H7[e.brushType](0,t.coordSys,e.coordRange);var r=e.__rangeOffset;e.range=r?W7[e.brushType](n.values,r.offset,Y7(n.xyMinMax,r.xyMinMax)):n.values}},this)};e.prototype.makePanelOpts=function(n,r){return w(this._targetInfoList,function(e){var t=e.getPanelRect();return{panelId:e.panelId,defaultBrushType:r?r(e):null,clipPath:tN(t),isTargetByCursor:rN(t,n,e.coordSysModel),getLinearBrushOtherExtent:nN(t)}})};e.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return r===true||r&&C(r.coordSyses,t.coordinateSystem)>=0};e.prototype.findTargetInfo=function(e,t){var n=this._targetInfoList;var r=R7(t,e);for(var a=0;a<n.length;a++){var i=n[a];var o=e.panelId;if(o){if(i.panelId===o){return i}}else{for(var s=0;s<F7.length;s++){if(F7[s](r,i)){return i}}}}return true};return e}();function V7(e){e[0]>e[1]&&e.reverse();return e}function R7(e,t){return $i(e,t,{includeMainTypes:B7})}var U7={grid:function(e,r){var a=e.xAxisModels;var i=e.yAxisModels;var t=e.gridModels;var n=_();var o={};var s={};if(!a&&!i&&!t){return}q(a,function(e){var t=e.axis.grid.model;n.set(t.id,t);o[t.id]=true});q(i,function(e){var t=e.axis.grid.model;n.set(t.id,t);s[t.id]=true});q(t,function(e){n.set(e.id,e);o[e.id]=true;s[e.id]=true});n.each(function(e){var t=e.coordinateSystem;var n=[];q(t.getCartesians(),function(e,t){if(C(a,e.getAxis("x").model)>=0||C(i,e.getAxis("y").model)>=0){n.push(e)}});r.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:n[0],coordSyses:n,getPanelRect:G7.grid,xAxisDeclared:o[e.id],yAxisDeclared:s[e.id]})})},geo:function(e,n){q(e.geoModels,function(e){var t=e.coordinateSystem;n.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:t,coordSyses:[t],getPanelRect:G7.geo})})}};var F7=[function(e,t){var n=e.xAxisModel;var r=e.yAxisModel;var a=e.gridModel;!a&&n&&(a=n.axis.grid.model);!a&&r&&(a=r.axis.grid.model);return a&&a===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}];var G7={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys;var t=e.getBoundingRect().clone();t.applyTransform(Qc(e));return t}};var H7={lineX:y(q7,0),lineY:y(q7,1),rect:function(e,t,n,r){var a=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r);var i=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r);var o=[V7([a[0],i[0]]),V7([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(n,r,e,a){var i=[[Infinity,-Infinity],[Infinity,-Infinity]];var t=w(e,function(e){var t=n?r.pointToData(e,a):r.dataToPoint(e,a);i[0][0]=Math.min(i[0][0],t[0]);i[1][0]=Math.min(i[1][0],t[1]);i[0][1]=Math.max(i[0][1],t[0]);i[1][1]=Math.max(i[1][1],t[1]);return t});return{values:t,xyMinMax:i}}};function q7(e,t,n,r){if("development"!=="production"){D(n.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var a=n.getAxis(["x","y"][e]);var i=V7(w([0,1],function(e){return t?a.coordToData(a.toLocalCoord(r[e]),true):a.toGlobalCoord(a.dataToCoord(r[e]))}));var o=[];o[e]=i;o[1-e]=[NaN,NaN];return{values:i,xyMinMax:o}}var W7={lineX:y(X7,0),lineY:y(X7,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,n,r){return w(e,function(e,t){return[e[0]-r[0]*n[t][0],e[1]-r[1]*n[t][1]]})}};function X7(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function Y7(e,t){var n=J7(e);var r=J7(t);var a=[n[0]/r[0],n[1]/r[1]];isNaN(a[0])&&(a[0]=1);isNaN(a[1])&&(a[1]=1);return a}function J7(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var Z7=q;var $7=Hi("toolbox-dataZoom_");var K7=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.render=function(e,t,n,r){if(!this._brushController){this._brushController=new vk(n.getZr());this._brushController.on("brush",O(this._onBrush,this)).mount()}nB(e,t,this,r,n);tB(e,t)};t.prototype.onclick=function(e,t,n){Q7[n].call(this)};t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()};t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()};t.prototype._onBrush=function(e){var t=e.areas;if(!e.isEnd||!t.length){return}var s={};var u=this.ecModel;this._brushController.updateCovers([]);var n=new z7(eB(this.model),u,{include:["grid"]});n.matchOutputRanges(t,u,function(e,t,n){if(n.type!=="cartesian2d"){return}var r=e.brushType;if(r==="rect"){a("x",n,t[0]);a("y",n,t[1])}else{a({lineX:"x",lineY:"y"}[r],n,t)}});N7(u,s);this._dispatchZoomAction(s);function a(e,t,n){var r=t.getAxis(e);var a=r.model;var i=l(e,a,u);var o=i.findRepresentativeAxisProxy(a).getMinMaxSpan();if(o.minValueSpan!=null||o.maxValueSpan!=null){n=Gw(0,n.slice(),r.scale.getExtent(),0,o.minValueSpan,o.maxValueSpan)}i&&(s[i.id]={dataZoomId:i.id,startValue:n[0],endValue:n[1]})}function l(n,r,e){var a;e.eachComponent({mainType:"dataZoom",subType:"select"},function(e){var t=e.getAxisModel(n,r.componentIndex);t&&(a=e)});return a}};t.prototype._dispatchZoomAction=function(e){var n=[];Z7(e,function(e,t){n.push(j(e))});n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})};t.getDefaultOption=function(e){var t={show:true,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t};return t}(t7);var Q7={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(P7(this.ecModel))}};function eB(e){var t={xAxisIndex:e.get("xAxisIndex",true),yAxisIndex:e.get("yAxisIndex",true),xAxisId:e.get("xAxisId",true),yAxisId:e.get("yAxisId",true)};if(t.xAxisIndex==null&&t.xAxisId==null){t.xAxisIndex="all"}if(t.yAxisIndex==null&&t.yAxisId==null){t.yAxisIndex="all"}return t}function tB(e,t){e.setIconStatus("back",L7(t)>1?"emphasis":"normal")}function nB(e,t,n,r,a){var i=n._isZoomActive;if(r&&r.type==="takeGlobalCursor"){i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:false}n._isZoomActive=i;e.setIconStatus("zoom",i?"emphasis":"normal");var o=new z7(eB(e),t,{include:["grid"]});var s=o.makePanelOpts(a,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:false)}Bm("dataZoom",function(e){var t=e.getComponent("toolbox",0);var n=["feature","dataZoom"];if(!t||t.get(n)==null){return}var i=t.getModel(n);var o=[];var r=eB(i);var a=$i(e,r);Z7(a.xAxisModels,function(e){return s(e,"xAxis","xAxisIndex")});Z7(a.yAxisModels,function(e){return s(e,"yAxis","yAxisIndex")});function s(e,t,n){var r=e.componentIndex;var a={type:"select",$fromToolbox:true,filterMode:i.get("filterMode",true)||"filter",id:$7+t+r};a[n]=r;o.push(a)}return o});function rB(e){e.registerComponentModel(i7);e.registerComponentView(u7);r7("saveAsImage",p7);r7("magicType",g7);r7("dataView",T7);r7("dataZoom",K7);r7("restore",M7);t(e7)}var aB=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="tooltip";n.dependencies=["axisPointer"];n.defaultOption={zlevel:0,z:60,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:false,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}};return n}(g);function iB(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function oB(e){if(!S.domSupported){return}var t=document.documentElement.style;for(var n=0,r=e.length;n<r;n++){if(e[n]in t){return e[n]}}}var sB=oB(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var uB=oB(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function lB(e,t){if(!e){return t}t=Bg(t,true);var n=e.indexOf(t);e=n===-1?t:"-"+e.slice(0,n)+"-"+t;return e.toLowerCase()}function pB(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?t?n[t]:n:null}var cB=lB(uB,"transition");var dB=lB(sB,"transform");var gB="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(S.transform3dSupported?"will-change:transform;":"");function mB(e){e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top";return e}function bB(e,t,n){if(!P(n)||n==="inside"){return""}t=Zg(t);var r=mB(n);var a=r+":-6px;";var i=dB+":";if(C(["left","right"],r)>-1){a+="top:50%";i+="translateY(-50%) rotate("+(r==="left"?-225:-45)+"deg)"}else{a+="left:50%";i+="translateX(-50%) rotate("+(r==="top"?225:45)+"deg)"}var o=t+" solid 1px;";var s=["position:absolute;width:10px;height:10px;",a+";"+i+";","border-bottom:"+o,"border-right:"+o,"background-color:"+e+";","box-shadow:8px 8px 16px -3px #000;"];return'<div style="'+s.join("")+'"></div>'}function hB(e,t){var n="cubic-bezier(0.23,1,0.32,1)";var r=" "+e/2+"s "+n;var a="opacity"+r+",visibility"+r;if(!t){r=" "+e+"s "+n;a+=S.transformSupported?","+dB+r:",left"+r+",top"+r}return cB+":"+a}function fB(e,t,n){var r=e.toFixed(0)+"px";var a=t.toFixed(0)+"px";if(!S.transformSupported){return n?"top:"+a+";left:"+r+";":[["top",a],["left",r]]}var i=S.transform3dSupported;var o="translate"+(i?"3d":"")+"("+r+","+a+(i?",0":"")+")";return n?"top:0;left:0;"+dB+":"+o+";":[["top",0],["left",0],[sB,o]]}function vB(n){var r=[];var e=n.get("fontSize");var t=n.getTextColor();t&&r.push("color:"+t);r.push("font:"+n.getFont());e&&r.push("line-height:"+Math.round(e*3/2)+"px");var a=n.get("textShadowColor");var i=n.get("textShadowBlur")||0;var o=n.get("textShadowOffsetX")||0;var s=n.get("textShadowOffsetY")||0;a&&i&&r.push("text-shadow:"+o+"px "+s+"px "+i+"px "+a);q(["decoration","align"],function(e){var t=n.get(e);t&&r.push("text-"+e+":"+t)});return r.join(";")}function OB(a,e,t){var i=[];var n=a.get("transitionDuration");var r=a.get("backgroundColor");var o=a.get("shadowBlur");var s=a.get("shadowColor");var u=a.get("shadowOffsetX");var l=a.get("shadowOffsetY");var p=a.getModel("textStyle");var c=lf(a,"html");var d=u+"px "+l+"px "+o+"px "+s;i.push("box-shadow:"+d);e&&n&&i.push(hB(n,t));if(r){if(S.canvasSupported){i.push("background-color:"+r)}else{i.push("background-color:#"+Pn(r));i.push("filter:alpha(opacity=70)")}}q(["width","color","radius"],function(e){var t="border-"+e;var n=Bg(t);var r=a.get(n);r!=null&&i.push(t+":"+r+(e==="color"?"":"px"))});i.push(vB(p));if(c!=null){i.push("padding:"+zg(c).join("px ")+"px")}return i.join(";")+";"}function yB(e,t,n,r,a){var i=t&&t.painter;if(n){var o=i&&i.getViewportRoot();if(o){mt(e,o,document.body,r,a)}}else{e[0]=r;e[1]=a;var s=i&&i.getViewportRootOffset();if(s){e[0]+=s.offsetLeft;e[1]+=s.offsetTop}}e[2]=e[0]/t.getWidth();e[3]=e[1]/t.getHeight()}var xB=function(){function e(e,t,n){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._firstShow=true;this._longHide=true;if(S.wxa){return null}var r=document.createElement("div");r.domBelongToZr=true;this.el=r;var a=this._zr=t.getZr();var i=this._appendToBody=n&&n.appendToBody;yB(this._styleCoord,a,i,t.getWidth()/2,t.getHeight()/2);if(i){document.body.appendChild(r)}else{e.appendChild(r)}this._container=e;var o=this;r.onmouseenter=function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true};r.onmousemove=function(e){e=e||window.event;if(!o._enterable){var t=a.handler;var n=a.painter.getViewportRoot();_t(n,e,true);t.dispatch("mousemove",e)}};r.onmouseleave=function(){o._inContent=false;if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}}}e.prototype.update=function(e){var t=this._container;var n=pB(t,"position");var r=t.style;if(r.position!=="absolute"&&n!=="absolute"){r.position="relative"}var a=e.get("alwaysShowContent");a&&this._moveIfResized();this.el.className=e.get("className")||""};e.prototype.show=function(e,t){clearTimeout(this._hideTimeout);clearTimeout(this._longHideTimeout);var n=this.el;var r=n.style;var a=this._styleCoord;if(!n.innerHTML){r.display="none"}else{r.cssText=gB+OB(e,!this._firstShow,this._longHide)+fB(a[0],a[1],true)+("border-color:"+Zg(t)+";")+(e.get("extraCssText")||"")+(";pointer-event:"+(this._enterable?"auto":"none"))}this._show=true;this._firstShow=false;this._longHide=false};e.prototype.setContent=function(e,t,n,r,a){if(e==null){return}var i=this.el;if(P(a)&&n.get("trigger")==="item"&&!iB(n)){e+=bB(n.get("backgroundColor"),r,a)}if(P(e)){i.innerHTML=e}else if(e){i.innerHTML="";if(!N(e)){e=[e]}for(var o=0;o<e.length;o++){if(he(e[o])&&e[o].parentNode!==i){i.appendChild(e[o])}}}};e.prototype.setEnterable=function(e){this._enterable=e};e.prototype.getSize=function(){var e=this.el;return[e.clientWidth,e.clientHeight]};e.prototype.moveTo=function(e,t){var n=this._styleCoord;yB(n,this._zr,this._appendToBody,e,t);if(n[0]!=null&&n[1]!=null){var r=this.el.style;var a=fB(n[0],n[1]);q(a,function(e){r[e[0]]=e[1]})}};e.prototype._moveIfResized=function(){var e=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())};e.prototype.hide=function(){var e=this;var t=this.el.style;t.visibility="hidden";t.opacity="0";S.transform3dSupported&&(t.willChange="");this._show=false;this._longHideTimeout=setTimeout(function(){return e._longHide=true},500)};e.prototype.hideLater=function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(O(this.hide,this),e)}else{this.hide()}}};e.prototype.isShow=function(){return this._show};e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)};e.prototype.getOuterSize=function(){var e=this.el.clientWidth;var t=this.el.clientHeight;var n=pB(this.el);if(n){e+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10);t+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)}return{width:e,height:t}};return e}();var IB=function(){function e(e){this._show=false;this._styleCoord=[0,0,0,0];this._enterable=true;this._zr=e.getZr();_B(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized()};e.prototype.show=function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}this.el.show();this._show=true};e.prototype.setContent=function(e,t,n,r,a){if(E(e)){h("development"!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":"")}if(this.el){this._zr.remove(this.el)}var i=n.getModel("textStyle");this.el=new G({style:{rich:t.richTextStyles,text:e,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:r,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:i.get("textShadowColor"),textShadowBlur:i.get("textShadowBlur")||0,textShadowOffsetX:i.get("textShadowOffsetX")||0,textShadowOffsetY:i.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:lf(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")});this._zr.add(this.el);var o=this;this.el.on("mouseover",function(){if(o._enterable){clearTimeout(o._hideTimeout);o._show=true}o._inContent=true});this.el.on("mouseout",function(){if(o._enterable){if(o._show){o.hideLater(o._hideDelay)}}o._inContent=false})};e.prototype.setEnterable=function(e){this._enterable=e};e.prototype.getSize=function(){var e=this.el;var t=this.el.getBoundingRect();var n=jB(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]};e.prototype.moveTo=function(e,t){var n=this.el;if(n){var r=this._styleCoord;_B(r,this._zr,e,t);e=r[0];t=r[1];var a=n.style;var i=SB(a.borderWidth||0);var o=jB(a);n.x=e+i+o.left;n.y=t+i+o.top;n.markRedraw()}};e.prototype._moveIfResized=function(){var e=this._styleCoord[2];var t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())};e.prototype.hide=function(){if(this.el){this.el.hide()}this._show=false};e.prototype.hideLater=function(e){if(this._show&&!(this._inContent&&this._enterable)){if(e){this._hideDelay=e;this._show=false;this._hideTimeout=setTimeout(O(this.hide,this),e)}else{this.hide()}}};e.prototype.isShow=function(){return this._show};e.prototype.getOuterSize=function(){var e=this.getSize();return{width:e[0],height:e[1]}};e.prototype.dispose=function(){this._zr.remove(this.el)};return e}();function SB(e){return Math.max(0,e)}function jB(e){var t=SB(e.shadowBlur||0);var n=SB(e.shadowOffsetX||0);var r=SB(e.shadowOffsetY||0);return{left:SB(t-n),right:SB(t+n),top:SB(t-r),bottom:SB(t+r)}}function _B(e,t,n,r){e[0]=n;e[1]=r;e[2]=e[0]/t.getWidth();e[3]=e[1]/t.getHeight()}var AB=O;var TB=q;var CB=X;var wB=new R({shape:{x:-1,y:-1,width:2,height:2}});var kB=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(e,t){if(S.node){return}var n=e.getComponent("tooltip");var r=n.get("renderMode");this._renderMode=ao(r);this._tooltipContent=this._renderMode==="richText"?new IB(t):new xB(t.getDom(),t,{appendToBody:n.get("appendToBody",true)})};n.prototype.render=function(e,t,n){if(S.node){return}this.group.removeAll();this._tooltipModel=e;this._ecModel=t;this._api=n;this._alwaysShowContent=e.get("alwaysShowContent");var r=this._tooltipContent;r.update(e);r.setEnterable(e.get("enterable"));this._initGlobalListener();this._keepShow()};n.prototype._initGlobalListener=function(){var e=this._tooltipModel;var r=e.get("triggerOn");UD("itemTooltip",this._api,AB(function(e,t,n){if(r!=="none"){if(r.indexOf(e)>=0){this._tryShow(t,n)}else if(e==="leave"){this._hide(n)}}},this))};n.prototype._keepShow=function(){var e=this._tooltipModel;var t=this._ecModel;var n=this._api;if(this._lastX!=null&&this._lastY!=null&&e.get("triggerOn")!=="none"){var r=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&r.manuallyShowTip(e,t,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})})}};n.prototype.manuallyShowTip=function(e,t,n,r){if(r.from===this.uid||S.node){return}var a=PB(r,n);this._ticket="";var i=r.dataByCoordSys;var o=BB(r,t,n);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform);this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:r.position,positionDefault:"bottom"},a)}else if(r.tooltip&&r.x!=null&&r.y!=null){var u=wB;u.x=r.x;u.y=r.y;u.update();H(u).tooltipConfig={name:null,option:r.tooltip};this._tryShow({offsetX:r.x,offsetY:r.y,target:u},a)}else if(i){this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:i,tooltipOption:r.tooltipOption},a)}else if(r.seriesIndex!=null){if(this._manuallyAxisShowTip(e,t,n,r)){return}var l=JD(r,t);var p=l.point[0];var c=l.point[1];if(p!=null&&c!=null){this._tryShow({offsetX:p,offsetY:c,target:l.el,position:r.position,positionDefault:"bottom"},a)}}else if(r.x!=null&&r.y!=null){n.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y});this._tryShow({offsetX:r.x,offsetY:r.y,position:r.position,target:n.getZr().findHover(r.x,r.y).target},a)}};n.prototype.manuallyHideTip=function(e,t,n,r){var a=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){a.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=this._lastDataByCoordSys=null;if(r.from!==this.uid){this._hide(PB(r,n))}};n.prototype._manuallyAxisShowTip=function(e,t,n,r){var a=r.seriesIndex;var i=r.dataIndex;var o=t.getComponent("axisPointer").coordSysAxesInfo;if(a==null||i==null||o==null){return}var s=t.getSeriesByIndex(a);if(!s){return}var u=s.getData();var l=NB([u.getItemModel(i),s,(s.coordinateSystem||{}).model],this._tooltipModel);if(l.get("trigger")!=="axis"){return}n.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:i,position:r.position});return true};n.prototype._tryShow=function(e,t){var n=e.target;var r=this._tooltipModel;if(!r){return}this._lastX=e.offsetX;this._lastY=e.offsetY;var a=e.dataByCoordSys;if(a&&a.length){this._showAxisTooltip(a,e)}else if(n){this._lastDataByCoordSys=null;var i;var o;c0(n,function(e){if(H(e).dataIndex!=null){i=e;return true}if(H(e).tooltipConfig!=null){o=e;return true}},true);if(i){this._showSeriesItemTooltip(e,i,t)}else if(o){this._showComponentItemTooltip(e,o,t)}else{this._hide(t)}}else{this._lastDataByCoordSys=null;this._hide(t)}};n.prototype._showOrMove=function(e,t){var n=e.get("showDelay");t=O(t,this);clearTimeout(this._showTimout);n>0?this._showTimout=setTimeout(t,n):t()};n.prototype._showAxisTooltip=function(e,t){var p=this._ecModel;var n=this._tooltipModel;var r=[t.offsetX,t.offsetY];var a=NB([t.tooltipOption],n);var c=this._renderMode;var d=[];var g=Zh("section",{blocks:[],noHeader:true});var m=[];var b=new pf;TB(e,function(e){TB(e.dataByAxis,function(i){var o=p.getComponent(i.axisDim+"Axis",i.axisIndex);var s=i.value;if(!o||s==null){return}var u=CD(s,o.axis,p,i.seriesDataIndices,i.valueLabelOpt);var l=Zh("section",{header:u,noHeader:!_e(u),sortBlocks:true,blocks:[]});g.blocks.push(l);q(i.seriesDataIndices,function(e){var t=p.getSeriesByIndex(e.seriesIndex);var n=e.dataIndexInside;var r=t.getDataParams(n);r.axisDim=i.axisDim;r.axisIndex=i.axisIndex;r.axisType=i.axisType;r.axisId=i.axisId;r.axisValue=vS(o.axis,{value:s});r.axisValueLabel=u;r.marker=b.makeTooltipMarker("item",Zg(r.color),c);var a=Oh(t.formatTooltip(n,true,null));if(a.markupFragment){l.blocks.push(a.markupFragment)}if(a.markupText){m.push(a.markupText)}d.push(r)})})});g.blocks.reverse();m.reverse();var i=t.position;var o=a.get("order");var s=ef(g,b,c,o,p.get("useUTC"),a.get("textStyle"));s&&m.unshift(s);var u=c==="richText"?"\n\n":"<br/>";var l=m.join(u);this._showOrMove(a,function(){if(this._updateContentNotChangedOnAxis(e)){this._updatePosition(a,i,r[0],r[1],this._tooltipContent,d)}else{this._showTooltipContent(a,l,d,Math.random()+"",r[0],r[1],i,null,b)}})};n.prototype._showSeriesItemTooltip=function(e,t,n){var r=this._ecModel;var a=H(t);var i=a.seriesIndex;var o=r.getSeriesByIndex(i);var s=a.dataModel||o;var u=a.dataIndex;var l=a.dataType;var p=s.getData(l);var c=this._renderMode;var d=e.positionDefault;var g=NB([p.getItemModel(u),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null);var m=g.get("trigger");if(m!=null&&m!=="item"){return}var b=s.getDataParams(u,l);var h=new pf;b.marker=h.makeTooltipMarker("item",Zg(b.color),c);var f=Oh(s.formatTooltip(u,false,l));var v=g.get("order");var O=f.markupFragment?ef(f.markupFragment,h,c,v,r.get("useUTC"),g.get("textStyle")):f.markupText;var y="item_"+s.name+"_"+u;this._showOrMove(g,function(){this._showTooltipContent(g,O,b,y,e.offsetX,e.offsetY,e.position,e.target,h)});n({type:"showTip",dataIndexInside:u,dataIndex:p.getRawIndex(u),seriesIndex:i,from:this.uid})};n.prototype._showComponentItemTooltip=function(t,n,e){var r=H(n);var a=r.tooltipConfig;var i=a.option||{};if(P(i)){var o=i;i={content:o,formatter:o}}var s=[i];var u=this._ecModel.getComponent(r.componentMainType,r.componentIndex);if(u){s.push(u)}s.push({formatter:i.content});var l=t.positionDefault;var p=NB(s,this._tooltipModel,l?{position:l}:null);var c=p.get("content");var d=Math.random()+"";var g=new pf;this._showOrMove(p,function(){var e=j(p.get("formatterParams")||{});this._showTooltipContent(p,c,e,d,t.offsetX,t.offsetY,t.position,n,g)});e({type:"showTip",from:this.uid})};n.prototype._showTooltipContent=function(n,e,r,t,a,i,o,s,u){this._ticket="";if(!n.get("showContent")||!n.get("show")){return}var l=this._tooltipContent;var p=n.get("formatter");o=o||n.get("position");var c=e;var d=this._getNearestPoint([a,i],r,n.get("trigger"),n.get("borderColor"));var g=d.color;if(p&&P(p)){var m=n.ecModel.get("useUTC");var b=N(r)?r[0]:r;var h=b&&b.axisType&&b.axisType.indexOf("time")>=0;c=p;if(h){c=fg(b.axisValue,c,m)}c=qg(c,r,true)}else if(x(p)){var f=AB(function(e,t){if(e===this._ticket){l.setContent(t,u,n,g,o);this._updatePosition(n,o,a,i,l,r,s)}},this);this._ticket=t;c=p(r,t,f)}l.setContent(c,u,n,g,o);l.show(n,g);this._updatePosition(n,o,a,i,l,r,s)};n.prototype._getNearestPoint=function(e,t,n,r){if(n==="axis"||N(t)){return{color:r||(this._renderMode==="html"?"#fff":"none")}}if(!N(t)){return{color:r||t.color||t.borderColor}}};n.prototype._updatePosition=function(e,t,n,r,a,i,o){var s=this._api.getWidth();var u=this._api.getHeight();t=t||e.get("position");var l=a.getSize();var p=e.get("align");var c=e.get("verticalAlign");var d=o&&o.getBoundingRect().clone();o&&d.applyTransform(o.transform);if(x(t)){t=t([n,r],i,a.el,d,{viewSize:[s,u],contentSize:l.slice()})}if(N(t)){n=CB(t[0],s);r=CB(t[1],u)}else if(E(t)){var g=t;g.width=l[0];g.height=l[1];var m=om(g,{width:s,height:u});n=m.x;r=m.y;p=null;c=null}else if(P(t)&&o){var b=DB(t,d,l);n=b[0];r=b[1]}else{var b=EB(n,r,a,s,u,p?null:20,c?null:20);n=b[0];r=b[1]}p&&(n-=MB(p)?l[0]/2:p==="right"?l[0]:0);c&&(r-=MB(c)?l[1]/2:c==="bottom"?l[1]:0);if(iB(e)){var b=LB(n,r,a,s,u);n=b[0];r=b[1]}a.moveTo(n,r)};n.prototype._updateContentNotChangedOnAxis=function(a){var e=this._lastDataByCoordSys;var o=!!e&&e.length===a.length;o&&TB(e,function(e,t){var n=e.dataByAxis||[];var r=a[t]||{};var i=r.dataByAxis||[];o=o&&n.length===i.length;o&&TB(n,function(e,t){var n=i[t]||{};var r=e.seriesDataIndices||[];var a=n.seriesDataIndices||[];o=o&&e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&r.length===a.length;o&&TB(r,function(e,t){var n=a[t];o=o&&e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})})});this._lastDataByCoordSys=a;return!!o};n.prototype._hide=function(e){this._lastDataByCoordSys=null;e({type:"hideTip",from:this.uid})};n.prototype.dispose=function(e,t){if(S.node){return}this._tooltipContent.dispose();XD("itemTooltip",t)};n.type="tooltip";return n}(jf);function NB(e,t,n){var r=t.ecModel;var a;if(n){a=new A(n,r,r);a=new A(t.option,a,r)}else{a=t}for(var i=e.length-1;i>=0;i--){var o=e[i];if(o){if(o instanceof A){o=o.get("tooltip",true)}if(P(o)){o={formatter:o}}if(o){a=new A(o,a,r)}}}return a}function PB(e,t){return e.dispatchAction||O(t.dispatchAction,t)}function EB(e,t,n,r,a,i,o){var s=n.getOuterSize();var u=s.width;var l=s.height;if(i!=null){if(e+u+i+2>r){e-=u+i}else{e+=i}}if(o!=null){if(t+l+o>a){t-=l+o}else{t+=o}}return[e,t]}function LB(e,t,n,r,a){var i=n.getOuterSize();var o=i.width;var s=i.height;e=Math.min(e+o,r)-o;t=Math.min(t+s,a)-s;e=Math.max(e,0);t=Math.max(t,0);return[e,t]}function DB(e,t,n){var r=n[0];var a=n[1];var i=10;var o=5;var s=0;var u=0;var l=t.width;var p=t.height;switch(e){case"inside":s=t.x+l/2-r/2;u=t.y+p/2-a/2;break;case"top":s=t.x+l/2-r/2;u=t.y-a-i;break;case"bottom":s=t.x+l/2-r/2;u=t.y+p+i;break;case"left":s=t.x-r-i-o;u=t.y+p/2-a/2;break;case"right":s=t.x+l+i+o;u=t.y+p/2-a/2}return[s,u]}function MB(e){return e==="center"||e==="middle"}function BB(n,e,t){var r=Ki(n).queryOptionMap;var a=r.keys()[0];if(!a||a==="series"){return}var i=to(e,a,r.get(a),{useDefault:false,enableAll:false,enableNone:false});var o=i.models[0];if(!o){return}var s=t.getViewOfComponentModel(o);var u;s.group.traverse(function(e){var t=H(e).tooltipConfig;if(t&&t.name===n.name){u=e;return true}});if(u){return{componentMainType:a,componentIndex:o.componentIndex,el:u}}}function zB(e){t(uM);e.registerComponentModel(aB);e.registerComponentView(kB);e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}var VB=["rect","polygon","keep","clear"];function RB(e,t){var n=_i(e?e.brush:[]);if(!n.length){return}var r=[];q(n,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];if(t instanceof Array){r=r.concat(t)}});var a=e&&e.toolbox;if(N(a)){a=a[0]}if(!a){a={feature:{}};e.toolbox=[a]}var i=a.feature||(a.feature={});var o=i.brush||(i.brush={});var s=o.type||(o.type=[]);s.push.apply(s,r);UB(s);if(t&&!s.length){s.push.apply(s,VB)}}function UB(n){var t={};q(n,function(e){t[e]=1});n.length=0;q(t,function(e,t){n.push(t)})}var FB=q;function GB(e){if(e){for(var t in e){if(e.hasOwnProperty(t)){return true}}}}function HB(e,t,i){var n={};FB(t,function(r){var a=n[r]=o();FB(e[r],function(e,t){if(!e5.isValidType(t)){return}var n={type:t,visual:e};i&&i(n,r);a[t]=new e5(n);if(t==="opacity"){n=j(n);n.type="colorAlpha";a.__hidden.__alphaForOpacity=new e5(n)}})});return n;function o(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function qB(t,n,e){var r;q(e,function(e){if(n.hasOwnProperty(e)&&GB(n[e])){r=true}});r&&q(e,function(e){if(n.hasOwnProperty(e)&&GB(n[e])){t[e]=j(n[e])}else{delete t[e]}})}function WB(e,l,p,c,d,g){var m={};q(e,function(e){var t=e5.prepareVisualTypes(l[e]);m[e]=t});var b;function h(e){return xv(p,b,e)}function f(e,t){Sv(p,b,e,t)}if(g==null){p.each(t)}else{p.each([g],t)}function t(e,t){b=g==null?e:t;var n=p.getRawDataItem(b);if(n&&n.visualMap===false){return}var r=c.call(d,e);var a=l[r];var i=m[r];for(var o=0,s=i.length;o<s;o++){var u=i[o];a[u]&&a[u].applyVisual(e,h,f)}}}function XB(e,b,h,f){var v={};q(e,function(e){var t=e5.prepareVisualTypes(b[e]);v[e]=t});return{progress:function e(t,n){var r;if(f!=null){r=n.getDimension(f)}function a(e){return xv(n,o,e)}function i(e,t){Sv(n,o,e,t)}var o;while((o=t.next())!=null){var s=n.getRawDataItem(o);if(s&&s.visualMap===false){continue}var u=f!=null?n.get(r,o):o;var l=h(u);var p=b[l];var c=v[l];for(var d=0,g=c.length;d<g;d++){var m=c[d];p[m]&&p[m].applyVisual(u,a,i)}}}}}function YB(t){var n=t.brushType;var r={point:function(e){return JB[n].point(e,r,t)},rect:function(e){return JB[n].rect(e,r,t)}};return r}var JB={lineX:ZB(0),lineY:ZB(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&UO(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1){return false}var a=e.x;var i=e.y;var o=e.width;var s=e.height;var u=r[0];if(UO(r,a,i)||UO(r,a+o,i)||UO(r,a,i+s)||UO(r,a+o,i+s)||z.create(e).contain(u[0],u[1])||ud(a,i,a+o,i,r)||ud(a,i,a,i+s,r)||ud(a+o,i,a+o,i+s,r)||ud(a,i+s,a+o,i+s,r)){return true}}}};function ZB(i){var o=["x","y"];var s=["width","height"];return{point:function(e,t,n){if(e){var r=n.range;var a=e[i];return $B(a,r)}},rect:function(e,t,n){if(e){var r=n.range;var a=[e[o[i]],e[o[i]]+e[s[i]]];a[1]<a[0]&&a.reverse();return $B(a[0],r)||$B(a[1],r)||$B(r[0],a)||$B(r[1],a)}}}}function $B(e,t){return t[0]<=e&&e<=t[1]}var KB=["inBrush","outOfBrush"];var QB="__ecBrushSelect";var ez="__ecInBrushSelectEvent";function tz(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new z7(e.option,n);t.setInputRanges(e.areas,n)})}function nz(b,e,t){var h=[];var f;var v;b.eachComponent({mainType:"brush"},function(e){t&&t.type==="takeGlobalCursor"&&e.setBrushOption(t.key==="brush"?t.brushOption:{brushType:false})});tz(b);b.eachComponent({mainType:"brush"},function(a,e){var o={brushId:a.id,brushIndex:e,brushName:a.name,areas:j(a.areas),selected:[]};h.push(o);var t=a.option;var n=t.brushLink;var r=[];var s=[];var u=[];var l=false;if(!e){f=t.throttleType;v=t.throttleDelay}var i=w(a.areas,function(e){var t=sz[e.brushType];var n=M({boundingRect:t?t(e):void 0},e);n.selectors=YB(n);return n});var p=HB(a.option,KB,function(e){e.mappingMethod="fixed"});N(n)&&q(n,function(e){r[e]=1});function c(e){return n==="all"||!!r[e]}function d(e){return!!e.length}b.eachSeries(function(e,t){var n=u[t]=[];e.subType==="parallel"?g(e,t):m(e,t,n)});function g(e,t){var n=e.coordinateSystem;l=l||n.hasAxisBrushed();c(t)&&n.eachActiveState(e.getData(),function(e,t){e==="active"&&(s[t]=1)})}function m(t,e,n){if(!t.brushSelector||oz(a,e)){return}q(i,function(e){if(a.brushTargetManager.controlSeries(e,t,b)){n.push(e)}l=l||d(n)});if(c(e)&&d(n)){var r=t.getData();r.each(function(e){if(iz(t,n,r,e)){s[e]=1}})}}b.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(n);var r=u[e];var a=t.getData();var i=c(e)?function(e){return s[e]?(n.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return iz(t,r,a,e)?(n.dataIndex.push(a.getRawIndex(e)),"inBrush"):"outOfBrush"};(c(e)?l:d(r))&&WB(KB,p,a,i)})});rz(e,f,v,h,t)}function rz(e,t,n,r,a){if(!a){return}var i=e.getZr();if(i[ez]){return}if(!i[QB]){i[QB]=az}var o=Bf(i,QB,n,t);o(e,r)}function az(e,t){if(!e.isDisposed()){var n=e.getZr();n[ez]=true;e.dispatchAction({type:"brushSelect",batch:t});n[ez]=false}}function iz(e,t,n,r){for(var a=0,i=t.length;a<i;a++){var o=t[a];if(e.brushSelector(r,n,o.selectors,o)){return true}}}function oz(e,t){var n=e.option.seriesIndex;return n!=null&&n!=="all"&&(N(n)?C(n,t)<0:t!==n)}var sz={rect:function(e){return uz(e.range)},polygon:function(e){var t;var n=e.range;for(var r=0,a=n.length;r<a;r++){t=t||[[Infinity,-Infinity],[Infinity,-Infinity]];var i=n[r];i[0]<t[0][0]&&(t[0][0]=i[0]);i[0]>t[0][1]&&(t[0][1]=i[0]);i[1]<t[1][0]&&(t[1][0]=i[1]);i[1]>t[1][1]&&(t[1][1]=i[1])}return t&&uz(t)}};function uz(e){return new z(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var lz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(e,t){this.ecModel=e;this.api=t;this.model;(this._brushController=new vk(t.getZr())).on("brush",O(this._onBrush,this)).mount()};n.prototype.render=function(e,t,n,r){this.model=e;this._updateController(e,t,n,r)};n.prototype.updateTransform=function(e,t,n,r){tz(t);this._updateController(e,t,n,r)};n.prototype.updateVisual=function(e,t,n,r){this.updateTransform(e,t,n,r)};n.prototype.updateView=function(e,t,n,r){this._updateController(e,t,n,r)};n.prototype._updateController=function(e,t,n,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(n)).enableBrush(e.brushOption).updateCovers(e.areas.slice())};n.prototype.dispose=function(){this._brushController.dispose()};n.prototype._onBrush=function(e){var t=this.model.id;var n=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:j(n),$from:t});e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:j(n),$from:t})};n.type="brush";return n}(jf);var pz="#ddd";var cz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.areas=[];e.brushOption={};return e}n.prototype.optionUpdated=function(e,t){var n=this.option;!t&&qB(n,e,["inBrush","outOfBrush"]);var r=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:pz};if(!r.hasOwnProperty("liftZ")){r.liftZ=5}};n.prototype.setAreas=function(e){if("development"!=="production"){D(N(e));q(e,function(e){D(e.brushType,"Illegal areas")})}if(!e){return}this.areas=w(e,function(e){return dz(this.option,e)},this)};n.prototype.setBrushOption=function(e){this.brushOption=dz(this.option,e);this.brushType=this.brushOption.brushType};n.type="brush";n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"];n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:1e4};return n}(g);function dz(e,t){return f({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new A(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,true)}var gz=["rect","polygon","lineX","lineY","keep","clear"];var mz=function(e){b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.render=function(t,e,n){var r;var a;var i;e.eachComponent({mainType:"brush"},function(e){r=e.brushType;a=e.brushOption.brushMode||"single";i=i||!!e.areas.length});this._brushType=r;this._brushMode=a;q(t.get("type",true),function(e){t.setIconStatus(e,(e==="keep"?a==="multiple":e==="clear"?i:e===r)?"emphasis":"normal")})};t.prototype.updateView=function(e,t,n){this.render(e,t,n)};t.prototype.getIcons=function(){var e=this.model;var t=e.get("icon",true);var n={};q(e.get("type",true),function(e){if(t[e]){n[e]=t[e]}});return n};t.prototype.onclick=function(e,t,n){var r=this._brushType;var a=this._brushMode;if(n==="clear"){t.dispatchAction({type:"axisAreaSelect",intervals:[]});t.dispatchAction({type:"brush",command:"clear",areas:[]})}else{t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:n==="keep"?r:r===n?false:n,brushMode:n==="keep"?a==="multiple"?"single":"multiple":a}})}};t.getDefaultOption=function(e){var t={show:true,type:gz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocale(["toolbox","brush","title"])};return t};return t}(t7);function bz(e){e.registerComponentView(lz);e.registerComponentModel(cz);e.registerPreprocessor(RB);e.registerVisual(e.PRIORITY.VISUAL.BRUSH,nz);e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})});e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){});e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){});r7("brush",mz)}var hz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.layoutMode={type:"box",ignoreSize:true};return e}n.type="title";n.defaultOption={zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}};return n}(g);var fz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.render=function(e,t,n){this.group.removeAll();if(!e.get("show")){return}var r=this.group;var a=e.getModel("textStyle");var i=e.getModel("subtextStyle");var o=e.get("textAlign");var s=L(e.get("textBaseline"),e.get("textVerticalAlign"));var u=new G({style:Od(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:true}),z2:10});var l=u.getBoundingRect();var p=e.get("subtext");var c=new G({style:Od(i,{text:p,fill:i.getTextColor(),y:l.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:true}),z2:10});var d=e.get("link");var g=e.get("sublink");var m=e.get("triggerEvent",true);u.silent=!d&&!m;c.silent=!g&&!m;if(d){u.on("click",function(){$g(d,"_"+e.get("target"))})}if(g){c.on("click",function(){$g(g,"_"+e.get("subtarget"))})}H(u).eventData=H(c).eventData=m?{componentType:"title",componentIndex:e.componentIndex}:null;r.add(u);p&&r.add(c);var b=r.getBoundingRect();var h=e.getBoxLayoutParams();h.width=b.width;h.height=b.height;var f=om(h,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));if(!o){o=e.get("left")||e.get("right");if(o==="middle"){o="center"}if(o==="right"){f.x+=f.width}else if(o==="center"){f.x+=f.width/2}}if(!s){s=e.get("top")||e.get("bottom");if(s==="center"){s="middle"}if(s==="bottom"){f.y+=f.height}else if(s==="middle"){f.y+=f.height/2}s=s||"top"}r.x=f.x;r.y=f.y;r.markRedraw();var v={align:o,verticalAlign:s};u.setStyle(v);c.setStyle(v);b=r.getBoundingRect();var O=f.margin;var y=e.getItemStyle(["color","opacity"]);y.fill=e.get("backgroundColor");var x=new R({shape:{x:b.x-O[3],y:b.y-O[0],width:b.width+O[1]+O[3],height:b.height+O[0]+O[2],r:e.get("borderRadius")},style:y,subPixelOptimize:true,silent:true});r.add(x)};n.type="title";return n}(jf);function vz(e){e.registerComponentModel(hz);e.registerComponentView(fz)}var Oz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.layoutMode="box";return e}n.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n);this._initData()};n.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments);this._initData()};n.prototype.setCurrentIndex=function(e){if(e==null){e=this.option.currentIndex}var t=this._data.count();if(this.option.loop){e=(e%t+t)%t}else{e>=t&&(e=t-1);e<0&&(e=0)}this.option.currentIndex=e};n.prototype.getCurrentIndex=function(){return this.option.currentIndex};n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1};n.prototype.setPlayState=function(e){this.option.autoPlay=!!e};n.prototype.getPlayState=function(){return!!this.option.autoPlay};n.prototype._initData=function(){var e=this.option;var t=e.data||[];var n=e.axisType;var a=this._names=[];var i;if(n==="category"){i=[];q(t,function(e,t){var n=Vi(Ci(e),"");var r;if(E(e)){r=j(e);r.value=t}else{r=t}i.push(r);a.push(n)})}else{i=t}var r={category:"ordinal",time:"time",value:"number"}[n]||"number";var o=this._data=new Jx([{name:"value",type:r}],this);o.initData(i,a)};n.prototype.getData=function(){return this._data};n.prototype.getCategories=function(){if(this.get("axisType")==="category"){return this._names.slice()}};n.type="timeline";n.defaultOption={zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]};return n}(g);var yz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="timeline.slider";n.defaultOption=Hd(Oz.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:true,width:2,color:"#DAE1F5"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:true,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]});return n}(Oz);oe(yz,vh.prototype);var xz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="timeline";return n}(jf);var Iz=function(i){b(e,i);function e(e,t,n,r){var a=i.call(this,e,t,n)||this;a.type=r||"value";return a}e.prototype.getLabelModel=function(){return this.model.getModel("label")};e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"};return e}(QS);var Sz=Math.PI;var jz=Ji();var _z=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(e,t){this.api=t};n.prototype.render=function(t,e,n){this.model=t;this.api=n;this.ecModel=e;this.group.removeAll();if(t.get("show",true)){var r=this._layout(t,n);var a=this._createGroup("_mainGroup");var i=this._createGroup("_labelGroup");var o=this._axis=this._createAxis(r,t);t.formatTooltip=function(e){var t=o.scale.getLabel({value:e});return Zh("nameValue",{noName:true,value:t})};q(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](r,a,o,t)},this);this._renderAxisLabel(r,i,o,t);this._position(r,t)}this._doPlayStop();this._updateTicksStatus()};n.prototype.remove=function(){this._clearTimer();this.group.removeAll()};n.prototype.dispose=function(){this._clearTimer()};n.prototype._layout=function(e,t){var n=e.get(["label","position"]);var r=e.get("orient");var a=Tz(e,t);var i;if(n==null||n==="auto"){i=r==="horizontal"?a.y+a.height/2<t.getHeight()/2?"-":"+":a.x+a.width/2<t.getWidth()/2?"+":"-"}else if(P(n)){i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]}else{i=n}var o={horizontal:"center",vertical:i>=0||i==="+"?"left":"right"};var s={horizontal:i>=0||i==="+"?"top":"bottom",vertical:"middle"};var u={horizontal:0,vertical:Sz/2};var l=r==="vertical"?a.height:a.width;var p=e.getModel("controlStyle");var c=p.get("show",true);var d=c?p.get("itemSize"):0;var g=c?p.get("itemGap"):0;var m=d+g;var b=e.get(["label","rotate"])||0;b=b*Sz/180;var h;var f;var v;var O=p.get("position",true);var y=c&&p.get("showPlayBtn",true);var x=c&&p.get("showPrevBtn",true);var I=c&&p.get("showNextBtn",true);var S=0;var j=l;if(O==="left"||O==="bottom"){y&&(h=[0,0],S+=m);x&&(f=[S,0],S+=m);I&&(v=[j-d,0],j-=m)}else{y&&(h=[j-d,0],j-=m);x&&(f=[0,0],S+=m);I&&(v=[j-d,0],j-=m)}var _=[S,j];if(e.get("inverse")){_.reverse()}return{viewRect:a,mainLength:l,orient:r,rotation:u[r],labelRotation:b,labelPosOpt:i,labelAlign:e.get(["label","align"])||o[r],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||s[r],playPosition:h,prevBtnPosition:f,nextBtnPosition:v,axisExtent:_,controlSize:d,controlGap:g}};n.prototype._position=function(e,t){var n=this._mainGroup;var r=this._labelGroup;var a=e.viewRect;if(e.orient==="vertical"){var i=Er();var o=a.x;var s=a.y+a.height;Br(i,i,[-o,-s]);zr(i,i,-Sz/2);Br(i,i,[o,s]);a=a.clone();a.applyTransform(i)}var u=h(a);var l=h(n.getBoundingRect());var p=h(r.getBoundingRect());var c=[n.x,n.y];var d=[r.x,r.y];d[0]=c[0]=u[0][0];var g=e.labelPosOpt;if(g==null||P(g)){var m=g==="+"?0:1;f(c,l,u,1,m);f(d,p,u,1,1-m)}else{var m=g>=0?0:1;f(c,l,u,1,m);d[1]=c[1]+g}n.setPosition(c);r.setPosition(d);n.rotation=r.rotation=e.rotation;b(n);b(r);function b(e){e.originX=u[0][0]-e.x;e.originY=u[1][0]-e.y}function h(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function f(e,t,n,r,a){e[r]+=n[r][a]-t[r][a]}};n.prototype._createAxis=function(e,t){var n=t.getData();var r=t.get("axisType");var a=Az(t,r);a.getTicks=function(){return n.mapArray(["value"],function(e){return{value:e}})};var i=n.getDataExtent("value");a.setExtent(i[0],i[1]);a.niceTicks();var o=new Iz("value",a,e.axisExtent,r);o.model=t;return o};n.prototype._createGroup=function(e){var t=this[e]=new F;this.group.add(t);return t};n.prototype._renderAxisLine=function(e,t,n,r){var a=n.getExtent();if(!r.get(["lineStyle","show"])){return}var i=new gc({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:U({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:true,z2:1});t.add(i);var o=this._progressLine=new gc({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:M({lineCap:"round",lineWidth:i.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:true,z2:1});t.add(o)};n.prototype._renderAxisTick=function(e,l,p,c){var d=this;var g=c.getData();var t=p.scale.getTicks();this._tickSymbols=[];q(t,function(e){var t=p.dataToCoord(e.value);var n=g.getItemModel(e.value);var r=n.getModel("itemStyle");var a=n.getModel(["emphasis","itemStyle"]);var i=n.getModel(["progress","itemStyle"]);var o={x:t,y:0,onclick:O(d._changeTimeline,d,e.value)};var s=wz(n,r,l,o);s.ensureState("emphasis").style=a.getItemStyle();s.ensureState("progress").style=i.getItemStyle();tp(s);var u=H(s);if(n.get("tooltip")){u.dataIndex=e.value;u.dataModel=c}else{u.dataIndex=u.dataModel=null}d._tickSymbols.push(s)})};n.prototype._renderAxisLabel=function(u,l,p,e){var c=this;var t=p.getLabelModel();if(!t.get("show")){return}var d=e.getData();var n=p.getViewLabels();this._tickLabels=[];q(n,function(e){var t=e.tickValue;var n=d.getItemModel(t);var r=n.getModel("label");var a=n.getModel(["emphasis","label"]);var i=n.getModel(["progress","label"]);var o=p.dataToCoord(e.tickValue);var s=new G({x:o,y:0,rotation:u.labelRotation-u.rotation,onclick:O(c._changeTimeline,c,t),silent:false,style:Od(r,{text:e.formattedLabel,align:u.labelAlign,verticalAlign:u.labelBaseline})});s.ensureState("emphasis").style=Od(a);s.ensureState("progress").style=Od(i);l.add(s);tp(s);jz(s).dataIndex=t;c._tickLabels.push(s)})};n.prototype._renderControl=function(e,s,t,u){var l=e.controlSize;var p=e.rotation;var c=u.getModel("controlStyle").getItemStyle();var d=u.getModel(["emphasis","controlStyle"]).getItemStyle();var n=u.getPlayState();var r=u.get("inverse",true);a(e.nextBtnPosition,"next",O(this._changeTimeline,this,r?"-":"+"));a(e.prevBtnPosition,"prev",O(this._changeTimeline,this,r?"+":"-"));a(e.playPosition,n?"stop":"play",O(this._handlePlayClick,this,!n),true);function a(e,t,n,r){if(!e){return}var a=fa(L(u.get(["controlStyle",t+"BtnSize"]),l),l);var i=[0,-a/2,a,a];var o=Cz(u,t+"Icon",i,{x:e[0],y:e[1],originX:l/2,originY:0,rotation:r?-p:0,rectHover:true,style:c,onclick:n});o.ensureState("emphasis").style=d;s.add(o);tp(o)}};n.prototype._renderCurrentPointer=function(e,t,n,r){var a=r.getData();var i=r.getCurrentIndex();var o=a.getItemModel(i).getModel("checkpointStyle");var s=this;var u={onCreate:function(e){e.draggable=true;e.drift=O(s._handlePointerDrag,s);e.ondragend=O(s._handlePointerDragend,s);kz(e,s._progressLine,i,n,r,true)},onUpdate:function(e){kz(e,s._progressLine,i,n,r)}};this._currentPointer=wz(o,o,this._mainGroup,{},this._currentPointer,u)};n.prototype._handlePlayClick=function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})};n.prototype._handlePointerDrag=function(e,t,n){this._clearTimer();this._pointerChangeTimeline([n.offsetX,n.offsetY])};n.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],true)};n.prototype._pointerChangeTimeline=function(e,t){var n=this._toAxisCoord(e)[0];var r=this._axis;var a=Xa(r.getExtent().slice());n>a[1]&&(n=a[1]);n<a[0]&&(n=a[0]);this._currentPointer.x=n;this._currentPointer.markRedraw();this._progressLine.shape.x2=n;this._progressLine.dirty();var i=this._findNearestTick(n);var o=this.model;if(t||i!==o.getCurrentIndex()&&o.get("realtime")){this._changeTimeline(i)}};n.prototype._doPlayStop=function(){var t=this;this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))},this.model.get("playInterval"))}};n.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return ed(e,t,true)};n.prototype._findNearestTick=function(a){var e=this.model.getData();var i=Infinity;var o;var s=this._axis;e.each(["value"],function(e,t){var n=s.dataToCoord(e);var r=Math.abs(n-a);if(r<i){i=r;o=t}});return o};n.prototype._clearTimer=function(){if(this._timer){clearTimeout(this._timer);this._timer=null}};n.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();if(e==="+"){e=t+1}else if(e==="-"){e=t-1}this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})};n.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex();var t=this._tickSymbols;var n=this._tickLabels;if(t){for(var r=0;r<t.length;r++){t&&t[r]&&t[r].toggleState("progress",r<e)}}if(n){for(var r=0;r<n.length;r++){n&&n[r]&&n[r].toggleState("progress",jz(n[r]).dataIndex<=e)}}};n.type="timeline.slider";return n}(xz);function Az(e,t){t=t||e.get("type");if(t){switch(t){case"category":return new xI({ordinalMeta:e.getCategories(),extent:[Infinity,-Infinity]});case"time":return new UI({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new SI}}}function Tz(e,t){return om(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function Cz(e,t,n,r){var a=r.style;var i=sd(e.get(["controlStyle",t]),r||{},new z(n[0],n[1],n[2],n[3]));if(a){i.setStyle(a)}return i}function wz(e,t,n,r,a,i){var o=t.get("color");if(!a){var s=e.get("symbol");a=S0(s,-1,-1,2,2,o);a.setStyle("strokeNoScale",true);n.add(a);i&&i.onCreate(a)}else{a.setColor(o);n.add(a);i&&i.onUpdate(a)}var u=t.getItemStyle(["color"]);a.setStyle(u);r=f({rectHover:true,z2:100},r,true);var l=e.get("symbolSize");l=l instanceof Array?l.slice():[+l,+l];r.scaleX=l[0]/2;r.scaleY=l[1]/2;var p=e.get("symbolOffset");if(p){r.x=r.x||0;r.y=r.y||0;r.x+=X(p[0],l[0]);r.y+=X(p[1],l[1])}var c=e.get("symbolRotate");r.rotation=(c||0)*Math.PI/180||0;a.attr(r);a.updateTransform();return a}function kz(e,t,n,r,a,i){if(e.dragging){return}var o=a.getModel("checkpointStyle");var s=r.dataToCoord(a.getData().get("value",n));if(i||!o.get("animation",true)){e.attr({x:s,y:0});t&&t.attr({shape:{x2:s}})}else{var u={duration:o.get("animationDuration",true),easing:o.get("animationEasing",true)};e.stopAnimation(null,true);e.animateTo({x:s,y:0},u);t&&t.animateTo({shape:{x2:s}},u)}}function Nz(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");if(n&&e.currentIndex!=null){n.setCurrentIndex(e.currentIndex);if(!n.get("loop",true)&&n.isIndexMax()){n.setPlayState(false)}}t.resetOption("timeline",{replaceMerge:n.get("replaceMerge",true)});return M({currentIndex:n.option.currentIndex},e)});e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");if(n&&e.playState!=null){n.setPlayState(e.playState)}})}function Pz(e){var t=e&&e.timeline;if(!N(t)){t=t?[t]:[]}q(t,function(e){if(!e){return}Ez(e)})}function Ez(e){var t=e.type;var n={number:"value",time:"time"};if(n[t]){e.axisType=n[t];delete e.type}Lz(e);if(Dz(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});if(!Dz(r,"position")){r.position=e.controlPosition}if(r.position==="none"&&!Dz(r,"show")){r.show=false;delete r.position}delete e.controlPosition}q(e.data||[],function(e){if(E(e)&&!N(e)){if(!Dz(e,"value")&&Dz(e,"name")){e.value=e.name}Lz(e)}})}function Lz(e){var t=e.itemStyle||(e.itemStyle={});var n=t.emphasis||(t.emphasis={});var r=e.label||e.label||{};var a=r.normal||(r.normal={});var i={normal:1,emphasis:1};q(r,function(e,t){if(!i[t]&&!Dz(a,t)){a[t]=e}});if(n.label&&!Dz(r,"emphasis")){r.emphasis=n.label;delete n.label}}function Dz(e,t){return e.hasOwnProperty(t)}function Mz(e){e.registerComponentModel(yz);e.registerComponentView(_z);e.registerSubTypeDefaulter("timeline",function(){return"slider"});Nz(e);e.registerPreprocessor(Pz)}function Bz(e,t){if(!e){return false}var n=N(e)?e:[e];for(var r=0;r<n.length;r++){if(n[r]&&n[r][t]){return true}}return false}function zz(e){Ai(e,"label",["show"])}var Vz=Ji();var Rz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.createdBySelf=false;return e}n.prototype.init=function(e,t,n){if("development"!=="production"){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(e,n);this._mergeOption(e,n,false,true)};n.prototype.isAnimationEnabled=function(){if(S.node){return false}var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()};n.prototype.mergeOption=function(e,t){this._mergeOption(e,t,false,false)};n.prototype._mergeOption=function(e,r,t,a){var i=this.mainType;if(!t){r.eachSeries(function(e){var t=e.get(this.mainType,true);var n=Vz(e)[i];if(!t||!t.data){Vz(e)[i]=null;return}if(!n){if(a){zz(t)}q(t.data,function(e){if(e instanceof Array){zz(e[0]);zz(e[1])}else{zz(e)}});n=this.createMarkerModelFromSeries(t,this,r);U(n,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:true});n.__hostSeries=e}else{n._mergeOption(t,r,true)}Vz(e)[i]=n},this)}};n.prototype.formatTooltip=function(e,t,n){var r=this.getData();var a=this.getRawValue(e);var i=r.getName(e);return Zh("section",{header:this.name,blocks:[Zh("nameValue",{name:i,value:a,noName:!i,noValue:a==null})]})};n.prototype.getData=function(){return this._data};n.prototype.setData=function(e){this._data=e};n.getMarkerModelFromSeries=function(e,t){return Vz(e)[t]};n.type="marker";n.dependencies=["series","grid","polar","geo"];return n}(g);oe(Rz,vh.prototype);var Uz=function(t){b(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,n){return new r(e,t,n)};r.type="markPoint";r.defaultOption={zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}};return r}(Rz);function Fz(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function Gz(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Hz(e,t,n,r,a,i){var o=[];var s=iI(t,r);var u=s?t.getCalculationInfo("stackResultDimension"):r;var l=$z(t,u,e);var p=t.indicesOfNearest(u,l)[0];o[a]=t.get(n,p);o[i]=t.get(u,p);var c=t.get(r,p);var d=Ya(t.get(r,p));d=Math.min(d,20);if(d>=0){o[i]=+o[i].toFixed(d)}return[o,c]}var qz={min:y(Hz,"min"),max:y(Hz,"max"),average:y(Hz,"average"),median:y(Hz,"median")};function Wz(e,t){var n=e.getData();var r=e.coordinateSystem;if(t&&!Gz(t)&&!N(t.coord)&&r){var a=r.dimensions;var i=Xz(t,n,r,e);t=j(t);if(t.type&&qz[t.type]&&i.baseAxis&&i.valueAxis){var o=C(a,i.baseAxis.dim);var s=C(a,i.valueAxis.dim);var u=qz[t.type](n,i.baseDataDim,i.valueDataDim,o,s);t.coord=u[0];t.value=u[1]}else{var l=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis];for(var p=0;p<2;p++){if(qz[l[p]]){l[p]=$z(n,n.mapDimension(a[p]),l[p])}}t.coord=l}}return t}function Xz(e,t,n,r){var a={};if(e.valueIndex!=null||e.valueDim!=null){a.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim;a.valueAxis=n.getAxis(Yz(r,a.valueDataDim));a.baseAxis=n.getOtherAxis(a.valueAxis);a.baseDataDim=t.mapDimension(a.baseAxis.dim)}else{a.baseAxis=r.getBaseAxis();a.valueAxis=n.getOtherAxis(a.baseAxis);a.baseDataDim=t.mapDimension(a.baseAxis.dim);a.valueDataDim=t.mapDimension(a.valueAxis.dim)}return a}function Yz(e,t){var n=e.getData();var r=n.dimensions;t=n.getDimension(t);for(var a=0;a<r.length;a++){var i=n.getDimensionInfo(r[a]);if(i.name===t){return i.coordDim}}}function Jz(e,t){return e&&e.containData&&t.coord&&!Fz(t)?e.containData(t.coord):true}function Zz(e,t,n,r){if(r<2){return e.coord&&e.coord[r]}return e.value}function $z(e,t,n){if(n==="average"){var r=0;var a=0;e.each(t,function(e,t){if(!isNaN(e)){r+=e;a++}});return r/a}else if(n==="median"){return e.getMedian(t)}else{return e.getDataExtent(t)[n==="max"?1:0]}}var Kz=Ji();var Qz=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.init=function(){this.markerGroupMap=_()};n.prototype.render=function(e,n,r){var a=this;var t=this.markerGroupMap;t.each(function(e){Kz(e).keep=false});n.eachSeries(function(e){var t=Rz.getMarkerModelFromSeries(e,a.type);t&&a.renderSeries(e,t,n,r)});t.each(function(e){!Kz(e).keep&&a.group.remove(e.group)})};n.prototype.markKeep=function(e){Kz(e).keep=true};n.prototype.blurSeries=function(e){var r=this;q(e,function(e){var t=Rz.getMarkerModelFromSeries(e,r.type);if(t){var n=t.getData();n.eachItemGraphicEl(function(e){if(e){Rl(e)}})}})};n.type="marker";return n}(jf);function eV(s,u,l){var p=u.coordinateSystem;s.each(function(e){var t=s.getItemModel(e);var n;var r=X(t.get("x"),l.getWidth());var a=X(t.get("y"),l.getHeight());if(!isNaN(r)&&!isNaN(a)){n=[r,a]}else if(u.getMarkerPosition){n=u.getMarkerPosition(s.getValues(s.dimensions,e))}else if(p){var i=s.get(p.dimensions[0],e);var o=s.get(p.dimensions[1],e);n=p.dataToPoint([i,o])}if(!isNaN(r)){n[0]=r}if(!isNaN(a)){n[1]=a}s.setItemLayout(e,n)})}var tV=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.updateTransform=function(e,t,n){t.eachSeries(function(e){var t=Rz.getMarkerModelFromSeries(e,"markPoint");if(t){eV(t.getData(),e,n);this.markerGroupMap.get(e.id).updateLayout()}},this)};n.prototype.renderSeries=function(e,l,t,n){var r=e.coordinateSystem;var a=e.id;var p=e.getData();var i=this.markerGroupMap;var o=i.get(a)||i.set(a,new k_);var c=nV(r,e,l);l.setData(c);eV(l.getData(),e,n);c.each(function(e){var t=c.getItemModel(e);var n=t.getShallow("symbol");var r=t.getShallow("symbolSize");var a=t.getShallow("symbolRotate");if(x(n)||x(r)||x(a)){var i=l.getRawValue(e);var o=l.getDataParams(e);if(x(n)){n=n(i,o)}if(x(r)){r=r(i,o)}if(x(a)){a=a(i,o)}}var s=t.getModel("itemStyle").getItemStyle();var u=Iv(p,"color");if(!s.fill){s.fill=u}c.setItemVisual(e,{symbol:n,symbolSize:r,symbolRotate:a,style:s})});o.updateData(c);this.group.add(o.group);c.eachItemGraphicEl(function(e){e.traverse(function(e){H(e).dataModel=l})});this.markKeep(o);o.group.silent=l.get("silent")||e.get("silent")};n.type="markPoint";return n}(Qz);function nV(e,n,t){var r;if(e){r=w(e&&e.dimensions,function(e){var t=n.getData().getDimensionInfo(n.getData().mapDimension(e))||{};return M({name:e},t)})}else{r=[{name:"value",type:"float"}]}var a=new Jx(r,t);var i=w(t.get("data"),y(Wz,n));if(e){i=le(i,y(Jz,e))}a.initData(i,null,e?Zz:function(e){return e.value});return a}function rV(e){e.registerComponentModel(Uz);e.registerComponentView(tV);e.registerPreprocessor(function(e){if(Bz(e.series,"markPoint")){e.markPoint=e.markPoint||{}}})}var aV=function(t){b(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,n){return new r(e,t,n)};r.type="markLine";r.defaultOption={zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"};return r}(Rz);var iV=Ji();var oV=function(e,t,n,r){var a=e.getData();var i;if(!N(r)){var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0;var u=void 0;if(r.yAxis!=null||r.xAxis!=null){s=t.getAxis(r.yAxis!=null?"y":"x");u=xe(r.yAxis,r.xAxis)}else{var l=Xz(r,a,t,e);s=l.valueAxis;var p=oI(a,l.valueDataDim);u=$z(a,p,o)}var c=s.dim==="x"?0:1;var d=1-c;var g=j(r);var m={coord:[]};g.type=null;g.coord=[];g.coord[d]=-Infinity;m.coord[d]=Infinity;var b=n.get("precision");if(b>=0&&typeof u==="number"){u=+u.toFixed(Math.min(b,20))}g.coord[c]=m.coord[c]=u;i=[g,m,{type:o,valueIndex:r.valueIndex,value:u}]}else{if("development"!=="production"){ne("Invalid markLine data.")}i=[]}}else{i=r}var h=[Wz(e,i[0]),Wz(e,i[1]),U({},i[2])];h[2].type=h[2].type||null;f(h[2],h[0]);f(h[2],h[1]);return h};function sV(e){return!isNaN(e)&&!isFinite(e)}function uV(e,t,n,r){var a=1-e;var i=r.dimensions[e];return sV(t[a])&&sV(n[a])&&t[e]===n[e]&&r.getAxis(i).containData(t[e])}function lV(e,t){if(e.type==="cartesian2d"){var n=t[0].coord;var r=t[1].coord;if(n&&r&&(uV(1,n,r,e)||uV(0,n,r,e))){return true}}return Jz(e,t[0])&&Jz(e,t[1])}function pV(e,t,n,r,a){var i=r.coordinateSystem;var o=e.getItemModel(t);var s;var u=X(o.get("x"),a.getWidth());var l=X(o.get("y"),a.getHeight());if(!isNaN(u)&&!isNaN(l)){s=[u,l]}else{if(r.getMarkerPosition){s=r.getMarkerPosition(e.getValues(e.dimensions,t))}else{var p=i.dimensions;var c=e.get(p[0],t);var d=e.get(p[1],t);s=i.dataToPoint([c,d])}if(Z_(i,"cartesian2d")){var g=i.getAxis("x");var m=i.getAxis("y");var p=i.dimensions;if(sV(e.get(p[0],t))){s[0]=g.toGlobalCoord(g.getExtent()[n?0:1])}else if(sV(e.get(p[1],t))){s[1]=m.toGlobalCoord(m.getExtent()[n?0:1])}}if(!isNaN(u)){s[0]=u}if(!isNaN(l)){s[1]=l}}e.setItemLayout(t,s)}var cV=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.updateTransform=function(e,t,i){t.eachSeries(function(t){var e=Rz.getMarkerModelFromSeries(t,"markLine");if(e){var n=e.getData();var r=iV(e).from;var a=iV(e).to;r.each(function(e){pV(r,e,true,t,i);pV(a,e,false,t,i)});n.each(function(e){n.setItemLayout(e,[r.getItemLayout(e),a.getItemLayout(e)])});this.markerGroupMap.get(t.id).updateLayout()}},this)};n.prototype.renderSeries=function(i,n,e,o){var t=i.coordinateSystem;var r=i.id;var s=i.getData();var a=this.markerGroupMap;var u=a.get(r)||a.set(r,new L3);this.group.add(u.group);var l=dV(t,i,n);var p=l.from;var c=l.to;var d=l.line;iV(n).from=p;iV(n).to=c;n.setData(d);var g=n.get("symbol");var m=n.get("symbolSize");var b=n.get("symbolRotate");var h=n.get("symbolOffset");if(!N(g)){g=[g,g]}if(!N(m)){m=[m,m]}if(!N(b)){b=[b,b]}if(!N(h)){h=[h,h]}l.from.each(function(e){f(p,e,true);f(c,e,false)});d.each(function(e){var t=d.getItemModel(e).getModel("lineStyle").getLineStyle();d.setItemLayout(e,[p.getItemLayout(e),c.getItemLayout(e)]);if(t.stroke==null){t.stroke=p.getItemVisual(e,"style").fill}d.setItemVisual(e,{fromSymbolKeepAspect:p.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(e,"symbolOffset"),fromSymbolRotate:p.getItemVisual(e,"symbolRotate"),fromSymbolSize:p.getItemVisual(e,"symbolSize"),fromSymbol:p.getItemVisual(e,"symbol"),toSymbolKeepAspect:c.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:c.getItemVisual(e,"symbolOffset"),toSymbolRotate:c.getItemVisual(e,"symbolRotate"),toSymbolSize:c.getItemVisual(e,"symbolSize"),toSymbol:c.getItemVisual(e,"symbol"),style:t})});u.updateData(d);l.line.eachItemGraphicEl(function(e,t){e.traverse(function(e){H(e).dataModel=n})});function f(e,t,n){var r=e.getItemModel(t);pV(e,t,n,i,o);var a=r.getModel("itemStyle").getItemStyle();if(a.fill==null){a.fill=Iv(s,"color")}e.setItemVisual(t,{symbolKeepAspect:r.get("symbolKeepAspect"),symbolOffset:L(r.get("symbolOffset"),h[n?0:1]),symbolRotate:L(r.get("symbolRotate",true),b[n?0:1]),symbolSize:L(r.get("symbolSize"),m[n?0:1]),symbol:L(r.get("symbol",true),g[n?0:1]),style:a})}this.markKeep(u);u.group.silent=n.get("silent")||i.get("silent")};n.type="markLine";return n}(Qz);function dV(e,n,t){var r;if(e){r=w(e&&e.dimensions,function(e){var t=n.getData().getDimensionInfo(n.getData().mapDimension(e))||{};return M({name:e},t)})}else{r=[{name:"value",type:"float"}]}var a=new Jx(r,t);var i=new Jx(r,t);var o=new Jx([],t);var s=w(t.get("data"),y(oV,n,e,t));if(e){s=le(s,y(lV,e))}var u=e?Zz:function(e){return e.value};a.initData(w(s,function(e){return e[0]}),null,u);i.initData(w(s,function(e){return e[1]}),null,u);o.initData(w(s,function(e){return e[2]}));o.hasItemOption=true;return{from:a,to:i,line:o}}function gV(e){e.registerComponentModel(aV);e.registerComponentView(cV);e.registerPreprocessor(function(e){if(Bz(e.series,"markLine")){e.markLine=e.markLine||{}}})}var mV=function(t){b(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e.type=r.type;return e}r.prototype.createMarkerModelFromSeries=function(e,t,n){return new r(e,t,n)};r.type="markArea";r.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}};return r}(Rz);var bV=Ji();var hV=function(e,t,n,r){var a=Wz(e,r[0]);var i=Wz(e,r[1]);var o=a.coord;var s=i.coord;o[0]=xe(o[0],-Infinity);o[1]=xe(o[1],-Infinity);s[0]=xe(s[0],Infinity);s[1]=xe(s[1],Infinity);var u=re([{},a,i]);u.coord=[a.coord,i.coord];u.x0=a.x;u.y0=a.y;u.x1=i.x;u.y1=i.y;return u};function fV(e){return!isNaN(e)&&!isFinite(e)}function vV(e,t,n,r){var a=1-e;return fV(t[a])&&fV(n[a])}function OV(e,t){var n=t.coord[0];var r=t.coord[1];if(Z_(e,"cartesian2d")){if(n&&r&&(vV(1,n,r)||vV(0,n,r))){return true}}return Jz(e,{coord:n,x:t.x0,y:t.y0})||Jz(e,{coord:r,x:t.x1,y:t.y1})}function yV(e,t,n,r,a){var i=r.coordinateSystem;var o=e.getItemModel(t);var s;var u=X(o.get(n[0]),a.getWidth());var l=X(o.get(n[1]),a.getHeight());if(!isNaN(u)&&!isNaN(l)){s=[u,l]}else{if(r.getMarkerPosition){s=r.getMarkerPosition(e.getValues(n,t))}else{var p=e.get(n[0],t);var c=e.get(n[1],t);var d=[p,c];i.clampData&&i.clampData(d,d);s=i.dataToPoint(d,true)}if(Z_(i,"cartesian2d")){var g=i.getAxis("x");var m=i.getAxis("y");var p=e.get(n[0],t);var c=e.get(n[1],t);if(fV(p)){s[0]=g.toGlobalCoord(g.getExtent()[n[0]==="x0"?0:1])}else if(fV(c)){s[1]=m.toGlobalCoord(m.getExtent()[n[1]==="y0"?0:1])}}if(!isNaN(u)){s[0]=u}if(!isNaN(l)){s[1]=l}}return s}var xV=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];var IV=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.updateTransform=function(e,t,i){t.eachSeries(function(r){var e=Rz.getMarkerModelFromSeries(r,"markArea");if(e){var a=e.getData();a.each(function(t){var e=w(xV,function(e){return yV(a,t,e,r,i)});a.setItemLayout(t,e);var n=a.getItemGraphicEl(t);n.setShape("points",e)})}},this)};n.prototype.renderSeries=function(d,a,e,g){var m=d.coordinateSystem;var t=d.id;var b=d.getData();var n=this.markerGroupMap;var i=n.get(t)||n.set(t,{group:new F});this.group.add(i.group);this.markKeep(i);var h=SV(m,d,a);a.setData(h);h.each(function(t){var e=w(xV,function(e){return yV(h,t,e,d,g)});var n=m.getAxis("x").scale;var r=m.getAxis("y").scale;var a=n.getExtent();var i=r.getExtent();var o=[n.parse(h.get("x0",t)),n.parse(h.get("x1",t))];var s=[r.parse(h.get("y0",t)),r.parse(h.get("y1",t))];Xa(o);Xa(s);var u=!(a[0]>o[1]||a[1]<o[0]||i[0]>s[1]||i[1]<s[0]);var l=!u;h.setItemLayout(t,{points:e,allClipped:l});var p=h.getItemModel(t).getModel("itemStyle").getItemStyle();var c=Iv(b,"color");if(!p.fill){p.fill=c;if(typeof p.fill==="string"){p.fill=zn(p.fill,.4)}}if(!p.stroke){p.stroke=c}h.setItemVisual(t,"style",p)});h.diff(bV(i).data).add(function(e){var t=h.getItemLayout(e);if(!t.allClipped){var n=new uc({shape:{points:t.points}});h.setItemGraphicEl(e,n);i.group.add(n)}}).update(function(e,t){var n=bV(i).data.getItemGraphicEl(t);var r=h.getItemLayout(e);if(!r.allClipped){if(n){Y(n,{shape:{points:r.points}},a,e)}else{n=new uc({shape:{points:r.points}})}h.setItemGraphicEl(e,n);i.group.add(n)}else if(n){i.group.remove(n)}}).remove(function(e){var t=bV(i).data.getItemGraphicEl(e);i.group.remove(t)}).execute();h.eachItemGraphicEl(function(e,t){var n=h.getItemModel(t);var r=h.getItemVisual(t,"style");e.useStyle(h.getItemVisual(t,"style"));fd(e,vd(n),{labelFetcher:a,labelDataIndex:t,defaultText:h.getName(t)||"",inheritColor:typeof r.fill==="string"?zn(r.fill,1):"#000"});ip(e,n);tp(e);H(e).dataModel=a});bV(i).data=h;i.group.silent=a.get("silent")||d.get("silent")};n.type="markArea";return n}(Qz);function SV(e,r,t){var n;var a;var i=["x0","y0","x1","y1"];if(e){n=w(e&&e.dimensions,function(e){var t=r.getData();var n=t.getDimensionInfo(t.mapDimension(e))||{};return M({name:e},n)});a=new Jx(w(i,function(e,t){return{name:e,type:n[t%2].type}}),t)}else{n=[{name:"value",type:"float"}];a=new Jx(n,t)}var o=w(t.get("data"),y(hV,r,e,t));if(e){o=le(o,y(OV,e))}var s=e?function(e,t,n,r){return e.coord[Math.floor(r/2)][r%2]}:function(e){return e.value};a.initData(o,null,s);a.hasItemOption=true;return a}function jV(e){e.registerComponentModel(mV);e.registerComponentView(IV);e.registerPreprocessor(function(e){if(Bz(e.series,"markArea")){e.markArea=e.markArea||{}}})}var _V=function(e,t){if(t==="all"){return{type:"all",title:e.getLocale(["legend","selector","all"])}}else if(t==="inverse"){return{type:"inverse",title:e.getLocale(["legend","selector","inverse"])}}};var AV=function(n){b(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;e.type=t.type;e.layoutMode={type:"box",ignoreSize:true};return e}t.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n);e.selected=e.selected||{};this._updateSelector(e)};t.prototype.mergeOption=function(e,t){n.prototype.mergeOption.call(this,e,t);this._updateSelector(e)};t.prototype._updateSelector=function(e){var n=e.selector;var r=this.ecModel;if(n===true){n=e.selector=["all","inverse"]}if(N(n)){q(n,function(e,t){P(e)&&(e={type:e});n[t]=f(e,_V(r,e.type))})}};t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){var t=false;for(var n=0;n<e.length;n++){var r=e[n].get("name");if(this.isSelected(r)){this.select(r);t=true;break}}!t&&this.select(e[0].get("name"))}};t.prototype._updateData=function(i){var o=[];var s=[];i.eachRawSeries(function(e){var t=e.name;s.push(t);var n;if(e.legendVisualProvider){var r=e.legendVisualProvider;var a=r.getAllNames();if(!i.isSeriesFiltered(e)){s=s.concat(a)}if(a.length){o=o.concat(a)}else{n=true}}else{n=true}if(n&&Fi(e)){o.push(e.name)}});this._availableNames=s;var e=this.get("data")||o;var t=w(e,function(e){if(typeof e==="string"||typeof e==="number"){e={name:e}}return new A(e,this,this.ecModel)},this);this._data=t};t.prototype.getData=function(){return this._data};t.prototype.select=function(e){var t=this.option.selected;var n=this.get("selectedMode");if(n==="single"){var r=this._data;q(r,function(e){t[e.get("name")]=false})}t[e]=true};t.prototype.unSelect=function(e){if(this.get("selectedMode")!=="single"){this.option.selected[e]=false}};t.prototype.toggleSelected=function(e){var t=this.option.selected;if(!t.hasOwnProperty(e)){t[e]=true}this[t[e]?"unSelect":"select"](e)};t.prototype.allSelect=function(){var e=this._data;var t=this.option.selected;q(e,function(e){t[e.get("name",true)]=true})};t.prototype.inverseSelect=function(){var e=this._data;var n=this.option.selected;q(e,function(e){var t=e.get("name",true);if(!n.hasOwnProperty(t)){n[t]=true}n[t]=!n[t]})};t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&C(this._availableNames,e)>=0};t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}};t.type="legend.plain";t.dependencies=["series"];t.defaultOption={zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:true,selector:false,selectorLabel:{show:true,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:true,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:false}};return t}(g);var TV=y;var CV=q;var wV=F;var kV=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.newlineDisabled=false;return e}n.prototype.init=function(){this.group.add(this._contentGroup=new wV);this.group.add(this._selectorGroup=new wV);this._isFirstRender=true};n.prototype.getContentGroup=function(){return this._contentGroup};n.prototype.getSelectorGroup=function(){return this._selectorGroup};n.prototype.render=function(e,t,n){var r=this._isFirstRender;this._isFirstRender=false;this.resetInner();if(!e.get("show",true)){return}var a=e.get("align");var i=e.get("orient");if(!a||a==="auto"){a=e.get("left")==="right"&&i==="vertical"?"right":"left"}var o=e.get("selector",true);var s=e.get("selectorPosition",true);if(o&&(!s||s==="auto")){s=i==="horizontal"?"end":"start"}this.renderInner(a,e,t,n,o,i,s);var u=e.getBoxLayoutParams();var l={width:n.getWidth(),height:n.getHeight()};var p=e.get("padding");var c=om(u,l,p);var d=this.layoutInner(e,a,c,r,o,s);var g=om(M({width:d.width,height:d.height},u),l,p);this.group.x=g.x-d.x;this.group.y=g.y-d.y;this.group.markRedraw();this.group.add(this._backgroundEl=s7(d,e))};n.prototype.resetInner=function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()};n.prototype.renderInner=function(p,c,d,g,e,t,n){var m=this.getContentGroup();var b=_();var h=c.get("selectedMode");var f=[];d.eachRawSeries(function(e){!e.get("legendHoverLink")&&f.push(e.id)});CV(c.getData(),function(s,u){var l=s.get("name");if(!this.newlineDisabled&&(l===""||l==="\n")){var e=new wV;e.newline=true;m.add(e);return}var t=d.getSeriesByName(l)[0];if(b.get(l)){return}if(t){var n=t.getData();var r=n.getVisual("legendLineStyle")||{};var a=n.getVisual("legendIcon");var i=n.getVisual("style");var o=this._createItem(t,l,u,s,c,p,r,i,a,h);o.on("click",TV(EV,l,null,g,f)).on("mouseover",TV(DV,t.name,null,g,f)).on("mouseout",TV(MV,t.name,null,g,f));b.set(l,true)}else{d.eachRawSeries(function(e){if(b.get(l)){return}if(e.legendVisualProvider){var t=e.legendVisualProvider;if(!t.containName(l)){return}var n=t.indexOfName(l);var r=t.getItemVisual(n,"style");var a=t.getItemVisual(n,"legendIcon");var i=Cn(r.fill);if(i&&i[3]===0){i[3]=.2;r.fill=Vn(i,"rgba")}var o=this._createItem(e,l,u,s,c,p,{},r,a,h);o.on("click",TV(EV,null,l,g,f)).on("mouseover",TV(DV,null,l,g,f)).on("mouseout",TV(MV,null,l,g,f));b.set(l,true)}},this)}if("development"!=="production"){if(!b.get(l)){console.warn(l+" series not exists. Legend data should be same with series name or data name.")}}},this);if(e){this._createSelector(e,c,g,t,n)}};n.prototype._createSelector=function(e,o,s,t,n){var u=this.getSelectorGroup();CV(e,function e(t){var n=t.type;var r=new G({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:n==="all"?"legendAllSelect":"legendInverseSelect"})}});u.add(r);var a=o.getModel("selectorLabel");var i=o.getModel(["emphasis","selectorLabel"]);fd(r,{normal:a,emphasis:i},{defaultText:t.title});tp(r)})};n.prototype._createItem=function(e,t,n,r,a,i,o,s,u,l){var p=e.visualDrawType;var c=a.get("itemWidth");var d=a.get("itemHeight");var g=a.isSelected(t);var m=r.get("symbolRotate");var b=r.get("icon");u=b||u||"roundRect";var h=a.getModel("lineStyle");var f=NV(u,r,h,o,s,p,g);var v=new wV;var O=r.getModel("textStyle");if(typeof e.getLegendIcon==="function"&&(!b||b==="inherit")){v.add(e.getLegendIcon({itemWidth:c,itemHeight:d,icon:u,iconRotate:m,itemStyle:f.itemStyle,lineStyle:f.lineStyle}))}else{var y=b==="inherit"&&e.getData().getVisual("symbol")?m==="inherit"?e.getData().getVisual("symbolRotate"):m:0;v.add(PV({itemWidth:c,itemHeight:d,icon:u,iconRotate:y,itemStyle:f.itemStyle,lineStyle:f.lineStyle}))}var x=i==="left"?c+5:-5;var I=i;var S=a.get("formatter");var j=t;if(typeof S==="string"&&S){j=S.replace("{name}",t!=null?t:"")}else if(typeof S==="function"){j=S(t)}var _=r.get("inactiveColor");v.add(new G({style:Od(O,{text:j,x:x,y:d/2,fill:g?O.getTextColor():_,align:I,verticalAlign:"middle"})}));var A=new R({shape:v.getBoundingRect(),invisible:true});var T=r.getModel("tooltip");if(T.get("show")){dd({el:A,componentModel:a,itemName:t,itemTooltipOption:T.option})}v.add(A);v.eachChild(function(e){e.silent=true});A.silent=!l;this.getContentGroup().add(v);tp(v);v.__legendDataIndex=n;return v};n.prototype.layoutInner=function(e,t,n,r,a,i){var o=this.getContentGroup();var s=this.getSelectorGroup();nm(e.get("orient"),o,e.get("itemGap"),n.width,n.height);var u=o.getBoundingRect();var l=[-u.x,-u.y];s.markRedraw();o.markRedraw();if(a){nm("horizontal",s,e.get("selectorItemGap",true));var p=s.getBoundingRect();var c=[-p.x,-p.y];var d=e.get("selectorButtonGap",true);var g=e.getOrient().index;var m=g===0?"width":"height";var b=g===0?"height":"width";var h=g===0?"y":"x";if(i==="end"){c[g]+=u[m]+d}else{l[g]+=p[m]+d}c[1-g]+=u[b]/2-p[b]/2;s.x=c[0];s.y=c[1];o.x=l[0];o.y=l[1];var f={x:0,y:0};f[m]=u[m]+d+p[m];f[b]=Math.max(u[b],p[b]);f[h]=Math.min(0,p[h]+c[1-g]);return f}else{o.x=l[0];o.y=l[1];return this.group.getBoundingRect()}};n.prototype.remove=function(){this.getContentGroup().removeAll();this._isFirstRender=true};n.type="legend.plain";return n}(jf);function NV(e,t,n,r,a,i,o){var s=t.getModel("itemStyle");var u=Bd.concat([["decal"]]);var l={};for(var p=0;p<u.length;++p){var c=u[p][u[p].length-1];var d=u[p][0];var g=s.getShallow(c);if(g==="inherit"){switch(d){case"fill":l.fill=a[i];break;case"stroke":l.stroke=a[e.lastIndexOf("empty",0)===0?"fill":"stroke"];break;case"opacity":l.opacity=(i==="fill"?a:r).opacity;break;default:l[d]=a[d]}}else if(g==="auto"&&d==="lineWidth"){l.lineWidth=a.lineWidth>0?2:0}else{l[d]=g}}var m=t.getModel("lineStyle");var b=Ld.concat([["inactiveColor"],["inactiveWidth"]]);var h={};for(var p=0;p<b.length;++p){var c=b[p][1];var d=b[p][0];var g=m.getShallow(c);if(g==="inherit"){h[d]=r[d]}else if(g==="auto"&&d==="lineWidth"){h.lineWidth=r.lineWidth>0?2:0}else{h[d]=g}}l.fill==="auto"&&(l.fill=a.fill);l.stroke==="auto"&&(l.stroke=a.fill);h.stroke==="auto"&&(h.stroke=a.fill);if(!o){var f=t.get("inactiveBorderWidth");var v=l[e.indexOf("empty")>-1?"fill":"stroke"];l.lineWidth=f==="auto"?a.lineWidth>0&&v?2:0:l.lineWidth;l.fill=t.get("inactiveColor");l.stroke=t.get("inactiveBorderColor");h.stroke=n.get("inactiveColor");h.lineWidth=n.get("inactiveWidth")}return{itemStyle:l,lineStyle:h}}function PV(e){var t=e.icon||"roundRect";var n=S0(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);n.setStyle(e.itemStyle);n.rotation=(e.iconRotate||0)*Math.PI/180;n.setOrigin([e.itemWidth/2,e.itemHeight/2]);if(t.indexOf("empty")>-1){n.style.stroke=n.style.fill;n.style.fill="#fff";n.style.lineWidth=2}return n}function EV(e,t,n,r){MV(e,t,n,r);n.dispatchAction({type:"legendToggleSelect",name:e!=null?e:t});DV(e,t,n,r)}function LV(e){var t=e.getZr().storage.getDisplayList();var n;var r=0;var a=t.length;while(r<a&&!(n=t[r].states.emphasis)){r++}return n&&n.hoverLayer}function DV(e,t,n,r){if(!LV(n)){n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}}function MV(e,t,n,r){if(!LV(n)){n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}}function BV(e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){e.filterSeries(function(e){for(var t=0;t<n.length;t++){if(!n[t].isSelected(e.name)){return false}}return true})}}function zV(t,n,e){var a={};var i=t==="toggleSelected";var o;e.eachComponent("legend",function(r){if(i&&o!=null){r[o?"select":"unSelect"](n.name)}else if(t==="allSelect"||t==="inverseSelect"){r[t]()}else{r[t](n.name);o=r.isSelected(n.name)}var e=r.getData();q(e,function(e){var t=e.get("name");if(t==="\n"||t===""){return}var n=r.isSelected(t);if(a.hasOwnProperty(t)){a[t]=a[t]&&n}else{a[t]=n}})});return t==="allSelect"||t==="inverseSelect"?{selected:a}:{name:n.name,selected:a}}function VV(e){e.registerAction("legendToggleSelect","legendselectchanged",y(zV,"toggleSelected"));e.registerAction("legendAllSelect","legendselectall",y(zV,"allSelect"));e.registerAction("legendInverseSelect","legendinverseselect",y(zV,"inverseSelect"));e.registerAction("legendSelect","legendselected",y(zV,"select"));e.registerAction("legendUnSelect","legendunselected",y(zV,"unSelect"))}function RV(e){e.registerComponentModel(AV);e.registerComponentView(kV);e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,BV);e.registerSubTypeDefaulter("legend",function(){return"plain"});VV(e)}var UV=function(a){b(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e};t.prototype.init=function(e,t,n){var r=cm(e);a.prototype.init.call(this,e,t,n);FV(this,e,r)};t.prototype.mergeOption=function(e,t){a.prototype.mergeOption.call(this,e,t);FV(this,this.option,e)};t.type="legend.scroll";t.defaultOption=Hd(AV.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800});return t}(AV);function FV(e,t,n){var r=e.getOrient();var a=[1,1];a[r.index]=0;pm(t,n,{type:"box",ignoreSize:!!a})}var GV=F;var HV=["width","height"];var qV=["x","y"];var WV=function(g){b(t,g);function t(){var e=g!==null&&g.apply(this,arguments)||this;e.type=t.type;e.newlineDisabled=true;e._currentIndex=0;return e}t.prototype.init=function(){g.prototype.init.call(this);this.group.add(this._containerGroup=new GV);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new GV)};t.prototype.resetInner=function(){g.prototype.resetInner.call(this);this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null};t.prototype.renderInner=function(e,a,t,i,n,r,o){var s=this;g.prototype.renderInner.call(this,e,a,t,i,n,r,o);var u=this._controllerGroup;var l=a.get("pageIconSize",true);var p=N(l)?l:[l,l];d("pagePrev",0);var c=a.getModel("pageTextStyle");u.add(new G({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:true}));d("pageNext",1);function d(e,t){var n=e+"DataIndex";var r=sd(a.get("pageIcons",true)[a.getOrient().name][t],{onclick:O(s._pageGo,s,n,a,i)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});r.name=e;u.add(r)}};t.prototype.layoutInner=function(e,t,n,r,a,i){var o=this.getSelectorGroup();var s=e.getOrient().index;var u=HV[s];var l=qV[s];var p=HV[1-s];var c=qV[1-s];a&&nm("horizontal",o,e.get("selectorItemGap",true));var d=e.get("selectorButtonGap",true);var g=o.getBoundingRect();var m=[-g.x,-g.y];var b=j(n);a&&(b[u]=n[u]-g[u]-d);var h=this._layoutContentAndController(e,r,b,s,u,p,c,l);if(a){if(i==="end"){m[s]+=h[u]+d}else{var f=g[u]+d;m[s]-=f;h[l]-=f}h[u]+=g[u]+d;m[1-s]+=h[c]+h[p]/2-g[p]/2;h[p]=Math.max(h[p],g[p]);h[c]=Math.min(h[c],g[c]+m[1-s]);o.x=m[0];o.y=m[1];o.markRedraw()}return h};t.prototype._layoutContentAndController=function(e,t,n,r,a,i,o,s){var u=this.getContentGroup();var l=this._containerGroup;var p=this._controllerGroup;nm(e.get("orient"),u,e.get("itemGap"),!r?null:n.width,r?null:n.height);nm("horizontal",p,e.get("pageButtonItemGap",true));var c=u.getBoundingRect();var d=p.getBoundingRect();var g=this._showController=c[a]>n[a];var m=[-c.x,-c.y];if(!t){m[r]=u[s]}var b=[0,0];var h=[-d.x,-d.y];var f=L(e.get("pageButtonGap",true),e.get("itemGap",true));if(g){var v=e.get("pageButtonPosition",true);if(v==="end"){h[r]+=n[a]-d[a]}else{b[r]+=d[a]+f}}h[1-r]+=c[i]/2-d[i]/2;u.setPosition(m);l.setPosition(b);p.setPosition(h);var O={x:0,y:0};O[a]=g?n[a]:c[a];O[i]=Math.max(c[i],d[i]);O[o]=Math.min(0,d[o]+h[1-r]);l.__rectSize=n[a];if(g){var y={x:0,y:0};y[a]=Math.max(n[a]-d[a]-f,0);y[i]=O[i];l.setClipPath(new R({shape:y}));l.__rectSize=y[a]}else{p.eachChild(function(e){e.attr({invisible:true,silent:true})})}var x=this._getPageInfo(e);x.pageIndex!=null&&Y(u,{x:x.contentPosition[0],y:x.contentPosition[1]},g?e:null);this._updatePageInfoView(e,x);return O};t.prototype._pageGo=function(e,t,n){var r=this._getPageInfo(t)[e];r!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:t.id})};t.prototype._updatePageInfoView=function(a,i){var o=this._controllerGroup;q(["pagePrev","pageNext"],function(e){var t=e+"DataIndex";var n=i[t]!=null;var r=o.childOfName(e);if(r){r.setStyle("fill",n?a.get("pageIconColor",true):a.get("pageIconInactiveColor",true));r.cursor=n?"pointer":"default"}});var e=o.childOfName("pageText");var t=a.get("pageFormatter");var n=i.pageIndex;var r=n!=null?n+1:0;var s=i.pageCount;e&&t&&e.setStyle("text",P(t)?t.replace("{current}",r==null?"":r+"").replace("{total}",s==null?"":s+""):t({current:r,total:s}))};t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",true);var n=this.getContentGroup();var r=this._containerGroup.__rectSize;var a=e.getOrient().index;var i=HV[a];var o=qV[a];var s=this._findTargetItemIndex(t);var u=n.children();var l=u[s];var p=u.length;var c=!p?0:1;var d={contentPosition:[n.x,n.y],pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l){return d}var g=v(l);d.contentPosition[a]=-g.s;for(var m=s+1,b=g,h=g,f=null;m<=p;++m){f=v(u[m]);if(!f&&h.e>b.s+r||f&&!O(f,b.s)){if(h.i>b.i){b=h}else{b=f}if(b){if(d.pageNextDataIndex==null){d.pageNextDataIndex=b.i}++d.pageCount}}h=f}for(var m=s-1,b=g,h=g,f=null;m>=-1;--m){f=v(u[m]);if((!f||!O(h,f.s))&&b.i<h.i){h=b;if(d.pagePrevDataIndex==null){d.pagePrevDataIndex=b.i}++d.pageCount;++d.pageIndex}b=f}return d;function v(e){if(e){var t=e.getBoundingRect();var n=t[o]+e[o];return{s:n,e:n+t[i],i:e.__legendDataIndex}}}function O(e,t){return e.e>=t&&e.s<=t+r}};t.prototype._findTargetItemIndex=function(r){if(!this._showController){return 0}var a;var e=this.getContentGroup();var i;e.eachChild(function(e,t){var n=e.__legendDataIndex;if(i==null&&n!=null){i=t}if(n===r){a=t}});return a!=null?a:i};t.type="legend.scroll";return t}(kV);function XV(e){e.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(n)})})}function YV(e){t(RV);e.registerComponentModel(UV);e.registerComponentView(WV);XV(e)}function JV(e){t(RV);t(YV)}var ZV=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="dataZoom.inside";n.defaultOption=Hd(U9.defaultOption,{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:false,preventDefaultMouseMove:true});return n}(U9);var $V=Ji();function KV(e,n,r){$V(e).coordSysRecordMap.each(function(e){var t=e.dataZoomInfoMap.get(n.uid);if(t){t.getRange=r}})}function QV(e,t){var n=$V(e).coordSysRecordMap;var r=n.keys();for(var a=0;a<r.length;a++){var i=r[a];var o=n.get(i);var s=o.dataZoomInfoMap;if(s){var u=t.uid;var l=s.get(u);if(l){s.removeKey(u);if(!s.keys().length){e8(n,o)}}}}}function e8(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function t8(e,t){var o={model:t,containsPoint:y(r8,t),dispatchAction:y(n8,e),dataZoomInfoMap:null,controller:null};var n=o.controller=new G4(e.getZr());q(["pan","zoom","scrollMove"],function(i){n.on(i,function(r){var a=[];o.dataZoomInfoMap.each(function(e){if(!r.isAvailableBehavior(e.model.option)){return}var t=(e.getRange||{})[i];var n=t&&t(e.dzReferCoordSysInfo,o.model.mainType,o.controller,r);!e.model.get("disabled",true)&&n&&a.push({dataZoomId:e.model.id,start:n[0],end:n[1]})});a.length&&o.dispatchAction(a)})});return o}function n8(e,t){e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function r8(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function a8(e){var r;var a="type_";var i={type_true:2,type_move:1,type_false:0,type_undefined:-1};var o=true;e.each(function(e){var t=e.model;var n=t.get("disabled",true)?false:t.get("zoomLock",true)?"move":true;if(i[a+n]>i[a+r]){r=n}o=o&&t.get("preventDefaultMouseMove",true)});return{controlType:r,opt:{zoomOnMouseWheel:true,moveOnMouseMove:true,moveOnMouseWheel:true,preventDefaultMouseMove:!!o}}}function i8(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(e,i){var t=$V(i);var o=t.coordSysRecordMap||(t.coordSysRecordMap=_());o.each(function(e){e.dataZoomInfoMap=null});e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var e=V9(a);q(e.infoList,function(e){var t=e.model.uid;var n=o.get(t)||o.set(t,t8(i,e.model));var r=n.dataZoomInfoMap||(n.dataZoomInfoMap=_());r.set(a.uid,{dzReferCoordSysInfo:e,model:a,getRange:null})})});o.each(function(e){var t=e.controller;var n;var r=e.dataZoomInfoMap;if(r){var a=r.keys()[0];if(a!=null){n=r.get(a)}}if(!n){e8(o,e);return}var i=a8(r);t.enable(i.controlType,i.opt);t.setPointerChecker(e.containsPoint);Bf(e,"dispatchAction",n.model.get("throttle",true),"fixRate")})})}var o8=function(r){b(e,r);function e(){var e=r!==null&&r.apply(this,arguments)||this;e.type="dataZoom.inside";return e}e.prototype.render=function(e,t,n){r.prototype.render.apply(this,arguments);if(e.noTarget()){this._clear();return}this.range=e.getPercentRange();KV(n,e,{pan:O(s8.pan,this),zoom:O(s8.zoom,this),scrollMove:O(s8.scrollMove,this)})};e.prototype.dispose=function(){this._clear();r.prototype.dispose.apply(this,arguments)};e.prototype._clear=function(){QV(this.api,this.dataZoomModel);this.range=null};e.type="dataZoom.inside";return e}(H9);var s8={zoom:function(e,t,n,r){var a=this.range;var i=a.slice();var o=e.axisModels[0];if(!o){return}var s=l8[t](null,[r.originX,r.originY],o,n,e);var u=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(i[1]-i[0])+i[0];var l=Math.max(1/r.scale,0);i[0]=(i[0]-u)*l+u;i[1]=(i[1]-u)*l+u;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Gw(0,i,[0,100],0,p.minSpan,p.maxSpan);this.range=i;if(a[0]!==i[0]||a[1]!==i[1]){return i}},pan:u8(function(e,t,n,r,a,i){var o=l8[r]([i.oldX,i.oldY],[i.newX,i.newY],t,a,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:u8(function(e,t,n,r,a,i){var o=l8[r]([0,0],[i.scrollDelta,i.scrollDelta],t,a,n);return o.signal*(e[1]-e[0])*i.scrollDelta})};function u8(u){return function(e,t,n,r){var a=this.range;var i=a.slice();var o=e.axisModels[0];if(!o){return}var s=u(i,o,e,t,n,r);Gw(s,i,[0,100],"all");this.range=i;if(a[0]!==i[0]||a[1]!==i[1]){return i}}}var l8={grid:function(e,t,n,r,a){var i=n.axis;var o={};var s=a.model.coordinateSystem.getRect();e=e||[0,0];if(i.dim==="x"){o.pixel=t[0]-e[0];o.pixelLength=s.width;o.pixelStart=s.x;o.signal=i.inverse?1:-1}else{o.pixel=t[1]-e[1];o.pixelLength=s.height;o.pixelStart=s.y;o.signal=i.inverse?-1:1}return o},polar:function(e,t,n,r,a){var i=n.axis;var o={};var s=a.model.coordinateSystem;var u=s.getRadiusAxis().getExtent();var l=s.getAngleAxis().getExtent();e=e?s.pointToCoord(e):[0,0];t=s.pointToCoord(t);if(n.mainType==="radiusAxis"){o.pixel=t[0]-e[0];o.pixelLength=u[1]-u[0];o.pixelStart=u[0];o.signal=i.inverse?1:-1}else{o.pixel=t[1]-e[1];o.pixelLength=l[1]-l[0];o.pixelStart=l[0];o.signal=i.inverse?-1:1}return o},singleAxis:function(e,t,n,r,a){var i=n.axis;var o=a.model.coordinateSystem.getRect();var s={};e=e||[0,0];if(i.orient==="horizontal"){s.pixel=t[0]-e[0];s.pixelLength=o.width;s.pixelStart=o.x;s.signal=i.inverse?1:-1}else{s.pixel=t[1]-e[1];s.pixelLength=o.height;s.pixelStart=o.y;s.signal=i.inverse?-1:1}return s}};function p8(e){Q9(e);e.registerComponentModel(ZV);e.registerComponentView(o8);i8(e)}var c8=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.type="dataZoom.slider";n.layoutMode="box";n.defaultOption=Hd(U9.defaultOption,{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#6E7079"},brushSelect:true,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}});return n}(U9);var d8=R;var g8=7;var m8=1;var b8=30;var h8=7;var f8="horizontal";var v8="vertical";var O8=5;var y8=["line","bar","candlestick","scatter"];var x8={easing:"cubicOut",duration:100};var I8=function(a){b(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;e.type=t.type;e._displayables={};return e}t.prototype.init=function(e,t){this.api=t;this._onBrush=O(this._onBrush,this);this._onBrushEnd=O(this._onBrushEnd,this)};t.prototype.render=function(e,t,n,r){a.prototype.render.apply(this,arguments);Bf(this,"_dispatchZoomAction",e.get("throttle"),"fixRate");this._orient=e.getOrient();if(e.get("show")===false){this.group.removeAll();return}if(e.noTarget()){this._clear();this.group.removeAll();return}if(!r||r.type!=="dataZoom"||r.from!==this.uid){this._buildView()}this._updateView()};t.prototype.dispose=function(){this._clear();a.prototype.dispose.apply(this,arguments)};t.prototype._clear=function(){zf(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush);e.off("mouseup",this._onBrushEnd)};t.prototype._buildView=function(){var e=this.group;e.removeAll();this._brushing=false;this._displayables.brushRect=null;this._resetLocation();this._resetInterval();var t=this._displayables.sliderGroup=new F;this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(t);this._positionGroup()};t.prototype._resetLocation=function(){var e=this.dataZoomModel;var t=this.api;var n=e.get("brushSelect");var r=n?h8:0;var a=this._findCoordRect();var i={width:t.getWidth(),height:t.getHeight()};var o=this._orient===f8?{right:i.width-a.x-a.width,top:i.height-b8-g8-r,width:a.width,height:b8}:{right:g8,top:a.y,width:b8,height:a.height};var s=cm(e.option);q(["right","top","width","height"],function(e){if(s[e]==="ph"){s[e]=o[e]}});var u=om(s,i);this._location={x:u.x,y:u.y};this._size=[u.width,u.height];this._orient===v8&&this._size.reverse()};t.prototype._positionGroup=function(){var e=this.group;var t=this._location;var n=this._orient;var r=this.dataZoomModel.getFirstTargetAxisModel();var a=r&&r.get("inverse");var i=this._displayables.sliderGroup;var o=(this._dataShadowInfo||{}).otherAxisInverse;i.attr(n===f8&&!a?{scaleY:o?1:-1,scaleX:1}:n===f8&&a?{scaleY:o?1:-1,scaleX:-1}:n===v8&&!a?{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2});var s=e.getBoundingRect([i]);e.x=t.x-s.x;e.y=t.y-s.y;e.markRedraw()};t.prototype._getViewExtent=function(){return[0,this._size[0]]};t.prototype._renderBackground=function(){var e=this.dataZoomModel;var t=this._size;var n=this._displayables.sliderGroup;var r=e.get("brushSelect");n.add(new d8({silent:true,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new d8({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:O(this._onClickPanel,this)});var i=this.api.getZr();if(r){a.on("mousedown",this._onBrushStart,this);a.cursor="crosshair";i.on("mousemove",this._onBrush);i.on("mouseup",this._onBrushEnd)}else{i.off("mousemove",this._onBrush);i.off("mouseup",this._onBrushEnd)}n.add(a)};t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();this._displayables.dataShadowSegs=[];if(!e){return}var t=this._size;var n=e.series;var r=n.getRawData();var a=n.getShadowDim?n.getShadowDim():e.otherDim;if(a==null){return}var i=r.getDataExtent(a);var o=(i[1]-i[0])*.3;i=[i[0]-o,i[1]+o];var s=[0,t[1]];var u=[0,t[0]];var l=[[t[0],0],[0,0]];var p=[];var c=u[1]/(r.count()-1);var d=0;var g=Math.round(r.count()/t[0]);var m;r.each([a],function(e,t){if(g>0&&t%g){d+=c;return}var n=e==null||isNaN(e)||e==="";var r=n?0:V(e,i,s,true);if(n&&!m&&t){l.push([l[l.length-1][0],0]);p.push([p[p.length-1][0],0])}else if(!n&&m){l.push([d,0]);p.push([d,0])}l.push([d,r]);p.push([d,r]);d+=c;m=n});var b=this.dataZoomModel;function h(e){var t=b.getModel(e?"selectedDataBackground":"dataBackground");var n=new F;var r=new uc({shape:{points:l},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:true,z2:-20});var a=new pc({shape:{points:p},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:true,z2:-19});n.add(r);n.add(a);return n}for(var f=0;f<3;f++){var v=h(f===1);this._displayables.sliderGroup.add(v);this._displayables.dataShadowSegs.push(v)}};t.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel;var s=t.get("showDataShadow");if(s===false){return}var u;var l=this.ecModel;t.eachTargetAxis(function(i,o){var e=t.getAxisProxy(i,o).getTargetSeriesModels();q(e,function(e){if(u){return}if(s!==true&&C(y8,e.get("type"))<0){return}var t=l.getComponent(B9(i),o).axis;var n=S8(i);var r;var a=e.coordinateSystem;if(n!=null&&a.getOtherAxis){r=a.getOtherAxis(t).inverse}n=e.getData().mapDimension(n);u={thisAxis:t,series:e,thisDim:i,otherDim:n,otherAxisInverse:r}},this)},this);return u};t.prototype._renderHandle=function(){var s=this.group;var e=this._displayables;var u=e.handles=[null,null];var l=e.handleLabels=[null,null];var p=this._displayables.sliderGroup;var t=this._size;var c=this.dataZoomModel;var n=this.api;var r=c.get("borderRadius")||0;var a=c.get("brushSelect");var i=e.filler=new d8({silent:a,style:{fill:c.get("fillerColor")},textConfig:{position:"inside"}});p.add(i);p.add(new d8({silent:true,subPixelOptimize:true,shape:{x:0,y:0,width:t[0],height:t[1],r:r},style:{stroke:c.get("dataBackgroundColor")||c.get("borderColor"),lineWidth:m8,fill:"rgba(0,0,0,0)"}}));q([0,1],function(e){var t=c.get("handleIcon");if(!y0[t]&&t.indexOf("path://")<0&&t.indexOf("image://")<0){t="path://"+t;if("development"!=="production"){Oi("handleIcon now needs 'path://' prefix when using a path string")}}var n=S0(t,-1,0,2,2,null,true);n.attr({cursor:j8(this._orient),draggable:true,drift:O(this._onDragMove,this,e),ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,true),onmouseout:O(this._showDataInfo,this,false),z2:5});var r=n.getBoundingRect();var a=c.get("handleSize");this._handleHeight=X(a,this._size[1]);this._handleWidth=r.width/r.height*this._handleHeight;n.setStyle(c.getModel("handleStyle").getItemStyle());n.style.strokeNoScale=true;n.rectHover=true;n.ensureState("emphasis").style=c.getModel(["emphasis","handleStyle"]).getItemStyle();tp(n);var i=c.get("handleColor");if(i!=null){n.style.fill=i}p.add(u[e]=n);var o=c.getModel("textStyle");s.add(l[e]=new G({silent:true,invisible:true,style:Od(o,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:o.getTextColor(),font:o.getFont()}),z2:10}))},this);var o=i;if(a){var d=X(c.get("moveHandleSize"),t[1]);var g=e.moveHandle=new R({style:c.getModel("moveHandleStyle").getItemStyle(),silent:true,shape:{r:[0,0,2,2],y:t[1]-.5,height:d}});var m=d*.8;var b=e.moveHandleIcon=S0(c.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",true);b.silent=true;b.y=t[1]+d/2-.5;g.ensureState("emphasis").style=c.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var h=Math.min(t[1]/2,Math.max(d,10));o=e.moveZone=new R({invisible:true,shape:{y:t[1]-h,height:d+h}});o.on("mouseover",function(){n.enterEmphasis(g)}).on("mouseout",function(){n.leaveEmphasis(g)});p.add(g);p.add(b);p.add(o)}o.attr({draggable:true,cursor:j8(this._orient),drift:O(this._onDragMove,this,"all"),ondragstart:O(this._showDataInfo,this,true),ondragend:O(this._onDragEnd,this),onmouseover:O(this._showDataInfo,this,true),onmouseout:O(this._showDataInfo,this,false)})};t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange();var t=this._getViewExtent();this._handleEnds=[V(e[0],[0,100],t,true),V(e[1],[0,100],t,true)]};t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel;var r=this._handleEnds;var a=this._getViewExtent();var i=n.findRepresentativeAxisProxy().getMinMaxSpan();var o=[0,100];Gw(t,r,a,n.get("zoomLock")?"all":e,i.minSpan!=null?V(i.minSpan,o,a,true):null,i.maxSpan!=null?V(i.maxSpan,o,a,true):null);var s=this._range;var u=this._range=Xa([V(r[0],a,o,true),V(r[1],a,o,true)]);return!s||s[0]!==u[0]||s[1]!==u[1]};t.prototype._updateView=function(e){var r=this._displayables;var a=this._handleEnds;var t=Xa(a.slice());var i=this._size;q([0,1],function(e){var t=r.handles[e];var n=this._handleHeight;t.attr({scaleX:n/2,scaleY:n/2,x:a[e]+(e?-1:1),y:i[1]/2-n/2})},this);r.filler.setShape({x:t[0],y:0,width:t[1]-t[0],height:i[1]});var n={x:t[0],width:t[1]-t[0]};if(r.moveHandle){r.moveHandle.setShape(n);r.moveZone.setShape(n);r.moveZone.getBoundingRect();r.moveHandleIcon&&r.moveHandleIcon.attr("x",n.x+n.width/2)}var o=r.dataShadowSegs;var s=[0,t[0],t[1],i[0]];for(var u=0;u<o.length;u++){var l=o[u];var p=l.getClipPath();if(!p){p=new R;l.setClipPath(p)}p.setShape({x:s[u],y:0,width:s[u+1]-s[u],height:i[1]})}this._updateDataInfo(e)};t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel;var i=this._displayables;var o=i.handleLabels;var s=this._orient;var u=["",""];if(t.get("showDetail")){var n=t.findRepresentativeAxisProxy();if(n){var r=n.getAxisModel().axis;var a=this._range;var l=e?n.calculateDataWindow({start:a[0],end:a[1]}).valueWindow:n.getDataValueWindow();u=[this._formatLabel(l[0],r),this._formatLabel(l[1],r)]}}var p=Xa(this._handleEnds.slice());c.call(this,0);c.call(this,1);function c(e){var t=Qc(i.handles[e].parent,this.group);var n=td(e===0?"right":"left",t);var r=this._handleWidth/2+O8;var a=ed([p[e]+(e===0?-r:r),this._size[1]/2],t);o[e].setStyle({x:a[0],y:a[1],verticalAlign:s===f8?"middle":n,align:s===f8?n:"center",text:u[e]})}};t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel;var r=n.get("labelFormatter");var a=n.get("labelPrecision");if(a==null||a==="auto"){a=t.getPixelPrecision()}var i=e==null||isNaN(e)?"":t.type==="category"||t.type==="time"?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return x(r)?r(e,i):P(r)?r.replace("{value}",i):i};t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables;var n=t.handleLabels;n[0].attr("invisible",!e);n[1].attr("invisible",!e);t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)};t.prototype._onDragMove=function(e,t,n,r){this._dragging=true;wt(r.event);var a=this._displayables.sliderGroup.getLocalTransform();var i=ed([t,n],a,true);var o=this._updateInterval(e,i[0]);var s=this.dataZoomModel.get("realtime");this._updateView(!s);o&&s&&this._dispatchZoomAction(true)};t.prototype._onDragEnd=function(){this._dragging=false;this._showDataInfo(false);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(false)};t.prototype._onClickPanel=function(e){var t=this._size;var n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1]){return}var r=this._handleEnds;var a=(r[0]+r[1])/2;var i=this._updateInterval("all",n[0]-a);this._updateView();i&&this._dispatchZoomAction(false)};t.prototype._onBrushStart=function(e){var t=e.offsetX;var n=e.offsetY;this._brushStart=new W(t,n);this._brushing=true;this._brushStartTime=+new Date};t.prototype._onBrushEnd=function(e){if(!this._brushing){return}var t=this._displayables.brushRect;this._brushing=false;if(!t){return}t.attr("ignore",true);var n=t.shape;var r=+new Date;if(r-this._brushStartTime<200&&Math.abs(n.width)<5){return}var a=this._getViewExtent();var i=[0,100];this._range=Xa([V(n.x,a,i,true),V(n.x+n.width,a,i,true)]);this._handleEnds=[n.x,n.x+n.width];this._updateView();this._dispatchZoomAction(false)};t.prototype._onBrush=function(e){if(this._brushing){wt(e.event);this._updateBrushRect(e.offsetX,e.offsetY)}};t.prototype._updateBrushRect=function(e,t){var n=this._displayables;var r=this.dataZoomModel;var a=n.brushRect;if(!a){a=n.brushRect=new d8({silent:true,style:r.getModel("brushStyle").getItemStyle()});n.sliderGroup.add(a)}a.attr("ignore",false);var i=this._brushStart;var o=this._displayables.sliderGroup;var s=o.transformCoordToLocal(e,t);var u=o.transformCoordToLocal(i.x,i.y);var l=this._size;s[0]=Math.max(Math.min(l[0],s[0]),0);a.setShape({x:u[0],y:0,width:s[0]-u[0],height:l[1]})};t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?x8:null,start:t[0],end:t[1]})};t.prototype._findCoordRect=function(){var e;var t=V9(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var r=this.api.getWidth();var a=this.api.getHeight();e={x:r*.2,y:a*.2,width:r*.6,height:a*.6}}return e};t.type="dataZoom.slider";return t}(H9);function S8(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function j8(e){return e==="vertical"?"ns-resize":"ew-resize"}function _8(e){e.registerComponentModel(c8);e.registerComponentView(I8);Q9(e)}function A8(e){t(p8);t(_8)}var T8={get:function(e,t,n){var r=j((C8[e]||{})[t]);return n?N(r)?r[r.length-1]:r:r}};var C8={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var w8=e5.mapVisual;var k8=e5.eachVisual;var N8=N;var P8=q;var E8=Xa;var L8=V;var D8=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.stateList=["inRange","outOfRange"];e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"];e.layoutMode={type:"box",ignoreSize:true};e.dataBound=[-Infinity,Infinity];e.targetVisuals={};e.controllerVisuals={};return e}n.prototype.init=function(e,t,n){this.mergeDefaultAndTheme(e,n)};n.prototype.optionUpdated=function(e,t){var n=this.option;if(!S.canvasSupported){n.realtime=false}!t&&qB(n,e,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()};n.prototype.resetVisual=function(e){var t=this.stateList;e=O(e,this);this.controllerVisuals=HB(this.option.controller,t,e);this.targetVisuals=HB(this.option.target,t,e)};n.prototype.getItemSymbol=function(){return null};n.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex;var n=[];if(e==null||e==="all"){this.ecModel.eachSeries(function(e,t){n.push(t)})}else{n=_i(e)}return n};n.prototype.eachTargetSeries=function(n,r){q(this.getTargetSeriesIndices(),function(e){var t=this.ecModel.getSeriesByIndex(e);if(t){n.call(r,t)}},this)};n.prototype.isTargetSeries=function(t){var n=false;this.eachTargetSeries(function(e){e===t&&(n=true)});return n};n.prototype.formatValueText=function(e,t,n){var r=this.option;var a=r.precision;var i=this.dataBound;var o=r.formatter;var s;n=n||["<",">"];if(N(e)){e=e.slice();s=true}var u=t?e:s?[l(e[0]),l(e[1])]:l(e);if(P(o)){return o.replace("{value}",s?u[0]:u).replace("{value2}",s?u[1]:u)}else if(x(o)){return s?o(e[0],e[1]):o(e)}if(s){if(e[0]===i[0]){return n[0]+" "+u[1]}else if(e[1]===i[1]){return n[1]+" "+u[0]}else{return u[0]+" - "+u[1]}}else{return u}function l(e){return e===i[0]?"min":e===i[1]?"max":(+e).toFixed(Math.min(a,20))}};n.prototype.resetExtent=function(){var e=this.option;var t=E8([e.min,e.max]);this._dataExtent=t};n.prototype.getDataDimension=function(e){var t=this.option.dimension;var n=e.dimensions;if(t==null&&!n.length){return}if(t!=null){return e.getDimension(t)}var r=e.dimensions;for(var a=r.length-1;a>=0;a--){var i=r[a];var o=e.getDimensionInfo(i);if(!o.isCalculationCoord){return i}}};n.prototype.getExtent=function(){return this._dataExtent.slice()};n.prototype.completeVisualOption=function(){var t=this.ecModel;var n=this.option;var e={inRange:n.inRange,outOfRange:n.outOfRange};var r=n.target||(n.target={});var a=n.controller||(n.controller={});f(r,e);f(a,e);var p=this.isCategory();i.call(this,r);i.call(this,a);o.call(this,r,"inRange","outOfRange");s.call(this,a);function i(e){if(N8(n.color)&&!e.inRange){e.inRange={color:n.color.slice().reverse()}}e.inRange=e.inRange||{color:t.get("gradientColor")}}function o(e,t,n){var r=e[t];var a=e[n];if(r&&!a){a=e[n]={};P8(r,function(e,t){if(!e5.isValidType(t)){return}var n=T8.get(t,"inactive",p);if(n!=null){a[t]=n;if(t==="color"&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha")){a.opacity=[0,0]}}})}}function s(i){var o=(i.inRange||{}).symbol||(i.outOfRange||{}).symbol;var s=(i.inRange||{}).symbolSize||(i.outOfRange||{}).symbolSize;var u=this.get("inactiveColor");var e=this.getItemSymbol();var l=e||"roundRect";P8(this.stateList,function(e){var t=this.itemSize;var n=i[e];if(!n){n=i[e]={color:p?u:[u]}}if(n.symbol==null){n.symbol=o&&j(o)||(p?l:[l])}if(n.symbolSize==null){n.symbolSize=s&&j(s)||(p?t[0]:[t[0],t[0]])}n.symbol=w8(n.symbol,function(e){return e==="none"?l:e});var r=n.symbolSize;if(r!=null){var a=-Infinity;k8(r,function(e){e>a&&(a=e)});n.symbolSize=w8(r,function(e){return L8(e,[0,a],[0,t[0]],true)})}},this)}};n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]};n.prototype.isCategory=function(){return!!this.option.categories};n.prototype.setSelected=function(e){};n.prototype.getSelected=function(){return null};n.prototype.getValueState=function(e){return null};n.prototype.getVisualMeta=function(e){return null};n.type="visualMap";n.dependencies=["series"];n.defaultOption={show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}};return n}(g);var M8=[20,140];var B8=function(n){b(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;e.type=t.type;return e}t.prototype.optionUpdated=function(e,t){n.prototype.optionUpdated.apply(this,arguments);this.resetExtent();this.resetVisual(function(e){e.mappingMethod="linear";e.dataExtent=this.getExtent()});this._resetRange()};t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=M8[0]);(e[1]==null||isNaN(e[1]))&&(e[1]=M8[1])};t.prototype._resetRange=function(){var e=this.getExtent();var t=this.option.range;if(!t||t.auto){e.auto=1;this.option.range=e}else if(N(t)){if(t[0]>t[1]){t.reverse()}t[0]=Math.max(t[0],e[0]);t[1]=Math.min(t[1],e[1])}};t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments);q(this.stateList,function(e){var t=this.option.controller[e].symbolSize;if(t&&t[0]!==t[1]){t[0]=t[1]/3}},this)};t.prototype.setSelected=function(e){this.option.range=e.slice();this._resetRange()};t.prototype.getSelected=function(){var e=this.getExtent();var t=Xa((this.get("range")||[]).slice());t[0]>e[1]&&(t[0]=e[1]);t[1]>e[1]&&(t[1]=e[1]);t[0]<e[0]&&(t[0]=e[0]);t[1]<e[0]&&(t[1]=e[0]);return t};t.prototype.getValueState=function(e){var t=this.option.range;var n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"};t.prototype.findTargetDataIndices=function(r){var a=[];this.eachTargetSeries(function(e){var n=[];var t=e.getData();t.each(this.getDataDimension(t),function(e,t){r[0]<=e&&e<=r[1]&&n.push(t)},this);a.push({seriesId:e.id,dataIndex:n})},this);return a};t.prototype.getVisualMeta=function(n){var e=z8(this,"outOfRange",this.getExtent());var t=z8(this,"inRange",this.option.range.slice());var r=[];function a(e,t){r.push({value:e,color:n(e,t)})}var i=0;var o=0;var s=t.length;var u=e.length;for(;o<u&&(!t.length||e[o]<=t[0]);o++){if(e[o]<t[i]){a(e[o],"outOfRange")}}for(var l=1;i<s;i++,l=0){l&&r.length&&a(t[i],"outOfRange");a(t[i],"inRange")}for(var l=1;o<u;o++){if(!t.length||t[t.length-1]<e[o]){if(l){r.length&&a(r[r.length-1].value,"outOfRange");l=0}a(e[o],"outOfRange")}}var p=r.length;return{stops:r,outerColors:[p?r[0].color:"transparent",p?r[p-1].color:"transparent"]}};t.type="visualMap.continuous";t.defaultOption=Hd(D8.defaultOption,{align:"auto",calculable:false,hoverLink:true,realtime:true,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}});return t}(D8);function z8(e,t,n){if(n[0]===n[1]){return n.slice()}var r=200;var a=(n[1]-n[0])/r;var i=n[0];var o=[];for(var s=0;s<=r&&i<n[1];s++){o.push(i);i+=a}o.push(n[1]);return o}var V8=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e.autoPositionValues={left:1,right:1,top:1,bottom:1};return e}n.prototype.init=function(e,t){this.ecModel=e;this.api=t};n.prototype.render=function(e,t,n,r){this.visualMapModel=e;if(e.get("show")===false){this.group.removeAll();return}this.doRender(e,t,n,r)};n.prototype.renderBackground=function(e){var t=this.visualMapModel;var n=zg(t.get("padding")||0);var r=e.getBoundingRect();e.add(new R({z2:-1,silent:true,shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[3]+n[1],height:r.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))};n.prototype.getControllerVisual=function(n,r,a){a=a||{};var e=a.forceState;var t=this.visualMapModel;var i={};if(r==="color"){var o=t.get("contentColor");i.color=o}function s(e){return i[e]}function u(e,t){i[e]=t}var l=t.controllerVisuals[e||t.getValueState(n)];var p=e5.prepareVisualTypes(l);q(p,function(e){var t=l[e];if(a.convertOpacityToAlpha&&e==="opacity"){e="colorAlpha";t=l.__alphaForOpacity}if(e5.dependsOn(e,r)){t&&t.applyVisual(n,s,u)}});return i[r]};n.prototype.positionGroup=function(e){var t=this.visualMapModel;var n=this.api;sm(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})};n.prototype.doRender=function(e,t,n,r){};n.type="visualMap";return n}(jf);var R8=[["left","right","width"],["top","bottom","height"]];function U8(e,t,n){var r=e.option;var a=r.align;if(a!=null&&a!=="auto"){return a}var i={width:t.getWidth(),height:t.getHeight()};var o=r.orient==="horizontal"?1:0;var s=R8[o];var u=[0,null,10];var l={};for(var p=0;p<3;p++){l[R8[1-o][p]]=u[p];l[s[p]]=p===2?n[0]:r[s[p]]}var c=[["x","width",3],["y","height",0]][o];var d=om(l,i,r.padding);return s[(d.margin[c[2]]||0)+d[c[0]]+d[c[1]]*.5<i[c[1]]*.5?0:1]}function F8(e,t){q(e||[],function(e){if(e.dataIndex!=null){e.dataIndexInside=e.dataIndex;e.dataIndex=null}e.highlightKey="visualMap"+(t?t.componentIndex:"")});return e}var G8=V;var H8=q;var q8=Math.min;var W8=Math.max;var X8=12;var Y8=6;var J8=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;e._shapes={};e._dataInterval=[];e._handleEnds=[];e._hoverLinkDataIndices=[];return e}n.prototype.doRender=function(e,t,n,r){this._api=n;if(!r||r.type!=="selectDataRange"||r.from!==this.uid){this._buildView()}};n.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel;var t=this.group;this._orient=e.get("orient");this._useHandle=e.get("calculable");this._resetInterval();this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0);this._renderEndsText(t,n,1);this._updateView(true);this.renderBackground(t);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(t)};n.prototype._renderEndsText=function(e,t,n){if(!t){return}var r=t[1-n];r=r!=null?r+"":"";var a=this.visualMapModel;var i=a.get("textGap");var o=a.itemSize;var s=this._shapes.mainGroup;var u=this._applyTransform([o[0]/2,n===0?-i:o[1]+i],s);var l=this._applyTransform(n===0?"bottom":"top",s);var p=this._orient;var c=this.visualMapModel.textStyleModel;this.group.add(new G({style:{x:u[0],y:u[1],verticalAlign:p==="horizontal"?"middle":l,align:p==="horizontal"?l:"center",text:r,font:c.getFont(),fill:c.getTextColor()}}))};n.prototype._renderBar=function(e){var t=this.visualMapModel;var n=this._shapes;var r=t.itemSize;var a=this._orient;var i=this._useHandle;var o=U8(t,this.api,r);var s=n.mainGroup=this._createBarGroup(o);var u=new F;s.add(u);u.add(n.outOfRange=Z8());u.add(n.inRange=Z8(null,i?Q8(this._orient):null,O(this._dragHandle,this,"all",false),O(this._dragHandle,this,"all",true)));u.setClipPath(new R({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=t.textStyleModel.getTextRect("");var p=W8(l.width,l.height);if(i){n.handleThumbs=[];n.handleLabels=[];n.handleLabelPoints=[];this._createHandle(t,s,0,r,p,a);this._createHandle(t,s,1,r,p,a)}this._createIndicator(t,s,r,p,a);e.add(s)};n.prototype._createHandle=function(e,t,n,r,a,i){var o=O(this._dragHandle,this,n,false);var s=O(this._dragHandle,this,n,true);var u=fa(e.get("handleSize"),r[0]);var l=S0(e.get("handleIcon"),-u/2,-u/2,u,u,null,true);var p=Q8(this._orient);l.attr({cursor:p,draggable:true,drift:o,ondragend:s,onmousemove:function(e){wt(e.event)}});l.x=r[0]/2;l.useStyle(e.getModel("handleStyle").getItemStyle());l.setStyle({strokeNoScale:true,strokeFirst:true});l.style.lineWidth*=2;l.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle();op(l,true);t.add(l);var c=this.visualMapModel.textStyleModel;var d=new G({cursor:p,draggable:true,drift:o,onmousemove:function(e){wt(e.event)},ondragend:s,style:{x:0,y:0,text:"",font:c.getFont(),fill:c.getTextColor()}});d.ensureState("blur").style={opacity:.1};d.stateTransition={duration:200};this.group.add(d);var g=[u,0];var m=this._shapes;m.handleThumbs[n]=l;m.handleLabelPoints[n]=g;m.handleLabels[n]=d};n.prototype._createIndicator=function(e,t,n,r,a){var i=fa(e.get("indicatorSize"),n[0]);var o=S0(e.get("indicatorIcon"),-i/2,-i/2,i,i,null,true);o.attr({cursor:"move",invisible:true,silent:true,x:n[0]/2});var s=e.getModel("indicatorStyle").getItemStyle();if(o instanceof Mu){var u=o.style;o.useStyle(U({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},s))}else{o.useStyle(s)}t.add(o);var l=this.visualMapModel.textStyleModel;var p=new G({silent:true,invisible:true,style:{x:0,y:0,text:"",font:l.getFont(),fill:l.getTextColor()}});this.group.add(p);var c=[(a==="horizontal"?r/2:Y8)+n[0]/2,0];var d=this._shapes;d.indicator=o;d.indicatorLabel=p;d.indicatorLabelPoint=c;this._firstShowIndicator=true};n.prototype._dragHandle=function(e,t,n,r){if(!this._useHandle){return}this._dragging=!t;if(!t){var a=this._applyTransform([n,r],this._shapes.mainGroup,true);this._updateInterval(e,a[1]);this._hideIndicator();this._updateView()}if(t===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(t){!this._hovering&&this._clearHoverLinkToSeries()}else if(K8(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[e],false)}};n.prototype._resetInterval=function(){var e=this.visualMapModel;var t=this._dataInterval=e.getSelected();var n=e.getExtent();var r=[0,e.itemSize[1]];this._handleEnds=[G8(t[0],n,r,true),G8(t[1],n,r,true)]};n.prototype._updateInterval=function(e,t){t=t||0;var n=this.visualMapModel;var r=this._handleEnds;var a=[0,n.itemSize[1]];Gw(t,r,a,e,0);var i=n.getExtent();this._dataInterval=[G8(r[0],a,i,true),G8(r[1],a,i,true)]};n.prototype._updateView=function(e){var t=this.visualMapModel;var n=t.getExtent();var r=this._shapes;var a=[0,t.itemSize[1]];var i=e?a:this._handleEnds;var o=this._createBarVisual(this._dataInterval,n,i,"inRange");var s=this._createBarVisual(n,n,a,"outOfRange");r.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints);r.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints);this._updateHandle(i,o)};n.prototype._createBarVisual=function(e,t,n,r){var a={forceState:r,convertOpacityToAlpha:true};var i=this._makeColorGradient(e,a);var o=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)];var s=this._createBarPoints(n,o);return{barColor:new Ic(0,0,0,1,i),barPoints:s,handlesColor:[i[0].color,i[i.length-1].color]}};n.prototype._makeColorGradient=function(e,t){var n=100;var r=[];var a=(e[1]-e[0])/n;r.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var i=1;i<n;i++){var o=e[0]+a*i;if(o>e[1]){break}r.push({color:this.getControllerVisual(o,"color",t),offset:i/n})}r.push({color:this.getControllerVisual(e[1],"color",t),offset:1});return r};n.prototype._createBarPoints=function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]};n.prototype._createBarGroup=function(e){var t=this._orient;var n=this.visualMapModel.get("inverse");return new F(t==="horizontal"&&!n?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:t==="horizontal"&&n?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:t==="vertical"&&!n?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})};n.prototype._updateHandle=function(i,o){if(!this._useHandle){return}var s=this._shapes;var u=this.visualMapModel;var l=s.handleThumbs;var p=s.handleLabels;var c=u.itemSize;var d=u.getExtent();H8([0,1],function(e){var t=l[e];t.setStyle("fill",o.handlesColor[e]);t.y=i[e];var n=G8(i[e],[0,c[1]],d,true);var r=this.getControllerVisual(n,"symbolSize");t.scaleX=t.scaleY=r/c[0];t.x=c[0]-r/2;var a=ed(s.handleLabelPoints[e],Qc(t,this.group));p[e].setStyle({x:a[0],y:a[1],text:u.formatValueText(this._dataInterval[e]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)};n.prototype._showIndicator=function(e,t,n,r){var a=this.visualMapModel;var i=a.getExtent();var o=a.itemSize;var s=[0,o[1]];var u=this._shapes;var l=u.indicator;if(!l){return}l.attr("invisible",false);var p={convertOpacityToAlpha:true};var c=this.getControllerVisual(e,"color",p);var d=this.getControllerVisual(e,"symbolSize");var g=G8(e,i,s,true);var m=o[0]-d/2;var b={x:l.x,y:l.y};l.y=g;l.x=m;var h=ed(u.indicatorLabelPoint,Qc(l,this.group));var f=u.indicatorLabel;f.attr("invisible",false);var v=this._applyTransform("left",u.mainGroup);var O=this._orient;var y=O==="horizontal";f.setStyle({text:(n?n:"")+a.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var x={x:m,y:g,style:{fill:c}};var I={style:{x:h[0],y:h[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:true};l.x=b.x;l.y=b.y;l.animateTo(x,S);f.animateTo(I,S)}else{l.attr(x);f.attr(I)}this._firstShowIndicator=false;var j=this._shapes.handleLabels;if(j){for(var _=0;_<j.length;_++){this._api.enterBlur(j[_])}}};n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(e){r._hovering=true;if(!r._dragging){var t=r.visualMapModel.itemSize;var n=r._applyTransform([e.offsetX,e.offsetY],r._shapes.mainGroup,true,true);n[1]=q8(W8(0,n[1]),t[1]);r._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=t[0])}}).on("mouseout",function(){r._hovering=false;!r._dragging&&r._clearHoverLinkToSeries()})};n.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}};n.prototype._doHoverLinkToSeries=function(e,t){var n=this.visualMapModel;var r=n.itemSize;if(!n.option.hoverLink){return}var a=[0,r[1]];var i=n.getExtent();e=q8(W8(a[0],e),a[1]);var o=$8(n,i,a);var s=[e-o,e+o];var u=G8(e,a,i,true);var l=[G8(s[0],a,i,true),G8(s[1],a,i,true)];s[0]<a[0]&&(l[0]=-Infinity);s[1]>a[1]&&(l[1]=Infinity);if(t){if(l[0]===-Infinity){this._showIndicator(u,l[1],"< ",o)}else if(l[1]===Infinity){this._showIndicator(u,l[0],"> ",o)}else{this._showIndicator(u,u," ",o)}}var p=this._hoverLinkDataIndices;var c=[];if(t||K8(n)){c=this._hoverLinkDataIndices=n.findTargetDataIndices(l)}var d=Xi(p,c);this._dispatchHighDown("downplay",F8(d[0],n));this._dispatchHighDown("highlight",F8(d[1],n))};n.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target;var n=this.visualMapModel;if(!t||H(t).dataIndex==null){return}var r=H(t);var a=this.ecModel.getSeriesByIndex(r.seriesIndex);if(!n.isTargetSeries(a)){return}var i=a.getData(r.dataType);var o=i.get(n.getDataDimension(i),r.dataIndex);if(!isNaN(o)){this._showIndicator(o,o)}};n.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",true);e.indicatorLabel&&e.indicatorLabel.attr("invisible",true);var t=this._shapes.handleLabels;if(t){for(var n=0;n<t.length;n++){this._api.leaveBlur(t[n])}}};n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",F8(e,this.visualMapModel));e.length=0};n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)};n.prototype._applyTransform=function(e,t,n,r){var a=Qc(t,r?null:this.group);return N(e)?ed(e,a,n):td(e,a,n)};n.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})};n.prototype.dispose=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};n.prototype.remove=function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()};n.type="visualMap.continuous";return n}(V8);function Z8(e,t,n,r){return new uc({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(e){wt(e.event)},ondragend:r})}function $8(e,t,n){var r=X8/2;var a=e.get("hoverLinkDataSize");if(a){r=G8(a,t,n,true)/2}return r}function K8(e){var t=e.get("hoverLinkOnHandle");return!!(t==null?e.get("realtime"):t)}function Q8(e){return e==="vertical"?"ns-resize":"ew-resize"}var eR={type:"selectDataRange",event:"dataRangeSelected",update:"update"};var tR=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})};var nR=[{createOnAllSeries:true,reset:function(n,e){var r=[];e.eachComponent("visualMap",function(e){var t=n.pipelineContext;if(!e.isTargetSeries(n)||t&&t.large){return}r.push(XB(e.stateList,e.targetVisuals,O(e.getValueState,e),e.getDataDimension(n.getData())))});return r}},{createOnAllSeries:true,reset:function(a,e){var i=a.getData();var o=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(a)){var t=e.getVisualMeta(O(rR,null,a,e))||{stops:[],outerColors:[]};var n=e.getDataDimension(i);var r=i.getDimensionInfo(n);if(r!=null){t.dimension=r.index;o.push(t)}}});a.getData().setVisual("visualMeta",o)}}];function rR(e,t,n,r){var a=t.targetVisuals[r];var i=e5.prepareVisualTypes(a);var o={color:Iv(e.getData(),"color")};for(var s=0,u=i.length;s<u;s++){var l=i[s];var p=a[l==="opacity"?"__alphaForOpacity":l];p&&p.applyVisual(n,c,d)}return o.color;function c(e){return o[e]}function d(e,t){o[e]=t}}var aR=q;function iR(e){var t=e&&e.visualMap;if(!N(t)){t=t?[t]:[]}aR(t,function(e){if(!e){return}if(oR(e,"splitList")&&!oR(e,"pieces")){e.pieces=e.splitList;delete e.splitList}var t=e.pieces;if(t&&N(t)){aR(t,function(e){if(E(e)){if(oR(e,"start")&&!oR(e,"min")){e.min=e.start}if(oR(e,"end")&&!oR(e,"max")){e.max=e.end}}})}})}function oR(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var sR=false;function uR(t){if(sR){return}sR=true;t.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"});t.registerAction(eR,tR);q(nR,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)});t.registerPreprocessor(iR)}function lR(e){e.registerComponentModel(B8);e.registerComponentView(J8);uR(e)}var pR=function(o){b(t,o);function t(){var e=o!==null&&o.apply(this,arguments)||this;e.type=t.type;e._pieceList=[];return e}t.prototype.optionUpdated=function(e,t){o.prototype.optionUpdated.apply(this,arguments);this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[];cR[this._mode].call(this,this._pieceList);this._resetSelected(e,t);var r=this.option.categories;this.resetVisual(function(e,t){if(n==="categories"){e.mappingMethod="category";e.categories=j(r)}else{e.dataExtent=this.getExtent();e.mappingMethod="piecewise";e.pieceList=w(this._pieceList,function(e){e=j(e);if(t!=="inRange"){e.visual=null}return e})}})};t.prototype.completeVisualOption=function(){var r=this.option;var n={};var e=e5.listVisualTypes();var a=this.isCategory();q(r.pieces,function(t){q(e,function(e){if(t.hasOwnProperty(e)){n[e]=1}})});q(n,function(e,t){var n=false;q(this.stateList,function(e){n=n||i(r,e,t)||i(r.target,e,t)},this);!n&&q(this.stateList,function(e){(r[e]||(r[e]={}))[t]=T8.get(t,e==="inRange"?"active":"inactive",a)})},this);function i(e,t,n){return e&&e[t]&&e[t].hasOwnProperty(n)}o.prototype.completeVisualOption.apply(this,arguments)};t.prototype._resetSelected=function(e,t){var n=this.option;var r=this._pieceList;var a=(t?n:e).selected||{};n.selected=a;q(r,function(e,t){var n=this.getSelectedMapKey(e);if(!a.hasOwnProperty(n)){a[n]=true}},this);if(n.selectedMode==="single"){var i=false;q(r,function(e,t){var n=this.getSelectedMapKey(e);if(a[n]){i?a[n]=false:i=true}},this)}};t.prototype.getItemSymbol=function(){return this.get("itemSymbol")};t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""};t.prototype.getPieceList=function(){return this._pieceList};t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"};t.prototype.setSelected=function(e){this.option.selected=j(e)};t.prototype.getValueState=function(e){var t=e5.findPieceIndex(e,this._pieceList);return t!=null?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"};t.prototype.findTargetDataIndices=function(a){var n=[];var i=this._pieceList;this.eachTargetSeries(function(e){var r=[];var t=e.getData();t.each(this.getDataDimension(t),function(e,t){var n=e5.findPieceIndex(e,i);n===a&&r.push(t)},this);n.push({seriesId:e.id,dataIndex:r})},this);return n};t.prototype.getRepresentValue=function(e){var t;if(this.isCategory()){t=e.value}else{if(e.value!=null){t=e.value}else{var n=e.interval||[];t=n[0]===-Infinity&&n[1]===Infinity?0:(n[0]+n[1])/2}}return t};t.prototype.getVisualMeta=function(a){if(this.isCategory()){return}var i=[];var o=["",""];var s=this;function n(e,t){var n=s.getRepresentValue({interval:e});if(!t){t=s.getValueState(n)}var r=a(n,t);if(e[0]===-Infinity){o[0]=r}else if(e[1]===Infinity){o[1]=r}else{i.push({value:e[0],color:r},{value:e[1],color:r})}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var t=e[0].interval[0];t!==-Infinity&&e.unshift({interval:[-Infinity,t]});t=e[e.length-1].interval[1];t!==Infinity&&e.push({interval:[t,Infinity]})}var r=-Infinity;q(e,function(e){var t=e.interval;if(t){t[0]>r&&n([r,t[0]],"outOfRange");n(t.slice());r=t[1]}},this);return{stops:i,outerColors:o}};t.type="visualMap.piecewise";t.defaultOption=Hd(D8.defaultOption,{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true});return t}(D8);var cR={splitNumber:function(e){var t=this.option;var n=Math.min(t.precision,20);var r=this.getExtent();var a=t.splitNumber;a=Math.max(parseInt(a,10),1);t.splitNumber=a;var i=(r[1]-r[0])/a;while(+i.toFixed(n)!==i&&n<5){n++}t.precision=n;i=+i.toFixed(n);if(t.minOpen){e.push({interval:[-Infinity,r[0]],close:[0,0]})}for(var o=0,s=r[0];o<a;s+=i,o++){var u=o===a-1?r[1]:s+i;e.push({interval:[s,u],close:[1,1]})}if(t.maxOpen){e.push({interval:[r[1],Infinity],close:[0,0]})}ui(e);q(e,function(e,t){e.index=t;e.text=this.formatValueText(e.interval)},this)},categories:function(t){var e=this.option;q(e.categories,function(e){t.push({text:this.formatValueText(e,true),value:e})},this);dR(e,t)},pieces:function(d){var e=this.option;q(e.pieces,function(e,t){if(!E(e)){e={value:e}}var n={text:"",index:t};if(e.label!=null){n.text=e.label}if(e.hasOwnProperty("value")){var r=n.value=e.value;n.interval=[r,r];n.close=[1,1]}else{var a=n.interval=[];var i=n.close=[0,0];var o=[1,0,1];var s=[-Infinity,Infinity];var u=[];for(var l=0;l<2;l++){var p=[["gte","gt","min"],["lte","lt","max"]][l];for(var c=0;c<3&&a[l]==null;c++){a[l]=e[p[c]];i[l]=o[c];u[l]=c===2}a[l]==null&&(a[l]=s[l])}u[0]&&a[1]===Infinity&&(i[0]=0);u[1]&&a[0]===-Infinity&&(i[1]=0);if("development"!=="production"){if(a[0]>a[1]){console.warn("Piece "+t+"is illegal: "+a+" lower bound should not greater then uppper bound.")}}if(a[0]===a[1]&&i[0]&&i[1]){n.value=a[0]}}n.visual=e5.retrieveVisuals(e);d.push(n)},this);dR(e,d);ui(d);q(d,function(e){var t=e.close;var n=[["<",""][t[1]],[">",""][t[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,false,n)},this)}};function dR(e,t){var n=e.inverse;if(e.orient==="vertical"?!n:n){t.reverse()}}var gR=function(t){b(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;e.type=n.type;return e}n.prototype.doRender=function(){var i=this.group;i.removeAll();var o=this.visualMapModel;var s=o.get("textGap");var e=o.textStyleModel;var u=e.getFont();var l=e.getTextColor();var p=this._getItemAlign();var c=o.itemSize;var t=this._getViewData();var n=t.endsText;var d=xe(o.get("showLabel",true),!n);n&&this._renderEndsText(i,n[0],c,d,p);q(t.viewPieceList,function(e){var t=e.piece;var n=new F;n.onclick=O(this._onItemClick,this,t);this._enableHoverLink(n,e.indexInModelPieceList);var r=o.getRepresentValue(t);this._createItemSymbol(n,r,[0,0,c[0],c[1]]);if(d){var a=this.visualMapModel.getValueState(r);n.add(new G({style:{x:p==="right"?-s:c[0]+s,y:c[1]/2,text:t.text,verticalAlign:"middle",align:p,font:u,fill:l,opacity:a==="outOfRange"?.5:1}}))}i.add(n)},this);n&&this._renderEndsText(i,n[1],c,d,p);nm(o.get("orient"),i,o.get("itemGap"));this.renderBackground(i);this.positionGroup(i)};n.prototype._enableHoverLink=function(e,n){var r=this;e.on("mouseover",function(){return t("highlight")}).on("mouseout",function(){return t("downplay")});var t=function(e){var t=r.visualMapModel;t.option.hoverLink&&r.api.dispatchAction({type:e,batch:F8(t.findTargetDataIndices(n),t)})}};n.prototype._getItemAlign=function(){var e=this.visualMapModel;var t=e.option;if(t.orient==="vertical"){return U8(e,this.api,e.itemSize)}else{var n=t.align;if(!n||n==="auto"){n="left"}return n}};n.prototype._renderEndsText=function(e,t,n,r,a){if(!t){return}var i=new F;var o=this.visualMapModel.textStyleModel;i.add(new G({style:{x:r?a==="right"?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:r?a:"center",text:t,font:o.getFont(),fill:o.getTextColor()}}));e.add(i)};n.prototype._getViewData=function(){var e=this.visualMapModel;var t=w(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}});var n=e.get("text");var r=e.get("orient");var a=e.get("inverse");if(r==="horizontal"?a:!a){t.reverse()}else if(n){n=n.slice().reverse()}return{viewPieceList:t,endsText:n}};n.prototype._createItemSymbol=function(e,t,n){e.add(S0(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))};n.prototype._onItemClick=function(e){var t=this.visualMapModel;var n=t.option;var r=j(n.selected);var a=t.getSelectedMapKey(e);if(n.selectedMode==="single"){r[a]=true;q(r,function(e,t){r[t]=t===a})}else{r[a]=!r[a]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})};n.type="visualMap.piecewise";return n}(V8);function mR(e){e.registerComponentModel(pR);e.registerComponentView(gR);uR(e)}function bR(e){t(lR);t(mR)}var hR={label:{enabled:true},decal:{show:false}};var fR=Ji();var vR={};function OR(d,p){var c=d.getModel("aria");if(!c.get("enabled")){return}var e=j(hR);f(e.label,d.getLocaleModel().get("aria"),false);f(c.option,e,false);t();n();function t(){var e=c.getModel("decal");var t=e.get("show");if(t){var n=_();d.eachSeries(function(e){if(!e.useColorPaletteOnData){return}var t=n.get(e.type);if(!t){t={};n.set(e.type,t)}fR(e).scope=t});d.eachRawSeries(function(i){if(d.isSeriesFiltered(i)){return}if(typeof i.enableAriaDecal==="function"){i.enableAriaDecal();return}var o=i.getData();if(i.useColorPaletteOnData){var s=i.getRawData();var u={};var l=fR(i).scope;o.each(function(e){var t=o.getRawIndex(e);u[t]=e});var p=s.count();s.each(function(e){var t=u[e];var n=s.getName(e)||e+"";var r=Fm(i.ecModel,n,l,p);var a=o.getItemVisual(t,"decal");o.setItemVisual(t,"decal",c(a,r))})}else{var e=Fm(i.ecModel,i.name,vR,d.getSeriesCount());var t=o.getVisual("decal");o.setVisual("decal",c(t,e))}function c(e,t){var n=e?U(U({},t),e):t;n.dirty=true;return n}})}}function n(){var e=d.getLocaleModel().get("aria");var m=c.getModel("label");m.option=M(m.option,e);if(!m.get("enabled")){return}var t=p.getZr().dom;if(m.get("description")){t.setAttribute("aria-label",m.get("description"));return}var b=d.getSeriesCount();var h=m.get(["data","maxCount"])||10;var n=m.get(["series","maxCount"])||10;var f=Math.min(b,n);var r;if(b<1){return}else{var a=g();if(a){var i=m.get(["general","withTitle"]);r=O(i,{title:a})}else{r=m.get(["general","withoutTitle"])}var v=[];var o=b>1?m.get(["series","multiple","prefix"]):m.get(["series","single","prefix"]);r+=O(o,{seriesCount:b});d.eachSeries(function(e,t){if(t<f){var n=void 0;var r=e.get("name");var a=r?"withName":"withoutName";n=b>1?m.get(["series","multiple",a]):m.get(["series","single",a]);n=O(n,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:y(e.subType)});var i=e.getData();if(i.count()>h){var o=m.get(["data","partialData"]);n+=O(o,{displayCnt:h})}else{n+=m.get(["data","allData"])}var s=[];for(var u=0;u<i.count();u++){if(u<h){var l=i.getName(u);var p=hh(i,u);var c=m.get(["data",l?"withName":"withoutName"]);s.push(O(c,{name:l,value:p}))}}var d=m.get(["data","separator","middle"]);var g=m.get(["data","separator","end"]);n+=s.join(d)+g;v.push(n)}});var s=m.getModel(["series","multiple","separator"]);var u=s.get("middle");var l=s.get("end");r+=v.join(u)+l;t.setAttribute("aria-label",r)}}function O(e,t){if(typeof e!=="string"){return e}var n=e;q(t,function(e,t){n=n.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)});return n}function g(){var e=d.get("title");if(e&&e.length){e=e[0]}return e&&e.text}function y(e){return d.getLocaleModel().get(["series","typeNames"])[e]||""}}function yR(e){if(!e||!e.aria){return}var t=e.aria;if(t.show!=null){t.enabled=t.show}t.label=t.label||{};q(["description","general","series","data"],function(e){if(t[e]!=null){t.label[e]=t[e]}})}function xR(e){e.registerPreprocessor(yR);e.registerVisual(e.PRIORITY.VISUAL.ARIA,OR)}var IR={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"};var SR=function(){function e(e){var t=this._condVal=P(e)?new RegExp(e):Oe(e)?e:null;if(t==null){var n="";if("development"!=="production"){n=Ii("Illegal regexp",e,"in")}h(n)}}e.prototype.evaluate=function(e){var t=typeof e;return t==="string"?this._condVal.test(e):t==="number"?this._condVal.test(e+""):false};return e}();var jR=function(){function e(){}e.prototype.evaluate=function(){return this.value};return e}();var _R=function(){function e(){}e.prototype.evaluate=function(){var e=this.children;for(var t=0;t<e.length;t++){if(!e[t].evaluate()){return false}}return true};return e}();var AR=function(){function e(){}e.prototype.evaluate=function(){var e=this.children;for(var t=0;t<e.length;t++){if(e[t].evaluate()){return true}}return false};return e}();var TR=function(){function e(){}e.prototype.evaluate=function(){return!this.child.evaluate()};return e}();var CR=function(){function e(){}e.prototype.evaluate=function(){var e=!!this.valueParser;var t=this.getValue;var n=t(this.valueGetterParam);var r=e?this.valueParser(n):null;for(var a=0;a<this.subCondList.length;a++){if(!this.subCondList[a].evaluate(e?r:n)){return false}}return true};return e}();function wR(e,t){if(e===true||e===false){var n=new jR;n.value=e;return n}var r="";if(!ER(e)){if("development"!=="production"){r=Ii("Illegal config. Expect a plain object but actually",e)}h(r)}if(e.and){return kR("and",e,t)}else if(e.or){return kR("or",e,t)}else if(e.not){return NR(e,t)}return PR(e,t)}function kR(e,t,n){var r=t[e];var a="";if("development"!=="production"){a=Ii('"and"/"or" condition should only be `'+e+": [...]` and must not be empty array.","Illegal condition:",t)}if(!N(r)){h(a)}if(!r.length){h(a)}var i=e==="and"?new _R:new AR;i.children=w(r,function(e){return wR(e,n)});if(!i.children.length){h(a)}return i}function NR(e,t){var n=e.not;var r="";if("development"!=="production"){r=Ii('"not" condition should only be `not: {}`.',"Illegal condition:",e)}if(!ER(n)){h(r)}var a=new TR;a.child=wR(n,t);if(!a.child){h(r)}return a}function PR(e,t){var n="";var r=t.prepareGetValue(e);var a=[];var i=k(e);var o=e.parser;var s=o?_h(o):null;for(var u=0;u<i.length;u++){var l=i[u];if(l==="parser"||t.valueGetterAttrMap.get(l)){continue}var p=B(IR,l)?IR[l]:l;var c=e[l];var d=s?s(c):c;var g=kh(p,d)||p==="reg"&&new SR(d);if(!g){if("development"!=="production"){n=Ii('Illegal relational operation: "'+l+'" in condition:',e)}h(n)}a.push(g)}if(!a.length){if("development"!=="production"){n=Ii("Relational condition must have at least one operator.","Illegal condition:",e)}h(n)}var m=new CR;m.valueGetterParam=r;m.valueParser=s;m.getValue=t.getValue;m.subCondList=a;return m}function ER(e){return E(e)&&!se(e)}var LR=function(){function e(e,t){this._cond=wR(e,t)}e.prototype.evaluate=function(){return this._cond.evaluate()};return e}();function DR(e,t){return new LR(e,t)}var MR={type:"echarts:filter",transform:function(e){var a=e.upstream;var t;var n=DR(e.config,{valueGetterAttrMap:_({dimension:true}),prepareGetValue:function(e){var t="";var n=e.dimension;if(!B(e,"dimension")){if("development"!=="production"){t=Ii('Relation condition must has prop "dimension" specified.',"Illegal condition:",e)}h(t)}var r=a.getDimensionInfo(n);if(!r){if("development"!=="production"){t=Ii("Can not find dimension info via: "+n+".\n","Existing dimensions: ",a.cloneAllDimensionInfo(),".\n","Illegal condition:",e,".\n")}h(t)}return{dimIdx:r.index}},getValue:function(e){return a.retrieveValueFromItem(t,e.dimIdx)}});var r=[];for(var i=0,o=a.count();i<o;i++){t=a.getRawDataItem(i);if(n.evaluate()){r.push(t)}}return{data:r}}};var BR="";if("development"!=="production"){BR=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ")}var zR={type:"echarts:sort",transform:function(e){var l=e.upstream;var t=e.config;var p="";var n=_i(t);if(!n.length){if("development"!=="production"){p="Empty `config` in sort transform."}h(p)}var c=[];q(n,function(e){var t=e.dimension;var n=e.order;var r=e.parser;var a=e.incomparable;if(t==null){if("development"!=="production"){p='Sort transform config must has "dimension" specified.'+BR}h(p)}if(n!=="asc"&&n!=="desc"){if("development"!=="production"){p='Sort transform config must has "order" specified.'+BR}h(p)}if(a&&a!=="min"&&a!=="max"){var i="";if("development"!=="production"){i='incomparable must be "min" or "max" rather than "'+a+'".'}h(i)}if(n!=="asc"&&n!=="desc"){var o="";if("development"!=="production"){o='order must be "asc" or "desc" rather than "'+n+'".'}h(o)}var s=l.getDimensionInfo(t);if(!s){if("development"!=="production"){p=Ii("Can not find dimension info via: "+t+".\n","Existing dimensions: ",l.cloneAllDimensionInfo(),".\n","Illegal config:",e,".\n")}h(p)}var u=r?_h(r):null;if(r&&!u){if("development"!=="production"){p=Ii("Invalid parser name "+r+".\n","Illegal config:",e,".\n")}h(p)}c.push({dimIdx:s.index,parser:u,comparator:new Ch(n,a)})});var r=l.sourceFormat;if(r!==ym&&r!==xm){if("development"!=="production"){p='sourceFormat "'+r+'" is not supported yet'}h(p)}var a=[];for(var i=0,o=l.count();i<o;i++){a.push(l.getRawDataItem(i))}a.sort(function(e,t){for(var n=0;n<c.length;n++){var r=c[n];var a=l.retrieveValueFromItem(e,r.dimIdx);var i=l.retrieveValueFromItem(t,r.dimIdx);if(r.parser){a=r.parser(a);i=r.parser(i)}var o=r.comparator.evaluate(a,i);if(o!==0){return o}}return 0});return{data:a}}};function VR(e){e.registerTransform(MR);e.registerTransform(zR)}var RR=function(r){b(e,r);function e(){var e=r!==null&&r.apply(this,arguments)||this;e.type="dataset";return e}e.prototype.init=function(e,t,n){r.prototype.init.call(this,e,t,n);this._sourceManager=new Fh(this);Gh(this)};e.prototype.mergeOption=function(e,t){r.prototype.mergeOption.call(this,e,t);Gh(this)};e.prototype.optionUpdated=function(){this._sourceManager.dirty()};e.prototype.getSourceManager=function(){return this._sourceManager};e.type="dataset";e.defaultOption={seriesLayoutBy:_m};return e}(g);var UR=function(t){b(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.type="dataset";return e}e.type="dataset";return e}(jf);function FR(e){e.registerComponentModel(RR);e.registerComponentView(UR)}t([x_]);t([l_]);t([f2,H2,sA,x4,B4,CT,yC,q5,rw,cw,yw,mN,HN,sP,NP,zP,QP,sE,DE,GE,iL,bD]);t(lM);t(qM);t(TT);t(p9);t(gN);t(O9);t(E9);t(rB);t(zB);t(uM);t(bz);t(vz);t(Mz);t(rV);t(gV);t(jV);t(JV);t(A8);t(p8);t(_8);t(bR);t(lR);t(mR);t(xR);t(VR);t(FR);e.Axis=QS;e.ChartView=m;e.ComponentModel=g;e.ComponentView=jf;e.List=Jx;e.Model=A;e.PRIORITY=Uy;e.SeriesModel=bf;e.color=Fn;e.connect=U1;e.dataTool=px;e.dependencies=jy;e.disConnect=F1;e.disconnect=G1;e.dispose=H1;e.env=S;e.extendChartView=ij;e.extendComponentModel=nj;e.extendComponentView=rj;e.extendSeriesModel=aj;e.format=DS;e.getCoordinateSystemDimensions=ex;e.getInstanceByDom=q1;e.getInstanceById=W1;e.getMap=ux;e.graphic=LS;e.helper=NS;e.init=R1;e.innerDrawElementOnCanvas=Q0;e.matrix=Fr;e.number=PS;e.parseGeoJSON=KO;e.parseGeoJson=KO;e.registerAction=K1;e.registerCoordinateSystem=Q1;e.registerLayout=tx;e.registerLoading=ix;e.registerLocale=Qd;e.registerMap=sx;e.registerPostInit=Z1;e.registerPostUpdate=$1;e.registerPreprocessor=Y1;e.registerProcessor=J1;e.registerTheme=X1;e.registerTransform=lx;e.registerVisual=nx;e.setCanvasCreator=ox;e.throttle=Mf;e.time=ES;e.use=t;e.util=MS;e.vector=it;e.version=Sy;e.zrUtil=Ee;e.zrender=Fa;Object.defineProperty(e,"__esModule",{value:true})});(()=>{"use strict";var e={};const o={ANIM:{EASINGS:["linear","absolute","smoothstep","smootherstep","Cubic In","Cubic Out","Cubic In Out","Expo In","Expo Out","Expo In Out","Sin In","Sin Out","Sin In Out","Quart In","Quart Out","Quart In Out","Quint In","Quint Out","Quint In Out","Back In","Back Out","Back In Out","Elastic In","Elastic Out","Bounce In","Bounce Out"],EASING_LINEAR:0,EASING_ABSOLUTE:1,EASING_SMOOTHSTEP:2,EASING_SMOOTHERSTEP:3,EASING_CUBICSPLINE:4,EASING_CUBIC_IN:5,EASING_CUBIC_OUT:6,EASING_CUBIC_INOUT:7,EASING_EXPO_IN:8,EASING_EXPO_OUT:9,EASING_EXPO_INOUT:10,EASING_SIN_IN:11,EASING_SIN_OUT:12,EASING_SIN_INOUT:13,EASING_BACK_IN:14,EASING_BACK_OUT:15,EASING_BACK_INOUT:16,EASING_ELASTIC_IN:17,EASING_ELASTIC_OUT:18,EASING_BOUNCE_IN:19,EASING_BOUNCE_OUT:21,EASING_QUART_IN:22,EASING_QUART_OUT:23,EASING_QUART_INOUT:24,EASING_QUINT_IN:25,EASING_QUINT_OUT:26,EASING_QUINT_INOUT:27},OP:{OP_PORT_TYPE_VALUE:0,OP_PORT_TYPE_NUMBER:0,OP_PORT_TYPE_FUNCTION:1,OP_PORT_TYPE_TRIGGER:1,OP_PORT_TYPE_OBJECT:2,OP_PORT_TYPE_TEXTURE:2,OP_PORT_TYPE_ARRAY:3,OP_PORT_TYPE_DYNAMIC:4,OP_PORT_TYPE_STRING:5,OP_VERSION_PREFIX:"_v"},PORT:{PORT_DIR_IN:0,PORT_DIR_OUT:1},PACO:{PACO_CLEAR:0,PACO_VALUECHANGE:1,PACO_OP_DELETE:2,PACO_UNLINK:3,PACO_LINK:4,PACO_LOAD:5,PACO_OP_CREATE:6,PACO_OP_ENABLE:7,PACO_OP_DISABLE:8,PACO_UIATTRIBS:9,PACO_VARIABLES:10,PACO_TRIGGERS:11,PACO_PORT_SETVARIABLE:12,PACO_PORT_SETANIMATED:13,PACO_PORT_ANIM_UPDATED:14,PACO_DESERIALIZE:15,PACO_OP_RELOAD:16}};const t=class{constructor(t,e,n,r,a,i){this._valuePort=n;this._varNamePort=r;this._op=t;this._type=e;this._typeId=-1;this._triggerPort=a;this._nextPort=i;this._btnCreate=t.inTriggerButton("Create new variable");this._btnCreate.setUiAttribs({hidePort:true});this._btnCreate.onTriggered=this._createVar.bind(this);this._helper=t.inUiTriggerButtons("",["Rename"]);this._helper.setUiAttribs({hidePort:true});this._helper.onTriggered=e=>{if(e=="Rename")CABLES.CMD.PATCH.renameVariable(t.varName.get())};this._op.setPortGroup("Variable",[this._helper,this._varNamePort,this._btnCreate]);this._op.on("uiParamPanel",this._updateVarNamesDropdown.bind(this));this._op.patch.addEventListener("variablesChanged",this._updateName.bind(this));this._op.patch.addEventListener("variableRename",this._renameVar.bind(this));this._varNamePort.onChange=this._updateName.bind(this);this._isTexture=this._valuePort.uiAttribs.objType==="texture";this._valuePort.changeAlways=true;if(this._triggerPort){this._triggerPort.onTriggered=()=>{this._setVarValue(true)}}else{this._valuePort.onChange=this._setVarValue.bind(this)}this._op.init=()=>{this._updateName();if(!this._triggerPort)this._setVarValue();this._updateErrorUi()};if(e=="array")this._typeId=o.OP.OP_PORT_TYPE_ARRAY;else if(e=="object")this._typeId=o.OP.OP_PORT_TYPE_OBJECT;else if(e=="string")this._typeId=o.OP.OP_PORT_TYPE_STRING;else if(e=="texture")this._typeId=o.OP.OP_PORT_TYPE_TEXTURE;else this._typeId=o.OP.OP_PORT_TYPE_VALUE}_updateErrorUi(){if(CABLES.UI){if(!this._varNamePort.get())this._op.setUiError("novarname","no variable selected");else{if(this._op.hasUiErrors){this._op.setUiError("novarname",null)}}}}_updateName(){const e=this._varNamePort.get();this._op.setTitle("var set");this._op.setUiAttrib({extendTitle:"#"+e});this._updateErrorUi();const t=this._op.patch.getVar(e);if(t&&!t.type)t.type=this._type;if(!this._op.patch.hasVar(e)&&e!=0&&!this._triggerPort){this._setVarValue()}if(!this._op.patch.hasVar(e)&&e!=0&&this._triggerPort){if(this._type=="string")this._op.patch.setVarValue(e,"");else if(this._type=="number")this._op.patch.setVarValue(e,"");else this._op.patch.setVarValue(e,null)}if(this._op.isCurrentUiOp()){this._updateVarNamesDropdown();this._op.refreshParams()}this._updateDisplay();this._op.patch.emitEvent("opVariableNameChanged",this._op,this._varNamePort.get())}_createVar(){CABLES.CMD.PATCH.createVariable(this._op,this._type,()=>{this._updateName()})}_updateDisplay(){this._valuePort.setUiAttribs({greyout:!this._varNamePort.get()})}_updateVarNamesDropdown(){if(CABLES.UI&&CABLES.UI.loaded&&CABLES.UI.loaded){const e=CABLES.UI.uiProfiler.start("[vars] _updateVarNamesDropdown");const t=[];const n=this._op.patch.getVars();for(const r in n)if(n[r].type==this._type&&r!="0")t.push(r);this._varNamePort.uiAttribs.values=t;e.finish()}}_renameVar(e,t){if(e!=this._varNamePort.get())return;this._varNamePort.set(t);this._updateName()}_setVarValue(e){const t=this._varNamePort.get();if(!t)return;const n=this._valuePort.get();if(this._typeId==o.OP.OP_PORT_TYPE_VALUE||this._typeId==o.OP.OP_PORT_TYPE_STRING){this._op.patch.setVarValue(t,n)}else if(this._typeId==o.OP.OP_PORT_TYPE_ARRAY){this._arr=[];CABLES.copyArray(n,this._arr);this._op.patch.setVarValue(t,this._arr)}else{if(this._typeId==o.OP.OP_PORT_TYPE_OBJECT){if(this._isTexture)this._op.patch.setVarValue(t,CGL.Texture.getEmptyTexture(this._op.patch.cgl));else this._op.patch.setVarValue(t,null);if(n&&n.tex&&n._cgl&&!this._isTexture)this._op.setUiError("texobj","Dont use object variables for textures, use varSetTexture");else this._op.setUiError("texobj",null)}this._op.patch.setVarValue(t,n)}if(e&&this._nextPort)this._nextPort.trigger()}};const n=class{constructor(e,t,n,r){this._op=e;this._type=t;this._varnamePort=n;this._variable=null;this._valueOutPort=r;this._listenerId=null;this._op.on("uiParamPanel",this._updateVarNamesDropdown.bind(this));this._op.on("uiErrorChange",this._updateTitle.bind(this));this._op.patch.on("variableRename",this._renameVar.bind(this));this._op.patch.on("variableDeleted",e=>{if(this._op.isCurrentUiOp())this._op.refreshParams()});this._varnamePort.onChange=this._changeVar.bind(this);this._op.patch.addEventListener("variablesChanged",this._init.bind(this));this._op.onDelete=()=>{if(this._variable&&this._listenerId)this._variable.off(this._listenerId)};this._op.init=()=>{this._init()}}get variable(){return this._variable}_changeVar(){if(this._variable&&this._listenerId){this._variable.off(this._listenerId)}this._init()}_renameVar(e,t){if(e!=this._varnamePort.get())return;this._varnamePort.set(t);this._updateVarNamesDropdown();this._updateTitle();this._listenerId=this._variable.on("change",this._setValueOut.bind(this))}_updateVarNamesDropdown(){if(CABLES.UI&&CABLES.UI.loaded){const e=[];const t=this._op.patch.getVars();for(const n in t)if(t[n].type==this._type&&n!="0")e.push(n);this._op.varName.uiAttribs.values=e}}_setValueOut(e){if(this._valueOutPort)this._valueOutPort.set(e)}_updateTitle(){if(this._variable){this._op.setUiError("unknownvar",null);this._op.setTitle("var get");this._op.setUiAttrib({extendTitle:"#"+this._varnamePort.get()});if(this._valueOutPort)this._valueOutPort.set(this._variable.getValue())}else{this._op.setUiError("unknownvar","unknown variable! - there is no setVariable with this name ("+this._varnamePort.get()+")");this._op.setUiAttrib({extendTitle:"#invalid"});if(this._valueOutPort)this._valueOutPort.set(0)}}_init(){this._updateVarNamesDropdown();if(this._variable&&this._listenerId)this._variable.off(this._listenerId);this._variable=this._op.patch.getVar(this._op.varName.get());if(this._variable)this._listenerId=this._variable.on("change",this._setValueOut.bind(this));this._updateTitle();this._op.patch.emitEvent("opVariableNameChanged",this._op,this._varnamePort.get())}};CABLES.VarSetOpWrapper=t;CABLES.VarGetOpWrapper=n;((this.CABLES=this.CABLES||{}).COREMODULES=this.CABLES.COREMODULES||{}).Vargetset=e.Cables})();(()=>{"use strict";var e={};const t=class{constructor(n,e){e=e||{};this._op=n;n.patchId=n.addInPort(new CABLES.Port(n,"patchId",CABLES.OP_PORT_TYPE_STRING,{display:"readonly",hidePort:true,hideParam:true}));n.setUiAttribs({subPatchOp:{version:2}});if(n.uiAttribs.parentOfSubpatch){n.patchId.set(n.uiAttribs.parentOfSubpatch)}else{if(e.subId)n.patchId.set(e.subId);else n.patchId.set(CABLES.generateUUID())}n.patchId.onChange=()=>{if(e.subId)n.patchId.value=e.subId};n.init=()=>{n.setStorage({subPatchVer:2})};n.loadDependencies=(e,t)=>{if(CABLES.UI){gui.serverOps.loadProjectDependencies(e,()=>{if(t)t()})}else if(t)t()};n.on("delete",()=>{if(n.patch.clearSubPatchCache)n.patch.clearSubPatchCache(this.patchId);const t=n.patch.ops;for(let e=t.length-1;e>=0;e--)if(t[e]&&t[e].uiAttribs&&t[e].uiAttribs.subPatch==n.patchId.get())n.patch.deleteOp(t[e].id)});this._op.isExposableSubpatchOp=()=>{return true}}get patchId(){return this._op.patchId.get()}};CABLES.SubPatchOp=t;((this.CABLES=this.CABLES||{}).COREMODULES=this.CABLES.COREMODULES||{}).Subpatchop=e.Cables})();(()=>{"use strict";var e={};class p{constructor(e,t){this.initiator=e;this._options=t}stack(e){console.info("["+this.initiator+"] ",e);console.log((new Error).stack)}groupCollapsed(e){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:0},...arguments)||!CABLES.logSilent)console.log("["+this.initiator+"]",...arguments);console.groupCollapsed("["+this.initiator+"] "+e)}table(e){console.table(e)}groupEnd(){console.groupEnd()}error(){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:2},...arguments)||!CABLES.UI){console.error("["+this.initiator+"]",...arguments)}if(!CABLES.UI&&this._options&&this._options.onError){this._options.onError(this.initiator,...arguments)}}errorGui(){if(CABLES.UI)CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:2},...arguments)}warn(){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:1},...arguments)||!CABLES.logSilent)console.warn("["+this.initiator+"]",...arguments)}verbose(){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:0},...arguments)||!CABLES.logSilent)console.log("["+this.initiator+"]",...arguments)}info(){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:0},...arguments)||!CABLES.logSilent)console.info("["+this.initiator+"]",...arguments)}log(){if(CABLES.UI&&CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:0},...arguments)||!CABLES.logSilent)console.log("["+this.initiator+"]",...arguments)}logGui(){if(CABLES.UI)CABLES.UI.logFilter.filterLog({initiator:this.initiator,level:0},...arguments)}userInteraction(e){}}const a={};a.float32Concat=function(e,t){if(!(e instanceof Float32Array))e=new Float32Array(e);if(!(t instanceof Float32Array))t=new Float32Array(t);const n=new Float32Array(e.length+t.length);n.set(e);n.set(t,e.length);return n};const M=function(e){let t=e.split(".")[e.split(".").length-1];if(t.contains(CONSTANTS.OP.OP_VERSION_PREFIX)){const n=t.split(CONSTANTS.OP.OP_VERSION_PREFIX)[1];t=t.substring(0,t.length-(CONSTANTS.OP.OP_VERSION_PREFIX+n).length)}return t};const B=function(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.seededRandom()*(e+1));const r=t[e];t[e]=t[n];t[n]=r}return t};const t={};const n=function(){let e=Math.random().toString(36).substr(2,9);if(t.hasOwnProperty(e))e=n();t[e]=true;return e};const z=null&&n;const r=function(){let n=(new Date).getTime();const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(n+Math.random()*16)%16|0;n=Math.floor(n/16);return(e=="x"?t:t&3|8).toString(16)});return e};const V=null&&r;const R=null&&r;function i(e){for(const t in e){if(e[t]&&typeof objValue==="object"&&e[t].constructor===Object)e[t]=i(e[t]);if(e[t]===null||e[t]===undefined)delete e[t];else if(Array.isArray(e[t])&&e[t].length==0)delete e[t]}return e}const o=function(n,e="id"){let r=0;if(Array.prototype.reduce){r=n.split("").reduce((e,t)=>{e=(e<<5)-e+t.charCodeAt(0);return e&e},0)}else{if(n.length>0){for(let t=0;t<n.length;t++){let e=n.charCodeAt(t);r=(r<<5)-r+e;r&=r}}}return e+""+r};const U=null&&o;let s=0;const F=function(){s++;return s};const G=function(e){const t=Math.max(0,Math.min(1,(e-0)/(1-0)));e=t*t*(3-2*t);return e};const H=function(e){const t=Math.max(0,Math.min(1,(e-0)/(1-0)));e=t*t*t*(t*(t*6-15)+10);return e};const q=function(e,t,n){return Math.min(Math.max(e,t),n)};const W=function(e,t,n,r,a,i){if(e>=n)return a;if(e<=t)return r;let o=false;const s=Math.min(t,n);const u=Math.max(t,n);if(s!=t)o=true;let l=false;const p=Math.min(r,a);const c=Math.max(r,a);if(p!=r)l=true;let d=0;let g=0;if(o)d=(u-e)*(c-p)/(u-s);else d=(e-s)*(c-p)/(u-s);if(l)g=c-d;else g=d+p;if(!i)return g;if(i==1){e=Math.max(0,Math.min(1,(g-r)/(a-r)));return r+e*e*(3-2*e)*(a-r)}if(i==2){e=Math.max(0,Math.min(1,(g-r)/(a-r)));return r+e*e*e*(e*(e*6-15)+10)*(a-r)}return g};Math.randomSeed=1;Math.setRandomSeed=function(e){Math.randomSeed=e*50728129;if(e!=0){Math.randomSeed=Math.seededRandom()*17624813;Math.randomSeed=Math.seededRandom()*9737333}};Math.seededRandom=function(e,t){if(Math.randomSeed===0)Math.randomSeed=Math.random()*999;e=e||1;t=t||0;Math.randomSeed=(Math.randomSeed*9301+49297)%233280;const n=Math.randomSeed/233280;return t+n*(e-t)};a.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};a.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"};String.prototype.endl=function(){return this+"\n"};String.prototype.startsWith=function(e){if(!this||!e)return false;if(this.length>=e.length){if(this.substring(0,e.length)==e)return true}return false};String.prototype.endsWith=String.prototype.endsWith||function(e){return this.match(e+"$")==e};String.prototype.contains=String.prototype.contains||function(e){return this.indexOf(e)>-1};const X=function(e=""){if(!e)return"";if(e.startsWith("data:"))return;if(e.contains("?"))e+="&";else e+="?";return e+"cache="+CABLES.uuid()};const Y=function(t,n){if(!t)return null;n=n||[];n.length=t.length;for(let e=0;e<t.length;e++){n[e]=t[e]}return n};const J=function(e){let t=CABLES.filename(e);const n=t.split(".");t=n[0];return t};const Z=function(){console.log("logstack",(new Error).stack)};const $=function(e){let t="";if(!e)return"";if(e.startsWith("data:")&&e.contains(":")){const n=e.split(",");return n[0]}let n=(e+"").split("/");if(n.length>0){const r=n[n.length-1];let e=r.split("?");t=e[0]}return t||""};const K=function(e,t,n,r,a){l({url:e,cb:t,method:n,data:r,contenttype:a,sync:true})};const Q=function(e,t,n,r,a,i,o={},s={}){const u={url:e,cb:t,method:n,data:r,contenttype:a,sync:false,jsonP:i,headers:o};if(s&&s.credentials)u.credentials=s.credentials;l(u)};const l=function(t){if(!t.hasOwnProperty("asynch"))t.asynch=true;let n;try{n=new XMLHttpRequest}catch(e){}n.onreadystatechange=function(){if(n.readyState!=4)return;if(t.cb){if(n.status==200||n.status==0)t.cb(false,n.responseText,n);else t.cb(true,n.responseText,n)}};try{n.open(t.method?t.method.toUpperCase():"GET",t.url,!t.sync)}catch(e){if(t.cb&&e)t.cb(true,e.msg,n)}if(typeof t.headers==="object"){if(t.headers){const r=Object.keys(t.headers);for(let e=0;e<r.length;e++){const a=r[e];const i=t.headers[a];n.setRequestHeader(a,i)}}}if(t.credentials&&t.credentials!=="omit"){n.withCredentials=true}try{if(!t.post&&!t.data){n.send()}else{n.setRequestHeader("Content-type",t.contenttype?t.contenttype:"application/x-www-form-urlencoded");n.send(t.data||t.post)}}catch(e){if(t.cb)t.cb(true,e.msg,n)}};const ee=function(e){if(!e&&e!==0)return"Unidentified";const t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};if(t[e]){return t[e]}else{return String.fromCharCode(e)}};window.performance=window.performance||{offset:Date.now(),now:function e(){return Date.now()-this.offset}};const te=function(e){CABLES.errorConsole=CABLES.errorConsole||{log:[]};CABLES.errorConsole.log.push({initiator:e,arguments:arguments});if(!CABLES.errorConsole.ele){const t=document.createElement("div");t.id="cablesErrorConsole";t.style.width="90%";t.style.height="300px";t.style.zIndex="9999999";t.style.display="inline-block";t.style.position="absolute";t.style.padding="10px";t.style.fontFamily="monospace";t.style.color="red";t.style.backgroundColor="#200";CABLES.errorConsole.ele=t;document.body.appendChild(t)}let r="ERROR<br/>for more info, open your browsers dev tools console (Ctrl+Shift+I or Command+Alt+I)<br/>";for(let n=0;n<CABLES.errorConsole.log.length;n++){r+=CABLES.errorConsole.log[n].initiator+" ";for(let e=1;e<CABLES.errorConsole.log[n].arguments.length;e++){if(e>2)r+=", ";let t=CABLES.errorConsole.log[n].arguments[e];if(t.constructor.name.indexOf("Error")>-1||t.constructor.name.indexOf("error")>-1){let e="Uncaught ErrorEvent ";if(t.message)e+=" message: "+t.message;r+=e}else if(typeof t=="string")r+=t;else if(typeof t=="number")r+=String(t)+" "}r+="<br/>"}CABLES.errorConsole.ele.innerHTML=r};class u{constructor(e){this._init();this._first=true;this._wireMesh=null;if(e)this.apply(e)}_init(){this._max=[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE];this._min=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE];this._center=[0,0,0];this._size=[0,0,0];this._maxAxis=0;this._first=true}get maxAxis(){return this._maxAxis||1}get size(){return this._size}get center(){return this._center}get x(){return this._center[0]}get y(){return this._center[1]}get z(){return this._center[2]}get minX(){return this._min[0]}get minY(){return this._min[1]}get minZ(){return this._min[2]}get maxX(){return this._max[0]}get maxY(){return this._max[1]}get maxZ(){return this._max[2]}apply(t,e){if(!t){return}if(t instanceof u){const n=t;this.applyPos(n.maxX,n.maxY,n.maxZ);this.applyPos(n.minX,n.minY,n.minZ)}else{for(let e=0;e<t.vertices.length;e+=3)this.applyPos(t.vertices[e],t.vertices[e+1],t.vertices[e+2])}this.calcCenterSize()}copy(){return new u(this)}get changed(){return!(this._max[0]==-Number.MAX_VALUE&&this._max[1]==-Number.MAX_VALUE&&this._max[2]==-Number.MAX_VALUE)}applyPos(e,t,n){if(e==Number.MAX_VALUE||e==-Number.MAX_VALUE||t==Number.MAX_VALUE||t==-Number.MAX_VALUE||n==Number.MAX_VALUE||n==-Number.MAX_VALUE)return;if(!CABLES.UTILS.isNumeric(e)||!CABLES.UTILS.isNumeric(t)||!CABLES.UTILS.isNumeric(n))return;if(this._first){this._max[0]=e;this._max[1]=t;this._max[2]=n;this._min[0]=e;this._min[1]=t;this._min[2]=n;this._first=false;return}this._max[0]=Math.max(this._max[0],e);this._max[1]=Math.max(this._max[1],t);this._max[2]=Math.max(this._max[2],n);this._min[0]=Math.min(this._min[0],e);this._min[1]=Math.min(this._min[1],t);this._min[2]=Math.min(this._min[2],n)}calcCenterSize(){if(this._first)return;this._size[0]=this._max[0]-this._min[0];this._size[1]=this._max[1]-this._min[1];this._size[2]=this._max[2]-this._min[2];this._center[0]=(this._min[0]+this._max[0])/2;this._center[1]=(this._min[1]+this._max[1])/2;this._center[2]=(this._min[2]+this._max[2])/2;this._maxAxis=Math.max(this._size[2],Math.max(this._size[0],this._size[1]))}mulMat4(e){if(this._first){this._max[0]=0;this._max[1]=0;this._max[2]=0;this._min[0]=0;this._min[1]=0;this._min[2]=0;this._first=false}vec3.transformMat4(this._max,this._max,e);vec3.transformMat4(this._min,this._min,e);this.calcCenterSize()}render(e,t,n){if(!this._wireMesh)this._wireMesh=new CGL.WireCube(e);e.pushModelMatrix();mat4.translate(e.mMatrix,e.mMatrix,this._center);if(CABLES.UI&&n){CABLES.UI.OverlayMeshes.drawCube(n,this._size[0]/2,this._size[1]/2,this._size[2]/2)}e.popModelMatrix()}}const c=function(e){this.name=e||"unknown";this._log=new p("cgl_geometry");this.faceVertCount=3;this.glPrimitive=null;this._attributes={};this._vertices=[];this.verticesIndices=[];this.isGeometry=true;this.morphTargets=[];Object.defineProperty(this,"vertices",{get(){return this._vertices},set(e){this.setVertices(e)}});Object.defineProperty(this,"texCoords",{get(){const e=this.getAttribute("texCoords");if(!e)return[];return e.data},set(e){this.setAttribute("texCoords",e,2)}});Object.defineProperty(this,"vertexNormals",{get(){const e=this.getAttribute("vertexNormals");if(!e)return[];return e.data},set(e){this.setAttribute("vertexNormals",e,3)}});Object.defineProperty(this,"tangents",{get(){const e=this.getAttribute("tangents");if(!e)return[];return e.data},set(e){this.setAttribute("tangents",e,3)}});Object.defineProperty(this,"biTangents",{get(){const e=this.getAttribute("biTangents");if(!e)return[];return e.data},set(e){this.setAttribute("biTangents",e,3)}});Object.defineProperty(this,"vertexColors",{get(){const e=this.getAttribute("vertexColors");if(!e)return[];return e.data},set(e){this.setAttribute("vertexColors",e,4)}})};c.prototype.clear=function(){this._vertices=new Float32Array([]);this.verticesIndices=[];this.texCoords=new Float32Array([]);this.vertexNormals=new Float32Array([]);this.tangents=[];this.biTangents=[];this._attributes={}};c.prototype.getAttributes=function(){return this._attributes};c.prototype.getAttribute=function(e){for(const t in this._attributes){if(this._attributes[t].name==e)return this._attributes[t]}return null};c.prototype.setAttribute=function(e,t,n){let r="";if(!n||n>4){console.log("itemsize wrong?",n,e);this._log.stack("itemsize");n=3}if(n==1)r="float";else if(n==2)r="vec2";else if(n==3)r="vec3";else if(n==4)r="vec4";const a={name:e,data:t,itemSize:n,type:r};this._attributes[e]=a};c.prototype.copyAttribute=function(e,t){const n=this.getAttribute(e);t.setAttribute(e,new Float32Array(n.data),n.itemSize)};c.prototype.setVertices=function(e){if(e instanceof Float32Array)this._vertices=e;else this._vertices=new Float32Array(e)};c.prototype.setTexCoords=function(e){if(e instanceof Float32Array)this.texCoords=e;else this.texCoords=new Float32Array(e)};c.prototype.calcNormals=function(e){const t={smooth:e};this.calculateNormals(t)};c.prototype.flipNormals=function(t,n,r){let a=vec3.create();if(t==undefined)t=1;if(n==undefined)n=1;if(r==undefined)r=1;for(let e=0;e<this.vertexNormals.length;e+=3){vec3.set(a,this.vertexNormals[e+0],this.vertexNormals[e+1],this.vertexNormals[e+2]);a[0]*=-t;a[1]*=-n;a[2]*=-r;vec3.normalize(a,a);this.vertexNormals[e+0]=a[0];this.vertexNormals[e+1]=a[1];this.vertexNormals[e+2]=a[2]}};c.prototype.getNumTriangles=function(){if(this.verticesIndices&&this.verticesIndices.length)return this.verticesIndices.length/3;return this.vertices.length/3};c.prototype.flipVertDir=function(){const t=[];t.length=this.verticesIndices.length;for(let e=0;e<this.verticesIndices.length;e+=3){t[e]=this.verticesIndices[e+2];t[e+1]=this.verticesIndices[e+1];t[e+2]=this.verticesIndices[e]}this.verticesIndices=t};c.prototype.setPointVertices=function(t){if(t.length%3!==0){this._log.error("SetPointVertices: Array must be multiple of three.");return}if(!(t instanceof Float32Array))this.vertices=new Float32Array(t);else this.vertices=t;if(!(this.texCoords instanceof Float32Array))this.texCoords=new Float32Array(t.length/3*2);this.verticesIndices.length=t.length/3;for(let e=0;e<t.length/3;e++){this.verticesIndices[e]=e;this.texCoords[e*2]=0;this.texCoords[e*2+1]=0}};c.prototype.merge=function(t){if(!t)return;if(this.isIndexed()!=t.isIndexed()){if(this.isIndexed()){this.unIndex(false,true)}if(t.isIndexed()){const e=t.copy();e.unIndex(false,true);t=e}}const n=this.verticesIndices.length;const r=this._vertices.length/3;this.verticesIndices.length+=t.verticesIndices.length;for(let e=0;e<t.verticesIndices.length;e++)this.verticesIndices[n+e]=t.verticesIndices[e]+r;this.vertices=a.float32Concat(this._vertices,t.vertices);this.texCoords=a.float32Concat(this.texCoords,t.texCoords);this.vertexNormals=a.float32Concat(this.vertexNormals,t.vertexNormals);this.tangents=a.float32Concat(this.tangents,t.tangents);this.biTangents=a.float32Concat(this.biTangents,t.biTangents)};c.prototype.copy=function(){const t=new c(this.name+" copy");t.faceVertCount=this.faceVertCount;t.glPrimitive=this.glPrimitive;t.setVertices(this._vertices.slice(0));if(this.verticesIndices){t.verticesIndices.length=this.verticesIndices.length;for(let e=0;e<this.verticesIndices.length;e++)t.verticesIndices[e]=this.verticesIndices[e]}for(let e in this._attributes)this.copyAttribute(e,t);t.morphTargets.length=this.morphTargets.length;for(let e=0;e<this.morphTargets.length;e++)t.morphTargets[e]=this.morphTargets[e];return t};c.prototype.calculateNormals=function(t){t=t||{};if(t.smooth===false)this.unIndex();const n=vec3.create();const r=vec3.create();const a=vec3.create();function i(e){vec3.subtract(n,e[0],e[1]);vec3.subtract(r,e[0],e[2]);vec3.cross(a,n,r);vec3.normalize(a,a);if(t&&t.forceZUp){if(a[2]<0){a[0]*=-1;a[1]*=-1;a[2]*=-1}}return a}this.getVertexVec=function(e){const t=[0,0,0];t[0]=this.vertices[e*3+0];t[1]=this.vertices[e*3+1];t[2]=this.vertices[e*3+2];return t};if(!(this.vertexNormals instanceof Float32Array)||this.vertexNormals.length!=this.vertices.length)this.vertexNormals=new Float32Array(this.vertices.length);for(let e=0;e<this.vertices.length;e++){this.vertexNormals[e]=0}if(!this.isIndexed()){const o=[];for(let e=0;e<this.vertices.length;e+=9){const s=[[this.vertices[e+0],this.vertices[e+1],this.vertices[e+2]],[this.vertices[e+3],this.vertices[e+4],this.vertices[e+5]],[this.vertices[e+6],this.vertices[e+7],this.vertices[e+8]]];const u=i(s);o.push(u[0],u[1],u[2],u[0],u[1],u[2],u[0],u[1],u[2])}this.vertexNormals=o}else{const l=[];l.length=Math.floor(this.verticesIndices.length/3);for(let e=0;e<this.verticesIndices.length;e+=3){const s=[this.getVertexVec(this.verticesIndices[e+0]),this.getVertexVec(this.verticesIndices[e+1]),this.getVertexVec(this.verticesIndices[e+2])];l[e/3]=i(s);this.vertexNormals[this.verticesIndices[e+0]*3+0]+=l[e/3][0];this.vertexNormals[this.verticesIndices[e+0]*3+1]+=l[e/3][1];this.vertexNormals[this.verticesIndices[e+0]*3+2]+=l[e/3][2];this.vertexNormals[this.verticesIndices[e+1]*3+0]+=l[e/3][0];this.vertexNormals[this.verticesIndices[e+1]*3+1]+=l[e/3][1];this.vertexNormals[this.verticesIndices[e+1]*3+2]+=l[e/3][2];this.vertexNormals[this.verticesIndices[e+2]*3+0]+=l[e/3][0];this.vertexNormals[this.verticesIndices[e+2]*3+1]+=l[e/3][1];this.vertexNormals[this.verticesIndices[e+2]*3+2]+=l[e/3][2]}for(let t=0;t<this.verticesIndices.length;t+=3){for(let e=0;e<3;e++){const p=[this.vertexNormals[this.verticesIndices[t+e]*3+0],this.vertexNormals[this.verticesIndices[t+e]*3+1],this.vertexNormals[this.verticesIndices[t+e]*3+2]];vec3.normalize(p,p);this.vertexNormals[this.verticesIndices[t+e]*3+0]=p[0];this.vertexNormals[this.verticesIndices[t+e]*3+1]=p[1];this.vertexNormals[this.verticesIndices[t+e]*3+2]=p[2]}}}};c.prototype.calcTangentsBitangents=function(){if(!this.vertices.length){return}if(!this.vertexNormals.length){return}if(!this.texCoords.length){const y=this.vertices.length/3*2;this.texCoords=new Float32Array(y);for(let e=0;e<y;e+=1)this.texCoords[e]=0}if(!this.verticesIndices||!this.verticesIndices.length){return}if(this.verticesIndices.length%3!==0){this._log.error("Vertex indices mismatch!");return}const t=this.verticesIndices.length/3;const n=this.vertices.length/3;this.tangents=new Float32Array(this.vertexNormals.length);this.biTangents=new Float32Array(this.vertexNormals.length);const r=[];r.length=n*2;const a=vec3.create();const i=vec3.create();const o=vec3.create();const s=vec2.create();const u=vec2.create();const l=vec2.create();const p=vec3.create();const c=vec3.create();for(let e=0;e<t;e+=1){const x=this.verticesIndices[e*3];const I=this.verticesIndices[e*3+1];const S=this.verticesIndices[e*3+2];vec3.set(a,this.vertices[x*3],this.vertices[x*3+1],this.vertices[x*3+2]);vec3.set(i,this.vertices[I*3],this.vertices[I*3+1],this.vertices[I*3+2]);vec3.set(o,this.vertices[S*3],this.vertices[S*3+1],this.vertices[S*3+2]);vec2.set(s,this.texCoords[x*2],this.texCoords[x*2+1]);vec2.set(u,this.texCoords[I*2],this.texCoords[I*2+1]);vec2.set(l,this.texCoords[S*2],this.texCoords[S*2+1]);const j=i[0]-a[0];const _=o[0]-a[0];const A=i[1]-a[1];const T=o[1]-a[1];const C=i[2]-a[2];const w=o[2]-a[2];const k=u[0]-s[0];const N=l[0]-s[0];const P=u[1]-s[1];const E=l[1]-s[1];const L=1/(k*E-N*P);vec3.set(p,(E*j-P*_)*L,(E*A-P*T)*L,(E*C-P*w)*L);vec3.set(c,(k*_-N*j)*L,(k*T-N*A)*L,(k*w-N*C)*L);r[x]=p;r[I]=p;r[S]=p;r[x+n]=c;r[I+n]=c;r[S+n]=c}const d=vec3.create();const g=vec3.create();const m=vec3.create();const b=vec3.create();const h=vec3.create();const f=vec3.create();const v=vec3.create();const O=vec3.create();for(let e=0;e<n;e+=1){if(!r[e])continue;vec3.set(d,this.vertexNormals[e*3],this.vertexNormals[e*3+1],this.vertexNormals[e*3+2]);vec3.set(g,r[e][0],r[e][1],r[e][2]);const D=vec3.dot(d,g);vec3.scale(h,d,D);vec3.subtract(f,g,h);vec3.normalize(O,f);vec3.cross(v,d,g);const M=1;vec3.scale(m,O,1/M);vec3.cross(b,d,m);this.tangents[e*3+0]=m[0];this.tangents[e*3+1]=m[1];this.tangents[e*3+2]=m[2];this.biTangents[e*3+0]=b[0];this.biTangents[e*3+1]=b[1];this.biTangents[e*3+2]=b[2]}};c.prototype.isIndexed=function(){if(this._vertices.length==0)return true;return this.verticesIndices.length!=0};c.prototype.unIndex=function(e,t){const n=[];const r=[];let a=0;for(let e in this._attributes){const i=this._attributes[e];let n=[];for(let t=0;t<this.verticesIndices.length;t+=3){for(let e=0;e<3;e++){if(i.itemSize==3)n.push(i.data[this.verticesIndices[t+e]*3+0],i.data[this.verticesIndices[t+e]*3+1],i.data[this.verticesIndices[t+e]*3+2]);else if(i.itemSize==4)n.push(i.data[this.verticesIndices[t+e]*4+0],i.data[this.verticesIndices[t+e]*4+1],i.data[this.verticesIndices[t+e]*4+2],i.data[this.verticesIndices[t+e]*4+3]);else if(i.itemSize==2)n.push(i.data[this.verticesIndices[t+e]*2+0],i.data[this.verticesIndices[t+e]*2+1]);else if(i.itemSize==1)n.push(i.data[this.verticesIndices[t+e]]);else console.log("unknown attr",i)}}this.setAttribute(i.name,n,i.itemSize)}for(let e=0;e<this.verticesIndices.length;e+=3){n.push(this.vertices[this.verticesIndices[e+0]*3+0],this.vertices[this.verticesIndices[e+0]*3+1],this.vertices[this.verticesIndices[e+0]*3+2]);r.push(a);a++;n.push(this.vertices[this.verticesIndices[e+1]*3+0],this.vertices[this.verticesIndices[e+1]*3+1],this.vertices[this.verticesIndices[e+1]*3+2]);r.push(a);a++;n.push(this.vertices[this.verticesIndices[e+2]*3+0],this.vertices[this.verticesIndices[e+2]*3+1],this.vertices[this.verticesIndices[e+2]*3+2]);r.push(a);a++}this.vertices=n;this.verticesIndices=[];if(e)this.verticesIndices=r;if(!t)this.calculateNormals()};c.prototype.calcBarycentric=function(){let t=[];t.length=this.vertices.length;for(let e=0;e<this.vertices.length;e++)t[e]=0;let n=0;for(let e=0;e<this.vertices.length;e+=3){t[e+n]=1;n++;if(n==3)n=0}this.setAttribute("attrBarycentric",t,3)};c.prototype.getBounds=function(){return new u(this)};c.prototype.center=function(e,t,n){if(e===undefined){e=true;t=true;n=true}let r=0;const a=this.getBounds();const i=[a.minX+(a.maxX-a.minX)/2,a.minY+(a.maxY-a.minY)/2,a.minZ+(a.maxZ-a.minZ)/2];for(r=0;r<this.vertices.length;r+=3){if(this.vertices[r+0]==this.vertices[r+0]){if(e)this.vertices[r+0]-=i[0];if(t)this.vertices[r+1]-=i[1];if(n)this.vertices[r+2]-=i[2]}}return i};c.prototype.mapTexCoords2d=function(){const t=this.getBounds();const n=this.vertices.length/3;this.texCoords=new Float32Array(n*2);for(let e=0;e<n;e++){const r=this.vertices[e*3+0];const a=this.vertices[e*3+1];this.texCoords[e*2+0]=r/(t.maxX-t.minX)+.5;this.texCoords[e*2+1]=1-a/(t.maxY-t.minY)+.5}};c.prototype.getInfoOneLine=function(){let e="";if(this.faceVertCount==3&&this.verticesIndices)e+=this.verticesIndices.length/3;else e+=0;e+=" tris ";if(this.vertices)e+=this.vertices.length/3;else e+=0;e+=" verts";return e};c.prototype.getInfo=function(){const e={};if(this.faceVertCount==3&&this.verticesIndices)e.numFaces=this.verticesIndices.length/3;else e.numFaces=0;if(this.verticesIndices&&this.verticesIndices.length)e.indices=this.verticesIndices.length;if(this.vertices)e.numVerts=this.vertices.length/3;else e.numVerts=0;if(this.vertexNormals)e.numNormals=this.vertexNormals.length/3;else e.numNormals=0;if(this.texCoords)e.numTexCoords=this.texCoords.length/2;else e.numTexCoords=0;if(this.tangents)e.numTangents=this.tangents.length/3;else e.numTangents=0;if(this.biTangents)e.numBiTangents=this.biTangents.length/3;else e.numBiTangents=0;if(this.biTangents)e.numBiTangents=this.biTangents.length/3;else e.numBiTangents=0;if(this.vertexColors)e.numVertexColors=this.vertexColors.length/4;else e.numVertexColors=0;if(this.getAttributes())e.numAttribs=Object.keys(this.getAttributes()).length;else e.numAttribs=0;e.isIndexed=this.isIndexed();return e};c.buildFromFaces=function(t,e,n){const r=[];const a=[];for(let e=0;e<t.length;e+=3){const o=t[e+0];const s=t[e+1];const u=t[e+2];const l=[-1,-1,-1];if(n)for(let e=0;e<r.length;e+=3){if(r[e+0]==o[0]&&r[e+1]==o[1]&&r[e+2]==o[2])l[0]=e/3;if(r[e+0]==s[0]&&r[e+1]==s[1]&&r[e+2]==s[2])l[1]=e/3;if(r[e+0]==u[0]&&r[e+1]==u[1]&&r[e+2]==u[2])l[2]=e/3}if(l[0]==-1){r.push(o[0],o[1],o[2]);l[0]=(r.length-1)/3}if(l[1]==-1){r.push(s[0],s[1],s[2]);l[1]=(r.length-1)/3}if(l[2]==-1){r.push(u[0],u[1],u[2]);l[2]=(r.length-1)/3}a.push(parseInt(l[0],10));a.push(parseInt(l[1],10));a.push(parseInt(l[2],10))}const i=new c(e);i.name=e;i.vertices=r;i.verticesIndices=a;return i};const d=function(){this._log=new p("eventtarget");this._eventCallbacks={};this._logName="";this._logEvents=false;this._listeners={};this.addEventListener=this.on=function(e,t,n){const r={id:(n||"")+CABLES.simpleId(),name:e,cb:t};if(!this._eventCallbacks[e])this._eventCallbacks[e]=[r];else this._eventCallbacks[e].push(r);this._listeners[r.id]=r;return r.id};this.hasEventListener=function(e,t){if(e&&!t){if(this._listeners[e])return true;else return false}else{this._log.warn("old eventtarget function haseventlistener!");if(e&&t){if(this._eventCallbacks[e]){const n=this._eventCallbacks[e].indexOf(t);if(n==-1)return false;return true}}}};this.hasListenerForEventName=function(e){return this._eventCallbacks[e]&&this._eventCallbacks[e].length>0};this.removeEventListener=this.off=function(r,t){if(r===null||r===undefined)return;if(!t){const a=this._listeners[r];if(!a){this._log.log("could not find event...",r,this);return}let n=true;while(n){n=false;let t=-1;for(let e=0;e<this._eventCallbacks[a.name].length;e++){if(this._eventCallbacks[a.name][e].id.startsWith(r)){n=true;t=e}}if(t!==-1){this._eventCallbacks[a.name].splice(t,1);delete this._listeners[r]}}return}this._log.info("[eventtaget] ","old function signature: removeEventListener! use listener id");this._log.log((new Error).stack);let n=null;for(let e=0;e<this._eventCallbacks[r].length;e++)if(this._eventCallbacks[r][e].cb==t)n=e;if(n!==null){delete this._eventCallbacks[n]}else this._log.warn("removeEventListener not found "+r)};this.logEvents=function(e,t){this._logEvents=e;this._logName=t};this.emitEvent=function(t,n,r,a,i,o,s){if(this._logEvents)this._log.log("[event] ",this._logName,t,this._eventCallbacks);if(this._eventCallbacks[t]){for(let e=0;e<this._eventCallbacks[t].length;e++){if(this._eventCallbacks[t][e]){this._eventCallbacks[t][e].cb(n,r,a,i,o,s)}}}else{if(this._logEvents)this._log.log("[event] has no event callback",t,this._eventCallbacks)}}};const g={ANIM:{EASINGS:["linear","absolute","smoothstep","smootherstep","Cubic In","Cubic Out","Cubic In Out","Expo In","Expo Out","Expo In Out","Sin In","Sin Out","Sin In Out","Quart In","Quart Out","Quart In Out","Quint In","Quint Out","Quint In Out","Back In","Back Out","Back In Out","Elastic In","Elastic Out","Bounce In","Bounce Out"],EASING_LINEAR:0,EASING_ABSOLUTE:1,EASING_SMOOTHSTEP:2,EASING_SMOOTHERSTEP:3,EASING_CUBICSPLINE:4,EASING_CUBIC_IN:5,EASING_CUBIC_OUT:6,EASING_CUBIC_INOUT:7,EASING_EXPO_IN:8,EASING_EXPO_OUT:9,EASING_EXPO_INOUT:10,EASING_SIN_IN:11,EASING_SIN_OUT:12,EASING_SIN_INOUT:13,EASING_BACK_IN:14,EASING_BACK_OUT:15,EASING_BACK_INOUT:16,EASING_ELASTIC_IN:17,EASING_ELASTIC_OUT:18,EASING_BOUNCE_IN:19,EASING_BOUNCE_OUT:21,EASING_QUART_IN:22,EASING_QUART_OUT:23,EASING_QUART_INOUT:24,EASING_QUINT_IN:25,EASING_QUINT_OUT:26,EASING_QUINT_INOUT:27},OP:{OP_PORT_TYPE_VALUE:0,OP_PORT_TYPE_NUMBER:0,OP_PORT_TYPE_FUNCTION:1,OP_PORT_TYPE_TRIGGER:1,OP_PORT_TYPE_OBJECT:2,OP_PORT_TYPE_TEXTURE:2,OP_PORT_TYPE_ARRAY:3,OP_PORT_TYPE_DYNAMIC:4,OP_PORT_TYPE_STRING:5,OP_VERSION_PREFIX:"_v"},PORT:{PORT_DIR_IN:0,PORT_DIR_OUT:1},PACO:{PACO_CLEAR:0,PACO_VALUECHANGE:1,PACO_OP_DELETE:2,PACO_UNLINK:3,PACO_LINK:4,PACO_LOAD:5,PACO_OP_CREATE:6,PACO_OP_ENABLE:7,PACO_OP_DISABLE:8,PACO_UIATTRIBS:9,PACO_VARIABLES:10,PACO_TRIGGERS:11,PACO_PORT_SETVARIABLE:12,PACO_PORT_SETANIMATED:13,PACO_PORT_ANIM_UPDATED:14,PACO_DESERIALIZE:15,PACO_OP_RELOAD:16}};const m=function(e){this.time=0;this.value=0;this.onChange=null;this._easing=0;this.cb=null;this.cbTriggered=false;this.setEasing(g.ANIM.EASING_LINEAR);this.set(e)};m.cubicSpline=function(e,t,n){let r=t.value,a=t.bezTangOut,i=n.value,o=n.bezTangIn;let s=e;let u=s*s;let l=u*s;return(2*l-3*u+1)*r+(l-2*u+s)*a+(-2*l+3*u)*i+(l-u)*o};m.easeCubicSpline=function(e,t){return m.cubicSpline(e,this,t)};m.linear=function(e,t,n){return parseFloat(t.value)+parseFloat(n.value-t.value)*e};m.easeLinear=function(e,t){return m.linear(e,this,t)};m.easeAbsolute=function(e,t){return this.value};const b=function(e){return e=2**(10*(e-1))};m.easeExpoIn=function(e,t){e=b(e);return m.linear(e,this,t)};const h=function(e){e=-(2**(-10*e))+1;return e};m.easeExpoOut=function(e,t){e=h(e);return m.linear(e,this,t)};const f=function(e){e*=2;if(e<1){e=.5*2**(10*(e-1))}else{e--;e=.5*(-(2**(-10*e))+2)}return e};m.easeExpoInOut=function(e,t){e=f(e);return m.linear(e,this,t)};m.easeSinIn=function(e,t){e=-1*Math.cos(e*Math.PI/2)+1;return m.linear(e,this,t)};m.easeSinOut=function(e,t){e=Math.sin(e*Math.PI/2);return m.linear(e,this,t)};m.easeSinInOut=function(e,t){e=-.5*(Math.cos(Math.PI*e)-1);return m.linear(e,this,t)};const v=function(e){e=e*e*e;return e};m.easeCubicIn=function(e,t){e=v(e);return m.linear(e,this,t)};m.easeInQuint=function(e,t){e=e*e*e*e*e;return m.linear(e,this,t)};m.easeOutQuint=function(e,t){e=(e-=1)*e*e*e*e+1;return m.linear(e,this,t)};m.easeInOutQuint=function(e,t){if((e/=.5)<1)e=.5*e*e*e*e*e;else e=.5*((e-=2)*e*e*e*e+2);return m.linear(e,this,t)};m.easeInQuart=function(e,t){e=e*e*e*e;return m.linear(e,this,t)};m.easeOutQuart=function(e,t){e=-1*((e-=1)*e*e*e-1);return m.linear(e,this,t)};m.easeInOutQuart=function(e,t){if((e/=.5)<1)e=.5*e*e*e*e;else e=-.5*((e-=2)*e*e*e-2);return m.linear(e,this,t)};m.bounce=function(e){if((e/=1)<1/2.75)e=7.5625*e*e;else if(e<2/2.75)e=7.5625*(e-=1.5/2.75)*e+.75;else if(e<2.5/2.75)e=7.5625*(e-=2.25/2.75)*e+.9375;else e=7.5625*(e-=2.625/2.75)*e+.984375;return e};m.easeInBounce=function(e,t){return m.linear(m.bounce(e),this,t)};m.easeOutBounce=function(e,t){return m.linear(m.bounce(e),this,t)};m.easeInElastic=function(e,t){let n=1.70158;let r=0;let a=1;const i=0;const o=1;const s=1;if(e===0)e=i;else if((e/=o)==1)e=i+s;else{if(!r)r=o*.3;if(a<Math.abs(s)){a=s;n=r/4}else n=r/(2*Math.PI)*Math.asin(s/a);e=-(a*2**(10*(e-=1))*Math.sin((e*o-n)*(2*Math.PI)/r))+i}return m.linear(e,this,t)};m.easeOutElastic=function(e,t){let n=1.70158;let r=0;let a=1;const i=0;const o=1;const s=1;if(e===0)e=i;else if((e/=o)==1)e=i+s;else{if(!r)r=o*.3;if(a<Math.abs(s)){a=s;n=r/4}else n=r/(2*Math.PI)*Math.asin(s/a);e=a*2**(-10*e)*Math.sin((e*o-n)*(2*Math.PI)/r)+s+i}return m.linear(e,this,t)};m.easeInBack=function(e,t){const n=1.70158;e=e*e*((n+1)*e-n);return m.linear(e,this,t)};m.easeOutBack=function(e,t){const n=1.70158;e=(e=e/1-1)*e*((n+1)*e+n)+1;return m.linear(e,this,t)};m.easeInOutBack=function(e,t){let n=1.70158;const r=1/2;if((e/=1/2)<1)e=r*(e*e*(((n*=1.525)+1)*e-n));else e=r*((e-=2)*e*(((n*=1.525)+1)*e+n)+2);return m.linear(e,this,t)};const O=function(e){e--;e=e*e*e+1;return e};m.easeCubicOut=function(e,t){e=O(e);return m.linear(e,this,t)};const y=function(e){e*=2;if(e<1)e=.5*e*e*e;else{e-=2;e=.5*(e*e*e+2)}return e};m.easeCubicInOut=function(e,t){e=y(e);return m.linear(e,this,t)};m.easeSmoothStep=function(e,t){const n=Math.max(0,Math.min(1,e));e=n*n*(3-2*n);return m.linear(e,this,t)};m.easeSmootherStep=function(e,t){const n=Math.max(0,Math.min(1,(e-0)/(1-0)));e=n*n*n*(n*(n*6-15)+10);return m.linear(e,this,t)};m.prototype.setEasing=function(e){this._easing=e;if(this._easing==g.ANIM.EASING_LINEAR)this.ease=m.easeLinear;else if(this._easing==g.ANIM.EASING_ABSOLUTE)this.ease=m.easeAbsolute;else if(this._easing==g.ANIM.EASING_SMOOTHSTEP)this.ease=m.easeSmoothStep;else if(this._easing==g.ANIM.EASING_SMOOTHERSTEP)this.ease=m.easeSmootherStep;else if(this._easing==g.ANIM.EASING_CUBIC_IN)this.ease=m.easeCubicIn;else if(this._easing==g.ANIM.EASING_CUBIC_OUT)this.ease=m.easeCubicOut;else if(this._easing==g.ANIM.EASING_CUBIC_INOUT)this.ease=m.easeCubicInOut;else if(this._easing==g.ANIM.EASING_EXPO_IN)this.ease=m.easeExpoIn;else if(this._easing==g.ANIM.EASING_EXPO_OUT)this.ease=m.easeExpoOut;else if(this._easing==g.ANIM.EASING_EXPO_INOUT)this.ease=m.easeExpoInOut;else if(this._easing==g.ANIM.EASING_SIN_IN)this.ease=m.easeSinIn;else if(this._easing==g.ANIM.EASING_SIN_OUT)this.ease=m.easeSinOut;else if(this._easing==g.ANIM.EASING_SIN_INOUT)this.ease=m.easeSinInOut;else if(this._easing==g.ANIM.EASING_BACK_OUT)this.ease=m.easeOutBack;else if(this._easing==g.ANIM.EASING_BACK_IN)this.ease=m.easeInBack;else if(this._easing==g.ANIM.EASING_BACK_INOUT)this.ease=m.easeInOutBack;else if(this._easing==g.ANIM.EASING_ELASTIC_IN)this.ease=m.easeInElastic;else if(this._easing==g.ANIM.EASING_ELASTIC_OUT)this.ease=m.easeOutElastic;else if(this._easing==g.ANIM.EASING_ELASTIC_INOUT)this.ease=m.easeElasticInOut;else if(this._easing==g.ANIM.EASING_BOUNCE_IN)this.ease=m.easeInBounce;else if(this._easing==g.ANIM.EASING_BOUNCE_OUT)this.ease=m.easeOutBounce;else if(this._easing==g.ANIM.EASING_QUART_OUT)this.ease=m.easeOutQuart;else if(this._easing==g.ANIM.EASING_QUART_IN)this.ease=m.easeInQuart;else if(this._easing==g.ANIM.EASING_QUART_INOUT)this.ease=m.easeInOutQuart;else if(this._easing==g.ANIM.EASING_QUINT_OUT)this.ease=m.easeOutQuint;else if(this._easing==g.ANIM.EASING_QUINT_IN)this.ease=m.easeInQuint;else if(this._easing==g.ANIM.EASING_QUINT_INOUT)this.ease=m.easeInOutQuint;else if(this._easing==g.ANIM.EASING_CUBICSPLINE){this.ease=m.easeCubicSpline}else{this._easing=g.ANIM.EASING_LINEAR;this.ease=m.easeLinear}};m.prototype.trigger=function(){this.cb();this.cbTriggered=true};m.prototype.setValue=function(e){this.value=e;if(this.onChange!==null)this.onChange()};m.prototype.set=function(e){if(e){if(e.e)this.setEasing(e.e);if(e.cb){this.cb=e.cb;this.cbTriggered=false}if(e.b){}if(e.hasOwnProperty("t"))this.time=e.t;if(e.hasOwnProperty("time"))this.time=e.time;if(e.hasOwnProperty("v"))this.value=e.v;else if(e.hasOwnProperty("value"))this.value=e.value}if(this.onChange!==null)this.onChange()};m.prototype.getSerialized=function(){const e={};e.t=this.time;e.v=this.value;e.e=this._easing;return e};m.prototype.getEasing=function(){return this._easing};const x=function(e){d.apply(this);e=e||{};this.keys=[];this.onChange=null;this.stayInTimeline=false;this.loop=false;this._log=new p("Anim");this._lastKeyIndex=0;this._cachedIndex=0;this.name=e.name||null;this.defaultEasing=e.defaultEasing||g.ANIM.EASING_LINEAR;this.onLooped=null;this._timesLooped=0;this._needsSort=false};x.prototype.forceChangeCallback=function(){if(this.onChange!==null)this.onChange();this.emitEvent("onChange",this)};x.prototype.getLoop=function(){return this.loop};x.prototype.setLoop=function(e){this.loop=e;this.emitEvent("onChange",this)};x.prototype.hasEnded=function(e){if(this.keys.length===0)return true;if(this.keys[this._lastKeyIndex].time<=e)return true;return false};x.prototype.isRising=function(e){if(this.hasEnded(e))return false;const t=this.getKeyIndex(e);if(this.keys[t].value<this.keys[t+1].value)return true;return false};x.prototype.clearBefore=function(e){const t=this.getValue(e);const n=this.getKeyIndex(e);this.setValue(e,t);if(n>1)this.keys.splice(0,n);this._updateLastIndex()};x.prototype.clear=function(e){let t=0;if(e)t=this.getValue(e);this.keys.length=0;this._updateLastIndex();if(e)this.setValue(e,t);if(this.onChange!==null)this.onChange();this.emitEvent("onChange",this)};x.prototype.sortKeys=function(){this.keys.sort((e,t)=>{return parseFloat(e.time)-parseFloat(t.time)});this._updateLastIndex();this._needsSort=false;if(this.keys.length%1e3==0)console.log(this.name,this.keys.length)};x.prototype.getLength=function(){if(this.keys.length===0)return 0;return this.keys[this.keys.length-1].time};x.prototype.getKeyIndex=function(t){let n=0;let r=0;if(this._cachedIndex&&this.keys.length>this._cachedIndex&&t>=this.keys[this._cachedIndex].time)r=this._cachedIndex;for(let e=r;e<this.keys.length;e++){if(t>=this.keys[e].time)n=e;if(this.keys[e].time>t){if(t!=0)this._cachedIndex=n;return n}}return n};x.prototype.setValue=function(t,n,r){let a=null;if(this.keys.length==0||t<=this.keys[this.keys.length-1].time)for(let e=0;e<this.keys.length;e++)if(this.keys[e].time==t){a=this.keys[e];this.keys[e].setValue(n);this.keys[e].cb=r;break}if(!a){a=new m({time:t,value:n,e:this.defaultEasing,cb:r});this.keys.push(a);this._updateLastIndex()}if(this.onChange)this.onChange();this.emitEvent("onChange",this);this._needsSort=true;return a};x.prototype.setKeyEasing=function(e,t){if(this.keys[e]){this.keys[e].setEasing(t);this.emitEvent("onChange",this)}};x.prototype.getSerialized=function(){const t={};t.keys=[];t.loop=this.loop;for(let e=0;e<this.keys.length;e++)t.keys.push(this.keys[e].getSerialized());return t};x.prototype.getKey=function(e){const t=this.getKeyIndex(e);return this.keys[t]};x.prototype.getNextKey=function(e){let t=this.getKeyIndex(e)+1;if(t>=this.keys.length)t=this.keys.length-1;return this.keys[t]};x.prototype.isFinished=function(e){if(this.keys.length<=0)return true;return e>this.keys[this.keys.length-1].time};x.prototype.isStarted=function(e){if(this.keys.length<=0)return false;return e>=this.keys[0].time};x.prototype.getValue=function(e){if(this.keys.length===0){return 0}if(this._needsSort)this.sortKeys();if(!this.loop&&e>this.keys[this._lastKeyIndex].time){if(this.keys[this._lastKeyIndex].cb&&!this.keys[this._lastKeyIndex].cbTriggered)this.keys[this._lastKeyIndex].trigger();return this.keys[this._lastKeyIndex].value}if(e<this.keys[0].time){return this.keys[0].value}if(this.loop&&e>this.keys[this._lastKeyIndex].time){const o=e/this.keys[this._lastKeyIndex].time;if(o>this._timesLooped){this._timesLooped++;if(this.onLooped)this.onLooped()}e=(e-this.keys[0].time)%(this.keys[this._lastKeyIndex].time-this.keys[0].time);e+=this.keys[0].time}const t=this.getKeyIndex(e);if(t>=this._lastKeyIndex){if(this.keys[this._lastKeyIndex].cb&&!this.keys[this._lastKeyIndex].cbTriggered)this.keys[this._lastKeyIndex].trigger();return this.keys[this._lastKeyIndex].value}const n=t+1;const r=this.keys[t];const a=this.keys[n];if(r.cb&&!r.cbTriggered)r.trigger();if(!a)return-1;const i=(e-r.time)/(a.time-r.time);if(!r.ease)this.log._warn("has no ease",r,a);return r.ease(i,a)};x.prototype._updateLastIndex=function(){this._lastKeyIndex=this.keys.length-1};x.prototype.addKey=function(e){if(e.time===undefined){this.log.warn("key time undefined, ignoring!")}else{this.keys.push(e);if(this.onChange!==null)this.onChange();this.emitEvent("onChange",this)}this._updateLastIndex()};x.prototype.easingFromString=function(e){if(e=="linear")return g.ANIM.EASING_LINEAR;if(e=="absolute")return g.ANIM.EASING_ABSOLUTE;if(e=="smoothstep")return g.ANIM.EASING_SMOOTHSTEP;if(e=="smootherstep")return g.ANIM.EASING_SMOOTHERSTEP;if(e=="Cubic In")return g.ANIM.EASING_CUBIC_IN;if(e=="Cubic Out")return g.ANIM.EASING_CUBIC_OUT;if(e=="Cubic In Out")return g.ANIM.EASING_CUBIC_INOUT;if(e=="Expo In")return g.ANIM.EASING_EXPO_IN;if(e=="Expo Out")return g.ANIM.EASING_EXPO_OUT;if(e=="Expo In Out")return g.ANIM.EASING_EXPO_INOUT;if(e=="Sin In")return g.ANIM.EASING_SIN_IN;if(e=="Sin Out")return g.ANIM.EASING_SIN_OUT;if(e=="Sin In Out")return g.ANIM.EASING_SIN_INOUT;if(e=="Back In")return g.ANIM.EASING_BACK_IN;if(e=="Back Out")return g.ANIM.EASING_BACK_OUT;if(e=="Back In Out")return g.ANIM.EASING_BACK_INOUT;if(e=="Elastic In")return g.ANIM.EASING_ELASTIC_IN;if(e=="Elastic Out")return g.ANIM.EASING_ELASTIC_OUT;if(e=="Bounce In")return g.ANIM.EASING_BOUNCE_IN;if(e=="Bounce Out")return g.ANIM.EASING_BOUNCE_OUT;if(e=="Quart Out")return g.ANIM.EASING_QUART_OUT;if(e=="Quart In")return g.ANIM.EASING_QUART_IN;if(e=="Quart In Out")return g.ANIM.EASING_QUART_INOUT;if(e=="Quint Out")return g.ANIM.EASING_QUINT_OUT;if(e=="Quint In")return g.ANIM.EASING_QUINT_IN;if(e=="Quint In Out")return g.ANIM.EASING_QUINT_INOUT};x.prototype.createPort=function(e,t,n){const r=e.inDropDown(t,g.ANIM.EASINGS,"Cubic Out");r.set("linear");r.defaultValue="linear";r.onChange=function(){this.defaultEasing=this.easingFromString(r.get());this.emitEvent("onChangeDefaultEasing",this);if(n)n()}.bind(this);return r};x.slerpQuaternion=function(e,t,n,r,a,i){if(!x.slerpQuaternion.q1){x.slerpQuaternion.q1=quat.create();x.slerpQuaternion.q2=quat.create()}const o=n.getKeyIndex(e);let s=o+1;if(s>=n.keys.length)s=n.keys.length-1;if(o==s){quat.set(t,n.keys[o].value,r.keys[o].value,a.keys[o].value,i.keys[o].value)}else{const u=n.keys[o].time;const l=n.keys[s].time;const p=(e-u)/(l-u);quat.set(x.slerpQuaternion.q1,n.keys[o].value,r.keys[o].value,a.keys[o].value,i.keys[o].value);quat.set(x.slerpQuaternion.q2,n.keys[s].value,r.keys[s].value,a.keys[s].value,i.keys[s].value);quat.slerp(t,x.slerpQuaternion.q1,x.slerpQuaternion.q2,p)}return t};const I={Key:m};const S=function(e,t,n,r){d.apply(this);this.data={};this._log=new p("core_port");this.direction=g.PORT.PORT_DIR_IN;this.id=String(CABLES.simpleId());this._op=e;this.links=[];this.value=0;this.name=t;this.type=n||g.OP.OP_PORT_TYPE_VALUE;this.uiAttribs=r||{};this.anim=null;this._oldAnimVal=-5711;this.defaultValue=null;this._uiActiveState=true;this.ignoreValueSerialize=false;this.onLinkChanged=null;this.crashed=false;this._valueBeforeLink=null;this._lastAnimFrame=-1;this._animated=false;this.onValueChanged=null;this.onTriggered=null;this.onUiActiveStateChange=null;this.changeAlways=false;this.forceRefChange=false;this._useVariableName=null;this.activityCounter=0;this.apf=0;this.activityCounterStartFrame=0;this._tempLastUiValue=null;Object.defineProperty(this,"title",{get(){return this.uiAttribs.title||this.name}});Object.defineProperty(this,"parent",{get(){this._log.stack("use port.op, not .parent");return this._op}});Object.defineProperty(this,"op",{get(){return this._op}});Object.defineProperty(this,"val",{get(){return this.get()},set(e){this.setValue(e)}})};S.prototype.copyLinkedUiAttrib=function(e,t){if(!CABLES.UI)return;if(!this.isLinked())return;const n={};n[e]=this.links[0].getOtherPort(this).getUiAttrib(e);t.setUiAttribs(n)};S.prototype.getValueForDisplay=function(){let e=this.value;if(typeof this.value==="string"||this.value instanceof String){if(e.length>1e3){e=e.substring(0,999);e+="..."}if(this.uiAttribs&&this.uiAttribs.display=="boolnum"){e+=" - ";if(!this.value)e+="false";else e+="true"}e=e.replace(/[\u00A0-\u9999<>\&]/g,function(e){return"&#"+e.charCodeAt(0)+";"});if(e.length>100)e=e.substring(0,100)}else{e=this.value}return e};S.prototype.onAnimToggle=function(){};S.prototype._onAnimToggle=function(){this.onAnimToggle()};S.prototype.remove=function(){this.removeLinks();this._op.removePort(this)};S.prototype.setUiAttribs=function(e){let t=false;if(!this.uiAttribs)this.uiAttribs={};for(const n in e){if(e[n]===undefined){delete this.uiAttribs[n];continue}if(this.uiAttribs[n]!=e[n])t=true;this.uiAttribs[n]=e[n];if(n=="group"&&this.indexPort)this.indexPort.setUiAttribs({group:e[n]})}if(e.hasOwnProperty("expose"))this._op.patch.emitEvent("subpatchExpose",this._op.uiAttribs.subPatch);if(t)this.emitEvent("onUiAttrChange",e,this)};S.prototype.getUiAttribs=function(){return this.uiAttribs};S.prototype.getUiAttrib=function(e){if(!this.uiAttribs||!this.uiAttribs.hasOwnProperty(e)){return null}return this.uiAttribs[e]};S.prototype.get=function(){if(this._animated&&this._lastAnimFrame!=this._op.patch.getFrameNum()){this._lastAnimFrame=this._op.patch.getFrameNum();let e=this.anim.getValue(this._op.patch.timer.getTime());if(this.value!=e){this.value=e;this._oldAnimVal=this.value;this.forceChange()}}return this.value};S.prototype.setRef=function(e){this.forceRefChange=true;this.set(e)};S.prototype.set=S.prototype.setValue=function(e){if(e===undefined)e=null;if(this._op.enabled&&!this.crashed){if(e!==this.value||this.changeAlways||this.type==g.OP.OP_PORT_TYPE_TEXTURE||this.type==g.OP.OP_PORT_TYPE_ARRAY){if(this._animated){this.anim.setValue(this._op.patch.timer.getTime(),e)}else{try{this.value=e;this.forceChange()}catch(e){this.crashed=true;this.setValue=function(e){};this.onTriggered=function(){};this._log.error("exception in ",this._op);this._log.error(e);this._op.patch.emitEvent("exception",e,this._op)}if(this._op&&this._op.patch&&this._op.patch.isEditorMode()&&this.type==g.OP.OP_PORT_TYPE_TEXTURE)gui.texturePreview().updateTexturePort(this)}if(this.direction==g.PORT.PORT_DIR_OUT)for(let e=0;e<this.links.length;++e)this.links[e].setValue()}}};S.prototype.updateAnim=function(){if(this._animated){this.value=this.get();if(this._oldAnimVal!=this.value||this.changeAlways){this._oldAnimVal=this.value;this.forceChange()}this._oldAnimVal=this.value}};S.prototype.forceChange=function(){if(this.onValueChanged||this.onChange){}this._activity();this.emitEvent("change",this.value,this);if(this.onChange)this.onChange(this,this.value);else if(this.onValueChanged)this.onValueChanged(this,this.value)};S.prototype.getTypeString=function(){if(this.type==g.OP.OP_PORT_TYPE_VALUE)return"Number";if(this.type==g.OP.OP_PORT_TYPE_FUNCTION)return"Trigger";if(this.type==g.OP.OP_PORT_TYPE_OBJECT)return"Object";if(this.type==g.OP.OP_PORT_TYPE_DYNAMIC)return"Dynamic";if(this.type==g.OP.OP_PORT_TYPE_ARRAY)return"Array";if(this.type==g.OP.OP_PORT_TYPE_STRING)return"String";return"Unknown"};S.prototype.deSerializeSettings=function(e){if(!e)return;if(e.animated)this.setAnimated(e.animated);if(e.useVariable)this.setVariableName(e.useVariable);if(e.title)this.setUiAttribs({title:e.title});if(e.expose)this.setUiAttribs({expose:true});if(e.order)this.setUiAttribs({order:e.order});if(e.multiPortManual)this.setUiAttribs({multiPortManual:e.multiPortManual});if(e.multiPortNum)this.setUiAttribs({multiPortNum:e.multiPortNum});if(e.anim){if(!this.anim)this.anim=new x({name:"port "+this.name});this._op._hasAnimPort=true;this.anim.addEventListener("onChange",()=>{this._op.patch.emitEvent("portAnimUpdated",this._op,this,this.anim)});if(e.anim.loop)this.anim.loop=e.anim.loop;for(const t in e.anim.keys){this.anim.keys.push(new I.Key(e.anim.keys[t]))}this.anim.sortKeys()}};S.prototype.setInitialValue=function(e){if(this.op.preservedPortLinks[this.name]){for(let e=0;e<this.op.preservedPortLinks[this.name].length;e++){const t=this.op.preservedPortLinks[this.name][e];this.op.patch._addLink(t.objIn,t.objOut,t.portIn,t.portOut)}}if(this.op.preservedPortValues&&this.op.preservedPortValues.hasOwnProperty(this.name)&&this.op.preservedPortValues[this.name]!==undefined){this.set(this.op.preservedPortValues[this.name])}else if(e!==undefined)this.set(e);if(e!==undefined)this.defaultValue=e};S.prototype.getSerialized=function(){let e={name:this.getName()};if(!this.ignoreValueSerialize&&this.links.length===0){if(this.type==g.OP.OP_PORT_TYPE_OBJECT&&this.value&&this.value.tex){}else e.value=this.value}if(this._useVariableName)e.useVariable=this._useVariableName;if(this._animated)e.animated=true;if(this.anim)e.anim=this.anim.getSerialized();if(this.uiAttribs.multiPortNum)e.multiPortNum=this.uiAttribs.multiPortNum;if(this.uiAttribs.multiPortManual)e.multiPortManual=this.uiAttribs.multiPortManual;if(this.uiAttribs.display=="file")e.display=this.uiAttribs.display;if(this.uiAttribs.expose){e.expose=true;if(this.uiAttribs.hasOwnProperty("order"))e.order=this.uiAttribs.order}if(this.uiAttribs.title)e.title=this.uiAttribs.title;if((this.preserveLinks||this.direction==g.PORT.PORT_DIR_OUT)&&this.links.length>0){e.links=[];for(const t in this.links){if(!this.links[t].ignoreInSerialize&&(this.links[t].portIn&&this.links[t].portOut))e.links.push(this.links[t].getSerialized())}}if(this.direction==g.PORT.PORT_DIR_IN&&this.links.length>0){for(const t in this.links){if(!this.links[t].portIn||!this.links[t].portOut)continue;const n=this.links[t].getOtherPort(this);if(n.op.isInBlueprint2&&this.op.isInBlueprint2){if(n.op.isInBlueprint2()&&!this.op.isInBlueprint2()){e.links=e.links||[];e.links.push(this.links[t].getSerialized())}}}}if(e.links&&e.links.length==0)delete e.links;if(this.type===g.OP.OP_PORT_TYPE_FUNCTION)delete e.value;if(this.type===g.OP.OP_PORT_TYPE_FUNCTION&&this.links.length==0)e=null;if(e&&Object.keys(e).length==1&&e.name)e=null;i(e);return e};S.prototype.shouldLink=function(){return true};S.prototype.removeLinks=function(){let e=0;while(this.links.length>0){e++;if(e>5e3){this._log.warn("could not delete links... / infinite loop");this.links.length=0;break}this.links[0].remove()}};S.prototype.removeLink=function(e){for(const t in this.links)if(this.links[t]==e)this.links.splice(t,1);if(this.direction==g.PORT.PORT_DIR_IN){if(this.type==g.OP.OP_PORT_TYPE_VALUE)this.setValue(this._valueBeforeLink||0);else this.setValue(this._valueBeforeLink||null)}if(CABLES.UI&&this._op.checkLinkTimeWarnings)this._op.checkLinkTimeWarnings();if(this.onLinkChanged)this.onLinkChanged();this.emitEvent("onLinkChanged");this.emitEvent("onLinkRemoved");this._op.emitEvent("onLinkChanged")};S.prototype.getName=function(){return this.name};S.prototype.getTitle=function(){if(this.uiAttribs.title)return this.uiAttribs.title;return this.name};S.prototype.addLink=function(e){this._valueBeforeLink=this.value;this.links.push(e);if(CABLES.UI&&this._op.checkLinkTimeWarnings)this._op.checkLinkTimeWarnings();if(this.onLinkChanged)this.onLinkChanged();this.emitEvent("onLinkChanged");this._op.emitEvent("onLinkChanged")};S.prototype.getLinkTo=function(e){for(const t in this.links)if(this.links[t].portIn==e||this.links[t].portOut==e)return this.links[t]};S.prototype.removeLinkTo=function(e){for(const t in this.links){if(this.links[t].portIn==e||this.links[t].portOut==e){this.links[t].remove();if(CABLES.UI&&this._op.checkLinkTimeWarnings)this._op.checkLinkTimeWarnings();if(this.onLinkChanged)this.onLinkChanged();this.emitEvent("onLinkChanged");this.emitEvent("onLinkRemoved");return}}};S.prototype.isLinkedTo=function(e){for(const t in this.links)if(this.links[t].portIn==e||this.links[t].portOut==e)return true;return false};S.prototype._activity=function(){this.activityCounter++};S.prototype.trigger=function(){const t=this.links.length;this._activity();if(t===0)return;if(!this._op.enabled)return;let n=null;try{for(let e=0;e<t;++e){if(this.links[e].portIn){n=this.links[e].portIn;n.op.patch.pushTriggerStack(n);n._onTriggered();n.op.patch.popTriggerStack()}if(this.links[e])this.links[e].activity()}}catch(e){n.op.enabled=false;if(this._op.patch.isEditorMode()){if(n.op.onError)n.op.onError(e)}this._log.error("exception in port: "+n.op.name,n.op);this._log.error(e)}};S.prototype.call=function(){this._log.warn("call deprecated - use trigger() ");this.trigger()};S.prototype.execute=function(){this._log.warn("### execute port: "+this.getName(),this.goals.length)};S.prototype.setVariableName=function(e){this._useVariableName=e;this._op.patch.on("variableRename",(e,t)=>{if(e!=this._useVariableName)return;this._useVariableName=t})};S.prototype.getVariableName=function(){return this._useVariableName};S.prototype.setVariable=function(e){this.setAnimated(false);const t={useVariable:false};if(this._variableIn&&this._varChangeListenerId){this._variableIn.off(this._varChangeListenerId);this._variableIn=null}if(e){this._variableIn=this._op.patch.getVar(e);if(!this._variableIn){this._log.warn("PORT VAR NOT FOUND!!!",e)}else{if(this.type==g.OP.OP_PORT_TYPE_OBJECT){this._varChangeListenerId=this._variableIn.on("change",()=>{this.set(null);this.set(this._variableIn.getValue())})}else{this._varChangeListenerId=this._variableIn.on("change",this.set.bind(this))}this.set(this._variableIn.getValue())}this._useVariableName=e;t.useVariable=true;t.variableName=this._useVariableName}else{t.variableName=this._useVariableName=null;t.useVariable=false}this.setUiAttribs(t);this._op.patch.emitEvent("portSetVariable",this._op,this,e)};S.prototype._handleNoTriggerOpAnimUpdates=function(e){let t=false;for(let e=0;e<this._op.portsIn.length;e++){if(this._op.portsIn.type==g.OP.OP_PORT_TYPE_FUNCTION){t=true;break}}if(!t){if(e)this._notriggerAnimUpdate=this._op.patch.on("onRenderFrame",()=>{this.updateAnim()});else this._op.patch.removeEventListener(this._notriggerAnimUpdate)}};S.prototype.setAnimated=function(e){if(this._animated!=e){this._animated=e;this._op._hasAnimPort=true;if(this._animated&&!this.anim){this.anim=new x({name:"port "+this.name});this.anim.addEventListener("onChange",()=>{this._op.patch.emitEvent("portAnimUpdated",this._op,this,this.anim)})}this._onAnimToggle()}this._handleNoTriggerOpAnimUpdates(e);if(!e){this.anim=null}this.setUiAttribs({isAnimated:this._animated})};S.prototype.toggleAnim=function(){this._animated=!this._animated;if(this._animated&&!this.anim){this.anim=new x({name:"port "+this.name});this.anim.addEventListener("onChange",()=>{this._op.patch.emitEvent("portAnimUpdated",this._op,this,this.anim)})}this.setAnimated(this._animated);this._onAnimToggle();this.setUiAttribs({isAnimated:this._animated})};S.prototype.getType=function(){return this.type};S.prototype.isLinked=function(){return this.links.length>0||this._animated||this._useVariableName!=null};S.prototype.isBoundToVar=function(){const e=this._useVariableName!=null;this.uiAttribs.boundToVar=e;return e};S.prototype.isAnimated=function(){return this._animated};S.prototype.isHidden=function(){return this.uiAttribs.hidePort};S.prototype._onTriggered=function(e){this._activity();this._op.updateAnims();if(this._op.enabled&&this.onTriggered)this.onTriggered(e);if(this._op.enabled)this.emitEvent("trigger")};S.prototype._onSetProfiling=function(e){this._op.patch.profiler.add("port",this);this.setValue(e);this._op.patch.profiler.add("port",null)};S.prototype._onTriggeredProfiling=function(){if(this._op.enabled&&this.onTriggered){this._op.patch.profiler.add("port",this);this.onTriggered();this._op.patch.profiler.add("port",null)}};S.prototype.getUiActiveState=function(){return this._uiActiveState};S.prototype.setUiActiveState=function(e){this._uiActiveState=e;if(this.onUiActiveStateChange)this.onUiActiveStateChange()};S.prototype.onValueChange=function(e){this.onChange=e};S.prototype.hidePort=function(){};S.portTypeNumberToString=function(e){if(e==g.OP.OP_PORT_TYPE_VALUE)return"value";if(e==g.OP.OP_PORT_TYPE_FUNCTION)return"function";if(e==g.OP.OP_PORT_TYPE_OBJECT)return"object";if(e==g.OP.OP_PORT_TYPE_ARRAY)return"array";if(e==g.OP.OP_PORT_TYPE_STRING)return"string";if(e==g.OP.OP_PORT_TYPE_DYNAMIC)return"dynamic";return"unknown"};class j{constructor(e,t,n,r,a,i,o,s,u,l){this._log=new p("cg_uniform");this._type=t;this._name=n;this._shader=e;this._value=1e-5;this._oldValue=null;this._port=null;this._structName=u;this._structUniformName=s;this._propertyName=l;this._shader._addUniform(this);this.needsUpdate=true;this.shaderType=null;this.comment=null;if(t=="f"){this.set=this.setValue=this.setValueF.bind(this);this.updateValue=this.updateValueF.bind(this)}else if(t=="f[]"){this.set=this.setValue=this.setValueArrayF.bind(this);this.updateValue=this.updateValueArrayF.bind(this)}else if(t=="2f[]"){this.set=this.setValue=this.setValueArray2F.bind(this);this.updateValue=this.updateValueArray2F.bind(this)}else if(t=="3f[]"){this.set=this.setValue=this.setValueArray3F.bind(this);this.updateValue=this.updateValueArray3F.bind(this)}else if(t=="4f[]"){this.set=this.setValue=this.setValueArray4F.bind(this);this.updateValue=this.updateValueArray4F.bind(this)}else if(t=="i"){this.set=this.setValue=this.setValueI.bind(this);this.updateValue=this.updateValueI.bind(this)}else if(t=="2i"){this.set=this.setValue=this.setValue2I.bind(this);this.updateValue=this.updateValue2I.bind(this)}else if(t=="3i"){this.set=this.setValue=this.setValue3I.bind(this);this.updateValue=this.updateValue3I.bind(this)}else if(t=="4i"){this.set=this.setValue=this.setValue4I.bind(this);this.updateValue=this.updateValue4I.bind(this)}else if(t=="b"){this.set=this.setValue=this.setValueBool.bind(this);this.updateValue=this.updateValueBool.bind(this)}else if(t=="4f"){this.set=this.setValue=this.setValue4F.bind(this);this.updateValue=this.updateValue4F.bind(this)}else if(t=="3f"){this.set=this.setValue=this.setValue3F.bind(this);this.updateValue=this.updateValue3F.bind(this)}else if(t=="2f"){this.set=this.setValue=this.setValue2F.bind(this);this.updateValue=this.updateValue2F.bind(this)}else if(t=="t"){this.set=this.setValue=this.setValueT.bind(this);this.updateValue=this.updateValueT.bind(this)}else if(t=="sampler"){if(this.setValueAny){this.set=this.setValue=this.setValueAny.bind(this);this.updateValue=this.updateValueAny.bind(this)}}else if(t=="tc"){this.set=this.setValue=this.setValueT.bind(this);this.updateValue=this.updateValueT.bind(this)}else if(t=="t[]"){this.set=this.setValue=this.setValueArrayT.bind(this);this.updateValue=this.updateValueArrayT.bind(this)}else if(t=="m4"||t=="m4[]"){this.set=this.setValue=this.setValueM4.bind(this);this.updateValue=this.updateValueM4.bind(this)}else{this._log.error("Unknown uniform type "+t)}if(typeof r=="object"&&r instanceof S){this._port=r;this._value=this._port.get();if(a&&i&&o){if(!(a instanceof S)||!(i instanceof S)||!(o instanceof S)){this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ",this._name)}this._value=[0,0,0,0];this._port2=a;this._port3=i;this._port4=o;this._port.on("change",this.updateFromPort4f.bind(this));this._port2.on("change",this.updateFromPort4f.bind(this));this._port3.on("change",this.updateFromPort4f.bind(this));this._port4.on("change",this.updateFromPort4f.bind(this));this.updateFromPort4f()}else if(a&&i){if(!(a instanceof S)||!(i instanceof S)){this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ",this._name)}this._value=[0,0,0];this._port2=a;this._port3=i;this._port.on("change",this.updateFromPort3f.bind(this));this._port2.on("change",this.updateFromPort3f.bind(this));this._port3.on("change",this.updateFromPort3f.bind(this));this.updateFromPort3f()}else if(a){if(!(a instanceof S)){this._log.error("[cgl_uniform] mixed port/value parameter for vec4 ",this._name)}this._value=[0,0];this._port2=a;this._port.on("change",this.updateFromPort2f.bind(this));this._port2.on("change",this.updateFromPort2f.bind(this));this.updateFromPort2f()}else{this._port.on("change",this.updateFromPort.bind(this))}}else this._value=r;this.setValue(this._value);this.needsUpdate=true}getType(){return this._type}getName(){return this._name}getValue(){return this._value}getShaderType(){return this.shaderType}isStructMember(){return!!this._structName}updateFromPort4f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this._value[2]=this._port3.get();this._value[3]=this._port4.get();this.setValue(this._value)}updateFromPort3f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this._value[2]=this._port3.get();this.setValue(this._value)}updateFromPort2f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this.setValue(this._value)}updateFromPort(){this.setValue(this._port.get())}}const _=j;class A extends _{constructor(e,t,n,r,a,i,o,s,u,l){super(e,t,n,r,a,i,o,s,u,l);this._loc=-1;this._cgl=e._cgl}get name(){return this._name}copy(e){const t=new A(e,this._type,this._name,this._value,this._port2,this._port3,this._port4,this._structUniformName,this._structName,this._propertyName);t.shaderType=this.shaderType;return t}getGlslTypeString(){return A.glslTypeString(this._type)}_isValidLoc(){return this._loc!=-1}resetLoc(){this._loc=-1;this.needsUpdate=true}bindTextures(){}getLoc(){return this._loc}updateFromPort4f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this._value[2]=this._port3.get();this._value[3]=this._port4.get();this.setValue(this._value)}updateFromPort3f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this._value[2]=this._port3.get();this.setValue(this._value)}updateFromPort2f(){this._value[0]=this._port.get();this._value[1]=this._port2.get();this.setValue(this._value)}updateFromPort(){this.setValue(this._port.get())}updateValueF(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;this._shader.getCgl().gl.uniform1f(this._loc,this._value);this._cgl.profileData.profileUniformCount++}setValueF(e){if(e!=this._value){this.needsUpdate=true;this._value=e}}updateValueI(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;this._shader.getCgl().gl.uniform1i(this._loc,this._value);this._cgl.profileData.profileUniformCount++}updateValue2I(){if(!this._value)return;if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._shader.getCgl().gl.uniform2i(this._loc,this._value[0],this._value[1]);this.needsUpdate=false;this._cgl.profileData.profileUniformCount++}updateValue3I(){if(!this._value)return;if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._shader.getCgl().gl.uniform3i(this._loc,this._value[0],this._value[1],this._value[2]);this.needsUpdate=false;this._cgl.profileData.profileUniformCount++}updateValue4I(){if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._shader.getCgl().gl.uniform4i(this._loc,this._value[0],this._value[1],this._value[2],this._value[3]);this._cgl.profileData.profileUniformCount++}setValueI(e){if(e!=this._value){this.needsUpdate=true;this._value=e}}setValue2I(e){if(!e)return;if(!this._oldValue){this._oldValue=[e[0]-1,1];this.needsUpdate=true}else if(e[0]!=this._oldValue[0]||e[1]!=this._oldValue[1]){this._oldValue[0]=e[0];this._oldValue[1]=e[1];this.needsUpdate=true}this._value=e}setValue3I(e){if(!e)return;if(!this._oldValue){this._oldValue=[e[0]-1,1,2];this.needsUpdate=true}else if(e[0]!=this._oldValue[0]||e[1]!=this._oldValue[1]||e[2]!=this._oldValue[2]){this._oldValue[0]=e[0];this._oldValue[1]=e[1];this._oldValue[2]=e[2];this.needsUpdate=true}this._value=e}setValue4I(e){this.needsUpdate=true;this._value=e||vec4.create()}updateValueBool(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;this._shader.getCgl().gl.uniform1i(this._loc,this._value?1:0);this._cgl.profileData.profileUniformCount++}setValueBool(e){if(e!=this._value){this.needsUpdate=true;this._value=e}}setValueArray4F(e){this.needsUpdate=true;this._value=e}updateValueArray4F(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;if(!this._value)return;this._shader.getCgl().gl.uniform4fv(this._loc,this._value);this._cgl.profileData.profileUniformCount++}setValueArray3F(e){this.needsUpdate=true;this._value=e}updateValueArray3F(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;if(!this._value)return;this._shader.getCgl().gl.uniform3fv(this._loc,this._value);this._cgl.profileData.profileUniformCount++}setValueArray2F(e){this.needsUpdate=true;this._value=e}updateValueArray2F(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;if(!this._value)return;this._shader.getCgl().gl.uniform2fv(this._loc,this._value);this._cgl.profileData.profileUniformCount++}setValueArrayF(e){this.needsUpdate=true;this._value=e}updateValueArrayF(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;if(!this._value)return;this._shader.getCgl().gl.uniform1fv(this._loc,this._value);this._cgl.profileData.profileUniformCount++}setValueArrayT(e){this.needsUpdate=true;this._value=e}updateValue3F(){if(!this._value)return;if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._shader.getCgl().gl.uniform3f(this._loc,this._value[0],this._value[1],this._value[2]);this.needsUpdate=false;this._cgl.profileData.profileUniformCount++}setValue3F(e){if(!e)return;if(!this._oldValue){this._oldValue=[e[0]-1,1,2];this.needsUpdate=true}else if(e[0]!=this._oldValue[0]||e[1]!=this._oldValue[1]||e[2]!=this._oldValue[2]){this._oldValue[0]=e[0];this._oldValue[1]=e[1];this._oldValue[2]=e[2];this.needsUpdate=true}this._value=e}updateValue2F(){if(!this._value)return;if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._shader.getCgl().gl.uniform2f(this._loc,this._value[0],this._value[1]);this.needsUpdate=false;this._cgl.profileData.profileUniformCount++}setValue2F(e){if(!e)return;if(!this._oldValue){this._oldValue=[e[0]-1,1];this.needsUpdate=true}else if(e[0]!=this._oldValue[0]||e[1]!=this._oldValue[1]){this._oldValue[0]=e[0];this._oldValue[1]=e[1];this.needsUpdate=true}this._value=e}updateValue4F(){if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}if(!this._value){this._log.warn("no value for uniform",this._name,this);this._value=[0,0,0,0]}this.needsUpdate=false;this._shader.getCgl().gl.uniform4f(this._loc,this._value[0],this._value[1],this._value[2],this._value[3]);this._cgl.profileData.profileUniformCount++}setValue4F(e){if(typeof this.value=="number")this.value=vec4.create();if(!e)return;if(!this._oldValue){this._oldValue=[e[0]-1,1,2,3];this.needsUpdate=true}else if(e[0]!=this._oldValue[0]||e[1]!=this._oldValue[1]||e[2]!=this._oldValue[2]||e[3]!=this._oldValue[3]){this._oldValue[0]=e[0];this._oldValue[1]=e[1];this._oldValue[2]=e[2];this.needsUpdate=true}this._value=e}updateValueM4(){if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}if(!this._value||this._value.length%16!=0)return console.log("this.name",this._name,this._value);this._shader.getCgl().gl.uniformMatrix4fv(this._loc,false,this._value);this._cgl.profileData.profileUniformCount++}setValueM4(e){this.needsUpdate=true;this._value=e||mat4.create()}updateValueArrayT(){if(!this._isValidLoc())this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);else this.needsUpdate=false;if(!this._value)return;this._shader.getCgl().gl.uniform1iv(this._loc,this._value);this._cgl.profileData.profileUniformCount++}updateValueT(){if(!this._isValidLoc()){this._loc=this._shader.getCgl().gl.getUniformLocation(this._shader.getProgram(),this._name);this._cgl.profileData.profileShaderGetUniform++;this._cgl.profileData.profileShaderGetUniformName=this._name}this._cgl.profileData.profileUniformCount++;this._shader.getCgl().gl.uniform1i(this._loc,this._value);this.needsUpdate=false}setValueT(e){this.needsUpdate=true;this._value=e}}A.glslTypeString=e=>{if(e=="f")return"float";if(e=="b")return"bool";if(e=="i")return"int";if(e=="2i")return"ivec2";if(e=="2f")return"vec2";if(e=="3f")return"vec3";if(e=="4f")return"vec4";if(e=="m4")return"mat4";if(e=="t")return"sampler2D";if(e=="tc")return"samplerCube";if(e=="3f[]")return null;if(e=="m4[]")return null;if(e=="f[]")return null;console.warn("[CGL UNIFORM] unknown glsl type string ",e)};const T={SHADERVAR_VERTEX_POSITION:"vPosition",SHADERVAR_VERTEX_NUMBER:"attrVertIndex",SHADERVAR_VERTEX_NORMAL:"attrVertNormal",SHADERVAR_VERTEX_TEXCOORD:"attrTexCoord",SHADERVAR_INSTANCE_MMATRIX:"instMat",SHADERVAR_VERTEX_COLOR:"attrVertColor",SHADERVAR_INSTANCE_INDEX:"instanceIndex",SHADERVAR_UNI_PROJMAT:"projMatrix",SHADERVAR_UNI_VIEWMAT:"viewMatrix",SHADERVAR_UNI_MODELMAT:"modelMatrix",SHADERVAR_UNI_NORMALMAT:"normalMatrix",SHADERVAR_UNI_INVVIEWMAT:"inverseViewMatrix",SHADERVAR_UNI_INVPROJMAT:"invProjMatrix",SHADERVAR_UNI_MATERIALID:"materialId",SHADERVAR_UNI_OBJECTID:"objectId",SHADERVAR_UNI_VIEWPOS:"camPos"};const C={BLEND_NONE:0,BLEND_NORMAL:1,BLEND_ADD:2,BLEND_SUB:3,BLEND_MUL:4};const w=180/Math.PI;const k=Math.PI/180;const N={MATH:{DEG2RAD:k,RAD2DEG:w},SHADER:T,BLEND_MODES:C};const P={};P.lastMesh=null;const E=function(e,t,n){this._cgl=e;let r=n||{};if(CABLES.UTILS.isNumeric(r))r={glPrimitive:n};this._log=new p("cgl_mesh");this._bufVertexAttrib=null;this._bufVerticesIndizes=this._cgl.gl.createBuffer();this._indexType=this._cgl.gl.UNSIGNED_SHORT;this._attributes=[];this._attribLocs={};this._geom=null;this._lastShader=null;this._numInstances=0;this._glPrimitive=r.glPrimitive;this.opId=r.opId||"";this._preWireframeGeom=null;this.addVertexNumbers=false;this._name="unknown";this.feedBackAttributes=[];this.setGeom(t);this._feedBacks=[];this._feedBacksChanged=false;this._transformFeedBackLoc=-1;this._lastAttrUpdate=0;this.memFreed=false;this._cgl.profileData.addHeavyEvent("mesh constructed",this._name);this._queryExt=null;Object.defineProperty(this,"numInstances",{get(){return this._numInstances},set(e){this.setNumInstances(e)}})};E.prototype.freeMem=function(){this.memFreed=true;for(let e=0;e<this._attributes.length;e++){this._attributes[e].floatArray=null}};E.prototype.updateVertices=function(e){this.setAttribute(N.SHADER.SHADERVAR_VERTEX_POSITION,e.vertices,3);this._numVerts=e.vertices.length/3};E.prototype.setAttributePointer=function(t,n,r,a){for(let e=0;e<this._attributes.length;e++){if(this._attributes[e].name==t){if(!this._attributes[e].pointer)this._attributes[e].pointer=[];this._attributes[e].pointer.push({loc:-1,name:n,stride:r,offset:a,instanced:t==N.SHADER.SHADERVAR_INSTANCE_MMATRIX})}}};E.prototype.getAttribute=function(t){for(let e=0;e<this._attributes.length;e++)if(this._attributes[e].name==t)return this._attributes[e]};E.prototype.setAttributeRange=function(e,t,n,r){if(!e)return;if(!n&&!r)return;if(!e.name){this._log.stack("no attrname?!")}this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER,e.buffer);this._cgl.profileData.profileMeshAttributes+=r-n||0;this._cgl.profileData.profileSingleMeshAttribute[this._name]=this._cgl.profileData.profileSingleMeshAttribute[this._name]||0;this._cgl.profileData.profileSingleMeshAttribute[this._name]+=r-n||0;if(e.numItems<t.length/e.itemSize){this._resizeAttr(t,e)}if(r>t.length){if(CABLES.platform.isDevEnv())this._log.log(this._cgl.canvas.id+" "+e.name+" buffersubdata out of bounds ?",t.length,r,n,e);return}if(this._cgl.glVersion==1)this._cgl.gl.bufferSubData(this._cgl.gl.ARRAY_BUFFER,0,t);else this._cgl.gl.bufferSubData(this._cgl.gl.ARRAY_BUFFER,n*4,t,n,r-n)};E.prototype._resizeAttr=function(e,t){if(t.buffer)this._cgl.gl.deleteBuffer(t.buffer);t.buffer=this._cgl.gl.createBuffer();this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER,t.buffer);this._bufferArray(e,t);t.numItems=e.length/t.itemSize};E.prototype._bufferArray=function(e,t){let n=t.floatArray||null;if(!e)return;if(this._cgl.debugOneFrame){console.log("_bufferArray",e.length,t.name)}if(!(e instanceof Float32Array)){if(t&&n&&n.length==e.length){n.set(e)}else{n=new Float32Array(e);if(this._cgl.debugOneFrame){console.log("_bufferArray create new float32array",e.length,t.name)}if(e.length>1e4){this._cgl.profileData.profileNonTypedAttrib++;this._cgl.profileData.profileNonTypedAttribNames="("+this._name+":"+t.name+")"}}}else n=e;t.arrayLength=n.length;t.floatArray=null;this._cgl.gl.bufferData(this._cgl.gl.ARRAY_BUFFER,n,this._cgl.gl.DYNAMIC_DRAW)};E.prototype.addAttribute=E.prototype.updateAttribute=E.prototype.setAttribute=function(e,t,n,r){if(!t){this._log.error("mesh addAttribute - no array given! "+e);throw new Error}let a=null;let i=false;let o=0;const s=t.length/n;this._cgl.profileData.profileMeshAttributes+=s||0;if(typeof r=="function"){a=r}if(typeof r=="object"){if(r.cb)a=r.cb;if(r.instanced)i=r.instanced}if(e==N.SHADER.SHADERVAR_INSTANCE_MMATRIX)i=true;for(o=0;o<this._attributes.length;o++){const p=this._attributes[o];if(p.name==e){if(p.numItems===s){}else{this._resizeAttr(t,p)}this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER,p.buffer);this._bufferArray(t,p);return p}}const u=this._cgl.gl.createBuffer();this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER,u);let l=this._cgl.gl.FLOAT;if(r&&r.type)l=r.type;const p={buffer:u,name:e,cb:a,itemSize:n,numItems:s,startItem:0,instanced:i,type:l};this._bufferArray(t,p);if(e==N.SHADER.SHADERVAR_VERTEX_POSITION)this._bufVertexAttrib=p;this._attributes.push(p);this._attribLocs={};return p};E.prototype.getAttributes=function(){return this._attributes};E.prototype.updateTexCoords=function(e){if(e.texCoords&&e.texCoords.length>0){this.setAttribute(N.SHADER.SHADERVAR_VERTEX_TEXCOORD,e.texCoords,2)}else{const t=new Float32Array(Math.round(e.vertices.length/3*2));this.setAttribute(N.SHADER.SHADERVAR_VERTEX_TEXCOORD,t,2)}};E.prototype.updateNormals=function(e){if(e.vertexNormals&&e.vertexNormals.length>0){this.setAttribute(N.SHADER.SHADERVAR_VERTEX_NORMAL,e.vertexNormals,3)}else{const t=new Float32Array(Math.round(e.vertices.length));this.setAttribute(N.SHADER.SHADERVAR_VERTEX_NORMAL,t,3)}};E.prototype._setVertexNumbers=function(e){if(!this._verticesNumbers||this._verticesNumbers.length!=this._numVerts||e){if(e)this._verticesNumbers=e;else{this._verticesNumbers=new Float32Array(this._numVerts);for(let e=0;e<this._numVerts;e++)this._verticesNumbers[e]=e}this.setAttribute(N.SHADER.SHADERVAR_VERTEX_NUMBER,this._verticesNumbers,1,(e,t,n)=>{if(!n.uniformNumVertices)n.uniformNumVertices=new A(n,"f","numVertices",this._numVerts);n.uniformNumVertices.setValue(this._numVerts)})}};E.prototype.setVertexIndices=function(t){if(!this._bufVerticesIndizes){this._log.warn("no bufVerticesIndizes: "+this._name);return}if(t.length>0){if(t instanceof Float32Array)this._log.warn("vertIndices float32Array: "+this._name);for(let e=0;e<t.length;e++){if(t[e]>=this._numVerts){this._log.warn("invalid index in "+this._name,e,t[e]);return}}this._cgl.gl.bindBuffer(this._cgl.gl.ELEMENT_ARRAY_BUFFER,this._bufVerticesIndizes);if(t.length>65535){this.vertIndicesTyped=new Uint32Array(t);this._indexType=this._cgl.gl.UNSIGNED_INT}else if(t instanceof Uint32Array){this.vertIndicesTyped=t;this._indexType=this._cgl.gl.UNSIGNED_INT}else if(!(t instanceof Uint16Array)){this.vertIndicesTyped=new Uint16Array(t);this._indexType=this._cgl.gl.UNSIGNED_SHORT}else this.vertIndicesTyped=t;this._cgl.gl.bufferData(this._cgl.gl.ELEMENT_ARRAY_BUFFER,this.vertIndicesTyped,this._cgl.gl.DYNAMIC_DRAW);this._bufVerticesIndizes.itemSize=1;this._bufVerticesIndizes.numItems=t.length}else this._bufVerticesIndizes.numItems=0};E.prototype.setGeom=function(e,t){this._geom=e;if(e.glPrimitive!=null)this._glPrimitive=e.glPrimitive;if(this._geom&&this._geom.name)this._name="mesh "+this._geom.name;P.lastMesh=null;this._cgl.profileData.profileMeshSetGeom++;this._disposeAttributes();this.updateVertices(this._geom);this.setVertexIndices(this._geom.verticesIndices);if(this.addVertexNumbers)this._setVertexNumbers();const n=this._geom.getAttributes();const r={texCoords:N.SHADER.SHADERVAR_VERTEX_TEXCOORD,vertexNormals:N.SHADER.SHADERVAR_VERTEX_NORMAL,vertexColors:N.SHADER.SHADERVAR_VERTEX_COLOR,tangents:"attrTangent",biTangents:"attrBiTangent"};for(const a in n)if(n[a].data&&n[a].data.length)this.setAttribute(r[a]||a,n[a].data,n[a].itemSize);if(t){this._geom=null}};E.prototype._preBind=function(t){for(let e=0;e<this._attributes.length;e++)if(this._attributes[e].cb)this._attributes[e].cb(this._attributes[e],this._geom,t)};E.prototype._checkAttrLengths=function(){if(this.memFreed)return;for(let e=0;e<this._attributes.length;e++){if(this._attributes[e].arrayLength/this._attributes[e].itemSize<this._attributes[0].arrayLength/this._attributes[0].itemSize){let e="unknown";if(this._geom)e=this._geom.name}}};E.prototype._bind=function(t){if(!t.isValid())return;let n=[];if(this._attribLocs[t.id])n=this._attribLocs[t.id];else this._attribLocs[t.id]=n;this._lastShader=t;if(t.lastCompile>this._lastAttrUpdate||n.length!=this._attributes.length){this._lastAttrUpdate=t.lastCompile;for(let e=0;e<this._attributes.length;e++)n[e]=-1}for(let e=0;e<this._attributes.length;e++){const r=this._attributes[e];if(n[e]==-1){if(r._attrLocationLastShaderTime!=t.lastCompile){r._attrLocationLastShaderTime=t.lastCompile;n[e]=this._cgl.glGetAttribLocation(t.getProgram(),r.name);this._cgl.profileData.profileAttrLoc++}}if(n[e]!=-1){this._cgl.gl.enableVertexAttribArray(n[e]);this._cgl.gl.bindBuffer(this._cgl.gl.ARRAY_BUFFER,r.buffer);if(r.instanced){if(r.itemSize<=4){if(!r.itemSize||r.itemSize==0)this._log.warn("instanced attrib itemsize error",this._geom.name,r);this._cgl.gl.vertexAttribPointer(n[e],r.itemSize,r.type,false,r.itemSize*4,0);this._cgl.gl.vertexAttribDivisor(n[e],1)}else if(r.itemSize==16){const a=16*4;this._cgl.gl.vertexAttribPointer(n[e],4,r.type,false,a,0);this._cgl.gl.enableVertexAttribArray(n[e]+1);this._cgl.gl.vertexAttribPointer(n[e]+1,4,r.type,false,a,4*4*1);this._cgl.gl.enableVertexAttribArray(n[e]+2);this._cgl.gl.vertexAttribPointer(n[e]+2,4,r.type,false,a,4*4*2);this._cgl.gl.enableVertexAttribArray(n[e]+3);this._cgl.gl.vertexAttribPointer(n[e]+3,4,r.type,false,a,4*4*3);this._cgl.gl.vertexAttribDivisor(n[e],1);this._cgl.gl.vertexAttribDivisor(n[e]+1,1);this._cgl.gl.vertexAttribDivisor(n[e]+2,1);this._cgl.gl.vertexAttribDivisor(n[e]+3,1)}else{this._log.warn("unknown instance attrib size",r.name)}}else{if(!r.itemSize||r.itemSize==0)this._log.warn("attrib itemsize error",this._name,r);this._cgl.gl.vertexAttribPointer(n[e],r.itemSize,r.type,false,r.itemSize*4,0);if(r.pointer){for(let e=0;e<r.pointer.length;e++){const i=r.pointer[e];if(i.loc==-1)i.loc=this._cgl.glGetAttribLocation(t.getProgram(),i.name);this._cgl.profileData.profileAttrLoc++;this._cgl.gl.enableVertexAttribArray(i.loc);this._cgl.gl.vertexAttribPointer(i.loc,r.itemSize,r.type,false,i.stride,i.offset)}}if(this.bindFeedback)this.bindFeedback(r)}}}if(this._bufVerticesIndizes&&this._bufVerticesIndizes.numItems!==0)this._cgl.gl.bindBuffer(this._cgl.gl.ELEMENT_ARRAY_BUFFER,this._bufVerticesIndizes)};E.prototype.unBind=function(){const e=this._lastShader;this._lastShader=null;if(!e)return;let t=[];if(this._attribLocs[e.id])t=this._attribLocs[e.id];else this._attribLocs[e.id]=t;P.lastMesh=null;for(let e=0;e<this._attributes.length;e++){if(this._attributes[e].instanced){if(this._attributes[e].itemSize<=4){if(t[e]!=-1)this._cgl.gl.vertexAttribDivisor(t[e],0);if(t[e]>=0)this._cgl.gl.disableVertexAttribArray(t[e])}else{this._cgl.gl.vertexAttribDivisor(t[e],0);this._cgl.gl.vertexAttribDivisor(t[e]+1,0);this._cgl.gl.vertexAttribDivisor(t[e]+2,0);this._cgl.gl.vertexAttribDivisor(t[e]+3,0);this._cgl.gl.disableVertexAttribArray(t[e]+1);this._cgl.gl.disableVertexAttribArray(t[e]+2);this._cgl.gl.disableVertexAttribArray(t[e]+3)}}if(t[e]!=-1)this._cgl.gl.disableVertexAttribArray(t[e])}};E.prototype.meshChanged=function(){return this._cgl.lastMesh&&this._cgl.lastMesh!=this};E.prototype.printDebug=function(e){console.log("--attributes");for(let e=0;e<this._attributes.length;e++){console.log("attribute "+e+" "+this._attributes[e].name)}};E.prototype.setNumVertices=function(e){this._bufVertexAttrib.numItems=e};E.prototype.getNumVertices=function(){return this._bufVertexAttrib.numItems};E.prototype.render=function(n){if(!n||!n.isValid()||this._cgl.aborted)return;this._checkAttrLengths();if(this._geom){if(this._preWireframeGeom&&!n.wireframe&&!this._geom.isIndexed()){this.setGeom(this._preWireframeGeom);this._preWireframeGeom=null}if(n.wireframe){let e=false;if(this._geom.isIndexed()){if(!this._preWireframeGeom){this._preWireframeGeom=this._geom;this._geom=this._geom.copy()}this._geom.unIndex();e=true}if(!this._geom.getAttribute("attrBarycentric")){if(!this._preWireframeGeom){this._preWireframeGeom=this._geom;this._geom=this._geom.copy()}e=true;this._geom.calcBarycentric()}if(e)this.setGeom(this._geom)}}let e=false;if(P.lastMesh!=this){if(P.lastMesh)P.lastMesh.unBind();e=true}if(e)this._preBind(n);if(!n.bind())return;this._bind(n);if(this.addVertexNumbers)this._setVertexNumbers();P.lastMesh=this;let t=this._cgl.gl.TRIANGLES;if(this._glPrimitive!==undefined)t=this._glPrimitive;if(n.glPrimitive!==null)t=n.glPrimitive;let r=1;let a=this._cgl.profileData.doProfileGlQuery;let i=false;if(a){let e=this._name+" - "+n.getName()+" #"+n.id;if(this._numInstances)e+=" instanced "+this._numInstances+"x";let t=this._cgl.profileData.glQueryData[e];if(!t)t={id:e,num:0};if(n.opId)t.shaderOp=n.opId;if(this.opId)t.meshOp=this.opId;this._cgl.profileData.glQueryData[e]=t;if(!this._queryExt&&this._queryExt!==false)this._queryExt=this._cgl.enableExtension("EXT_disjoint_timer_query_webgl2")||false;if(this._queryExt){if(t._drawQuery){const o=this._cgl.gl.getQueryParameter(t._drawQuery,this._cgl.gl.QUERY_RESULT_AVAILABLE);if(o){const s=this._cgl.gl.getQueryParameter(t._drawQuery,this._cgl.gl.QUERY_RESULT);const u=s/1e6;t._times=t._times||0;t._times+=u;t._numcount++;t.when=performance.now();t._drawQuery=null;t.queryStarted=false}}if(!t.queryStarted){t._drawQuery=this._cgl.gl.createQuery();this._cgl.gl.beginQuery(this._queryExt.TIME_ELAPSED_EXT,t._drawQuery);i=t.queryStarted=true}}}if(this.hasFeedbacks&&this.hasFeedbacks())this.drawFeedbacks(n,t);else if(!this._bufVerticesIndizes||this._bufVerticesIndizes.numItems===0){if(t==this._cgl.gl.TRIANGLES)r=3;if(this._numInstances===0)this._cgl.gl.drawArrays(t,this._bufVertexAttrib.startItem,this._bufVertexAttrib.numItems-this._bufVertexAttrib.startItem);else this._cgl.gl.drawArraysInstanced(t,this._bufVertexAttrib.startItem,this._bufVertexAttrib.numItems,this._numInstances)}else{if(t==this._cgl.gl.TRIANGLES)r=3;if(this._numInstances===0){this._cgl.gl.drawElements(t,this._bufVerticesIndizes.numItems,this._indexType,0)}else{this._cgl.gl.drawElementsInstanced(t,this._bufVerticesIndizes.numItems,this._indexType,0,this._numInstances)}}if(this._cgl.debugOneFrame&&this._cgl.gl.getError()!=this._cgl.gl.NO_ERROR){this._log.error("mesh draw gl error");this._log.error("mesh",this);this._log.error("shader",n);const l=[];for(let e=0;e<this._cgl.gl.getProgramParameter(n.getProgram(),this._cgl.gl.ACTIVE_ATTRIBUTES);e++){const p=this._cgl.gl.getActiveAttrib(n.getProgram(),e).name;this._log.error("attrib ",p)}}this._cgl.profileData.profileMeshNumElements+=this._bufVertexAttrib.numItems/r*(this._numInstances||1);this._cgl.profileData.profileMeshDraw++;if(a&&i){this._cgl.gl.endQuery(this._queryExt.TIME_ELAPSED_EXT)}this._cgl.printError("mesh render "+this._name);this.unBind()};E.prototype.setNumInstances=function(t){t=Math.max(0,t);if(this._numInstances!=t){this._numInstances=t;const n=new Float32Array(t);for(let e=0;e<t;e++)n[e]=e;this.setAttribute(N.SHADER.SHADERVAR_INSTANCE_INDEX,n,1,{instanced:true})}};E.prototype._disposeAttributes=function(){if(!this._attributes)return;for(let e=0;e<this._attributes.length;e++){if(this._attributes[e].buffer){this._cgl.gl.deleteBuffer(this._attributes[e].buffer);this._attributes[e].buffer=null}}this._attributes.length=0};E.prototype.dispose=function(){if(this._bufVertexAttrib&&this._bufVertexAttrib.buffer)this._cgl.gl.deleteBuffer(this._bufVertexAttrib.buffer);if(this._bufVerticesIndizes)this._cgl.gl.deleteBuffer(this._bufVerticesIndizes);this._bufVerticesIndizes=null;this._disposeAttributes()};const L={};L.getSimpleRect=function(e,t,n=1){const r=new c(t);r.vertices=[1*n,1*n,0,-1*n,1*n,0,1*n,-1*n,0,-1*n,-1*n,0];r.texCoords=[1,1,0,1,1,0,0,0];r.verticesIndices=[0,1,2,2,1,3];r.vertexNormals=[0,0,0,0,0,0,0,0,0,0,0,0];return e.createMesh(r)};L.getSimpleCube=function(e,t){const n=new c(t);n.vertices=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,1,-1,1,1,-1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,1,1,1,1,1,1,-1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1];n.setTexCoords([0,1,1,1,1,0,0,0,1,1,1,0,0,0,0,1,0,0,0,1,1,1,1,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,0,0,0]);n.verticesIndices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];n.vertexNormals=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]);n.tangents=new Float32Array([0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1]);n.biTangents=new Float32Array([-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1]);return new E(e,n)};class D{constructor(e,t,n){this.cgl=e;this._options=n;this.fb=null;let r=n.shader;this._useDefaultShader=true;if(n.shader)this._useDefaultShader=false;n.numRenderBuffers=n.numRenderBuffers||1;if(!r){r="".endl()+"IN vec2 texCoord;";for(let e=0;e<n.numRenderBuffers;e++){r=r.endl()+"UNI sampler2D tex"+e+";".endl()}r=r.endl()+"void main()".endl()+"{";if(n.numRenderBuffers==1){r=r.endl()+"    outColor= texture(tex0,texCoord);".endl()}else for(let e=0;e<n.numRenderBuffers;e++){r=r.endl()+"outColor"+e+" = texture(tex"+e+",texCoord);".endl()}r=r.endl()+"}"}const a=n.vertexShader||"".endl()+"IN vec3 vPosition;".endl()+"IN vec2 attrTexCoord;".endl()+"OUT vec2 texCoord;".endl()+"void main()".endl()+"{".endl()+"   texCoord=attrTexCoord;".endl()+"   gl_Position = vec4(vPosition,  1.0);".endl()+"}";this.bgShader=new CGL.Shader(e,"corelib copytexture "+t);this.bgShader.setSource(a,r);if(!n.vertexShader)this.bgShader.ignoreMissingUniforms=true;new CGL.Uniform(this.bgShader,"t","tex",0);new CGL.Uniform(this.bgShader,"t","tex1",1);new CGL.Uniform(this.bgShader,"t","tex2",2);new CGL.Uniform(this.bgShader,"t","tex3",3);this.mesh=L.getSimpleRect(this.cgl,"texEffectRect")}setSize(e,t){this._options.width=e;this._options.height=t}copy(e,t,n,r,a){const i=this.cgl;if(!e)e=CGL.Texture.getEmptyTexture(this.cgl);let o=this._options.width||e.width,s=this._options.height||e.height;if(this.fb){if(o<=0)o=8;if(s<=0)s=8;if(this.fb.getWidth()!=o||this.fb.getHeight()!=s)this.fb.setSize(o,s)}else{let e=CGL.Texture.FILTER_LINEAR;let t=CGL.Texture.WRAP_CLAMP_TO_EDGE;if(this._options.isFloatingPointTexture)e=CGL.Texture.FILTER_NEAREST;if(this._options.hasOwnProperty("filter"))e=this._options.filter;if(this._options.hasOwnProperty("wrap"))t=this._options.wrap;const u={isFloatingPointTexture:this._options.isFloatingPointTexture,pixelFormat:this._options.pixelFormat,numRenderBuffers:this._options.numRenderBuffers||1,filter:e,wrap:t};if(i.glVersion==1)this.fb=new CGL.Framebuffer(i,o,s,u);else this.fb=new CGL.Framebuffer2(i,o,s,u)}i.frameStore.renderOffscreen=true;this.fb.renderStart(i);i.setTexture(0,e.tex);if(t)i.setTexture(1,t.tex);if(n)i.setTexture(2,n.tex);if(r)i.setTexture(3,r.tex);if(a)i.setTexture(4,a.tex);i.pushShader(this.bgShader);this.mesh.render(this.bgShader);i.popShader();this.fb.renderEnd();i.frameStore.renderOffscreen=false;return this.fb.getTextureColor()}dispose(){if(this.fb)this.fb.dispose();if(this.bgShader)this.bgShader.dispose();if(this.mesh)this.mesh.dispose()}}CGL.CopyTexture=D;((this.CGL=this.CGL||{}).COREMODULES=this.CGL.COREMODULES||{}).Copytexture=e.Copytexture})();(()=>{"use strict";var e={};class t{constructor(e,t,n){this._cgl=e;this._name=t;this._origShaders={};this._uniforms=[];this._structUniforms=[];this._definesToggled={};this._defines={};this._mods=[];this._textures=[];this._boundShader=null;this._changedDefines=true;this._changedUniforms=true;this._modulesChanged=false;this.needsTexturePush=false;this._lastShader=null;this._attributes=[];if(n&&n.opId)this.opId=n.opId;if(this._cgl.glVersion==1){this._cgl.enableExtension("OES_texture_float");this._cgl.enableExtension("OES_texture_float_linear");this._cgl.enableExtension("OES_texture_half_float");this._cgl.enableExtension("OES_texture_half_float_linear")}}bind(e,t){const n=e||this._cgl.getShader();if(!n)return;this._boundShader=this._origShaders[n.id];let r=false;if(this._boundShader&&this._lastShader!=this._boundShader.shader){if(!this._boundShader.shader.hasModule(this._mods[0].id))r=true}if(r||!this._boundShader||n.lastCompile!=this._boundShader.lastCompile||this._modulesChanged||n._needsRecompile){if(this._boundShader)this._boundShader.shader.dispose();if(n._needsRecompile)n.compile();this.needsTexturePush=true;this._boundShader=this._origShaders[n.id]={lastCompile:n.lastCompile,orig:n,shader:n.copy()};this._addModulesToShader(this._boundShader.shader);this._updateDefinesShader(this._boundShader.shader);this._updateUniformsShader(this._boundShader.shader)}this._boundShader.wireframe=n.wireframe;if(this._changedDefines)this._updateDefines();if(this._changedUniforms)this._updateUniforms();if(t!==false)this._cgl.pushShader(this._boundShader.shader);this._boundShader.shader.copyUniformValues(this._boundShader.orig);if(this.needsTexturePush){for(let e=0;e<this._textures.length;e++){const a=this._textures[e][0];const i=this._textures[e][1];const o=this._textures[e][2];if(this._getUniform(a)){const s=this.getPrefixedName(a);const u=this._boundShader.shader.getUniform(s);if(u)this._boundShader.shader.pushTexture(u,i,o)}}this.needsTexturePush=false;this._textures.length=0}this._modulesChanged=false;this._boundShader.shader.fromMod=this;if(this.onBind)this.onBind(this._boundShader.shader);return this._boundShader.shader}unbind(e){if(this._boundShader){if(e!==false)this._cgl.popShader()}this._boundShader=null}_addModulesToShader(t){let n;if(this._mods.length>1)n=this._mods[0];for(let e=0;e<this._mods.length;e++)t.addModule(this._mods[e],n)}_removeModulesFromShader(e){for(const t in this._origShaders)this._origShaders[t].shader.removeModule(e)}addModule(e){this._mods.push(e);this._modulesChanged=true}removeModule(t){const n=[];let r=false;for(let e=0;e<this._mods.length;e++){if(this._mods[e].title==t){r=true;this._removeModulesFromShader(this._mods[e]);n.push(e)}}for(let e=n.length-1;e>=0;e-=1)this._mods.splice(n[e],1);this._modulesChanged=true}_updateUniformsShader(r){for(let e=0;e<this._uniforms.length;e++){const t=this._uniforms[e];const n=this.getPrefixedName(t.name);if(!r.hasUniform(n)&&!t.structName){let e=null;if(t.shaderType==="both"){e=r.addUniformBoth(t.type,n,t.v1,t.v2,t.v3,t.v4);e.comment="mod: "+this._name}else if(t.shaderType==="frag"){e=r.addUniformFrag(t.type,n,t.v1,t.v2,t.v3,t.v4);e.comment="mod: "+this._name}else if(t.shaderType==="vert"){e=r.addUniformVert(t.type,n,t.v1,t.v2,t.v3,t.v4);e.comment="mod: "+this._name}}}for(let n=0;n<this._structUniforms.length;n+=1){const a=this._structUniforms[n];let e=a.uniformName;let t=a.structName;const i=a.members;e=this.getPrefixedName(a.uniformName);t=this.getPrefixedName(a.structName);if(a.shaderType==="frag"){r.addUniformStructFrag(t,e,i)}if(a.shaderType==="vert"){r.addUniformStructVert(t,e,i)}if(a.shaderType==="both"){r.addUniformStructBoth(t,e,i)}}}_updateUniforms(){for(const e in this._origShaders)this._updateUniformsShader(this._origShaders[e].shader);this._changedUniforms=false}_setUniformValue(e,t,n){const r=e.getUniform(t);if(r)r.setValue(n)}setUniformValue(e,t){const n=this._getUniform(e);if(!n)return;const r=this.getPrefixedName(e);for(const a in this._origShaders){this._setUniformValue(this._origShaders[a].shader,r,t)}}hasUniform(e){return this._getUniform(e)}_getUniform(t){for(let e=0;e<this._uniforms.length;e++){if(this._uniforms[e].name==t)return this._uniforms[e];if(this._uniforms[e].structName){if(this._uniforms[e].propertyName==t)return this._uniforms[e]}}return false}_getStructUniform(t){for(let e=0;e<this._structUniforms.length;e+=1)if(this._structUniforms[e].uniformName===t)return this._structUniforms[e];return null}_isStructUniform(t){for(let e=0;e<this._uniforms.length;e++){if(this._uniforms[e].name==t)return false;if(this._uniforms[e].structName){if(this._uniforms[e].propertyName==t)return true}}return false}addUniform(t,n,r,a,i,o,s,u,l,p){if(!this._getUniform(n)){let e="both";if(p)e=p;this._uniforms.push({type:t,name:n,v1:r,v2:a,v3:i,v4:o,structUniformName:s,structName:u,propertyName:l,shaderType:e});this._changedUniforms=true}}addUniformFrag(e,t,n,r,a,i){this.addUniform(e,t,n,r,a,i,null,null,null,"frag");this._changedUniforms=true}addUniformVert(e,t,n,r,a,i){this.addUniform(e,t,n,r,a,i,null,null,null,"vert");this._changedUniforms=true}addUniformBoth(e,t,n,r,a,i){this.addUniform(e,t,n,r,a,i,null,null,null,"both");this._changedUniforms=true}addUniformStruct(t,n,r,a){for(let e=0;e<r.length;e+=1){const i=r[e];if((i.type==="2i"||i.type==="i"||i.type==="3i")&&a==="both")console.error("Adding an integer struct member to both shaders can potentially error. Please use different structs for each shader. Error occured in struct:",t," with member:",i.name," of type:",i.type,".");if(!this._getUniform(n+"."+i.name)){this.addUniform(i.type,n+"."+i.name,i.v1,i.v2,i.v3,i.v4,n,t,i.name,a)}}if(!this._getStructUniform(n)){this._structUniforms.push({structName:t,uniformName:n,members:r,shaderType:a})}}addUniformStructVert(e,t,n){this.addUniformStruct(e,t,n,"vert")}addUniformStructFrag(e,t,n){this.addUniformStruct(e,t,n,"frag")}addUniformStructBoth(e,t,n){this.addUniformStruct(e,t,n,"both")}addAttribute(t){for(let e=0;e<this._attributes.length;e++){if(this._attributes[e].name==t.name&&this._attributes[e].nameFrag==t.nameFrag)return}this._attributes.push(t)}pushTexture(e,t,n){if(!t)throw new Error("no texture given to texturestack");this._textures.push([e,t,n]);this.needsTexturePush=true}_removeUniformFromShader(e,t){if(t.hasUniform(e))t.removeUniform(e)}removeUniform(t){if(this._getUniform(t)){for(let e=this._uniforms.length-1;e>=0;e-=1){const n=t;if(this._uniforms[e].name==t&&!this._uniforms[e].structName){for(const r in this._origShaders){this._removeUniformFromShader(this.getPrefixedName(n),this._origShaders[r].shader)}this._uniforms.splice(e,1)}}this._changedUniforms=true}}removeUniformStruct(t){if(this._getStructUniform(t)){for(let e=this._structUniforms.length-1;e>=0;e-=1){const n=this._structUniforms[e];if(n.uniformName===t){for(const r in this._origShaders){for(let e=0;e<n.members.length;e+=1){const a=n.members[e];this._removeUniformFromShader(this.getPrefixedName(a.name),this._origShaders[r].shader)}}this._structUniforms.splice(e,1)}}this._changedUniforms=true}}getPrefixedName(e){const t=this._mods[0].group;if(t===undefined){return}if(e.startsWith("MOD_")){e=e.substr("MOD_".length);e="mod"+t+"_"+e}return e}_updateDefinesShader(e){for(const t in this._defines){const n=this.getPrefixedName(t);if(this._defines[t]!==null&&this._defines[t]!==undefined)e.define(n,this._defines[t]);else e.removeDefine(n)}for(const t in this._definesToggled){const n=this.getPrefixedName(t);e.toggleDefine(n,this._definesToggled[t])}}_updateDefines(){for(const e in this._origShaders)this._updateDefinesShader(this._origShaders[e].shader);this._changedDefines=false}define(e,t){if(t===undefined)t=true;this._defines[e]=t;this._changedDefines=true}removeDefine(e){this._defines[e]=null;this._changedDefines=true}hasDefine(e){if(this._defines[e]!==null&&this._defines[e]!==undefined)return true;return false}toggleDefine(e,t){this._changedDefines=true;this._definesToggled[e]=t}currentShader(){if(!this._boundShader)return null;return this._boundShader.shader}dispose(){}}CGL.ShaderModifier=t;((this.CGL=this.CGL||{}).COREMODULES=this.CGL.COREMODULES||{}).Shadermodifier=e.Shadermodifier})();